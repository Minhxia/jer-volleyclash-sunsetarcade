(()=>{"use strict";var e={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},d:(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var i=e.n(t);class s extends i().Scene{constructor(){super("Menu_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.image("fondoMenuPrincipal","ASSETS/FONDOS/MENU_PRINCIPAL.png"),this.load.image("logoEmpresa","ASSETS/LOGO/logo_empresa.png"),this.load.audio("sonidoGeneral","ASSETS/SONIDO/SONIDO1.mp3"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const e=this.game.globals.defaultTextStyle,t=parseFloat(localStorage.getItem("volume"))||1;this.game.globals.music?this.game.globals.music.setVolume(t):(this.game.globals.music=this.sound.add("sonidoGeneral",{loop:!0,volume:t}),this.game.globals.music.play());const{width:s,height:r}=this.scale,a=s/2,o=r/2-60,n=a+a/2;this.add.image(0,0,"fondoMenuPrincipal").setOrigin(0).setDepth(-1),this.add.text(n,100,"Volley Clash",{...e,fontSize:"32px",color:"#ffffff"}).setOrigin(.5);const h=this.add.sprite(n,o,"botonSinSeleccionar").setScale(2).setInteractive({useHandCursor:!0}),l=this.add.text(0,0,"Jugar",{...e,fontSize:"20px",color:"#000000"});i().Display.Align.In.Center(l,h),h.on("pointerover",()=>{h.setTexture("botonSeleccionado")}),h.on("pointerout",()=>{h.setTexture("botonSinSeleccionar")}),h.on("pointerdown",()=>{h.setTexture("botonSeleccionado")}),h.on("pointerup",()=>{this.scene.start("ModeGame_Scene")});const c=this.add.sprite(n,o+70,"botonSinSeleccionar").setScale(2).setInteractive({useHandCursor:!0}),d=this.add.text(0,0,"Configuración",{...e,fontSize:"20px",color:"#000000"});i().Display.Align.In.Center(d,c),c.on("pointerover",()=>{c.setTexture("botonSeleccionado")}),c.on("pointerout",()=>{c.setTexture("botonSinSeleccionar")}),c.on("pointerdown",()=>{c.setTexture("botonSeleccionado")}),c.on("pointerup",()=>{this.scene.start("Configuration_Scene")});const p=this.add.sprite(n,o+140,"botonSinSeleccionar").setScale(2).setInteractive({useHandCursor:!0}),S=this.add.text(0,0,"Créditos",{...e,fontSize:"20px",color:"#000000"});i().Display.Align.In.Center(S,p),p.on("pointerover",()=>{p.setTexture("botonSeleccionado")}),p.on("pointerout",()=>{p.setTexture("botonSinSeleccionar")}),p.on("pointerdown",()=>{p.setTexture("botonSeleccionado")}),p.on("pointerup",()=>{this.scene.start("Credits_Scene")}),this.add.image(this.scale.width-20,this.scale.height-20,"logoEmpresa").setScale(.5).setOrigin(1,1);const m=e=>{e.on("pointerdown",()=>{const e=parseFloat(localStorage.getItem("volume"))||1;this.sound.play("sonidoClick",{volume:e})})};m(h),m(c),m(p)}}class r{constructor(e,t,i,s,r){this.scene=e,this.id=t,this.characterType=r,this.moveSpeed=250,this.jumpSpeed=275,this.activePowerUps={},this.isParalyzed=!1,this.paralysisTween=null,this.speedEffectActive=!1,this.slowEffectActive=!1,this.scoreMultiplier=1,this.multiplierText=this.scene.add.text(i,s-50,"",{fontFamily:"Arial",fontSize:"20px",color:"#ffffff",stroke:"#000000",strokeThickness:4}).setOrigin(.5,1).setDepth(20).setVisible(!1),this.powerUpInventory=[],this.isReceiving=!1,this.boundsLeft=0,this.boundsRight=960,this.boundsTop=0,this.boundsBottom=540;const a={characterA:{textureKey:"charA_move",startFrame:0,idleLeftAnim:"charA_idleLeft",idleRightAnim:"charA_idleRight",runLeftAnim:"charA_runLeft",runRightAnim:"charA_runRight",jumpLeftAnim:"charA_jumpLeft",jumpRightAnim:"charA_jumpRight",receiveLeftAnim:"charA_receiveLeft",receiveRightAnim:"charA_receiveRight"},characterB:{textureKey:"charB_move",startFrame:0,idleLeftAnim:"charB_idleLeft",idleRightAnim:"charB_idleRight",runLeftAnim:"charB_runLeft",runRightAnim:"charB_runRight",jumpLeftAnim:"charB_jumpLeft",jumpRightAnim:"charB_jumpRight",receiveLeftAnim:"charB_receiveLeft",receiveRightAnim:"charB_receiveRight"},characterC:{textureKey:"charC_move",startFrame:0,idleLeftAnim:"charC_idleLeft",idleRightAnim:"charC_idleRight",runLeftAnim:"charC_runLeft",runRightAnim:"charC_runRight",jumpLeftAnim:"charC_jumpLeft",jumpRightAnim:"charC_jumpRight",receiveLeftAnim:"charC_receiveLeft",receiveRightAnim:"charC_receiveRight"}};this.config=a[r]||a.characterA,this.sprite=this.scene.physics.add.sprite(i,s,this.config.textureKey,this.config.startFrame),this.sprite.setScale(2.5),this.sprite.body.setSize(.9*this.sprite.width,.9*this.sprite.height,!0),this.sprite.setData("player",this),this.facing="right",this.isOnGround=!1,this.isJumping=!1,this.jumpStartTime=0,this.sprite.on("animationcomplete",e=>{try{e.key!==this.config.receiveLeftAnim&&e.key!==this.config.receiveRightAnim||(this.isReceiving=!1)}catch(t){console.error(`Animation complete handler error for ${e.key}:`,t)}})}isGrounded(){const e=this.sprite.body;return!!e&&(e.blocked.down||e.touching.down)}isNearGround(e=12){const t=this.sprite.body;if(!t)return!1;if("number"!=typeof this.scene.groundY)return!1;const i=t.y+t.height;return Math.abs(i-this.scene.groundY)<=e}moveLeft(){this.isParalyzed||this.isReceiving||(this.sprite.setVelocityX(-this.moveSpeed),this.facing="left",this.playAnimation(this.config.runLeftAnim))}moveRight(){this.isParalyzed||this.isReceiving||(this.sprite.setVelocityX(this.moveSpeed),this.facing="right",this.playAnimation(this.config.runRightAnim))}jumpLeft(){this.isParalyzed||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!1,this.isJumping=!0,this.jumpStartTime=this.scene.time.now,this.sprite.setVelocityY(-this.jumpSpeed),this.facing="left",this.playAnimation(this.config.jumpLeftAnim))}jumpRight(){this.isParalyzed||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!1,this.isJumping=!0,this.jumpStartTime=this.scene.time.now,this.sprite.setVelocityY(-this.jumpSpeed),this.facing="right",this.playAnimation(this.config.jumpRightAnim))}receiveLeft(){this.isParalyzed||this.isReceiving||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!0,this.sprite.setVelocityX(0),this.facing="left",this.playAnimation(this.config.receiveLeftAnim))}receiveRight(){this.isParalyzed||this.isReceiving||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!0,this.sprite.setVelocityX(0),this.facing="right",this.playAnimation(this.config.receiveRightAnim))}idleLeft(){this.isReceiving||(this.sprite.setVelocityX(0),this.facing="left",this.playAnimation(this.config.idleLeftAnim))}idleRight(){this.isReceiving||(this.sprite.setVelocityX(0),this.facing="right",this.playAnimation(this.config.idleRightAnim))}setBounds(e,t,i,s){this.boundsLeft=e,this.boundsRight=t,this.boundsTop=i,this.boundsBottom=s}clampWithinBounds(){const e=this.sprite.width/2;this.sprite.x-e<this.boundsLeft&&(this.sprite.x=this.boundsLeft+e,this.sprite.setVelocityX(0)),this.sprite.x+e>this.boundsRight&&(this.sprite.x=this.boundsRight-e,this.sprite.setVelocityX(0))}setPosition(e,t){this.sprite&&(this.sprite.setPosition(e,t),this.sprite.setVelocity(0,0),this.updateMultiplierTextPosition())}updateMultiplierTextPosition(){if(!this.multiplierText||!this.sprite)return;const e=.6*(this.sprite.displayHeight||this.sprite.height||40);this.multiplierText.setPosition(this.sprite.x,this.sprite.y-e)}playAnimation(e){if(!e)return;if(!this.sprite.anims)return;if(this.isJumping&&e!==this.config.jumpLeftAnim&&e!==this.config.jumpRightAnim)return;const t=this.sprite.anims.currentAnim;this.sprite.anims.isPlaying&&t&&t.key===e||this.sprite.anims.play(e,!0)}update(){if(this.sprite.body){const e=this.isOnGround;this.isOnGround=this.isGrounded();const t=this.sprite.anims.currentAnim,i=t?t.key:null;this.isParalyzed&&this.sprite.setVelocityX(0),this.isReceiving&&i!==this.config.receiveLeftAnim&&i!==this.config.receiveRightAnim&&(this.isReceiving=!1),this.isJumping&&i&&i!==this.config.jumpLeftAnim&&i!==this.config.jumpRightAnim&&(this.isJumping=!1),this.isJumping&&this.scene.time.now-this.jumpStartTime>1500&&(this.isJumping=!1),this.isJumping&&!e&&this.isOnGround&&(this.isJumping=!1,"left"===this.facing?this.idleLeft():this.idleRight())}this.clampWithinBounds(),this.updateMultiplierTextPosition()}applyPowerUp(e){return!(this.powerUpInventory.length>=2||(this.powerUpInventory.push(e),0))}useNextPowerUp(){if(0===this.powerUpInventory.length)return;const e=this.powerUpInventory.shift();this._activatePowerUp(e)}_activatePowerUp(e){const t=this.scene.time.now;switch(e){case"velocidad":this.moveSpeed*=1.5,this.setSpeedEffect(!0);break;case"ralentizar":const e=this.getOpponent();e&&(e.moveSpeed*=.5,e.setSlowEffect(!0));break;case"paralizar":const t=this.getOpponent();t&&t.setParalyzed(!0)}this.activePowerUps[e]=t+1e4,"por2"!==e&&"por3"!==e||this.recalculateScoreEffect()}updatePowerUps(){const e=this.scene.time.now;let t=!1;for(const i in this.activePowerUps)if(e>this.activePowerUps[i]){switch(i){case"velocidad":this.moveSpeed/=1.5,this.setSpeedEffect(!1);break;case"ralentizar":const e=this.getOpponent();e&&(e.moveSpeed/=.5,e.setSlowEffect(!1));break;case"paralizar":const i=this.getOpponent();i&&i.setParalyzed(!1);break;case"por2":case"por3":t=!0}delete this.activePowerUps[i]}t&&this.recalculateScoreEffect()}setParalyzed(e){this.isParalyzed=e,e?(this.sprite.setTint(16733525),this.sprite.setAlpha(1),this.paralysisTween&&(this.paralysisTween.stop(),this.paralysisTween=null),this.paralysisTween=this.scene.tweens.add({targets:this.sprite,alpha:.3,yoyo:!0,duration:200,repeat:-1}),this.sprite.setVelocityX(0)):(this.sprite.setAlpha(1),this.paralysisTween&&(this.paralysisTween.stop(),this.paralysisTween=null),this.refreshPowerUpVisuals())}setSpeedEffect(e){this.speedEffectActive=e,this.refreshPowerUpVisuals()}setSlowEffect(e){this.slowEffectActive=e,this.refreshPowerUpVisuals()}recalculateScoreEffect(){let e=1;this.activePowerUps.por2&&(e=Math.max(e,2)),this.activePowerUps.por3&&(e=Math.max(e,3)),this.scoreMultiplier=e,this.multiplierText&&(this.scoreMultiplier>1?(this.multiplierText.setText("x"+this.scoreMultiplier),this.multiplierText.setVisible(!0)):this.multiplierText.setVisible(!1)),this.refreshPowerUpVisuals()}refreshPowerUpVisuals(){this.isParalyzed||(this.slowEffectActive?this.sprite.setTint(5592575):this.speedEffectActive?this.sprite.setTint(5636061):this.scoreMultiplier>1?this.sprite.setTint(16768341):this.sprite.clearTint())}getOpponent(){return this.scene.players?Array.from(this.scene.players.values()).find(e=>e!==this):null}}class a{constructor(e,t){this.player=e,this.powerUpType=t}execute(){this.player.applyPowerUp(this.powerUpType)}}class o{constructor(e,t,i,s){this.scene=e,this.type=s,this.sprite=e.physics.add.staticImage(t,i,s).setScale(1.2).setInteractive(),this.spawnTime=e.time.now,this.fadeStart=3e3,this.lifetime=5e3,this.isCollected=!1,this.scene.tweens.add({targets:this.sprite,alpha:0,delay:this.fadeStart,duration:this.lifetime-this.fadeStart}),e.players.forEach(t=>{e.physics.add.overlap(t.sprite,this.sprite,()=>this.collect(t),null,this)}),this._lifetimeTimer=e.time.delayedCall(this.lifetime,()=>{this.destroy()})}collect(e){this.isCollected||(this.isCollected=!0,this.scene.commandProcessor.process(new a(e,this.type)),this.destroy(),this.scene.updatePlayerInventoryUI&&this.scene.updatePlayerInventoryUI(e))}destroy(){if(!this._destroyed){if(this._destroyed=!0,this.fadeTween&&(this.fadeTween.stop(),this.fadeTween=null),this._lifetimeTimer&&(this._lifetimeTimer.remove(!1),this._lifetimeTimer=null),this.sprite&&this.sprite.destroy){try{this.sprite.destroy()}catch(e){}this.sprite=null}Array.isArray(this.scene.powerUps)&&(this.scene.powerUps=this.scene.powerUps.filter(e=>e!==this))}}}class n{constructor(e,t,i){this.scene=e,this.players=null,this.commandProcessor=null,this.sprite=e.physics.add.sprite(t,i,"ball"),this.sprite.setScale(1),this.sprite.setBounce(.8),this.sprite.setCollideWorldBounds(!0),this.sprite.setData("ball",this),this.lastTouchedBy=null,this.touchCount=0,this.courtSide="left",this.isBallLive=!0,this.netX=480,this.lastHitTime=0,this.lastHitPlayerId=null,this.isFirstServe=!0}hit(e,t,i,s=!1){if(!this.isBallLive)return;const r=this.scene.time.now;if(this.lastHitPlayerId===e.id&&r-this.lastHitTime<120)return;if(this.lastHitPlayerId=e.id,this.lastHitTime=r,this.lastTouchedBy===e.id?this.touchCount++:(this.touchCount=1,this.lastTouchedBy=e.id),this.touchCount>3)return void this.onFalta("toqueExcedido",e);let a,o;if(s){const e=180;a="left"===t?-e:e,o=-350}else if(i){const e=220;a="left"===t?-e:e,o=-150}else{const e=200;a="left"===t?-e:e,o=-100}this.sprite.setVelocity(a,o),a>0?this.courtSide="right":a<0&&(this.courtSide="left")}crossNet(){this.touchCount=0,this.lastTouchedBy=null,this.courtSide="left"===this.courtSide?"right":"left"}onGrounded(){if(!this.isBallLive)return;const e=this.sprite.x<this.netX,t=this.sprite.x>this.netX;e?(this.onRallyEnd("player2"),this.resetRally("player1")):t&&(this.onRallyEnd("player1"),this.resetRally("player2"))}onFalta(e,t){if(!this.isBallLive)return;const i="player1"===t.id?"player2":"player1";this.onRallyEnd(i),this.resetRally()}onRallyEnd(e){this.isBallLive=!1,this.scene.events.emit("rallyConcluded",{scoringPlayerId:e,touchCount:this.touchCount,lastTouchedBy:this.lastTouchedBy})}resetRally(e){this.isBallLive=!0,this.lastTouchedBy=null,this.touchCount=0,this.sprite.setPosition(this.netX,100),this.sprite.setVelocity(0,0),this.lastHitTime=0,this.lastHitPlayerId=null,this.isFirstServe?(this.sprite.setPosition(this.netX-100,100),this.isFirstServe=!1):"player1"===e?this.sprite.setPosition(this.netX+100,100):this.sprite.setPosition(this.netX-100,100),this.sprite.setVelocity(0,0)}update(){this.isBallLive&&(this.sprite.x<this.netX-20?this.courtSide="left":this.sprite.x>this.netX+20&&(this.courtSide="right"))}}class h{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class l{execute(){}serialize(){}getPlayer(){}}class c extends l{constructor(e,t){super(),this.player=e,this.direction=t}execute(){switch(this.direction){case"left":this.player.moveLeft();break;case"right":this.player.moveRight();break;case"jumpLeft":this.player.jumpLeft();break;case"jumpRight":this.player.jumpRight();break;case"receiveLeft":this.player.receiveLeft();break;case"receiveRight":this.player.receiveRight();break;case"idleLeft":this.player.idleLeft();break;default:this.player.idleRight()}}getPlayer(){return this.player.id}serialize(){return{type:"MovePlayerCommand",playerId:this.player.id,direction:this.direction}}}class d extends i().Scene{tiempoTotal=60;tiempoRestante=this.tiempoTotal;timerText;timerEvent;constructor(){super("Game_Scene")}init(e){this.players=new Map,this.inputMappings=[],this.commandProcessor=new h,this.player1=e.player1,this.player2=e.player2,this.selectedScenario=e.selectedScenario,this.ball=null,this.scoreP1=0,this.scoreP2=0,this.setsP1=0,this.setsP2=0,this.maxSets=3,this.currentSet=1}preload(){this.load.spritesheet("charA_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_A/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charA_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_A/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.spritesheet("charB_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_B/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charB_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_B/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.spritesheet("charC_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_C/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charC_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_C/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.image("Gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("Playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("Jardin","ASSETS/FONDOS/JARDIN.png"),this.load.image("por2","ASSETS/ITEMS/POWER UPS/MULTIPLICADOR 2.png"),this.load.image("por3","ASSETS/ITEMS/POWER UPS/MULTIPLICADOR 3.png"),this.load.image("paralizar","ASSETS/ITEMS/POWER UPS/PARALIZADO.png"),this.load.image("ralentizar","ASSETS/ITEMS/POWER UPS/RELENTIZAR.png"),this.load.image("velocidad","ASSETS/ITEMS/POWER UPS/VELOCIDAD.png"),this.load.image("marcoPowerUp","ASSETS/JUEGO/Base_powerUp.png"),this.load.image("ball","ASSETS/ITEMS/PELOTAS/P_NORMAL.png"),this.load.image("reloj","ASSETS/JUEGO/TIMER.png"),this.load.image("marcoGeneral","ASSETS/JUEGO/MARCADOR_SET.png"),this.load.image("red","ASSETS/JUEGO/RED.png")}create(){const{width:e,height:t}=this.scale;this.worldWidth=e,this.worldHeight=t;const s=this.game.globals.defaultTextStyle;this.timerText=this.add.text(this.scale.width/2,30,"",{...s,fontSize:"32px",color:"#ffffff"}).setOrigin(.5,0).setScrollFactor(0).setDepth(9999),this.timerIcon=this.add.image(this.scale.width/2,45,"reloj").setOrigin(.5).setScale(2).setScrollFactor(0).setDepth(9e3),this.setFrame=this.add.image(this.scale.width/2,120,"marcoGeneral").setOrigin(.5).setScale(1).setDepth(9998),this.setText=this.add.text(this.scale.width/2,120,`SET ${this.currentSet}`,{...s,fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setDepth(9999),this.setWinnerText=this.add.text(this.scale.width/2,185,"",{...s,fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5).setDepth(9999).setVisible(!1),this.timerEvent=this.time.addEvent({delay:1e3,callback:this.updateTimer,callbackScope:this,loop:!0}),this.updateTimer(),this.add.image(e/2,t/2,this.selectedScenario).setOrigin(.5).setDisplaySize(e,t).setDepth(-1);const r=this.physics.add.staticSprite(e/2,t-160,"red").setScale(.6),a=this.textures.get("red").getSourceImage();r.body.setSize(.5*a.width,.5*a.height),r.body.setOffset(-r.body.width/2,-r.body.height/2),r.body.updateFromGameObject(),this.red=r,this._createAnimations(),this.pointsLeft=0,this.pointsRight=0,this.scoreFrameLeft=this.add.image(200,50,"marcoGeneral").setScale(.8,.55).setOrigin(.5),this.scoreFrameRight=this.add.image(this.worldWidth-200,50,"marcoGeneral").setScale(.8,.55).setOrigin(.5),this.scoreLeft=this.add.text(200,45,"0",{...s,fontSize:"40px",color:"#ffffffff"}).setOrigin(.5).setDepth(9999),this.rightScore=this.add.text(this.worldWidth-200,45,"0",{...s,fontSize:"40px",color:"#ffffffff"}).setOrigin(.5).setDepth(9999),this.groundHeight=20,this.groundY=this.worldHeight-90;const n=this.add.rectangle(this.worldWidth/2,this.groundY,this.worldWidth,20).setOrigin(.5,0).setVisible(!1);this.physics.add.existing(n,!0),this._createPlayers(),this._setupPhysicsWorld(n),this._setupInputMappings(),this.powerUps=[],this.maxPowerUps=2,this.inventoryUI={player1:[this.add.image(50,50,"").setScale(1.4).setVisible(!1).setDepth(1),this.add.image(110,50,"").setScale(1.4).setVisible(!1).setDepth(1)],player2:[this.add.image(this.worldWidth-110,50,"").setScale(1.4).setVisible(!1).setDepth(1),this.add.image(this.worldWidth-50,50,"").setScale(1.4).setVisible(!1).setDepth(1)]},this.inventoryFrames={player1:[this.add.image(50,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0),this.add.image(110,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0)],player2:[this.add.image(this.worldWidth-110,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0),this.add.image(this.worldWidth-50,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0)]},this.time.addEvent({delay:i().Math.Between(2e3,5e3),loop:!0,callback:()=>{if(this.powerUps.length>=this.maxPowerUps)return;const e=i().Math.Between(80,this.worldWidth-80),t=i().Math.Between(this.worldHeight-220,this.worldHeight-120),s=i().Utils.Array.GetRandom(["velocidad","ralentizar","paralizar","por2","por3"]),r=new o(this,e,t,s);this.powerUps.push(r),this.players.forEach(e=>{this.physics.add.overlap(e.sprite,r.sprite,()=>{e.applyPowerUp(s)&&(r.destroy(),this.powerUps=this.powerUps.filter(e=>e!==r),this.updatePlayerInventoryUI(e))})}),this.time.delayedCall(r.lifetime,()=>{this.powerUps=this.powerUps.filter(e=>e!==r)})}}),this._createBall(),this._setupBallCollisions(),this._setupBallEvents(),this.input.keyboard.on("keydown-ESC",()=>{this.scene.pause(),this.timerEvent.paused=!0,this.scene.launch("Pause_Scene")}),this.events.on("resume",()=>{this.timerEvent.paused=!1})}updateTimer(){this.tiempoRestante--;const e=Math.floor(this.tiempoRestante/60),t=this.tiempoRestante%60,i=`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`;this.timerText.setText(i),this.tiempoRestante<=0&&(this.timerEvent.paused=!0,console.log("FIN DEL TIEMPO"),this.scoreP1>this.scoreP2?this._endSet("player1"):this.scoreP2>this.scoreP1?this._endSet("player2"):(console.log("Empate en el set"),this._resetSet()))}update(){this._handleInputForAllPlayers(),this.players.forEach(e=>e.updatePowerUps()),this.ball&&(this.ball.update(),this.ball.isBallLive&&this.ball.sprite.y>this.groundY&&this.ball.onGrounded(),(this.ball.sprite.x<475&&"right"===this.ball.courtSide||this.ball.sprite.x>485&&"left"===this.ball.courtSide)&&this.ball.crossNet())}updatePlayerInventoryUI(e){const t=this.inventoryUI[e.id];for(let i=0;i<2;i++)e.powerUpInventory[i]?(t[i].setTexture(e.powerUpInventory[i]),t[i].setVisible(!0)):t[i].setVisible(!1)}_createAnimations(){this.anims.create({key:"charA_idleRight",frames:this.anims.generateFrameNumbers("charA_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charA_idleLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charA_receiveRight",frames:this.anims.generateFrameNumbers("charA_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charA_receiveLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charA_runRight",frames:this.anims.generateFrameNumbers("charA_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charA_runLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charA_jumpRight",frames:this.anims.generateFrameNumbers("charA_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charA_jumpLeft",frames:this.anims.generateFrameNumbers("charA_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charB_idleRight",frames:this.anims.generateFrameNumbers("charB_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charB_idleLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charB_receiveRight",frames:this.anims.generateFrameNumbers("charB_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charB_receiveLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charB_runRight",frames:this.anims.generateFrameNumbers("charB_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charB_runLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charB_jumpRight",frames:this.anims.generateFrameNumbers("charB_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charB_jumpLeft",frames:this.anims.generateFrameNumbers("charB_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charC_idleRight",frames:this.anims.generateFrameNumbers("charC_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charC_idleLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charC_receiveRight",frames:this.anims.generateFrameNumbers("charC_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charC_receiveLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charC_runRight",frames:this.anims.generateFrameNumbers("charC_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charC_runLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charC_jumpRight",frames:this.anims.generateFrameNumbers("charC_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charC_jumpLeft",frames:this.anims.generateFrameNumbers("charC_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0})}_createPlayers(){const e=this.player1.character,t=this.player2.character,i=new r(this,"player1",.25*this.worldWidth,this.groundY-100,e),s=new r(this,"player2",.75*this.worldWidth,this.groundY-100,t);this.players.set("player1",i),this.players.set("player2",s);const a=Math.floor(this.groundY);i.setBounds(80,455,50,a),s.setBounds(505,this.worldWidth-80,50,a),this.commandProcessor.setPlayers(this.players),this.commandProcessor.setGameScene(this),i.idleRight(),s.idleLeft()}_setupPhysicsWorld(e){this.players.forEach(t=>{this.physics.add.collider(t.sprite,e)}),this.players.forEach(t=>{this.physics.add.collider(t.sprite,this.red,()=>{console.log(`${t.id} tocó la red!`),t.sprite.setVelocityX(0)}),this.physics.add.collider(t.sprite,e)})}_setupInputMappings(){this.inputMappings=[{playerId:"player1",leftKey:"A",rightKey:"D",jumpKey:"W",receiveKey:"S",powerKey:"E"},{playerId:"player2",leftKey:"J",rightKey:"L",jumpKey:"I",receiveKey:"K",powerKey:"O"}].map(e=>({playerId:e.playerId,leftKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.rightKey]),jumpKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.jumpKey]),receiveKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.receiveKey]),powerKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.powerKey])}))}_handleInputForAllPlayers(){this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);if(!t)return;if(t.isParalyzed){const e="left"===t.facing?"idleLeft":"idleRight";return void this.commandProcessor.process(new c(t,e))}let s;if(s=e.leftKeyObj.isDown?"left":e.rightKeyObj.isDown?"right":"left"===t.facing?"idleLeft":"idleRight",t.isJumping||this.commandProcessor.process(new c(t,s)),i().Input.Keyboard.JustDown(e.receiveKeyObj)){const e="left"===t.facing?"receiveLeft":"receiveRight";this.commandProcessor.process(new c(t,e))}if(i().Input.Keyboard.JustDown(e.jumpKeyObj)){const e="left"===t.facing?"jumpLeft":"jumpRight";this.commandProcessor.process(new c(t,e))}i().Input.Keyboard.JustDown(e.powerKeyObj)&&(t.useNextPowerUp(),this.updatePlayerInventoryUI(t))}),this.players.forEach(e=>e.update())}_createBall(){this.ball=new n(this,this.worldWidth/2,150)}_setupBallCollisions(){this.players.forEach(e=>{this.physics.add.overlap(this.ball.sprite,e.sprite,()=>this._onBallPlayerCollision(this.ball,e),null,this)}),this.physics.add.collider(this.ball.sprite,this.red,()=>{console.log("La pelota toca la red!"),this.ball.sprite.setVelocityX(.5*this.ball.sprite.body.velocity.x),this.ball.sprite.setVelocityY(.5*this.ball.sprite.body.velocity.y)}),this.worldHeight,this.ball.sprite.setCollideWorldBounds(!0),this.ball.sprite.setBounce(.8)}_setupBallEvents(){this.events.on("rallyConcluded",e=>{console.log(`Rally concluded: ${e.scoringPlayerId} scores!`);const t=e.scoringPlayerId,i=this.players.get(t),s=i&&i.scoreMultiplier||1;"player1"===t?(this.pointsLeft+=s,this.scoreLeft.setText(this.pointsLeft.toString()),this.scoreP1+=s):"player2"===t&&(this.pointsRight+=s,this.rightScore.setText(this.pointsRight.toString()),this.scoreP2+=s),this._checkWinCondition()})}_onBallPlayerCollision(e,t){if(!e.isBallLive)return;const i=!t.sprite.body.blocked.down,s=t.isReceiving,r=t.facing;e.hit(t,r,i,s)}_endGame(e){this.timerEvent&&(this.timerEvent.remove(!1),this.timerEvent=null),this.physics&&this.physics.world&&this.physics.world.pause(),this.scene.start("EndGame_Scene",{winner:e,player1:this.player1,player2:this.player2})}_checkWinCondition(){const e=this.scoreP1-this.scoreP2;this.scoreP1>=11&&e>=2?this._endSet("player1"):this.scoreP2>=11&&e<=-2&&this._endSet("player2")}_endSet(e){"player1"===e?this.setsP1++:"player2"===e&&this.setsP2++,console.log(`Set terminado. Score sets: P1=${this.setsP1}, P2=${this.setsP2}`);const t="player1"===e?"Jugador 1":"Jugador 2";this.setWinnerText.setText(`Set para ${t}`),this.setWinnerText.setVisible(!0),this.currentSet++,2===this.setsP1||2===this.setsP2?this.time.delayedCall(2e3,()=>{this._endGame(e)}):this.time.delayedCall(2e3,()=>{this.setWinnerText&&this.setWinnerText.setVisible(!1),this._resetSet()})}_resetSet(){this.setText.setText(`SET ${this.currentSet}`),this.tiempoRestante=this.tiempoTotal,this.timerEvent.paused=!1,this.updateTimer(),this.scoreP1=0,this.scoreP2=0,this.pointsLeft=0,this.pointsRight=0,this.scoreLeft.setText("0"),this.rightScore.setText("0"),this.ball.resetRally();const e=this.players.get("player1"),t=this.players.get("player2");e.setPosition(.25*this.worldWidth,.7*this.worldHeight),t.setPosition(.75*this.worldWidth,.7*this.worldHeight),e.idleRight(),t.idleLeft()}}class p extends i().Scene{constructor(){super("Configuration_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("derTeclas","ASSETS/UI/CONTROLES/der.png"),this.load.image("izqTeclas","ASSETS/UI/CONTROLES/izq.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=e/2,s=this.game.globals.defaultTextStyle;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(i,.1*t,"Configuración",{...s,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5),this.add.text(i,.2*t,"Volumen",{...s,fontSize:"24px",color:"#000"}).setOrigin(.5),this.currentVolume=parseFloat(localStorage.getItem("volume"))||1,this.music=this.game.globals.music,this.music.setVolume(this.currentVolume),this.volumeSlider=this.add.dom(i,.25*t).createFromHTML(`\n            <input type="range" min="0" max="1" step="0.01" value="${this.currentVolume}"\n                style="width:200px; height:20px; accent-color:#00aaff; border-radius:5px;">\n        `),this.volumeSlider.addListener("input"),this.volumeSlider.addListener("change"),this.volumeSlider.on("input",e=>{const t=parseFloat(e.target.value);this.currentVolume=t,this.sound.volume=t,this.music.setVolume(t),localStorage.setItem("volume",t)});const r=.06*e,a=.08*t,o=this.add.sprite(r,a,"botonVolver").setScale(1).setInteractive({useHandCursor:!0});o.on("pointerover",()=>o.setScale(1.1)),o.on("pointerout",()=>o.setScale(1)),o.on("pointerdown",()=>{this.scene.start("Menu_Scene")});const n=this.add.graphics();n.lineStyle(3,0,1),n.beginPath(),n.moveTo(.1*e,.35*t),n.lineTo(.9*e,.35*t),n.strokePath(),this.add.text(i,.4*t,"Controles",{...s,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5),this.add.image(e/2+200,380,"derTeclas").setScale(.35).setOrigin(.5),this.add.image(e/2-200,380,"izqTeclas").setScale(.35).setOrigin(.5),(e=>{e.on("pointerdown",()=>{const e=parseFloat(localStorage.getItem("volume"))||1;this.sound.play("sonidoClick",{volume:e})})})(o)}}class S extends i().Scene{constructor(){super("Credits_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("logo","ASSETS/LOGO/Logo.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const e=this.game.globals.defaultTextStyle,{width:t,height:i}=(this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.scale),s=t/2;this.add.text(s,80,"Créditos",{...e,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5),["GRUPO 5 - SUNSET ARCADE","Sara Bueno Esteban","Antonio Morán Barrera","Cristine Nioka Tewo","Álvaro Ibáñez Montero"].forEach((t,i)=>{this.add.text(s,150+30*i,t,{...e,fontSize:"20px",color:"#5f0000ff"}).setOrigin(.5)});const r=.06*t,a=.08*i,o=this.add.sprite(r,a,"botonVolver").setScale(1).setInteractive({useHandCursor:!0});o.on("pointerdown",()=>{this.scene.start("Menu_Scene")}),this.add.image(t/2,400,"logo").setOrigin(.5).setScale(1.2),(e=>{e.on("pointerdown",()=>{const e=parseFloat(localStorage.getItem("volume"))||1;this.sound.play("sonidoClick",{volume:e})})})(o)}}class m extends i().Scene{constructor(){super("EndGame_Scene")}init(e){this.winner=e.winner,this.player1=e.player1,this.player2=e.player2}preload(){this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,s=this.game.globals.defaultTextStyle,r=this.player1.name,a=this.player2.name;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(e/2,.18*t,"¡FIN DEL PARTIDO!",{...s,fontSize:"64px",color:"#5f0000ff"}).setOrigin(.5);const o="player1"===this.winner?"Ganador: "+r:"Ganador: "+a;this.add.text(e/2,.4*t,o,{...s,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5);const n=this.add.sprite(e/2,.6*t,"botonSinSeleccionar").setScale(3).setInteractive({useHandCursor:!0}),h=this.add.text(0,0,"Volver a inicio",{...s,fontSize:"26px",color:"#000000"});i().Display.Align.In.Center(h,n),n.on("pointerdown",()=>{this.scene.start("Menu_Scene")}),n.on("pointerover",()=>{n.setTexture("botonSeleccionado")}),n.on("pointerout",()=>{n.setTexture("botonSinSeleccionar")}),(e=>{e.on("pointerdown",()=>{const e=parseFloat(localStorage.getItem("volume"))||1;this.sound.play("sonidoClick",{volume:e})})})(n)}}class u extends i().Scene{constructor(){super("ModeGame_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,s=this.game.globals.defaultTextStyle;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(e/2,100,"Modo de Juego",{...s,fontSize:"40px",color:"#000",fontStyle:"bold"}).setOrigin(.5);const r=e/2-125,a=this.add.sprite(r,250,"botonSinSeleccionar").setInteractive({useHandCursor:!0}).setScale(2),o=this.add.text(0,0,"Local",{fontSize:"24px",color:"#000"});i().Display.Align.In.Center(o,a),a.on("pointerover",()=>a.setTexture("botonSeleccionado")),a.on("pointerout",()=>a.setTexture("botonSinSeleccionar")),a.on("pointerdown",()=>a.setTexture("botonSeleccionado")),a.on("pointerup",()=>this.scene.start("SelecPlayer_Scene"));const n=this.add.sprite(r+250,250,"botonSinSeleccionar").setInteractive({useHandCursor:!0}).setScale(2),h=this.add.text(0,0,"Red",{fontSize:"24px",color:"#000"});i().Display.Align.In.Center(h,n),n.on("pointerover",()=>n.setTexture("botonSeleccionado")),n.on("pointerout",()=>n.setTexture("botonSinSeleccionar")),n.on("pointerdown",()=>a.setTexture("botonSeleccionado")),n.on("pointerup",()=>this.scene.start("SelecPlayer_Scene"));const l=.06*e,c=.08*t,d=this.add.sprite(l,c,"botonVolver").setScale(1).setInteractive({useHandCursor:!0});d.on("pointerdown",()=>{this.scene.start("Menu_Scene")});const p=e=>{e.on("pointerdown",()=>{const e=parseFloat(localStorage.getItem("volume"))||1;this.sound.play("sonidoClick",{volume:e})})};p(d),p(a),p(n)}}class g extends i().Scene{constructor(){super("Pause_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const e=this.game.globals.defaultTextStyle,{width:t,height:s}=this.scale,r=t/2;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(r,.18*s,"PAUSA",{...e,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5);const a=this.add.sprite(r,.52*s,"botonSinSeleccionar").setScale(2).setInteractive({useHandCursor:!0}),o=this.add.text(0,0,"Continuar",{...e,fontSize:"20px",color:"#000000"});i().Display.Align.In.Center(o,a),a.on("pointerdown",()=>{this.scene.stop(),this.scene.resume("Game_Scene")}),a.on("pointerover",()=>a.setTexture("botonSeleccionado")),a.on("pointerout",()=>a.setTexture("botonSinSeleccionar"));const n=this.add.sprite(r,.66*s,"botonSinSeleccionar").setScale(2).setInteractive({useHandCursor:!0}),h=this.add.text(0,0,"Menú Principal",{...e,fontSize:"20px",color:"#000000"});i().Display.Align.In.Center(h,n),n.on("pointerdown",()=>{const e=this.scene.get("Game_Scene");e&&(e.input.keyboard.removeAllListeners(),e.input.keyboard.removeAllKeys()),this.scene.stop("Game_Scene"),this.scene.start("Menu_Scene")}),n.on("pointerover",()=>n.setTexture("botonSeleccionado")),n.on("pointerout",()=>n.setTexture("botonSinSeleccionar"));const l=e=>{e.on("pointerdown",()=>{const e=parseFloat(localStorage.getItem("volume"))||1;this.sound.play("sonidoClick",{volume:e})})};l(n),l(a)}}class y extends i().Scene{constructor(){super("SelecPlayer_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCO_PERSONAJE_SELECCIONADO.png"),this.load.image("characterA","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_a.png"),this.load.image("characterB","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_b.png"),this.load.image("characterC","ASSETS/PERSONAJES/PERSONAJES_POSE/personaje_c.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){this.input.keyboard.removeAllKeys(!0),this.input.keyboard.removeAllListeners();const{width:e,height:t}=this.scale,s=this.game.globals.defaultTextStyle;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.players=[{name:"",character:null,color:43775},{name:"",character:null,color:16733525}],this.selectedCharacters=new Set,this.add.text(e/2,50,"Selecciona Personaje",{...s,fontSize:"40px",color:"#000",fontStyle:"bold"}).setOrigin(.5),this.createPlayerArea(0),this.createPlayerArea(1);const r=this.add.image(e/2,500,"botonSimple").setInteractive().setScale(1.5),a=this.add.text(0,0,"Siguiente",{...s,fontSize:"12px",color:"#000"});i().Display.Align.In.Center(a,r),r.on("pointerover",()=>r.setTexture("botonSimpleSeleccionado")),r.on("pointerout",()=>r.setTexture("botonSimple")),r.on("pointerdown",()=>r.setTexture("botonSimpleSeleccionado")),r.on("pointerup",()=>{const e=this.playerInputs[0].node.querySelector("input").value.trim(),t=this.playerInputs[1].node.querySelector("input").value.trim();console.log("Nombre de usuario:",e),console.log("Nombre de usuario:",t),e&&t?(this.players[0].name=e,this.players[1].name=t,this.scene.start("SelectScenario_Scene",{player1:this.players[0],player2:this.players[1]})):console.warn("Ambos jugadores deben poner nombre")});const o=.06*e,n=.08*t,h=this.add.sprite(o,n,"botonVolver").setScale(1).setInteractive({useHandCursor:!0});h.on("pointerdown",()=>{this.scene.start("ModeGame_Scene")}),this.addClickSound(r),this.addClickSound(h)}addClickSound(e){e.on("pointerdown",()=>{const e=parseFloat(localStorage.getItem("volume"))||1;this.sound.play("sonidoClick",{volume:e})})}createPlayerArea(e){const{width:t,height:i}=this.scale,s=(this.players[e],this.game.globals.defaultTextStyle);this.currentTurn=0,this.players.forEach((e,r)=>{this.add.text(t*(.25+.5*r),100,"Nombre:",{...s,fontSize:"24px",color:"#000"}).setOrigin(.5);const a=this.add.dom(t*(.25+.5*r),140).createFromHTML(`\n                <input type="text" placeholder="Nombre jugador" maxlength="10"\n                        style="\n                                width:150px;\n                                padding:6px;\n                                font-size:16px;\n                                font-family:${s.fontFamily};\n                                border-radius:12px;\n                                border: 6px solid #FFAA00;\n                                outline: none;\n                                text-align:center;\n                                background-color:#f0f0f0;\n                                transition: border-color 0.2s, box-shadow 0.2s;\n                        "\n                        onfocus="this.style.borderColor='#FF8316'; this.style.boxShadow='0 0 5px #FF8316';"\n                        onblur="this.style.borderColor='#FFAA00'; this.style.boxShadow='none';"\n                    >\n            `),o=a.node.querySelector("input");o.addEventListener("focus",e=>{this.input.keyboard.enabled=!1,e.stopPropagation()}),o.addEventListener("blur",e=>{this.input.keyboard.enabled=!0,e.stopPropagation()}),o.addEventListener("keydown",e=>{e.stopPropagation()}),o.addEventListener("input",()=>{o.value=o.value.replace(/[^a-zA-Z]/g,"")}),this.playerInputs||(this.playerInputs=[]),this.playerInputs[r]=a,e.bigImage=this.add.image(t*(.25+.5*r),.6*i,"characterA").setScale(1.2).setVisible(!1),e.bigFrame=this.add.image(e.bigImage.x,e.bigImage.y,"marco").setScale(2.8).setVisible(!0),e.frame=this.add.rectangle(0,0,60,120).setStrokeStyle(4,e.color).setVisible(!1)});const r=t/2-75,a=.5*i,o=[{x:r,y:a},{x:r+150,y:a},{x:r+75,y:a+75}];["characterA","characterB","characterC"].forEach((e,t)=>{const i=this.add.image(o[t].x,o[t].y,e).setInteractive().setScale(.45).setData("characterName",e);this.addClickSound(i),i.on("pointerdown",()=>{const t=this.players[0],s=this.players[1];let r,a;if(null===this.currentTurn){if(t.character===e)r=t;else{if(s.character!==e)return;r=s}a=r===t?s:t}else r=this.players[this.currentTurn],a=this.players[1-this.currentTurn];if(r.character===e)return r.character=null,r.bigImage.setVisible(!1),r.frame.setVisible(!1),this.selectedCharacters.delete(e),void(this.currentTurn=this.players.indexOf(r));a.character!==e&&(t.character&&s.character||(r.character&&this.selectedCharacters.delete(r.character),r.character=e,r.bigImage.setTexture(e).setVisible(!0),this.selectedCharacters.add(e),r.frame.setPosition(i.x,i.y),r.frame.setVisible(!0),a.character?this.currentTurn=null:this.currentTurn=1-this.currentTurn))})})}}class f extends i().Scene{constructor(){super("SelectScenario_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("Gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("Playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("Jardin","ASSETS/FONDOS/JARDIN.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}init(e){this.player1=e.player1,this.player2=e.player2}create(){const{width:e,height:t}=this.scale,s=this.game.globals.defaultTextStyle;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(e/2,50,"Selecciona Escenario",{...s,fontSize:"40px",color:"#000",fontStyle:"bold"}).setOrigin(.5),this.selectedScenario="Gym",this.selectedImage=this.add.image(e/2,240,this.selectedScenario).setScale(.5);const r=e/2-200;["Gym","Playa","Jardin"].forEach((e,t)=>{const a=this.add.image(r+200*t,440,"botonSinSeleccionar").setInteractive().setScale(1.75),o=this.add.text(0,0,e,{...s,fontSize:"24px",color:"#000"});i().Display.Align.In.Center(o,a),this.addClickSound(a),a.on("pointerover",()=>a.setTexture("botonSeleccionado")),a.on("pointerout",()=>{this.selectedScenario!==e&&a.setTexture("botonSinSeleccionar")}),a.on("pointerdown",()=>{this.selectedScenario=e,this.selectedImage.setTexture(e).setScale(.5)}),a.on("pointerup",()=>a.setTexture("botonSinSeleccionar"))});const a=this.add.image(e/2,500,"botonSimple").setInteractive().setScale(1.5),o=this.add.text(0,0,"Siguiente",{...s,fontSize:"12px",color:"#000"});i().Display.Align.In.Center(o,a),a.on("pointerover",()=>a.setTexture("botonSimpleSeleccionado")),a.on("pointerout",()=>a.setTexture("botonSimple")),a.on("pointerdown",()=>a.setTexture("botonSimpleSeleccionado")),a.on("pointerup",()=>{this.scene.start("Game_Scene",{player1:this.player1,player2:this.player2,selectedScenario:this.selectedScenario})});const n=.06*e,h=.08*t,l=this.add.sprite(n,h,"botonVolver").setScale(1).setInteractive({useHandCursor:!0});l.on("pointerdown",()=>{this.scene.start("SelecPlayer_Scene")}),this.addClickSound(a),this.addClickSound(l)}addClickSound(e){e.on("pointerdown",()=>{const e=parseFloat(localStorage.getItem("volume"))||1;this.sound.play("sonidoClick",{volume:e})})}}(async()=>{await document.fonts.ready;const e={type:i().AUTO,width:960,height:540,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{x:0,y:300},debug:!1}},dom:{createContainer:!0},scene:[s,d,p,S,m,g,u,y,f],backgroundColor:"#8675f1"};new(i().Game)(e).globals={defaultTextStyle:{fontFamily:"MiFuente",fontSize:"20px",color:"#ffffff"},music:null}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJLFVBQVlsWCxHQUN4QmpGLFFBQVUsQ0FDWEMsaUJBQWtCLENBQUV3RCxXQUFZLFdBQVlwQyxTQUFVLE9BQVFDLE1BQU8sV0FDckVoQixNQUFPLEtBRWQsRUExQkQsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL2V4dGVybmFsIHZhciBcIlBoYXNlclwiIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9NZW51X1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0VudGl0aWVzL1BsYXllci5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9Db21tYW5kcy9BcHBseVBvd2VyVXBDb21tYW5kLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0VudGl0aWVzL1Bvd2VyVXAuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvRW50aXRpZXMvQmFsbC5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9Db21tYW5kcy9Db21tYW5kUHJvY2Vzc29yLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0NvbW1hbmRzL0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvQ29tbWFuZHMvTW92ZVBsYXllckNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL0dhbWVfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL0NvbmZpZ3VyYXRpb25fU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL0NyZWRpdHNfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL0VuZEdhbWVfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL01vZGVHYW1lX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9QYXVzZV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvU2VsZWN0UGxheWVyX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9TZWxlY3RTY2VuYXJpb19TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gUGhhc2VyOyIsIi8vIFBhbnRhbGxhIGRlbCBNZW7DuiBQcmluY2lwYWxcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ01lbnVfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIHNlIGNhcmdhbiBsYXMgaW3DoWdlbmVzIGRlIGxvcyBib3RvbmVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX0dfU0VMRUNDSU9OQURPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW5TZWxlY2Npb25hcicsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX0cucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb01lbnVQcmluY2lwYWwnLCAnQVNTRVRTL0ZPTkRPUy9NRU5VX1BSSU5DSVBBTC5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gTG9nb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbG9nb0VtcHJlc2EnLCAnQVNTRVRTL0xPR08vbG9nb19lbXByZXNhLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBBdWRpb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvR2VuZXJhbCcsICdBU1NFVFMvU09OSURPL1NPTklETzEubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHsgICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHMuZGVmYXVsdFRleHRTdHlsZTtcclxuICAgICAgICBjb25zdCB2b2x1bWUgPSBwYXJzZUZsb2F0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2b2x1bWUnKSkgfHwgMTtcclxuICAgICAgICBpZiAoIXRoaXMuZ2FtZS5nbG9iYWxzLm11c2ljKSB7XHJcbiAgICAgICAgICAgIC8vIFNvbG8gY3JlYXJsYSBsYSBwcmltZXJhIHZlelxyXG4gICAgICAgICAgICB0aGlzLmdhbWUuZ2xvYmFscy5tdXNpYyA9IHRoaXMuc291bmQuYWRkKCdzb25pZG9HZW5lcmFsJywgeyBsb29wOiB0cnVlLCB2b2x1bWUgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5nbG9iYWxzLm11c2ljLnBsYXkoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBTaSB5YSBleGlzdGUsIHNvbG8gYWN0dWFsaXphciB2b2x1bWVuXHJcbiAgICAgICAgICAgIHRoaXMuZ2FtZS5nbG9iYWxzLm11c2ljLnNldFZvbHVtZSh2b2x1bWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBwb3NpY2lvbmVzIGJhc2UgcGFyYSBsb3MgYm90b25lcyBkZWwgbWVuw7pcclxuICAgICAgICAvLyAoYXPDrSBzZSBwdWVkZSBjYW1iaWFyIGVsIHRhbWHDsW8gc2luIHByb2JsZW1hcylcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcclxuICAgICAgICBjb25zdCBmaXJzdEJ1dHRvblkgPSBoZWlnaHQgLyAyIC0gNjA7XHJcbiAgICAgICAgY29uc3QgYnV0dG9uU3BhY2luZyA9IDcwO1xyXG4gICAgICAgIGNvbnN0IG1pdGFkRGVyZWNoYVggPSBjZW50ZXJYICsgKGNlbnRlclggLyAyKTtcclxuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvTWVudVByaW5jaXBhbCcpXHJcbiAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgIC5zZXREZXB0aCgtMSk7XHJcbiAgICAgICAgLy8gVE9ETzogY2FtYmlhciBwb3IgdW5hIGltYWdlbj9cclxuICAgICAgICAvLyB0w610dWxvIGRlbCBqdWVnb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQobWl0YWREZXJlY2hhWCwgMTAwLCAnVm9sbGV5IENsYXNoJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLy8vIEJPVMOTTiBKVUdBUiAvLy8vXHJcbiAgICAgICAgY29uc3QgcGxheUJ1dHRvbiA9IHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5zcHJpdGUobWl0YWREZXJlY2hhWCwgZmlyc3RCdXR0b25ZLCAnYm90b25TaW5TZWxlY2Npb25hcicpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgyKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBwbGF5VGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJ0p1Z2FyJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFBoYXNlci5EaXNwbGF5LkFsaWduLkluLkNlbnRlcihwbGF5VGV4dCwgcGxheUJ1dHRvbik7XHJcblxyXG4gICAgICAgIHBsYXlCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBwbGF5QnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheUJ1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgcGxheUJ1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNpblNlbGVjY2lvbmFyJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHBsYXlCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBwbGF5QnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheUJ1dHRvbi5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBhbCBzb2x0YXIgZWwgY2xpY2sgc2UgcGFzYSBhIGxhIGVzY2VuYSBkZSBzZWxlY2Npw7NuIGRlIG1vZG8gZGUganVlZ29cclxuICAgICAgICAgICAgLy8gKGxvY2FsIG8gZW4gcmVkKVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNb2RlR2FtZV9TY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vLy8vLy8vXHJcblxyXG4gICAgICAgIC8vLy8gQk9Uw5NOIENPTkZJR1VSQUNJw5NOIC8vLy9cclxuICAgICAgICBjb25zdCBjb25maWdCdXR0b24gPSB0aGlzLmFkZFxyXG4gICAgICAgICAgICAuc3ByaXRlKG1pdGFkRGVyZWNoYVgsIGZpcnN0QnV0dG9uWSArIGJ1dHRvblNwYWNpbmcsICdib3RvblNpblNlbGVjY2lvbmFyJylcclxuICAgICAgICAgICAgLnNldFNjYWxlKDIpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbmZpZ1RleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDAsICdDb25maWd1cmFjacOzbicsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcclxuICAgICAgICB9KTtcclxuICAgICAgICBQaGFzZXIuRGlzcGxheS5BbGlnbi5Jbi5DZW50ZXIoY29uZmlnVGV4dCwgY29uZmlnQnV0dG9uKTtcclxuXHJcbiAgICAgICAgY29uZmlnQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgY29uZmlnQnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uZmlnQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25maWdCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TaW5TZWxlY2Npb25hcicpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25maWdCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25maWdCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25maWdCdXR0b24ub24oJ3BvaW50ZXJ1cCcsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gc2UgcGFzYSBhIGxhIGVzY2VuYSBkZSBjb25maWd1cmFjacOzblxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdDb25maWd1cmF0aW9uX1NjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8vLy8vLy9cclxuXHJcbiAgICAgICAgLy8vLyBCT1TDk04gQ1LDiURJVE9TIC8vLy9cclxuICAgICAgICBjb25zdCBjcmVkaXRzQnV0dG9uID0gdGhpcy5hZGRcclxuICAgICAgICAgICAgLnNwcml0ZShtaXRhZERlcmVjaGFYLCBmaXJzdEJ1dHRvblkgKyBidXR0b25TcGFjaW5nICogMiwgJ2JvdG9uU2luU2VsZWNjaW9uYXInKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMilcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgY3JlZGl0c1RleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDAsICdDcsOpZGl0b3MnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUGhhc2VyLkRpc3BsYXkuQWxpZ24uSW4uQ2VudGVyKGNyZWRpdHNUZXh0LCBjcmVkaXRzQnV0dG9uKTtcclxuXHJcbiAgICAgICAgY3JlZGl0c0J1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNyZWRpdHNCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjcmVkaXRzQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjcmVkaXRzQnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2luU2VsZWNjaW9uYXInKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY3JlZGl0c0J1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNyZWRpdHNCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY3JlZGl0c0J1dHRvbi5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBzZSBwYXNhIGEgbGEgZXNjZW5hIGRlIGNyw6lkaXRvc1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdDcmVkaXRzX1NjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8vLy8vLy9cclxuXHJcbiAgICAgICAgLy8gTG9nbyBkZSBFbXByZXNhXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UodGhpcy5zY2FsZS53aWR0aCAtIDIwLCB0aGlzLnNjYWxlLmhlaWdodCAtIDIwLCAnbG9nb0VtcHJlc2EnKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC41KVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDEsIDEpIC8vIFBhcmEgcXVlIGVsIHB1bnRvIGRlIHJlZmVyZW5jaWEgc2VhIGxhIGVzcXVpbmEgaW5mZXJpb3IgZGVyZWNoYVxyXG5cclxuICAgICAgICAvLyBGdW5jacOzbiBwYXJhIGHDsWFkaXIgc29uaWRvIGRlIGNsaWMgY29uIHZvbHVtZW4gZ2xvYmFsXHJcbiAgICAgICAgY29uc3QgYWRkQ2xpY2tTb3VuZCA9IChidXR0b24pID0+IHtcclxuICAgICAgICAgICAgYnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZvbHVtZSA9IHBhcnNlRmxvYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ZvbHVtZScpKSB8fCAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzb25pZG9DbGljaycsIHsgdm9sdW1lIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhZGRDbGlja1NvdW5kKHBsYXlCdXR0b24pO1xyXG4gICAgICAgIGFkZENsaWNrU291bmQoY29uZmlnQnV0dG9uKTtcclxuICAgICAgICBhZGRDbGlja1NvdW5kKGNyZWRpdHNCdXR0b24pO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIENsYXNlIGRlIGxhIGVudGlkYWQgXCJwZXJzb25hamVcIiwgc2UgdGllbmUgZW4gY3VlbnRhIHF1ZSBzb24gMyBwZXJzb25hamVzIGRpc3RpbnRvc1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXllciB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGlkLCB4LCB5LCBjaGFyYWN0ZXJUeXBlKSB7XHJcbiAgICAgICAgLy8gSU5JQ0lBTElaQUNJw5NOXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDsgICAgICAgICAgICAgICAgICAgICAgIC8vIGlkZW50aWZpY2Fkb3IgZGVsIGp1Z2Fkb3IgKFAxLCBQMilcclxuICAgICAgICB0aGlzLmNoYXJhY3RlclR5cGUgPSBjaGFyYWN0ZXJUeXBlOyAvLyBpbmRpY2EgcXXDqSBwZXJzb25hamUgc2UgaGEgZWxlZ2lkb1xyXG5cclxuICAgICAgICB0aGlzLm1vdmVTcGVlZCA9IDI1MDsgICAvLyB2ZWxvY2lkYWQgZGUgbW92aW1pZW50byAoaG9yaXpvbnRhbClcclxuICAgICAgICB0aGlzLmp1bXBTcGVlZCA9IDI3NTsgICAvLyBmdWVyemEgZGUgc2FsdG9cclxuXHJcbiAgICAgICAgdGhpcy5hY3RpdmVQb3dlclVwcyA9IHt9OyAgIC8vIHBvd2VydXBzIGFjdGl2b3NcclxuXHJcbiAgICAgICAgLy8gZXN0YWRvcyBkZSBwb3dlci11cHNcclxuICAgICAgICB0aGlzLmlzUGFyYWx5emVkID0gZmFsc2U7ICAgICAgIC8vIHBhcmEgZWwgcG93ZXIgdXAgXCJwYXJhbGl6YXJcIlxyXG4gICAgICAgIHRoaXMucGFyYWx5c2lzVHdlZW4gPSBudWxsOyAgICAgLy8gYWwgcXVlZGFyc2UgcGFyYWxpemFkbyAtPiByb2pvXHJcbiAgICAgICAgdGhpcy5zcGVlZEVmZmVjdEFjdGl2ZSA9IGZhbHNlOyAvLyB2ZWxvY2lkYWQgLT4gY2lhbi92ZXJkZVxyXG4gICAgICAgIHRoaXMuc2xvd0VmZmVjdEFjdGl2ZSA9IGZhbHNlOyAgLy8gcmFsZW50aXphZG8gLT4gYXp1bFxyXG5cclxuICAgICAgICB0aGlzLnNjb3JlTXVsdGlwbGllciA9IDE7ICAgICAgIC8vIHBhcmEgcG9yMiAvIHBvcjNcclxuICAgICAgICAvLyB0ZXh0byBmbG90YW50ZSBwYXJhIG1vc3RyYXIgeDIgLyB4M1xyXG4gICAgICAgIHRoaXMubXVsdGlwbGllclRleHQgPSB0aGlzLnNjZW5lLmFkZC50ZXh0KHgsIHkgLSA1MCwgJycsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41LCAxKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMjApXHJcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnBvd2VyVXBJbnZlbnRvcnkgPSBbXTsgLy8gbcOheGltbyAyXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IGZhbHNlOyAgIC8vIGVzdGFkbyBkZSByZWNlcGNpw7NuXHJcblxyXG4gICAgICAgIC8vIGzDrW1pdGVzIGRlIG1vdmltaWVudG8gcGVyc29uYWxpemFkb3NcclxuICAgICAgICB0aGlzLmJvdW5kc0xlZnQgPSAwO1xyXG4gICAgICAgIHRoaXMuYm91bmRzUmlnaHQgPSA5NjA7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNUb3AgPSAwO1xyXG4gICAgICAgIHRoaXMuYm91bmRzQm90dG9tID0gNTQwO1xyXG5cclxuICAgICAgICAvLyBjb25maWd1cmFjacOzbiBkZSBsb3Mgc3ByaXRlcyB5IGxhcyBhbmltYWNpb25lcyBzZWfDum4gZWwgcGVyc29uYWplIGVsZWdpZG9cclxuICAgICAgICBjb25zdCBDSEFSQUNURVJfQ09ORklHID0ge1xyXG4gICAgICAgICAgICAvLyBlcXVpbGlicmFkbyB5IHNpbXDDoXRpY29cclxuICAgICAgICAgICAgY2hhcmFjdGVyQToge1xyXG4gICAgICAgICAgICAgICAgdGV4dHVyZUtleTogJ2NoYXJBX21vdmUnLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRGcmFtZTogMCxcclxuICAgICAgICAgICAgICAgIGlkbGVMZWZ0QW5pbTogJ2NoYXJBX2lkbGVMZWZ0JyxcclxuICAgICAgICAgICAgICAgIGlkbGVSaWdodEFuaW06ICdjaGFyQV9pZGxlUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgcnVuTGVmdEFuaW06ICdjaGFyQV9ydW5MZWZ0JyxcclxuICAgICAgICAgICAgICAgIHJ1blJpZ2h0QW5pbTogJ2NoYXJBX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIGp1bXBMZWZ0QW5pbTogJ2NoYXJBX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgICAgIGp1bXBSaWdodEFuaW06ICdjaGFyQV9qdW1wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZUxlZnRBbmltOiAnY2hhckFfcmVjZWl2ZUxlZnQnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZVJpZ2h0QW5pbTogJ2NoYXJBX3JlY2VpdmVSaWdodCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gcsOhcGlkbyB5IGNvbXBldGl0aXZvXHJcbiAgICAgICAgICAgIGNoYXJhY3RlckI6IHtcclxuICAgICAgICAgICAgICAgIHRleHR1cmVLZXk6ICdjaGFyQl9tb3ZlJyxcclxuICAgICAgICAgICAgICAgIHN0YXJ0RnJhbWU6IDAsXHJcbiAgICAgICAgICAgICAgICBpZGxlTGVmdEFuaW06ICdjaGFyQl9pZGxlTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBpZGxlUmlnaHRBbmltOiAnY2hhckJfaWRsZVJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHJ1bkxlZnRBbmltOiAnY2hhckJfcnVuTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBydW5SaWdodEFuaW06ICdjaGFyQl9ydW5SaWdodCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wTGVmdEFuaW06ICdjaGFyQl9qdW1wTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wUmlnaHRBbmltOiAnY2hhckJfanVtcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVMZWZ0QW5pbTogJ2NoYXJCX3JlY2VpdmVMZWZ0JyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVSaWdodEFuaW06ICdjaGFyQl9yZWNlaXZlUmlnaHQnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGRpdmVydGlkbyB5IGFsZ28gZGlzdHJhw61kb1xyXG4gICAgICAgICAgICBjaGFyYWN0ZXJDOiB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0dXJlS2V5OiAnY2hhckNfbW92ZScsXHJcbiAgICAgICAgICAgICAgICBzdGFydEZyYW1lOiAwLFxyXG4gICAgICAgICAgICAgICAgaWRsZUxlZnRBbmltOiAnY2hhckNfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICAgICAgaWRsZVJpZ2h0QW5pbTogJ2NoYXJDX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgICAgICBydW5MZWZ0QW5pbTogJ2NoYXJDX3J1bkxlZnQnLFxyXG4gICAgICAgICAgICAgICAgcnVuUmlnaHRBbmltOiAnY2hhckNfcnVuUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAganVtcExlZnRBbmltOiAnY2hhckNfanVtcExlZnQnLFxyXG4gICAgICAgICAgICAgICAganVtcFJpZ2h0QW5pbTogJ2NoYXJDX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlTGVmdEFuaW06ICdjaGFyQ19yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlUmlnaHRBbmltOiAnY2hhckNfcmVjZWl2ZVJpZ2h0J1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gc2kgdmllbmUgdW4gdGlwbyBkZSBwZXJzb25hamUgaW52w6FsaWRvLCBzZSB1c2EgY2hhcmFjdGVyQSBwb3IgZGVmZWN0b1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gQ0hBUkFDVEVSX0NPTkZJR1tjaGFyYWN0ZXJUeXBlXSB8fCBDSEFSQUNURVJfQ09ORklHLmNoYXJhY3RlckE7XHJcblxyXG4gICAgICAgIC8vIHNlIGNyZWEgZWwgc3ByaXRlIGbDrXNpY28gZGVsIGp1Z2Fkb3JcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKFxyXG4gICAgICAgICAgICB4LFxyXG4gICAgICAgICAgICB5LFxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy50ZXh0dXJlS2V5LFxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5zdGFydEZyYW1lXHJcbiAgICAgICAgKTtcclxuICAgICAgICAvLyBzZSBoYWNlIHVuIHBvY28gbcOhcyBncmFuZGVcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSgyLjUpO1xyXG4gICAgICAgIC8vIHNlIGFqdXN0YSBsYSBoaXRib3ggYWwgbnVldm8gdGFtYcOxbyBwYXJhIGxhcyBjb2xpc2lvbmVzLCBzZSByZWR1Y2VuXHJcbiAgICAgICAgLy90aGlzLnNwcml0ZS5ib2R5LnNldFNpemUodGhpcy5zcHJpdGUud2lkdGgsIHRoaXMuc3ByaXRlLmhlaWdodCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRTaXplKHRoaXMuc3ByaXRlLndpZHRoICogMC45LCB0aGlzLnNwcml0ZS5oZWlnaHQgKiAwLjksIHRydWUpO1xyXG5cclxuICAgICAgICAvLyBzZSBndWFyZGEgdW5hIHJlZmVyZW5jaWEgaGFjaWEgUGxheWVyIGRlbnRybyBkZWwgcHJvcGlvIHNwcml0ZVxyXG4gICAgICAgIC8vIChlcyDDunRpbCBzaSBlbiBjb2xpc2lvbmVzIHNlIHF1aWVyZSBhY2NlZGVyIGEgbGEgbMOzZ2ljYSlcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREYXRhKCdwbGF5ZXInLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gcGFyYSBjb250cm9sYXIgZGlyZWNjacOzbiBhY3R1YWxcclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcblxyXG4gICAgICAgIC8vIGVzdGFkbyBzaW1wbGU6IGVuIGVsIGFpcmUgbyBub1xyXG4gICAgICAgIHRoaXMuaXNPbkdyb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGZsYWcgcGFyYSBzYWJlciBzaSBlc3TDoSBlbiBhbmltYWNpw7NuIGRlIHNhbHRvXHJcbiAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICAvLyB0aW1lc3RhbXAgcGFyYSBkZXRlY3RhciBzaSBpc0p1bXBpbmcgc2UgcXVlZGEgc3R1Y2sgKHRpbWVvdXQgZGUgMSBzZWd1bmRvKVxyXG4gICAgICAgIHRoaXMuanVtcFN0YXJ0VGltZSA9IDA7XHJcblxyXG4gICAgICAgIC8vIGN1YW5kbyBzZSB0ZXJtaW5lIGxhIGFuaW1hY2nDs24gZGUgcmVjaWJpciwgc2UgZGVqYSBkZSBcImVzdGFyIHJlY2liaWVuZG9cIlxyXG4gICAgICAgIHRoaXMuc3ByaXRlLm9uKCdhbmltYXRpb25jb21wbGV0ZScsIChhbmltKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbS5rZXkgPT09IHRoaXMuY29uZmlnLnJlY2VpdmVMZWZ0QW5pbSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGFuaW0ua2V5ID09PSB0aGlzLmNvbmZpZy5yZWNlaXZlUmlnaHRBbmltXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZWwgc2FsdG8gdGVybWluYSBzZWfDum4gbGEgZsOtc2ljYSArIHVwZGF0ZSgpLCBubyBwb3IgbGEgYW5pbWFjacOzbi5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEFuaW1hdGlvbiBjb21wbGV0ZSBoYW5kbGVyIGVycm9yIGZvciAke2FuaW0ua2V5fTpgLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGVscGVyIHBhcmEgdmVyaWZpY2FyIHNpIGVzdMOhIGVuIGVsIHN1ZWxvIGRlIGZvcm1hIGZpYWJsZVxyXG4gICAgaXNHcm91bmRlZCgpIHtcclxuICAgICAgICBjb25zdCBib2R5ID0gdGhpcy5zcHJpdGUuYm9keTtcclxuICAgICAgICBpZiAoIWJvZHkpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gYmxvY2tlZC5kb3duIOKGkiBjb2xpc2lvbmVzIGNvbiBsw61taXRlcyBkZWwgbXVuZG9cclxuICAgICAgICAvLyB0b3VjaGluZy5kb3duIOKGkiBjb2xpc2lvbmVzIGNvbiBvdHJvcyBjdWVycG9zXHJcbiAgICAgICAgcmV0dXJuIGJvZHkuYmxvY2tlZC5kb3duIHx8IGJvZHkudG91Y2hpbmcuZG93bjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb21wcnVlYmEgc2kgbG9zIHBpZXMgZGVsIGp1Z2Fkb3IgZXN0w6FuIGNlcmNhIGRlbCBzdWVsb1xyXG4gICAgaXNOZWFyR3JvdW5kKHRocmVzaG9sZCA9IDEyKSB7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMuc3ByaXRlLmJvZHk7XHJcbiAgICAgICAgaWYgKCFib2R5KSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNjZW5lLmdyb3VuZFkgIT09ICdudW1iZXInKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHBhcnRlIGluZmVyaW9yIGRlbCBib2R5IChubyBkZWwgc3ByaXRlIGVzY2FsYWRvKVxyXG4gICAgICAgIGNvbnN0IGZlZXRZID0gYm9keS55ICsgYm9keS5oZWlnaHQ7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGZlZXRZIC0gdGhpcy5zY2VuZS5ncm91bmRZKSA8PSB0aHJlc2hvbGQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8vLyBBTklNQUNJT05FUyAvLy8vXHJcbiAgICAvLyBNb3ZpbWllbnRvIGRlbCBwZXJzb25hamUgaGFjaWEgbGEgaXpxdWllcmRhXHJcbiAgICBtb3ZlTGVmdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCB8fCB0aGlzLmlzUmVjZWl2aW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgtdGhpcy5tb3ZlU3BlZWQpO1xyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gJ2xlZnQnO1xyXG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5ydW5MZWZ0QW5pbSk7XHJcbiAgICB9XHJcbiAgICAvLyBNb3ZpbWllbnRvIGRlbCBwZXJzb25hamUgaGFjaWEgbGEgZGVyZWNoYVxyXG4gICAgbW92ZVJpZ2h0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkIHx8IHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKHRoaXMubW92ZVNwZWVkKTtcclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLnJ1blJpZ2h0QW5pbSk7XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIC8vIFNhbHRvL3JlbWF0ZSBkZWwgcGVyc29uYWplIGhhY2lhIGxhIGl6cXVpZXJkYVxyXG4gICAganVtcExlZnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNHcm91bmRlZCgpIHx8IHRoaXMuaXNOZWFyR3JvdW5kKDIwKSkge1xyXG4gICAgICAgICAgICAvLyBwb3Igc2kgdW5hIHJlY2VwY2nDs24gc2UgcXVlZMOzIGEgbWVkaWFzLCBzZSBjYW5jZWxhXHJcbiAgICAgICAgICAgIHRoaXMuaXNSZWNlaXZpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5qdW1wU3RhcnRUaW1lID0gdGhpcy5zY2VuZS50aW1lLm5vdztcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlZKC10aGlzLmp1bXBTcGVlZCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcuanVtcExlZnRBbmltKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBTYWx0by9yZW1hdGUgZGVsIHBlcnNvbmFqZSBoYWNpYSBsYSBkZXJlY2hhXHJcbiAgICBqdW1wUmlnaHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNHcm91bmRlZCgpIHx8IHRoaXMuaXNOZWFyR3JvdW5kKDIwKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuanVtcFN0YXJ0VGltZSA9IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WSgtdGhpcy5qdW1wU3BlZWQpO1xyXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5qdW1wUmlnaHRBbmltKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVjZXBjacOzbiBkZWwgcGVyc29uYWplIHBvciBsYSBpenF1aWVyZGFcclxuICAgIHJlY2VpdmVMZWZ0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkKSByZXR1cm47XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjsgLy8gbm8gc2UgcmVpbmljaWEgc2kgeWEgZXN0w6EgcmVjaWJpZW5kbyBcclxuXHJcbiAgICAgICAgLy8gc2kgZXN0w6EgdG9jYW5kbyBlbCBzdWVsbywgcmVjaWJlIGxhIHBlbG90YVxyXG4gICAgICAgIGlmICh0aGlzLmlzR3JvdW5kZWQoKSB8fCB0aGlzLmlzTmVhckdyb3VuZCgyMCkpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSAnbGVmdCc7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5yZWNlaXZlTGVmdEFuaW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIFJlY2VwY2nDs24gZGVsIHBlcnNvbmFqZSBwb3IgbGEgZGVyZWNoYVxyXG4gICAgcmVjZWl2ZVJpZ2h0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkKSByZXR1cm47XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjsgLy8gbm8gc2UgcmVpbmljaWEgc2kgeWEgZXN0w6EgcmVjaWJpZW5kbyBcclxuXHJcbiAgICAgICAgLy8gc2kgZXN0w6EgdG9jYW5kbyBlbCBzdWVsbywgcmVjaWJlIGxhIHBlbG90YVxyXG4gICAgICAgIGlmICh0aGlzLmlzR3JvdW5kZWQoKSB8fCB0aGlzLmlzTmVhckdyb3VuZCgyMCkpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSAncmlnaHQnO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcucmVjZWl2ZVJpZ2h0QW5pbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFBlcnNvbmFqZSBpZGxlIGl6ZGFcclxuICAgIGlkbGVMZWZ0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUmVjZWl2aW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIHNpZW1wcmUgZGV0ZW5lciBsYSB2ZWxvY2lkYWQgaG9yaXpvbnRhbCBhbCBlbnRyYXIgZW4gaWRsZVxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdsZWZ0JztcclxuICAgICAgICAvLyByZXByb2R1Y2lyIGxhIGFuaW1hY2nDs24gZGUgaWRsZVxyXG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5pZGxlTGVmdEFuaW0pO1xyXG4gICAgfVxyXG4gICAgLy8gUGVyc29uYWplIGlkbGUgZGNoYVxyXG4gICAgaWRsZVJpZ2h0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUmVjZWl2aW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIHNpZW1wcmUgZGV0ZW5lciBsYSB2ZWxvY2lkYWQgaG9yaXpvbnRhbCBhbCBlbnRyYXIgZW4gaWRsZVxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcbiAgICAgICAgLy8gcmVwcm9kdWNpciBsYSBhbmltYWNpw7NuIGRlIGlkbGVcclxuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcuaWRsZVJpZ2h0QW5pbSk7XHJcbiAgICB9XHJcbiAgICAvLy8vLy8vL1xyXG5cclxuICAgIC8vIEVzdGFibGVjZXIgbG9zIGzDrW1pdGVzIGRlIG1vdmltaWVudG8gZGVsIGp1Z2Fkb3IgKHBhcmEgY29uZmluYXIgYSBsYSBjYW5jaGEpXHJcbiAgICBzZXRCb3VuZHMobGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tKSB7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNMZWZ0ID0gbGVmdDtcclxuICAgICAgICB0aGlzLmJvdW5kc1JpZ2h0ID0gcmlnaHQ7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNUb3AgPSB0b3A7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNCb3R0b20gPSBib3R0b207XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWFudGVuZXIgZWwganVnYWRvciBkZW50cm8gZGUgbG9zIGzDrW1pdGVzXHJcbiAgICBjbGFtcFdpdGhpbkJvdW5kcygpIHtcclxuICAgICAgICBjb25zdCBoYWxmV2lkdGggPSB0aGlzLnNwcml0ZS53aWR0aCAvIDI7XHJcbiAgICAgICAgLy8gbGltaXRhciBwb3NpY2nDs24gaG9yaXpvbnRhbCAoWClcclxuICAgICAgICBpZiAodGhpcy5zcHJpdGUueCAtIGhhbGZXaWR0aCA8IHRoaXMuYm91bmRzTGVmdCkge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS54ID0gdGhpcy5ib3VuZHNMZWZ0ICsgaGFsZldpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS54ICsgaGFsZldpZHRoID4gdGhpcy5ib3VuZHNSaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS54ID0gdGhpcy5ib3VuZHNSaWdodCAtIGhhbGZXaWR0aDtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBNb3ZlciBlbCBqdWdhZG9yIGEgdW5hIHBvc2ljacOzbiBjb25jcmV0YSAoeSBkZXRlbmVybG8pXHJcbiAgICAvLyAoc2UgbGxhbWEgYWwgY2FtYmlhciBkZSBzZXRzKVxyXG4gICAgc2V0UG9zaXRpb24oeCwgeSkge1xyXG4gICAgICAgIGlmICghdGhpcy5zcHJpdGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0UG9zaXRpb24oeCwgeSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7IC8vIHBvciBzaSB2ZW7DrWEgY29uIHZlbG9jaWRhZFxyXG5cclxuICAgICAgICAvLyBhY3R1YWxpemFyIHRhbWJpw6luIGxhIHBvc2ljacOzbiBkZWwgdGV4dG8geDIveDNcclxuICAgICAgICB0aGlzLnVwZGF0ZU11bHRpcGxpZXJUZXh0UG9zaXRpb24oKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlTXVsdGlwbGllclRleHRQb3NpdGlvbigpIHtcclxuICAgICAgICBpZiAoIXRoaXMubXVsdGlwbGllclRleHQgfHwgIXRoaXMuc3ByaXRlKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIGFsdHVyYSDigJx2aXN1YWzigJ0gZGVsIHNwcml0ZSBwYXJhIGNvbG9jYXIgZWwgdGV4dG8gZW5jaW1hIGRlIGxhIGNhYmV6YVxyXG4gICAgICAgIGNvbnN0IGRpc3BsYXlIID0gdGhpcy5zcHJpdGUuZGlzcGxheUhlaWdodCB8fCB0aGlzLnNwcml0ZS5oZWlnaHQgfHwgNDA7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IGRpc3BsYXlIICogMC42OyAvLyBhanVzdGEgc2kgcXVpZXJlcyBtw6FzIGFycmliYS9hYmFqb1xyXG5cclxuICAgICAgICB0aGlzLm11bHRpcGxpZXJUZXh0LnNldFBvc2l0aW9uKFxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS54LFxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS55IC0gb2Zmc2V0WVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVwcm9kdWNlIHVuYSBhbmltYWNpw7NuIHNpIGV4aXN0ZSAoc29sbyBzaSBubyBlc3TDoSB5YSByZXByb2R1Y2nDqW5kb3NlKVxyXG4gICAgcGxheUFuaW1hdGlvbihhbmltS2V5KSB7XHJcbiAgICAgICAgaWYgKCFhbmltS2V5KSByZXR1cm47XHJcbiAgICAgICAgaWYgKCF0aGlzLnNwcml0ZS5hbmltcykgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBzaSBlc3RhbW9zIGVuIHNhbHRvLCBpZ25vcmFyIGN1YWxxdWllciBhbmltYWNpw7NuIHF1ZSBubyBzZWEgZGUgc2FsdG9cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nICYmXHJcbiAgICAgICAgICAgIGFuaW1LZXkgIT09IHRoaXMuY29uZmlnLmp1bXBMZWZ0QW5pbSAmJlxyXG4gICAgICAgICAgICBhbmltS2V5ICE9PSB0aGlzLmNvbmZpZy5qdW1wUmlnaHRBbmltXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRBbmltID0gdGhpcy5zcHJpdGUuYW5pbXMuY3VycmVudEFuaW07XHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLmFuaW1zLmlzUGxheWluZyAmJiBjdXJyZW50QW5pbSAmJiBjdXJyZW50QW5pbS5rZXkgPT09IGFuaW1LZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYW5pbXMucGxheShhbmltS2V5LCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3R1YWxpemFyIGZsYWdzIGNvbW8gaXNPbkdyb3VuZCAoc2UgbGxhbWEgYSBlc3RvIGRlc2RlIGxhIGVzY2VuYSwgZW4gY2FkYSBmcmFtZSlcclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zcHJpdGUuYm9keSkge1xyXG4gICAgICAgICAgICBjb25zdCB3YXNPbkdyb3VuZCA9IHRoaXMuaXNPbkdyb3VuZDtcclxuICAgICAgICAgICAgdGhpcy5pc09uR3JvdW5kID0gdGhpcy5pc0dyb3VuZGVkKCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50QW5pbSA9IHRoaXMuc3ByaXRlLmFuaW1zLmN1cnJlbnRBbmltO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50S2V5ID0gY3VycmVudEFuaW0gPyBjdXJyZW50QW5pbS5rZXkgOiBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTsgLy8gcG9yIHNpIGFjYXNvXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGZhaWxzYWZlIHJlY2VwY2nDs246IHNpIGVsIGZsYWcgZGljZSBcInJlY2liaWVuZG9cIiBwZXJvIGxhIGFuaW1hY2nDs24gbm8gbG8gZXNcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyAmJlxyXG4gICAgICAgICAgICAgICAgY3VycmVudEtleSAhPT0gdGhpcy5jb25maWcucmVjZWl2ZUxlZnRBbmltICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50S2V5ICE9PSB0aGlzLmNvbmZpZy5yZWNlaXZlUmlnaHRBbmltXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBmYWlsc2FmZSBzYWx0bzogc2kgaXNKdW1waW5nIGVzIHRydWUgcGVybyBsYSBhbmltYWNpw7NuIGFjdHVhbCBOTyBlcyBkZSBzYWx0b1xyXG4gICAgICAgICAgICAvLyAoeSBoYXkgYW5pbWFjacOzbiksIHNlIGFzdW1lIHF1ZSB0ZXJtaW7Ds1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzSnVtcGluZyAmJlxyXG4gICAgICAgICAgICAgICAgY3VycmVudEtleSAmJlxyXG4gICAgICAgICAgICAgICAgY3VycmVudEtleSAhPT0gdGhpcy5jb25maWcuanVtcExlZnRBbmltICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50S2V5ICE9PSB0aGlzLmNvbmZpZy5qdW1wUmlnaHRBbmltXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gdGltZW91dCBkZSBzYWx0byBwb3Igc2VndXJpZGFkXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzSnVtcGluZyAmJiAodGhpcy5zY2VuZS50aW1lLm5vdyAtIHRoaXMuanVtcFN0YXJ0VGltZSA+IDE1MDApKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBhdGVycml6YWplIHJlYWxcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNKdW1waW5nICYmICF3YXNPbkdyb3VuZCAmJiB0aGlzLmlzT25Hcm91bmQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWRsZUxlZnQoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZGxlUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNsYW1wV2l0aGluQm91bmRzKCk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlTXVsdGlwbGllclRleHRQb3NpdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVzbyBkZSBsb3MgcG93ZXItdXBzXHJcbiAgICBhcHBseVBvd2VyVXAodHlwZSkge1xyXG4gICAgICAgIC8vIGludmVudGFyaW8gbcOheGltbyBkZSAyXHJcbiAgICAgICAgaWYgKHRoaXMucG93ZXJVcEludmVudG9yeS5sZW5ndGggPj0gMikgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLnBvd2VyVXBJbnZlbnRvcnkucHVzaCh0eXBlKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB1c2VOZXh0UG93ZXJVcCgpIHtcclxuICAgICAgICBpZiAodGhpcy5wb3dlclVwSW52ZW50b3J5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCB0eXBlID0gdGhpcy5wb3dlclVwSW52ZW50b3J5LnNoaWZ0KCk7XHJcbiAgICAgICAgdGhpcy5fYWN0aXZhdGVQb3dlclVwKHR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIF9hY3RpdmF0ZVBvd2VyVXAodHlwZSkge1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcblxyXG4gICAgICAgIHN3aXRjaCh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3ZlbG9jaWRhZCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vdmVTcGVlZCAqPSAxLjU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFNwZWVkRWZmZWN0KHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3JhbGVudGl6YXInOlxyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3Bwb25lbnQgPSB0aGlzLmdldE9wcG9uZW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAob3Bwb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHBvbmVudC5tb3ZlU3BlZWQgKj0gMC41O1xyXG4gICAgICAgICAgICAgICAgICAgIG9wcG9uZW50LnNldFNsb3dFZmZlY3QodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncGFyYWxpemFyJzpcclxuICAgICAgICAgICAgICAgIC8qY29uc3Qgb3BwID0gdGhpcy5nZXRPcHBvbmVudCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wcCkgb3BwLmlzUGFyYWx5emVkID0gdHJ1ZTsqL1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3BwID0gdGhpcy5nZXRPcHBvbmVudCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wcCkgb3BwLnNldFBhcmFseXplZCh0cnVlKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvKmNhc2UgJ3BvcjInOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZU11bHRpcGxpZXIgPSAyO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3BvcjMnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZU11bHRpcGxpZXIgPSAzO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7Ki9cclxuICAgICAgICAgICAgY2FzZSAncG9yMic6XHJcbiAgICAgICAgICAgIGNhc2UgJ3BvcjMnOlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmFjdGl2ZVBvd2VyVXBzW3R5cGVdID0gbm93ICsgMTAwMDA7XHJcblxyXG4gICAgICAgIC8vIHNlIGNhbGN1bGEgZWwgbXVsdGlwbGljYWRvciBkZSBwdW50dWFjacOzbiBzaSBlcyBwb3IyL3BvcjNcclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3BvcjInIHx8IHR5cGUgPT09ICdwb3IzJykge1xyXG4gICAgICAgICAgICB0aGlzLnJlY2FsY3VsYXRlU2NvcmVFZmZlY3QoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWN0dWFsaXphIGxvcyBwb3dlci11cHNcclxuICAgIHVwZGF0ZVBvd2VyVXBzKCkge1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcbiAgICAgICAgbGV0IHNjb3JlTmVlZHNSZWNhbGMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCB0eXBlIGluIHRoaXMuYWN0aXZlUG93ZXJVcHMpIHtcclxuICAgICAgICAgICAgaWYgKG5vdyA+IHRoaXMuYWN0aXZlUG93ZXJVcHNbdHlwZV0pIHtcclxuICAgICAgICAgICAgICAgIC8vIHJlc3RhdXJhciBlbCBlZmVjdG9cclxuICAgICAgICAgICAgICAgIHN3aXRjaCh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAndmVsb2NpZGFkJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tb3ZlU3BlZWQgLz0gMS41O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNwZWVkRWZmZWN0KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmFsZW50aXphcic6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wcG9uZW50ID0gdGhpcy5nZXRPcHBvbmVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3Bwb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wcG9uZW50Lm1vdmVTcGVlZCAvPSAwLjU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHBvbmVudC5zZXRTbG93RWZmZWN0KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlICdwYXJhbGl6YXInOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvKmNvbnN0IG9wcCA9IHRoaXMuZ2V0T3Bwb25lbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wcCkgb3BwLmlzUGFyYWx5emVkID0gZmFsc2U7Ki9cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3BwID0gdGhpcy5nZXRPcHBvbmVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3BwKSBvcHAuc2V0UGFyYWx5emVkKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncG9yMic6XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncG9yMyc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcy5zY29yZU11bHRpcGxpZXIgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29yZU5lZWRzUmVjYWxjID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5hY3RpdmVQb3dlclVwc1t0eXBlXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc2NvcmVOZWVkc1JlY2FsYykge1xyXG4gICAgICAgICAgICB0aGlzLnJlY2FsY3VsYXRlU2NvcmVFZmZlY3QoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8vLyBFRkVDVE9TIFZJU1VBTEVTIERFIExPUyBQT1dFUi1VUFMgLy8vL1xyXG4gICAgc2V0UGFyYWx5emVkKGlzUGFyYWx5emVkKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhcmFseXplZCA9IGlzUGFyYWx5emVkO1xyXG5cclxuICAgICAgICBpZiAoaXNQYXJhbHl6ZWQpIHtcclxuICAgICAgICAgICAgLy8gZmVlZGJhY2sgdmlzdWFsOiByb2pvICsgcGFycGFkZW9cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VGludCgweGZmNTU1NSk7ICAgLy8gcm9qaXpvXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgLy8gcG9yIHNpIHlhIGhhYsOtYSB1biB0d2VlbiBhbnRlcmlvclxyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbHlzaXNUd2Vlbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2Vlbi5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFseXNpc1R3ZWVuID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2VlbiA9IHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRzOiB0aGlzLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIGFscGhhOiAwLjMsXHJcbiAgICAgICAgICAgICAgICB5b3lvOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMCxcclxuICAgICAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBzZWd1cmlkYWQgZXh0cmE6IHF1ZSBzZSBxdWVkZSBxdWlldG8gaG9yaXpvbnRhbG1lbnRlXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gcXVpdGFyIHNvbG8gZWwgZWZlY3RvIGRlIHBhcnBhZGVvLCBlbCBjb2xvciBzZSByZWNhbGN1bGFcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbHlzaXNUd2Vlbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2Vlbi5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFseXNpc1R3ZWVuID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVm9sdmVtb3MgYSBhcGxpY2FyIGVsIGNvbG9yIGRlIG90cm9zIHBvd2VyLXVwcyBhY3Rpdm9zIChzaSBsb3MgaGF5KVxyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hQb3dlclVwVmlzdWFscygpO1xyXG4gICAgICAgIH1cclxuICAgIH0gICAgXHJcblxyXG4gICAgLy8gdmVsb2NpZGFkIC0+IGNpYW4vdmVyZGVcclxuICAgIHNldFNwZWVkRWZmZWN0KGFjdGl2ZSkge1xyXG4gICAgICAgIHRoaXMuc3BlZWRFZmZlY3RBY3RpdmUgPSBhY3RpdmU7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoUG93ZXJVcFZpc3VhbHMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByYWxlbnRpemFyIC0+IGF6dWxcclxuICAgIHNldFNsb3dFZmZlY3QoYWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5zbG93RWZmZWN0QWN0aXZlID0gYWN0aXZlO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFBvd2VyVXBWaXN1YWxzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVjYWxjdWxhIGVsIG11bHRpcGxpY2Fkb3IgZGUgcHVudHVhY2nDs24gZW4gZnVuY2nDs24gZGUgcG9yMi9wb3IzIGFjdGl2b3NcclxuICAgIHJlY2FsY3VsYXRlU2NvcmVFZmZlY3QoKSB7XHJcbiAgICAgICAgbGV0IG11bHRpcGxpZXIgPSAxO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5hY3RpdmVQb3dlclVwc1sncG9yMiddKSB7XHJcbiAgICAgICAgICAgIG11bHRpcGxpZXIgPSBNYXRoLm1heChtdWx0aXBsaWVyLCAyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlUG93ZXJVcHNbJ3BvcjMnXSkge1xyXG4gICAgICAgICAgICBtdWx0aXBsaWVyID0gTWF0aC5tYXgobXVsdGlwbGllciwgMyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNjb3JlTXVsdGlwbGllciA9IG11bHRpcGxpZXI7XHJcblxyXG4gICAgICAgIC8vIGZlZWRiYWNrIHZpc3VhbCBjb24gdGV4dG8geDIgLyB4M1xyXG4gICAgICAgIGlmICh0aGlzLm11bHRpcGxpZXJUZXh0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjb3JlTXVsdGlwbGllciA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlwbGllclRleHQuc2V0VGV4dCgneCcgKyB0aGlzLnNjb3JlTXVsdGlwbGllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpcGxpZXJUZXh0LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpcGxpZXJUZXh0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBtYW50ZW5lciBsb3MgY29sb3JlcyBxdWUgeWEgc2UgdGVuw61hblxyXG4gICAgICAgIHRoaXMucmVmcmVzaFBvd2VyVXBWaXN1YWxzKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIERlY2lkZSBxdcOpIHRpbnRlIG1vc3RyYXIgc2Vnw7puIGVsIGVzdGFkbyBhY3R1YWxcclxuICAgIHJlZnJlc2hQb3dlclVwVmlzdWFscygpIHtcclxuICAgICAgICAvLyBzaSBlc3TDoSBwYXJhbGl6YWRvLCBsYSBwYXLDoWxpc2lzIG1hbmRhIChjb2xvciAgcm9qbyArIHBhcnBhZGVvKVxyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBoYXNlciBzb2xvIHBlcm1pdGUgdW4gY29sb3IvdGludCBhIGxhIHZleiBwb3Igc3ByaXRlLCBwb3IgZXNvIGxhXHJcbiAgICAgICAgLy8gcHJpb3JpZGFkIHZpc3VhbCBlczogcmFsZW50aXphZG8gPiB2ZWxvY2lkYWQgPiBtdWx0aXBsaWNhZG9yXHJcbiAgICAgICAgaWYgKHRoaXMuc2xvd0VmZmVjdEFjdGl2ZSkge1xyXG4gICAgICAgICAgICAvLyBhenVsIG9zY3VybyBwYXJhIFwicGVzYWRvIC8gbGVudG9cIlxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4NTU1NWZmKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3BlZWRFZmZlY3RBY3RpdmUpIHtcclxuICAgICAgICAgICAgLy8gY2lhbi92ZXJkZSBwYXJhIFwicsOhcGlkb1wiXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHg1NWZmZGQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zY29yZU11bHRpcGxpZXIgPiAxKSB7XHJcbiAgICAgICAgICAgIC8vIGRvcmFkbyBwYXJhIFwieDIgLyB4MyBwdW50b3NcIlxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4ZmZkZDU1KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBzaW4gZWZlY3Rvc1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5jbGVhclRpbnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLy8vLy8vXHJcblxyXG4gICAgZ2V0T3Bwb25lbnQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNjZW5lLnBsYXllcnMpIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuc2NlbmUucGxheWVycy52YWx1ZXMoKSkuZmluZChwID0+IHAgIT09IHRoaXMpO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIENvbW1hbmRzL0FwcGx5UG93ZXJVcENvbW1hbmQuanNcclxuZXhwb3J0IGNsYXNzIEFwcGx5UG93ZXJVcENvbW1hbmQge1xyXG4gICAgY29uc3RydWN0b3IocGxheWVyLCBwb3dlclVwVHlwZSkge1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xyXG4gICAgICAgIHRoaXMucG93ZXJVcFR5cGUgPSBwb3dlclVwVHlwZTtcclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVyLmFwcGx5UG93ZXJVcCh0aGlzLnBvd2VyVXBUeXBlKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBBcHBseVBvd2VyVXBDb21tYW5kIH0gZnJvbSBcIi4uL0NvbW1hbmRzL0FwcGx5UG93ZXJVcENvbW1hbmRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3dlclVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5LCB0eXBlKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7IC8vIFwidmVsb2NpZGFkXCIsIFwicmFsZW50aXphclwiLCBcInBhcmFsaXphclwiLCBcInBvcjJcIiwgXCJwb3IzXCJcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBzY2VuZS5waHlzaWNzLmFkZC5zdGF0aWNJbWFnZSh4LCB5LCB0eXBlKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMS4yKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICAgICAgdGhpcy5zcGF3blRpbWUgPSBzY2VuZS50aW1lLm5vdztcclxuICAgICAgICB0aGlzLmZhZGVTdGFydCA9IDMwMDA7IC8vIG1zIGFudGVzIGRlIGVtcGV6YXIgYSBkZXN2YW5lY2VyXHJcbiAgICAgICAgdGhpcy5saWZldGltZSA9IDUwMDA7IC8vIG1zIHRvdGFsIHF1ZSBwZXJtYW5lY2UgdmlzaWJsZVxyXG4gICAgICAgIHRoaXMuaXNDb2xsZWN0ZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gRWZlY3RvIGRlIGZhZGUgb3V0XHJcbiAgICAgICAgdGhpcy5zY2VuZS50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5zcHJpdGUsXHJcbiAgICAgICAgICAgIGFscGhhOiAwLFxyXG4gICAgICAgICAgICBkZWxheTogdGhpcy5mYWRlU3RhcnQsXHJcbiAgICAgICAgICAgIGR1cmF0aW9uOiB0aGlzLmxpZmV0aW1lIC0gdGhpcy5mYWRlU3RhcnRcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQ29saXNpw7NuIGNvbiBqdWdhZG9yZXNcclxuICAgICAgICBzY2VuZS5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgc2NlbmUucGh5c2ljcy5hZGQub3ZlcmxhcChwbGF5ZXIuc3ByaXRlLCB0aGlzLnNwcml0ZSwgKCkgPT4gdGhpcy5jb2xsZWN0KHBsYXllciksIG51bGwsIHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLl9saWZldGltZVRpbWVyID0gc2NlbmUudGltZS5kZWxheWVkQ2FsbCh0aGlzLmxpZmV0aW1lLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpOyAvLyBsaW1waWV6YSBjZW50cmFsaXphZGFcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb2xsZWN0KHBsYXllcikge1xyXG4gICAgICAgIGlmICh0aGlzLmlzQ29sbGVjdGVkKSByZXR1cm47XHJcbiAgICAgICAgdGhpcy5pc0NvbGxlY3RlZCA9IHRydWU7XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmUuY29tbWFuZFByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICBuZXcgQXBwbHlQb3dlclVwQ29tbWFuZChwbGF5ZXIsIHRoaXMudHlwZSlcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2NlbmUudXBkYXRlUGxheWVySW52ZW50b3J5VUkpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS51cGRhdGVQbGF5ZXJJbnZlbnRvcnlVSShwbGF5ZXIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkZXN0cm95KCkge1xyXG4gICAgICAgIC8vIEV2aXRhciBtw7psdGlwbGVzIGxsYW1hZGFzXHJcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIGNhbmNlbGFyIHR3ZWVuIHNpIGV4aXN0ZVxyXG4gICAgICAgIGlmICh0aGlzLmZhZGVUd2Vlbikge1xyXG4gICAgICAgICAgICB0aGlzLmZhZGVUd2Vlbi5zdG9wKCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmFkZVR3ZWVuID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGNhbmNlbGFyIHRpbWVyIHNpIGV4aXN0ZVxyXG4gICAgICAgIGlmICh0aGlzLl9saWZldGltZVRpbWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpZmV0aW1lVGltZXIucmVtb3ZlKGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5fbGlmZXRpbWVUaW1lciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBkZXN0cnVpciBzcHJpdGUgc2kgZXhpc3RlIHkgbm8gZXN0w6EgeWEgZGVzdHJ1aWRvXHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlICYmIHRoaXMuc3ByaXRlLmRlc3Ryb3kpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaWdub3JlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gcXVpdGFyIHJlZmVyZW5jaWEgZGVsIGFycmF5IHNjZW5lLnBvd2VyVXBzIHNpIGV4aXN0ZVxyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuc2NlbmUucG93ZXJVcHMpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucG93ZXJVcHMgPSB0aGlzLnNjZW5lLnBvd2VyVXBzLmZpbHRlcihwID0+IHAgIT09IHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQmFsbCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgeCwgeSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3NvciA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdiYWxsJyk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2NhbGUoMS4wKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRCb3VuY2UoMC44KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGF0YSgnYmFsbCcsIHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBzZWd1aW1pZW50byBkZWwgZXN0YWRvIGRlbCByYWxseVxyXG4gICAgICAgIHRoaXMubGFzdFRvdWNoZWRCeSA9IG51bGw7ICAgICAgLy8gaWQgZGVsIGp1Z2Fkb3IgKCdwbGF5ZXIxJyBvICdwbGF5ZXIyJylcclxuICAgICAgICB0aGlzLnRvdWNoQ291bnQgPSAwOyAgICAgICAgICAgIC8vIHRvcXVlcyBlbiBlbCByYWxseSBhY3R1YWwgcG9yIGxhZG8gZGUgbGEgY2FuY2hhXHJcbiAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAnbGVmdCc7ICAgICAgICAvLyBsYWRvIGRlIGxhIGNhbmNoYSBkb25kZSBlc3TDoSBsYSBwZWxvdGFcclxuICAgICAgICB0aGlzLmlzQmFsbExpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyBwb3NpY2nDs24gZGUgbGEgcmVkIChoYXJkY29kZWFkbyBwYXJhIGFuY2hvIGRlIDk2MHB4KVxyXG4gICAgICAgIHRoaXMubmV0WCA9IDQ4MDtcclxuXHJcbiAgICAgICAgLy8gcGFyYSBldml0YXIgdG9xdWVzIG3Dumx0aXBsZXMgcG9yIGVzdGFyIHBlZ2FkYSB5IHF1ZSBcImRlc2FwYXJlemNhXCJcclxuICAgICAgICB0aGlzLmxhc3RIaXRUaW1lID0gMDtcclxuICAgICAgICB0aGlzLmxhc3RIaXRQbGF5ZXJJZCA9IG51bGw7XHJcblx0XHRcclxuICAgICAgICB0aGlzLmlzRmlyc3RTZXJ2ZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2UgbGxhbWEgY3VhbmRvIHVuIGp1Z2Fkb3IgZ29scGVhIGxhIHBlbG90YVxyXG4gICAgaGl0KHBsYXllciwgcGxheWVyRmFjaW5nRGlyZWN0aW9uLCBpc0p1bXBpbmcsIGlzUmVjZWl2aW5nID0gZmFsc2UpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBub3cgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG5cclxuICAgICAgICAvLyBzaSBlcyBlbCBtaXNtbyBqdWdhZG9yIHkgaGEgcGFzYWRvIG11eSBwb2NvIHRpZW1wbyxcclxuICAgICAgICAvLyBpZ25vcmFtb3MgZXNlIFwidG9xdWVcIiBwYXJhIG5vIHN1bWFyIG3DoXMgZ29scGVzXHJcbiAgICAgICAgaWYgKHRoaXMubGFzdEhpdFBsYXllcklkID09PSBwbGF5ZXIuaWQgJiYgKG5vdyAtIHRoaXMubGFzdEhpdFRpbWUpIDwgMTIwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdHJhbW9zIGVzdGUgbnVldm8gZ29scGUgdsOhbGlkb1xyXG4gICAgICAgIHRoaXMubGFzdEhpdFBsYXllcklkID0gcGxheWVyLmlkO1xyXG4gICAgICAgIHRoaXMubGFzdEhpdFRpbWUgPSBub3c7XHJcblxyXG4gICAgICAgIC8vIHNlIGluY3JlbWVudGEgZWwgY29udGFkb3IgZGUgdG9xdWVzIHNpIGVsIG1pc21vIGp1Z2Fkb3IgY29udGluw7phLCBzZSByZWluaWNpYSBzaSBlcyBlbCBvdHJvXHJcbiAgICAgICAgaWYgKHRoaXMubGFzdFRvdWNoZWRCeSA9PT0gcGxheWVyLmlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG91Y2hDb3VudCsrO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudG91Y2hDb3VudCA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdFRvdWNoZWRCeSA9IHBsYXllci5pZDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRvdWNoQ291bnQgPiAzKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25GYWx0YSgndG9xdWVFeGNlZGlkbycsIHBsYXllcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNlIGNhbGN1bGEgdmVsb2NpZGFkIGRlIGxhIHBlbG90YSBzZWfDum4gbGEgZGlyZWNjacOzbiBkZWwganVnYWRvciB5IHNpIGVzdMOhIHNhbHRhbmRvL3JlY2liaWVuZG9cclxuICAgICAgICBsZXQgdmVsb2NpdHlYLCB2ZWxvY2l0eVk7XHJcblxyXG4gICAgICAgIGlmIChpc1JlY2VpdmluZykge1xyXG4gICAgICAgICAgICAvLyByZWNlcGNpw7NuOiBwYXLDoWJvbGEgbGFyZ2EgeSBhbmNoYSAodHJheWVjdG9yaWEgZGVmZW5zaXZhKVxyXG4gICAgICAgICAgICAvLyBtZW5vciB2ZWxvY2lkYWQgaG9yaXpvbnRhbCwgbWF5b3IgdmVsb2NpZGFkIHZlcnRpY2FsIHBhcmEgZWwgYXJjb1xyXG4gICAgICAgICAgICBjb25zdCBiYXNlU3BlZWRYID0gMTgwO1xyXG4gICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbFN0cmVuZ3RoID0gLTM1MDsgLy8gY29tcG9uZW50ZSB2ZXJ0aWNhbCBtYXlvciBwYXJhIGVsIGFyY29cclxuXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXJGYWNpbmdEaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlYID0gLWJhc2VTcGVlZFg7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSBiYXNlU3BlZWRYO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZlbG9jaXR5WSA9IHZlcnRpY2FsU3RyZW5ndGg7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0p1bXBpbmcpIHtcclxuICAgICAgICAgICAgLy8gc2FsdG8vYXRhcXVlOiBob3Jpem9udGFsIGZ1ZXJ0ZSwgdmVydGljYWwgZMOpYmlsIChyZW1hdGUvc21hc2gpXHJcbiAgICAgICAgICAgIC8vIGFsdGEgdmVsb2NpZGFkIGhvcml6b250YWwsIGJhamEgdmVsb2NpZGFkIHZlcnRpY2FsIHBhcmEgdHJheWVjdG9yaWEgcGxhbmFcclxuICAgICAgICAgICAgY29uc3QgYmFzZVNwZWVkWCA9IDIyMDsgLy8gMzAwXHJcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsU3RyZW5ndGggPSAtMTUwOyAvLyBjb21wb25lbnRlIHZlcnRpY2FsIGJham8gcGFyYSBhdGFxdWUgcGxhbm9cclxuXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXJGYWNpbmdEaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlYID0gLWJhc2VTcGVlZFg7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSBiYXNlU3BlZWRYO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZlbG9jaXR5WSA9IHZlcnRpY2FsU3RyZW5ndGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gZ29scGUgcmVndWxhciBkZXNkZSBlbCBzdWVsb1xyXG4gICAgICAgICAgICBjb25zdCBiYXNlU3BlZWRYID0gMjAwO1xyXG5cclxuICAgICAgICAgICAgaWYgKHBsYXllckZhY2luZ0RpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSAtYmFzZVNwZWVkWDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5WCA9IGJhc2VTcGVlZFg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmVsb2NpdHlZID0gLTEwMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5KHZlbG9jaXR5WCwgdmVsb2NpdHlZKTtcclxuXHJcbiAgICAgICAgLy8gc2UgYWN0dWFsaXphciBlbCBsYWRvIGRlIGxhIGNhbmNoYSBzZWfDum4gbGEgZGlyZWNjacOzbiBkZSBsYSB2ZWxvY2lkYWRcclxuICAgICAgICBpZiAodmVsb2NpdHlYID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvdXJ0U2lkZSA9ICdyaWdodCc7XHJcbiAgICAgICAgfSBlbHNlIGlmICh2ZWxvY2l0eVggPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY291cnRTaWRlID0gJ2xlZnQnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBTZSBsbGFtYSBjdWFuZG8gbGEgcGVsb3RhIGNydXphIGxhIHJlZFxyXG4gICAgY3Jvc3NOZXQoKSB7XHJcbiAgICAgICAgLy8gc2UgcmVpbmljaWEgZWwgY29udGFkb3IgZGUgdG9xdWVzIHBhcmEgZWwgbnVldm8gbGFkbyBkZSBjYW5jaGFcclxuICAgICAgICB0aGlzLnRvdWNoQ291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMubGFzdFRvdWNoZWRCeSA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIHNlIGNhbWJpYSBkZSBsYWRvIGRlIGNhbmNoYVxyXG4gICAgICAgIHRoaXMuY291cnRTaWRlID0gdGhpcy5jb3VydFNpZGUgPT09ICdsZWZ0JyA/ICdyaWdodCcgOiAnbGVmdCc7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2UgbGxhbWEgY3VhbmRvIGxhIHBlbG90YSB0b2NhIGVsIHN1ZWxvXHJcbiAgICBvbkdyb3VuZGVkKCkge1xyXG5pZiAoIXRoaXMuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGJhbGxPbkxlZnQgPSB0aGlzLnNwcml0ZS54IDwgdGhpcy5uZXRYO1xyXG4gICAgY29uc3QgYmFsbE9uUmlnaHQgPSB0aGlzLnNwcml0ZS54ID4gdGhpcy5uZXRYO1xyXG5cclxuICAgIC8vIGRldGVybWluYXIgcXVpw6luIGFub3RhXHJcbiAgICBpZiAoYmFsbE9uTGVmdCkge1xyXG4gICAgICAgIHRoaXMub25SYWxseUVuZCgncGxheWVyMicpOyAvLyBwbGF5ZXIyIGFub3RhXHJcbiAgICAgICAgdGhpcy5yZXNldFJhbGx5KCdwbGF5ZXIxJyk7XHJcbiAgICB9IGVsc2UgaWYgKGJhbGxPblJpZ2h0KSB7XHJcbiAgICAgICAgdGhpcy5vblJhbGx5RW5kKCdwbGF5ZXIxJyk7IC8vIHBsYXllcjEgYW5vdGFcclxuICAgICAgICB0aGlzLnJlc2V0UmFsbHkoJ3BsYXllcjInKTtcclxuICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBcclxuXHJcbiAgICAvLyBTZSBsbGFtYSBjdWFuZG8gb2N1cnJlIHVuYSBmYWx0YSAoZGVtYXNpYWRvcyB0b3F1ZXMsIHBlbG90YSBmdWVyYSBkZSBsw61taXRlcywgZXRjLilcclxuICAgIG9uRmFsdGEoZmFsdGFUeXBlLCBmYWx0aW5nUGxheWVyKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQmFsbExpdmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gc2UgZGV0ZXJtaW5hciBlbCBqdWdhZG9yIHF1ZSBhbm90YSAob3B1ZXN0byBhbCBxdWUgY29tZXRpw7MgZmFsdGEpXHJcbiAgICAgICAgY29uc3Qgc2NvcmluZ1BsYXllcklkID0gZmFsdGluZ1BsYXllci5pZCA9PT0gJ3BsYXllcjEnID8gJ3BsYXllcjInIDogJ3BsYXllcjEnO1xyXG5cclxuICAgICAgICB0aGlzLm9uUmFsbHlFbmQoc2NvcmluZ1BsYXllcklkKTtcclxuICAgICAgICB0aGlzLnJlc2V0UmFsbHkoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZSBsbGFtYSBjdWFuZG8gZmluYWxpemEgdW4gcmFsbHkgKGFsZ3VpZW4gYW5vdGEpXHJcbiAgICBvblJhbGx5RW5kKHNjb3JpbmdQbGF5ZXJJZCkge1xyXG4gICAgICAgIHRoaXMuaXNCYWxsTGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBzZSBsYW56YSB1biBldmVudG8gcGFyYSBxdWUgR2FtZV9TY2VuZSBtYW5lamUgbGEgcHVudHVhY2nDs25cclxuICAgICAgICB0aGlzLnNjZW5lLmV2ZW50cy5lbWl0KCdyYWxseUNvbmNsdWRlZCcsIHtcclxuICAgICAgICAgICAgc2NvcmluZ1BsYXllcklkOiBzY29yaW5nUGxheWVySWQsXHJcbiAgICAgICAgICAgIHRvdWNoQ291bnQ6IHRoaXMudG91Y2hDb3VudCxcclxuICAgICAgICAgICAgbGFzdFRvdWNoZWRCeTogdGhpcy5sYXN0VG91Y2hlZEJ5XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVpbmljaWEgZWwgZXN0YWRvIGRlbCByYWxseSB5IHJlcG9zaWNpb25hIGxhIHBlbG90YSBwYXJhIGVsIHNhcXVlXHJcbiAgICByZXNldFJhbGx5KHNjb3JpbmdQbGF5ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0JhbGxMaXZlID0gdHJ1ZTtcclxuICAgIHRoaXMubGFzdFRvdWNoZWRCeSA9IG51bGw7XHJcbiAgICB0aGlzLnRvdWNoQ291bnQgPSAwO1xyXG5cclxuXHJcbiAgICAgICAgLy8gc2UgcmVwb3NpY2lvbmEgbGEgcGVsb3RhIGFsIGNlbnRybyBkZSBsYSBjYW5jaGEsIGxpZ2VyYW1lbnRlIHNvYnJlIGVsIHN1ZWxvXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0UG9zaXRpb24odGhpcy5uZXRYLCAxMDApO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xyXG5cclxuICAgICAgICAvLyBsaW1waWFyIGluZm8gZGUgw7psdGltbyBnb2xwZVxyXG4gICAgICAgIHRoaXMubGFzdEhpdFRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMubGFzdEhpdFBsYXllcklkID0gbnVsbDtcclxuXHJcbiAgICBpZiAodGhpcy5pc0ZpcnN0U2VydmUpIHtcclxuICAgICAgICAvLyBwcmltZXIgc2FxdWU6IHNpZW1wcmUgZW4gZWwgbGFkbyBkZSBwbGF5ZXIxXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0UG9zaXRpb24odGhpcy5uZXRYIC0gMTAwLCAxMDApOyAvLyBsYWRvIGl6cXVpZXJkb1xyXG4gICAgICAgIHRoaXMuaXNGaXJzdFNlcnZlID0gZmFsc2U7IC8vIHlhIG5vIHNlcsOhIGVsIHByaW1lciBzYXF1ZVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyByYWxsaWVzIG5vcm1hbGVzOiBsYSBwZWxvdGEgYXBhcmVjZSBkZWwgbGFkbyBkZWwganVnYWRvciBxdWUgYW5vdMOzXHJcbiAgICAgICAgaWYgKHNjb3JpbmdQbGF5ZXIgPT09ICdwbGF5ZXIxJykge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRQb3NpdGlvbih0aGlzLm5ldFggKyAxMDAsIDEwMCk7IC8vIGxhZG8gZGVyZWNob1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFBvc2l0aW9uKHRoaXMubmV0WCAtIDEwMCwgMTAwKTsgLy8gbGFkbyBpenF1aWVyZG9cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWN0dWFsaXphIGVsIGVzdGFkbyBkZSBsYSBwZWxvdGEgY2FkYSBmcmFtZSAoc2UgcmFzdHJlYSBlbCBsYWRvIGRlIGxhIGNhbmNoYSBzZWfDum4gbGEgcG9zaWNpw7NuKVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0JhbGxMaXZlKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YSBlbCBsYWRvIGRlIGNhbmNoYSBzZWfDum4gcG9zaWNpw7NuIGFjdHVhbFxyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS54IDwgdGhpcy5uZXRYIC0gMjApIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAnbGVmdCc7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNwcml0ZS54ID4gdGhpcy5uZXRYICsgMjApIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAncmlnaHQnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQ29tbWFuZFByb2Nlc3NvciB7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldFBsYXllcnMocGxheWVycykge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IHBsYXllcnM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0R2FtZVNjZW5lKGdhbWVTY2VuZSkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gZ2FtZVNjZW5lO1xyXG4gICAgfVxyXG5cclxuICAgIHByb2Nlc3MoY29tbWFuZCkge1xyXG4gICAgICAgIGNvbW1hbmQuZXhlY3V0ZSgpO1xyXG4gICAgICAgIC8vIFNlbnQgb3ZlciB0aGUgd2Vic29ja2V0XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQ29tbWFuZCB7XHJcbiAgICBcclxuICAgIGV4ZWN1dGUoKSB7fVxyXG5cclxuICAgIHNlcmlhbGl6ZSgpIHt9XHJcblxyXG4gICAgZ2V0UGxheWVyKCkge31cclxufSIsIi8vIENsYXNlIHF1ZSBzZSBlbmNhcmdhIGRlIGxhIGzDs2dpY2EgZGVsIG1vdmltaWVudG8gZGVsIHBlcnNvbmFqZVxyXG5cclxuaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gJy4vQ29tbWFuZC5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTW92ZVBsYXllckNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcclxuICAgIGNvbnN0cnVjdG9yKHBsYXllciwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjsgICAgICAgLy8gaW5zdGFuY2lhIGRlbCBwZXJzb25hamVcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjsgLy8gZGlyZWNjacOzbiBkZSBtb3ZtaWVudG9cclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCkge1xyXG4gICAgICAgICBzd2l0Y2ggKHRoaXMuZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIGNvcnJlciBoYWNpYSBsYSBpemRhXHJcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIubW92ZUxlZnQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBjb3JyZXIgaGFjaWEgbGEgZGNoYVxyXG4gICAgICAgICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5tb3ZlUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBzYWx0YXIvcmVtYXRhciBhIGxhIGl6ZGFcclxuICAgICAgICAgICAgY2FzZSAnanVtcExlZnQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuanVtcExlZnQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBzYWx0YXIvcmVtYXRhIGEgbGEgZGNoYVxyXG4gICAgICAgICAgICBjYXNlICdqdW1wUmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuanVtcFJpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gcmVjaWJpciBwb3IgbGEgaXpkYVxyXG4gICAgICAgICAgICBjYXNlICdyZWNlaXZlTGVmdCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5yZWNlaXZlTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIHJlY2liaXIgcG9yIGxhIGRjaGFcclxuICAgICAgICAgICAgY2FzZSAncmVjZWl2ZVJpZ2h0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnJlY2VpdmVSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIHBhcmFkbywgaWRsZSBpemRhXHJcbiAgICAgICAgICAgIGNhc2UgJ2lkbGVMZWZ0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmlkbGVMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gcGFyYWRvLCBpZGxlIGRjaGEgKHkgY2FzbyBwb3IgZGVmZWN0bylcclxuICAgICAgICAgICAgLy9jYXNlICdpZGxlUmlnaHQnOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuaWRsZVJpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcGFyYSBlbCBtb2RvIEVOIFJFRFxyXG4gICAgZ2V0UGxheWVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYXllci5pZDtcclxuICAgIH1cclxuXHJcbiAgICBzZXJpYWxpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogJ01vdmVQbGF5ZXJDb21tYW5kJyxcclxuICAgICAgICAgICAgcGxheWVySWQ6IHRoaXMucGxheWVyLmlkLFxyXG4gICAgICAgICAgICBkaXJlY3Rpb246IHRoaXMuZGlyZWN0aW9uXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4iLCIvLyBDbGFzZSBkZSBsYSBlc2NlbmEgZGUganVlZ29cclxuXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi4vRW50aXRpZXMvUGxheWVyLmpzJztcclxuaW1wb3J0IHsgUG93ZXJVcCB9IGZyb20gJy4uL0VudGl0aWVzL1Bvd2VyVXAuanMnO1xyXG5pbXBvcnQgeyBCYWxsIH0gZnJvbSAnLi4vRW50aXRpZXMvQmFsbC5qcyc7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9Db21tYW5kcy9Db21tYW5kUHJvY2Vzc29yLmpzJztcclxuaW1wb3J0IHsgTW92ZVBsYXllckNvbW1hbmQgfSBmcm9tICcuLi9Db21tYW5kcy9Nb3ZlUGxheWVyQ29tbWFuZC5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICB0aWVtcG9Ub3RhbCA9IDYwOyAvLyBwYXJhIDIgbWluIHBvbmVyIDEyMCBzZWd1bmRvc1xyXG4gICAgdGllbXBvUmVzdGFudGUgPSB0aGlzLnRpZW1wb1RvdGFsO1xyXG4gICAgdGltZXJUZXh0O1xyXG4gICAgdGltZXJFdmVudDtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxID0gZGF0YS5wbGF5ZXIxO1xyXG4gICAgICAgIHRoaXMucGxheWVyMiA9IGRhdGEucGxheWVyMjtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkU2NlbmFyaW8gPSBkYXRhLnNlbGVjdGVkU2NlbmFyaW87XHJcbiAgICAgICAgdGhpcy5iYWxsID0gbnVsbDtcclxuICAgICAgICB0aGlzLnNjb3JlUDEgPSAwO1xyXG4gICAgICAgIHRoaXMuc2NvcmVQMiA9IDA7XHJcbiAgICAgICAgdGhpcy5zZXRzUDEgPSAwO1xyXG4gICAgICAgIHRoaXMuc2V0c1AyID0gMDtcclxuICAgICAgICB0aGlzLm1heFNldHMgPSAzOyAvLyBtZWpvciBkZSAzXHJcbiAgICAgICAgdGhpcy5jdXJyZW50U2V0ID0gMTsgLy8gc2V0IGFjdHVhbFxyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gY2hhcmFjdGVyQVxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJBX21vdmUnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0EvQU5JTUFDSU9ORVNfQ09SUkVSX1JFQ0lCSVIucG5nJyxcclxuICAgICAgICAgICAgeyBmcmFtZVdpZHRoOiAyOSwgZnJhbWVIZWlnaHQ6IDQ0IH1cclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJBX2p1bXAnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0EvQU5JTUFDSU9OX1JFTUFURS5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDMyLCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIGNoYXJhY3RlckJcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoXHJcbiAgICAgICAgICAgICdjaGFyQl9tb3ZlJyxcclxuICAgICAgICAgICAgJ0FTU0VUUy9QRVJTT05BSkVTL0FOSU1BQ0lPTkVTL1BFUlNPTkFKRV9CL0FOSU1BQ0lPTkVTX0NPUlJFUl9SRUNJQklSLnBuZycsXHJcbiAgICAgICAgICAgIHsgZnJhbWVXaWR0aDogMjksIGZyYW1lSGVpZ2h0OiA0NCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoXHJcbiAgICAgICAgICAgICdjaGFyQl9qdW1wJyxcclxuICAgICAgICAgICAgJ0FTU0VUUy9QRVJTT05BSkVTL0FOSU1BQ0lPTkVTL1BFUlNPTkFKRV9CL0FOSU1BQ0lPTl9SRU1BVEUucG5nJyxcclxuICAgICAgICAgICAgeyBmcmFtZVdpZHRoOiAzMiwgZnJhbWVIZWlnaHQ6IDQ0IH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBjaGFyYWN0ZXJDXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckNfbW92ZScsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQy9BTklNQUNJT05FU19DT1JSRVJfUkVDSUJJUi5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDI5LCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckNfanVtcCcsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQy9BTklNQUNJT05fUkVNQVRFLnBuZycsXHJcbiAgICAgICAgICAgIHsgZnJhbWVXaWR0aDogMzIsIGZyYW1lSGVpZ2h0OiA0NCB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gRXNjZW5hcmlvc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnR3ltJywgJ0FTU0VUUy9GT05ET1MvR0lNTkFTSU8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQbGF5YScsICdBU1NFVFMvRk9ORE9TL1BMQVlBLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSmFyZGluJywgJ0FTU0VUUy9GT05ET1MvSkFSRElOLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBQb3dlclVwc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9yMicsICdBU1NFVFMvSVRFTVMvUE9XRVIgVVBTL01VTFRJUExJQ0FET1IgMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvcjMnLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9NVUxUSVBMSUNBRE9SIDMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYXJhbGl6YXInLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9QQVJBTElaQURPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncmFsZW50aXphcicsICdBU1NFVFMvSVRFTVMvUE9XRVIgVVBTL1JFTEVOVElaQVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd2ZWxvY2lkYWQnLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9WRUxPQ0lEQUQucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjb1Bvd2VyVXAnLCAnQVNTRVRTL0pVRUdPL0Jhc2VfcG93ZXJVcC5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gQmFsbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYmFsbCcsICdBU1NFVFMvSVRFTVMvUEVMT1RBUy9QX05PUk1BTC5wbmcnKTtcclxuXHJcbiAgICAgICAgLy9Dcm9ub21ldHJvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdyZWxvaicsICdBU1NFVFMvSlVFR08vVElNRVIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIE1hcmNvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjb0dlbmVyYWwnLCAnQVNTRVRTL0pVRUdPL01BUkNBRE9SX1NFVC5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gUmVkXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdyZWQnLCAnQVNTRVRTL0pVRUdPL1JFRC5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gc2UgZ3VhcmRhbiBsYXMgZGltZW5zaW9uZXNcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgdGhpcy53b3JsZFdpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy53b3JsZEhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7XHJcblxyXG5cclxuICAgICAgICAvL0Nyb25vbWV0cm9cclxuICAgICAgICB0aGlzLnRpbWVyVGV4dCA9IHRoaXMuYWRkLnRleHQodGhpcy5zY2FsZS53aWR0aCAvIDIsIDMwLCBcIlwiLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc2V0T3JpZ2luKDAuNSwgMClcclxuICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXHJcbiAgICAgICAgLnNldERlcHRoKDk5OTkpO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWVySWNvbiA9IHRoaXMuYWRkLmltYWdlKHRoaXMuc2NhbGUud2lkdGggLyAyLCA0NSwgJ3JlbG9qJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgyKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCg5MDAwKTsgLy8gZGViYWpvIGRlbCB0ZXh0b1xyXG5cclxuICAgICAgICAvLyBtYXJjbyBkZSBzZXRcclxuICAgICAgICB0aGlzLnNldEZyYW1lID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5zY2FsZS53aWR0aCAvIDIsIDEyMCwgJ21hcmNvR2VuZXJhbCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSlcclxuICAgICAgICAgICAgLnNldERlcHRoKDk5OTgpO1xyXG5cclxuICAgICAgICAvLyB0ZXh0byBkZWwgc2V0IGFjdHVhbFxyXG4gICAgICAgIHRoaXMuc2V0VGV4dCA9IHRoaXMuYWRkLnRleHQodGhpcy5zY2FsZS53aWR0aCAvIDIsIDEyMCwgYFNFVCAke3RoaXMuY3VycmVudFNldH1gLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0RGVwdGgoOTk5OSk7XHJcblxyXG4gICAgICAgIC8vIHRleHRvIHBhcmEgbW9zdHJhciBlbCBnYW5hZG9yIGRlbCBzZXRcclxuICAgICAgICB0aGlzLnNldFdpbm5lclRleHQgPSB0aGlzLmFkZC50ZXh0KHRoaXMuc2NhbGUud2lkdGggLyAyLCAxODUsICcnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0RGVwdGgoOTk5OSlcclxuICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vIGluaWNpYXIgZWwgY29udGFkb3JcclxuICAgICAgICB0aGlzLnRpbWVyRXZlbnQgPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogMTAwMCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMudXBkYXRlVGltZXIsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrU2NvcGU6IHRoaXMsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lcigpO1xyXG5cclxuICAgICAgICAvLyBGT05ETyBERUwgRVNDRU5BUklPIFNFTEVDQ0lPTkFET1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiwgdGhpcy5zZWxlY3RlZFNjZW5hcmlvKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSk7IFxyXG5cclxuICAgICAgICAvLyBSZWRcclxuICAgICAgICBjb25zdCByZWQgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSh3aWR0aCAvIDIsIGhlaWdodCAtIDE2MCwgJ3JlZCcpLnNldFNjYWxlKDAuNik7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlZFRleHR1cmUgPSB0aGlzLnRleHR1cmVzLmdldCgncmVkJykuZ2V0U291cmNlSW1hZ2UoKTtcclxuICAgICAgICByZWQuYm9keS5zZXRTaXplKHJlZFRleHR1cmUud2lkdGggKiAwLjUsIHJlZFRleHR1cmUuaGVpZ2h0ICogMC41KTsgLy8gbXVsdGlwbGljYXIgcG9yIGVsIHNjYWxlXHJcbiAgICAgICAgcmVkLmJvZHkuc2V0T2Zmc2V0KC1yZWQuYm9keS53aWR0aC8yLCAtcmVkLmJvZHkuaGVpZ2h0LzIpO1xyXG4gICAgICAgIHJlZC5ib2R5LnVwZGF0ZUZyb21HYW1lT2JqZWN0KCk7XHJcbiAgICAgICAgdGhpcy5yZWQgPSByZWQ7XHJcblxyXG4gICAgICAgIHRoaXMuX2NyZWF0ZUFuaW1hdGlvbnMoKTtcclxuXHJcbiAgICAgICAgLy9QVU5UVUFDSU9OIERFIExPUyBKVUdBRE9SRVNcclxuICAgICAgICAvLyBNYXJjb3MgZGUgcHVudHVhY2nDs25cclxuICAgICAgICB0aGlzLnBvaW50c0xlZnQgPSAwO1xyXG4gICAgICAgIHRoaXMucG9pbnRzUmlnaHQgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLnNjb3JlRnJhbWVMZWZ0ID0gdGhpcy5hZGQuaW1hZ2UoMjAwLCA1MCwgJ21hcmNvR2VuZXJhbCcpLnNldFNjYWxlKDAuOCwgMC41NSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy5zY29yZUZyYW1lUmlnaHQgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLndvcmxkV2lkdGggLSAyMDAsIDUwLCAnbWFyY29HZW5lcmFsJykuc2V0U2NhbGUoMC44LCAwLjU1KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5zY29yZUxlZnQgPSB0aGlzLmFkZC50ZXh0KDIwMCwgNDUsICcwJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoOTk5OSk7XHJcblxyXG4gICAgICAgIHRoaXMucmlnaHRTY29yZSA9IHRoaXMuYWRkLnRleHQodGhpcy53b3JsZFdpZHRoIC0gMjAwLCA0NSwgJzAnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCg5OTk5KTtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogY2FtYmlhcj9cclxuICAgICAgICAvLyBzdWVsbyBkZSBwcnVlYmE6IGNyZWFyIHVuIGN1ZXJwbyBlc3TDoXRpY28gcmVjdGFuZ3VsYXIgaW52aXNpYmxlXHJcbiAgICAgICAgLy8gQ29uZmlndXJhYmxlOiBhbHR1cmEgeSBkZXNwbGF6YW1pZW50byBkZXNkZSBlbCBmb25kbyAoYGdyb3VuZE9mZnNldGApXHJcbiAgICAgICAgY29uc3QgZ3JvdW5kSGVpZ2h0ID0gMjA7XHJcbiAgICAgICAgY29uc3QgZ3JvdW5kT2Zmc2V0ID0gOTA7IC8vIGVsZXZhciBlbCBzdWVsbyAxMDBweCBkZXNkZSBlbCBmb25kb1xyXG4gICAgICAgIHRoaXMuZ3JvdW5kSGVpZ2h0ID0gZ3JvdW5kSGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuZ3JvdW5kWSA9IHRoaXMud29ybGRIZWlnaHQgLSBncm91bmRPZmZzZXQ7XHJcblxyXG4gICAgICAgIGNvbnN0IGdyb3VuZCA9IHRoaXMuYWRkLnJlY3RhbmdsZShcclxuICAgICAgICAgICAgdGhpcy53b3JsZFdpZHRoIC8gMixcclxuICAgICAgICAgICAgdGhpcy5ncm91bmRZLFxyXG4gICAgICAgICAgICB0aGlzLndvcmxkV2lkdGgsXHJcbiAgICAgICAgICAgIGdyb3VuZEhlaWdodFxyXG4gICAgICAgICkuc2V0T3JpZ2luKDAuNSwgMCkuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgLy8gYcOxYWRpciB1biBjdWVycG8gZsOtc2ljbyBlc3TDoXRpY28gYWwgcmVjdMOhbmd1bG9cclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKGdyb3VuZCwgdHJ1ZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gcHJpbWVybyBzZSBjcmVhbiBsb3MganVnYWRvcmVzXHJcbiAgICAgICAgdGhpcy5fY3JlYXRlUGxheWVycygpO1xyXG4gICAgICAgIC8vIGRlc3B1w6lzLCBzZSBtb250YW4gbGFzIGNvbGlzaW9uZXMgY29uIGVsIHN1ZWxvLCByZWQsIGV0Yy5cclxuICAgICAgICAvLyBtb250YXIgY29saXNpb25lcyBmw61zaWNhcyBlbnRyZSBqdWdhZG9yZXMgeSBzdWVsbyBwYXJhIHF1ZSBib2R5LmJsb2NrZWQuZG93biBmdW5jaW9uZVxyXG4gICAgICAgIHRoaXMuX3NldHVwUGh5c2ljc1dvcmxkKGdyb3VuZCk7XHJcbiAgICAgICAgLy8gcG9yIMO6bHRpbW8sIHNlIGFzaWduYW4gbGFzIHRlY2xhc1xyXG4gICAgICAgIHRoaXMuX3NldHVwSW5wdXRNYXBwaW5ncygpO1xyXG5cclxuICAgICAgICAvLyBwb3dlcnVwc1xyXG4gICAgICAgIHRoaXMucG93ZXJVcHMgPSBbXTtcclxuICAgICAgICB0aGlzLm1heFBvd2VyVXBzID0gMjtcclxuXHJcbiAgICAgICAgdGhpcy5pbnZlbnRvcnlVSSA9IHtcclxuICAgICAgICAgICAgcGxheWVyMTogW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNTAsIDUwLCAnJykuc2V0U2NhbGUoMS40KS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCgxKSxcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKDExMCwgNTAsICcnKS5zZXRTY2FsZSgxLjQpLnNldFZpc2libGUoZmFsc2UpLnNldERlcHRoKDEpXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHBsYXllcjI6IFtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKHRoaXMud29ybGRXaWR0aCAtIDExMCwgNTAsICcnKS5zZXRTY2FsZSgxLjQpLnNldFZpc2libGUoZmFsc2UpLnNldERlcHRoKDEpLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UodGhpcy53b3JsZFdpZHRoIC0gNTAsIDUwLCAnJykuc2V0U2NhbGUoMS40KS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCgxKVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gTWFyY29zIGRlbCBpbnZlbnRhcmlvXHJcbiAgICAgICAgdGhpcy5pbnZlbnRvcnlGcmFtZXMgPSB7XHJcbiAgICAgICAgICAgIHBsYXllcjE6IFtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKDUwLCA1MCwgJ21hcmNvUG93ZXJVcCcpLnNldFNjYWxlKDEpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDApLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMTEwLCA1MCwgJ21hcmNvUG93ZXJVcCcpLnNldFNjYWxlKDEpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDApXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHBsYXllcjI6IFtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKHRoaXMud29ybGRXaWR0aCAtIDExMCwgNTAsICdtYXJjb1Bvd2VyVXAnKS5zZXRTY2FsZSgxKS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgwKSxcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKHRoaXMud29ybGRXaWR0aCAtIDUwLCA1MCwgJ21hcmNvUG93ZXJVcCcpLnNldFNjYWxlKDEpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDApXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBjYWRhIDItNXMgaW50ZW50YW1vcyBnZW5lcmFyIHVub1xyXG4gICAgICAgIHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiBQaGFzZXIuTWF0aC5CZXR3ZWVuKDIwMDAsIDUwMDApLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucG93ZXJVcHMubGVuZ3RoID49IHRoaXMubWF4UG93ZXJVcHMpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gUGhhc2VyLk1hdGguQmV0d2Vlbig4MCwgdGhpcy53b3JsZFdpZHRoIC0gODApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IFBoYXNlci5NYXRoLkJldHdlZW4odGhpcy53b3JsZEhlaWdodCAtIDIyMCwgdGhpcy53b3JsZEhlaWdodCAtIDEyMCk7IC8vIGV2aXRhciBsYSByZWQgeSBlbCBzdWVsb1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGVzID0gWyd2ZWxvY2lkYWQnLCAncmFsZW50aXphcicsICdwYXJhbGl6YXInLCAncG9yMicsICdwb3IzJ107XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gUGhhc2VyLlV0aWxzLkFycmF5LkdldFJhbmRvbSh0eXBlcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgcG93ZXJVcCA9IG5ldyBQb3dlclVwKHRoaXMsIHgsIHksIHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb3dlclVwcy5wdXNoKHBvd2VyVXApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNyZWFyIGNvbGlzacOzbiBjb24gbG9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAocGxheWVyLnNwcml0ZSwgcG93ZXJVcC5zcHJpdGUsICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RvcmVkID0gcGxheWVyLmFwcGx5UG93ZXJVcCh0eXBlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG9yZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvd2VyVXAuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3dlclVwcyA9IHRoaXMucG93ZXJVcHMuZmlsdGVyKHAgPT4gcCAhPT0gcG93ZXJVcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBsYXllckludmVudG9yeVVJKHBsYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBsaW1waWFyIGRlIGxhIGxpc3RhIGN1YW5kbyBkZXNhcGFyZWNlXHJcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwocG93ZXJVcC5saWZldGltZSwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG93ZXJVcHMgPSB0aGlzLnBvd2VyVXBzLmZpbHRlcihwID0+IHAgIT09IHBvd2VyVXApO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gaW5pY2lhbGl6YWNpw7NuIGRlIGxhIHBlbG90YVxyXG4gICAgICAgIHRoaXMuX2NyZWF0ZUJhbGwoKTtcclxuICAgICAgICAvLyBjb2xsaWRlcnMgZGUgbGEgcGVsb3RhXHJcbiAgICAgICAgdGhpcy5fc2V0dXBCYWxsQ29sbGlzaW9ucygpO1xyXG4gICAgICAgIC8vIGV2ZW50b3MgZGUgbGEgcGVsb3RhXHJcbiAgICAgICAgdGhpcy5fc2V0dXBCYWxsRXZlbnRzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oXCJrZXlkb3duLUVTQ1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTsgICAgICAgICAgICAgICAvLyBkZXRpZW5lIGVsIGdhbWUgbG9vcFxyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQucGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goXCJQYXVzZV9TY2VuZVwiKTsgLy8gbXVlc3RyYSBsYSBlc2NlbmEgZGUgcGF1c2FcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigncmVzdW1lJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQucGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlVGltZXIoKSB7XHJcbiAgICAgICAgdGhpcy50aWVtcG9SZXN0YW50ZS0tO1xyXG5cclxuICAgICAgICAvLyBGb3JtYXRvXHJcbiAgICAgICAgY29uc3QgbWludXRvcyA9IE1hdGguZmxvb3IodGhpcy50aWVtcG9SZXN0YW50ZSAvIDYwKTtcclxuICAgICAgICBjb25zdCBzZWd1bmRvcyA9IHRoaXMudGllbXBvUmVzdGFudGUgJSA2MDtcclxuICAgICAgICBjb25zdCBmb3JtYXRvID0gYCR7bWludXRvcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7c2VndW5kb3MudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWA7XHJcblxyXG4gICAgICAgIHRoaXMudGltZXJUZXh0LnNldFRleHQoZm9ybWF0byk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRpZW1wb1Jlc3RhbnRlIDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lckV2ZW50LnBhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRklOIERFTCBUSUVNUE9cIik7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zY29yZVAxID4gdGhpcy5zY29yZVAyKSB0aGlzLl9lbmRTZXQoXCJwbGF5ZXIxXCIpO1xyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnNjb3JlUDIgPiB0aGlzLnNjb3JlUDEpIHRoaXMuX2VuZFNldChcInBsYXllcjJcIik7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFbXBhdGUgZW4gZWwgc2V0XCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzZXRTZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgLy8gc2UgcHJvY2VzYW4gbG9zIGlucHV0cyBkZSBsb3MganVnYWRvcmVzXHJcbiAgICAgICAgdGhpcy5faGFuZGxlSW5wdXRGb3JBbGxQbGF5ZXJzKCk7XHJcbiAgICAgICAgLy8gc2UgYWN0dWFsaXphbiBsb3MgcG93ZXItdXBzXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHBsYXllci51cGRhdGVQb3dlclVwcygpKTtcclxuICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgZXN0YWRvIGRlIGxhIHBlbG90YVxyXG4gICAgICAgIGlmICh0aGlzLmJhbGwpIHtcclxuICAgICAgICAgICAgdGhpcy5iYWxsLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAvLyB2ZXJpZmljYXIgc2kgbGEgcGVsb3RhIGdvbHBlYSBlbCBzdWVsbyAoY29tcGFyYXIgY29uIGxhIHBvc2ljacOzbiBkZWwgc3VlbG8pXHJcbiAgICAgICAgICAgIC8vIGdyb3VuZFkgZXMgbGEgcGFydGUgc3VwZXJpb3IgZGVsIHN1ZWxvXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJhbGwuaXNCYWxsTGl2ZSAmJiB0aGlzLmJhbGwuc3ByaXRlLnkgPiB0aGlzLmdyb3VuZFkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5vbkdyb3VuZGVkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdmVyaWZpY2FyIHNpIGxhIHBlbG90YSBjcnV6YSBsYSByZWQgKHJlZCBlc3TDoSBlbiB4ID0gNDgwKVxyXG4gICAgICAgICAgICBpZiAodGhpcy5iYWxsLnNwcml0ZS54IDwgNDc1ICYmIHRoaXMuYmFsbC5jb3VydFNpZGUgPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5jcm9zc05ldCgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYmFsbC5zcHJpdGUueCA+IDQ4NSAmJiB0aGlzLmJhbGwuY291cnRTaWRlID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5jcm9zc05ldCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVBsYXllckludmVudG9yeVVJKHBsYXllcikge1xyXG4gICAgICAgIGNvbnN0IHVpID0gdGhpcy5pbnZlbnRvcnlVSVtwbGF5ZXIuaWRdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLnBvd2VyVXBJbnZlbnRvcnlbaV0pIHtcclxuICAgICAgICAgICAgICAgIHVpW2ldLnNldFRleHR1cmUocGxheWVyLnBvd2VyVXBJbnZlbnRvcnlbaV0pO1xyXG4gICAgICAgICAgICAgICAgdWlbaV0uc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHVpW2ldLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLy8vIE3DiVRPRE9TIEFVWElMSUFSRVMgLy8vL1xyXG4gICAgLy8gQ3JlYSBsYXMgYW5pbWFjaW9uZXMgZGUgbG9zIDMgcGVyc29uYWplc1xyXG4gICAgX2NyZWF0ZUFuaW1hdGlvbnMoKSB7XHJcbiAgICAgICAgLy8vLyBDaGFyYWN0ZXJBIC8vLy9cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfbW92ZScsIHsgc3RhcnQ6IDAsIGVuZDogMSB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX21vdmUnLCB7IHN0YXJ0OiAyMCwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9yZWNlaXZlUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX21vdmUnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfbW92ZScsIHsgc3RhcnQ6IDExLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9tb3ZlJywgeyBzdGFydDogMjIsIGVuZDogMzIgfSksIC8vIGZpbGEgMlxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDIyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9ydW5MZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9tb3ZlJywgeyBzdGFydDogMzMsIGVuZDogNDMgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDNcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfanVtcCcsIHsgc3RhcnQ6IDAsIGVuZDogMTIgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9qdW1wJywgeyBzdGFydDogMTMsIGVuZDogMjUgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDFcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8vLy8vLy9cclxuXHJcbiAgICAgICAgLy8vLyBDaGFyYWN0ZXJCIC8vLy9cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDAsIGVuZDogMSB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX21vdmUnLCB7IHN0YXJ0OiAyMCwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTsgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfcmVjZWl2ZVJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9tb3ZlJywgeyBzdGFydDogMCwgZW5kOiAxMCB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfcmVjZWl2ZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX21vdmUnLCB7IHN0YXJ0OiAxMSwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMVxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9ydW5SaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDIyLCBlbmQ6IDMyIH0pLCAvLyBmaWxhIDJcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfcnVuTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDMzLCBlbmQ6IDQzIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAzXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMjIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9qdW1wUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX2p1bXAnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEyIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9qdW1wTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfanVtcCcsIHsgc3RhcnQ6IDEzLCBlbmQ6IDI1IH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vLy8vLy8vXHJcblxyXG4gICAgICAgIC8vLy8gQ2hhcmFjdGVyQyAvLy8vXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19pZGxlUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX21vdmUnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX2lkbGVMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19tb3ZlJywgeyBzdGFydDogMjAsIGVuZDogMjEgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA1LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7ICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfcmVjZWl2ZVJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19tb3ZlJywgeyBzdGFydDogMCwgZW5kOiAxMCB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfcmVjZWl2ZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX21vdmUnLCB7IHN0YXJ0OiAxMSwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMVxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19ydW5SaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfbW92ZScsIHsgc3RhcnQ6IDIyLCBlbmQ6IDMyIH0pLCAvLyBmaWxhIDJcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfcnVuTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfbW92ZScsIHsgc3RhcnQ6IDMzLCBlbmQ6IDQzIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAzXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMjIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19qdW1wUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX2p1bXAnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEyIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19qdW1wTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfanVtcCcsIHsgc3RhcnQ6IDEzLCBlbmQ6IDI1IH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vLy8vLy8vXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3JlYSBsb3MgcGVyc29uYWplcyBkZSBjYWRhIGp1Z2Fkb3JcclxuICAgIF9jcmVhdGVQbGF5ZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IGNoYXJQMSA9IHRoaXMucGxheWVyMS5jaGFyYWN0ZXI7XHJcbiAgICAgICAgY29uc3QgY2hhclAyID0gdGhpcy5wbGF5ZXIyLmNoYXJhY3RlcjtcclxuXHJcbiAgICAgICAgY29uc3QgcDEgPSBuZXcgUGxheWVyKFxyXG4gICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAncGxheWVyMScsXHJcbiAgICAgICAgICAgIHRoaXMud29ybGRXaWR0aCAqIDAuMjUsICAgLy8gaXpxdWllcmRhXHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kWSAtIDEwMCwgICAgICAgIC8vIGFycmliYSBkZWwgc3VlbG8gKG3DoXMgbWFyZ2VuKVxyXG4gICAgICAgICAgICBjaGFyUDFcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCBwMiA9IG5ldyBQbGF5ZXIoXHJcbiAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgdGhpcy53b3JsZFdpZHRoICogMC43NSwgICAvLyBkZXJlY2hhXHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kWSAtIDEwMCwgICAgICAgIC8vIGFycmliYSBkZWwgc3VlbG8gKG3DoXMgbWFyZ2VuKVxyXG4gICAgICAgICAgICBjaGFyUDJcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgcDEpO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjInLCBwMik7XHJcblxyXG4gICAgICAgIC8vIHNlIGVzdGFibGVjZW4gbG9zIGzDrW1pdGVzIGRlIGxhIGNhbmNoYSBwYXJhIGNhZGEganVnYWRvclxyXG4gICAgICAgIGNvbnN0IGNvdXJ0VG9wID0gNTA7XHJcbiAgICAgICAgLy8gYWxpbmVhciBlbCBsw61taXRlIGluZmVyaW9yIGp1c3RvIHBvciBlbmNpbWEgZGVsIHN1ZWxvXHJcbiAgICAgICAgLy8gY29tbyBlbCBncm91bmQgYWhvcmEgdGllbmUgb3JpZ2luIGVuICgwLjUsIDApLCBncm91bmRZIGVzIGxhIHBhcnRlIHN1cGVyaW9yXHJcbiAgICAgICAgY29uc3QgY291cnRCb3R0b20gPSBNYXRoLmZsb29yKHRoaXMuZ3JvdW5kWSk7XHJcbiAgICAgICAgY29uc3QgY291cnRJbnRlcmlvck1hcmdpbiA9IDI1O1xyXG4gICAgICAgIGNvbnN0IGNvdXJ0RXh0ZXJpb3J0TWFyZ2luID0gODA7XHJcblxyXG4gICAgICAgIC8vIHBsYXllcjEgKGl6cXVpZXJkYSk6XHJcbiAgICAgICAgcDEuc2V0Qm91bmRzKGNvdXJ0RXh0ZXJpb3J0TWFyZ2luLCA0ODAgLSBjb3VydEludGVyaW9yTWFyZ2luLCBjb3VydFRvcCwgY291cnRCb3R0b20pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHBsYXllcjIgKGRlcmVjaGEpOlxyXG4gICAgICAgIHAyLnNldEJvdW5kcyg0ODAgKyBjb3VydEludGVyaW9yTWFyZ2luLCB0aGlzLndvcmxkV2lkdGggLSBjb3VydEV4dGVyaW9ydE1hcmdpbiwgY291cnRUb3AsIGNvdXJ0Qm90dG9tKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnNldFBsYXllcnModGhpcy5wbGF5ZXJzKTtcclxuICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3Iuc2V0R2FtZVNjZW5lKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBwb3IgZGVmZWN0bywgYW5pbWFjacOzbiBpZGxlXHJcbiAgICAgICAgcDEuaWRsZVJpZ2h0KCk7XHJcbiAgICAgICAgcDIuaWRsZUxlZnQoKTtcclxuICAgIH0gICAgXHJcblxyXG4gICAgLy8gQ3JlYSBlbCBzdWVsbywgbGEgcmVkLCBsb3MgbMOtbWl0ZXMsIGV0Yy5cclxuICAgIF9zZXR1cFBoeXNpY3NXb3JsZChncm91bmQpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIGdyb3VuZCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNvbGlzacOzbiBqdWdhZG9yLXJlZFxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMucmVkLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBTZSBkaXNwYXJhIHNpIGVsIGp1Z2Fkb3IgdG9jYSBsYSByZWRcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3BsYXllci5pZH0gdG9jw7MgbGEgcmVkIWApO1xyXG4gICAgICAgICAgICAgICAgLy8gUG9kcsOtYXMgZGV0ZW5lcmxvIG8gZW1wdWphcmxvIGhhY2lhIGF0csOhczpcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbGlzacOzbiBqdWdhZG9yLXN1ZWxvXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLnNwcml0ZSwgZ3JvdW5kKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBc2lnbmEgbG9zIGNvbnRyb2xlcy90ZWNsYXMgZGUgY2FkYSBqdWdhZG9yXHJcbiAgICBfc2V0dXBJbnB1dE1hcHBpbmdzKCkge1xyXG4gICAgICAgIGNvbnN0IGlucHV0Q29uZmlnID0gW1xyXG4gICAgICAgICAgICAvLyBqdWdhZG9yIDFcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdBJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnRCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wS2V5OiAnVycsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlS2V5OiAnUycsXHJcbiAgICAgICAgICAgICAgICBwb3dlcktleTogJ0UnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGp1Z2Fkb3IgMlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjInLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0onLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdMJyxcclxuICAgICAgICAgICAgICAgIGp1bXBLZXk6ICdJJyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVLZXk6ICdLJyxcclxuICAgICAgICAgICAgICAgIHBvd2VyS2V5OiAnTydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IGlucHV0Q29uZmlnLm1hcChjb25maWcgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6IGNvbmZpZy5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFxyXG4gICAgICAgICAgICAgICAgICAgIFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcubGVmdEtleV1cclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICByaWdodEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoXHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yaWdodEtleV1cclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICBqdW1wS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShcclxuICAgICAgICAgICAgICAgICAgICBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmp1bXBLZXldXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZUtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoXHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yZWNlaXZlS2V5XVxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIHBvd2VyS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShcclxuICAgICAgICAgICAgICAgICAgICBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnBvd2VyS2V5XVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByb2Nlc2EgZWwgaW5wdXQgZGUgbG9zIGRvcyBqdWdhZG9yZXNcclxuICAgIF9oYW5kbGVJbnB1dEZvckFsbFBsYXllcnMoKSB7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzLmZvckVhY2gobWFwcGluZyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMucGxheWVycy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgIGlmICghcGxheWVyKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAvLyBzaSBlc3TDoSBwYXJhbGl6YWRvLCBzZSBkZWphIGVuIGlkbGVcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc1BhcmFseXplZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaWRsZURpciA9IChwbGF5ZXIuZmFjaW5nID09PSAnbGVmdCcpID8gJ2lkbGVMZWZ0JyA6ICdpZGxlUmlnaHQnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVQbGF5ZXJDb21tYW5kKHBsYXllciwgaWRsZURpcilcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBkaXJlY3Rpb247XHJcblxyXG4gICAgICAgICAgICAvLyBtb3ZpbWllbnRvIGhvcml6b250YWwgbm9ybWFsXHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLmxlZnRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnbGVmdCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobWFwcGluZy5yaWdodEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbm8gc2UgcHVsc2EgbmFkYSwgYXPDrSBxdWUgc2UgcXVlZGEgaWRsZSBzZWfDum4gaGFjaWEgZMOzbmRlIG1pcmFiYVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IChwbGF5ZXIuZmFjaW5nID09PSAnbGVmdCcpID8gJ2lkbGVMZWZ0JzogJ2lkbGVSaWdodCc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNlIGFwbGljYSBtb3ZpbWllbnRvL2lkbGUgU09MTyBzaSBubyBlc3TDoSBzYWx0YW5kb1xyXG4gICAgICAgICAgICAvLyBzaSBlc3TDoSBzYWx0YW5kbywgbm8gc2UgcHJvY2VzYSBlbCBtb3ZpbWllbnRvIHBhcmEgbm8gc29icmVzY3JpYmlyIGxhIGFuaW1hY2nDs25cclxuICAgICAgICAgICAgaWYgKCFwbGF5ZXIuaXNKdW1waW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IucHJvY2VzcyhcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTW92ZVBsYXllckNvbW1hbmQocGxheWVyLCBkaXJlY3Rpb24pXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyByZWNlcGNpw7NuXHJcbiAgICAgICAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24obWFwcGluZy5yZWNlaXZlS2V5T2JqKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVjZWl2ZURpciA9IChwbGF5ZXIuZmFjaW5nID09PSAnbGVmdCcpID8gJ3JlY2VpdmVMZWZ0JyA6ICdyZWNlaXZlUmlnaHQnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVQbGF5ZXJDb21tYW5kKHBsYXllciwgcmVjZWl2ZURpcilcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNhbHRvL3JlbWF0ZVxyXG4gICAgICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKG1hcHBpbmcuanVtcEtleU9iaikpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGp1bXBEaXIgPSAocGxheWVyLmZhY2luZyA9PT0gJ2xlZnQnKSA/ICdqdW1wTGVmdCcgOiAnanVtcFJpZ2h0JztcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlUGxheWVyQ29tbWFuZChwbGF5ZXIsIGp1bXBEaXIpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBQb3dlclVwc1xyXG4gICAgICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKG1hcHBpbmcucG93ZXJLZXlPYmopKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIudXNlTmV4dFBvd2VyVXAoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGxheWVySW52ZW50b3J5VUkocGxheWVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgZXN0YWRvIGRlIGxvcyBqdWdhZG9yZXMgKHN1ZWxvLCBldGMuKVxyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiBwbGF5ZXIudXBkYXRlKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWEgbGEgcGVsb3RhXHJcbiAgICBfY3JlYXRlQmFsbCgpIHtcclxuICAgICAgICB0aGlzLmJhbGwgPSBuZXcgQmFsbCh0aGlzLCB0aGlzLndvcmxkV2lkdGggLyAyLCAxNTApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbmZpZ3VyYSBsYXMgY29saXNpb25lcyBkZSBsYSBwZWxvdGFcclxuICAgIF9zZXR1cEJhbGxDb2xsaXNpb25zKCkge1xyXG4gICAgICAgIC8vIGNvbGlzaW9uZXMgZGUgbGEgcGVsb3RhIGNvbiBsb3MganVnYWRvcmVzXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICAoKSA9PiB0aGlzLl9vbkJhbGxQbGF5ZXJDb2xsaXNpb24odGhpcy5iYWxsLCBwbGF5ZXIpLFxyXG4gICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgIHRoaXNcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gY29saXNpw7NuIHBlbG90YS1yZWRcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuYmFsbC5zcHJpdGUsIHRoaXMucmVkLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEVzdG8gc2UgZGlzcGFyYSBhbCB0b2NhciBsYSByZWRcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xhIHBlbG90YSB0b2NhIGxhIHJlZCEnKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFBvciBlamVtcGxvLCBzZSBwdWVkZSBmcmVuYXIgbGEgcGVsb3RhOlxyXG4gICAgICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLnNldFZlbG9jaXR5WCh0aGlzLmJhbGwuc3ByaXRlLmJvZHkudmVsb2NpdHkueCAqIDAuNSk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFsbC5zcHJpdGUuc2V0VmVsb2NpdHlZKHRoaXMuYmFsbC5zcHJpdGUuYm9keS52ZWxvY2l0eS55ICogMC41KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gY29saXNpw7NuIGRlIGxhIHBlbG90YSBjb24gZWwgc3VlbG8gKGRpc3BhcmEgcHVudHVhY2nDs24pXHJcbiAgICAgICAgY29uc3QgZ3JvdW5kWSA9IHRoaXMud29ybGRIZWlnaHQgLSAxMDtcclxuICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLnNldEJvdW5jZSgwLjgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbmZpZ3VyYSBsb3MgZXZlbnQgbGlzdGVuZXJzIGRlIGxhIHBlbG90YVxyXG4gICAgX3NldHVwQmFsbEV2ZW50cygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigncmFsbHlDb25jbHVkZWQnLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUmFsbHkgY29uY2x1ZGVkOiAke2RhdGEuc2NvcmluZ1BsYXllcklkfSBzY29yZXMhYCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjb3JlcklkID0gZGF0YS5zY29yaW5nUGxheWVySWQ7XHJcblxyXG4gICAgICAgICAgICAvLyBzZSBjb2dlIGVsIHBsYXllciBxdWUgaGEgYW5vdGFkb1xyXG4gICAgICAgICAgICBjb25zdCBzY29yaW5nUGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldChzY29yZXJJZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBzY29yaW5nUGxheWVyID8gKHNjb3JpbmdQbGF5ZXIuc2NvcmVNdWx0aXBsaWVyIHx8IDEpIDogMTtcclxuXHJcbiAgICAgICAgICAgIC8vIDEgcHVudG8gYmFzZSAqIG11bHRpcGxpY2Fkb3JcclxuICAgICAgICAgICAgY29uc3QgcG9pbnRzVG9BZGQgPSBtdWx0aXBsaWVyO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNjb3JlcklkID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgICAgIC8vIG1hcmNhZG9yIHZpc3VhbFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludHNMZWZ0ICs9IHBvaW50c1RvQWRkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZUxlZnQuc2V0VGV4dCh0aGlzLnBvaW50c0xlZnQudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcHVudG9zIGRlbCBzZXQgKHBhcmEgbMOzZ2ljYSBkZSBzZXRzKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZVAxICs9IHBvaW50c1RvQWRkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNjb3JlcklkID09PSAncGxheWVyMicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzUmlnaHQgKz0gcG9pbnRzVG9BZGQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0U2NvcmUuc2V0VGV4dCh0aGlzLnBvaW50c1JpZ2h0LnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVQMiArPSBwb2ludHNUb0FkZDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gY29uZGljacOzbiBkZSAxMSBwdW50b3MgY29uIDIgZGUgZGlmZXJlbmNpYVxyXG4gICAgICAgICAgICB0aGlzLl9jaGVja1dpbkNvbmRpdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgLy8gTWFuZWphIGNvbGlzacOzbiBlbnRyZSBwZWxvdGEgeSBqdWdhZG9yXHJcbiAgICBfb25CYWxsUGxheWVyQ29sbGlzaW9uKGJhbGwsIHBsYXllcikge1xyXG4gICAgICAgIGlmICghYmFsbC5pc0JhbGxMaXZlKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGlzSnVtcGluZyA9ICFwbGF5ZXIuc3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duO1xyXG4gICAgICAgIGNvbnN0IGlzUmVjZWl2aW5nID0gcGxheWVyLmlzUmVjZWl2aW5nO1xyXG4gICAgICAgIGNvbnN0IHBsYXllckRpcmVjdGlvbiA9IHBsYXllci5mYWNpbmc7XHJcblxyXG4gICAgICAgIGJhbGwuaGl0KHBsYXllciwgcGxheWVyRGlyZWN0aW9uLCBpc0p1bXBpbmcsIGlzUmVjZWl2aW5nKTtcclxuICAgIH1cclxuXHJcbiAgICBfZW5kR2FtZSh3aW5uZXIpIHtcclxuICAgICAgICAvLyBwYXJhbW9zIGVsIHRpbWVyIGRlbCBzZXQgc2kgc2lndWUgdml2b1xyXG4gICAgICAgIGlmICh0aGlzLnRpbWVyRXZlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lckV2ZW50LnJlbW92ZShmYWxzZSk7ICAgLy8gZWxpbWluYSBlbCBldmVudG9cclxuICAgICAgICAgICAgdGhpcy50aW1lckV2ZW50ID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE9wY2lvbmFsOiBkZXRlbmVyIGxhIGbDrXNpY2EgZGUgZXN0YSBlc2NlbmEgYW50ZXMgZGUgc2FsaXJcclxuICAgICAgICBpZiAodGhpcy5waHlzaWNzICYmIHRoaXMucGh5c2ljcy53b3JsZCkge1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3Mud29ybGQucGF1c2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE5PIGxsYW1hciBhIHRoaXMuc2NlbmUucGF1c2UoKSBhcXXDrVxyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoXCJFbmRHYW1lX1NjZW5lXCIsIHtcclxuICAgICAgICAgICAgd2lubmVyOiB3aW5uZXIsXHJcbiAgICAgICAgICAgIHBsYXllcjE6IHRoaXMucGxheWVyMSxcclxuICAgICAgICAgICAgcGxheWVyMjogdGhpcy5wbGF5ZXIyLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIF9jaGVja1dpbkNvbmRpdGlvbigpIHtcclxuICAgICAgICBjb25zdCBzY29yZURpZmYgPSB0aGlzLnNjb3JlUDEgLSB0aGlzLnNjb3JlUDI7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnNjb3JlUDEgPj0gMTEgJiYgc2NvcmVEaWZmID49IDIpIHtcclxuICAgICAgICAgICAgdGhpcy5fZW5kU2V0KFwicGxheWVyMVwiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2NvcmVQMiA+PSAxMSAmJiBzY29yZURpZmYgPD0gLTIpIHtcclxuICAgICAgICAgICAgdGhpcy5fZW5kU2V0KFwicGxheWVyMlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgX2VuZFNldCh3aW5uZXIpIHtcclxuICAgICAgICAvLyBhY3R1YWxpemFyIHNldHMgZ2FuYWRvc1xyXG4gICAgICAgIGlmICh3aW5uZXIgPT09ICdwbGF5ZXIxJykgdGhpcy5zZXRzUDErKztcclxuICAgICAgICBlbHNlIGlmICh3aW5uZXIgPT09ICdwbGF5ZXIyJykgdGhpcy5zZXRzUDIrKztcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coYFNldCB0ZXJtaW5hZG8uIFNjb3JlIHNldHM6IFAxPSR7dGhpcy5zZXRzUDF9LCBQMj0ke3RoaXMuc2V0c1AyfWApO1xyXG5cclxuICAgICAgICAvLyBtb3N0cmFyIG1lbnNhamUgZGUgZ2FuYWRvciBkZSBzZXRcclxuICAgICAgICBjb25zdCB3aW5uZXJMYWJlbCA9ICh3aW5uZXIgPT09ICdwbGF5ZXIxJykgPyAnSnVnYWRvciAxJyA6ICdKdWdhZG9yIDInO1xyXG4gICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dC5zZXRUZXh0KGBTZXQgcGFyYSAke3dpbm5lckxhYmVsfWApO1xyXG4gICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dC5zZXRWaXNpYmxlKHRydWUpO1xyXG5cclxuICAgICAgICAvLyBBdmFuemFyIG7Dum1lcm8gZGUgc2V0XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U2V0Kys7XHJcblxyXG4gICAgICAgIGNvbnN0IG1hdGNoT3ZlciA9ICh0aGlzLnNldHNQMSA9PT0gMiB8fCB0aGlzLnNldHNQMiA9PT0gMik7XHJcblxyXG4gICAgICAgIGlmIChtYXRjaE92ZXIpIHtcclxuICAgICAgICAgICAgLy8gw7psdGltbyBzZXQ6IG1vc3RyYW1vcyBlbCBtZW5zYWplIDJzIHkgbHVlZ28gcGFzYW1vcyBhIGxhIGVzY2VuYSBmaW5hbFxyXG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gKHNpIHF1aWVyZXMsIGFxdcOtIHBvZHLDrWFzIG9jdWx0YXIgZWwgdGV4dG8pXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmRHYW1lKHdpbm5lcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHNldCBpbnRlcm1lZGlvOiBtb3N0cmFtb3MgZWwgbWVuc2FqZSAycywgbG8gb2N1bHRhbW9zIHkgcmVpbmljaWFtb3MgZWwgc2V0XHJcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXRXaW5uZXJUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRXaW5uZXJUZXh0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzZXRTZXQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgX3Jlc2V0U2V0KCkge1xyXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YSBlbCB0ZXh0byBkZWwgc2V0IGFjdHVhbFxyXG4gICAgICAgIHRoaXMuc2V0VGV4dC5zZXRUZXh0KGBTRVQgJHt0aGlzLmN1cnJlbnRTZXR9YCk7XHJcblxyXG4gICAgICAgIC8vIHNlIHJlaW5pY2lhIGVsIHRpZW1wb1xyXG4gICAgICAgIHRoaXMudGllbXBvUmVzdGFudGUgPSB0aGlzLnRpZW1wb1RvdGFsO1xyXG4gICAgICAgIHRoaXMudGltZXJFdmVudC5wYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVRpbWVyKCk7XHJcblxyXG4gICAgICAgIC8vIHNlIHJlaW5pY2lhIGxhIHB1bnR1YWNpw7NuIGRlbCBzZXQgKGzDs2dpY2EpXHJcbiAgICAgICAgdGhpcy5zY29yZVAxID0gMDtcclxuICAgICAgICB0aGlzLnNjb3JlUDIgPSAwO1xyXG5cclxuICAgICAgICAvLyBzZSByZWluaWNpYSBlbCBtYXJjYWRvciB2aXN1YWwgZW4gcGFudGFsbGFcclxuICAgICAgICB0aGlzLnBvaW50c0xlZnQgPSAwO1xyXG4gICAgICAgIHRoaXMucG9pbnRzUmlnaHQgPSAwO1xyXG4gICAgICAgIHRoaXMuc2NvcmVMZWZ0LnNldFRleHQoJzAnKTtcclxuICAgICAgICB0aGlzLnJpZ2h0U2NvcmUuc2V0VGV4dCgnMCcpO1xyXG5cclxuICAgICAgICAvLyBzZSByZWluaWNpYSBsYSBwZWxvdGFcclxuICAgICAgICB0aGlzLmJhbGwucmVzZXRSYWxseSgpO1xyXG5cclxuICAgICAgICAvLyBzZSByZXBvc2ljaW9uYW4gbG9zIGp1Z2Fkb3JlcyBhIHN1cyBwb3NpY2lvbmVzIGluaWNpYWxlc1xyXG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpO1xyXG4gICAgICAgIGNvbnN0IHAyID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpO1xyXG5cclxuICAgICAgICBwMS5zZXRQb3NpdGlvbih0aGlzLndvcmxkV2lkdGggKiAwLjI1LCB0aGlzLndvcmxkSGVpZ2h0ICogMC43KTtcclxuICAgICAgICBwMi5zZXRQb3NpdGlvbih0aGlzLndvcmxkV2lkdGggKiAwLjc1LCB0aGlzLndvcmxkSGVpZ2h0ICogMC43KTtcclxuXHJcbiAgICAgICAgcDEuaWRsZVJpZ2h0KCk7XHJcbiAgICAgICAgcDIuaWRsZUxlZnQoKTtcclxuICAgIH1cclxufVxyXG4iLCIvLyBQYW50YWxsYSBkZSBDb25maWd1cmFjacOzblxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29uZmlndXJhdGlvbl9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29uZmlndXJhdGlvbl9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gSW3DoWdlbmVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9GTEVDSEFfVk9MVkVSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBDb250cm9sZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2RlclRlY2xhcycsICdBU1NFVFMvVUkvQ09OVFJPTEVTL2Rlci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2l6cVRlY2xhcycsICdBU1NFVFMvVUkvQ09OVFJPTEVTL2l6cS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gU29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7XHJcblxyXG4gICAgICAgIC8vIEZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvJykuc2V0T3JpZ2luKDApLnNldERlcHRoKC0xKTtcclxuXHJcbiAgICAgICAgLy8gVMOtdHVsbyBkZSBsYSBlc2NlbmFcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGhlaWdodCAqIDAuMSwgJ0NvbmZpZ3VyYWNpw7NuJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIFN1YnTDrXR1bG8gZGUgY29udHJvbGVzXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjIsICdWb2x1bWVuJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLmN1cnJlbnRWb2x1bWUgPSBwYXJzZUZsb2F0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2b2x1bWUnKSkgfHwgMTtcclxuICAgICAgICB0aGlzLm11c2ljID0gdGhpcy5nYW1lLmdsb2JhbHMubXVzaWMgO1xyXG5cclxuICAgICAgICAvLyBBanVzdGFyIHZvbHVtZW4gc2Vnw7puIHNsaWRlclxyXG4gICAgICAgIHRoaXMubXVzaWMuc2V0Vm9sdW1lKHRoaXMuY3VycmVudFZvbHVtZSk7XHJcblxyXG4gICAgICAgIC8vIFZvbHVtZW4gaW5pY2lhbCBndWFyZGFkbyBvIDFcclxuXHJcblxyXG4gICAgICAgIC8vIEJhcnJhIGRlIHZvbHVtZW4gSFRNTFxyXG4gICAgICAgIHRoaXMudm9sdW1lU2xpZGVyID0gdGhpcy5hZGQuZG9tKGNlbnRlclgsIGhlaWdodCAqIDAuMjUpLmNyZWF0ZUZyb21IVE1MKGBcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiIG1pbj1cIjBcIiBtYXg9XCIxXCIgc3RlcD1cIjAuMDFcIiB2YWx1ZT1cIiR7dGhpcy5jdXJyZW50Vm9sdW1lfVwiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIndpZHRoOjIwMHB4OyBoZWlnaHQ6MjBweDsgYWNjZW50LWNvbG9yOiMwMGFhZmY7IGJvcmRlci1yYWRpdXM6NXB4O1wiPlxyXG4gICAgICAgIGApO1xyXG5cclxuICAgICAgICB0aGlzLnZvbHVtZVNsaWRlci5hZGRMaXN0ZW5lcignaW5wdXQnKTtcclxuICAgICAgICB0aGlzLnZvbHVtZVNsaWRlci5hZGRMaXN0ZW5lcignY2hhbmdlJyk7XHJcblxyXG4gICAgICAgIHRoaXMudm9sdW1lU2xpZGVyLm9uKCdpbnB1dCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB2b2x1bWUgPSBwYXJzZUZsb2F0KGV2ZW50LnRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFZvbHVtZSA9IHZvbHVtZTtcclxuICAgICAgICAgICAgdGhpcy5zb3VuZC52b2x1bWUgPSB2b2x1bWU7IC8vIFZvbHVtZW4gZ2xvYmFsXHJcbiAgICAgICAgICAgIHRoaXMubXVzaWMuc2V0Vm9sdW1lKHZvbHVtZSk7IC8vIE3DunNpY2EgZGUgZm9uZG9cclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ZvbHVtZScsIHZvbHVtZSk7IC8vIEd1YXJkYXIgZW50cmUgZXNjZW5hc1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gVm9sdmVyIGFycmliYSBhIGxhIGl6cXVpZXJkYVxyXG4gICAgICAgIGNvbnN0IGJhY2tYID0gd2lkdGggKiAwLjA2O1xyXG4gICAgICAgIGNvbnN0IGJhY2tZID0gaGVpZ2h0ICogMC4wODtcclxuXHJcbiAgICAgICAgY29uc3QgYmFja0J1dHRvbiA9IHRoaXMuYWRkLnNwcml0ZShiYWNrWCwgYmFja1ksICdib3RvblZvbHZlcicpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICAvLyBIb3ZlciBlZmVjdG9cclxuICAgICAgICBiYWNrQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJhY2tCdXR0b24uc2V0U2NhbGUoMS4xKSk7XHJcbiAgICAgICAgYmFja0J1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IGJhY2tCdXR0b24uc2V0U2NhbGUoMSkpO1xyXG5cclxuICAgICAgICAvLyBBY2Npw7NuIGFsIGhhY2VyIGNsaWNrXHJcbiAgICAgICAgYmFja0J1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gU2VwYXJhZG9yXHJcbiAgICAgICAgY29uc3QgbGluZSA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XHJcbiAgICAgICAgICAgIGxpbmUubGluZVN0eWxlKDMsIDB4MDAwMDAwLCAxKTsgLy8gZ3Jvc29yLCBjb2xvciwgYWxwaGFcclxuICAgICAgICAgICAgbGluZS5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgbGluZS5tb3ZlVG8od2lkdGggKiAwLjEsIGhlaWdodCAqIDAuMzUpOyAgIC8vIGluaWNpbyAoMjAlIGRlbCBhbmNobylcclxuICAgICAgICAgICAgbGluZS5saW5lVG8od2lkdGggKiAwLjksIGhlaWdodCAqIDAuMzUpOyAgIC8vIGZpbmFsICAgKDgwJSBkZWwgYW5jaG8pXHJcbiAgICAgICAgICAgIGxpbmUuc3Ryb2tlUGF0aCgpO1xyXG5cclxuICAgICAgICAvL0NvbnRyb2xlc1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC40LCAnQ29udHJvbGVzJywge1xyXG4gICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBzZXBhcmF0aW9uID0gNDAwO1xyXG5cclxuICAgICAgICAvLyBURUNMQSBERVJFQ0hBXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyICsgc2VwYXJhdGlvbiAvIDIsIDM4MCwgJ2RlclRlY2xhcycpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjM1KVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIFRFQ0xBIElaUVVJRVJEQVxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiAtIHNlcGFyYXRpb24gLyAyLCAzODAsICdpenFUZWNsYXMnKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4zNSlcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBGdW5jacOzbiBwYXJhIGHDsWFkaXIgc29uaWRvIGRlIGNsaWMgY29uIHZvbHVtZW4gZ2xvYmFsXHJcbiAgICAgICAgY29uc3QgYWRkQ2xpY2tTb3VuZCA9IChidXR0b24pID0+IHtcclxuICAgICAgICAgICAgYnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZvbHVtZSA9IHBhcnNlRmxvYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ZvbHVtZScpKSB8fCAxO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VuZC5wbGF5KCdzb25pZG9DbGljaycsIHsgdm9sdW1lIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhZGRDbGlja1NvdW5kKGJhY2tCdXR0b24pO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIFBhbnRhbGxhIGRlIENyw6lkaXRvc1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3JlZGl0c19TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ3JlZGl0c19TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9GTEVDSEFfVk9MVkVSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbG9nbycsICdBU1NFVFMvTE9HTy9Mb2dvLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBTb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIHBvc2ljaW9uZXMgYmFzZSBwYXJhIGxvcyBib3RvbmVzIGRlbCBtZW7DulxyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHMuZGVmYXVsdFRleHRTdHlsZTtcclxuXHJcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZCA9IHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpXHJcbiAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgIC5zZXREZXB0aCgtMSk7XHJcbiAgICAgICAgLy8gKGFzw60gc2UgcHVlZGUgY2FtYmlhciBlbCB0YW1hw7FvIHNpbiBwcm9ibGVtYXMpXHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGNhbWJpYXIgcG9yIHVuYSBpbWFnZW4/XHJcbiAgICAgICAgLy8gdMOtdHVsbyBkZSBsYSBlc2NlbmEgZGUgY3LDqWRpdG9zXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCA4MCwgJ0Nyw6lkaXRvcycsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiBwb25lcmxvIG3DoXMgYm9uaXRvXHJcbiAgICAgICAgLy8gbWllbWJyb3MgZGVsIGVxdWlwb1xyXG4gICAgICAgIGNvbnN0IG5vbWJyZXNFcXVpcG8gPSBbXHJcbiAgICAgICAgICAgICdHUlVQTyA1IC0gU1VOU0VUIEFSQ0FERScsXHJcbiAgICAgICAgICAgICdTYXJhIEJ1ZW5vIEVzdGViYW4nLFxyXG4gICAgICAgICAgICAnQW50b25pbyBNb3LDoW4gQmFycmVyYScsXHJcbiAgICAgICAgICAgICdDcmlzdGluZSBOaW9rYSBUZXdvJyxcclxuICAgICAgICAgICAgJ8OBbHZhcm8gSWLDocOxZXogTW9udGVybydcclxuICAgICAgICBdO1xyXG4gICAgICAgIC8vIHNlIG11ZXN0cmFuIGxvcyBub21icmVzIGNlbnRyYWRvc1xyXG4gICAgICAgIGNvbnN0IGluaWNpb1kgPSAxNTA7XHJcbiAgICAgICAgY29uc3Qgc2VwYXJhY2lvbiA9IDMwO1xyXG5cclxuICAgICAgICBub21icmVzRXF1aXBvLmZvckVhY2goKG5vbWJyZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBpbmljaW9ZICsgaW5kZXggKiBzZXBhcmFjaW9uLCBub21icmUsIHtcclxuICAgICAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJ1xyXG4gICAgICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8vLyBCT1TDk04gVk9MVkVSIC8vLy9cclxuICAgICAgICAvLyBhcnJpYmEgYSBsYSBpenF1aWVyZGFcclxuICAgICAgICBjb25zdCBiYWNrWCA9IHdpZHRoICogMC4wNjtcclxuICAgICAgICBjb25zdCBiYWNrWSA9IGhlaWdodCAqIDAuMDg7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhY2tCdXR0b24gPSB0aGlzLmFkZFxyXG4gICAgICAgICAgICAuc3ByaXRlKGJhY2tYLCBiYWNrWSwgJ2JvdG9uVm9sdmVyJylcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGJhY2tCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyB2dWVsdmUgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyLCA0MDAsICdsb2dvJykuc2V0T3JpZ2luKDAuNSkuc2V0U2NhbGUoMS4yKTtcclxuXHJcbiAgICAgICAgLy8gRnVuY2nDs24gcGFyYSBhw7FhZGlyIHNvbmlkbyBkZSBjbGljIGNvbiB2b2x1bWVuIGdsb2JhbFxyXG4gICAgICAgIGNvbnN0IGFkZENsaWNrU291bmQgPSAoYnV0dG9uKSA9PiB7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2b2x1bWUgPSBwYXJzZUZsb2F0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2b2x1bWUnKSkgfHwgMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnc29uaWRvQ2xpY2snLCB7IHZvbHVtZSB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYWRkQ2xpY2tTb3VuZChiYWNrQnV0dG9uKTtcclxuICAgIH1cclxufVxyXG4iLCIvL1BhbnRhbGxhIGRlIEZpblxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgRW5kR2FtZV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignRW5kR2FtZV9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMud2lubmVyID0gZGF0YS53aW5uZXI7IC8vIHBsYXllcjEgbyBwbGF5ZXIyXHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxID0gZGF0YS5wbGF5ZXIxO1xyXG4gICAgICAgIHRoaXMucGxheWVyMiA9IGRhdGEucGxheWVyMjtcclxuICAgIH1cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX0dfU0VMRUNDSU9OQURPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW5TZWxlY2Npb25hcicsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX0cucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7IFxyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7XHJcblxyXG5cclxuICAgICAgICBjb25zdCBjaGFyUDEgPSB0aGlzLnBsYXllcjEubmFtZTtcclxuICAgICAgICBjb25zdCBjaGFyUDIgPSB0aGlzLnBsYXllcjIubmFtZTtcclxuXHJcbiAgICAgICAgLy8gRm9uZG8gY29sb3IgY3JlbWFcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKS5zZXRPcmlnaW4oMCkuc2V0RGVwdGgoLTEpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvIHByaW5jaXBhbFxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgKiAwLjE4LCBcIsKhRklOIERFTCBQQVJUSURPIVwiLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gZGVsIGdhbmFkb3JcclxuICAgICAgICBjb25zdCB3aW5uZXJUZXh0ID1cclxuICAgICAgICAgICAgdGhpcy53aW5uZXIgPT09IFwicGxheWVyMVwiXHJcbiAgICAgICAgICAgICAgICA/IFwiR2FuYWRvcjogXCIgKyBjaGFyUDFcclxuICAgICAgICAgICAgICAgIDogXCJHYW5hZG9yOiBcIiArIGNoYXJQMjtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAqIDAuNDAsIHdpbm5lclRleHQsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gbmFyYW5qYSBwYXJhIHZvbHZlciBhbCBtZW7DulxyXG5cclxuICAgICAgICBjb25zdCB2b2x2ZXJCdXR0b24gPSB0aGlzLmFkZFxyXG4gICAgICAgICAgICAuc3ByaXRlKHdpZHRoIC8gMixcclxuICAgICAgICAgICAgaGVpZ2h0ICogMC42MCwgJ2JvdG9uU2luU2VsZWNjaW9uYXInKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgbWVudVRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDAgKiAwLjUyLCBcIlZvbHZlciBhIGluaWNpb1wiLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI2cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBQaGFzZXIuRGlzcGxheS5BbGlnbi5Jbi5DZW50ZXIobWVudVRleHQsIHZvbHZlckJ1dHRvbik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIC8vIEludGVyYWNjacOzbiBkZWwgYm90w7NuXHJcbiAgICAgICAgdm9sdmVyQnV0dG9uLm9uKFwicG9pbnRlcmRvd25cIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KFwiTWVudV9TY2VuZVwiKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gRWZlY3RvIGhvdmVyXHJcbiAgICAgICAgdm9sdmVyQnV0dG9uLm9uKFwicG9pbnRlcm92ZXJcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB2b2x2ZXJCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB2b2x2ZXJCdXR0b24ub24oXCJwb2ludGVyb3V0XCIsICgpID0+IHtcclxuICAgICAgICAgICAgdm9sdmVyQnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2luU2VsZWNjaW9uYXInKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIEZ1bmNpw7NuIHBhcmEgYcOxYWRpciBzb25pZG8gZGUgY2xpYyBjb24gdm9sdW1lbiBnbG9iYWxcclxuICAgICAgICBjb25zdCBhZGRDbGlja1NvdW5kID0gKGJ1dHRvbikgPT4ge1xyXG4gICAgICAgICAgICBidXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgdm9sdW1lID0gcGFyc2VGbG9hdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndm9sdW1lJykpIHx8IDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3Nvbmlkb0NsaWNrJywgeyB2b2x1bWUgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGFkZENsaWNrU291bmQodm9sdmVyQnV0dG9uKTtcclxuICAgIH1cclxufSIsIi8vIFBhbnRhbGxhIGRlIE1vZG8gZGUgSnVlZ29cclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vZGVHYW1lX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNb2RlR2FtZV9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9TRUxFQ0NJT05ETy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fU0lOX1NFTEVDQ0lPTkFSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvRkxFQ0hBX1ZPTFZFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gU29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlO1xyXG5cclxuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvJylcclxuICAgICAgICAuc2V0T3JpZ2luKDApXHJcbiAgICAgICAgLnNldERlcHRoKC0xKTtcclxuXHJcbiAgICAgICAgLy8gVMOtdHVsbyBjZW50cmFkb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxMDAsICdNb2RvIGRlIEp1ZWdvJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gUG9zaWNpb25lcyBob3Jpem9udGFsZXMgZGUgbG9zIGJvdG9uZXNcclxuICAgICAgICBjb25zdCBzcGFjaW5nID0gMjUwO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0WCA9IHdpZHRoIC8gMiAtIHNwYWNpbmcgLyAyO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEJvdG9uIExvY2FsXHJcbiAgICAgICAgY29uc3QgbG9jYWxCdXR0b24gPSB0aGlzLmFkZC5zcHJpdGUoc3RhcnRYLCAyNTAsICdib3RvblNpblNlbGVjY2lvbmFyJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMik7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvY2FsVGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJ0xvY2FsJywgeyBmb250U2l6ZTogJzI0cHgnLCBjb2xvcjogJyMwMDAnIH0pO1xyXG4gICAgICAgIFBoYXNlci5EaXNwbGF5LkFsaWduLkluLkNlbnRlcihsb2NhbFRleHQsIGxvY2FsQnV0dG9uKTtcclxuXHJcbiAgICAgICAgbG9jYWxCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbG9jYWxCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKSk7XHJcbiAgICAgICAgbG9jYWxCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBsb2NhbEJ1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNpblNlbGVjY2lvbmFyJykpO1xyXG4gICAgICAgIGxvY2FsQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IGxvY2FsQnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJykpO1xyXG4gICAgICAgIGxvY2FsQnV0dG9uLm9uKCdwb2ludGVydXAnLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY1BsYXllcl9TY2VuZScpKTtcclxuXHJcbiAgICAgICAgLy8gQm90b24gUmVkXHJcbiAgICAgICAgY29uc3QgbmV0d29ya0J1dHRvbiA9IHRoaXMuYWRkLnNwcml0ZShzdGFydFggKyBzcGFjaW5nLCAyNTAsICdib3RvblNpblNlbGVjY2lvbmFyJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMik7XHJcblxyXG4gICAgICAgIGNvbnN0IG5ldHdvcmtUZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAwLCAnUmVkJywgeyBmb250U2l6ZTogJzI0cHgnLCBjb2xvcjogJyMwMDAnIH0pO1xyXG4gICAgICAgIFBoYXNlci5EaXNwbGF5LkFsaWduLkluLkNlbnRlcihuZXR3b3JrVGV4dCwgbmV0d29ya0J1dHRvbik7XHJcblxyXG4gICAgICAgIG5ldHdvcmtCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbmV0d29ya0J1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNlbGVjY2lvbmFkbycpKTtcclxuICAgICAgICBuZXR3b3JrQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbmV0d29ya0J1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNpblNlbGVjY2lvbmFyJykpO1xyXG4gICAgICAgIG5ldHdvcmtCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gbG9jYWxCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKSk7XHJcbiAgICAgICAgbmV0d29ya0J1dHRvbi5vbigncG9pbnRlcnVwJywgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnU2VsZWNQbGF5ZXJfU2NlbmUnKSk7XHJcblxyXG4gICAgICAgIC8vIEJvdG9uIFZvbHZlclxyXG4gICAgICAgIGNvbnN0IGJhY2tYID0gd2lkdGggKiAwLjA2O1xyXG4gICAgICAgIGNvbnN0IGJhY2tZID0gaGVpZ2h0ICogMC4wODtcclxuXHJcbiAgICAgICAgY29uc3QgYmFja0J1dHRvbiA9IHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5zcHJpdGUoYmFja1gsIGJhY2tZLCAnYm90b25Wb2x2ZXInKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgYmFja0J1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gRnVuY2nDs24gcGFyYSBhw7FhZGlyIHNvbmlkbyBkZSBjbGljIGNvbiB2b2x1bWVuIGdsb2JhbFxyXG4gICAgICAgIGNvbnN0IGFkZENsaWNrU291bmQgPSAoYnV0dG9uKSA9PiB7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2b2x1bWUgPSBwYXJzZUZsb2F0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2b2x1bWUnKSkgfHwgMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnc29uaWRvQ2xpY2snLCB7IHZvbHVtZSB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYWRkQ2xpY2tTb3VuZChiYWNrQnV0dG9uKTtcclxuICAgICAgICBhZGRDbGlja1NvdW5kKGxvY2FsQnV0dG9uKTtcclxuICAgICAgICBhZGRDbGlja1NvdW5kKG5ldHdvcmtCdXR0b24pO1xyXG4gICAgfVxyXG59IiwiLy9QYW50YWxsYSBkZSBQYXVzYVxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1BhdXNlX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL1ZPTFZFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfR19TRUxFQ0NJT05BRE8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfRy5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gU29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7IFxyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKS5zZXRPcmlnaW4oMCkuc2V0RGVwdGgoLTEpO1xyXG5cclxuICAgICAgICAvL1TDjVRVTE8gUFJJTkNJUEFMIOKGkiDigJxQQVVTQeKAnVxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC4xOCwgJ1BBVVNBJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIC0tLSBCT1TDk04gQ09OVElOVUFSIC0tLVxyXG4gICAgICAgIGNvbnN0IGNvbnRpbnVhckJHID0gdGhpcy5hZGRcclxuICAgICAgICAgICAgLnNwcml0ZShjZW50ZXJYLCBoZWlnaHQgKiAwLjUyLCAnYm90b25TaW5TZWxlY2Npb25hcicpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgyKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBjb250aW51YXJUZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAwICogMC41MiwgXCJDb250aW51YXJcIiwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUGhhc2VyLkRpc3BsYXkuQWxpZ24uSW4uQ2VudGVyKGNvbnRpbnVhclRleHQsIGNvbnRpbnVhckJHKTtcclxuICAgICAgXHJcblxyXG4gICAgICAgIGNvbnRpbnVhckJHLm9uKFwicG9pbnRlcmRvd25cIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTsgICAgICAgICAgICAgIC8vIHF1aXRhbW9zIGxhIGVzY2VuYSBkZSBwYXVzYVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZShcIkdhbWVfU2NlbmVcIik7IC8vIHZvbHZlbW9zIGFsIGp1ZWdvXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb250aW51YXJCRy5vbihcInBvaW50ZXJvdmVyXCIsICgpID0+IGNvbnRpbnVhckJHLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJykpO1xyXG4gICAgICAgIGNvbnRpbnVhckJHLm9uKFwicG9pbnRlcm91dFwiLCAoKSA9PiBjb250aW51YXJCRy5zZXRUZXh0dXJlKCdib3RvblNpblNlbGVjY2lvbmFyJykpO1xyXG5cclxuICAgICAgICAvLyAtLS0gQk9Uw5NOIFZPTFZFUiBBTCBNRU7DmiAtLS1cclxuICAgICAgIGNvbnN0IG1lbnVCb3R0b24gPSB0aGlzLmFkZFxyXG4gICAgICAgICAgICAuc3ByaXRlKGNlbnRlclgsIGhlaWdodCAqIDAuNjYsICdib3RvblNpblNlbGVjY2lvbmFyJylcclxuICAgICAgICAgICAgLnNldFNjYWxlKDIpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IG1lbnVUZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAwICogMC41MiwgXCJNZW7DuiBQcmluY2lwYWxcIiwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFBoYXNlci5EaXNwbGF5LkFsaWduLkluLkNlbnRlcihtZW51VGV4dCwgbWVudUJvdHRvbik7XHJcblxyXG4gICAgICAgIG1lbnVCb3R0b24ub24oXCJwb2ludGVyZG93blwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIExpbXBpYXIgbGlzdGVuZXJzIHkga2V5cyBkZWwgdGVjbGFkbyBkZSBHYW1lX1NjZW5lXHJcbiAgICAgICAgICAgIGNvbnN0IGdhbWVTY2VuZSA9IHRoaXMuc2NlbmUuZ2V0KFwiR2FtZV9TY2VuZVwiKTtcclxuICAgICAgICAgICAgaWYgKGdhbWVTY2VuZSkge1xyXG4gICAgICAgICAgICAgICAgZ2FtZVNjZW5lLmlucHV0LmtleWJvYXJkLnJlbW92ZUFsbExpc3RlbmVycygpO1xyXG4gICAgICAgICAgICAgICAgZ2FtZVNjZW5lLmlucHV0LmtleWJvYXJkLnJlbW92ZUFsbEtleXMoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKFwiR2FtZV9TY2VuZVwiKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydChcIk1lbnVfU2NlbmVcIik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG1lbnVCb3R0b24ub24oXCJwb2ludGVyb3ZlclwiLCAoKSA9PiBtZW51Qm90dG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJykpO1xyXG4gICAgICAgIG1lbnVCb3R0b24ub24oXCJwb2ludGVyb3V0XCIsICgpID0+IG1lbnVCb3R0b24uc2V0VGV4dHVyZSgnYm90b25TaW5TZWxlY2Npb25hcicpKTtcclxuXHJcbiAgICAgICAgLy8gRnVuY2nDs24gcGFyYSBhw7FhZGlyIHNvbmlkbyBkZSBjbGljIGNvbiB2b2x1bWVuIGdsb2JhbFxyXG4gICAgICAgIGNvbnN0IGFkZENsaWNrU291bmQgPSAoYnV0dG9uKSA9PiB7XHJcbiAgICAgICAgICAgIGJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2b2x1bWUgPSBwYXJzZUZsb2F0KGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2b2x1bWUnKSkgfHwgMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnc29uaWRvQ2xpY2snLCB7IHZvbHVtZSB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYWRkQ2xpY2tTb3VuZChtZW51Qm90dG9uKTtcclxuICAgICAgICBhZGRDbGlja1NvdW5kKGNvbnRpbnVhckJHKTtcclxuICAgIH1cclxufSIsIi8vUGFudGFsbGEgZGUgU2VsZWNjaW9uIGRlIGp1Z2Fkb3JcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdFBsYXllcl9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignU2VsZWNQbGF5ZXJfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fU0VMRUNDSU9ORE8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX1NJTl9TRUxFQ0NJT05BUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL1ZPTFZFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfU0lOU0VMRUNDSU9OQVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWFyY28nLCdBU1NFVFMvVUkvTUFSQ09TL1ZBQ0lPUy9NQVJDT19QRVJTT05BSkVfU0VMRUNDSU9OQURPLnBuZycpXHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2hhcmFjdGVyQScsICdBU1NFVFMvUEVSU09OQUpFUy9QRVJTT05BSkVTX1BPU0UvcGVyc29uYWplc19hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2hhcmFjdGVyQicsICdBU1NFVFMvUEVSU09OQUpFUy9QRVJTT05BSkVTX1BPU0UvcGVyc29uYWplc19iLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2hhcmFjdGVyQycsICdBU1NFVFMvUEVSU09OQUpFUy9QRVJTT05BSkVTX1BPU0UvcGVyc29uYWplX2MucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gTGliZXJhciB0b2RhcyBsYXMgdGVjbGFzIGNhcHR1cmFkYXMgcG9yIFBoYXNlclxyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQucmVtb3ZlQWxsS2V5cyh0cnVlKTtcclxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLnJlbW92ZUFsbExpc3RlbmVycygpO1xyXG5cclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlO1xyXG5cclxuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvJylcclxuICAgICAgICAuc2V0T3JpZ2luKDApXHJcbiAgICAgICAgLnNldERlcHRoKC0xKTtcclxuXHJcbiAgICAgICAgLy8gRGF0b3MganVnYWRvcmVzXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gW1xyXG4gICAgICAgICAgICB7IG5hbWU6ICcnLCBjaGFyYWN0ZXI6IG51bGwsIGNvbG9yOiAweDAwYWFmZiB9LCAvLyBBenVsIC0gSnVnYWRvciAxXHJcbiAgICAgICAgICAgIHsgbmFtZTogJycsIGNoYXJhY3RlcjogbnVsbCwgY29sb3I6IDB4ZmY1NTU1IH0gIC8vIFJvam8gLSBKdWdhZG9yIDJcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVycyA9IG5ldyBTZXQoKTsgLy8gQ29uanVudG8gY29uIGxvcyBwZXJzb25hamVzIHNlbGVjY2lvbmFkb3NcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gc3VwZXJpb3JcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgNTAsICdTZWxlY2Npb25hIFBlcnNvbmFqZScsIHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnNDBweCcsIGNvbG9yOiAnIzAwMCcsIGZvbnRTdHlsZTogJ2JvbGQnIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBDcmVhciDDoXJlYXMgZGUgc2VsZWNjacOzblxyXG4gICAgICAgIHRoaXMuY3JlYXRlUGxheWVyQXJlYSgwKTsgLy8gSnVnYWRvciAxXHJcbiAgICAgICAgdGhpcy5jcmVhdGVQbGF5ZXJBcmVhKDEpOyAvLyBKdWdhZG9yIDJcclxuXHJcbiAgICAgICAgLy8gQm90b24gU2lndWllbnRlXHJcbiAgICAgICAgY29uc3QgbmV4dEJ1dHRvbiA9IHRoaXMuYWRkLmltYWdlKHdpZHRoLzIsIDUwMCwgJ2JvdG9uU2ltcGxlJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKClcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEuNSk7XHJcbiAgICAgICAgY29uc3QgbmV4dFRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDAsICdTaWd1aWVudGUnLCB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzEycHgnLCBjb2xvcjogJyMwMDAnIH0pO1xyXG4gICAgICAgIFBoYXNlci5EaXNwbGF5LkFsaWduLkluLkNlbnRlcihuZXh0VGV4dCwgbmV4dEJ1dHRvbik7XHJcblxyXG4gICAgICAgIG5leHRCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbmV4dEJ1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycpKTtcclxuICAgICAgICBuZXh0QnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbmV4dEJ1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNpbXBsZScpKTtcclxuICAgICAgICBuZXh0QnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IG5leHRCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nKSk7XHJcbiAgICAgICAgbmV4dEJ1dHRvbi5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lMSA9IHRoaXMucGxheWVySW5wdXRzWzBdLm5vZGUucXVlcnlTZWxlY3RvcignaW5wdXQnKS52YWx1ZS50cmltKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUyID0gdGhpcy5wbGF5ZXJJbnB1dHNbMV0ubm9kZS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnZhbHVlLnRyaW0oKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm9tYnJlIGRlIHVzdWFyaW86XCIsIG5hbWUxKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJOb21icmUgZGUgdXN1YXJpbzpcIiwgbmFtZTIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFuYW1lMSB8fCAhbmFtZTIpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkFtYm9zIGp1Z2Fkb3JlcyBkZWJlbiBwb25lciBub21icmVcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzWzBdLm5hbWUgPSBuYW1lMTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzWzFdLm5hbWUgPSBuYW1lMjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NlbGVjdFNjZW5hcmlvX1NjZW5lJywgeyBcclxuICAgICAgICAgICAgICAgIHBsYXllcjE6IHRoaXMucGxheWVyc1swXSxcclxuICAgICAgICAgICAgICAgIHBsYXllcjI6IHRoaXMucGxheWVyc1sxXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90b24gVm9sdmVyXHJcbiAgICAgICAgY29uc3QgYmFja1ggPSB3aWR0aCAqIDAuMDY7XHJcbiAgICAgICAgY29uc3QgYmFja1kgPSBoZWlnaHQgKiAwLjA4O1xyXG5cclxuICAgICAgICBjb25zdCBiYWNrQnV0dG9uID0gdGhpcy5hZGRcclxuICAgICAgICAgICAgLnNwcml0ZShiYWNrWCwgYmFja1ksICdib3RvblZvbHZlcicpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBiYWNrQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTW9kZUdhbWVfU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRDbGlja1NvdW5kKG5leHRCdXR0b24pO1xyXG4gICAgICAgIHRoaXMuYWRkQ2xpY2tTb3VuZChiYWNrQnV0dG9uKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBGdW5jacOzbiBwYXJhIGHDsWFkaXIgc29uaWRvIGRlIGNsaWMgY29uIHZvbHVtZW4gZ2xvYmFsXHJcbiAgICBhZGRDbGlja1NvdW5kKGJ1dHRvbikge1xyXG4gICAgICAgIGJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZvbHVtZSA9IHBhcnNlRmxvYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ZvbHVtZScpKSB8fCAxO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnBsYXkoJ3Nvbmlkb0NsaWNrJywgeyB2b2x1bWUgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlUGxheWVyQXJlYShpZHgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wbGF5ZXJzW2lkeF07XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlO1xyXG5cclxuICAgICAgICAvLyBUdXJubzogMCA9IGp1Z2Fkb3IgMSwgMSA9IGp1Z2Fkb3IgMlxyXG4gICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSAwO1xyXG5cclxuICAgICAgICAvLyBDcmVhciBpbnB1dHMgeSBtYXJjb3MgcGFyYSBjYWRhIGp1Z2Fkb3JcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaCgocGxheWVyLCBpZHgpID0+IHtcclxuICAgICAgICAgICAgLy8gSW5wdXQgZGUgbm9tYnJlIGFycmliYVxyXG4gICAgICAgICAgICB0aGlzLmFkZC50ZXh0KHdpZHRoICogKDAuMjUgKyAwLjUgKiBpZHgpLCAxMDAsICdOb21icmU6JywgeyAuLi5zdHlsZSwgIGZvbnRTaXplOiAnMjRweCcsIGNvbG9yOiAnIzAwMCcgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy5hZGQuZG9tKHdpZHRoICogKDAuMjUgKyAwLjUgKiBpZHgpLCAxNDApLmNyZWF0ZUZyb21IVE1MKGBcclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiTm9tYnJlIGp1Z2Fkb3JcIiBtYXhsZW5ndGg9XCIxMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6MTUwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzo2cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOjE2cHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6JHtzdHlsZS5mb250RmFtaWx5fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOjEycHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiA2cHggc29saWQgI0ZGQUEwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiBub25lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246Y2VudGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6I2YwZjBmMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4ycywgYm94LXNoYWRvdyAwLjJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmZvY3VzPVwidGhpcy5zdHlsZS5ib3JkZXJDb2xvcj0nI0ZGODMxNic7IHRoaXMuc3R5bGUuYm94U2hhZG93PScwIDAgNXB4ICNGRjgzMTYnO1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uYmx1cj1cInRoaXMuc3R5bGUuYm9yZGVyQ29sb3I9JyNGRkFBMDAnOyB0aGlzLnN0eWxlLmJveFNoYWRvdz0nbm9uZSc7XCJcclxuICAgICAgICAgICAgICAgICAgICA+XHJcbiAgICAgICAgICAgIGApO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaW5wdXRFbGVtZW50ID0gaW5wdXQubm9kZS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xyXG5cclxuICAgICAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFNvbG8gcGVybWl0aXIgbGV0cmFzIHkgZXNwYWNpb3NcclxuICAgICAgICAgICAgICAgIGlucHV0RWxlbWVudC52YWx1ZSA9IGlucHV0RWxlbWVudC52YWx1ZS5yZXBsYWNlKC9bXmEtekEtWl0vZywgJycpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5wbGF5ZXJJbnB1dHMpIHRoaXMucGxheWVySW5wdXRzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRzW2lkeF0gPSBpbnB1dDtcclxuXHJcbiAgICAgICAgICAgIC8vIEltYWdlbiBncmFuZGVcclxuICAgICAgICAgICAgcGxheWVyLmJpZ0ltYWdlID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggKiAoMC4yNSArIDAuNSAqIGlkeCksIGhlaWdodCAqIDAuNiwgJ2NoYXJhY3RlckEnKVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEuMilcclxuICAgICAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIHBsYXllci5iaWdGcmFtZSA9IHRoaXMuYWRkLmltYWdlKHBsYXllci5iaWdJbWFnZS54LCBwbGF5ZXIuYmlnSW1hZ2UueSwgJ21hcmNvJylcclxuICAgICAgICAgICAgLnNldFNjYWxlKDIuOCkgXHJcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKHRydWUpO1xyXG5cclxuICAgICAgICAgICAgLy8gTWFyY28gc29icmUgbWluaWF0dXJhXHJcbiAgICAgICAgICAgIHBsYXllci5mcmFtZSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCA2MCwgMTIwKVxyXG4gICAgICAgICAgICAgICAgLnNldFN0cm9rZVN0eWxlKDQsIHBsYXllci5jb2xvcilcclxuICAgICAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIE1pbmlhdHVyYXMgZW4gdHJpw6FuZ3VsbyBjZW50cmFsXHJcbiAgICAgICAgY29uc3QgcGVyc29uYWplcyA9IFsnY2hhcmFjdGVyQScsICdjaGFyYWN0ZXJCJywgJ2NoYXJhY3RlckMnXTtcclxuICAgICAgICBjb25zdCBzcGFjaW5nID0gMTUwOyAvLyBhdW1lbnRhIGVzcGFjaWFkb1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0WCA9IHdpZHRoIC8gMiAtIHNwYWNpbmcgLyAyO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0WSA9IGhlaWdodCAqIDAuNTtcclxuXHJcbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gW1xyXG4gICAgICAgICAgICB7IHg6IHN0YXJ0WCwgeTogc3RhcnRZIH0sXHJcbiAgICAgICAgICAgIHsgeDogc3RhcnRYICsgc3BhY2luZywgeTogc3RhcnRZIH0sXHJcbiAgICAgICAgICAgIHsgeDogc3RhcnRYICsgc3BhY2luZyAvIDIsIHk6IHN0YXJ0WSArIHNwYWNpbmcgLyAyIH1cclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICBwZXJzb25hamVzLmZvckVhY2goKG5vbWJyZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtaW5pID0gdGhpcy5hZGQuaW1hZ2UocG9zaXRpb25zW2ldLngsIHBvc2l0aW9uc1tpXS55LCBub21icmUpXHJcbiAgICAgICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoKVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNDUpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGF0YSgnY2hhcmFjdGVyTmFtZScsIG5vbWJyZSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5hZGRDbGlja1NvdW5kKG1pbmkpO1xyXG5cclxuICAgICAgICAgICAgbWluaS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwbGF5ZXIxID0gdGhpcy5wbGF5ZXJzWzBdO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVyMiA9IHRoaXMucGxheWVyc1sxXTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudFBsYXllciwgb3RoZXJQbGF5ZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU2kgY3VycmVudFR1cm4gZXMgbnVsbCAoYW1ib3MgdGllbmVuIHBlcnNvbmFqZSksIG5hZGllIHB1ZWRlIHNlbGVjY2lvbmFyXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50VHVybiA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFBlcm8gc2kgY2xpY2tlYXMgdHUgcHJvcGlvIHBlcnNvbmFqZSBwYXJhIGRlc2VsZWNjaW9uYXIsIHBlcm1pdGltb3NcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGxheWVyMS5jaGFyYWN0ZXIgPT09IG5vbWJyZSkgY3VycmVudFBsYXllciA9IHBsYXllcjE7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGxheWVyMi5jaGFyYWN0ZXIgPT09IG5vbWJyZSkgY3VycmVudFBsYXllciA9IHBsYXllcjI7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSByZXR1cm47IC8vIG90cm8gcGVyc29uYWplIG9jdXBhZG8sIG5vIHBlcm1pdGlyXHJcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJQbGF5ZXIgPSBjdXJyZW50UGxheWVyID09PSBwbGF5ZXIxID8gcGxheWVyMiA6IHBsYXllcjE7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFR1cm5vIGRlZmluaWRvXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBsYXllciA9IHRoaXMucGxheWVyc1t0aGlzLmN1cnJlbnRUdXJuXTtcclxuICAgICAgICAgICAgICAgICAgICBvdGhlclBsYXllciA9IHRoaXMucGxheWVyc1sxIC0gdGhpcy5jdXJyZW50VHVybl07XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gRGVzZWxlY2Npb24gc2kgY2xpY2tlbyBtaSBwcm9waW8gcGVyc29uYWplXHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFBsYXllci5jaGFyYWN0ZXIgPT09IG5vbWJyZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXIuY2hhcmFjdGVyID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGxheWVyLmJpZ0ltYWdlLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXIuZnJhbWUuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZENoYXJhY3RlcnMuZGVsZXRlKG5vbWJyZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNpIGFtYm9zIHRlbmlhbiBwZXJzb25hamUgYW50ZXMsIGVzdGUganVnYWRvciB0aWVuZSB0dXJub1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSB0aGlzLnBsYXllcnMuaW5kZXhPZihjdXJyZW50UGxheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTm8gcGVybWl0aXIgc2VsZWNjaW9uYXIgc2kgeWEgZXN0w6Egb2N1cGFkbyBwb3IgZWwgb3RybyBqdWdhZG9yXHJcbiAgICAgICAgICAgICAgICBpZiAob3RoZXJQbGF5ZXIuY2hhcmFjdGVyID09PSBub21icmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTaSBhbWJvcyBqdWdhZG9yZXMgeWEgdGllbmVuIHBlcnNvbmFqZSwgbm8gcGVybWl0aXIgc2VsZWNjaW9uYXIgb3Ryb1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllcjEuY2hhcmFjdGVyICYmIHBsYXllcjIuY2hhcmFjdGVyKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTGliZXJhciBwZXJzb25hamUgYW50ZXJpb3IgZGVsIGp1Z2Fkb3JcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50UGxheWVyLmNoYXJhY3RlcikgdGhpcy5zZWxlY3RlZENoYXJhY3RlcnMuZGVsZXRlKGN1cnJlbnRQbGF5ZXIuY2hhcmFjdGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBBc2lnbmFyIG51ZXZvIHBlcnNvbmFqZVxyXG4gICAgICAgICAgICAgICAgY3VycmVudFBsYXllci5jaGFyYWN0ZXIgPSBub21icmU7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50UGxheWVyLmJpZ0ltYWdlLnNldFRleHR1cmUobm9tYnJlKS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZENoYXJhY3RlcnMuYWRkKG5vbWJyZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTWFyY28gc29icmUgbWluaWF0dXJhXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50UGxheWVyLmZyYW1lLnNldFBvc2l0aW9uKG1pbmkueCwgbWluaS55KTtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXIuZnJhbWUuc2V0VmlzaWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBDYW1iaWFyIHR1cm5vIChTb2xvIHNpIGVsIG90cm8ganVnYWRvciBubyB0aWVuZSBwZXJzb25hamUpXHJcbiAgICAgICAgICAgICAgICBpZiAoIW90aGVyUGxheWVyLmNoYXJhY3Rlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSAxIC0gdGhpcy5jdXJyZW50VHVybjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQW1ib3MgdGllbmVuIHBlcnNvbmFqZTogbm8gaGF5IHR1cm5vIGZpam9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCIvL1BhbnRhbGxhIGRlIFNlbGVjY2lvbiBkZSBlc2NlbmFyaW9cclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdFNjZW5hcmlvX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdTZWxlY3RTY2VuYXJpb19TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW5TZWxlY2Npb25hcicsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX1NJTlNFTEVDQ0lPTkFSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvRkxFQ0hBX1ZPTFZFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfU0lOU0VMRUNDSU9OQVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0d5bScsICdBU1NFVFMvRk9ORE9TL0dJTU5BU0lPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGxheWEnLCAnQVNTRVRTL0ZPTkRPUy9QTEFZQS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0phcmRpbicsICdBU1NFVFMvRk9ORE9TL0pBUkRJTi5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gU29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMucGxheWVyMSA9IGRhdGEucGxheWVyMTtcclxuICAgICAgICB0aGlzLnBsYXllcjIgPSBkYXRhLnBsYXllcjI7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAuc2V0RGVwdGgoLTEpO1xyXG5cclxuICAgICAgICAvLyBUaXR1bG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KHdpZHRoLzIsIDUwLCAnU2VsZWNjaW9uYSBFc2NlbmFyaW8nLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAnLFxyXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBJbWFnZW4gZGVsIGVzY2VuYXJpbyBzZWxlY2Npb25hZG9cclxuICAgICAgICB0aGlzLnNlbGVjdGVkU2NlbmFyaW8gPSAnR3ltJzsgLy8gR3ltIHBvciBkZWZlY3RvXHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEltYWdlID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGgvMiwgMjQwLCB0aGlzLnNlbGVjdGVkU2NlbmFyaW8pLnNldFNjYWxlKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEVzY2VuYXJpb3NcclxuICAgICAgICBjb25zdCBlc2NlbmFyaW9zID0gWydHeW0nLCAnUGxheWEnLCAnSmFyZGluJ107XHJcbiAgICAgICAgY29uc3Qgc3BhY2luZyA9IDIwMDsgLy8gZXNwYWNpbyBlbnRyZSBib3RvbmVzXHJcbiAgICAgICAgY29uc3Qgc3RhcnRYID0gd2lkdGggLyAyIC0gc3BhY2luZztcclxuXHJcbiAgICAgICAgZXNjZW5hcmlvcy5mb3JFYWNoKChub21icmUsIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYm90b24gPSB0aGlzLmFkZC5pbWFnZShzdGFydFggKyBpICogc3BhY2luZywgNDQwLCAnYm90b25TaW5TZWxlY2Npb25hcicpXHJcbiAgICAgICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoKVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEuNzUpO1xyXG5cclxuICAgICAgICAgICAgLy8gVGV4dG8gY29uIGVsIG5vbWJyZSBkZWwgZXNjZW5hcmlvXHJcbiAgICAgICAgICAgIGNvbnN0IHRleHRvID0gdGhpcy5hZGQudGV4dCgwLCAwLCBub21icmUsIHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMjRweCcsIGNvbG9yOiAnIzAwMCcgfSk7XHJcbiAgICAgICAgICAgIFBoYXNlci5EaXNwbGF5LkFsaWduLkluLkNlbnRlcih0ZXh0bywgYm90b24pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hZGRDbGlja1NvdW5kKGJvdG9uKTtcclxuXHJcbiAgICAgICAgICAgIGJvdG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJvdG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJykpO1xyXG4gICAgICAgICAgICBib3Rvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkU2NlbmFyaW8gIT09IG5vbWJyZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJvdG9uLnNldFRleHR1cmUoJ2JvdG9uU2luU2VsZWNjaW9uYXInKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGJvdG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyA9IG5vbWJyZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbWFnZS5zZXRUZXh0dXJlKG5vbWJyZSkuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGJvdG9uLm9uKCdwb2ludGVydXAnLCAoKSA9PiBib3Rvbi5zZXRUZXh0dXJlKCdib3RvblNpblNlbGVjY2lvbmFyJykpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3RvbiBTaWd1aWVudGVcclxuICAgICAgICBjb25zdCBuZXh0QnV0dG9uID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGgvMiwgNTAwLCAnYm90b25TaW1wbGUnKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMS41KTtcclxuICAgICAgICBjb25zdCBuZXh0VGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJ1NpZ3VpZW50ZScsIHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMTJweCcsIGNvbG9yOiAnIzAwMCcgfSk7XHJcbiAgICAgICAgUGhhc2VyLkRpc3BsYXkuQWxpZ24uSW4uQ2VudGVyKG5leHRUZXh0LCBuZXh0QnV0dG9uKTtcclxuXHJcbiAgICAgICAgbmV4dEJ1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBuZXh0QnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJykpO1xyXG4gICAgICAgIG5leHRCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBuZXh0QnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2ltcGxlJykpO1xyXG4gICAgICAgIG5leHRCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gbmV4dEJ1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycpKTtcclxuICAgICAgICBuZXh0QnV0dG9uLm9uKCdwb2ludGVydXAnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFBhc2FyIHRvZG9zIGxvcyBkYXRvcyBhIGxhIHNpZ3VpZW50ZSBlc2NlbmFcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZV9TY2VuZScsIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcjE6IHRoaXMucGxheWVyMSxcclxuICAgICAgICAgICAgICAgIHBsYXllcjI6IHRoaXMucGxheWVyMixcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkU2NlbmFyaW86IHRoaXMuc2VsZWN0ZWRTY2VuYXJpb1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBCb3RvbiBWb2x2ZXJcclxuICAgICAgICBjb25zdCBiYWNrWCA9IHdpZHRoICogMC4wNjtcclxuICAgICAgICBjb25zdCBiYWNrWSA9IGhlaWdodCAqIDAuMDg7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhY2tCdXR0b24gPSB0aGlzLmFkZFxyXG4gICAgICAgICAgICAuc3ByaXRlKGJhY2tYLCBiYWNrWSwgJ2JvdG9uVm9sdmVyJylcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGJhY2tCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY1BsYXllcl9TY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZENsaWNrU291bmQobmV4dEJ1dHRvbik7XHJcbiAgICAgICAgdGhpcy5hZGRDbGlja1NvdW5kKGJhY2tCdXR0b24pO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZENsaWNrU291bmQoYnV0dG9uKSB7XHJcbiAgICAgICAgYnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgdm9sdW1lID0gcGFyc2VGbG9hdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndm9sdW1lJykpIHx8IDE7XHJcbiAgICAgICAgICAgIHRoaXMuc291bmQucGxheSgnc29uaWRvQ2xpY2snLCB7IHZvbHVtZSB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIi8vIEJhc2UgZGVsIGp1ZWdvIHBhcmEgbGEgZXN0cnVjdHVyYSB5IHRlbmVyIGFjY2VzbyBhIHRvZG9zIGxvcyBhcmNoaXZvc1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgTWVudV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9NZW51X1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IEdhbWVfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvR2FtZV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBDb25maWd1cmF0aW9uX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0NvbmZpZ3VyYXRpb25fU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgQ3JlZGl0c19TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9DcmVkaXRzX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IEVuZEdhbWVfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvRW5kR2FtZV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBNb2RlR2FtZV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9Nb2RlR2FtZV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBQYXVzZV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9QYXVzZV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBTZWxlY3RQbGF5ZXJfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvU2VsZWN0UGxheWVyX1NjZW5lLmpzXCJcclxuaW1wb3J0IHsgU2VsZWN0U2NlbmFyaW9fU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvU2VsZWN0U2NlbmFyaW9fU2NlbmUuanNcIjtcclxuKGFzeW5jICgpID0+IHtcclxuICAgIGF3YWl0IGRvY3VtZW50LmZvbnRzLnJlYWR5O1xyXG4gICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICAgIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gICAgICAgIHdpZHRoOiA5NjAsXHJcbiAgICAgICAgaGVpZ2h0OiA1NDAsXHJcbiAgICAgICAgcGFyZW50OiAnZ2FtZS1jb250YWluZXInLFxyXG4gICAgICAgIHBoeXNpY3M6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgICAgIGFyY2FkZToge1xyXG4gICAgICAgICAgICAgICAgZ3Jhdml0eToge3g6IDAsIHk6IDMwMH0sXHJcbiAgICAgICAgICAgICAgICBkZWJ1ZzogZmFsc2UgLy8gcG9uZXIgYSB0cnVlIHBhcmEgdmVyIGxhcyBsw61uZWFzIGRlIGxvcyBjdWVycG9zIGbDrXNpY29zXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGRvbToge1xyXG4gICAgICAgICAgICBjcmVhdGVDb250YWluZXI6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNjZW5lOiBbTWVudV9TY2VuZSwgR2FtZV9TY2VuZSwgQ29uZmlndXJhdGlvbl9TY2VuZSwgQ3JlZGl0c19TY2VuZSwgRW5kR2FtZV9TY2VuZSwgUGF1c2VfU2NlbmUsIE1vZGVHYW1lX1NjZW5lLCBTZWxlY3RQbGF5ZXJfU2NlbmUsIFNlbGVjdFNjZW5hcmlvX1NjZW5lXSxcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6JyM4Njc1ZjEnLFxyXG59O1xyXG5cclxuICAgIGNvbnN0IGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoY29uZmlnKTtcclxuICAgIGdhbWUuZ2xvYmFscyA9IHtcclxuICAgICAgICBkZWZhdWx0VGV4dFN0eWxlOiB7IGZvbnRGYW1pbHk6ICdNaUZ1ZW50ZScsIGZvbnRTaXplOiAnMjBweCcsIGNvbG9yOiAnI2ZmZmZmZicgfSxcclxuICAgICAgICBtdXNpYzogbnVsbFxyXG4gICAgfTtcclxufSkoKTsiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZSIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJQaGFzZXIiLCJNZW51X1NjZW5lIiwiY29uc3RydWN0b3IiLCJzdXBlciIsInByZWxvYWQiLCJ0aGlzIiwibG9hZCIsImltYWdlIiwiYXVkaW8iLCJjcmVhdGUiLCJzdHlsZSIsImdhbWUiLCJnbG9iYWxzIiwiZGVmYXVsdFRleHRTdHlsZSIsInZvbHVtZSIsInBhcnNlRmxvYXQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwibXVzaWMiLCJzZXRWb2x1bWUiLCJzb3VuZCIsImFkZCIsImxvb3AiLCJwbGF5Iiwid2lkdGgiLCJoZWlnaHQiLCJzY2FsZSIsImNlbnRlclgiLCJmaXJzdEJ1dHRvblkiLCJtaXRhZERlcmVjaGFYIiwic2V0T3JpZ2luIiwic2V0RGVwdGgiLCJ0ZXh0IiwiZm9udFNpemUiLCJjb2xvciIsInBsYXlCdXR0b24iLCJzcHJpdGUiLCJzZXRTY2FsZSIsInNldEludGVyYWN0aXZlIiwidXNlSGFuZEN1cnNvciIsInBsYXlUZXh0IiwiQWxpZ24iLCJJbiIsIkNlbnRlciIsIm9uIiwic2V0VGV4dHVyZSIsInNjZW5lIiwic3RhcnQiLCJjb25maWdCdXR0b24iLCJjb25maWdUZXh0IiwiY3JlZGl0c0J1dHRvbiIsImJ1dHRvblNwYWNpbmciLCJjcmVkaXRzVGV4dCIsImFkZENsaWNrU291bmQiLCJidXR0b24iLCJQbGF5ZXIiLCJpZCIsIngiLCJ5IiwiY2hhcmFjdGVyVHlwZSIsIm1vdmVTcGVlZCIsImp1bXBTcGVlZCIsImFjdGl2ZVBvd2VyVXBzIiwiaXNQYXJhbHl6ZWQiLCJwYXJhbHlzaXNUd2VlbiIsInNwZWVkRWZmZWN0QWN0aXZlIiwic2xvd0VmZmVjdEFjdGl2ZSIsInNjb3JlTXVsdGlwbGllciIsIm11bHRpcGxpZXJUZXh0IiwiZm9udEZhbWlseSIsInN0cm9rZSIsInN0cm9rZVRoaWNrbmVzcyIsInNldFZpc2libGUiLCJwb3dlclVwSW52ZW50b3J5IiwiaXNSZWNlaXZpbmciLCJib3VuZHNMZWZ0IiwiYm91bmRzUmlnaHQiLCJib3VuZHNUb3AiLCJib3VuZHNCb3R0b20iLCJDSEFSQUNURVJfQ09ORklHIiwiY2hhcmFjdGVyQSIsInRleHR1cmVLZXkiLCJzdGFydEZyYW1lIiwiaWRsZUxlZnRBbmltIiwiaWRsZVJpZ2h0QW5pbSIsInJ1bkxlZnRBbmltIiwicnVuUmlnaHRBbmltIiwianVtcExlZnRBbmltIiwianVtcFJpZ2h0QW5pbSIsInJlY2VpdmVMZWZ0QW5pbSIsInJlY2VpdmVSaWdodEFuaW0iLCJjaGFyYWN0ZXJCIiwiY2hhcmFjdGVyQyIsImNvbmZpZyIsInBoeXNpY3MiLCJib2R5Iiwic2V0U2l6ZSIsInNldERhdGEiLCJmYWNpbmciLCJpc09uR3JvdW5kIiwiaXNKdW1waW5nIiwianVtcFN0YXJ0VGltZSIsImFuaW0iLCJlcnJvciIsImNvbnNvbGUiLCJpc0dyb3VuZGVkIiwiYmxvY2tlZCIsImRvd24iLCJ0b3VjaGluZyIsImlzTmVhckdyb3VuZCIsInRocmVzaG9sZCIsImdyb3VuZFkiLCJmZWV0WSIsIk1hdGgiLCJhYnMiLCJtb3ZlTGVmdCIsInNldFZlbG9jaXR5WCIsInBsYXlBbmltYXRpb24iLCJtb3ZlUmlnaHQiLCJqdW1wTGVmdCIsInRpbWUiLCJub3ciLCJzZXRWZWxvY2l0eVkiLCJqdW1wUmlnaHQiLCJyZWNlaXZlTGVmdCIsInJlY2VpdmVSaWdodCIsImlkbGVMZWZ0IiwiaWRsZVJpZ2h0Iiwic2V0Qm91bmRzIiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwiY2xhbXBXaXRoaW5Cb3VuZHMiLCJoYWxmV2lkdGgiLCJzZXRQb3NpdGlvbiIsInNldFZlbG9jaXR5IiwidXBkYXRlTXVsdGlwbGllclRleHRQb3NpdGlvbiIsIm9mZnNldFkiLCJkaXNwbGF5SGVpZ2h0IiwiYW5pbUtleSIsImFuaW1zIiwiY3VycmVudEFuaW0iLCJpc1BsYXlpbmciLCJ1cGRhdGUiLCJ3YXNPbkdyb3VuZCIsImN1cnJlbnRLZXkiLCJhcHBseVBvd2VyVXAiLCJ0eXBlIiwibGVuZ3RoIiwicHVzaCIsInVzZU5leHRQb3dlclVwIiwic2hpZnQiLCJfYWN0aXZhdGVQb3dlclVwIiwic2V0U3BlZWRFZmZlY3QiLCJvcHBvbmVudCIsImdldE9wcG9uZW50Iiwic2V0U2xvd0VmZmVjdCIsIm9wcCIsInNldFBhcmFseXplZCIsInJlY2FsY3VsYXRlU2NvcmVFZmZlY3QiLCJ1cGRhdGVQb3dlclVwcyIsInNjb3JlTmVlZHNSZWNhbGMiLCJzZXRUaW50Iiwic2V0QWxwaGEiLCJzdG9wIiwidHdlZW5zIiwidGFyZ2V0cyIsImFscGhhIiwieW95byIsImR1cmF0aW9uIiwicmVwZWF0IiwicmVmcmVzaFBvd2VyVXBWaXN1YWxzIiwiYWN0aXZlIiwibXVsdGlwbGllciIsIm1heCIsInNldFRleHQiLCJjbGVhclRpbnQiLCJwbGF5ZXJzIiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwiZmluZCIsInAiLCJBcHBseVBvd2VyVXBDb21tYW5kIiwicGxheWVyIiwicG93ZXJVcFR5cGUiLCJleGVjdXRlIiwiUG93ZXJVcCIsInN0YXRpY0ltYWdlIiwic3Bhd25UaW1lIiwiZmFkZVN0YXJ0IiwibGlmZXRpbWUiLCJpc0NvbGxlY3RlZCIsImRlbGF5IiwiZm9yRWFjaCIsIm92ZXJsYXAiLCJjb2xsZWN0IiwiX2xpZmV0aW1lVGltZXIiLCJkZWxheWVkQ2FsbCIsImRlc3Ryb3kiLCJjb21tYW5kUHJvY2Vzc29yIiwicHJvY2VzcyIsInVwZGF0ZVBsYXllckludmVudG9yeVVJIiwiX2Rlc3Ryb3llZCIsImZhZGVUd2VlbiIsInJlbW92ZSIsImUiLCJpc0FycmF5IiwicG93ZXJVcHMiLCJmaWx0ZXIiLCJCYWxsIiwic2V0Qm91bmNlIiwic2V0Q29sbGlkZVdvcmxkQm91bmRzIiwibGFzdFRvdWNoZWRCeSIsInRvdWNoQ291bnQiLCJjb3VydFNpZGUiLCJpc0JhbGxMaXZlIiwibmV0WCIsImxhc3RIaXRUaW1lIiwibGFzdEhpdFBsYXllcklkIiwiaXNGaXJzdFNlcnZlIiwiaGl0IiwicGxheWVyRmFjaW5nRGlyZWN0aW9uIiwib25GYWx0YSIsInZlbG9jaXR5WCIsInZlbG9jaXR5WSIsImJhc2VTcGVlZFgiLCJjcm9zc05ldCIsIm9uR3JvdW5kZWQiLCJiYWxsT25MZWZ0IiwiYmFsbE9uUmlnaHQiLCJvblJhbGx5RW5kIiwicmVzZXRSYWxseSIsImZhbHRhVHlwZSIsImZhbHRpbmdQbGF5ZXIiLCJzY29yaW5nUGxheWVySWQiLCJldmVudHMiLCJlbWl0Iiwic2NvcmluZ1BsYXllciIsIkNvbW1hbmRQcm9jZXNzb3IiLCJNYXAiLCJnYW1lU2NlbmUiLCJzZXRQbGF5ZXJzIiwic2V0R2FtZVNjZW5lIiwiY29tbWFuZCIsIkNvbW1hbmQiLCJzZXJpYWxpemUiLCJnZXRQbGF5ZXIiLCJNb3ZlUGxheWVyQ29tbWFuZCIsImRpcmVjdGlvbiIsInBsYXllcklkIiwiR2FtZV9TY2VuZSIsInRpZW1wb1RvdGFsIiwidGllbXBvUmVzdGFudGUiLCJ0aW1lclRleHQiLCJ0aW1lckV2ZW50IiwiaW5pdCIsImRhdGEiLCJpbnB1dE1hcHBpbmdzIiwicGxheWVyMSIsInBsYXllcjIiLCJzZWxlY3RlZFNjZW5hcmlvIiwiYmFsbCIsInNjb3JlUDEiLCJzY29yZVAyIiwic2V0c1AxIiwic2V0c1AyIiwibWF4U2V0cyIsImN1cnJlbnRTZXQiLCJzcHJpdGVzaGVldCIsImZyYW1lV2lkdGgiLCJmcmFtZUhlaWdodCIsIndvcmxkV2lkdGgiLCJ3b3JsZEhlaWdodCIsInNldFNjcm9sbEZhY3RvciIsInRpbWVySWNvbiIsInNldEZyYW1lIiwic2V0V2lubmVyVGV4dCIsImFkZEV2ZW50IiwiY2FsbGJhY2siLCJ1cGRhdGVUaW1lciIsImNhbGxiYWNrU2NvcGUiLCJzZXREaXNwbGF5U2l6ZSIsInJlZCIsInN0YXRpY1Nwcml0ZSIsInJlZFRleHR1cmUiLCJ0ZXh0dXJlcyIsImdldFNvdXJjZUltYWdlIiwic2V0T2Zmc2V0IiwidXBkYXRlRnJvbUdhbWVPYmplY3QiLCJfY3JlYXRlQW5pbWF0aW9ucyIsInBvaW50c0xlZnQiLCJwb2ludHNSaWdodCIsInNjb3JlRnJhbWVMZWZ0Iiwic2NvcmVGcmFtZVJpZ2h0Iiwic2NvcmVMZWZ0IiwicmlnaHRTY29yZSIsImdyb3VuZEhlaWdodCIsImdyb3VuZCIsInJlY3RhbmdsZSIsImV4aXN0aW5nIiwiX2NyZWF0ZVBsYXllcnMiLCJfc2V0dXBQaHlzaWNzV29ybGQiLCJfc2V0dXBJbnB1dE1hcHBpbmdzIiwibWF4UG93ZXJVcHMiLCJpbnZlbnRvcnlVSSIsImludmVudG9yeUZyYW1lcyIsIkJldHdlZW4iLCJHZXRSYW5kb20iLCJwb3dlclVwIiwiX2NyZWF0ZUJhbGwiLCJfc2V0dXBCYWxsQ29sbGlzaW9ucyIsIl9zZXR1cEJhbGxFdmVudHMiLCJpbnB1dCIsImtleWJvYXJkIiwicGF1c2UiLCJwYXVzZWQiLCJsYXVuY2giLCJtaW51dG9zIiwiZmxvb3IiLCJzZWd1bmRvcyIsImZvcm1hdG8iLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwibG9nIiwiX2VuZFNldCIsIl9yZXNldFNldCIsIl9oYW5kbGVJbnB1dEZvckFsbFBsYXllcnMiLCJ1aSIsImkiLCJmcmFtZXMiLCJnZW5lcmF0ZUZyYW1lTnVtYmVycyIsImVuZCIsImZyYW1lUmF0ZSIsInJldmVyc2UiLCJjaGFyUDEiLCJjaGFyYWN0ZXIiLCJjaGFyUDIiLCJwMSIsInAyIiwic2V0IiwiY291cnRCb3R0b20iLCJjb2xsaWRlciIsImxlZnRLZXkiLCJyaWdodEtleSIsImp1bXBLZXkiLCJyZWNlaXZlS2V5IiwicG93ZXJLZXkiLCJtYXAiLCJsZWZ0S2V5T2JqIiwiYWRkS2V5IiwiS2V5Ym9hcmQiLCJLZXlDb2RlcyIsInJpZ2h0S2V5T2JqIiwianVtcEtleU9iaiIsInJlY2VpdmVLZXlPYmoiLCJwb3dlcktleU9iaiIsIm1hcHBpbmciLCJpZGxlRGlyIiwiaXNEb3duIiwiSnVzdERvd24iLCJyZWNlaXZlRGlyIiwianVtcERpciIsIl9vbkJhbGxQbGF5ZXJDb2xsaXNpb24iLCJ2ZWxvY2l0eSIsInNjb3JlcklkIiwicG9pbnRzVG9BZGQiLCJfY2hlY2tXaW5Db25kaXRpb24iLCJwbGF5ZXJEaXJlY3Rpb24iLCJfZW5kR2FtZSIsIndpbm5lciIsIndvcmxkIiwic2NvcmVEaWZmIiwid2lubmVyTGFiZWwiLCJDb25maWd1cmF0aW9uX1NjZW5lIiwiY3VycmVudFZvbHVtZSIsInZvbHVtZVNsaWRlciIsImRvbSIsImNyZWF0ZUZyb21IVE1MIiwiYWRkTGlzdGVuZXIiLCJldmVudCIsInRhcmdldCIsInZhbHVlIiwic2V0SXRlbSIsImJhY2tYIiwiYmFja1kiLCJiYWNrQnV0dG9uIiwibGluZSIsImdyYXBoaWNzIiwibGluZVN0eWxlIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlUGF0aCIsInNlcGFyYXRpb24iLCJDcmVkaXRzX1NjZW5lIiwibm9tYnJlIiwiaW5kZXgiLCJFbmRHYW1lX1NjZW5lIiwibmFtZSIsIndpbm5lclRleHQiLCJ2b2x2ZXJCdXR0b24iLCJtZW51VGV4dCIsIk1vZGVHYW1lX1NjZW5lIiwiZm9udFN0eWxlIiwic3RhcnRYIiwic3BhY2luZyIsImxvY2FsQnV0dG9uIiwibG9jYWxUZXh0IiwibmV0d29ya0J1dHRvbiIsIm5ldHdvcmtUZXh0IiwiUGF1c2VfU2NlbmUiLCJjb250aW51YXJCRyIsImNvbnRpbnVhclRleHQiLCJyZXN1bWUiLCJtZW51Qm90dG9uIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwicmVtb3ZlQWxsS2V5cyIsIlNlbGVjdFBsYXllcl9TY2VuZSIsInNlbGVjdGVkQ2hhcmFjdGVycyIsIlNldCIsImNyZWF0ZVBsYXllckFyZWEiLCJuZXh0QnV0dG9uIiwibmV4dFRleHQiLCJuYW1lMSIsInBsYXllcklucHV0cyIsIm5vZGUiLCJxdWVyeVNlbGVjdG9yIiwidHJpbSIsIm5hbWUyIiwid2FybiIsImlkeCIsImN1cnJlbnRUdXJuIiwiaW5wdXRFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsImVuYWJsZWQiLCJzdG9wUHJvcGFnYXRpb24iLCJyZXBsYWNlIiwiYmlnSW1hZ2UiLCJiaWdGcmFtZSIsImZyYW1lIiwic2V0U3Ryb2tlU3R5bGUiLCJzdGFydFkiLCJwb3NpdGlvbnMiLCJtaW5pIiwiY3VycmVudFBsYXllciIsIm90aGVyUGxheWVyIiwiZGVsZXRlIiwiaW5kZXhPZiIsIlNlbGVjdFNjZW5hcmlvX1NjZW5lIiwic2VsZWN0ZWRJbWFnZSIsImJvdG9uIiwidGV4dG8iLCJkb2N1bWVudCIsImZvbnRzIiwicmVhZHkiLCJwYXJlbnQiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZ3Jhdml0eSIsImRlYnVnIiwiY3JlYXRlQ29udGFpbmVyIiwiYmFja2dyb3VuZENvbG9yIl0sInNvdXJjZVJvb3QiOiIifQ==