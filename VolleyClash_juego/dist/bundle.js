(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var o=e.n(t);o().Scene,o().Scene,o().Scene,o().Scene,o().Scene;class n extends o().Scene{constructor(){super("ModeGame_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png")}create(){this.add.text(280,100,"Modo de Juego",{fontSize:"32px"});const e=this.add.image(250,200,"botonSinSeleccionar").setInteractive().setScale(.7),t=this.add.text(0,0,"Local",{fontSize:"20px",color:"#000"});o().Display.Align.In.Center(t,e),e.on("pointerover",()=>e.setTexture("botonSeleccionado")),e.on("pointerout",()=>e.setTexture("botonSinSeleccionar")),e.on("pointerdown",()=>e.setTexture("botonSeleccionado")),e.on("pointerup",()=>this.scene.start("SelecPlayer_Scene"));const n=this.add.sprite(550,200,"botonSinSeleccionar").setInteractive().setScale(.7),a=this.add.text(0,0,"Red",{fontSize:"20px",color:"#000"});o().Display.Align.In.Center(a,n),n.on("pointerover",()=>n.setTexture("botonSeleccionado")),n.on("pointerout",()=>n.setTexture("botonSinSeleccionar")),n.on("pointerdown",()=>e.setTexture("botonSeleccionado")),n.on("pointerup",()=>this.scene.start("SelecPlayer_Scene")),this.add.sprite(30,420,"botonVolver").setInteractive().setScale(.1).on("pointerdown",()=>this.scene.start("SelectScenario_Scene"))}}o().Scene;class a extends o().Scene{constructor(){super("SelecPlayer_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("personajeA","/ASSETS/PERSONAJES/personajes_a.png"),this.load.image("personajeB","/ASSETS/PERSONAJES/personajes_b.png"),this.load.image("personajeC","ASSETS/PERSONAJES/personaje_c.png")}create(){this.add.text(160,60,"Personaje",{fontSize:"24px"}),this.selectedCharacter="personajeA",this.characterImage=this.add.image(220,240,this.selectedCharacter).setScale(1.2),this.add.text(480,210,"Selecciona Personaje:",{fontSize:"16px",color:"#ffffff"}),["personajeA","personajeB","personajeC"].forEach((e,t)=>{this.add.image(480+100*t,310,e).setInteractive().setScale(.5).on("pointerdown",()=>{this.selectedCharacter=e,this.characterImage.setTexture(e)})}),this.add.text(480,60,"Introduce tu Nombre:",{fontSize:"16px"}),this.nameInput=this.add.dom(575,120).createFromHTML('\n            <input type="text" id="playerName" \n                placeholder="Introduce tu nombre" \n                style="width: 180px; padding: 5px; font-size: 16px; border-radius: 5px;">\n        ');const e=this.add.image(700,420,"botonSinSeleccionar").setInteractive().setScale(.4),t=this.add.text(0,0,"Siguiente",{fontSize:"10px",color:"#000"});o().Display.Align.In.Center(t,e),e.on("pointerover",()=>e.setTexture("botonSeleccionado")),e.on("pointerout",()=>e.setTexture("botonSinSeleccionar")),e.on("pointerdown",()=>e.setTexture("botonSeleccionado")),e.on("pointerup",()=>{const e=this.nameInput.node.querySelector("input").value;console.log("Nombre de usuario:",e),this.scene.start("SelectScenario_Scene",{playerName:e,character:this.selectedCharacter})}),this.add.image(30,420,"botonVolver").setInteractive().setScale(.1).on("pointerdown",()=>this.scene.start("ModeGame_Scene"))}}class i extends o().Scene{constructor(){super("SelectScenario_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("jardin","ASSETS/FONDOS/JARDIN.png")}init(e){this.playerName=e.playerName,this.selectedCharacter=e.character}create(){this.add.text(230,10,"Selecciona Escenario",{fontSize:"28px"}),this.selectedImage=this.add.image(400,180,"gym").setScale(1.2),["gym","playa","jardin"].forEach((e,t)=>{const n=this.add.image(190+200*t,330,"botonSinSeleccionar").setInteractive().setScale(.6),a=this.add.text(0,0,`Escenario ${t+1}`,{fontSize:"16px",color:"#000"});o().Display.Align.In.Center(a,n),n.on("pointerover",()=>n.setTexture("botonSeleccionado")),n.on("pointerout",()=>{this.selectedScenario!==e&&n.setTexture("botonSinSeleccionar")}),n.on("pointerdown",()=>{this.selectedScenario=e,this.selectedImage.setTexture(e)}),n.on("pointerup",()=>n.setTexture("botonSinSeleccionar")),n.setName(`boton${t}`)});const e=this.add.image(700,420,"botonSinSeleccionar").setInteractive().setScale(.4),t=this.add.text(0,0,"Siguiente",{fontSize:"10px",color:"#000"});o().Display.Align.In.Center(t,e),e.on("pointerover",()=>e.setTexture("botonSeleccionado")),e.on("pointerout",()=>e.setTexture("botonSinSeleccionar")),e.on("pointerdown",()=>e.setTexture("botonSeleccionado")),e.on("pointerup",()=>this.scene.start("ModeGame_Scene")),this.add.image(30,420,"botonVolver").setInteractive().setScale(.1).on("pointerdown",()=>this.scene.start("SelecPlayer_Scene"))}}const r={type:o().AUTO,width:800,height:450,parent:"game-cointainer",physics:{default:"arcade",arcade:{gravity:{x:0,y:300},debug:!0}},dom:{createContainer:!0},scene:[n,a,i],backgroundColor:"#8675f1"};new(o().Game)(r)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZXljbGFzaF9qdWVnby93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby9leHRlcm5hbCB2YXIgXCJQaGFzZXJcIiIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvTWVudV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvR2FtZV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvQ29uZmlndXJhdGlvbl9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvQ3JlZGl0c19TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvRW5kR2FtZV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvTW9kZUdhbWVfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL1BhdXNlX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9TZWxlY3RQbGF5ZXJfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL1NlbGVjdFNjZW5hcmlvX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSBQaGFzZXI7IiwiLy9QYW50YWxsYSBkZSBJbmljaW9cclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ01lbnVfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7IFxyXG4gICAgICAgIFxyXG4gICAgfVxyXG59IiwiLy9QYW50YWxsYSBkZSBKdWVnb1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZV9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHsgXHJcblxyXG4gICAgfVxyXG59IiwiLy9QYW50YWxsYSBkZSBDb25maWd1cmFjacOzblxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29uZmlndXJhdGlvbl9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29uZmlndXJhY2lvbl9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHsgXHJcblxyXG4gICAgfVxyXG59IiwiLy9QYW50YWxsYSBkZSBDcmVkaXRvc1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3JlZGl0c19TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTWVudVNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkgeyBcclxuXHJcbiAgICB9XHJcbn0iLCIvL1BhbnRhbGxhIGRlIEZpblxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgRW5kR2FtZV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignRW5kR2FtZV9Fc2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7IFxyXG5cclxuICAgIH1cclxufSIsIi8vUGFudGFsbGEgZGUgTW9kbyBkZSBKdWVnb1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgTW9kZUdhbWVfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ01vZGVHYW1lX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX1NFTEVDQ0lPTkRPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW5TZWxlY2Npb25hcicsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9TSU5fU0VMRUNDSU9OQVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9WT0xWRVIucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoMjgwLCAxMDAsICdNb2RvIGRlIEp1ZWdvJywgeyBmb250U2l6ZTogJzMycHgnfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdG9uIExvY2FsXHJcbiAgICAgICAgY29uc3QgbG9jYWxCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSgyNTAsIDIwMCwgJ2JvdG9uU2luU2VsZWNjaW9uYXInKS5zZXRJbnRlcmFjdGl2ZSgpLnNldFNjYWxlKDAuNyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvY2FsVGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJ0xvY2FsJywgeyBmb250U2l6ZTogJzIwcHgnLCBjb2xvcjogJyMwMDAnIH0pO1xyXG4gICAgICAgIFBoYXNlci5EaXNwbGF5LkFsaWduLkluLkNlbnRlcihsb2NhbFRleHQsIGxvY2FsQnV0dG9uKTtcclxuXHJcbiAgICAgICAgbG9jYWxCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbG9jYWxCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKSk7XHJcbiAgICAgICAgbG9jYWxCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBsb2NhbEJ1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNpblNlbGVjY2lvbmFyJykpO1xyXG4gICAgICAgIGxvY2FsQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IGxvY2FsQnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJykpO1xyXG4gICAgICAgIGxvY2FsQnV0dG9uLm9uKCdwb2ludGVydXAnLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY1BsYXllcl9TY2VuZScpKTtcclxuXHJcbiAgICAgICAgLy8gQm90b24gUmVkXHJcbiAgICAgICAgY29uc3QgbmV0d29ya0J1dHRvbiA9IHRoaXMuYWRkLnNwcml0ZSg1NTAsIDIwMCwgJ2JvdG9uU2luU2VsZWNjaW9uYXInKS5zZXRJbnRlcmFjdGl2ZSgpLnNldFNjYWxlKDAuNyk7XHJcblxyXG4gICAgICAgIGNvbnN0IG5ldHdvcmtUZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAwLCAnUmVkJywgeyBmb250U2l6ZTogJzIwcHgnLCBjb2xvcjogJyMwMDAnIH0pO1xyXG4gICAgICAgIFBoYXNlci5EaXNwbGF5LkFsaWduLkluLkNlbnRlcihuZXR3b3JrVGV4dCwgbmV0d29ya0J1dHRvbik7XHJcblxyXG4gICAgICAgIG5ldHdvcmtCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbmV0d29ya0J1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNlbGVjY2lvbmFkbycpKTtcclxuICAgICAgICBuZXR3b3JrQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbmV0d29ya0J1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNpblNlbGVjY2lvbmFyJykpO1xyXG4gICAgICAgIG5ldHdvcmtCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gbG9jYWxCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKSk7XHJcbiAgICAgICAgbmV0d29ya0J1dHRvbi5vbigncG9pbnRlcnVwJywgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnU2VsZWNQbGF5ZXJfU2NlbmUnKSk7XHJcblxyXG4gICAgICAgIC8vIEJvdG9uIFZvbHZlclxyXG4gICAgICAgIGNvbnN0IGJhY2tCdXR0b24gPSB0aGlzLmFkZC5zcHJpdGUoMzAsIDQyMCwgJ2JvdG9uVm9sdmVyJykuc2V0SW50ZXJhY3RpdmUoKS5zZXRTY2FsZSgwLjEpO1xyXG4gICAgICAgIGJhY2tCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnU2VsZWN0U2NlbmFyaW9fU2NlbmUnKSk7XHJcbiAgICB9XHJcbn0iLCIvL1BhbnRhbGxhIGRlIFBhdXNhXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignUGF1c2VfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7IFxyXG5cclxuICAgIH1cclxufSIsIi8vUGFudGFsbGEgZGUgU2VsZWNjaW9uIGRlIGp1Z2Fkb3JcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdFBsYXllcl9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignU2VsZWNQbGF5ZXJfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fU0VMRUNDSU9ORE8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX1NJTl9TRUxFQ0NJT05BUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL1ZPTFZFUi5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwZXJzb25hamVBJywgJy9BU1NFVFMvUEVSU09OQUpFUy9wZXJzb25hamVzX2EucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwZXJzb25hamVCJywgJy9BU1NFVFMvUEVSU09OQUpFUy9wZXJzb25hamVzX2IucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwZXJzb25hamVDJywgJ0FTU0VUUy9QRVJTT05BSkVTL3BlcnNvbmFqZV9jLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBUZXh0byBkZWwgcGVyc29uYWplXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCgxNjAsIDYwLCAnUGVyc29uYWplJywgeyBmb250U2l6ZTogJzI0cHgnfSk7XHJcblxyXG4gICAgICAgIC8vIEltYWdlbiBkZWwgcGVyc29uYWplXHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZENoYXJhY3RlciA9ICdwZXJzb25hamVBJztcclxuICAgICAgICB0aGlzLmNoYXJhY3RlckltYWdlID0gdGhpcy5hZGQuaW1hZ2UoMjIwLCAyNDAsIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIpLnNldFNjYWxlKDEuMik7XHJcblxyXG4gICAgICAgIC8vIFNlbGVjY2lvbiBkZSBwZXJzb25hamUgcGVxdWXDsW9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgMjEwLCAnU2VsZWNjaW9uYSBQZXJzb25hamU6JywgeyBmb250U2l6ZTogJzE2cHgnLCBjb2xvcjogJyNmZmZmZmYnIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBwZXJzb25hamVzID0gWydwZXJzb25hamVBJywgJ3BlcnNvbmFqZUInLCAncGVyc29uYWplQyddO1xyXG4gICAgICAgIHBlcnNvbmFqZXMuZm9yRWFjaCgobm9tYnJlLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJvdG9uID0gdGhpcy5hZGQuaW1hZ2UoNDgwICsgaSAqIDEwMCwgMzEwLCBub21icmUpLnNldEludGVyYWN0aXZlKCkuc2V0U2NhbGUoMC41KTtcclxuXHJcbiAgICAgICAgICAgIGJvdG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIgPSBub21icmU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoYXJhY3RlckltYWdlLnNldFRleHR1cmUobm9tYnJlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIGRlIHVzdWFyaW9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDQ4MCwgNjAsICdJbnRyb2R1Y2UgdHUgTm9tYnJlOicsIHsgZm9udFNpemU6ICcxNnB4J30pO1xyXG5cclxuICAgICAgICAvLyBOb21icmUgZGUgdXN1YXJpb1xyXG4gICAgICAgIHRoaXMubmFtZUlucHV0ID0gdGhpcy5hZGQuZG9tKDU3NSwgMTIwKS5jcmVhdGVGcm9tSFRNTChgXHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIGlkPVwicGxheWVyTmFtZVwiIFxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJJbnRyb2R1Y2UgdHUgbm9tYnJlXCIgXHJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIndpZHRoOiAxODBweDsgcGFkZGluZzogNXB4OyBmb250LXNpemU6IDE2cHg7IGJvcmRlci1yYWRpdXM6IDVweDtcIj5cclxuICAgICAgICBgKTtcclxuXHJcbiAgICAgICAgLy8gQm90b24gU2lndWllbnRlXHJcbiAgICAgICAgY29uc3QgbmV4dEJ1dHRvbiA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNDIwLCAnYm90b25TaW5TZWxlY2Npb25hcicpLnNldEludGVyYWN0aXZlKCkuc2V0U2NhbGUoMC40KTtcclxuICAgICAgICBjb25zdCBuZXh0VGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJ1NpZ3VpZW50ZScsIHsgZm9udFNpemU6ICcxMHB4JywgY29sb3I6ICcjMDAwJyB9KTtcclxuICAgICAgICBQaGFzZXIuRGlzcGxheS5BbGlnbi5Jbi5DZW50ZXIobmV4dFRleHQsIG5leHRCdXR0b24pO1xyXG5cclxuICAgICAgICBuZXh0QnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG5leHRCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKSk7XHJcbiAgICAgICAgbmV4dEJ1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IG5leHRCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TaW5TZWxlY2Npb25hcicpKTtcclxuICAgICAgICBuZXh0QnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IG5leHRCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKSk7XHJcbiAgICAgICAgbmV4dEJ1dHRvbi5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBub21icmUgPSB0aGlzLm5hbWVJbnB1dC5ub2RlLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykudmFsdWU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm9tYnJlIGRlIHVzdWFyaW86XCIsIG5vbWJyZSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RTY2VuYXJpb19TY2VuZScsIHsgXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJOYW1lOiBub21icmUsXHJcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXI6IHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdG9uIFZvbHZlclxyXG4gICAgICAgIGNvbnN0IGJhY2tCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSgzMCwgNDIwLCAnYm90b25Wb2x2ZXInKS5zZXRJbnRlcmFjdGl2ZSgpLnNldFNjYWxlKDAuMSk7XHJcbiAgICAgICAgYmFja0J1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNb2RlR2FtZV9TY2VuZScpKTtcclxuICAgIH1cclxufSIsIi8vUGFudGFsbGEgZGUgU2VsZWNjaW9uIGRlIGVzY2VuYXJpb1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgU2VsZWN0U2NlbmFyaW9fU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1NlbGVjdFNjZW5hcmlvX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX1NFTEVDQ0lPTkRPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW5TZWxlY2Npb25hcicsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9TSU5fU0VMRUNDSU9OQVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9WT0xWRVIucG5nJyk7XHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZ3ltJywgJ0FTU0VUUy9GT05ET1MvR0lNTkFTSU8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwbGF5YScsICdBU1NFVFMvRk9ORE9TL1BMQVlBLnBuZycpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdqYXJkaW4nLCAnQVNTRVRTL0ZPTkRPUy9KQVJESU4ucG5nJylcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLnBsYXllck5hbWUgPSBkYXRhLnBsYXllck5hbWU7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZENoYXJhY3RlciA9IGRhdGEuY2hhcmFjdGVyO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KDIzMCwgMTAsICdTZWxlY2Npb25hIEVzY2VuYXJpbycsIHsgZm9udFNpemU6ICcyOHB4J30pO1xyXG5cclxuICAgICAgICAvLyBJbWFnZW4gZGVsIGVzY2VuYXJpbyBzZWxlY2Npb25hZG9cclxuICAgICAgICB0aGlzLnNlbGVjdGVkSW1hZ2UgPSB0aGlzLmFkZC5pbWFnZSg0MDAsIDE4MCwgJ2d5bScpLnNldFNjYWxlKDEuMik7XHJcblxyXG4gICAgICAgIC8vIEVzY2VuYXJpb3NcclxuICAgICAgICBjb25zdCBlc2NlbmFyaW9zID0gWydneW0nLCAncGxheWEnLCAnamFyZGluJ107XHJcblxyXG4gICAgICAgIGVzY2VuYXJpb3MuZm9yRWFjaCgobm9tYnJlLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJvdG9uID0gdGhpcy5hZGQuaW1hZ2UoMTkwICsgaSAqIDIwMCwgMzMwLCAnYm90b25TaW5TZWxlY2Npb25hcicpLnNldEludGVyYWN0aXZlKCkuc2V0U2NhbGUoMC42KTtcclxuICAgICAgICAgICAgY29uc3QgdGV4dG8gPSB0aGlzLmFkZC50ZXh0KDAsIDAsIGBFc2NlbmFyaW8gJHtpICsgMX1gLCB7IGZvbnRTaXplOiAnMTZweCcsIGNvbG9yOiAnIzAwMCcgfSk7XHJcbiAgICAgICAgICAgIFBoYXNlci5EaXNwbGF5LkFsaWduLkluLkNlbnRlcih0ZXh0bywgYm90b24pO1xyXG5cclxuICAgICAgICAgICAgYm90b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gYm90b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKSk7XHJcbiAgICAgICAgICAgIGJvdG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyAhPT0gbm9tYnJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm90b24uc2V0VGV4dHVyZSgnYm90b25TaW5TZWxlY2Npb25hcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYm90b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFNjZW5hcmlvID0gbm9tYnJlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEltYWdlLnNldFRleHR1cmUobm9tYnJlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGJvdG9uLm9uKCdwb2ludGVydXAnLCAoKSA9PiBib3Rvbi5zZXRUZXh0dXJlKCdib3RvblNpblNlbGVjY2lvbmFyJykpO1xyXG4gICAgICAgICAgICBib3Rvbi5zZXROYW1lKGBib3RvbiR7aX1gKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90b24gU2lndWllbnRlXHJcbiAgICAgICAgY29uc3QgbmV4dEJ1dHRvbiA9IHRoaXMuYWRkLmltYWdlKDcwMCwgNDIwLCAnYm90b25TaW5TZWxlY2Npb25hcicpLnNldEludGVyYWN0aXZlKCkuc2V0U2NhbGUoMC40KTtcclxuICAgICAgICBjb25zdCBuZXh0VGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJ1NpZ3VpZW50ZScsIHsgZm9udFNpemU6ICcxMHB4JywgY29sb3I6ICcjMDAwJyB9KTtcclxuICAgICAgICBQaGFzZXIuRGlzcGxheS5BbGlnbi5Jbi5DZW50ZXIobmV4dFRleHQsIG5leHRCdXR0b24pO1xyXG5cclxuICAgICAgICBuZXh0QnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG5leHRCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKSk7XHJcbiAgICAgICAgbmV4dEJ1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IG5leHRCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TaW5TZWxlY2Npb25hcicpKTtcclxuICAgICAgICBuZXh0QnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IG5leHRCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKSk7XHJcbiAgICAgICAgbmV4dEJ1dHRvbi5vbigncG9pbnRlcnVwJywgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTW9kZUdhbWVfU2NlbmUnKSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQm90b24gVm9sdmVyXHJcbiAgICAgICAgY29uc3QgYmFja0J1dHRvbiA9IHRoaXMuYWRkLmltYWdlKDMwLCA0MjAsICdib3RvblZvbHZlcicpLnNldEludGVyYWN0aXZlKCkuc2V0U2NhbGUoMC4xKTtcclxuICAgICAgICBiYWNrQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ1NlbGVjUGxheWVyX1NjZW5lJykpO1xyXG4gICAgfVxyXG59IiwiLy8gQXF1aSB2YSBsYSBiYXNlIGRlbCBqdWVnbyBwYXJhIGxhIGVzdHJ1Y3R1cmEgeSB0ZW5lciBhY2Nlc28gYSB0b2RvcyBsb3MgYXJjaGl2b3NcclxuaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IE1lbnVfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvTWVudV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBHYW1lX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0dhbWVfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgQ29uZmlndXJhdGlvbl9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9Db25maWd1cmF0aW9uX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IENyZWRpdHNfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvQ3JlZGl0c19TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBFbmRHYW1lX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0VuZEdhbWVfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgTW9kZUdhbWVfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvTW9kZUdhbWVfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgUGF1c2VfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvUGF1c2VfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgU2VsZWN0UGxheWVyX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL1NlbGVjdFBsYXllcl9TY2VuZS5qc1wiXHJcbmltcG9ydCB7IFNlbGVjdFNjZW5hcmlvX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL1NlbGVjdFNjZW5hcmlvX1NjZW5lLmpzXCI7XHJcblxyXG5jb25zdCBjb25maWcgPSB7XHJcbiAgICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICAgIHdpZHRoOiA4MDAsXHJcbiAgICBoZWlnaHQ6IDQ1MCxcclxuICAgIHBhcmVudDogJ2dhbWUtY29pbnRhaW5lcicsXHJcbiAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgIGdyYXZpdHk6IHt4OiAwLCB5OiAzMDB9LFxyXG4gICAgICAgICAgICBkZWJ1ZzogdHJ1ZVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBkb206IHtcclxuICAgICAgICBjcmVhdGVDb250YWluZXI6IHRydWVcclxuICAgIH0sXHJcbiAgICBzY2VuZTogWy8qTWVudV9TY2VuZSwgR2FtZV9TY2VuZSwgQ29uZmlndXJhdGlvbl9TY2VuZSwgQ3JlZGl0c19TY2VuZSwgRW5kR2FtZV9TY2VuZSwgUGF1c2VfU2NlbmUsKi8gTW9kZUdhbWVfU2NlbmUsIFNlbGVjdFBsYXllcl9TY2VuZSwgU2VsZWN0U2NlbmFyaW9fU2NlbmVdLFxyXG4gICAgYmFja2dyb3VuZENvbG9yOicjODY3NWYxJyxcclxufVxyXG5cclxuY29uc3QgZ2FtZSA9IG5ldyBQaGFzZXIuR2FtZShjb25maWcpOyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlBoYXNlciIsIk1vZGVHYW1lX1NjZW5lIiwiY29uc3RydWN0b3IiLCJzdXBlciIsInByZWxvYWQiLCJ0aGlzIiwibG9hZCIsImltYWdlIiwiY3JlYXRlIiwiYWRkIiwidGV4dCIsImZvbnRTaXplIiwibG9jYWxCdXR0b24iLCJzZXRJbnRlcmFjdGl2ZSIsInNldFNjYWxlIiwibG9jYWxUZXh0IiwiY29sb3IiLCJBbGlnbiIsIkluIiwiQ2VudGVyIiwib24iLCJzZXRUZXh0dXJlIiwic2NlbmUiLCJzdGFydCIsIm5ldHdvcmtCdXR0b24iLCJzcHJpdGUiLCJuZXR3b3JrVGV4dCIsIlNlbGVjdFBsYXllcl9TY2VuZSIsInNlbGVjdGVkQ2hhcmFjdGVyIiwiY2hhcmFjdGVySW1hZ2UiLCJmb3JFYWNoIiwibm9tYnJlIiwiaSIsIm5hbWVJbnB1dCIsImRvbSIsImNyZWF0ZUZyb21IVE1MIiwibmV4dEJ1dHRvbiIsIm5leHRUZXh0Iiwibm9kZSIsInF1ZXJ5U2VsZWN0b3IiLCJ2YWx1ZSIsImNvbnNvbGUiLCJsb2ciLCJwbGF5ZXJOYW1lIiwiY2hhcmFjdGVyIiwiU2VsZWN0U2NlbmFyaW9fU2NlbmUiLCJpbml0IiwiZGF0YSIsInNlbGVjdGVkSW1hZ2UiLCJib3RvbiIsInRleHRvIiwic2VsZWN0ZWRTY2VuYXJpbyIsInNldE5hbWUiLCJjb25maWciLCJ0eXBlIiwid2lkdGgiLCJoZWlnaHQiLCJwYXJlbnQiLCJwaHlzaWNzIiwiZGVmYXVsdCIsImFyY2FkZSIsImdyYXZpdHkiLCJ4IiwieSIsImRlYnVnIiwiY3JlYXRlQ29udGFpbmVyIiwiYmFja2dyb3VuZENvbG9yIl0sInNvdXJjZVJvb3QiOiIifQ==