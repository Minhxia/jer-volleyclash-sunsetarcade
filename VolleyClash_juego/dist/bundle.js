(()=>{"use strict";var e={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},d:(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var i=e.n(t);const s="sfxVolume",a="musicVolume",r="globalVolume",o="volume";function n(e,t){const s=Number.parseFloat(e??String(t));return Number.isFinite(s)?i().Math.Clamp(s,0,1):t}function l(e,t,s=1){const a=localStorage.getItem(e);if(null!==a)return n(a,s);const r=t?localStorage.getItem(t):null;return null!==r?n(r,s):i().Math.Clamp(s,0,1)}function h(e=1){return l(s,o,e)}function c(e=1){return l(a,o,e)}function d(e=1){return l(r,null,e)}function p(e,t={}){let s=d(),a=h(),r=c();"number"==typeof t?(a=i().Math.Clamp(Number(t),0,1),r=a):(a=t.sfxVolume??a,r=t.musicVolume??r),e.sound.volume=s;const o=e.game.globals.music;o&&"setVolume"in o&&o.setVolume(r)}function m(e,t="sonidoClick"){e.sound.play(t,{volume:h()})}function S(e,{x:t,y:i,label:s,onClick:a,textureNormal:r="botonSinSeleccionar",textureHover:o="botonSeleccionado",scale:n=2,textStyle:l={},clickSoundKey:h="sonidoClick"}){const c=e.add.sprite(t,i,r).setScale(n).setInteractive({useHandCursor:!0}),d=e.add.text(t,i,s,l).setOrigin(.5),p=()=>c.setTexture(r),S=()=>c.setTexture(o);return c.on("pointerover",S),c.on("pointerout",p),c.on("pointerdown",()=>{S(),m(e,h)}),c.on("pointerup",e=>{c.getBounds().contains(e.x,e.y)?(S(),a?.()):p()}),{button:c,text:d}}function u(e,t){const{x:i,y:s,texture:a,onClick:r,scale:o=1,hoverScale:n=1.1,clickSoundKey:l="sonidoClick"}=t,h=e.add.sprite(i,s,a).setScale(o).setInteractive({useHandCursor:!0});return h.on("pointerover",()=>h.setScale(o*n)),h.on("pointerout",()=>h.setScale(o)),h.on("pointerdown",()=>{m(e,l)}),h.on("pointerup",e=>{h.getBounds().contains(e.x,e.y)&&r()}),h}class g extends i().Scene{constructor(){super("Menu_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.image("fondoMenuPrincipal","ASSETS/FONDOS/MENU_PRINCIPAL.png"),this.load.image("logoEmpresa","ASSETS/LOGO/logo_empresa.png"),this.load.audio("sonidoGeneral","ASSETS/SONIDO/SONIDO1.mp3"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){p(this),function(e,t,{loop:i=!0}={}){const s=c();let a=e.game.globals.music;a||(a=e.sound.add(t,{loop:i,volume:s}),e.game.globals.music=a),a&&"setVolume"in a&&a.setVolume(s);const r=()=>{if(a&&"play"in a&&(!("isPlaying"in a)||!a.isPlaying))try{a.play()}catch(e){console.warn("[Audio.js] No se ha podido reproducir todav?a la m?sica.",e)}};r(),e.input.once("pointerdown",async()=>{const t=e.sound.context;if(t&&"suspended"===t.state)try{await t.resume()}catch{}r()})}(this,"sonidoGeneral",{loop:!0});const e=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"},{width:t,height:i}=this.scale,s=t/2,a=s+s/2;this.add.image(0,0,"fondoMenuPrincipal").setOrigin(0).setDepth(-1).setDisplaySize(t,i),this.add.text(a,115,"Volley Clash",{...e,fontSize:"68px",color:"#ffffff"}).setOrigin(.5);const r=i/2-63,o={...e,fontSize:"28px",color:"#000000"};S(this,{x:a,y:r,label:"Jugar",onClick:()=>this.scene.start("ModeGame_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),S(this,{x:a,y:r+70,label:"Tutorial",onClick:()=>this.scene.start("Tutorial_Scene",{returnScene:"Menu_Scene"}),textStyle:o,clickSoundKey:"sonidoClick"}),S(this,{x:a,y:r+140,label:"Configuración",onClick:()=>this.scene.start("Configuration_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),S(this,{x:a,y:r+210,label:"Créditos",onClick:()=>this.scene.start("Credits_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),this.add.image(this.scale.width-20,this.scale.height-20,"logoEmpresa").setScale(.42).setOrigin(1,1)}}const f={velocidad:4e3,ralentizar:4e3,paralizar:2500,por2:4e3,por3:4e3};class y{constructor(e,t,i,s,a){this.scene=e,this.id=t,this.characterType=a,this.baseMoveSpeed=250,this.moveSpeed=this.baseMoveSpeed,this.jumpSpeed=275,this.activePowerUps={},this.isParalyzed=!1,this.paralysisTween=null,this.speedEffectActive=!1,this.slowEffectActive=!1,this.scoreMultiplier=1,this.multiplierText=this.scene.add.text(i,s-50,"",{fontFamily:"Arial",fontSize:"20px",color:"#ffffff",stroke:"#000000",strokeThickness:4}).setOrigin(.5,1).setDepth(20).setVisible(!1),this.powerUpInventory=[],this.isReceiving=!1,this.boundsLeft=0,this.boundsRight=960,this.boundsTop=0,this.boundsBottom=540;const r={characterA:{textureKey:"charA_move",startFrame:0,idleLeftAnim:"charA_idleLeft",idleRightAnim:"charA_idleRight",runLeftAnim:"charA_runLeft",runRightAnim:"charA_runRight",jumpLeftAnim:"charA_jumpLeft",jumpRightAnim:"charA_jumpRight",receiveLeftAnim:"charA_receiveLeft",receiveRightAnim:"charA_receiveRight",victory:"charA_victory"},characterB:{textureKey:"charB_move",startFrame:0,idleLeftAnim:"charB_idleLeft",idleRightAnim:"charB_idleRight",runLeftAnim:"charB_runLeft",runRightAnim:"charB_runRight",jumpLeftAnim:"charB_jumpLeft",jumpRightAnim:"charB_jumpRight",receiveLeftAnim:"charB_receiveLeft",receiveRightAnim:"charB_receiveRight",victory:"charB_victory"},characterC:{textureKey:"charC_move",startFrame:0,idleLeftAnim:"charC_idleLeft",idleRightAnim:"charC_idleRight",runLeftAnim:"charC_runLeft",runRightAnim:"charC_runRight",jumpLeftAnim:"charC_jumpLeft",jumpRightAnim:"charC_jumpRight",receiveLeftAnim:"charC_receiveLeft",receiveRightAnim:"charC_receiveRight",victory:"charC_victory"}};this.config=r[a]||r.characterA,this.sprite=this.scene.physics.add.sprite(i,s,this.config.textureKey,this.config.startFrame),this.sprite.setScale(2.5),this.sprite.body.setSize(.9*this.sprite.width,.9*this.sprite.height,!0),this.sprite.setData("player",this),this.facing="right",this.isOnGround=!1,this.isJumping=!1,this.jumpStartTime=0,this.sprite.on("animationcomplete",e=>{try{e.key!==this.config.receiveLeftAnim&&e.key!==this.config.receiveRightAnim||(this.isReceiving=!1)}catch(t){console.error(`Animation complete handler error for ${e.key}:`,t)}})}isGrounded(){const e=this.sprite.body;return!!e&&(e.blocked.down||e.touching.down)}isNearGround(e=12){const t=this.sprite.body;if(!t)return!1;if("number"!=typeof this.scene.groundY)return!1;const i=t.y+t.height;return Math.abs(i-this.scene.groundY)<=e}moveLeft(){this.isParalyzed||this.isReceiving||(this.sprite.setVelocityX(-this.moveSpeed),this.facing="left",this.playAnimation(this.config.runLeftAnim))}moveRight(){this.isParalyzed||this.isReceiving||(this.sprite.setVelocityX(this.moveSpeed),this.facing="right",this.playAnimation(this.config.runRightAnim))}jumpLeft(){this.isParalyzed||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!1,this.isJumping=!0,this.jumpStartTime=this.scene.time.now,this.sprite.setVelocityY(-this.jumpSpeed),this.facing="left",this.playAnimation(this.config.jumpLeftAnim),this.scene?.playSfx?.(this.scene?.sfx?.jump))}jumpRight(){this.isParalyzed||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!1,this.isJumping=!0,this.jumpStartTime=this.scene.time.now,this.sprite.setVelocityY(-this.jumpSpeed),this.facing="right",this.playAnimation(this.config.jumpRightAnim),this.scene?.playSfx?.(this.scene?.sfx?.jump))}receiveLeft(){this.isParalyzed||this.isReceiving||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!0,this.sprite.setVelocityX(0),this.facing="left",this.playAnimation(this.config.receiveLeftAnim))}receiveRight(){this.isParalyzed||this.isReceiving||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!0,this.sprite.setVelocityX(0),this.facing="right",this.playAnimation(this.config.receiveRightAnim))}idleLeft(){this.isReceiving||(this.sprite.setVelocityX(0),this.facing="left",this.playAnimation(this.config.idleLeftAnim))}idleRight(){this.isReceiving||(this.sprite.setVelocityX(0),this.facing="right",this.playAnimation(this.config.idleRightAnim))}setBounds(e,t,i,s){this.boundsLeft=e,this.boundsRight=t,this.boundsTop=i,this.boundsBottom=s}clampWithinBounds(){const e=this.sprite.width/2;this.sprite.x-e<this.boundsLeft&&(this.sprite.x=this.boundsLeft+e,this.sprite.setVelocityX(0)),this.sprite.x+e>this.boundsRight&&(this.sprite.x=this.boundsRight-e,this.sprite.setVelocityX(0))}setPosition(e,t){this.sprite&&(this.sprite.setPosition(e,t),this.sprite.setVelocity(0,0),this.updateMultiplierTextPosition())}updateMultiplierTextPosition(){if(!this.multiplierText||!this.sprite)return;const e=.6*(this.sprite.displayHeight||this.sprite.height||40);this.multiplierText.setPosition(this.sprite.x,this.sprite.y-e)}playAnimation(e){if(!e)return;if(!this.sprite.anims)return;if(this.isJumping&&e!==this.config.jumpLeftAnim&&e!==this.config.jumpRightAnim)return;const t=this.sprite.anims.currentAnim;this.sprite.anims.isPlaying&&t&&t.key===e||this.sprite.anims.play(e,!0)}update(){if(this.sprite.body){const e=this.isOnGround;this.isOnGround=this.isGrounded();const t=this.sprite.anims.currentAnim,i=t?t.key:null;this.isParalyzed&&this.sprite.setVelocityX(0),this.isReceiving&&i!==this.config.receiveLeftAnim&&i!==this.config.receiveRightAnim&&(this.isReceiving=!1),this.isJumping&&i&&i!==this.config.jumpLeftAnim&&i!==this.config.jumpRightAnim&&(this.isJumping=!1),this.isJumping&&this.scene.time.now-this.jumpStartTime>1500&&(this.isJumping=!1),this.isJumping&&!e&&this.isOnGround&&(this.isJumping=!1,"left"===this.facing?this.idleLeft():this.idleRight())}this.clampWithinBounds(),this.updateMultiplierTextPosition()}applyPowerUp(e){return!(this.powerUpInventory.length>=2||(this.powerUpInventory.push(e),0))}useNextPowerUp(){if(0===this.powerUpInventory.length)return;const e=this.powerUpInventory.shift();this.activatePowerUp(e)}activatePowerUp(e){switch(e){case"velocidad":this.applyOrRefreshTimedEffect("velocidad",f.velocidad);break;case"ralentizar":{const e=this.getOpponent();e&&e.applyOrRefreshTimedEffect("ralentizar",f.ralentizar);break}case"paralizar":{const e=this.getOpponent();e&&e.applyOrRefreshTimedEffect("paralizar",f.paralizar);break}case"por2":case"por3":this.applyOrRefreshTimedEffect(e,f[e])}}updatePowerUps(){const e=this.scene.time.now;let t=!1,i=!1;for(const s in this.activePowerUps)if(!(e<=this.activePowerUps[s]))switch(delete this.activePowerUps[s],s){case"velocidad":this.setSpeedEffect(!1),t=!0;break;case"ralentizar":this.setSlowEffect(!1),t=!0;break;case"paralizar":this.setParalyzed(!1);break;case"por2":case"por3":i=!0}t&&this.recalculateMoveSpeed(),i&&this.recalculateScoreEffect()}setParalyzed(e){this.isParalyzed=e,e?(this.sprite.setTint(16733525),this.sprite.setAlpha(1),this.paralysisTween&&(this.paralysisTween.stop(),this.paralysisTween=null),this.paralysisTween=this.scene.tweens.add({targets:this.sprite,alpha:.3,yoyo:!0,duration:200,repeat:-1}),this.sprite.setVelocityX(0)):(this.sprite.setAlpha(1),this.paralysisTween&&(this.paralysisTween.stop(),this.paralysisTween=null),this.refreshPowerUpVisuals())}setSpeedEffect(e){this.speedEffectActive=e,this.refreshPowerUpVisuals()}setSlowEffect(e){this.slowEffectActive=e,this.refreshPowerUpVisuals()}recalculateMoveSpeed(){let e=1;this.activePowerUps.velocidad&&(e*=1.5),this.activePowerUps.ralentizar&&(e*=.5),this.moveSpeed=this.baseMoveSpeed*e}recalculateScoreEffect(){let e=1;this.activePowerUps.por2&&(e=Math.max(e,2)),this.activePowerUps.por3&&(e=Math.max(e,3)),this.scoreMultiplier=e,this.multiplierText&&(this.scoreMultiplier>1?(this.multiplierText.setText("x"+this.scoreMultiplier),this.multiplierText.setVisible(!0)):this.multiplierText.setVisible(!1)),this.refreshPowerUpVisuals()}applyOrRefreshTimedEffect(e,t){const i=this.scene.time.now;this.activePowerUps[e]=i+t,"velocidad"===e&&this.setSpeedEffect(!0),"ralentizar"===e&&this.setSlowEffect(!0),"paralizar"===e&&this.setParalyzed(!0),"velocidad"!==e&&"ralentizar"!==e||this.recalculateMoveSpeed(),"por2"!==e&&"por3"!==e||this.recalculateScoreEffect()}refreshPowerUpVisuals(){this.isParalyzed||(this.slowEffectActive?this.sprite.setTint(5592575):this.speedEffectActive?this.sprite.setTint(16747520):this.scoreMultiplier>1?this.sprite.setTint(3329330):this.sprite.clearTint())}getOpponent(){return this.scene.players?Array.from(this.scene.players.values()).find(e=>e!==this):null}}class x{constructor(e,t){this.player=e,this.powerUpType=t,this.stored=!1}execute(){return this.stored=this.player.applyPowerUp(this.powerUpType),this.stored}}class T{constructor(e,t,i,s){this.scene=e,this.type=s,this.isCollected=!1,this._destroyed=!1,this._cooldownUntil=0,this.fadeStart=3e3,this.lifetime=5e3,this._overlaps=[],this.fadeTween=null,this._lifetimeTimer=null,this.sprite=e.physics.add.staticImage(t,i,s).setScale(1.2).setInteractive(),this.sprite.refreshBody&&this.sprite.refreshBody();const a=Math.max(0,Math.min(this.fadeStart,this.lifetime)),r=Math.max(0,this.lifetime-a);r>0&&(this.fadeTween=e.tweens.add({targets:this.sprite,alpha:0,delay:a,duration:r}));const o=e.players;o&&"function"==typeof o.forEach&&o.forEach(t=>{if(!t?.sprite)return;const i=e.physics.add.overlap(t.sprite,this.sprite,()=>this.collect(t),null,this);this._overlaps.push(i)}),this._lifetimeTimer=e.time.delayedCall(this.lifetime,()=>{this.destroy()})}collect(e){if(console.log("[PowerUp] overlap con",e.id,"tipo",this.type),this._destroyed)return;if(this.isCollected)return;const t=this.scene.time.now;if(this._cooldownUntil&&t<this._cooldownUntil)return;this.isCollected=!0;const i=new x(e,this.type);if(this.scene.commandProcessor.process(i),!i.stored)return this.isCollected=!1,void(this._cooldownUntil=t+300);this.destroy(),this.scene.updatePlayerInventoryUI?.(e)}destroy(){if(!this._destroyed){if(this._destroyed=!0,Array.isArray(this._overlaps)&&(this._overlaps.forEach(e=>{try{e.destroy()}catch{}}),this._overlaps=[]),this.fadeTween){try{this.fadeTween.stop()}catch{}this.fadeTween=null}if(this._lifetimeTimer&&(this._lifetimeTimer.remove(!1),this._lifetimeTimer=null),this.sprite){try{this.sprite.destroy()}catch{}this.sprite=null}Array.isArray(this.scene.powerUps)&&(this.scene.powerUps=this.scene.powerUps.filter(e=>e!==this))}}}class A{constructor(e,t,i){this.scene=e,this.players=null,this.commandProcessor=null,this.sprite=e.physics.add.sprite(t,i,"ball"),this.sprite.setScale(1),this.sprite.setBounce(.8),this.sprite.setCollideWorldBounds(!0),this.sprite.setData("ball",this),this.lastTouchedBy=null,this.touchCount=0,this.courtSide="left",this.isBallLive=!0,this.netX=480,this.lastHitTime=0,this.lastHitPlayerId=null}_getRandomFactor(e=.95,t=1.05){return e+(t-e)*Math.random()}hit(e,t,i,s=!1){if(!this.isBallLive)return;const a=this.scene.time.now;if(this.lastHitPlayerId===e.id&&a-this.lastHitTime<120)return;if(this.lastHitPlayerId=e.id,this.lastHitTime=a,this.lastTouchedBy===e.id?this.touchCount++:(this.touchCount=1,this.lastTouchedBy=e.id),this.touchCount>3)return void this.onFalta("toqueExcedido",e);let r,o;if(s?this.scene?.playSfx?.(this.scene?.sfx?.receive):i&&this.scene?.playSfx?.(this.scene?.sfx?.spike),s){const e=180,i=-350,s=this._getRandomFactor();r="left"===t?-e*s:e*s,o=i*this._getRandomFactor()}else if(i){const e=220,i=-150,s=this._getRandomFactor();r="left"===t?-e*s:e*s,o=i*this._getRandomFactor()}else{const e=180;r="left"===t?-e:e,o=-100}this.sprite.setVelocity(r,o),r>0?this.courtSide="right":r<0&&(this.courtSide="left")}crossNet(){this.touchCount=0,this.lastTouchedBy=null,this.courtSide="left"===this.courtSide?"right":"left"}onGrounded(){if(!this.isBallLive)return;const e=this.sprite.x<this.netX,t=this.sprite.x>this.netX;e?(this.onRallyEnd("player2"),this.resetRally("player2")):t&&(this.onRallyEnd("player1"),this.resetRally("player1"))}onFalta(e,t){if(!this.isBallLive)return;const i="player1"===t.id?"player2":"player1";this.onRallyEnd(i),this.resetRally(i)}onRallyEnd(e){this.isBallLive=!1,this.scene.events.emit("rallyConcluded",{scoringPlayerId:e,touchCount:this.touchCount,lastTouchedBy:this.lastTouchedBy})}_getSubtleNudge(e,t,i){const s=12*(Math.random()<.5?-1:1);return{spawnX:Math.max(t,Math.min(i-t,e+s)),velocityX:s}}setServePosition(e){const t=this.scene.worldWidth??this.scene.scale?.width??2*this.netX,i=(e,t,i)=>Math.max(t,Math.min(i,e));let s=this.netX,a=0;if("player1"===e||"player2"===e){const a=this.scene.players?.get?this.scene.players.get(e):null;s=a?.sprite?"player1"===e?i(a.sprite.x,60,this.netX-60):i(a.sprite.x,this.netX+60,t-60):"player1"===e?this.netX-100:this.netX+100}else{const e=this._getSubtleNudge(s,60,t);s=e.spawnX,a=e.velocityX}this.sprite.setPosition(s,100),this.sprite.setVelocity(a,0)}resetRally(e){this.isBallLive=!0,this.lastTouchedBy=null,this.touchCount=0,this.setServePosition(e),this.lastHitTime=0,this.lastHitPlayerId=null}update(){this.isBallLive&&(this.sprite.x<this.netX-20?this.courtSide="left":this.sprite.x>this.netX+20&&(this.courtSide="right"))}}class E{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class O{execute(){}serialize(){}getPlayer(){}}class b extends O{constructor(e,t){super(),this.player=e,this.direction=t}execute(){switch(this.direction){case"left":this.player.moveLeft();break;case"right":this.player.moveRight();break;case"jumpLeft":this.player.jumpLeft();break;case"jumpRight":this.player.jumpRight();break;case"receiveLeft":this.player.receiveLeft();break;case"receiveRight":this.player.receiveRight();break;case"idleLeft":this.player.idleLeft();break;default:this.player.idleRight()}}getPlayer(){return this.player.id}serialize(){return{type:"MovePlayerCommand",playerId:this.player.id,direction:this.direction}}}class _ extends i().Scene{tiempoTotal=60;tiempoRestante=this.tiempoTotal;timerText;timerEvent;constructor(){super("Game_Scene")}init(e){this.players=new Map,this.inputMappings=[],this.commandProcessor=new E,this.player1=e.player1,this.player2=e.player2,this.selectedScenario=e.selectedScenario,this.ball=null,this.scoreP1=0,this.scoreP2=0,this.setsP1=0,this.setsP2=0,this.maxSets=3,this.currentSet=1,this.isGoldenPoint=!1,this.isSetEnding=!1}preload(){this.load.spritesheet("charA_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_A/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charA_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_A/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.spritesheet("charB_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_B/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charB_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_B/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.spritesheet("charC_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_C/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charC_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_C/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.image("Gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("Playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("Jardin","ASSETS/FONDOS/JARDIN.png"),this.load.image("por2","ASSETS/ITEMS/POWER UPS/MULTIPLICADOR 2.png"),this.load.image("por3","ASSETS/ITEMS/POWER UPS/MULTIPLICADOR 3.png"),this.load.image("paralizar","ASSETS/ITEMS/POWER UPS/PARALIZADO.png"),this.load.image("ralentizar","ASSETS/ITEMS/POWER UPS/RELENTIZAR.png"),this.load.image("velocidad","ASSETS/ITEMS/POWER UPS/VELOCIDAD.png"),this.load.image("marcoPowerUp","ASSETS/JUEGO/Base_powerUp.png"),this.load.image("ball","ASSETS/ITEMS/PELOTAS/P_NORMAL.png"),this.load.image("red","ASSETS/JUEGO/RED.png"),this.load.image("reloj","ASSETS/JUEGO/TIMER.png"),this.load.image("marcoGeneral","ASSETS/JUEGO/MARCADOR_SET.png"),this.load.audio("sfx_silbato","ASSETS/SONIDO/Silbato_inicio_partido_1p4s.mp3"),this.load.audio("sfx_remate","ASSETS/SONIDO/Toque_pelota_remate_03s.mp3"),this.load.audio("sfx_recepcion","ASSETS/SONIDO/Toque_pelota_recepcion.mp3"),this.load.audio("sfx_salto","ASSETS/SONIDO/SonidoSalto_1p.mp3"),this.load.audio("sfx_punto","ASSETS/SONIDO/SonidoPunto.mp3")}create(){const{width:e,height:t}=this.scale;this.worldWidth=e,this.worldHeight=t;const i=this.game.globals.defaultTextStyle;this.sfx={whistle:"sfx_silbato",spike:"sfx_remate",receive:"sfx_recepcion",jump:"sfx_salto",point:"sfx_punto"},this.playSfx(this.sfx.whistle),this.timerText=this.add.text(this.scale.width/2,30,"",{...i,fontSize:"32px",color:"#ffffff"}).setOrigin(.5,0).setScrollFactor(0).setDepth(9999),this.timerIcon=this.add.image(this.scale.width/2,45,"reloj").setOrigin(.5).setScale(2).setScrollFactor(0).setDepth(9e3),this.setFrame=this.add.image(this.scale.width/2,120,"marcoGeneral").setOrigin(.5).setScale(1).setDepth(9998),this.setText=this.add.text(this.scale.width/2,120,`SET ${this.currentSet}`,{...i,fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setDepth(9999);const s=this.setFrame.displayWidth,a=this.setFrame.displayHeight,r=this.setFrame.y+Math.round(a/2)+13,o=Math.round(.22*s);this.setScoreFrameLeft=this.add.image(this.scale.width/2-o,r,"marcoGeneral").setOrigin(.5).setScale(.4,.38).setDepth(9998),this.setScoreFrameRight=this.add.image(this.scale.width/2+o,r,"marcoGeneral").setOrigin(.5).setScale(.4,.38).setDepth(9998),this.setScoreLeft=this.add.text(this.scale.width/2-o,r,`${this.setsP1}`,{...i,fontSize:"28px",color:"#ffffff"}).setOrigin(.5).setDepth(9999),this.setScoreRight=this.add.text(this.scale.width/2+o,r,`${this.setsP2}`,{...i,fontSize:"28px",color:"#ffffff"}).setOrigin(.5).setDepth(9999),this.setWinnerText=this.add.text(this.scale.width/2,205,"",{...i,fontSize:"28px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5).setDepth(9999).setVisible(!1),this.timerEvent=this.time.addEvent({delay:1e3,callback:this.updateTimer,callbackScope:this,loop:!0}),this.updateTimer(),this.add.image(e/2,t/2,this.selectedScenario).setOrigin(.5).setDisplaySize(e,t).setDepth(-1);const n=this.physics.add.staticSprite(e/2,t-160,"red").setScale(.6),l=this.textures.get("red").getSourceImage();n.body.setSize(.5*l.width,.5*l.height),n.body.setOffset(-n.body.width/2,-n.body.height/2),n.body.updateFromGameObject(),this.red=n,this._createAnimations(),this.pointsLeft=0,this.pointsRight=0,this.scoreFrameLeft=this.add.image(200,50,"marcoGeneral").setScale(.8,.55).setOrigin(.5),this.scoreFrameRight=this.add.image(this.worldWidth-200,50,"marcoGeneral").setScale(.8,.55).setOrigin(.5),this.scoreLeft=this.add.text(200,45,"0",{...i,fontSize:"40px",color:"#ffffffff"}).setOrigin(.5).setDepth(9999),this.rightScore=this.add.text(this.worldWidth-200,45,"0",{...i,fontSize:"40px",color:"#ffffffff"}).setOrigin(.5).setDepth(9999),this.groundHeight=20,this.groundY=this.worldHeight-90;const h=this.add.rectangle(this.worldWidth/2,this.groundY,this.worldWidth,20).setOrigin(.5,0).setVisible(!1);this.physics.add.existing(h,!0),this._createPlayers(),this._setupPhysicsWorld(h),this._setupInputMappings(),this.powerUps=[],this.maxPowerUps=2,this.powerUpSpawnConfig={minDelayMs:3500,maxDelayMs:7e3,weights:{velocidad:3,ralentizar:2,paralizar:1,por2:3,por3:2},cooldownMs:{paralizar:1e4}},this.powerUpLastSpawnAt={},this.inventoryUI={player1:[this.add.image(50,50,"por2").setScale(1.4).setVisible(!1).setDepth(1),this.add.image(110,50,"por2").setScale(1.4).setVisible(!1).setDepth(1)],player2:[this.add.image(this.worldWidth-110,50,"por2").setScale(1.4).setVisible(!1).setDepth(1),this.add.image(this.worldWidth-50,50,"por2").setScale(1.4).setVisible(!1).setDepth(1)]},this.schedulePowerUpSpawn(),this.inventoryFrames={player1:[this.add.image(50,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0),this.add.image(110,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0)],player2:[this.add.image(this.worldWidth-110,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0),this.add.image(this.worldWidth-50,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0)]},this._createBall(),this.ball.setServePosition(),this._setupBallCollisions(),this._setupBallEvents(),this.input.keyboard.on("keydown-ESC",()=>{this.scene.pause(),this.timerEvent.paused=!0,this.scene.launch("Pause_Scene")}),this.input.keyboard.on("keydown-F",()=>{const e=this.scoreP1>=this.scoreP2?"player1":"player2";this._endGame(e)}),this.events.on("resume",()=>{this.timerEvent.paused=!1})}schedulePowerUpSpawn(){const{minDelayMs:e,maxDelayMs:t}=this.powerUpSpawnConfig,s=i().Math.Between(e,t);this.time.delayedCall(s,()=>{if(this.powerUps.length<this.maxPowerUps){const e=i().Math.Between(80,this.worldWidth-80),t=i().Math.Between(this.worldHeight-220,this.worldHeight-120),s=this._getWeightedPowerUpType();if(s){const i=new T(this,e,t,s);this.powerUps.push(i),this.powerUpLastSpawnAt[s]=this.time.now}}this.schedulePowerUpSpawn()})}_getWeightedPowerUpType(){const{weights:e,cooldownMs:t}=this.powerUpSpawnConfig,s=this.time.now,a=Object.entries(e).filter(([e,i])=>{if(i<=0)return!1;const a=t?.[e];if(!a)return!0;const r=this.powerUpLastSpawnAt?.[e]||0;return s-r>=a});if(!a.length)return null;const r=a.reduce((e,[,t])=>e+t,0);let o=i().Math.Between(1,r);for(const[e,t]of a)if(o-=t,o<=0)return console.log("[Game_Scene] Power-up aleatorio: ",e),e;return a[a.length-1][0]}playSfx(e){e&&this.sound.play(e,{volume:h()})}update(){this._handleInputForAllPlayers(),this.players.forEach(e=>e.updatePowerUps()),this.ball&&(this.ball.update(),this.ball.isBallLive&&this.ball.sprite.y>this.groundY&&this.ball.onGrounded(),(this.ball.sprite.x<475&&"right"===this.ball.courtSide||this.ball.sprite.x>485&&"left"===this.ball.courtSide)&&this.ball.crossNet())}updateTimer(){this.tiempoRestante--;const e=Math.floor(this.tiempoRestante/60),t=this.tiempoRestante%60,i=`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`;this.timerText.setText(i),this.tiempoRestante<=0&&(this.timerEvent.paused=!0,console.log("FIN DEL TIEMPO"),this.scoreP1>this.scoreP2?this._endSet("player1"):this.scoreP2>this.scoreP1?this._endSet("player2"):(console.log("Empate en el set"),this.isGoldenPoint=!0,this.setWinnerText&&(this.setWinnerText.setText("EMPATE: punto de oro"),this.setWinnerText.setVisible(!0))))}updateSetScoreUI(){this.setScoreLeft&&this.setScoreLeft.setText(this.setsP1.toString()),this.setScoreRight&&this.setScoreRight.setText(this.setsP2.toString())}updatePlayerInventoryUI(e){const t=this.inventoryUI[e.id];for(let i=0;i<2;i++)e.powerUpInventory[i]?(t[i].setTexture(e.powerUpInventory[i]),t[i].setVisible(!0)):t[i].setVisible(!1)}_createAnimations(){this.anims.create({key:"charA_idleRight",frames:this.anims.generateFrameNumbers("charA_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charA_idleLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charA_receiveRight",frames:this.anims.generateFrameNumbers("charA_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charA_receiveLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charA_runRight",frames:this.anims.generateFrameNumbers("charA_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charA_runLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charA_jumpRight",frames:this.anims.generateFrameNumbers("charA_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charA_jumpLeft",frames:this.anims.generateFrameNumbers("charA_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charB_idleRight",frames:this.anims.generateFrameNumbers("charB_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charB_idleLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charB_receiveRight",frames:this.anims.generateFrameNumbers("charB_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charB_receiveLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charB_runRight",frames:this.anims.generateFrameNumbers("charB_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charB_runLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charB_jumpRight",frames:this.anims.generateFrameNumbers("charB_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charB_jumpLeft",frames:this.anims.generateFrameNumbers("charB_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charC_idleRight",frames:this.anims.generateFrameNumbers("charC_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charC_idleLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charC_receiveRight",frames:this.anims.generateFrameNumbers("charC_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charC_receiveLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charC_runRight",frames:this.anims.generateFrameNumbers("charC_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charC_runLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charC_jumpRight",frames:this.anims.generateFrameNumbers("charC_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charC_jumpLeft",frames:this.anims.generateFrameNumbers("charC_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0})}_createPlayers(){const e=this.player1.character,t=this.player2.character,i=new y(this,"player1",.25*this.worldWidth,this.groundY-100,e),s=new y(this,"player2",.75*this.worldWidth,this.groundY-100,t);this.players.set("player1",i),this.players.set("player2",s);const a=Math.floor(this.groundY);i.setBounds(80,455,50,a),s.setBounds(505,this.worldWidth-80,50,a),this.commandProcessor.setPlayers(this.players),this.commandProcessor.setGameScene(this),i.idleRight(),s.idleLeft()}_setupPhysicsWorld(e){this.players.forEach(t=>{this.physics.add.collider(t.sprite,e),this.physics.add.collider(t.sprite,this.red,()=>{console.log(`${t.id} tocó la red!`),t.sprite.setVelocityX(0)})})}_setupInputMappings(){this.inputMappings=[{playerId:"player1",leftKey:"A",rightKey:"D",jumpKey:"W",receiveKey:"S",powerKey:"E"},{playerId:"player2",leftKey:"J",rightKey:"L",jumpKey:"I",receiveKey:"K",powerKey:"O"}].map(e=>({playerId:e.playerId,leftKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.rightKey]),jumpKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.jumpKey]),receiveKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.receiveKey]),powerKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.powerKey])}))}_handleInputForAllPlayers(){this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);if(!t)return;if(t.isParalyzed){const e="left"===t.facing?"idleLeft":"idleRight";return void this.commandProcessor.process(new b(t,e))}let s;if(s=e.leftKeyObj.isDown?"left":e.rightKeyObj.isDown?"right":"left"===t.facing?"idleLeft":"idleRight",t.isJumping||this.commandProcessor.process(new b(t,s)),i().Input.Keyboard.JustDown(e.receiveKeyObj)){const e="left"===t.facing?"receiveLeft":"receiveRight";this.commandProcessor.process(new b(t,e))}if(i().Input.Keyboard.JustDown(e.jumpKeyObj)){const e="left"===t.facing?"jumpLeft":"jumpRight";this.commandProcessor.process(new b(t,e))}i().Input.Keyboard.JustDown(e.powerKeyObj)&&(t.useNextPowerUp(),this.updatePlayerInventoryUI(t))}),this.players.forEach(e=>e.update())}_createBall(){this.ball=new A(this,this.worldWidth/2,150)}_setupBallCollisions(){this.players.forEach(e=>{this.physics.add.overlap(this.ball.sprite,e.sprite,()=>this._onBallPlayerCollision(this.ball,e),null,this)}),this.physics.add.collider(this.ball.sprite,this.red,()=>{console.log("La pelota toca la red!"),this.ball.sprite.setVelocityX(.5*this.ball.sprite.body.velocity.x),this.ball.sprite.setVelocityY(.5*this.ball.sprite.body.velocity.y)}),this.worldHeight,this.ball.sprite.setCollideWorldBounds(!0),this.ball.sprite.setBounce(.8)}_setupBallEvents(){this.events.on("rallyConcluded",e=>{if(this.isSetEnding)return;console.log(`Rally concluded: ${e.scoringPlayerId} scores!`);const t=e.scoringPlayerId,i=this.players.get(t),s=i&&i.scoreMultiplier||1;if("player1"===t?(this.pointsLeft+=s,this.scoreLeft.setText(this.pointsLeft.toString()),this.scoreP1+=s):"player2"===t&&(this.pointsRight+=s,this.rightScore.setText(this.pointsRight.toString()),this.scoreP2+=s),this.playSfx(this.sfx.point),this.isGoldenPoint)return this.isGoldenPoint=!1,void this._endSet(t);this._checkWinCondition()})}_isBallInHitZone(e,t,i,s){const a=t.sprite.body;if(!a)return!1;const r=e.x,o=e.y,n=a.y,l=a.height,h=a.x+.5*a.width,c=i?{top:-.1,bottom:.6}:s?{top:.35,bottom:.85}:{top:.25,bottom:.85};if(o<n+l*c.top||o>n+l*c.bottom)return!1;const d="right"===t.facing,p=s||i,m=a.width*(p?.9:.75),S=a.width*(p?.25:.15);return!(r<(d?h-S:h-m)||r>(d?h+m:h+S))}_onBallPlayerCollision(e,t){if(!e.isBallLive)return;const i=!t.sprite.body.blocked.down,s=t.isReceiving,a=t.facing;this._isBallInHitZone(e.sprite,t,i,s)&&e.hit(t,a,i,s)}_endGame(e){this.timerEvent&&(this.timerEvent.remove(!1),this.timerEvent=null),this.playSfx(this.sfx.whistle),this.physics&&this.physics.world&&this.physics.world.pause(),this.scene.start("EndGame_Scene",{winner:e,player1:this.player1,player2:this.player2})}_checkWinCondition(){const e=this.scoreP1-this.scoreP2;if(Math.max(this.scoreP1,this.scoreP2)<11||Math.abs(e)<2)return;const t=e>0?"player1":"player2";this._endSet(t)}_endSet(e){if(this.isSetEnding)return;this.isSetEnding=!0,this.ball?.sprite&&(this.ball.isBallLive=!1,this.ball.sprite.setVelocity(0,0)),"player1"===e?this.setsP1++:"player2"===e&&this.setsP2++,console.log(`Set terminado. Score sets: P1=${this.setsP1}, P2=${this.setsP2}`),this.updateSetScoreUI();const t="player1"===e?"Jugador 1":"Jugador 2";this.setWinnerText.setText(`SET para ${t}`),this.setWinnerText.setVisible(!0),this.currentSet++,2===this.setsP1||2===this.setsP2?this.time.delayedCall(2e3,()=>{this._endGame(e)}):this.time.delayedCall(2e3,()=>{this.setWinnerText&&this.setWinnerText.setVisible(!1),this._resetSet()})}_resetSet(){this.isSetEnding=!1,this.isGoldenPoint=!1,this.setText.setText(`SET ${this.currentSet}`),this.tiempoRestante=this.tiempoTotal,this.timerEvent.paused=!1,this.updateTimer(),this.scoreP1=0,this.scoreP2=0,this.pointsLeft=0,this.pointsRight=0,this.scoreLeft.setText("0"),this.rightScore.setText("0"),this.ball.resetRally();const e=this.players.get("player1"),t=this.players.get("player2");e.setPosition(.25*this.worldWidth,.7*this.worldHeight),t.setPosition(.75*this.worldWidth,.7*this.worldHeight),e.idleRight(),t.idleLeft(),this.playSfx(this.sfx.whistle)}}class v extends i().Scene{constructor(){super("Tutorial_Scene"),this.pageIndex=0,this.returnScene="Menu_Scene"}init(e){this.returnScene=e?.returnScene??"Menu_Scene"}preload(){this.load.image("tut0_controles","ASSETS/TUTORIAL/TUT0_Controles.png"),this.load.image("tut1_set","ASSETS/TUTORIAL/TUT1_Set.png"),this.load.image("tut2_pelota","ASSETS/TUTORIAL/TUT2_Pelota.png"),this.load.image("tut3_powerup","ASSETS/TUTORIAL/TUT3_Powerup.png"),this.load.image("tut4_lista","ASSETS/TUTORIAL/TUT4_Lista.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png")}create(){const{width:e,height:t}=this.scale,i=e/2,s={...this.game.globals?.defaultTextStyle??{fontFamily:"VT323",fontSize:"20px",color:"#000000"}};p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.mainTitleText=this.add.text(i,.1*t,"Tutorial",{...s,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start(this.returnScene)}),this.pageIndex=0,this.pages=[{key:"tut0_controles",title:"Controles"},{key:"tut1_set",title:"Reglas básicas: set"},{key:"tut2_pelota",title:"Reglas básicas: pelota"},{key:"tut3_powerup",title:"Reglas básicas: power-ups"},{key:"tut4_lista",title:"Lista de power-ups"}];const a=Math.max(8,Math.round(.015*Math.min(e,t))),r=Math.max(6,Math.round(.012*t)),o=.91*t,n=this.mainTitleText.y+this.mainTitleText.height+r,l=o-r,h=Math.max(0,l-n),c=Math.max(0,e-2*a);this.layout={panelTop:n,panelHeight:h,panelWidth:c},this.slideImage=this.add.image(i,n+h/2,this.pages[0].key),this._fitImage(this.slideImage,c,h),this.pageIndicator=this.add.text(i,o+20,"",{...s,fontSize:"28px",color:"#000"}).setOrigin(.5);const d={...s,fontSize:"28px",color:"#000000"};S(this,{x:i-165,y:o+20,label:"Anterior",onClick:()=>this.prev(),textStyle:d,clickSoundKey:"sonidoClick"}),S(this,{x:i+165,y:o+20,label:"Siguiente",onClick:()=>this.next(),textStyle:d,clickSoundKey:"sonidoClick"}),this.renderPage()}_fitImage(e,t,i){const s=Math.min(t/e.width,i/e.height);e.setScale(s)}renderPage(){const e=this.pages[this.pageIndex];this.mainTitleText.setText(e.title??"Tutorial"),this.slideImage.setTexture(e.key),this._fitImage(this.slideImage,this.layout.panelWidth,this.layout.panelHeight),this.pageIndicator.setText(`${this.pageIndex+1} de ${this.pages.length}`)}next(){this.pageIndex<this.pages.length-1&&(this.pageIndex++,this.renderPage())}prev(){this.pageIndex>0&&(this.pageIndex--,this.renderPage())}}class I extends i().Scene{constructor(){super("Configuration_Scene"),this.musicVolumeSlider=null,this.sfxVolumeSlider=null,this.globalVolumeSlider=null}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,l=e/2,S=this.game.globals.defaultTextStyle;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(l,.1*t,"Configuración",{...S,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),function(e=1){const t=null!==localStorage.getItem(s),i=null!==localStorage.getItem(a);if(t&&i)return;const r=function(e=1){const t=localStorage.getItem(o);return null===t?null:n(t,e)}(e),l=r&&r>0?r:e;t||localStorage.setItem(s,String(l)),i||localStorage.setItem(a,String(l))}();const g=d(),f=c(),y=h();p(this);const x=.18*t,T=.05*t,A=t/2-(2*x+T)/2,E=A,O=E+T,b=A+x,_=b+T,v=A+2*x,I=v+T;this.add.text(l,E,"Volumen General",{...S,fontSize:"28px",color:"#000"}).setOrigin(.5),this.globalVolumeSlider=this.add.dom(l,O).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${g}" \n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>`),this.globalVolumeSlider.addListener("input"),this.globalVolumeSlider.on("input",e=>{e.target instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(r,String(t))}(e.target.value),p(this))}),this.add.text(l,b,"Volumen Música",{...S,fontSize:"28px",color:"#000"}).setOrigin(.5),this.musicVolumeSlider=this.add.dom(l,_).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${f}"\n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>\n            `),this.musicVolumeSlider.addListener("input"),this.musicVolumeSlider.on("input",e=>{const t=e.target;t instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(a,String(t))}(t.value),p(this))}),this.add.text(l,v,"Volumen Efectos",{...S,fontSize:"28px",color:"#000"}).setOrigin(.5),this.sfxVolumeSlider=this.add.dom(l,I).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${y}"\n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>\n            `),this.sfxVolumeSlider.addListener("input"),this.sfxVolumeSlider.on("input",e=>{const t=e.target;t instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(s,String(t))}(t.value),p(this))}),this.sfxVolumeSlider.addListener("change"),this.sfxVolumeSlider.on("change",e=>{m(this,"sonidoClick")}),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start("Menu_Scene")}),this.events.once(i().Scenes.Events.SHUTDOWN,()=>{this.musicVolumeSlider&&(this.musicVolumeSlider.removeAllListeners(),this.musicVolumeSlider.destroy(),this.musicVolumeSlider=null),this.sfxVolumeSlider&&(this.sfxVolumeSlider.removeAllListeners(),this.sfxVolumeSlider.destroy(),this.sfxVolumeSlider=null),this.globalVolumeSlider&&(this.globalVolumeSlider.removeAllListeners(),this.globalVolumeSlider.destroy(),this.globalVolumeSlider=null)})}}class R extends i().Scene{constructor(){super("Credits_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondoMenuPrincipal","ASSETS/FONDOS/MENU_PRINCIPAL.png"),this.load.image("logo","ASSETS/LOGO/logo_empresa.png"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"};this.add.image(0,0,"fondoMenuPrincipal").setOrigin(0).setDepth(-2).setDisplaySize(e,t),this.add.rectangle(0,0,e,t,0,.5).setOrigin(0).setDepth(-1);const s=["GRUPO 5 - SUNSET ARCADE","Sara Bueno Esteban","Antonio Morán Barrera","Cristine Nioka Tewo","Álvaro Ibáñez Montero"],a=.38*e,r=.46*t,o=.75*e,n=.46*t;this.add.rectangle(o,n,a,r,1118481,.7).setOrigin(.5).setStrokeStyle(2,16777215,.2);const l=n-36*(s.length-1)/2;s.forEach((e,t)=>{const s=0===t;this.add.text(o,l+36*t,e,{...i,fontFamily:"VT323",fontSize:s?"36px":"32px",color:s?"#f5d76e":"#ffffff"}).setOrigin(.5)}),this.add.text(o,.1*t,"Créditos",{...i,fontSize:"42px",color:"#ffffff"}).setOrigin(.5);const h=o,c=n+r/2+.16*t-3;this.add.image(h,c,"logo").setOrigin(.5).setScale(.7),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start("Menu_Scene")})}}class w extends i().Scene{constructor(){super("EndGame_Scene")}init(e){this.winner=e.winner,this.player1=e.player1,this.player2=e.player2}preload(){this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3"),this.load.spritesheet("victoria_A","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJES_A/A_VICTORIA.png",{frameWidth:128,frameHeight:128}),this.load.spritesheet("victoria_B","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJES_B/A_VICTORIA.png",{frameWidth:128,frameHeight:128}),this.load.spritesheet("victoria_C","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJES_C/A_VICTORIA.png",{frameWidth:128,frameHeight:128})}create(){this._createAnimations();const{width:e,height:t}=this.scale,i=this.game.globals.defaultTextStyle,s=this.player1.name,a=this.player1.character,r=this.player2.name,o=this.player2.character;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(e/2,.18*t,"¡Fin del partido!",{...i,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5);const n=.36*t,l=.52*t,h=.9*t,c=.2*e,d="player1"===this.winner?"Victoria de: "+s:"Victoria de: "+r;let p;this.add.text(e/2,n,d,{...i,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5),p="player1"===this.winner?a:o;const m=`victoria_${p}`;this.winnerSpriteSlot=this.add.container(e/2-c,l);const u=this.add.sprite(0,0,`victoria_${p}`);u.setScale(.5),u.play(m),this.winnerSpriteSlot.add(u),S(this,{x:e/2,y:h,label:"Menú Principal",onClick:()=>{this.scene.start("Menu_Scene")},textStyle:{...i,fontSize:"28px",color:"#000000"},clickSoundKey:"sonidoClick"})}_createAnimations(){this.anims.create({key:"charA_victory",frames:this.anims.generateFrameNumbers("victoria_A",{start:0,end:1}),frameRate:4,repeat:-1}),this.anims.create({key:"charB_victory",frames:this.anims.generateFrameNumbers("victoria_B",{start:0,end:1}),frameRate:4,repeat:-1}),this.anims.create({key:"charC_victory",frames:this.anims.generateFrameNumbers("victoria_C",{start:0,end:1}),frameRate:4,repeat:-1})}}class C extends i().Scene{constructor(){super("ModeGame_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#000000"};p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,.18*t,"Modo de Juego",{...i,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5);const s=.5*t,a=Math.min(280,.3*e),r=e/2-a/2,o={...i,fontSize:"28px",color:"#000000"},n=e=>{this.registry.set("mode",e),console.log("Modo seleccionado:",e),this.scene.start("SelectPlayer_Scene",{mode:e})};S(this,{x:r,y:s,label:"Local",onClick:()=>n("local"),scale:2,textureNormal:"botonSinSeleccionar",textureHover:"botonSeleccionado",textStyle:o,clickSoundKey:"sonidoClick"});const l=S(this,{x:r+a,y:s,label:"Red",onClick:null,scale:2,textureNormal:"botonSinSeleccionar",textureHover:"botonSeleccionado",textStyle:o,clickSoundKey:"sonidoClick"});l.button.disableInteractive(),l.button.setAlpha(.5),l.text.setAlpha(.5),l.text.setAlign("center"),this.add.text(l.button.x,l.button.y+Math.round(.55*l.button.displayHeight)+12,"No disponible",{...o,fontFamily:"VT323",fontSize:"24px",color:"#ff0000"}).setOrigin(.5),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.scene.start("Menu_Scene")})}}class N extends i().Scene{constructor(){super("Pause_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const e=this.game.globals.defaultTextStyle,{width:t,height:i}=this.scale,s=t/2;this.add.rectangle(0,0,t,i,0,.88).setOrigin(0).setDepth(-1),this.add.text(s,.18*i,"Pausa",{...e,fontSize:"42px",color:"#ffffff"}).setOrigin(.5);const a={...e,fontSize:"28px",color:"#000000"},r=.46*i,o=.14*i;S(this,{x:s,y:r,label:"Continuar",textStyle:a,scale:2,onClick:()=>{this.scene.stop(),this.scene.resume("Game_Scene")}}),S(this,{x:s,y:r+o,label:"Tutorial",textStyle:a,scale:2,onClick:()=>{this.scene.start("Tutorial_Scene",{returnScene:"Pause_Scene"})}}),S(this,{x:s,y:r+2*o,label:"Menú Principal",textStyle:a,scale:2,onClick:()=>{const e=this.scene.get("Game_Scene");e&&(e.input.keyboard.removeAllListeners(),e.input.keyboard.removeAllKeys()),this.scene.stop("Game_Scene"),this.scene.start("Menu_Scene")}})}}class P extends i().Scene{constructor(){super("SelectPlayer_Scene"),this.players=[],this.currentTurn=0,this.playerInputs=[],this.playerInputEls=[],this.turnText=null}init(e){this.mode=this.registry.get("mode"),console.log("Modo de Juego:",this.mode),this.isHost=this.registry.get("isHost"),console.log("Host:",this.isHost)}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("marcoJugador","ASSETS/UI/MARCOS/VACIOS/MARCO_PERSONAJE_SELECCIONADO.png"),this.load.image("characterA","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_a.png"),this.load.image("characterB","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_b.png"),this.load.image("characterC","ASSETS/PERSONAJES/PERSONAJES_POSE/personaje_c.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){this.input.keyboard.removeAllKeys(!0),this.input.keyboard.removeAllListeners();const{width:e,height:t}=this.scale,s=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"};p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,50,"Selecciona Personaje",{...s,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),"local"===this.mode&&this.createLocalUI(e,t,s),"online"===this.mode&&this.createOnlineUI(e,t,s),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.scene.start("ModeGame_Scene")}),this.events.once(i().Scenes.Events.SHUTDOWN,()=>{this.playerInputs.forEach(e=>e?.destroy()),this.playerInputs=[],this.playerInputEls=[],this.input.keyboard.enabled=!0})}createLocalUI(e,t,i){this.players=[{name:"",character:null,color:43775,bigImage:null,bigFrame:null,frame:null},{name:"",character:null,color:16733525,bigImage:null,bigFrame:null,frame:null}],this.turnText=this.add.text(e/2,95,"TURNO: Jugador 1",{...i,fontFamily:"VT323",fontSize:"28px",color:"#000"}).setOrigin(.5),this.createPlayersUI(25),this.createCharacterMiniatures(0,25),this.updateTurnText(),S(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>this.handleNext(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...i,fontSize:"18px",color:"#000"},clickSoundKey:"sonidoClick"})}createOnlineUI(e,t,i){this.players=[{name:this.registry.get("username")||"JugadorX",character:null,color:43775,bigImage:null,bigFrame:null,frame:null}],this.add.text(e/2,140,`${this.players[0].name}`,{...i,fontSize:"28px",color:"#000",fontStyle:"bold"}).setOrigin(.5),this.turnText=this.add.text(e/2,130,"Ningún personaje seleccionado",{...i,fontSize:"18px",color:"#000"}).setOrigin(.5),this.createPlayerOnlineUI(40),this.createCharacterMiniatures(150,40),S(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>this.handleNext(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...i,fontSize:"18px",color:"#000"},clickSoundKey:"sonidoClick"})}createPlayersUI(e=0){const{width:t,height:s}=this.scale,a=this.game.globals.defaultTextStyle,r=[.25*t,.75*t];this.players.forEach((o,n)=>{const l=r[n];this.add.text(l,100+e,"Nombre:",{...a,fontSize:"24px",color:"#000"}).setOrigin(.5);const h=this.add.dom(l,140+e).createFromHTML(`\n                <input type="text" placeholder="Nombre jugador" maxlength="10"\n                style="\n                    width:150px;\n                    padding:6px;\n                    font-size:16px;\n                    font-family:${a.fontFamily};\n                    border-radius:12px;\n                    border: 6px solid #FFAA00;\n                    outline: none;\n                    text-align:center;\n                    background-color:#f0f0f0;\n                    transition: border-color 0.2s, box-shadow 0.2s;"\n                onfocus="this.style.borderColor='#FF8316'; this.style.boxShadow='0 0 5px #FF8316';"\n                onblur="this.style.borderColor='#FFAA00'; this.style.boxShadow='none';"\n                />\n            `),c=h.node.querySelector("input");c.addEventListener("focus",e=>{this.input.keyboard.enabled=!1,e.stopPropagation()}),c.addEventListener("blur",e=>{this.input.keyboard.enabled=!0,e.stopPropagation()}),c.addEventListener("keydown",e=>e.stopPropagation()),c.addEventListener("input",()=>{c.value=c.value.replace(/[^a-zA-ZÀ-ÿñÑ ]/g,""),this.updateTurnText()}),this.playerInputs[n]=h,this.playerInputEls[n]=c,o.bigImage=this.add.image(t*(.25+.5*n),.6*s+e,"characterA").setScale(1.2).setOrigin(.5).setVisible(!1),o.bigFrame=this.add.image(o.bigImage.x,o.bigImage.y,"marcoJugador").setScale(2.8).setOrigin(.5).setVisible(!0),o.bigFrame.texture.setFilter(i().Textures.FilterMode.NEAREST),o.frame=this.add.rectangle(0,0,60,120).setStrokeStyle(4,o.color).setVisible(!1)}),this.currentTurn=0,this.updateTurnText()}createPlayerOnlineUI(e=0){const{width:t,height:s}=this.scale,a=this.players[0],r=t/2;a.bigImage=this.add.image(r-150,.58*s+e,"characterA").setScale(1.2).setOrigin(.5).setVisible(!1),a.bigFrame=this.add.image(a.bigImage.x,a.bigImage.y,"marcoJugador").setScale(2.8).setOrigin(.5).setVisible(!0),a.bigFrame.texture.setFilter(i().Textures.FilterMode.NEAREST),a.frame=this.add.rectangle(0,0,60,120).setStrokeStyle(4,a.color).setVisible(!1)}createCharacterMiniatures(e,t){const{width:i,height:s}=this.scale,a=i/2-75,r=.5*s,o=[{x:a+e,y:r+t},{x:a+e+150,y:r+t},{x:a+e+75,y:r+t+75}];["characterA","characterB","characterC"].forEach((e,t)=>{const i=this.add.image(o[t].x,o[t].y,e).setInteractive({useHandCursor:!0}).setScale(.45).setData("characterName",e);i.on("pointerdown",()=>{m(this,"sonidoClick"),this.onMiniClicked(e,i)})})}onMiniClicked(e,t){if("online"===this.mode){const i=this.players[0];return i.character===e?(i.character=null,i.bigImage&&i.bigImage.setVisible(!1),i.frame&&i.frame.setVisible(!1)):(i.character=e,i.bigImage&&i.bigImage.setTexture(e).setVisible(!0),i.frame&&i.frame.setPosition(t.x,t.y).setVisible(!0)),void this.updateTurnText()}const i=this.players.findIndex(t=>t.character===e);if(-1!==i){const e=this.players[i];return e.character=null,e.bigImage&&e.bigImage.setVisible(!1),e.frame&&e.frame.setVisible(!1),this.currentTurn=i,void this.updateTurnText()}const s=this.players[0],a=this.players[1];let r=this.currentTurn;if(null==r)if(!s.character&&a.character)r=0;else if(!a.character&&s.character)r=1;else{if(s.character||a.character)return;r=0}const o=this.players[r],n=this.players[1-r];n.character!==e&&(o.character=e,o.bigImage&&o.bigImage.setTexture(e).setVisible(!0),o.frame&&o.frame.setPosition(t.x,t.y).setVisible(!0),n.character?this.currentTurn=null:this.currentTurn=1-r,this.updateTurnText())}handleNext(){if("local"===this.mode){const e=this.playerInputEls?.[0]?.value?.trim()??"",t=!!this.players?.[0]?.character,i=this.playerInputEls?.[1]?.value?.trim()??"",s=!!this.players?.[1]?.character;if(!(e.length>0&&i.length>0&&t&&s))return this.updateTurnText(),void this.flashTurnText("#b00000",900);this.players[0].name=e,this.players[1].name=i,this.scene.start("SelectScenario_Scene",{mode:this.mode,player1:this.players[0],player2:this.players[1]})}if("online"===this.mode){if(!this.players?.[0]?.character)return this.flashTurnText("#b00000",900),void this.turnText.setText("Debes elegir un personaje primero");this.registry.set("myCharacter",this.players[0].character),this.isHost?this.scene.start("SelectScenario_Scene",{mode:this.mode,player1:this.players[0],isHost:!0}):this.scene.start("Lobby_Scene",{mode:this.mode,player2:this.players[0],isHost:!1})}}flashTurnText(e="#b00000",t=900){if(!this.turnText)return;const i=this.turnText.style.color||"#000000";this.turnText.setColor(e),this.time.delayedCall(t,()=>{this.turnText.setColor(i),this.updateTurnText()})}updateTurnText(){if(this.turnText){if("local"===this.mode){const e=this.playerInputEls?.[0]?.value?.trim()??"",t=this.playerInputEls?.[1]?.value?.trim()??"",i=!!this.players?.[0]?.character,s=!!this.players?.[1]?.character,a=e.length>0,r=t.length>0,o=i&&s,n=a&&r;if(o&&n)return void this.turnText.setText("¡Listo para continuar!");if(o&&!n)return void(a||r?a?this.turnText.setText("Falta el nombre de Jugador 2"):this.turnText.setText("Falta el nombre de Jugador 1"):this.turnText.setText("Faltan los nombres de Jugador 1 y Jugador 2"));if(n&&!o)return void(i||s?i?this.turnText.setText("Falta el personaje de Jugador 2"):this.turnText.setText("Falta el personaje de Jugador 1"):this.turnText.setText("Faltan los personajes de Jugador 1 y Jugador 2"));if(null===this.currentTurn||void 0===this.currentTurn)return void this.turnText.setText("Completa nombres y personajes");this.turnText.setText(`TURNO: Jugador ${this.currentTurn+1}`)}"online"===this.mode&&(this.players?.[0]?.character?this.turnText.setText("Listo: el jugador tiene personaje"):this.turnText.setText("Ningún personaje seleccionado"))}}}class L extends i().Scene{constructor(){super("SelectScenario_Scene"),this.selectedScenario="Gym",this.mode="local"}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("Gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("Playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("Jardin","ASSETS/FONDOS/JARDIN.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3"),this.load.image("marco","/ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png")}init(e){this.player1=e.player1,this.player2=e.player2,this.mode=e.mode||"local",this.isHost=e.isHost||!1}create(){const{width:e,height:t}=this.scale,s=this.game.globals.defaultTextStyle;p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,50,"Selecciona Escenario",{...s,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),this.selectedScenario="Gym",this.selectedImage=this.add.image(e/2,240,this.selectedScenario).setScale(.5);const a=["Gym","Playa","Jardin"],r=e/2-200,o={},n=e=>{this.selectedScenario=e,this.selectedImage.setTexture(e).setScale(.5),a.forEach(t=>{o[t].setTexture(t===e?"botonSeleccionado":"botonSinSeleccionar")})};a.forEach((e,t)=>{const a=this.add.image(r+200*t,440,"botonSinSeleccionar").setInteractive({useHandCursor:!0}).setScale(1.75);o[e]=a;const l=this.add.text(0,0,e,{...s,fontSize:"28px",color:"#000"});i().Display.Align.In.Center(l,a),a.on("pointerover",()=>a.setTexture("botonSeleccionado")),a.on("pointerout",()=>{a.setTexture(this.selectedScenario===e?"botonSeleccionado":"botonSinSeleccionar")}),a.on("pointerdown",()=>m(this,"sonidoClick")),a.on("pointerup",t=>{a.getBounds().contains(t.x,t.y)&&n(e)})}),n(this.selectedScenario);const l=this.add.image(e/2,240,"marco").setOrigin(.5);l.texture.setFilter(i().Textures.FilterMode.NEAREST),l.setDisplaySize(500,300),S(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>{"local"===this.mode?this.scene.start("Game_Scene",{player1:this.player1,player2:this.player2,selectedScenario:this.selectedScenario,mode:this.mode,isHost:this.isHost}):this.scene.start("Lobby_Scene",{player1:this.player1,player2:this.player2,selectedScenario:this.selectedScenario,mode:this.mode,isHost:this.isHost})},scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...s,fontSize:"18px",color:"#000"},clickSoundKey:"sonidoClick"}),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>{this.scene.start("SelectPlayer_Scene",{mode:this.mode,isHost:this.isHost})}})}}(async()=>{document.fonts&&document.fonts.load&&(await Promise.all([document.fonts.load('20px "MiFuente"'),document.fonts.load('20px "VT323"')]),await document.fonts.ready);const e={defaultTextStyle:{fontFamily:"MiFuente",fontSize:"20px",color:"#ffffff"},music:null},t={type:i().AUTO,width:960,height:540,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{x:0,y:300},debug:!1}},dom:{createContainer:!0},callbacks:{preBoot:t=>{t.globals=e}},scene:[g,_,v,I,R,w,N,C,P,L],backgroundColor:"#8675f1"};new(i().Game)(t)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJtQkFDQSxJQUFJQSxFQUFzQixDQ0ExQkEsRUFBeUJDLElBQ3hCLElBQUlDLEVBQVNELEdBQVVBLEVBQU9FLFdBQzdCLElBQU9GLEVBQWlCLFFBQ3hCLElBQU0sRUFFUCxPQURBRCxFQUFvQkksRUFBRUYsRUFBUSxDQUFFRyxFQUFHSCxJQUM1QkEsR0NMUkYsRUFBd0IsQ0FBQ00sRUFBU0MsS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYUCxFQUFvQlMsRUFBRUYsRUFBWUMsS0FBU1IsRUFBb0JTLEVBQUVILEVBQVNFLElBQzVFRSxPQUFPQyxlQUFlTCxFQUFTRSxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsTUNKM0VSLEVBQXdCLENBQUNjLEVBQUtDLElBQVVMLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUtKLEVBQUtDLElDQWxGLE1BQU0sRUFBK0JJLE8sYUNFckMsTUFBTUMsRUFBaUIsWUFDakJDLEVBQW1CLGNBQ25CQyxFQUFvQixlQUNwQkMsRUFBb0IsU0FFMUIsU0FBU0MsRUFBa0JDLEVBQUtDLEdBQzVCLE1BQU1DLEVBQUlDLE9BQU9DLFdBQVdKLEdBQU9LLE9BQU9KLElBRTFDLE9BQUtFLE9BQU9HLFNBQVNKLEdBRWQsU0FBWUssTUFBTUwsRUFBRyxFQUFHLEdBRkNELENBR3BDLENBSUEsU0FBU08sRUFBcUJ6QixFQUFLMEIsRUFBYVIsRUFBZSxHQUMzRCxNQUFNRCxFQUFNVSxhQUFhQyxRQUFRNUIsR0FDakMsR0FBWSxPQUFSaUIsRUFBYyxPQUFPRCxFQUFrQkMsRUFBS0MsR0FFaEQsTUFBTVcsRUFBY0gsRUFBY0MsYUFBYUMsUUFBUUYsR0FBZSxLQUN0RSxPQUFvQixPQUFoQkcsRUFBNkJiLEVBQWtCYSxFQUFhWCxHQUV6RCxTQUFZTSxNQUFNTixFQUFjLEVBQUcsRUFDOUMsQ0F3Qk8sU0FBU1ksRUFBbUJaLEVBQWUsR0FDOUMsT0FBT08sRUFBcUJiLEVBQWdCRyxFQUFtQkcsRUFDbkUsQ0FHTyxTQUFTYSxFQUFxQmIsRUFBZSxHQUNoRCxPQUFPTyxFQUFxQlosRUFBa0JFLEVBQW1CRyxFQUNyRSxDQUdPLFNBQVNjLEVBQXNCZCxFQUFlLEdBQ2pELE9BQU9PLEVBQXFCWCxFQUFtQixLQUFNSSxFQUN6RCxDQTJCTyxTQUFTZSxFQUFrQkMsRUFBT0MsRUFBVSxDQUFDLEdBQ2hELElBQUlDLEVBQVlKLElBQ1pLLEVBQVlQLElBQ1pRLEVBQWNQLElBRUssaUJBQVpJLEdBQ1BFLEVBQVksU0FBWWIsTUFBTUosT0FBT2UsR0FBVSxFQUFHLEdBQ2xERyxFQUFjRCxJQUVkQSxFQUFZRixFQUFRRSxXQUFhQSxFQUNqQ0MsRUFBY0gsRUFBUUcsYUFBZUEsR0FJekNKLEVBQU1LLE1BQU1DLE9BQVNKLEVBRXJCLE1BQU1LLEVBQVFQLEVBQU1RLEtBQUtDLFFBQVFGLE1BQzdCQSxHQUFTLGNBQWVBLEdBQ3hCQSxFQUFNRyxVQUFVTixFQUV4QixDQUdPLFNBQVNPLEVBQVVYLEVBQU9sQyxFQUFNLGVBQ25Da0MsRUFBTUssTUFBTU8sS0FBSzlDLEVBQUssQ0FBRXdDLE9BQVFWLEtBQ3BDLENDOUdPLFNBQVNpQixFQUFlYixHQUFPLEVBQ2xDYyxFQUFDLEVBQUVDLEVBQUMsTUFDSkMsRUFBSyxRQUNMQyxFQUFPLGNBQ1BDLEVBQWdCLHNCQUFxQixhQUNyQ0MsRUFBZSxvQkFBbUIsTUFDbENDLEVBQVEsRUFBQyxVQUNUQyxFQUFZLENBQUMsRUFBQyxjQUNkQyxFQUFnQixnQkFFaEIsTUFBTUMsRUFBU3ZCLEVBQU13QixJQUFJQyxPQUFPWCxFQUFHQyxFQUFHRyxHQUNqQ1EsU0FBU04sR0FDVE8sZUFBZSxDQUFFQyxlQUFlLElBRS9CQyxFQUFPN0IsRUFBTXdCLElBQUlLLEtBQUtmLEVBQUdDLEVBQUdDLEVBQU9LLEdBQVdTLFVBQVUsSUFHeERDLEVBQVksSUFBTVIsRUFBT1MsV0FBV2QsR0FDcENlLEVBQVcsSUFBTVYsRUFBT1MsV0FBV2IsR0FvQnpDLE9BbEJBSSxFQUFPVyxHQUFHLGNBQWVELEdBQ3pCVixFQUFPVyxHQUFHLGFBQWNILEdBQ3hCUixFQUFPVyxHQUFHLGNBQWUsS0FDckJELElBQ0F0QixFQUFVWCxFQUFPc0IsS0FHckJDLEVBQU9XLEdBQUcsWUFBY0MsSUFDTFosRUFBT2EsWUFBWUMsU0FBU0YsRUFBUXJCLEVBQUdxQixFQUFRcEIsSUFNOURrQixJQUNBaEIsT0FMSWMsTUFRRCxDQUFFUixTQUFRTSxPQUNyQixDQUdPLFNBQVNTLEVBQWlCdEMsRUFBT0MsR0FDcEMsTUFBTSxFQUNGYSxFQUFDLEVBQUVDLEVBQUMsUUFDSndCLEVBQU8sUUFDUHRCLEVBQU8sTUFDUEcsRUFBUSxFQUFDLFdBQ1RvQixFQUFhLElBQUcsY0FDaEJsQixFQUFnQixlQUNoQnJCLEVBRUVzQixFQUFTdkIsRUFBTXdCLElBQ2hCQyxPQUFPWCxFQUFHQyxFQUFHd0IsR0FDYmIsU0FBU04sR0FDVE8sZUFBZSxDQUFFQyxlQUFlLElBZXJDLE9BWkFMLEVBQU9XLEdBQUcsY0FBZSxJQUFNWCxFQUFPRyxTQUFTTixFQUFRb0IsSUFDdkRqQixFQUFPVyxHQUFHLGFBQWMsSUFBTVgsRUFBT0csU0FBU04sSUFDOUNHLEVBQU9XLEdBQUcsY0FBZSxLQUNyQnZCLEVBQVVYLEVBQU9zQixLQUdyQkMsRUFBT1csR0FBRyxZQUFjQyxJQUNMWixFQUFPYSxZQUFZQyxTQUFTRixFQUFRckIsRUFBR3FCLEVBQVFwQixJQUU5REUsTUFHR00sQ0FDWCxDQ3JFTyxNQUFNa0IsVUFBbUIsVUFDNUIsV0FBQUMsR0FDSUMsTUFBTSxhQUNWLENBRUEsT0FBQUMsR0FFSUMsS0FBS0MsS0FBS0MsTUFBTSxvQkFBcUIsbURBQ3JDRixLQUFLQyxLQUFLQyxNQUFNLHNCQUF1QixzQ0FDdkNGLEtBQUtDLEtBQUtDLE1BQU0scUJBQXNCLG9DQUd0Q0YsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUcvQkYsS0FBS0MsS0FBS0UsTUFBTSxnQkFBaUIsNkJBQ2pDSCxLQUFLQyxLQUFLRSxNQUFNLGNBQWUsZ0NBQ25DLENBRUEsTUFBQUMsR0FFSWxELEVBQWtCOEMsTUYwRm5CLFNBQTRCN0MsRUFBT2tELEdBQVUsS0FBRUMsR0FBTyxHQUFTLENBQUMsR0FDbkUsTUFBTTdDLEVBQVNULElBQ2YsSUFBSVUsRUFBUVAsRUFBTVEsS0FBS0MsUUFBUUYsTUFDMUJBLElBQ0RBLEVBQVFQLEVBQU1LLE1BQU1tQixJQUFJMEIsRUFBVSxDQUFFQyxPQUFNN0MsV0FDMUNOLEVBQU1RLEtBQUtDLFFBQVFGLE1BQVFBLEdBSTNCQSxHQUFTLGNBQWVBLEdBQU9BLEVBQU1HLFVBQVVKLEdBRW5ELE1BQU04QyxFQUFVLEtBQ1osR0FBSzdDLEdBQVcsU0FBVUEsTUFHdEIsY0FBZUEsS0FBU0EsRUFBTThDLFdBRWxDLElBQ0k5QyxFQUFNSyxNQUNWLENBQUUsTUFBTzBDLEdBQ0xDLFFBQVFDLEtBQUssMkRBQTRERixFQUM3RSxHQUlKRixJQUdBcEQsRUFBTXlELE1BQU1DLEtBQUssY0FBZUMsVUFDNUIsTUFBTUMsRUFBTTVELEVBQU1LLE1BQU13RCxRQUN4QixHQUFJRCxHQUFxQixjQUFkQSxFQUFJRSxNQUNYLFVBQ1VGLEVBQUlHLFFBQ2QsQ0FBRSxNQUFRLENBRWRYLEtBSVIsQ0VoSVFZLENBQW1CbkIsS0FBTSxnQkFBaUIsQ0FBRU0sTUFBTSxJQUdsRCxNQUFNYyxFQUFRcEIsS0FBS3JDLEtBQUtDLFNBQVN5RCxrQkFBb0IsQ0FDakRDLFdBQVksUUFDWkMsU0FBVSxPQUNWQyxNQUFPLFlBSUwsTUFBRUMsRUFBSyxPQUFFQyxHQUFXMUIsS0FBS3pCLE1BQ3pCb0QsRUFBVUYsRUFBUSxFQUNsQkcsRUFBYUQsRUFBV0EsRUFBVSxFQUdyQjNCLEtBQUtyQixJQUFJdUIsTUFBTSxFQUFHLEVBQUcsc0JBQ25DakIsVUFBVSxHQUNWNEMsVUFBVSxHQUNKQyxlQUFlTCxFQUFPQyxHQUdqQzFCLEtBQUtyQixJQUFJSyxLQUFLNEMsRUFBWSxJQUFLLGVBQWdCLElBQ3hDUixFQUNIRyxTQUFVLE9BQ1ZDLE1BQU8sWUFDUnZDLFVBQVUsSUFHYixNQUFNOEMsRUFBZUwsRUFBUyxFQUFJLEdBRTVCTSxFQUFrQixJQUFLWixFQUFPRyxTQUFVLE9BQVFDLE1BQU8sV0FHN0R4RCxFQUFlZ0MsS0FBTSxDQUNqQi9CLEVBQUcyRCxFQUNIMUQsRUFBRzZELEVBQ0g1RCxNQUFPLFFBQ1BDLFFBQVMsSUFBTTRCLEtBQUs3QyxNQUFNOEUsTUFBTSxrQkFDaEN6RCxVQUFXd0QsRUFDWHZELGNBQWUsZ0JBSW5CVCxFQUFlZ0MsS0FBTSxDQUNqQi9CLEVBQUcyRCxFQUNIMUQsRUFBRzZELEVBaEJlLEdBaUJsQjVELE1BQU8sV0FDUEMsUUFBUyxJQUFNNEIsS0FBSzdDLE1BQU04RSxNQUFNLGlCQUFrQixDQUFFQyxZQUFhLGVBQ2pFMUQsVUFBV3dELEVBQ1h2RCxjQUFlLGdCQUluQlQsRUFBZWdDLEtBQU0sQ0FDakIvQixFQUFHMkQsRUFDSDFELEVBQUc2RCxFQUFlSSxJQUNsQmhFLE1BQU8sZ0JBQ1BDLFFBQVMsSUFBTTRCLEtBQUs3QyxNQUFNOEUsTUFBTSx1QkFDaEN6RCxVQUFXd0QsRUFDWHZELGNBQWUsZ0JBSW5CVCxFQUFlZ0MsS0FBTSxDQUNqQi9CLEVBQUcyRCxFQUNIMUQsRUFBRzZELEVBQWVJLElBQ2xCaEUsTUFBTyxXQUNQQyxRQUFTLElBQU00QixLQUFLN0MsTUFBTThFLE1BQU0saUJBQ2hDekQsVUFBV3dELEVBQ1h2RCxjQUFlLGdCQUtuQnVCLEtBQUtyQixJQUFJdUIsTUFBTUYsS0FBS3pCLE1BQU1rRCxNQUFRLEdBQUl6QixLQUFLekIsTUFBTW1ELE9BQVMsR0FBSSxlQUN6RDdDLFNBQVMsS0FDVEksVUFBVSxFQUFHLEVBQ3RCLEVDdEdKLE1BQU1tRCxFQUFzQixDQUMxQkMsVUFBVyxJQUNYQyxXQUFZLElBQ1pDLFVBQVcsS0FDWEMsS0FBTSxJQUNOQyxLQUFNLEtBUUQsTUFBTUMsRUFFVCxXQUFBN0MsQ0FBWTFDLEVBQU93RixFQUFJMUUsRUFBR0MsRUFBRzBFLEdBRXpCNUMsS0FBSzdDLE1BQVFBLEVBQ2I2QyxLQUFLMkMsR0FBS0EsRUFDVjNDLEtBQUs0QyxjQUFnQkEsRUFHckI1QyxLQUFLNkMsY0FBZ0IsSUFDckI3QyxLQUFLOEMsVUFBWTlDLEtBQUs2QyxjQUV0QjdDLEtBQUsrQyxVQUFZLElBRWpCL0MsS0FBS2dELGVBQWlCLENBQUMsRUFHdkJoRCxLQUFLaUQsYUFBYyxFQUNuQmpELEtBQUtrRCxlQUFpQixLQUN0QmxELEtBQUttRCxtQkFBb0IsRUFDekJuRCxLQUFLb0Qsa0JBQW1CLEVBRXhCcEQsS0FBS3FELGdCQUFrQixFQUV2QnJELEtBQUtzRCxlQUFpQnRELEtBQUs3QyxNQUFNd0IsSUFBSUssS0FBS2YsRUFBR0MsRUFBSSxHQUFJLEdBQUksQ0FDckRvRCxXQUFZLFFBQ1pDLFNBQVUsT0FDVkMsTUFBTyxVQUNQK0IsT0FBUSxVQUNSQyxnQkFBaUIsSUFFaEJ2RSxVQUFVLEdBQUssR0FDZjRDLFNBQVMsSUFDVDRCLFlBQVcsR0FFaEJ6RCxLQUFLMEQsaUJBQW1CLEdBRXhCMUQsS0FBSzJELGFBQWMsRUFHbkIzRCxLQUFLNEQsV0FBYSxFQUNsQjVELEtBQUs2RCxZQUFjLElBQ25CN0QsS0FBSzhELFVBQVksRUFDakI5RCxLQUFLK0QsYUFBZSxJQUdwQixNQUFNQyxFQUFtQixDQUVyQkMsV0FBWSxDQUNSQyxXQUFZLGFBQ1pDLFdBQVksRUFDWkMsYUFBYyxpQkFDZEMsY0FBZSxrQkFDZkMsWUFBYSxnQkFDYkMsYUFBYyxpQkFDZEMsYUFBYyxpQkFDZEMsY0FBZSxrQkFDZkMsZ0JBQWlCLG9CQUNqQkMsaUJBQWtCLHFCQUNsQkMsUUFBUSxpQkFHWkMsV0FBWSxDQUNSWCxXQUFZLGFBQ1pDLFdBQVksRUFDWkMsYUFBYyxpQkFDZEMsY0FBZSxrQkFDZkMsWUFBYSxnQkFDYkMsYUFBYyxpQkFDZEMsYUFBYyxpQkFDZEMsY0FBZSxrQkFDZkMsZ0JBQWlCLG9CQUNqQkMsaUJBQWtCLHFCQUNsQkMsUUFBUSxpQkFHWkUsV0FBWSxDQUNSWixXQUFZLGFBQ1pDLFdBQVksRUFDWkMsYUFBYyxpQkFDZEMsY0FBZSxrQkFDZkMsWUFBYSxnQkFDYkMsYUFBYyxpQkFDZEMsYUFBYyxpQkFDZEMsY0FBZSxrQkFDZkMsZ0JBQWlCLG9CQUNqQkMsaUJBQWtCLHFCQUNsQkMsUUFBUSxrQkFLaEI1RSxLQUFLK0UsT0FBU2YsRUFBaUJwQixJQUFrQm9CLEVBQWlCQyxXQUdsRWpFLEtBQUtwQixPQUFTb0IsS0FBSzdDLE1BQU02SCxRQUFRckcsSUFBSUMsT0FDakNYLEVBQ0FDLEVBQ0E4QixLQUFLK0UsT0FBT2IsV0FDWmxFLEtBQUsrRSxPQUFPWixZQUdoQm5FLEtBQUtwQixPQUFPQyxTQUFTLEtBR3JCbUIsS0FBS3BCLE9BQU9xRyxLQUFLQyxRQUE0QixHQUFwQmxGLEtBQUtwQixPQUFPNkMsTUFBa0MsR0FBckJ6QixLQUFLcEIsT0FBTzhDLFFBQWMsR0FJNUUxQixLQUFLcEIsT0FBT3VHLFFBQVEsU0FBVW5GLE1BRzlCQSxLQUFLb0YsT0FBUyxRQUdkcEYsS0FBS3FGLFlBQWEsRUFHbEJyRixLQUFLc0YsV0FBWSxFQUdqQnRGLEtBQUt1RixjQUFnQixFQUdyQnZGLEtBQUtwQixPQUFPUyxHQUFHLG9CQUFzQm1HLElBQ2pDLElBRVFBLEVBQUt2SyxNQUFRK0UsS0FBSytFLE9BQU9MLGlCQUN6QmMsRUFBS3ZLLE1BQVErRSxLQUFLK0UsT0FBT0osbUJBRXpCM0UsS0FBSzJELGFBQWMsRUFJM0IsQ0FBRSxNQUFPOEIsR0FDTC9FLFFBQVErRSxNQUFNLHdDQUF3Q0QsRUFBS3ZLLE9BQVF3SyxFQUN2RSxHQUdSLENBR0EsVUFBQUMsR0FDSSxNQUFNVCxFQUFPakYsS0FBS3BCLE9BQU9xRyxLQUN6QixRQUFLQSxJQUlFQSxFQUFLVSxRQUFRQyxNQUFRWCxFQUFLWSxTQUFTRCxLQUM5QyxDQUdBLFlBQUFFLENBQWFDLEVBQVksSUFDckIsTUFBTWQsRUFBT2pGLEtBQUtwQixPQUFPcUcsS0FDekIsSUFBS0EsRUFBTSxPQUFPLEVBQ2xCLEdBQWtDLGlCQUF2QmpGLEtBQUs3QyxNQUFNNkksUUFBc0IsT0FBTyxFQUduRCxNQUFNQyxFQUFRaEIsRUFBSy9HLEVBQUkrRyxFQUFLdkQsT0FDNUIsT0FBT3dFLEtBQUtDLElBQUlGLEVBQVFqRyxLQUFLN0MsTUFBTTZJLFVBQVlELENBQ25ELENBSUEsUUFBQUssR0FDUXBHLEtBQUtpRCxhQUFlakQsS0FBSzJELGNBRTdCM0QsS0FBS3BCLE9BQU95SCxjQUFjckcsS0FBSzhDLFdBQy9COUMsS0FBS29GLE9BQVMsT0FDZHBGLEtBQUtzRyxjQUFjdEcsS0FBSytFLE9BQU9ULGFBQ25DLENBRUEsU0FBQWlDLEdBQ1F2RyxLQUFLaUQsYUFBZWpELEtBQUsyRCxjQUU3QjNELEtBQUtwQixPQUFPeUgsYUFBYXJHLEtBQUs4QyxXQUM5QjlDLEtBQUtvRixPQUFTLFFBQ2RwRixLQUFLc0csY0FBY3RHLEtBQUsrRSxPQUFPUixjQUNuQyxDQUdBLFFBQUFpQyxHQUNReEcsS0FBS2lELGNBRUxqRCxLQUFLMEYsY0FBZ0IxRixLQUFLOEYsYUFBYSxPQUV2QzlGLEtBQUsyRCxhQUFjLEVBRW5CM0QsS0FBS3NGLFdBQVksRUFDakJ0RixLQUFLdUYsY0FBZ0J2RixLQUFLN0MsTUFBTXNKLEtBQUtDLElBQ3JDMUcsS0FBS3BCLE9BQU8rSCxjQUFjM0csS0FBSytDLFdBQy9CL0MsS0FBS29GLE9BQVMsT0FDZHBGLEtBQUtzRyxjQUFjdEcsS0FBSytFLE9BQU9QLGNBQy9CeEUsS0FBSzdDLE9BQU95SixVQUFVNUcsS0FBSzdDLE9BQU8wSixLQUFLQyxNQUUvQyxDQUVBLFNBQUFDLEdBQ1EvRyxLQUFLaUQsY0FFTGpELEtBQUswRixjQUFnQjFGLEtBQUs4RixhQUFhLE9BQ3ZDOUYsS0FBSzJELGFBQWMsRUFFbkIzRCxLQUFLc0YsV0FBWSxFQUNqQnRGLEtBQUt1RixjQUFnQnZGLEtBQUs3QyxNQUFNc0osS0FBS0MsSUFDckMxRyxLQUFLcEIsT0FBTytILGNBQWMzRyxLQUFLK0MsV0FDL0IvQyxLQUFLb0YsT0FBUyxRQUNkcEYsS0FBS3NHLGNBQWN0RyxLQUFLK0UsT0FBT04sZUFDL0J6RSxLQUFLN0MsT0FBT3lKLFVBQVU1RyxLQUFLN0MsT0FBTzBKLEtBQUtDLE1BRS9DLENBR0EsV0FBQUUsR0FDUWhILEtBQUtpRCxhQUNMakQsS0FBSzJELGNBR0wzRCxLQUFLMEYsY0FBZ0IxRixLQUFLOEYsYUFBYSxPQUN2QzlGLEtBQUsyRCxhQUFjLEVBQ25CM0QsS0FBS3BCLE9BQU95SCxhQUFhLEdBQ3pCckcsS0FBS29GLE9BQVMsT0FDZHBGLEtBQUtzRyxjQUFjdEcsS0FBSytFLE9BQU9MLGlCQUV2QyxDQUVBLFlBQUF1QyxHQUNRakgsS0FBS2lELGFBQ0xqRCxLQUFLMkQsY0FHTDNELEtBQUswRixjQUFnQjFGLEtBQUs4RixhQUFhLE9BQ3ZDOUYsS0FBSzJELGFBQWMsRUFDbkIzRCxLQUFLcEIsT0FBT3lILGFBQWEsR0FDekJyRyxLQUFLb0YsT0FBUyxRQUNkcEYsS0FBS3NHLGNBQWN0RyxLQUFLK0UsT0FBT0osa0JBRXZDLENBR0EsUUFBQXVDLEdBQ1FsSCxLQUFLMkQsY0FHVDNELEtBQUtwQixPQUFPeUgsYUFBYSxHQUN6QnJHLEtBQUtvRixPQUFTLE9BRWRwRixLQUFLc0csY0FBY3RHLEtBQUsrRSxPQUFPWCxjQUNuQyxDQUVBLFNBQUErQyxHQUNRbkgsS0FBSzJELGNBR1QzRCxLQUFLcEIsT0FBT3lILGFBQWEsR0FDekJyRyxLQUFLb0YsT0FBUyxRQUVkcEYsS0FBS3NHLGNBQWN0RyxLQUFLK0UsT0FBT1YsZUFDbkMsQ0FJQSxTQUFBK0MsQ0FBVUMsRUFBTUMsRUFBT0MsRUFBS0MsR0FDeEJ4SCxLQUFLNEQsV0FBYXlELEVBQ2xCckgsS0FBSzZELFlBQWN5RCxFQUNuQnRILEtBQUs4RCxVQUFZeUQsRUFDakJ2SCxLQUFLK0QsYUFBZXlELENBQ3hCLENBR0EsaUJBQUFDLEdBQ0ksTUFBTUMsRUFBWTFILEtBQUtwQixPQUFPNkMsTUFBUSxFQUVsQ3pCLEtBQUtwQixPQUFPWCxFQUFJeUosRUFBWTFILEtBQUs0RCxhQUNqQzVELEtBQUtwQixPQUFPWCxFQUFJK0IsS0FBSzRELFdBQWE4RCxFQUNsQzFILEtBQUtwQixPQUFPeUgsYUFBYSxJQUV6QnJHLEtBQUtwQixPQUFPWCxFQUFJeUosRUFBWTFILEtBQUs2RCxjQUNqQzdELEtBQUtwQixPQUFPWCxFQUFJK0IsS0FBSzZELFlBQWM2RCxFQUNuQzFILEtBQUtwQixPQUFPeUgsYUFBYSxHQUVqQyxDQUlBLFdBQUFzQixDQUFZMUosRUFBR0MsR0FDTjhCLEtBQUtwQixTQUVWb0IsS0FBS3BCLE9BQU8rSSxZQUFZMUosRUFBR0MsR0FDM0I4QixLQUFLcEIsT0FBT2dKLFlBQVksRUFBRyxHQUczQjVILEtBQUs2SCwrQkFDVCxDQUdBLDRCQUFBQSxHQUNJLElBQUs3SCxLQUFLc0QsaUJBQW1CdEQsS0FBS3BCLE9BQVEsT0FHMUMsTUFDTWtKLEVBQXFCLElBRFY5SCxLQUFLcEIsT0FBT21KLGVBQWlCL0gsS0FBS3BCLE9BQU84QyxRQUFVLElBR3BFMUIsS0FBS3NELGVBQWVxRSxZQUNoQjNILEtBQUtwQixPQUFPWCxFQUNaK0IsS0FBS3BCLE9BQU9WLEVBQUk0SixFQUV4QixDQUdBLGFBQUF4QixDQUFjMEIsR0FDVixJQUFLQSxFQUFTLE9BQ2QsSUFBS2hJLEtBQUtwQixPQUFPcUosTUFBTyxPQUd4QixHQUNJakksS0FBS3NGLFdBQ0wwQyxJQUFZaEksS0FBSytFLE9BQU9QLGNBQ3hCd0QsSUFBWWhJLEtBQUsrRSxPQUFPTixjQUV4QixPQUdKLE1BQU15RCxFQUFjbEksS0FBS3BCLE9BQU9xSixNQUFNQyxZQUNsQ2xJLEtBQUtwQixPQUFPcUosTUFBTXpILFdBQWEwSCxHQUFlQSxFQUFZak4sTUFBUStNLEdBSXRFaEksS0FBS3BCLE9BQU9xSixNQUFNbEssS0FBS2lLLEdBQVMsRUFDcEMsQ0FHQSxNQUFBRyxHQUNJLEdBQUluSSxLQUFLcEIsT0FBT3FHLEtBQU0sQ0FDbEIsTUFBTW1ELEVBQWNwSSxLQUFLcUYsV0FDekJyRixLQUFLcUYsV0FBYXJGLEtBQUswRixhQUV2QixNQUFNd0MsRUFBY2xJLEtBQUtwQixPQUFPcUosTUFBTUMsWUFDaENHLEVBQWFILEVBQWNBLEVBQVlqTixJQUFNLEtBRS9DK0UsS0FBS2lELGFBQ0xqRCxLQUFLcEIsT0FBT3lILGFBQWEsR0FLekJyRyxLQUFLMkQsYUFDTDBFLElBQWVySSxLQUFLK0UsT0FBT0wsaUJBQzNCMkQsSUFBZXJJLEtBQUsrRSxPQUFPSixtQkFFM0IzRSxLQUFLMkQsYUFBYyxHQU1uQjNELEtBQUtzRixXQUNMK0MsR0FDQUEsSUFBZXJJLEtBQUsrRSxPQUFPUCxjQUMzQjZELElBQWVySSxLQUFLK0UsT0FBT04sZ0JBRTNCekUsS0FBS3NGLFdBQVksR0FJakJ0RixLQUFLc0YsV0FBY3RGLEtBQUs3QyxNQUFNc0osS0FBS0MsSUFBTTFHLEtBQUt1RixjQUFnQixPQUM5RHZGLEtBQUtzRixXQUFZLEdBSWpCdEYsS0FBS3NGLFlBQWM4QyxHQUFlcEksS0FBS3FGLGFBQ3ZDckYsS0FBS3NGLFdBQVksRUFDRyxTQUFoQnRGLEtBQUtvRixPQUNMcEYsS0FBS2tILFdBRUxsSCxLQUFLbUgsWUFHakIsQ0FDQW5ILEtBQUt5SCxvQkFFTHpILEtBQUs2SCw4QkFDVCxDQUdBLFlBQUFTLENBQWFDLEdBRVQsUUFBSXZJLEtBQUswRCxpQkFBaUI4RSxRQUFVLElBRXBDeEksS0FBSzBELGlCQUFpQitFLEtBQUtGLEdBQ3BCLEdBQ1gsQ0FFQSxjQUFBRyxHQUNJLEdBQXFDLElBQWpDMUksS0FBSzBELGlCQUFpQjhFLE9BQWMsT0FFeEMsTUFBTUQsRUFBT3ZJLEtBQUswRCxpQkFBaUJpRixRQUNuQzNJLEtBQUs0SSxnQkFBZ0JMLEVBQ3pCLENBR0EsZUFBQUssQ0FBZ0JMLEdBQ1osT0FBUUEsR0FDSixJQUFLLFlBQ0R2SSxLQUFLNkksMEJBQTBCLFlBQWF6RyxFQUFvQkMsV0FDaEUsTUFDSixJQUFLLGFBQWMsQ0FDZixNQUFNeUcsRUFBVzlJLEtBQUsrSSxjQUNsQkQsR0FDQUEsRUFBU0QsMEJBQTBCLGFBQWN6RyxFQUFvQkUsWUFFekUsS0FDSixDQUNBLElBQUssWUFBYSxDQUNkLE1BQU13RyxFQUFXOUksS0FBSytJLGNBQ2xCRCxHQUNBQSxFQUFTRCwwQkFBMEIsWUFBYXpHLEVBQW9CRyxXQUV4RSxLQUNKLENBQ0EsSUFBSyxPQUNMLElBQUssT0FDRHZDLEtBQUs2SSwwQkFBMEJOLEVBQU1uRyxFQUFvQm1HLElBR3JFLENBR0EsY0FBQVMsR0FDSSxNQUFNdEMsRUFBTTFHLEtBQUs3QyxNQUFNc0osS0FBS0MsSUFFNUIsSUFBSXVDLEdBQW1CLEVBQ25CQyxHQUFtQixFQUd2QixJQUFLLE1BQU1YLEtBQVF2SSxLQUFLZ0QsZUFDcEIsS0FBSTBELEdBQU8xRyxLQUFLZ0QsZUFBZXVGLElBSS9CLGNBRk92SSxLQUFLZ0QsZUFBZXVGLEdBRW5CQSxHQUNKLElBQUssWUFDRHZJLEtBQUttSixnQkFBZSxHQUNwQkYsR0FBbUIsRUFDbkIsTUFDSixJQUFLLGFBQ0RqSixLQUFLb0osZUFBYyxHQUNuQkgsR0FBbUIsRUFDbkIsTUFDSixJQUFLLFlBQ0RqSixLQUFLcUosY0FBYSxHQUNsQixNQUNKLElBQUssT0FDTCxJQUFLLE9BQ0RILEdBQW1CLEVBSzNCRCxHQUFrQmpKLEtBQUtzSix1QkFDdkJKLEdBQWtCbEosS0FBS3VKLHdCQUMvQixDQUtBLFlBQUFGLENBQWFwRyxHQUNUakQsS0FBS2lELFlBQWNBLEVBRWZBLEdBRUFqRCxLQUFLcEIsT0FBTzRLLFFBQVEsVUFDcEJ4SixLQUFLcEIsT0FBTzZLLFNBQVMsR0FHakJ6SixLQUFLa0QsaUJBQ0xsRCxLQUFLa0QsZUFBZXdHLE9BQ3BCMUosS0FBS2tELGVBQWlCLE1BRzFCbEQsS0FBS2tELGVBQWlCbEQsS0FBSzdDLE1BQU13TSxPQUFPaEwsSUFBSSxDQUN4Q2lMLFFBQVM1SixLQUFLcEIsT0FDZGlMLE1BQU8sR0FDUEMsTUFBTSxFQUNOQyxTQUFVLElBQ1ZDLFFBQVMsSUFJYmhLLEtBQUtwQixPQUFPeUgsYUFBYSxLQUl6QnJHLEtBQUtwQixPQUFPNkssU0FBUyxHQUVqQnpKLEtBQUtrRCxpQkFDTGxELEtBQUtrRCxlQUFld0csT0FDcEIxSixLQUFLa0QsZUFBaUIsTUFJMUJsRCxLQUFLaUssd0JBRWIsQ0FHQSxjQUFBZCxDQUFlZSxHQUNYbEssS0FBS21ELGtCQUFvQitHLEVBQ3pCbEssS0FBS2lLLHVCQUNULENBR0EsYUFBQWIsQ0FBY2MsR0FDVmxLLEtBQUtvRCxpQkFBbUI4RyxFQUN4QmxLLEtBQUtpSyx1QkFDVCxDQUdBLG9CQUFBWCxHQUNJLElBQUlhLEVBQU8sRUFFUG5LLEtBQUtnRCxlQUFlWCxZQUFXOEgsR0E3Z0I5QixLQThnQkRuSyxLQUFLZ0QsZUFBZVYsYUFBWTZILEdBN2dCOUIsSUErZ0JObkssS0FBSzhDLFVBQVk5QyxLQUFLNkMsY0FBZ0JzSCxDQUMxQyxDQUdBLHNCQUFBWixHQUNJLElBQUlhLEVBQWEsRUFFYnBLLEtBQUtnRCxlQUFxQixPQUMxQm9ILEVBQWFsRSxLQUFLbUUsSUFBSUQsRUFBWSxJQUVsQ3BLLEtBQUtnRCxlQUFxQixPQUMxQm9ILEVBQWFsRSxLQUFLbUUsSUFBSUQsRUFBWSxJQUd0Q3BLLEtBQUtxRCxnQkFBa0IrRyxFQUduQnBLLEtBQUtzRCxpQkFDRHRELEtBQUtxRCxnQkFBa0IsR0FDdkJyRCxLQUFLc0QsZUFBZWdILFFBQVEsSUFBTXRLLEtBQUtxRCxpQkFDdkNyRCxLQUFLc0QsZUFBZUcsWUFBVyxJQUUvQnpELEtBQUtzRCxlQUFlRyxZQUFXLElBS3ZDekQsS0FBS2lLLHVCQUNULENBR0EseUJBQUFwQixDQUEwQk4sRUFBTWdDLEdBQzVCLE1BQU03RCxFQUFNMUcsS0FBSzdDLE1BQU1zSixLQUFLQyxJQUM1QjFHLEtBQUtnRCxlQUFldUYsR0FBUTdCLEVBQU02RCxFQUdyQixjQUFUaEMsR0FBc0J2SSxLQUFLbUosZ0JBQWUsR0FDakMsZUFBVFosR0FBdUJ2SSxLQUFLb0osZUFBYyxHQUNqQyxjQUFUYixHQUFzQnZJLEtBQUtxSixjQUFhLEdBRy9CLGNBQVRkLEdBQWlDLGVBQVRBLEdBQ3hCdkksS0FBS3NKLHVCQUVJLFNBQVRmLEdBQTRCLFNBQVRBLEdBQ25CdkksS0FBS3VKLHdCQUViLENBR0EscUJBQUFVLEdBRVFqSyxLQUFLaUQsY0FNTGpELEtBQUtvRCxpQkFFTHBELEtBQUtwQixPQUFPNEssUUFBUSxTQUNieEosS0FBS21ELGtCQUVabkQsS0FBS3BCLE9BQU80SyxRQUFRLFVBQ2J4SixLQUFLcUQsZ0JBQWtCLEVBRTlCckQsS0FBS3BCLE9BQU80SyxRQUFRLFNBR3BCeEosS0FBS3BCLE9BQU80TCxZQUVwQixDQUdBLFdBQUF6QixHQUNJLE9BQUsvSSxLQUFLN0MsTUFBTXNOLFFBQ1RDLE1BQU1DLEtBQUszSyxLQUFLN0MsTUFBTXNOLFFBQVFHLFVBQVVDLEtBQUtDLEdBQUtBLElBQU05SyxNQUQvQixJQUVwQyxFQ3htQkcsTUFBTStLLEVBQ1QsV0FBQWxMLENBQVltTCxFQUFRQyxHQUNoQmpMLEtBQUtnTCxPQUFTQSxFQUNkaEwsS0FBS2lMLFlBQWNBLEVBQ25CakwsS0FBS2tMLFFBQVMsQ0FDbEIsQ0FFQSxPQUFBQyxHQUVJLE9BREFuTCxLQUFLa0wsT0FBU2xMLEtBQUtnTCxPQUFPMUMsYUFBYXRJLEtBQUtpTCxhQUNyQ2pMLEtBQUtrTCxNQUNoQixFQ1JHLE1BQU1FLEVBQ1QsV0FBQXZMLENBQVkxQyxFQUFPYyxFQUFHQyxFQUFHcUssR0FDckJ2SSxLQUFLN0MsTUFBUUEsRUFDYjZDLEtBQUt1SSxLQUFPQSxFQUVadkksS0FBS3FMLGFBQWMsRUFDbkJyTCxLQUFLc0wsWUFBYSxFQUNsQnRMLEtBQUt1TCxlQUFpQixFQUV0QnZMLEtBQUt3TCxVQUFZLElBQ2pCeEwsS0FBS3lMLFNBQVcsSUFFaEJ6TCxLQUFLMEwsVUFBWSxHQUNqQjFMLEtBQUsyTCxVQUFZLEtBQ2pCM0wsS0FBSzRMLGVBQWlCLEtBRXRCNUwsS0FBS3BCLE9BQVN6QixFQUFNNkgsUUFBUXJHLElBQUlrTixZQUFZNU4sRUFBR0MsRUFBR3FLLEdBQzdDMUosU0FBUyxLQUNUQyxpQkFHRGtCLEtBQUtwQixPQUFPa04sYUFBYTlMLEtBQUtwQixPQUFPa04sY0FHekMsTUFBTUMsRUFBWTdGLEtBQUttRSxJQUFJLEVBQUduRSxLQUFLOEYsSUFBSWhNLEtBQUt3TCxVQUFXeEwsS0FBS3lMLFdBQ3REUSxFQUFlL0YsS0FBS21FLElBQUksRUFBR3JLLEtBQUt5TCxTQUFXTSxHQUU3Q0UsRUFBZSxJQUNmak0sS0FBSzJMLFVBQVl4TyxFQUFNd00sT0FBT2hMLElBQUksQ0FDOUJpTCxRQUFTNUosS0FBS3BCLE9BQ2RpTCxNQUFPLEVBQ1BxQyxNQUFPSCxFQUNQaEMsU0FBVWtDLEtBS2xCLE1BQU14QixFQUFVdE4sRUFBTXNOLFFBQ2xCQSxHQUFzQyxtQkFBcEJBLEVBQVEwQixTQUMxQjFCLEVBQVEwQixRQUFRbkIsSUFDWixJQUFLQSxHQUFRcE0sT0FBUSxPQUVyQixNQUFNd04sRUFBSWpQLEVBQU02SCxRQUFRckcsSUFBSTBOLFFBQ3hCckIsRUFBT3BNLE9BQ1BvQixLQUFLcEIsT0FDTCxJQUFNb0IsS0FBS3NNLFFBQVF0QixHQUNuQixLQUNBaEwsTUFFSkEsS0FBSzBMLFVBQVVqRCxLQUFLMkQsS0FLNUJwTSxLQUFLNEwsZUFBaUJ6TyxFQUFNc0osS0FBSzhGLFlBQVl2TSxLQUFLeUwsU0FBVSxLQUN4RHpMLEtBQUt3TSxXQUViLENBR0EsT0FBQUYsQ0FBUXRCLEdBR0osR0FGQXRLLFFBQVErTCxJQUFJLHdCQUF5QnpCLEVBQU9ySSxHQUFJLE9BQVEzQyxLQUFLdUksTUFFekR2SSxLQUFLc0wsV0FBWSxPQUNyQixHQUFJdEwsS0FBS3FMLFlBQWEsT0FHdEIsTUFBTTNFLEVBQU0xRyxLQUFLN0MsTUFBTXNKLEtBQUtDLElBQzVCLEdBQUkxRyxLQUFLdUwsZ0JBQWtCN0UsRUFBTTFHLEtBQUt1TCxlQUFnQixPQUV0RHZMLEtBQUtxTCxhQUFjLEVBRW5CLE1BQU1xQixFQUFNLElBQUkzQixFQUFvQkMsRUFBUWhMLEtBQUt1SSxNQUlqRCxHQUhBdkksS0FBSzdDLE1BQU13UCxpQkFBaUJDLFFBQVFGLElBRy9CQSxFQUFJeEIsT0FHTCxPQUZBbEwsS0FBS3FMLGFBQWMsT0FDbkJyTCxLQUFLdUwsZUFBaUI3RSxFQUFNLEtBSWhDMUcsS0FBS3dNLFVBQ0x4TSxLQUFLN0MsTUFBTTBQLDBCQUEwQjdCLEVBQ3pDLENBR0EsT0FBQXdCLEdBQ0ksSUFBSXhNLEtBQUtzTCxXQUFULENBWUEsR0FYQXRMLEtBQUtzTCxZQUFhLEVBR2RaLE1BQU1vQyxRQUFROU0sS0FBSzBMLGFBQ25CMUwsS0FBSzBMLFVBQVVTLFFBQVFDLElBQ25CLElBQU1BLEVBQUVJLFNBQVcsQ0FBRSxNQUFPLElBRWhDeE0sS0FBSzBMLFVBQVksSUFJakIxTCxLQUFLMkwsVUFBVyxDQUNoQixJQUFNM0wsS0FBSzJMLFVBQVVqQyxNQUFRLENBQUUsTUFBTyxDQUN0QzFKLEtBQUsyTCxVQUFZLElBQ3JCLENBU0EsR0FOSTNMLEtBQUs0TCxpQkFDTDVMLEtBQUs0TCxlQUFlbUIsUUFBTyxHQUMzQi9NLEtBQUs0TCxlQUFpQixNQUl0QjVMLEtBQUtwQixPQUFRLENBQ2IsSUFBTW9CLEtBQUtwQixPQUFPNE4sU0FBVyxDQUFFLE1BQU8sQ0FDdEN4TSxLQUFLcEIsT0FBUyxJQUNsQixDQUdJOEwsTUFBTW9DLFFBQVE5TSxLQUFLN0MsTUFBTTZQLFlBQ3pCaE4sS0FBSzdDLE1BQU02UCxTQUFXaE4sS0FBSzdDLE1BQU02UCxTQUFTQyxPQUFPbkMsR0FBS0EsSUFBTTlLLE1BL0JyQyxDQWlDL0IsRUMzSEcsTUFBTWtOLEVBQ1QsV0FBQXJOLENBQVkxQyxFQUFPYyxFQUFHQyxHQUNsQjhCLEtBQUs3QyxNQUFRQSxFQUNiNkMsS0FBS3lLLFFBQVUsS0FDZnpLLEtBQUsyTSxpQkFBbUIsS0FFeEIzTSxLQUFLcEIsT0FBU3pCLEVBQU02SCxRQUFRckcsSUFBSUMsT0FBT1gsRUFBR0MsRUFBRyxRQUM3QzhCLEtBQUtwQixPQUFPQyxTQUFTLEdBQ3JCbUIsS0FBS3BCLE9BQU91TyxVQUFVLElBQ3RCbk4sS0FBS3BCLE9BQU93Tyx1QkFBc0IsR0FDbENwTixLQUFLcEIsT0FBT3VHLFFBQVEsT0FBUW5GLE1BRzVCQSxLQUFLcU4sY0FBZ0IsS0FDckJyTixLQUFLc04sV0FBYSxFQUNsQnROLEtBQUt1TixVQUFZLE9BQ2pCdk4sS0FBS3dOLFlBQWEsRUFHbEJ4TixLQUFLeU4sS0FBTyxJQUdaek4sS0FBSzBOLFlBQWMsRUFDbkIxTixLQUFLMk4sZ0JBQWtCLElBRzNCLENBR0EsZ0JBQUFDLENBQWlCNUIsRUFBTSxJQUFNM0IsRUFBTSxNQUMvQixPQUFPMkIsR0FBTzNCLEVBQU0yQixHQUFPOUYsS0FBSzJILFFBQ3BDLENBR0EsR0FBQUMsQ0FBSTlDLEVBQVErQyxFQUF1QnpJLEVBQVczQixHQUFjLEdBQ3hELElBQUszRCxLQUFLd04sV0FBWSxPQUV0QixNQUFNOUcsRUFBTTFHLEtBQUs3QyxNQUFNc0osS0FBS0MsSUFJNUIsR0FBSTFHLEtBQUsyTixrQkFBb0IzQyxFQUFPckksSUFBTytELEVBQU0xRyxLQUFLME4sWUFBZSxJQUNqRSxPQWNKLEdBVkExTixLQUFLMk4sZ0JBQWtCM0MsRUFBT3JJLEdBQzlCM0MsS0FBSzBOLFlBQWNoSCxFQUdmMUcsS0FBS3FOLGdCQUFrQnJDLEVBQU9ySSxHQUM5QjNDLEtBQUtzTixjQUVMdE4sS0FBS3NOLFdBQWEsRUFDbEJ0TixLQUFLcU4sY0FBZ0JyQyxFQUFPckksSUFFNUIzQyxLQUFLc04sV0FBYSxFQUVsQixZQURBdE4sS0FBS2dPLFFBQVEsZ0JBQWlCaEQsR0FZbEMsSUFBSWlELEVBQVdDLEVBRWYsR0FWSXZLLEVBQ0EzRCxLQUFLN0MsT0FBT3lKLFVBQVU1RyxLQUFLN0MsT0FBTzBKLEtBQUtzSCxTQUNoQzdJLEdBQ1B0RixLQUFLN0MsT0FBT3lKLFVBQVU1RyxLQUFLN0MsT0FBTzBKLEtBQUt1SCxPQU92Q3pLLEVBQWEsQ0FHYixNQUFNMEssRUFBYSxJQUNiQyxHQUFvQixJQUNwQkMsRUFBZ0J2TyxLQUFLNE4sbUJBSXZCSyxFQUQwQixTQUExQkYsR0FDYU0sRUFBYUUsRUFFZEYsRUFBYUUsRUFFN0JMLEVBQVlJLEVBUFV0TyxLQUFLNE4sa0JBUS9CLE1BQU8sR0FBSXRJLEVBQVcsQ0FHbEIsTUFBTStJLEVBQWEsSUFDYkMsR0FBb0IsSUFDcEJDLEVBQWdCdk8sS0FBSzROLG1CQUl2QkssRUFEMEIsU0FBMUJGLEdBQ2FNLEVBQWFFLEVBRWRGLEVBQWFFLEVBRTdCTCxFQUFZSSxFQVBVdE8sS0FBSzROLGtCQVEvQixLQUFPLENBRUgsTUFBTVMsRUFBYSxJQUdmSixFQUQwQixTQUExQkYsR0FDYU0sRUFFREEsRUFFaEJILEdBQWEsR0FDakIsQ0FFQWxPLEtBQUtwQixPQUFPZ0osWUFBWXFHLEVBQVdDLEdBRy9CRCxFQUFZLEVBQ1pqTyxLQUFLdU4sVUFBWSxRQUNWVSxFQUFZLElBQ25Cak8sS0FBS3VOLFVBQVksT0FFekIsQ0FHQSxRQUFBaUIsR0FFSXhPLEtBQUtzTixXQUFhLEVBQ2xCdE4sS0FBS3FOLGNBQWdCLEtBR3JCck4sS0FBS3VOLFVBQStCLFNBQW5Cdk4sS0FBS3VOLFVBQXVCLFFBQVUsTUFDM0QsQ0FHQSxVQUFBa0IsR0FDSSxJQUFLek8sS0FBS3dOLFdBQVksT0FFdEIsTUFBTWtCLEVBQWExTyxLQUFLcEIsT0FBT1gsRUFBSStCLEtBQUt5TixLQUNsQ2tCLEVBQWMzTyxLQUFLcEIsT0FBT1gsRUFBSStCLEtBQUt5TixLQUdyQ2lCLEdBQ0ExTyxLQUFLNE8sV0FBVyxXQUNoQjVPLEtBQUs2TyxXQUFXLFlBQ1RGLElBQ1AzTyxLQUFLNE8sV0FBVyxXQUNoQjVPLEtBQUs2TyxXQUFXLFdBRXhCLENBR0EsT0FBQWIsQ0FBUWMsRUFBV0MsR0FDZixJQUFLL08sS0FBS3dOLFdBQVksT0FHdEIsTUFBTXdCLEVBQXVDLFlBQXJCRCxFQUFjcE0sR0FBbUIsVUFBWSxVQUVyRTNDLEtBQUs0TyxXQUFXSSxHQUNoQmhQLEtBQUs2TyxXQUFXRyxFQUNwQixDQUdBLFVBQUFKLENBQVdJLEdBQ1BoUCxLQUFLd04sWUFBYSxFQUdsQnhOLEtBQUs3QyxNQUFNOFIsT0FBT0MsS0FBSyxpQkFBa0IsQ0FDckNGLGdCQUFpQkEsRUFDakIxQixXQUFZdE4sS0FBS3NOLFdBQ2pCRCxjQUFlck4sS0FBS3FOLGVBRTVCLENBR0EsZUFBQThCLENBQWdCQyxFQUFRQyxFQUFhQyxHQUNqQyxNQUNNQyxFQUFnQixJQURUckosS0FBSzJILFNBQVcsSUFBTyxFQUFJLEdBSXhDLE1BQU8sQ0FBRXVCLE9BRlFsSixLQUFLbUUsSUFBSWdGLEVBQWFuSixLQUFLOEYsSUFBSXNELEVBQWFELEVBQWFELEVBQVNHLElBRXhEdEIsVUFBV3NCLEVBQzFDLENBR0EsZ0JBQUFDLENBQWlCQyxHQUNiLE1BRU1ILEVBQWF0UCxLQUFLN0MsTUFBTW1TLFlBQWN0UCxLQUFLN0MsTUFBTW9CLE9BQU9rRCxPQUFxQixFQUFaekIsS0FBS3lOLEtBQ3RFaUMsRUFBUSxDQUFDQyxFQUFPM0QsRUFBSzNCLElBQVFuRSxLQUFLbUUsSUFBSTJCLEVBQUs5RixLQUFLOEYsSUFBSTNCLEVBQUtzRixJQUUvRCxJQUFJUCxFQUFTcFAsS0FBS3lOLEtBQ2RtQyxFQUFpQixFQUlyQixHQUYyQyxZQUFsQkgsR0FBaUQsWUFBbEJBLEVBRWxDLENBQ2xCLE1BQU16RSxFQUFTaEwsS0FBSzdDLE1BQU1zTixTQUFTblAsSUFBTTBFLEtBQUs3QyxNQUFNc04sUUFBUW5QLElBQUltVSxHQUFpQixLQUd6RUwsRUFGSnBFLEdBQVFwTSxPQUNjLFlBQWxCNlEsRUFDU0MsRUFBTTFFLEVBQU9wTSxPQUFPWCxFQWJyQixHQWFxQytCLEtBQUt5TixLQWIxQyxJQWVDaUMsRUFBTTFFLEVBQU9wTSxPQUFPWCxFQUFHK0IsS0FBS3lOLEtBZjdCLEdBZWlENkIsRUFmakQsSUFrQmUsWUFBbEJHLEVBQThCelAsS0FBS3lOLEtBQU8sSUFBTXpOLEtBQUt5TixLQUFPLEdBRTdFLEtBQ0ssQ0FDRCxNQUFNb0MsRUFBUTdQLEtBQUttUCxnQkFBZ0JDLEVBdEJuQixHQXNCd0NFLEdBQ3hERixFQUFTUyxFQUFNVCxPQUNmUSxFQUFpQkMsRUFBTTVCLFNBQzNCLENBRUFqTyxLQUFLcEIsT0FBTytJLFlBQVl5SCxFQTVCVCxLQTZCZnBQLEtBQUtwQixPQUFPZ0osWUFBWWdJLEVBQWdCLEVBQzVDLENBR0EsVUFBQWYsQ0FBV1ksR0FDUHpQLEtBQUt3TixZQUFhLEVBQ2xCeE4sS0FBS3FOLGNBQWdCLEtBQ3JCck4sS0FBS3NOLFdBQWEsRUFDbEJ0TixLQUFLd1AsaUJBQWlCQyxHQUd0QnpQLEtBQUswTixZQUFjLEVBQ25CMU4sS0FBSzJOLGdCQUFrQixJQUMzQixDQUlBLE1BQUF4RixHQUNTbkksS0FBS3dOLGFBR054TixLQUFLcEIsT0FBT1gsRUFBSStCLEtBQUt5TixLQUFPLEdBQzVCek4sS0FBS3VOLFVBQVksT0FDVnZOLEtBQUtwQixPQUFPWCxFQUFJK0IsS0FBS3lOLEtBQU8sS0FDbkN6TixLQUFLdU4sVUFBWSxTQUV6QixFQzdPRyxNQUFNdUMsRUFFVCxXQUFBalEsR0FDSUcsS0FBS3lLLFFBQVUsSUFBSXNGLElBQ25CL1AsS0FBS2dRLFVBQVksSUFDckIsQ0FFQSxVQUFBQyxDQUFXeEYsR0FDUHpLLEtBQUt5SyxRQUFVQSxDQUNuQixDQUVBLFlBQUF5RixDQUFhRixHQUNUaFEsS0FBS2dRLFVBQVlBLENBQ3JCLENBRUEsT0FBQXBELENBQVF1RCxHQUNKQSxFQUFRaEYsU0FFWixFQ2xCRyxNQUFNaUYsRUFFVCxPQUFBakYsR0FBVyxDQUVYLFNBQUFrRixHQUFhLENBRWIsU0FBQUMsR0FBYSxFQ0ZWLE1BQU1DLFVBQTBCSCxFQUNuQyxXQUFBdlEsQ0FBWW1MLEVBQVF3RixHQUNoQjFRLFFBQ0FFLEtBQUtnTCxPQUFTQSxFQUNkaEwsS0FBS3dRLFVBQVlBLENBQ3JCLENBRUEsT0FBQXJGLEdBQ0ssT0FBUW5MLEtBQUt3USxXQUVWLElBQUssT0FDRHhRLEtBQUtnTCxPQUFPNUUsV0FDWixNQUVKLElBQUssUUFDRHBHLEtBQUtnTCxPQUFPekUsWUFDWixNQUVKLElBQUssV0FDRHZHLEtBQUtnTCxPQUFPeEUsV0FDWixNQUVKLElBQUssWUFDRHhHLEtBQUtnTCxPQUFPakUsWUFDWixNQUVKLElBQUssY0FDRC9HLEtBQUtnTCxPQUFPaEUsY0FDWixNQUVKLElBQUssZUFDRGhILEtBQUtnTCxPQUFPL0QsZUFDWixNQUVKLElBQUssV0FDRGpILEtBQUtnTCxPQUFPOUQsV0FDWixNQUdKLFFBQ0lsSCxLQUFLZ0wsT0FBTzdELFlBR3hCLENBR0EsU0FBQW1KLEdBQ0ksT0FBT3RRLEtBQUtnTCxPQUFPckksRUFDdkIsQ0FFQSxTQUFBME4sR0FDSSxNQUFPLENBQ0g5SCxLQUFNLG9CQUNOa0ksU0FBVXpRLEtBQUtnTCxPQUFPckksR0FDdEI2TixVQUFXeFEsS0FBS3dRLFVBRXhCLEVDbERHLE1BQU1FLFVBQW1CLFVBQzVCQyxZQUFjLEdBQ2RDLGVBQWlCNVEsS0FBSzJRLFlBQ3RCRSxVQUNBQyxXQUNBLFdBQUFqUixHQUNJQyxNQUFNLGFBQ1YsQ0FFQSxJQUFBaVIsQ0FBS0MsR0FDRGhSLEtBQUt5SyxRQUFVLElBQUlzRixJQUNuQi9QLEtBQUtpUixjQUFnQixHQUNyQmpSLEtBQUsyTSxpQkFBbUIsSUFBSW1ELEVBQzVCOVAsS0FBS2tSLFFBQVVGLEVBQUtFLFFBQ3BCbFIsS0FBS21SLFFBQVVILEVBQUtHLFFBQ3BCblIsS0FBS29SLGlCQUFtQkosRUFBS0ksaUJBQzdCcFIsS0FBS3FSLEtBQU8sS0FDWnJSLEtBQUtzUixRQUFVLEVBQ2Z0UixLQUFLdVIsUUFBVSxFQUNmdlIsS0FBS3dSLE9BQVMsRUFDZHhSLEtBQUt5UixPQUFTLEVBQ2R6UixLQUFLMFIsUUFBVSxFQUNmMVIsS0FBSzJSLFdBQWEsRUFDbEIzUixLQUFLNFIsZUFBZ0IsRUFDckI1UixLQUFLNlIsYUFBYyxDQUN2QixDQUVBLE9BQUE5UixHQUVJQyxLQUFLQyxLQUFLNlIsWUFDTixhQUNBLDJFQUNBLENBQUVDLFdBQVksR0FBSUMsWUFBYSxLQUVuQ2hTLEtBQUtDLEtBQUs2UixZQUNOLGFBQ0EsaUVBQ0EsQ0FBRUMsV0FBWSxHQUFJQyxZQUFhLEtBR25DaFMsS0FBS0MsS0FBSzZSLFlBQ04sYUFDQSwyRUFDQSxDQUFFQyxXQUFZLEdBQUlDLFlBQWEsS0FFbkNoUyxLQUFLQyxLQUFLNlIsWUFDTixhQUNBLGlFQUNBLENBQUVDLFdBQVksR0FBSUMsWUFBYSxLQUduQ2hTLEtBQUtDLEtBQUs2UixZQUNOLGFBQ0EsMkVBQ0EsQ0FBRUMsV0FBWSxHQUFJQyxZQUFhLEtBRW5DaFMsS0FBS0MsS0FBSzZSLFlBQ04sYUFDQSxpRUFDQSxDQUFFQyxXQUFZLEdBQUlDLFlBQWEsS0FJbkNoUyxLQUFLQyxLQUFLQyxNQUFNLE1BQU8sOEJBQ3ZCRixLQUFLQyxLQUFLQyxNQUFNLFFBQVMsMkJBQ3pCRixLQUFLQyxLQUFLQyxNQUFNLFNBQVUsNEJBRzFCRixLQUFLQyxLQUFLQyxNQUFNLE9BQVEsOENBQ3hCRixLQUFLQyxLQUFLQyxNQUFNLE9BQVEsOENBQ3hCRixLQUFLQyxLQUFLQyxNQUFNLFlBQWEseUNBQzdCRixLQUFLQyxLQUFLQyxNQUFNLGFBQWMseUNBQzlCRixLQUFLQyxLQUFLQyxNQUFNLFlBQWEsd0NBQzdCRixLQUFLQyxLQUFLQyxNQUFNLGVBQWdCLGlDQUdoQ0YsS0FBS0MsS0FBS0MsTUFBTSxPQUFRLHFDQUV4QkYsS0FBS0MsS0FBS0MsTUFBTSxNQUFPLHdCQUV2QkYsS0FBS0MsS0FBS0MsTUFBTSxRQUFTLDBCQUV6QkYsS0FBS0MsS0FBS0MsTUFBTSxlQUFnQixpQ0FHaENGLEtBQUtDLEtBQUtFLE1BQU0sY0FBZSxpREFDL0JILEtBQUtDLEtBQUtFLE1BQU0sYUFBYyw2Q0FDOUJILEtBQUtDLEtBQUtFLE1BQU0sZ0JBQWlCLDRDQUNqQ0gsS0FBS0MsS0FBS0UsTUFBTSxZQUFhLG9DQUM3QkgsS0FBS0MsS0FBS0UsTUFBTSxZQUFhLGdDQUVqQyxDQUVBLE1BQUFDLEdBRUksTUFBTSxNQUFFcUIsRUFBSyxPQUFFQyxHQUFXMUIsS0FBS3pCLE1BQy9CeUIsS0FBS3NQLFdBQWE3TixFQUNsQnpCLEtBQUtpUyxZQUFjdlEsRUFDbkIsTUFBTU4sRUFBUXBCLEtBQUtyQyxLQUFLQyxRQUFReUQsaUJBR2hDckIsS0FBSzZHLElBQU0sQ0FDUHFMLFFBQVMsY0FDVDlELE1BQU8sYUFDUEQsUUFBUyxnQkFDVHJILEtBQU0sWUFDTnFMLE1BQU8sYUFHWG5TLEtBQUs0RyxRQUFRNUcsS0FBSzZHLElBQUlxTCxTQUd0QmxTLEtBQUs2USxVQUFZN1EsS0FBS3JCLElBQUlLLEtBQUtnQixLQUFLekIsTUFBTWtELE1BQVEsRUFBRyxHQUFJLEdBQUksSUFDdERMLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxZQUVWdkMsVUFBVSxHQUFLLEdBQ2ZtVCxnQkFBZ0IsR0FDaEJ2USxTQUFTLE1BRVY3QixLQUFLcVMsVUFBWXJTLEtBQUtyQixJQUFJdUIsTUFBTUYsS0FBS3pCLE1BQU1rRCxNQUFRLEVBQUcsR0FBSSxTQUNyRHhDLFVBQVUsSUFDVkosU0FBUyxHQUNUdVQsZ0JBQWdCLEdBQ2hCdlEsU0FBUyxLQUdkN0IsS0FBS3NTLFNBQVd0UyxLQUFLckIsSUFBSXVCLE1BQU1GLEtBQUt6QixNQUFNa0QsTUFBUSxFQUFHLElBQUssZ0JBQ3JEeEMsVUFBVSxJQUNWSixTQUFTLEdBQ1RnRCxTQUFTLE1BR2Q3QixLQUFLc0ssUUFBVXRLLEtBQUtyQixJQUFJSyxLQUFLZ0IsS0FBS3pCLE1BQU1rRCxNQUFRLEVBQUcsSUFBSyxPQUFPekIsS0FBSzJSLGFBQWMsSUFDM0V2USxFQUNIRyxTQUFVLE9BQ1ZDLE1BQU8sWUFFVnZDLFVBQVUsSUFDVjRDLFNBQVMsTUFFVixNQUFNMFEsRUFBZ0J2UyxLQUFLc1MsU0FBU0UsYUFDOUJDLEVBQWlCelMsS0FBS3NTLFNBQVN2SyxjQUMvQjJLLEVBQVkxUyxLQUFLc1MsU0FBU3BVLEVBQUlnSSxLQUFLeU0sTUFBTUYsRUFBaUIsR0FBSyxHQUMvREcsRUFBa0IxTSxLQUFLeU0sTUFBc0IsSUFBaEJKLEdBSW5DdlMsS0FBSzZTLGtCQUFvQjdTLEtBQUtyQixJQUFJdUIsTUFBTUYsS0FBS3pCLE1BQU1rRCxNQUFRLEVBQUltUixFQUFpQkYsRUFBVyxnQkFDdEZ6VCxVQUFVLElBQ1ZKLFNBTHVCLEdBQ0EsS0FLdkJnRCxTQUFTLE1BRWQ3QixLQUFLOFMsbUJBQXFCOVMsS0FBS3JCLElBQUl1QixNQUFNRixLQUFLekIsTUFBTWtELE1BQVEsRUFBSW1SLEVBQWlCRixFQUFXLGdCQUN2RnpULFVBQVUsSUFDVkosU0FWdUIsR0FDQSxLQVV2QmdELFNBQVMsTUFFZDdCLEtBQUsrUyxhQUFlL1MsS0FBS3JCLElBQUlLLEtBQUtnQixLQUFLekIsTUFBTWtELE1BQVEsRUFBSW1SLEVBQWlCRixFQUFXLEdBQUcxUyxLQUFLd1IsU0FBVSxJQUNoR3BRLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxZQUVWdkMsVUFBVSxJQUNWNEMsU0FBUyxNQUVWN0IsS0FBS2dULGNBQWdCaFQsS0FBS3JCLElBQUlLLEtBQUtnQixLQUFLekIsTUFBTWtELE1BQVEsRUFBSW1SLEVBQWlCRixFQUFXLEdBQUcxUyxLQUFLeVIsU0FBVSxJQUNqR3JRLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxZQUVWdkMsVUFBVSxJQUNWNEMsU0FBUyxNQUdWN0IsS0FBS2lULGNBQWdCalQsS0FBS3JCLElBQUlLLEtBQUtnQixLQUFLekIsTUFBTWtELE1BQVEsRUFBRyxJQUFLLEdBQUksSUFDM0RMLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxVQUNQK0IsT0FBUSxVQUNSQyxnQkFBaUIsSUFFcEJ2RSxVQUFVLElBQ1Y0QyxTQUFTLE1BQ1Q0QixZQUFXLEdBR1p6RCxLQUFLOFEsV0FBYTlRLEtBQUt5RyxLQUFLeU0sU0FBUyxDQUNqQ2hILE1BQU8sSUFDUGlILFNBQVVuVCxLQUFLb1QsWUFDZkMsY0FBZXJULEtBQ2ZNLE1BQU0sSUFHVk4sS0FBS29ULGNBR0xwVCxLQUFLckIsSUFBSXVCLE1BQU11QixFQUFRLEVBQUdDLEVBQVMsRUFBRzFCLEtBQUtvUixrQkFDdENuUyxVQUFVLElBQ1Y2QyxlQUFlTCxFQUFPQyxHQUN0QkcsVUFBVSxHQUdmLE1BQU15UixFQUFNdFQsS0FBS2dGLFFBQVFyRyxJQUFJNFUsYUFBYTlSLEVBQVEsRUFBR0MsRUFBUyxJQUFLLE9BQU83QyxTQUFTLElBRTdFMlUsRUFBYXhULEtBQUt5VCxTQUFTblksSUFBSSxPQUFPb1ksaUJBQzVDSixFQUFJck8sS0FBS0MsUUFBMkIsR0FBbkJzTyxFQUFXL1IsTUFBaUMsR0FBcEIrUixFQUFXOVIsUUFDcEQ0UixFQUFJck8sS0FBSzBPLFdBQVdMLEVBQUlyTyxLQUFLeEQsTUFBTSxHQUFJNlIsRUFBSXJPLEtBQUt2RCxPQUFPLEdBQ3ZENFIsRUFBSXJPLEtBQUsyTyx1QkFDVDVULEtBQUtzVCxJQUFNQSxFQUVYdFQsS0FBSzZULG9CQUlMN1QsS0FBSzhULFdBQWEsRUFDbEI5VCxLQUFLK1QsWUFBYyxFQUVuQi9ULEtBQUtnVSxlQUFpQmhVLEtBQUtyQixJQUFJdUIsTUFBTSxJQUFLLEdBQUksZ0JBQWdCckIsU0FBUyxHQUFLLEtBQU1JLFVBQVUsSUFDNUZlLEtBQUtpVSxnQkFBa0JqVSxLQUFLckIsSUFBSXVCLE1BQU1GLEtBQUtzUCxXQUFhLElBQUssR0FBSSxnQkFBZ0J6USxTQUFTLEdBQUssS0FBTUksVUFBVSxJQUUvR2UsS0FBS2tVLFVBQVlsVSxLQUFLckIsSUFBSUssS0FBSyxJQUFLLEdBQUksSUFBSyxJQUN0Q29DLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxjQUNSdkMsVUFBVSxJQUFLNEMsU0FBUyxNQUUzQjdCLEtBQUttVSxXQUFhblUsS0FBS3JCLElBQUlLLEtBQUtnQixLQUFLc1AsV0FBYSxJQUFLLEdBQUksSUFBSyxJQUN6RGxPLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxjQUNSdkMsVUFBVSxJQUFLNEMsU0FBUyxNQU0zQjdCLEtBQUtvVSxhQUZnQixHQUdyQnBVLEtBQUtnRyxRQUFVaEcsS0FBS2lTLFlBRkMsR0FJckIsTUFBTW9DLEVBQVNyVSxLQUFLckIsSUFBSTJWLFVBQ3BCdFUsS0FBS3NQLFdBQWEsRUFDbEJ0UCxLQUFLZ0csUUFDTGhHLEtBQUtzUCxXQVJZLElBVW5CclEsVUFBVSxHQUFLLEdBQUd3RSxZQUFXLEdBRS9CekQsS0FBS2dGLFFBQVFyRyxJQUFJNFYsU0FBU0YsR0FBUSxHQUdsQ3JVLEtBQUt3VSxpQkFHTHhVLEtBQUt5VSxtQkFBbUJKLEdBRXhCclUsS0FBSzBVLHNCQUdMMVUsS0FBS2dOLFNBQVcsR0FDaEJoTixLQUFLMlUsWUFBYyxFQUduQjNVLEtBQUs0VSxtQkFBcUIsQ0FFdEJDLFdBQVksS0FDWkMsV0FBWSxJQUNaQyxRQUFTLENBQ0wxUyxVQUFXLEVBQ1hDLFdBQVksRUFDWkMsVUFBVyxFQUNYQyxLQUFNLEVBQ05DLEtBQU0sR0FFVnVTLFdBQVksQ0FHUnpTLFVBQVcsTUFHbkJ2QyxLQUFLaVYsbUJBQXFCLENBQUMsRUFFM0JqVixLQUFLa1YsWUFBYyxDQUNmaEUsUUFBUyxDQUNMbFIsS0FBS3JCLElBQUl1QixNQUFNLEdBQUksR0FBSSxRQUFRckIsU0FBUyxLQUFLNEUsWUFBVyxHQUFPNUIsU0FBUyxHQUN4RTdCLEtBQUtyQixJQUFJdUIsTUFBTSxJQUFLLEdBQUksUUFBUXJCLFNBQVMsS0FBSzRFLFlBQVcsR0FBTzVCLFNBQVMsSUFFN0VzUCxRQUFTLENBQ0xuUixLQUFLckIsSUFBSXVCLE1BQU1GLEtBQUtzUCxXQUFhLElBQUssR0FBSSxRQUFRelEsU0FBUyxLQUFLNEUsWUFBVyxHQUFPNUIsU0FBUyxHQUMzRjdCLEtBQUtyQixJQUFJdUIsTUFBTUYsS0FBS3NQLFdBQWEsR0FBSSxHQUFJLFFBQVF6USxTQUFTLEtBQUs0RSxZQUFXLEdBQU81QixTQUFTLEtBSWxHN0IsS0FBS21WLHVCQUdMblYsS0FBS29WLGdCQUFrQixDQUNuQmxFLFFBQVMsQ0FDTGxSLEtBQUtyQixJQUFJdUIsTUFBTSxHQUFJLEdBQUksZ0JBQWdCckIsU0FBUyxHQUFHSSxVQUFVLElBQUs0QyxTQUFTLEdBQzNFN0IsS0FBS3JCLElBQUl1QixNQUFNLElBQUssR0FBSSxnQkFBZ0JyQixTQUFTLEdBQUdJLFVBQVUsSUFBSzRDLFNBQVMsSUFFaEZzUCxRQUFTLENBQ0xuUixLQUFLckIsSUFBSXVCLE1BQU1GLEtBQUtzUCxXQUFhLElBQUssR0FBSSxnQkFBZ0J6USxTQUFTLEdBQUdJLFVBQVUsSUFBSzRDLFNBQVMsR0FDOUY3QixLQUFLckIsSUFBSXVCLE1BQU1GLEtBQUtzUCxXQUFhLEdBQUksR0FBSSxnQkFBZ0J6USxTQUFTLEdBQUdJLFVBQVUsSUFBSzRDLFNBQVMsS0FLckc3QixLQUFLcVYsY0FFTHJWLEtBQUtxUixLQUFLN0IsbUJBRVZ4UCxLQUFLc1YsdUJBRUx0VixLQUFLdVYsbUJBRUx2VixLQUFLWSxNQUFNNFUsU0FBU25XLEdBQUcsY0FBZSxLQUVsQ1csS0FBSzdDLE1BQU1zWSxRQUNYelYsS0FBSzhRLFdBQVc0RSxRQUFTLEVBQ3pCMVYsS0FBSzdDLE1BQU13WSxPQUFPLGlCQUl0QjNWLEtBQUtZLE1BQU00VSxTQUFTblcsR0FBRyxZQUFhLEtBQ2hDLE1BQU11VyxFQUFTNVYsS0FBS3NSLFNBQVd0UixLQUFLdVIsUUFBVSxVQUFZLFVBQzFEdlIsS0FBSzZWLFNBQVNELEtBRWxCNVYsS0FBS2lQLE9BQU81UCxHQUFHLFNBQVUsS0FDckJXLEtBQUs4USxXQUFXNEUsUUFBUyxHQUVqQyxDQUdBLG9CQUFBUCxHQUNJLE1BQU0sV0FBRU4sRUFBVSxXQUFFQyxHQUFlOVUsS0FBSzRVLG1CQUNsQzFJLEVBQVEsU0FBWTRKLFFBQVFqQixFQUFZQyxHQUU5QzlVLEtBQUt5RyxLQUFLOEYsWUFBWUwsRUFBTyxLQUN6QixHQUFJbE0sS0FBS2dOLFNBQVN4RSxPQUFTeEksS0FBSzJVLFlBQWEsQ0FDekMsTUFBTTFXLEVBQUksU0FBWTZYLFFBQVEsR0FBSTlWLEtBQUtzUCxXQUFhLElBQzlDcFIsRUFBSSxTQUFZNFgsUUFBUTlWLEtBQUtpUyxZQUFjLElBQUtqUyxLQUFLaVMsWUFBYyxLQUVuRTFKLEVBQU92SSxLQUFLK1YsMEJBQ2xCLEdBQUl4TixFQUFNLENBQ04sTUFBTXlOLEVBQVUsSUFBSTVLLEVBQVFwTCxLQUFNL0IsRUFBR0MsRUFBR3FLLEdBQ3hDdkksS0FBS2dOLFNBQVN2RSxLQUFLdU4sR0FDbkJoVyxLQUFLaVYsbUJBQW1CMU0sR0FBUXZJLEtBQUt5RyxLQUFLQyxHQUM5QyxDQUNKLENBRUExRyxLQUFLbVYsd0JBRWIsQ0FHQSx1QkFBQVksR0FDSSxNQUFNLFFBQUVoQixFQUFPLFdBQUVDLEdBQWVoVixLQUFLNFUsbUJBRS9CbE8sRUFBTTFHLEtBQUt5RyxLQUFLQyxJQUNoQnVQLEVBQVU5YSxPQUFPOGEsUUFBUWxCLEdBQVM5SCxPQUFPLEVBQUUxRSxFQUFNMk4sTUFHbkQsR0FBSUEsR0FBVSxFQUFHLE9BQU8sRUFFeEIsTUFBTUMsRUFBV25CLElBQWF6TSxHQUM5QixJQUFLNE4sRUFBVSxPQUFPLEVBQ3RCLE1BQU1DLEVBQU9wVyxLQUFLaVYscUJBQXFCMU0sSUFBUyxFQUNoRCxPQUFPN0IsRUFBTTBQLEdBQVFELElBSXpCLElBQUtGLEVBQVF6TixPQUFRLE9BQU8sS0FHNUIsTUFBTTZOLEVBQVFKLEVBQVFLLE9BQU8sQ0FBQ0MsR0FBTSxDQUFFTCxLQUFZSyxFQUFNTCxFQUFRLEdBQ2hFLElBQUlNLEVBQU8sU0FBWVYsUUFBUSxFQUFHTyxHQUVsQyxJQUFLLE1BQU85TixFQUFNMk4sS0FBV0QsRUFHekIsR0FGQU8sR0FBUU4sRUFFSk0sR0FBUSxFQUVSLE9BREE5VixRQUFRK0wsSUFBSSxvQ0FBcUNsRSxHQUMxQ0EsRUFLZixPQUFPME4sRUFBUUEsRUFBUXpOLE9BQVMsR0FBRyxFQUN2QyxDQUdBLE9BQUE1QixDQUFRM0wsR0FDQ0EsR0FFTCtFLEtBQUt4QyxNQUFNTyxLQUFLOUMsRUFBSyxDQUFFd0MsT0FBUVYsS0FDbkMsQ0FHQSxNQUFBb0wsR0FFSW5JLEtBQUt5Vyw0QkFFTHpXLEtBQUt5SyxRQUFRMEIsUUFBUW5CLEdBQVVBLEVBQU9oQyxrQkFFbENoSixLQUFLcVIsT0FDTHJSLEtBQUtxUixLQUFLbEosU0FHTm5JLEtBQUtxUixLQUFLN0QsWUFBY3hOLEtBQUtxUixLQUFLelMsT0FBT1YsRUFBSThCLEtBQUtnRyxTQUNsRGhHLEtBQUtxUixLQUFLNUMsY0FHVnpPLEtBQUtxUixLQUFLelMsT0FBT1gsRUFBSSxLQUErQixVQUF4QitCLEtBQUtxUixLQUFLOUQsV0FFL0J2TixLQUFLcVIsS0FBS3pTLE9BQU9YLEVBQUksS0FBK0IsU0FBeEIrQixLQUFLcVIsS0FBSzlELFlBRDdDdk4sS0FBS3FSLEtBQUs3QyxXQUt0QixDQUdBLFdBQUE0RSxHQUNJcFQsS0FBSzRRLGlCQUdMLE1BQU04RixFQUFVeFEsS0FBS3lRLE1BQU0zVyxLQUFLNFEsZUFBaUIsSUFDM0NnRyxFQUFXNVcsS0FBSzRRLGVBQWlCLEdBQ2pDaUcsRUFBVSxHQUFHSCxFQUFRSSxXQUFXQyxTQUFTLEVBQUcsUUFBUUgsRUFBU0UsV0FBV0MsU0FBUyxFQUFHLE9BRTFGL1csS0FBSzZRLFVBQVV2RyxRQUFRdU0sR0FFbkI3VyxLQUFLNFEsZ0JBQWtCLElBQ3ZCNVEsS0FBSzhRLFdBQVc0RSxRQUFTLEVBQ3pCaFYsUUFBUStMLElBQUksa0JBRVJ6TSxLQUFLc1IsUUFBVXRSLEtBQUt1UixRQUFTdlIsS0FBS2dYLFFBQVEsV0FDckNoWCxLQUFLdVIsUUFBVXZSLEtBQUtzUixRQUFTdFIsS0FBS2dYLFFBQVEsWUFFL0N0VyxRQUFRK0wsSUFBSSxvQkFDWnpNLEtBQUs0UixlQUFnQixFQUNqQjVSLEtBQUtpVCxnQkFDTGpULEtBQUtpVCxjQUFjM0ksUUFBUSx3QkFDM0J0SyxLQUFLaVQsY0FBY3hQLFlBQVcsS0FJOUMsQ0FFQSxnQkFBQXdULEdBQ1FqWCxLQUFLK1MsY0FBYy9TLEtBQUsrUyxhQUFhekksUUFBUXRLLEtBQUt3UixPQUFPc0YsWUFDekQ5VyxLQUFLZ1QsZUFBZWhULEtBQUtnVCxjQUFjMUksUUFBUXRLLEtBQUt5UixPQUFPcUYsV0FDbkUsQ0FHQSx1QkFBQWpLLENBQXdCN0IsR0FDcEIsTUFBTWtNLEVBQUtsWCxLQUFLa1YsWUFBWWxLLEVBQU9ySSxJQUVuQyxJQUFLLElBQUl3VSxFQUFJLEVBQUdBLEVBQUksRUFBR0EsSUFDZm5NLEVBQU90SCxpQkFBaUJ5VCxJQUN4QkQsRUFBR0MsR0FBR2hZLFdBQVc2TCxFQUFPdEgsaUJBQWlCeVQsSUFDekNELEVBQUdDLEdBQUcxVCxZQUFXLElBRWpCeVQsRUFBR0MsR0FBRzFULFlBQVcsRUFHN0IsQ0FJQSxpQkFBQW9RLEdBRUk3VCxLQUFLaUksTUFBTTdILE9BQU8sQ0FDZG5GLElBQUssa0JBQ0xtYyxPQUFRcFgsS0FBS2lJLE1BQU1vUCxxQkFBcUIsYUFBYyxDQUFFcFYsTUFBTyxFQUFHcVYsSUFBSyxJQUN2RUMsVUFBVyxFQUNYdk4sUUFBUyxJQUViaEssS0FBS2lJLE1BQU03SCxPQUFPLENBQ2RuRixJQUFLLGlCQUNMbWMsT0FBUXBYLEtBQUtpSSxNQUFNb1AscUJBQXFCLGFBQWMsQ0FBRXBWLE1BQU8sR0FBSXFWLElBQUssS0FBTUUsVUFDOUVELFVBQVcsRUFDWHZOLFFBQVMsSUFHYmhLLEtBQUtpSSxNQUFNN0gsT0FBTyxDQUNkbkYsSUFBSyxxQkFDTG1jLE9BQVFwWCxLQUFLaUksTUFBTW9QLHFCQUFxQixhQUFjLENBQUVwVixNQUFPLEVBQUdxVixJQUFLLEtBQ3ZFQyxVQUFXLEdBQ1h2TixPQUFRLElBRVpoSyxLQUFLaUksTUFBTTdILE9BQU8sQ0FDZG5GLElBQUssb0JBQ0xtYyxPQUFRcFgsS0FBS2lJLE1BQU1vUCxxQkFBcUIsYUFBYyxDQUFFcFYsTUFBTyxHQUFJcVYsSUFBSyxLQUFNRSxVQUM5RUQsVUFBVyxHQUNYdk4sT0FBUSxJQUdaaEssS0FBS2lJLE1BQU03SCxPQUFPLENBQ2RuRixJQUFLLGlCQUNMbWMsT0FBUXBYLEtBQUtpSSxNQUFNb1AscUJBQXFCLGFBQWMsQ0FBRXBWLE1BQU8sR0FBSXFWLElBQUssS0FDeEVDLFVBQVcsR0FDWHZOLFFBQVMsSUFFYmhLLEtBQUtpSSxNQUFNN0gsT0FBTyxDQUNkbkYsSUFBSyxnQkFDTG1jLE9BQVFwWCxLQUFLaUksTUFBTW9QLHFCQUFxQixhQUFjLENBQUVwVixNQUFPLEdBQUlxVixJQUFLLEtBQU1FLFVBQzlFRCxVQUFXLEdBQ1h2TixRQUFTLElBR2JoSyxLQUFLaUksTUFBTTdILE9BQU8sQ0FDZG5GLElBQUssa0JBQ0xtYyxPQUFRcFgsS0FBS2lJLE1BQU1vUCxxQkFBcUIsYUFBYyxDQUFFcFYsTUFBTyxFQUFHcVYsSUFBSyxLQUN2RUMsVUFBVyxHQUNYdk4sT0FBUSxJQUVaaEssS0FBS2lJLE1BQU03SCxPQUFPLENBQ2RuRixJQUFLLGlCQUNMbWMsT0FBUXBYLEtBQUtpSSxNQUFNb1AscUJBQXFCLGFBQWMsQ0FBRXBWLE1BQU8sR0FBSXFWLElBQUssS0FBTUUsVUFDOUVELFVBQVcsR0FDWHZOLE9BQVEsSUFLWmhLLEtBQUtpSSxNQUFNN0gsT0FBTyxDQUNkbkYsSUFBSyxrQkFDTG1jLE9BQVFwWCxLQUFLaUksTUFBTW9QLHFCQUFxQixhQUFjLENBQUVwVixNQUFPLEVBQUdxVixJQUFLLElBQ3ZFQyxVQUFXLEVBQ1h2TixRQUFTLElBRWJoSyxLQUFLaUksTUFBTTdILE9BQU8sQ0FDZG5GLElBQUssaUJBQ0xtYyxPQUFRcFgsS0FBS2lJLE1BQU1vUCxxQkFBcUIsYUFBYyxDQUFFcFYsTUFBTyxHQUFJcVYsSUFBSyxLQUFNRSxVQUM5RUQsVUFBVyxFQUNYdk4sUUFBUyxJQUdiaEssS0FBS2lJLE1BQU03SCxPQUFPLENBQ2RuRixJQUFLLHFCQUNMbWMsT0FBUXBYLEtBQUtpSSxNQUFNb1AscUJBQXFCLGFBQWMsQ0FBRXBWLE1BQU8sRUFBR3FWLElBQUssS0FDdkVDLFVBQVcsR0FDWHZOLE9BQVEsSUFFWmhLLEtBQUtpSSxNQUFNN0gsT0FBTyxDQUNkbkYsSUFBSyxvQkFDTG1jLE9BQVFwWCxLQUFLaUksTUFBTW9QLHFCQUFxQixhQUFjLENBQUVwVixNQUFPLEdBQUlxVixJQUFLLEtBQU1FLFVBQzlFRCxVQUFXLEdBQ1h2TixPQUFRLElBR1poSyxLQUFLaUksTUFBTTdILE9BQU8sQ0FDZG5GLElBQUssaUJBQ0xtYyxPQUFRcFgsS0FBS2lJLE1BQU1vUCxxQkFBcUIsYUFBYyxDQUFFcFYsTUFBTyxHQUFJcVYsSUFBSyxLQUN4RUMsVUFBVyxHQUNYdk4sUUFBUyxJQUViaEssS0FBS2lJLE1BQU03SCxPQUFPLENBQ2RuRixJQUFLLGdCQUNMbWMsT0FBUXBYLEtBQUtpSSxNQUFNb1AscUJBQXFCLGFBQWMsQ0FBRXBWLE1BQU8sR0FBSXFWLElBQUssS0FBTUUsVUFDOUVELFVBQVcsR0FDWHZOLFFBQVMsSUFHYmhLLEtBQUtpSSxNQUFNN0gsT0FBTyxDQUNkbkYsSUFBSyxrQkFDTG1jLE9BQVFwWCxLQUFLaUksTUFBTW9QLHFCQUFxQixhQUFjLENBQUVwVixNQUFPLEVBQUdxVixJQUFLLEtBQ3ZFQyxVQUFXLEdBQ1h2TixPQUFRLElBRVpoSyxLQUFLaUksTUFBTTdILE9BQU8sQ0FDZG5GLElBQUssaUJBQ0xtYyxPQUFRcFgsS0FBS2lJLE1BQU1vUCxxQkFBcUIsYUFBYyxDQUFFcFYsTUFBTyxHQUFJcVYsSUFBSyxLQUFNRSxVQUM5RUQsVUFBVyxHQUNYdk4sT0FBUSxJQUtaaEssS0FBS2lJLE1BQU03SCxPQUFPLENBQ2RuRixJQUFLLGtCQUNMbWMsT0FBUXBYLEtBQUtpSSxNQUFNb1AscUJBQXFCLGFBQWMsQ0FBRXBWLE1BQU8sRUFBR3FWLElBQUssSUFDdkVDLFVBQVcsRUFDWHZOLFFBQVMsSUFFYmhLLEtBQUtpSSxNQUFNN0gsT0FBTyxDQUNkbkYsSUFBSyxpQkFDTG1jLE9BQVFwWCxLQUFLaUksTUFBTW9QLHFCQUFxQixhQUFjLENBQUVwVixNQUFPLEdBQUlxVixJQUFLLEtBQU1FLFVBQzlFRCxVQUFXLEVBQ1h2TixRQUFTLElBR2JoSyxLQUFLaUksTUFBTTdILE9BQU8sQ0FDZG5GLElBQUsscUJBQ0xtYyxPQUFRcFgsS0FBS2lJLE1BQU1vUCxxQkFBcUIsYUFBYyxDQUFFcFYsTUFBTyxFQUFHcVYsSUFBSyxLQUN2RUMsVUFBVyxHQUNYdk4sT0FBUSxJQUVaaEssS0FBS2lJLE1BQU03SCxPQUFPLENBQ2RuRixJQUFLLG9CQUNMbWMsT0FBUXBYLEtBQUtpSSxNQUFNb1AscUJBQXFCLGFBQWMsQ0FBRXBWLE1BQU8sR0FBSXFWLElBQUssS0FBTUUsVUFDOUVELFVBQVcsR0FDWHZOLE9BQVEsSUFHWmhLLEtBQUtpSSxNQUFNN0gsT0FBTyxDQUNkbkYsSUFBSyxpQkFDTG1jLE9BQVFwWCxLQUFLaUksTUFBTW9QLHFCQUFxQixhQUFjLENBQUVwVixNQUFPLEdBQUlxVixJQUFLLEtBQ3hFQyxVQUFXLEdBQ1h2TixRQUFTLElBRWJoSyxLQUFLaUksTUFBTTdILE9BQU8sQ0FDZG5GLElBQUssZ0JBQ0xtYyxPQUFRcFgsS0FBS2lJLE1BQU1vUCxxQkFBcUIsYUFBYyxDQUFFcFYsTUFBTyxHQUFJcVYsSUFBSyxLQUFNRSxVQUM5RUQsVUFBVyxHQUNYdk4sUUFBUyxJQUdiaEssS0FBS2lJLE1BQU03SCxPQUFPLENBQ2RuRixJQUFLLGtCQUNMbWMsT0FBUXBYLEtBQUtpSSxNQUFNb1AscUJBQXFCLGFBQWMsQ0FBRXBWLE1BQU8sRUFBR3FWLElBQUssS0FDdkVDLFVBQVcsR0FDWHZOLE9BQVEsSUFFWmhLLEtBQUtpSSxNQUFNN0gsT0FBTyxDQUNkbkYsSUFBSyxpQkFDTG1jLE9BQVFwWCxLQUFLaUksTUFBTW9QLHFCQUFxQixhQUFjLENBQUVwVixNQUFPLEdBQUlxVixJQUFLLEtBQU1FLFVBQzlFRCxVQUFXLEdBQ1h2TixPQUFRLEdBR2hCLENBR0EsY0FBQXdLLEdBQ0ksTUFBTWlELEVBQVN6WCxLQUFLa1IsUUFBUXdHLFVBQ3RCQyxFQUFTM1gsS0FBS21SLFFBQVF1RyxVQUV0QkUsRUFBSyxJQUFJbFYsRUFDWDFDLEtBQ0EsVUFDa0IsSUFBbEJBLEtBQUtzUCxXQUNMdFAsS0FBS2dHLFFBQVUsSUFDZnlSLEdBR0VJLEVBQUssSUFBSW5WLEVBQ1gxQyxLQUNBLFVBQ2tCLElBQWxCQSxLQUFLc1AsV0FDTHRQLEtBQUtnRyxRQUFVLElBQ2YyUixHQUdKM1gsS0FBS3lLLFFBQVFxTixJQUFJLFVBQVdGLEdBQzVCNVgsS0FBS3lLLFFBQVFxTixJQUFJLFVBQVdELEdBRzVCLE1BR01FLEVBQWM3UixLQUFLeVEsTUFBTTNXLEtBQUtnRyxTQUtwQzRSLEVBQUd4USxVQUgwQixHQUdNLElBUmxCLEdBUXVEMlEsR0FHeEVGLEVBQUd6USxVQUFVLElBQTJCcEgsS0FBS3NQLFdBTmhCLEdBTFosR0FXeUV5SSxHQUUxRi9YLEtBQUsyTSxpQkFBaUJzRCxXQUFXalEsS0FBS3lLLFNBQ3RDekssS0FBSzJNLGlCQUFpQnVELGFBQWFsUSxNQUduQzRYLEVBQUd6USxZQUNIMFEsRUFBRzNRLFVBQ1AsQ0FHQSxrQkFBQXVOLENBQW1CSixHQUNmclUsS0FBS3lLLFFBQVEwQixRQUFRbkIsSUFFakJoTCxLQUFLZ0YsUUFBUXJHLElBQUlxWixTQUFTaE4sRUFBT3BNLE9BQVF5VixHQUd6Q3JVLEtBQUtnRixRQUFRckcsSUFBSXFaLFNBQVNoTixFQUFPcE0sT0FBUW9CLEtBQUtzVCxJQUFLLEtBQy9DNVMsUUFBUStMLElBQUksR0FBR3pCLEVBQU9ySSxtQkFDdEJxSSxFQUFPcE0sT0FBT3lILGFBQWEsTUFHdkMsQ0FHQSxtQkFBQXFPLEdBc0JJMVUsS0FBS2lSLGNBckJlLENBRWhCLENBQ0lSLFNBQVUsVUFDVndILFFBQVMsSUFDVEMsU0FBVSxJQUNWQyxRQUFTLElBQ1RDLFdBQVksSUFDWkMsU0FBVSxLQUdkLENBQ0k1SCxTQUFVLFVBQ1Z3SCxRQUFTLElBQ1RDLFNBQVUsSUFDVkMsUUFBUyxJQUNUQyxXQUFZLElBQ1pDLFNBQVUsTUFJZUMsSUFBSXZULElBQzFCLENBQ0gwTCxTQUFVMUwsRUFBTzBMLFNBQ2pCOEgsV0FBWXZZLEtBQUtZLE1BQU00VSxTQUFTZ0QsT0FDNUIsVUFBYUMsU0FBU0MsU0FBUzNULEVBQU9rVCxVQUUxQ1UsWUFBYTNZLEtBQUtZLE1BQU00VSxTQUFTZ0QsT0FDN0IsVUFBYUMsU0FBU0MsU0FBUzNULEVBQU9tVCxXQUUxQ1UsV0FBWTVZLEtBQUtZLE1BQU00VSxTQUFTZ0QsT0FDNUIsVUFBYUMsU0FBU0MsU0FBUzNULEVBQU9vVCxVQUUxQ1UsY0FBZTdZLEtBQUtZLE1BQU00VSxTQUFTZ0QsT0FDL0IsVUFBYUMsU0FBU0MsU0FBUzNULEVBQU9xVCxhQUUxQ1UsWUFBYTlZLEtBQUtZLE1BQU00VSxTQUFTZ0QsT0FDN0IsVUFBYUMsU0FBU0MsU0FBUzNULEVBQU9zVCxhQUl0RCxDQUdBLHlCQUFBNUIsR0FDSXpXLEtBQUtpUixjQUFjOUUsUUFBUTRNLElBQ3ZCLE1BQU0vTixFQUFTaEwsS0FBS3lLLFFBQVFuUCxJQUFJeWQsRUFBUXRJLFVBQ3hDLElBQUt6RixFQUFRLE9BR2IsR0FBSUEsRUFBTy9ILFlBQWEsQ0FDcEIsTUFBTStWLEVBQTZCLFNBQWxCaE8sRUFBTzVGLE9BQXFCLFdBQWEsWUFJMUQsWUFIQXBGLEtBQUsyTSxpQkFBaUJDLFFBQ2xCLElBQUkyRCxFQUFrQnZGLEVBQVFnTyxHQUd0QyxDQUVBLElBQUl4SSxFQXVCSixHQW5CSUEsRUFEQXVJLEVBQVFSLFdBQVdVLE9BQ1AsT0FFUEYsRUFBUUosWUFBWU0sT0FDYixRQUltQixTQUFsQmpPLEVBQU81RixPQUFxQixXQUFZLFlBS3BENEYsRUFBTzFGLFdBQ1J0RixLQUFLMk0saUJBQWlCQyxRQUNsQixJQUFJMkQsRUFBa0J2RixFQUFRd0YsSUFLbEMsVUFBYWlJLFNBQVNTLFNBQVNILEVBQVFGLGVBQWdCLENBQ3ZELE1BQU1NLEVBQWdDLFNBQWxCbk8sRUFBTzVGLE9BQXFCLGNBQWdCLGVBQ2hFcEYsS0FBSzJNLGlCQUFpQkMsUUFDbEIsSUFBSTJELEVBQWtCdkYsRUFBUW1PLEdBRXRDLENBR0EsR0FBSSxVQUFhVixTQUFTUyxTQUFTSCxFQUFRSCxZQUFhLENBQ3BELE1BQU1RLEVBQTZCLFNBQWxCcE8sRUFBTzVGLE9BQXFCLFdBQWEsWUFDMURwRixLQUFLMk0saUJBQWlCQyxRQUNsQixJQUFJMkQsRUFBa0J2RixFQUFRb08sR0FFdEMsQ0FHSSxVQUFhWCxTQUFTUyxTQUFTSCxFQUFRRCxlQUN2QzlOLEVBQU90QyxpQkFDUDFJLEtBQUs2TSx3QkFBd0I3QixNQUtyQ2hMLEtBQUt5SyxRQUFRMEIsUUFBUW5CLEdBQVVBLEVBQU83QyxTQUMxQyxDQUdBLFdBQUFrTixHQUNJclYsS0FBS3FSLEtBQU8sSUFBSW5FLEVBQUtsTixLQUFNQSxLQUFLc1AsV0FBYSxFQUFHLElBQ3BELENBR0Esb0JBQUFnRyxHQUVJdFYsS0FBS3lLLFFBQVEwQixRQUFRbkIsSUFDakJoTCxLQUFLZ0YsUUFBUXJHLElBQUkwTixRQUNick0sS0FBS3FSLEtBQUt6UyxPQUNWb00sRUFBT3BNLE9BQ1AsSUFBTW9CLEtBQUtxWix1QkFBdUJyWixLQUFLcVIsS0FBTXJHLEdBQzdDLEtBQ0FoTCxRQUtSQSxLQUFLZ0YsUUFBUXJHLElBQUlxWixTQUFTaFksS0FBS3FSLEtBQUt6UyxPQUFRb0IsS0FBS3NULElBQUssS0FFbEQ1UyxRQUFRK0wsSUFBSSwwQkFHWnpNLEtBQUtxUixLQUFLelMsT0FBT3lILGFBQWdELEdBQW5DckcsS0FBS3FSLEtBQUt6UyxPQUFPcUcsS0FBS3FVLFNBQVNyYixHQUM3RCtCLEtBQUtxUixLQUFLelMsT0FBTytILGFBQWdELEdBQW5DM0csS0FBS3FSLEtBQUt6UyxPQUFPcUcsS0FBS3FVLFNBQVNwYixLQUlqRDhCLEtBQUtpUyxZQUNyQmpTLEtBQUtxUixLQUFLelMsT0FBT3dPLHVCQUFzQixHQUN2Q3BOLEtBQUtxUixLQUFLelMsT0FBT3VPLFVBQVUsR0FDL0IsQ0FHQSxnQkFBQW9JLEdBQ0l2VixLQUFLaVAsT0FBTzVQLEdBQUcsaUJBQW1CMlIsSUFDOUIsR0FBSWhSLEtBQUs2UixZQUFhLE9BQ3RCblIsUUFBUStMLElBQUksb0JBQW9CdUUsRUFBS2hDLDJCQUNyQyxNQUFNdUssRUFBV3ZJLEVBQUtoQyxnQkFHaEJTLEVBQWdCelAsS0FBS3lLLFFBQVFuUCxJQUFJaWUsR0FJakNDLEVBSGEvSixHQUFpQkEsRUFBY3BNLGlCQUF3QixFQXNCMUUsR0FqQmlCLFlBQWJrVyxHQUVBdlosS0FBSzhULFlBQWMwRixFQUNuQnhaLEtBQUtrVSxVQUFVNUosUUFBUXRLLEtBQUs4VCxXQUFXZ0QsWUFHdkM5VyxLQUFLc1IsU0FBV2tJLEdBRUUsWUFBYkQsSUFDTHZaLEtBQUsrVCxhQUFleUYsRUFDcEJ4WixLQUFLbVUsV0FBVzdKLFFBQVF0SyxLQUFLK1QsWUFBWStDLFlBRXpDOVcsS0FBS3VSLFNBQVdpSSxHQUdwQnhaLEtBQUs0RyxRQUFRNUcsS0FBSzZHLElBQUlzTCxPQUVsQm5TLEtBQUs0UixjQUdMLE9BRkE1UixLQUFLNFIsZUFBZ0IsT0FDckI1UixLQUFLZ1gsUUFBUXVDLEdBTWpCdlosS0FBS3laLHNCQUViLENBR0EsZ0JBQUFDLENBQWlCQyxFQUFZM08sRUFBUTFGLEVBQVczQixHQUM1QyxNQUFNc0IsRUFBTytGLEVBQU9wTSxPQUFPcUcsS0FDM0IsSUFBS0EsRUFBTSxPQUFPLEVBRWxCLE1BQU0yVSxFQUFRRCxFQUFXMWIsRUFDbkI0YixFQUFRRixFQUFXemIsRUFDbkI0YixFQUFVN1UsRUFBSy9HLEVBQ2Y2YixFQUFhOVUsRUFBS3ZELE9BQ2xCc1ksRUFBYy9VLEVBQUtoSCxFQUFpQixHQUFiZ0gsRUFBS3hELE1BRTVCd1ksRUFBTzNVLEVBQ1AsQ0FBRWlDLEtBQU0sR0FBS0MsT0FBUSxJQUNwQjdELEVBQWMsQ0FBRTRELElBQUssSUFBTUMsT0FBUSxLQUFTLENBQUVELElBQUssSUFBTUMsT0FBUSxLQUt4RSxHQUFJcVMsRUFIWUMsRUFBVUMsRUFBYUUsRUFBSzFTLEtBR3JCc1MsRUFGSkMsRUFBVUMsRUFBYUUsRUFBS3pTLE9BRzNDLE9BQU8sRUFHWCxNQUFNMFMsRUFBZ0MsVUFBbEJsUCxFQUFPNUYsT0FDckIrVSxFQUFVeFcsR0FBZTJCLEVBQ3pCOFUsRUFBZW5WLEVBQUt4RCxPQUFTMFksRUFBVSxHQUFNLEtBQzdDRSxFQUFZcFYsRUFBS3hELE9BQVMwWSxFQUFVLElBQU8sS0FJakQsUUFBSVAsR0FIU00sRUFBY0YsRUFBY0ssRUFBWUwsRUFBY0ksSUFHL0NSLEdBRlBNLEVBQWNGLEVBQWNJLEVBQWVKLEVBQWNLLEdBSzFFLENBR0Esc0JBQUFoQixDQUF1QmhJLEVBQU1yRyxHQUN6QixJQUFLcUcsRUFBSzdELFdBQVksT0FFdEIsTUFBTWxJLEdBQWEwRixFQUFPcE0sT0FBT3FHLEtBQUtVLFFBQVFDLEtBQ3hDakMsRUFBY3FILEVBQU9ySCxZQUNyQjJXLEVBQWtCdFAsRUFBTzVGLE9BRTFCcEYsS0FBSzBaLGlCQUFpQnJJLEVBQUt6UyxPQUFRb00sRUFBUTFGLEVBQVczQixJQUkzRDBOLEVBQUt2RCxJQUFJOUMsRUFBUXNQLEVBQWlCaFYsRUFBVzNCLEVBQ2pELENBR0EsUUFBQWtTLENBQVNELEdBRUQ1VixLQUFLOFEsYUFDTDlRLEtBQUs4USxXQUFXL0QsUUFBTyxHQUN2Qi9NLEtBQUs4USxXQUFhLE1BSXRCOVEsS0FBSzRHLFFBQVE1RyxLQUFLNkcsSUFBSXFMLFNBR2xCbFMsS0FBS2dGLFNBQVdoRixLQUFLZ0YsUUFBUXVWLE9BQzdCdmEsS0FBS2dGLFFBQVF1VixNQUFNOUUsUUFHdkJ6VixLQUFLN0MsTUFBTThFLE1BQU0sZ0JBQWlCLENBQzlCMlQsT0FBUUEsRUFDUjFFLFFBQVNsUixLQUFLa1IsUUFDZEMsUUFBU25SLEtBQUttUixTQUV0QixDQUdBLGtCQUFBc0ksR0FDSSxNQUlNZSxFQUFZeGEsS0FBS3NSLFFBQVV0UixLQUFLdVIsUUFJdEMsR0FIaUJyTCxLQUFLbUUsSUFBSXJLLEtBQUtzUixRQUFTdFIsS0FBS3VSLFNBTDNCLElBUVVyTCxLQUFLQyxJQUFJcVUsR0FQckIsRUFRWixPQUlKLE1BQU01RSxFQUFTNEUsRUFBWSxFQUFJLFVBQVksVUFDM0N4YSxLQUFLZ1gsUUFBUXBCLEVBQ2pCLENBR0EsT0FBQW9CLENBQVFwQixHQUNKLEdBQUk1VixLQUFLNlIsWUFBYSxPQUN0QjdSLEtBQUs2UixhQUFjLEVBQ2Y3UixLQUFLcVIsTUFBTXpTLFNBQ1hvQixLQUFLcVIsS0FBSzdELFlBQWEsRUFDdkJ4TixLQUFLcVIsS0FBS3pTLE9BQU9nSixZQUFZLEVBQUcsSUFHckIsWUFBWGdPLEVBQXNCNVYsS0FBS3dSLFNBQ1gsWUFBWG9FLEdBQXNCNVYsS0FBS3lSLFNBRXBDL1EsUUFBUStMLElBQUksaUNBQWlDek0sS0FBS3dSLGNBQWN4UixLQUFLeVIsVUFFckV6UixLQUFLaVgsbUJBR0wsTUFBTXdELEVBQTBCLFlBQVg3RSxFQUF3QixZQUFjLFlBQzNENVYsS0FBS2lULGNBQWMzSSxRQUFRLFlBQVltUSxLQUN2Q3phLEtBQUtpVCxjQUFjeFAsWUFBVyxHQUc5QnpELEtBQUsyUixhQUU4QixJQUFoQjNSLEtBQUt3UixRQUFnQyxJQUFoQnhSLEtBQUt5UixPQUl6Q3pSLEtBQUt5RyxLQUFLOEYsWUFBWSxJQUFNLEtBRXhCdk0sS0FBSzZWLFNBQVNELEtBSWxCNVYsS0FBS3lHLEtBQUs4RixZQUFZLElBQU0sS0FDcEJ2TSxLQUFLaVQsZUFDTGpULEtBQUtpVCxjQUFjeFAsWUFBVyxHQUVsQ3pELEtBQUswYSxhQUdqQixDQUdBLFNBQUFBLEdBQ0kxYSxLQUFLNlIsYUFBYyxFQUNuQjdSLEtBQUs0UixlQUFnQixFQUVyQjVSLEtBQUtzSyxRQUFRQSxRQUFRLE9BQU90SyxLQUFLMlIsY0FHakMzUixLQUFLNFEsZUFBaUI1USxLQUFLMlEsWUFDM0IzUSxLQUFLOFEsV0FBVzRFLFFBQVMsRUFDekIxVixLQUFLb1QsY0FHTHBULEtBQUtzUixRQUFVLEVBQ2Z0UixLQUFLdVIsUUFBVSxFQUdmdlIsS0FBSzhULFdBQWEsRUFDbEI5VCxLQUFLK1QsWUFBYyxFQUNuQi9ULEtBQUtrVSxVQUFVNUosUUFBUSxLQUN2QnRLLEtBQUttVSxXQUFXN0osUUFBUSxLQUd4QnRLLEtBQUtxUixLQUFLeEMsYUFHVixNQUFNK0ksRUFBSzVYLEtBQUt5SyxRQUFRblAsSUFBSSxXQUN0QnVjLEVBQUs3WCxLQUFLeUssUUFBUW5QLElBQUksV0FFNUJzYyxFQUFHalEsWUFBOEIsSUFBbEIzSCxLQUFLc1AsV0FBc0MsR0FBbkJ0UCxLQUFLaVMsYUFDNUM0RixFQUFHbFEsWUFBOEIsSUFBbEIzSCxLQUFLc1AsV0FBc0MsR0FBbkJ0UCxLQUFLaVMsYUFFNUMyRixFQUFHelEsWUFDSDBRLEVBQUczUSxXQUVIbEgsS0FBSzRHLFFBQVE1RyxLQUFLNkcsSUFBSXFMLFFBQzFCLEVDL2hDRyxNQUFNeUksVUFBdUIsVUFDaEMsV0FBQTlhLEdBQ0lDLE1BQU0sa0JBR05FLEtBQUs0YSxVQUFZLEVBQ2pCNWEsS0FBS2tDLFlBQWMsWUFDdkIsQ0FFQSxJQUFBNk8sQ0FBS0MsR0FFRGhSLEtBQUtrQyxZQUFjOE8sR0FBTTlPLGFBQWUsWUFDNUMsQ0FFQSxPQUFBbkMsR0FFSUMsS0FBS0MsS0FBS0MsTUFBTSxpQkFBa0Isc0NBQ2xDRixLQUFLQyxLQUFLQyxNQUFNLFdBQVksZ0NBQzVCRixLQUFLQyxLQUFLQyxNQUFNLGNBQWUsbUNBQy9CRixLQUFLQyxLQUFLQyxNQUFNLGVBQWdCLG9DQUNoQ0YsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLGtDQUc5QkYsS0FBS0MsS0FBS0MsTUFBTSxRQUFTLGdDQUN6QkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLHNDQUNuQyxDQUVBLE1BQUFFLEdBQ0ksTUFBTSxNQUFFcUIsRUFBSyxPQUFFQyxHQUFXMUIsS0FBS3pCLE1BQ3pCb0QsRUFBVUYsRUFBUSxFQUVsQkwsRUFBUSxJQUNOcEIsS0FBS3JDLEtBQUtDLFNBQVN5RCxrQkFBb0IsQ0FDdkNDLFdBQVksUUFDWkMsU0FBVSxPQUNWQyxNQUFPLFlBSWZ0RSxFQUFrQjhDLE1BR2xCQSxLQUFLckIsSUFDQXVCLE1BQU0sRUFBRyxFQUFHLFNBQ1pqQixVQUFVLEdBQ1Y0QyxVQUFVLEdBQ1ZDLGVBQWVMLEVBQU9DLEdBRzNCMUIsS0FBSzZhLGNBQWdCN2EsS0FBS3JCLElBQ3JCSyxLQUFLMkMsRUFBa0IsR0FBVEQsRUFBYyxXQUFZLElBQ2xDTixFQUNIRyxTQUFVLE9BQ1ZDLE1BQU8sY0FFVnZDLFVBQVUsSUFHZlEsRUFBaUJPLEtBQU0sQ0FDbkIvQixFQUFXLElBQVJ3RCxFQUNIdkQsRUFBWSxJQUFUd0QsRUFDSGhDLFFBQVMsY0FDVG5CLE1BQU8sRUFDUG9CLFdBQVksSUFDWnZCLFFBQVMsSUFBTTRCLEtBQUs3QyxNQUFNOEUsTUFBTWpDLEtBQUtrQyxlQUl6Q2xDLEtBQUs0YSxVQUFZLEVBQ2pCNWEsS0FBSzhhLE1BQVEsQ0FDVCxDQUFFN2YsSUFBSyxpQkFBa0I4ZixNQUFPLGFBQ2hDLENBQUU5ZixJQUFLLFdBQVk4ZixNQUFPLHVCQUMxQixDQUFFOWYsSUFBSyxjQUFlOGYsTUFBTywwQkFDN0IsQ0FBRTlmLElBQUssZUFBZ0I4ZixNQUFPLDZCQUM5QixDQUFFOWYsSUFBSyxhQUFjOGYsTUFBTyx1QkFJaEMsTUFBTUMsRUFBYzlVLEtBQUttRSxJQUFJLEVBQUduRSxLQUFLeU0sTUFBZ0MsS0FBMUJ6TSxLQUFLOEYsSUFBSXZLLEVBQU9DLEtBQ3JEdVosRUFBVy9VLEtBQUttRSxJQUFJLEVBQUduRSxLQUFLeU0sTUFBZSxLQUFUalIsSUFDbEN3WixFQUFnQixJQUFUeFosRUFFUHlaLEVBQVduYixLQUFLNmEsY0FBYzNjLEVBQUk4QixLQUFLNmEsY0FBY25aLE9BQVN1WixFQUM5REcsRUFBY0YsRUFBT0QsRUFDckJJLEVBQWNuVixLQUFLbUUsSUFBSSxFQUFHK1EsRUFBY0QsR0FDeENHLEVBQWFwVixLQUFLbUUsSUFBSSxFQUFHNUksRUFBc0IsRUFBZHVaLEdBRXZDaGIsS0FBS3ViLE9BQVMsQ0FDVkosV0FDQUUsY0FDQUMsY0FJSnRiLEtBQUt3YixXQUFheGIsS0FBS3JCLElBQUl1QixNQUN2QnlCLEVBQ0F3WixFQUFXRSxFQUFjLEVBQ3pCcmIsS0FBSzhhLE1BQU0sR0FBRzdmLEtBRWxCK0UsS0FBS3liLFVBQVV6YixLQUFLd2IsV0FBWUYsRUFBWUQsR0FHNUNyYixLQUFLMGIsY0FBZ0IxYixLQUFLckIsSUFBSUssS0FBSzJDLEVBQVN1WixFQUFPLEdBQUksR0FBSSxJQUNwRDlaLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxTQUNSdkMsVUFBVSxJQUdiLE1BQU0rQyxFQUFrQixJQUFLWixFQUFPRyxTQUFVLE9BQVFDLE1BQU8sV0FFN0R4RCxFQUFlZ0MsS0FBTSxDQUNqQi9CLEVBQUcwRCxFQUFVLElBQ2J6RCxFQUFHZ2QsRUFBTyxHQUNWL2MsTUFBTyxXQUNQQyxRQUFTLElBQU00QixLQUFLMmIsT0FDcEJuZCxVQUFXd0QsRUFDWHZELGNBQWUsZ0JBR25CVCxFQUFlZ0MsS0FBTSxDQUNqQi9CLEVBQUcwRCxFQUFVLElBQ2J6RCxFQUFHZ2QsRUFBTyxHQUNWL2MsTUFBTyxZQUNQQyxRQUFTLElBQU00QixLQUFLNGIsT0FDcEJwZCxVQUFXd0QsRUFDWHZELGNBQWUsZ0JBR25CdUIsS0FBSzZiLFlBQ1QsQ0FFQSxTQUFBSixDQUFVSyxFQUFLQyxFQUFNQyxHQUNqQixNQUFNemQsRUFBUTJILEtBQUs4RixJQUFJK1AsRUFBT0QsRUFBSXJhLE1BQU91YSxFQUFPRixFQUFJcGEsUUFDcERvYSxFQUFJamQsU0FBU04sRUFDakIsQ0FFQSxVQUFBc2QsR0FDSSxNQUFNL1EsRUFBSTlLLEtBQUs4YSxNQUFNOWEsS0FBSzRhLFdBQzFCNWEsS0FBSzZhLGNBQWN2USxRQUFRUSxFQUFFaVEsT0FBUyxZQUN0Qy9hLEtBQUt3YixXQUFXcmMsV0FBVzJMLEVBQUU3UCxLQUM3QitFLEtBQUt5YixVQUFVemIsS0FBS3diLFdBQVl4YixLQUFLdWIsT0FBT0QsV0FBWXRiLEtBQUt1YixPQUFPRixhQUNwRXJiLEtBQUswYixjQUFjcFIsUUFBUSxHQUFHdEssS0FBSzRhLFVBQVksUUFBUTVhLEtBQUs4YSxNQUFNdFMsU0FDdEUsQ0FFQSxJQUFBb1QsR0FDUTViLEtBQUs0YSxVQUFZNWEsS0FBSzhhLE1BQU10UyxPQUFTLElBQ3JDeEksS0FBSzRhLFlBQ0w1YSxLQUFLNmIsYUFFYixDQUVBLElBQUFGLEdBQ1EzYixLQUFLNGEsVUFBWSxJQUNqQjVhLEtBQUs0YSxZQUNMNWEsS0FBSzZiLGFBRWIsRUM3SkcsTUFBTUksVUFBNEIsVUFDckMsV0FBQXBjLEdBQ0lDLE1BQU0sdUJBRU5FLEtBQUtrYyxrQkFBb0IsS0FDekJsYyxLQUFLbWMsZ0JBQWtCLEtBQ3ZCbmMsS0FBS29jLG1CQUFxQixJQUM5QixDQUVBLE9BQUFyYyxHQUVJQyxLQUFLQyxLQUFLQyxNQUFNLGNBQWUsdUNBQy9CRixLQUFLQyxLQUFLQyxNQUFNLFFBQVMsZ0NBR3pCRixLQUFLQyxLQUFLRSxNQUFNLGNBQWUsZ0NBQ25DLENBRUEsTUFBQUMsR0FDSSxNQUFNLE1BQUVxQixFQUFLLE9BQUVDLEdBQVcxQixLQUFLekIsTUFDekJvRCxFQUFVRixFQUFRLEVBQ2xCTCxFQUFRcEIsS0FBS3JDLEtBQUtDLFFBQVF5RCxpQkFHaENyQixLQUFLckIsSUFBSXVCLE1BQU0sRUFBRyxFQUFHLFNBQ2hCakIsVUFBVSxHQUNWNEMsVUFBVSxHQUNWQyxlQUFlTCxFQUFPQyxHQUczQjFCLEtBQUtyQixJQUFJSyxLQUFLMkMsRUFBa0IsR0FBVEQsRUFBYyxnQkFBaUIsSUFDL0NOLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxjQUNSdkMsVUFBVSxJWkpkLFNBQW1DOUMsRUFBZSxHQUNyRCxNQUFNa2dCLEVBQWtELE9BQXpDemYsYUFBYUMsUUFBUWhCLEdBQzlCeWdCLEVBQXNELE9BQTNDMWYsYUFBYUMsUUFBUWYsR0FFdEMsR0FBSXVnQixHQUFVQyxFQUFVLE9BRXhCLE1BQU1DLEVBZFYsU0FBeUJwZ0IsRUFBZSxHQUNwQyxNQUFNRCxFQUFNVSxhQUFhQyxRQUFRYixHQUNqQyxPQUFZLE9BQVJFLEVBQXFCLEtBRWxCRCxFQUFrQkMsRUFBS0MsRUFDbEMsQ0FTeUJxZ0IsQ0FBZ0JyZ0IsR0FDL0JzZ0IsRUFBZ0JGLEdBQWdCQSxFQUFlLEVBQUlBLEVBQWVwZ0IsRUFFbkVrZ0IsR0FBUXpmLGFBQWE4ZixRQUFRN2dCLEVBQWdCVSxPQUFPa2dCLElBQ3BESCxHQUFVMWYsYUFBYThmLFFBQVE1Z0IsRUFBa0JTLE9BQU9rZ0IsR0FDakUsQ1lKUUUsR0FDQSxNQUFNQyxFQUFzQjNmLElBQ3RCNGYsRUFBcUI3ZixJQUNyQjhmLEVBQW1CL2YsSUFHekJHLEVBQWtCOEMsTUFHbEIsTUFDTStjLEVBQXNCLElBQVRyYixFQUNic2IsRUFBNEIsSUFBVHRiLEVBRW5CdWIsRUFBYXZiLEVBQVMsR0FEUixFQUFpQnFiLEVBQWFDLEdBQ0YsRUFFMUNFLEVBQWVELEVBQ2ZFLEVBQWdCRCxFQUFlRixFQUMvQkksRUFBY0gsRUFBWUYsRUFDMUJNLEVBQWVELEVBQWNKLEVBQzdCTSxFQUFZTCxFQUEwQixFQUFiRixFQUN6QlEsRUFBYUQsRUFBWU4sRUFHL0JoZCxLQUFLckIsSUFBSUssS0FBSzJDLEVBQVN1YixFQUFjLGtCQUFtQixJQUNqRDliLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxTQUNSdkMsVUFBVSxJQUdiZSxLQUFLb2MsbUJBQXFCcGMsS0FBS3JCLElBQUk2ZSxJQUFJN2IsRUFBU3diLEdBQzNDTSxlQUFlLDBEQUEwRGIscUdBRzlFNWMsS0FBS29jLG1CQUFtQnNCLFlBQVksU0FDcEMxZCxLQUFLb2MsbUJBQW1CL2MsR0FBRyxRQUFVc2UsSUFDM0JBLEVBQU1DLGtCQUFrQkMsbUJaZG5DLFNBQStCcGdCLEdBQ2xDLE1BQU1yQixFQUFJLFNBQVlLLE1BQU1KLE9BQU9vQixHQUFTLEVBQUcsR0FDL0NiLGFBQWE4ZixRQUFRM2dCLEVBQW1CUSxPQUFPSCxHQUVuRCxDWVdZMGhCLENBQXNCSCxFQUFNQyxPQUFPak8sT0FDbkN6UyxFQUFrQjhDLFNBS3RCQSxLQUFLckIsSUFBSUssS0FBSzJDLEVBQVN5YixFQUFhLGlCQUFrQixJQUMvQ2hjLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxTQUNSdkMsVUFBVSxJQUdiZSxLQUFLa2Msa0JBQW9CbGMsS0FBS3JCLElBQ3pCNmUsSUFBSTdiLEVBQVMwYixHQUNiSSxlQUFlLDBEQUEwRFosa0hBSTlFN2MsS0FBS2tjLGtCQUFrQndCLFlBQVksU0FDbkMxZCxLQUFLa2Msa0JBQWtCN2MsR0FBRyxRQUFVc2UsSUFDaEMsTUFBTUMsRUFBU0QsRUFBTUMsT0FDZkEsYUFBa0JDLG1CWnRCN0IsU0FBOEJwZ0IsR0FDakMsTUFBTXJCLEVBQUksU0FBWUssTUFBTUosT0FBT29CLEdBQVMsRUFBRyxHQUMvQ2IsYUFBYThmLFFBQVE1Z0IsRUFBa0JTLE9BQU9ILEdBR2xELENZbUJZMmhCLENBQXFCSCxFQUFPak8sT0FDNUJ6UyxFQUFrQjhDLFNBSXRCQSxLQUFLckIsSUFBSUssS0FBSzJDLEVBQVMyYixFQUFXLGtCQUFtQixJQUM5Q2xjLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxTQUNSdkMsVUFBVSxJQUdiZSxLQUFLbWMsZ0JBQWtCbmMsS0FBS3JCLElBQ3ZCNmUsSUFBSTdiLEVBQVM0YixHQUNiRSxlQUFlLDBEQUEwRFgsa0hBSTlFOWMsS0FBS21jLGdCQUFnQnVCLFlBQVksU0FDakMxZCxLQUFLbWMsZ0JBQWdCOWMsR0FBRyxRQUFVc2UsSUFDOUIsTUFBTUMsRUFBU0QsRUFBTUMsT0FDZkEsYUFBa0JDLG1CWnJEN0IsU0FBNEJwZ0IsR0FDL0IsTUFBTXJCLEVBQUksU0FBWUssTUFBTUosT0FBT29CLEdBQVMsRUFBRyxHQUMvQ2IsYUFBYThmLFFBQVE3Z0IsRUFBZ0JVLE9BQU9ILEdBR2hELENZa0RZNGhCLENBQW1CSixFQUFPak8sT0FDMUJ6UyxFQUFrQjhDLFNBR3RCQSxLQUFLbWMsZ0JBQWdCdUIsWUFBWSxVQUNqQzFkLEtBQUttYyxnQkFBZ0I5YyxHQUFHLFNBQVdzZSxJQUUvQjdmLEVBQVVrQyxLQUFNLGlCQUtwQlAsRUFBaUJPLEtBQU0sQ0FDbkIvQixFQUFXLElBQVJ3RCxFQUNIdkQsRUFBWSxJQUFUd0QsRUFDSGhDLFFBQVMsY0FDVG5CLE1BQU8sRUFDUG9CLFdBQVksSUFDWnZCLFFBQVMsSUFBTTRCLEtBQUs3QyxNQUFNOEUsTUFBTSxnQkFLcENqQyxLQUFLaVAsT0FBT3BPLEtBQUssV0FBY29kLE9BQU9DLFNBQVUsS0FDeENsZSxLQUFLa2Msb0JBQ0xsYyxLQUFLa2Msa0JBQWtCaUMscUJBQ3ZCbmUsS0FBS2tjLGtCQUFrQjFQLFVBQ3ZCeE0sS0FBS2tjLGtCQUFvQixNQUV6QmxjLEtBQUttYyxrQkFDTG5jLEtBQUttYyxnQkFBZ0JnQyxxQkFDckJuZSxLQUFLbWMsZ0JBQWdCM1AsVUFDckJ4TSxLQUFLbWMsZ0JBQWtCLE1BRXZCbmMsS0FBS29jLHFCQUNMcGMsS0FBS29jLG1CQUFtQitCLHFCQUN4Qm5lLEtBQUtvYyxtQkFBbUI1UCxVQUN4QnhNLEtBQUtvYyxtQkFBcUIsT0FHdEMsRUNsS0csTUFBTWdDLFVBQXNCLFVBQy9CLFdBQUF2ZSxHQUNJQyxNQUFNLGdCQUNWLENBRUEsT0FBQUMsR0FFSUMsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLHVDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxxQkFBc0Isb0NBQ3RDRixLQUFLQyxLQUFLQyxNQUFNLE9BQVEsZ0NBQ3hCRixLQUFLQyxLQUFLQyxNQUFNLFFBQVMsZ0RBR3pCRixLQUFLQyxLQUFLRSxNQUFNLGNBQWUsZ0NBQ25DLENBRUEsTUFBQUMsR0FDSSxNQUFNLE1BQUVxQixFQUFLLE9BQUVDLEdBQVcxQixLQUFLekIsTUFHekI2QyxFQUFRcEIsS0FBS3JDLEtBQUtDLFNBQVN5RCxrQkFBb0IsQ0FDakRDLFdBQVksUUFDWkMsU0FBVSxPQUNWQyxNQUFPLFdBSVh4QixLQUFLckIsSUFBSXVCLE1BQU0sRUFBRyxFQUFHLHNCQUNoQmpCLFVBQVUsR0FDVjRDLFVBQVUsR0FDVkMsZUFBZUwsRUFBT0MsR0FHM0IxQixLQUFLckIsSUFBSTJWLFVBQVUsRUFBRyxFQUFHN1MsRUFBT0MsRUFBUSxFQUFVLElBQzdDekMsVUFBVSxHQUNWNEMsVUFBVSxHQUdmLE1BQU13YyxFQUFnQixDQUNsQiwwQkFDQSxxQkFDQSx3QkFDQSxzQkFDQSx5QkFJRUMsRUFBb0IsSUFBUjdjLEVBQ1o4YyxFQUFzQixJQUFUN2MsRUFDYjhjLEVBQWdCLElBQVIvYyxFQUNSZ2QsRUFBaUIsSUFBVC9jLEVBRUQxQixLQUFLckIsSUFDYjJWLFVBQVVrSyxFQUFPQyxFQUFPSCxFQUFXQyxFQUFZLFFBQVUsSUFDekR0ZixVQUFVLElBQ1Z5ZixlQUFlLEVBQUcsU0FBVSxJQUVqQyxNQUNNQyxFQUFTRixFQURLLElBQ0tKLEVBQWM3VixPQUFTLEdBQW9CLEVBRXBFNlYsRUFBY2xTLFFBQVEsQ0FBQ3lTLEVBQVF6SCxLQUMzQixNQUFNMEgsRUFBaUIsSUFBTjFILEVBQ2pCblgsS0FBS3JCLElBQ0FLLEtBQUt3ZixFQUFPRyxFQU5ELEdBTVV4SCxFQUFpQnlILEVBQVEsSUFDeEN4ZCxFQUNIRSxXQUFZLFFBQ1pDLFNBQVVzZCxFQUFXLE9BQVMsT0FDOUJyZCxNQUFPcWQsRUFBVyxVQUFZLFlBRWpDNWYsVUFBVSxNQUluQmUsS0FBS3JCLElBQUlLLEtBQUt3ZixFQUFnQixHQUFUOWMsRUFBYyxXQUFZLElBQ3BDTixFQUNIRyxTQUFVLE9BQ1ZDLE1BQU8sWUFFVnZDLFVBQVUsSUFHZixNQUFNNmYsRUFBUU4sRUFDUk8sRUFBUU4sRUFBU0YsRUFBYSxFQUFjLElBQVQ3YyxFQUFnQixFQUN6RDFCLEtBQUtyQixJQUNBdUIsTUFBTTRlLEVBQU9DLEVBQU8sUUFDcEI5ZixVQUFVLElBQ1ZKLFNBQVMsSUFHZFksRUFBaUJPLEtBQU0sQ0FDbkIvQixFQUFXLElBQVJ3RCxFQUNIdkQsRUFBWSxJQUFUd0QsRUFDSGhDLFFBQVMsY0FDVG5CLE1BQU8sRUFDUG9CLFdBQVksSUFDWnZCLFFBQVMsSUFBTTRCLEtBQUs3QyxNQUFNOEUsTUFBTSxlQUV4QyxFQ2pHRyxNQUFNK2MsVUFBc0IsVUFDL0IsV0FBQW5mLEdBQ0lDLE1BQU0sZ0JBQ1YsQ0FFQSxJQUFBaVIsQ0FBS0MsR0FDRGhSLEtBQUs0VixPQUFTNUUsRUFBSzRFLE9BQ25CNVYsS0FBS2tSLFFBQVVGLEVBQUtFLFFBQ3BCbFIsS0FBS21SLFFBQVVILEVBQUtHLE9BQ3hCLENBQ0EsT0FBQXBSLEdBRUlDLEtBQUtDLEtBQUtDLE1BQU0sUUFBUyxnQ0FDekJGLEtBQUtDLEtBQUtDLE1BQU0sb0JBQXFCLG1EQUNyQ0YsS0FBS0MsS0FBS0MsTUFBTSxzQkFBdUIsc0NBR3ZDRixLQUFLQyxLQUFLRSxNQUFNLGNBQWUsaUNBRy9CSCxLQUFLQyxLQUFLNlIsWUFDTixhQUNBLDREQUNBLENBQUNDLFdBQVcsSUFBSUMsWUFBYSxNQUNqQ2hTLEtBQUtDLEtBQUs2UixZQUNOLGFBQ0EsNERBQ0EsQ0FBQ0MsV0FBVyxJQUFJQyxZQUFhLE1BQ2pDaFMsS0FBS0MsS0FBSzZSLFlBQ04sYUFDQSw0REFDQSxDQUFDQyxXQUFXLElBQUlDLFlBQWEsS0FDckMsQ0FFQSxNQUFBNVIsR0FDSUosS0FBSzZULG9CQUNMLE1BQU0sTUFBRXBTLEVBQUssT0FBRUMsR0FBVzFCLEtBQUt6QixNQUN6QjZDLEVBQVFwQixLQUFLckMsS0FBS0MsUUFBUXlELGlCQUUxQm9XLEVBQVN6WCxLQUFLa1IsUUFBUStOLEtBQ3RCQyxFQUFXbGYsS0FBS2tSLFFBQVF3RyxVQUN4QkMsRUFBUzNYLEtBQUttUixRQUFROE4sS0FDdEJFLEVBQVduZixLQUFLbVIsUUFBUXVHLFVBRzlCMVgsS0FBS3JCLElBQUl1QixNQUFNLEVBQUcsRUFBRyxTQUFTakIsVUFBVSxHQUFHNEMsVUFBVSxHQUdyRDdCLEtBQUtyQixJQUFJSyxLQUFLeUMsRUFBUSxFQUFZLElBQVRDLEVBQWUsb0JBQXFCLElBQ3RETixFQUNIRyxTQUFVLE9BQ1ZDLE1BQU8sY0FDUnZDLFVBQVUsSUFFYixNQUFNbWdCLEVBQXVCLElBQVQxZCxFQUNkMmQsRUFBc0IsSUFBVDNkLEVBQ2I0ZCxFQUFtQixHQUFUNWQsRUFDVjZkLEVBQXdCLEdBQVI5ZCxFQUdoQitkLEVBQ2MsWUFBaEJ4ZixLQUFLNFYsT0FDQyxnQkFBa0I2QixFQUNsQixnQkFBa0JFLEVBTzVCLElBQUk4SCxFQUxKemYsS0FBS3JCLElBQUlLLEtBQUt5QyxFQUFRLEVBQUcyZCxFQUFhSSxFQUFZLElBQzNDcGUsRUFDSEcsU0FBVSxPQUNWQyxNQUFPLGNBQ1J2QyxVQUFVLElBSVR3Z0IsRUFEZ0IsWUFBaEJ6ZixLQUFLNFYsT0FDYXNKLEVBRUFDLEVBRXRCLE1BQU1uWCxFQUFVLFlBQVl5WCxJQUc1QnpmLEtBQUswZixpQkFBbUIxZixLQUFLckIsSUFBSWdoQixVQUFVbGUsRUFBUSxFQUFJOGQsRUFBZUYsR0FFdEUsTUFBTU8sRUFBZTVmLEtBQUtyQixJQUFJQyxPQUFPLEVBQUcsRUFBRyxZQUFZNmdCLEtBQ3ZERyxFQUFhL2dCLFNBQVMsSUFDdEIrZ0IsRUFBYTdoQixLQUFLaUssR0FHbEJoSSxLQUFLMGYsaUJBQWlCL2dCLElBQUlpaEIsR0FVMUI1aEIsRUFBZWdDLEtBQU0sQ0FDakIvQixFQUFHd0QsRUFBUSxFQUNYdkQsRUFBR29oQixFQUNIbmhCLE1BQU8saUJBQ1BDLFFBQVMsS0FDTDRCLEtBQUs3QyxNQUFNOEUsTUFBTSxlQUVyQnpELFVBWm9CLElBQ2pCNEMsRUFDSEcsU0FBVSxPQUNWQyxNQUFPLFdBVVAvQyxjQUFlLGVBRXZCLENBQ0EsaUJBQUFvVixHQUNJN1QsS0FBS2lJLE1BQU03SCxPQUFPLENBQ2RuRixJQUFLLGdCQUNMbWMsT0FBUXBYLEtBQUtpSSxNQUFNb1AscUJBQXFCLGFBQWMsQ0FBRXBWLE1BQU8sRUFBR3FWLElBQUssSUFDdkVDLFVBQVcsRUFDWHZOLFFBQVMsSUFHYmhLLEtBQUtpSSxNQUFNN0gsT0FBTyxDQUNkbkYsSUFBSyxnQkFDTG1jLE9BQVFwWCxLQUFLaUksTUFBTW9QLHFCQUFxQixhQUFjLENBQUVwVixNQUFPLEVBQUdxVixJQUFLLElBQ3ZFQyxVQUFXLEVBQ1h2TixRQUFTLElBR2JoSyxLQUFLaUksTUFBTTdILE9BQU8sQ0FDZG5GLElBQUssZ0JBQ0xtYyxPQUFRcFgsS0FBS2lJLE1BQU1vUCxxQkFBcUIsYUFBYyxDQUFFcFYsTUFBTyxFQUFHcVYsSUFBSyxJQUN2RUMsVUFBVyxFQUNYdk4sUUFBUyxHQUVqQixFQ2hJRyxNQUFNNlYsVUFBdUIsVUFDaEMsV0FBQWhnQixHQUNJQyxNQUFNLGlCQUNWLENBRUEsT0FBQUMsR0FFSUMsS0FBS0MsS0FBS0MsTUFBTSxvQkFBcUIsMkNBQ3JDRixLQUFLQyxLQUFLQyxNQUFNLHNCQUF1QiwrQ0FDdkNGLEtBQUtDLEtBQUtDLE1BQU0sY0FBZSx1Q0FHL0JGLEtBQUtDLEtBQUtDLE1BQU0sUUFBUyxnQ0FHekJGLEtBQUtDLEtBQUtFLE1BQU0sY0FBZSxnQ0FDbkMsQ0FFQSxNQUFBQyxHQUNJLE1BQU0sTUFBRXFCLEVBQUssT0FBRUMsR0FBVzFCLEtBQUt6QixNQUV6QjZDLEVBQVFwQixLQUFLckMsS0FBS0MsU0FBU3lELGtCQUFvQixDQUNqREMsV0FBWSxRQUNaQyxTQUFVLE9BQ1ZDLE1BQU8sV0FJWHRFLEVBQWtCOEMsTUFHbEJBLEtBQUtyQixJQUFJdUIsTUFBTSxFQUFHLEVBQUcsU0FDaEJqQixVQUFVLEdBQ1Y0QyxVQUFVLEdBQ1ZDLGVBQWVMLEVBQU9DLEdBRzNCMUIsS0FBS3JCLElBQ0FLLEtBQUt5QyxFQUFRLEVBQVksSUFBVEMsRUFBZSxnQkFBaUIsSUFDMUNOLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxjQUVWdkMsVUFBVSxJQUdmLE1BQU1xZ0IsRUFBbUIsR0FBVDVkLEVBQ1ZvZSxFQUFVNVosS0FBSzhGLElBQUksSUFBYSxHQUFSdkssR0FDeEJzZSxFQUFTdGUsRUFBUSxFQUFJcWUsRUFBVSxFQUUvQjlkLEVBQWtCLElBQ2pCWixFQUNIRyxTQUFVLE9BQ1ZDLE1BQU8sV0FHTHdlLEVBQWFDLElBQ2ZqZ0IsS0FBS2tnQixTQUFTcEksSUFBSSxPQUFRbUksR0FDMUJ2ZixRQUFRK0wsSUFBSSxxQkFBc0J3VCxHQUNsQ2pnQixLQUFLN0MsTUFBTThFLE1BQU0scUJBQXNCLENBQUVnZSxLQUFNQSxLQUluRGppQixFQUFlZ0MsS0FBTSxDQUNqQi9CLEVBQUc4aEIsRUFDSDdoQixFQUFHb2hCLEVBQ0huaEIsTUFBTyxRQUNQQyxRQUFTLElBQU00aEIsRUFBVSxTQUN6QnpoQixNQUFPLEVBQ1BGLGNBQWUsc0JBQ2ZDLGFBQWMsb0JBQ2RFLFVBQVd3RCxFQUNYdkQsY0FBZSxnQkFJbkIsTUFBTTBoQixFQUFZbmlCLEVBQWVnQyxLQUFNLENBQ25DL0IsRUFBRzhoQixFQUFTRCxFQUNaNWhCLEVBQUdvaEIsRUFDSG5oQixNQUFPLE1BQ1BDLFFBQVMsS0FDVEcsTUFBTyxFQUNQRixjQUFlLHNCQUNmQyxhQUFjLG9CQUNkRSxVQUFXd0QsRUFDWHZELGNBQWUsZ0JBR25CMGhCLEVBQVV6aEIsT0FBTzBoQixxQkFDakJELEVBQVV6aEIsT0FBTytLLFNBQVMsSUFDMUIwVyxFQUFVbmhCLEtBQUt5SyxTQUFTLElBQ3hCMFcsRUFBVW5oQixLQUFLcWhCLFNBQVMsVUFHeEJyZ0IsS0FBS3JCLElBQUlLLEtBQ0xtaEIsRUFBVXpoQixPQUFPVCxFQUNqQmtpQixFQUFVemhCLE9BQU9SLEVBQUlnSSxLQUFLeU0sTUFBdUMsSUFBakN3TixFQUFVemhCLE9BQU9xSixlQUF3QixHQUN6RSxnQkFDQSxJQUFLL0YsRUFBaUJWLFdBQVksUUFBU0MsU0FBVSxPQUFRQyxNQUFPLFlBQ3RFdkMsVUFBVSxJQUdaUSxFQUFpQk8sS0FBTSxDQUNuQi9CLEVBQVcsSUFBUndELEVBQ0h2RCxFQUFZLElBQVR3RCxFQUNIaEMsUUFBUyxjQUNUbkIsTUFBTyxFQUNQb0IsV0FBWSxJQUNabEIsY0FBZSxjQUNmTCxRQUFTLElBQU00QixLQUFLN0MsTUFBTThFLE1BQU0sZUFFeEMsRUNoSEcsTUFBTXFlLFVBQW9CLFVBQzdCLFdBQUF6Z0IsR0FDSUMsTUFBTSxjQUNWLENBRUEsT0FBQUMsR0FFSUMsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxRQUFTLGdDQUN6QkYsS0FBS0MsS0FBS0MsTUFBTSxvQkFBcUIsbURBQ3JDRixLQUFLQyxLQUFLQyxNQUFNLHNCQUF1QixzQ0FHdkNGLEtBQUtDLEtBQUtFLE1BQU0sY0FBZSxnQ0FDbkMsQ0FFQSxNQUFBQyxHQUNJLE1BQU1nQixFQUFRcEIsS0FBS3JDLEtBQUtDLFFBQVF5RCxrQkFDMUIsTUFBRUksRUFBSyxPQUFFQyxHQUFXMUIsS0FBS3pCLE1BQ3pCb0QsRUFBVUYsRUFBUSxFQUV4QnpCLEtBQUtyQixJQUFJMlYsVUFBVSxFQUFHLEVBQUc3UyxFQUFPQyxFQUFRLEVBQVUsS0FDN0N6QyxVQUFVLEdBQ1Y0QyxVQUFVLEdBR2Y3QixLQUFLckIsSUFBSUssS0FBSzJDLEVBQWtCLElBQVRELEVBQWUsUUFBUyxJQUN4Q04sRUFDSEcsU0FBVSxPQUNWQyxNQUFPLFlBQ1J2QyxVQUFVLElBRWIsTUFBTStDLEVBQWtCLElBQ2pCWixFQUNIRyxTQUFVLE9BQ1ZDLE1BQU8sV0FHTCtlLEVBQXdCLElBQVQ3ZSxFQUNmUyxFQUF5QixJQUFUVCxFQUd0QjFELEVBQWVnQyxLQUFNLENBQ2pCL0IsRUFBRzBELEVBQ0h6RCxFQUFHcWlCLEVBQ0hwaUIsTUFBTyxZQUNQSyxVQUFXd0QsRUFDWHpELE1BQU8sRUFDUEgsUUFBUyxLQUNMNEIsS0FBSzdDLE1BQU11TSxPQUNYMUosS0FBSzdDLE1BQU0rRCxPQUFPLGlCQUsxQmxELEVBQWVnQyxLQUFNLENBQ2pCL0IsRUFBRzBELEVBQ0h6RCxFQUFHcWlCLEVBQWVwZSxFQUNsQmhFLE1BQU8sV0FDUEssVUFBV3dELEVBQ1h6RCxNQUFPLEVBQ1BILFFBQVMsS0FDTDRCLEtBQUs3QyxNQUFNOEUsTUFBTSxpQkFBa0IsQ0FBRUMsWUFBYSxtQkFLMURsRSxFQUFlZ0MsS0FBTSxDQUNqQi9CLEVBQUcwRCxFQUNIekQsRUFBR3FpQixFQUErQixFQUFoQnBlLEVBQ2xCaEUsTUFBTyxpQkFDUEssVUFBV3dELEVBQ1h6RCxNQUFPLEVBQ1BILFFBQVMsS0FDTCxNQUFNNFIsRUFBWWhRLEtBQUs3QyxNQUFNN0IsSUFBSSxjQUM3QjBVLElBQ0FBLEVBQVVwUCxNQUFNNFUsU0FBUzJJLHFCQUN6Qm5PLEVBQVVwUCxNQUFNNFUsU0FBU2dMLGlCQUc3QnhnQixLQUFLN0MsTUFBTXVNLEtBQUssY0FDaEIxSixLQUFLN0MsTUFBTThFLE1BQU0sZ0JBRzdCLEVDbkZHLE1BQU13ZSxVQUEyQixVQUNwQyxXQUFBNWdCLEdBQ0lDLE1BQU0sc0JBRU5FLEtBQUt5SyxRQUFVLEdBQ2Z6SyxLQUFLMGdCLFlBQWMsRUFDbkIxZ0IsS0FBSzJnQixhQUFlLEdBQ3BCM2dCLEtBQUs0Z0IsZUFBaUIsR0FDdEI1Z0IsS0FBSzZnQixTQUFXLElBQ3BCLENBRUEsSUFBQTlQLENBQUtDLEdBQ0RoUixLQUFLaWdCLEtBQU9qZ0IsS0FBS2tnQixTQUFTNWtCLElBQUksUUFDOUJvRixRQUFRK0wsSUFBSSxpQkFBa0J6TSxLQUFLaWdCLE1BQ25DamdCLEtBQUs4Z0IsT0FBUzlnQixLQUFLa2dCLFNBQVM1a0IsSUFBSSxVQUNoQ29GLFFBQVErTCxJQUFJLFFBQVN6TSxLQUFLOGdCLE9BQzlCLENBRUEsT0FBQS9nQixHQUVJQyxLQUFLQyxLQUFLQyxNQUFNLG9CQUFxQiwyQ0FDckNGLEtBQUtDLEtBQUtDLE1BQU0sc0JBQXVCLCtDQUN2Q0YsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG1EQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSwwQkFBMkIsb0NBRzNDRixLQUFLQyxLQUFLQyxNQUFNLFFBQVMsZ0NBQ3pCRixLQUFLQyxLQUFLQyxNQUFNLGVBQWdCLDREQUdoQ0YsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLHNEQUM5QkYsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLHNEQUM5QkYsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLHFEQUc5QkYsS0FBS0MsS0FBS0UsTUFBTSxjQUFlLGdDQUNuQyxDQUVBLE1BQUFDLEdBRUlKLEtBQUtZLE1BQU00VSxTQUFTZ0wsZUFBYyxHQUNsQ3hnQixLQUFLWSxNQUFNNFUsU0FBUzJJLHFCQUVwQixNQUFNLE1BQUUxYyxFQUFLLE9BQUVDLEdBQVcxQixLQUFLekIsTUFFekI2QyxFQUFRcEIsS0FBS3JDLEtBQUtDLFNBQVN5RCxrQkFBb0IsQ0FDakRDLFdBQVksUUFDWkMsU0FBVSxPQUNWQyxNQUFPLFdBSVh0RSxFQUFrQjhDLE1BR2xCQSxLQUFLckIsSUFBSXVCLE1BQU0sRUFBRyxFQUFHLFNBQ2hCakIsVUFBVSxHQUNWNEMsVUFBVSxHQUNWQyxlQUFlTCxFQUFPQyxHQUczQjFCLEtBQUtyQixJQUFJSyxLQUFLeUMsRUFBUSxFQUFHLEdBQUksdUJBQXdCLElBQzlDTCxFQUNIRyxTQUFVLE9BQ1ZDLE1BQU8sY0FDUnZDLFVBQVUsSUFHSyxVQUFkZSxLQUFLaWdCLE1BQ0xqZ0IsS0FBSytnQixjQUFjdGYsRUFBT0MsRUFBUU4sR0FFcEIsV0FBZHBCLEtBQUtpZ0IsTUFDTGpnQixLQUFLZ2hCLGVBQWV2ZixFQUFPQyxFQUFRTixHQUl2QzNCLEVBQWlCTyxLQUFNLENBQ25CL0IsRUFBVyxJQUFSd0QsRUFDSHZELEVBQVksSUFBVHdELEVBQ0hoQyxRQUFTLGNBQ1RuQixNQUFPLEVBQ1BvQixXQUFZLElBQ1psQixjQUFlLGNBQ2ZMLFFBQVMsSUFBTTRCLEtBQUs3QyxNQUFNOEUsTUFBTSxvQkFJcENqQyxLQUFLaVAsT0FBT3BPLEtBQUssV0FBY29kLE9BQU9DLFNBQVUsS0FDNUNsZSxLQUFLMmdCLGFBQWF4VSxRQUFTcVIsR0FBUUEsR0FBS2hSLFdBQ3hDeE0sS0FBSzJnQixhQUFlLEdBQ3BCM2dCLEtBQUs0Z0IsZUFBaUIsR0FDdEI1Z0IsS0FBS1ksTUFBTTRVLFNBQVN5TCxTQUFVLEdBRXRDLENBRUEsYUFBQUYsQ0FBY3RmLEVBQU9DLEVBQVFOLEdBRXpCcEIsS0FBS3lLLFFBQVUsQ0FDWCxDQUFFd1UsS0FBTSxHQUFJdkgsVUFBVyxLQUFNbFcsTUFBTyxNQUFVMGYsU0FBVSxLQUFNQyxTQUFVLEtBQU1DLE1BQU8sTUFDckYsQ0FBRW5DLEtBQU0sR0FBSXZILFVBQVcsS0FBTWxXLE1BQU8sU0FBVTBmLFNBQVUsS0FBTUMsU0FBVSxLQUFNQyxNQUFPLE9BSXpGcGhCLEtBQUs2Z0IsU0FBVzdnQixLQUFLckIsSUFBSUssS0FBS3lDLEVBQVEsRUFBRyxHQUFJLG1CQUFvQixJQUMxREwsRUFDSEUsV0FBWSxRQUNaQyxTQUFVLE9BQ1ZDLE1BQU8sU0FDUnZDLFVBQVUsSUFLYmUsS0FBS3FoQixnQkFIb0IsSUFJekJyaEIsS0FBS3NoQiwwQkFBMEIsRUFKTixJQUt6QnRoQixLQUFLdWhCLGlCQUdMdmpCLEVBQWVnQyxLQUFNLENBQ2pCL0IsRUFBR3dELEVBQVEsRUFDWHZELEVBQUcsSUFDSEMsTUFBTyxZQUNQQyxRQUFTLElBQU00QixLQUFLd2hCLGFBQ3BCampCLE1BQU8sSUFDUEYsY0FBZSxjQUNmQyxhQUFjLDBCQUNkRSxVQUFXLElBQUs0QyxFQUFPRyxTQUFVLE9BQVFDLE1BQU8sUUFDaEQvQyxjQUFlLGVBRXZCLENBRUEsY0FBQXVpQixDQUFldmYsRUFBT0MsRUFBUU4sR0FFMUJwQixLQUFLeUssUUFBVSxDQUNYLENBQUV3VSxLQUFNamYsS0FBS2tnQixTQUFTNWtCLElBQUksYUFBZSxXQUFZb2MsVUFBVyxLQUFNbFcsTUFBTyxNQUFVMGYsU0FBVSxLQUFNQyxTQUFVLEtBQU1DLE1BQU8sT0FLbElwaEIsS0FBS3JCLElBQUlLLEtBQUt5QyxFQUFRLEVBQUcsSUFBd0IsR0FBR3pCLEtBQUt5SyxRQUFRLEdBQUd3VSxPQUFRLElBQ3JFN2QsRUFBT0csU0FBVSxPQUFRQyxNQUFPLE9BQVFpZ0IsVUFBVyxTQUN2RHhpQixVQUFVLElBR2JlLEtBQUs2Z0IsU0FBVzdnQixLQUFLckIsSUFBSUssS0FBS3lDLEVBQVEsRUFBRyxJQUFLLGdDQUFpQyxJQUN4RUwsRUFBT0csU0FBVSxPQUFRQyxNQUFPLFNBQ3BDdkMsVUFBVSxJQUdiZSxLQUFLMGhCLHFCQVpvQixJQWF6QjFoQixLQUFLc2hCLDBCQUEwQixJQWJOLElBZ0J6QnRqQixFQUFlZ0MsS0FBTSxDQUNqQi9CLEVBQUd3RCxFQUFRLEVBQ1h2RCxFQUFHLElBQ0hDLE1BQU8sWUFDUEMsUUFBUyxJQUFNNEIsS0FBS3doQixhQUNwQmpqQixNQUFPLElBQ1BGLGNBQWUsY0FDZkMsYUFBYywwQkFDZEUsVUFBVyxJQUFLNEMsRUFBT0csU0FBVSxPQUFRQyxNQUFPLFFBQ2hEL0MsY0FBZSxlQUV2QixDQUdBLGVBQUE0aUIsQ0FBZ0J2WixFQUFVLEdBQ3RCLE1BQU0sTUFBRXJHLEVBQUssT0FBRUMsR0FBVzFCLEtBQUt6QixNQUN6QjZDLEVBQVFwQixLQUFLckMsS0FBS0MsUUFBUXlELGlCQUUxQnNnQixFQUFhLENBQVMsSUFBUmxnQixFQUFzQixJQUFSQSxHQUVsQ3pCLEtBQUt5SyxRQUFRMEIsUUFBUSxDQUFDbkIsRUFBUTRXLEtBQzFCLE1BQU0zakIsRUFBSTBqQixFQUFXQyxHQUdyQjVoQixLQUFLckIsSUFBSUssS0FBS2YsRUFBRyxJQUFNNkosRUFBUyxVQUFXLElBQUsxRyxFQUFPRyxTQUFVLE9BQVFDLE1BQU8sU0FDM0V2QyxVQUFVLElBR2YsTUFBTXVlLEVBQU14ZCxLQUFLckIsSUFBSTZlLElBQUl2ZixFQUFHLElBQU02SixHQUFTMlYsZUFBZSx1UEFNcENyYyxFQUFNRSx5Z0JBWXRCdWdCLEVBQTJDckUsRUFBSXNFLEtBQUtDLGNBQWMsU0FHeEVGLEVBQVFHLGlCQUFpQixRQUFVQyxJQUMvQmppQixLQUFLWSxNQUFNNFUsU0FBU3lMLFNBQVUsRUFDOUJnQixFQUFFQyxvQkFFTkwsRUFBUUcsaUJBQWlCLE9BQVNDLElBQzlCamlCLEtBQUtZLE1BQU00VSxTQUFTeUwsU0FBVSxFQUM5QmdCLEVBQUVDLG9CQUVOTCxFQUFRRyxpQkFBaUIsVUFBWUMsR0FBTUEsRUFBRUMsbUJBRzdDTCxFQUFRRyxpQkFBaUIsUUFBUyxLQUM5QkgsRUFBUWxTLE1BQVFrUyxFQUFRbFMsTUFBTXdTLFFBQVEsbUJBQW9CLElBQzFEbmlCLEtBQUt1aEIsbUJBR1R2aEIsS0FBSzJnQixhQUFhaUIsR0FBT3BFLEVBQ3pCeGQsS0FBSzRnQixlQUFlZ0IsR0FBT0MsRUFHM0I3VyxFQUFPa1csU0FBV2xoQixLQUFLckIsSUFBSXVCLE1BQU11QixHQUFTLElBQU8sR0FBTW1nQixHQUFlLEdBQVRsZ0IsRUFBZW9HLEVBQVMsY0FDaEZqSixTQUFTLEtBQ1RJLFVBQVUsSUFDVndFLFlBQVcsR0FFaEJ1SCxFQUFPbVcsU0FBV25oQixLQUFLckIsSUFBSXVCLE1BQU04SyxFQUFPa1csU0FBU2pqQixFQUFHK00sRUFBT2tXLFNBQVNoakIsRUFBRyxnQkFDbEVXLFNBQVMsS0FDVEksVUFBVSxJQUNWd0UsWUFBVyxHQUNoQnVILEVBQU9tVyxTQUFTemhCLFFBQVEwaUIsVUFBVSxhQUFnQkMsV0FBV0MsU0FHN0R0WCxFQUFPb1csTUFBUXBoQixLQUFLckIsSUFBSTJWLFVBQVUsRUFBRyxFQUFHLEdBQUksS0FDdkNvSyxlQUFlLEVBQUcxVCxFQUFPeEosT0FDekJpQyxZQUFXLEtBSXBCekQsS0FBSzBnQixZQUFjLEVBQ25CMWdCLEtBQUt1aEIsZ0JBQ1QsQ0FFQSxvQkFBQUcsQ0FBcUI1WixFQUFVLEdBQzNCLE1BQU0sTUFBRXJHLEVBQUssT0FBRUMsR0FBVzFCLEtBQUt6QixNQUV6QnlNLEVBQVNoTCxLQUFLeUssUUFBUSxHQUN0QjlJLEVBQVVGLEVBQVEsRUFHeEJ1SixFQUFPa1csU0FBV2xoQixLQUFLckIsSUFBSXVCLE1BQU15QixFQUFVLElBQWMsSUFBVEQsRUFBZ0JvRyxFQUFTLGNBQ3BFakosU0FBUyxLQUNUSSxVQUFVLElBQ1Z3RSxZQUFXLEdBRWhCdUgsRUFBT21XLFNBQVduaEIsS0FBS3JCLElBQUl1QixNQUFNOEssRUFBT2tXLFNBQVNqakIsRUFBRytNLEVBQU9rVyxTQUFTaGpCLEVBQUcsZ0JBQ2xFVyxTQUFTLEtBQ1RJLFVBQVUsSUFDVndFLFlBQVcsR0FDaEJ1SCxFQUFPbVcsU0FBU3poQixRQUFRMGlCLFVBQVUsYUFBZ0JDLFdBQVdDLFNBRzdEdFgsRUFBT29XLE1BQVFwaEIsS0FBS3JCLElBQUkyVixVQUFVLEVBQUcsRUFBRyxHQUFJLEtBQ3ZDb0ssZUFBZSxFQUFHMVQsRUFBT3hKLE9BQ3pCaUMsWUFBVyxFQUNwQixDQUdBLHlCQUFBNmQsQ0FBMEJyakIsRUFBR0MsR0FDekIsTUFBTSxNQUFFdUQsRUFBSyxPQUFFQyxHQUFXMUIsS0FBS3pCLE1BSXpCd2hCLEVBQVN0ZSxFQUFRLEVBQUlxZSxHQUNyQm5CLEVBQWtCLEdBQVRqZCxFQUVUNmdCLEVBQVksQ0FDZCxDQUFFdGtCLEVBQUc4aEIsRUFBUzloQixFQUFHQyxFQUFHeWdCLEVBQVN6Z0IsR0FDN0IsQ0FBRUQsRUFBRzhoQixFQUFTOWhCLEVBTkYsSUFNZUMsRUFBR3lnQixFQUFTemdCLEdBQ3ZDLENBQUVELEVBQUc4aEIsRUFBUzloQixFQUFJNmhCLEdBQWE1aEIsRUFBR3lnQixFQUFTemdCLEVBQUk0aEIsS0FSaEMsQ0FBQyxhQUFjLGFBQWMsY0FXckMzVCxRQUFRLENBQUN5UyxFQUFRekgsS0FDeEIsTUFBTXFMLEVBQU94aUIsS0FBS3JCLElBQUl1QixNQUFNcWlCLEVBQVVwTCxHQUFHbFosRUFBR3NrQixFQUFVcEwsR0FBR2paLEVBQUcwZ0IsR0FDdkQ5ZixlQUFlLENBQUVDLGVBQWUsSUFDaENGLFNBQVMsS0FDVHNHLFFBQVEsZ0JBQWlCeVosR0FFOUI0RCxFQUFLbmpCLEdBQUcsY0FBZSxLQUNuQnZCLEVBQVVrQyxLQUFNLGVBQ2hCQSxLQUFLeWlCLGNBQWM3RCxFQUFRNEQsTUFHdkMsQ0FHQSxhQUFBQyxDQUFjQyxFQUFlRixHQUN6QixHQUFrQixXQUFkeGlCLEtBQUtpZ0IsS0FBbUIsQ0FDeEIsTUFBTWpWLEVBQVNoTCxLQUFLeUssUUFBUSxHQWM1QixPQVhJTyxFQUFPME0sWUFBY2dMLEdBQ3JCMVgsRUFBTzBNLFVBQVksS0FDZjFNLEVBQU9rVyxVQUFVbFcsRUFBT2tXLFNBQVN6ZCxZQUFXLEdBQzVDdUgsRUFBT29XLE9BQU9wVyxFQUFPb1csTUFBTTNkLFlBQVcsS0FHMUN1SCxFQUFPME0sVUFBWWdMLEVBQ2YxWCxFQUFPa1csVUFBVWxXLEVBQU9rVyxTQUFTL2hCLFdBQVd1akIsR0FBZWpmLFlBQVcsR0FDdEV1SCxFQUFPb1csT0FBT3BXLEVBQU9vVyxNQUFNelosWUFBWTZhLEVBQUt2a0IsRUFBR3VrQixFQUFLdGtCLEdBQUd1RixZQUFXLFNBRTFFekQsS0FBS3VoQixnQkFFVCxDQUVBLE1BQU1vQixFQUFhM2lCLEtBQUt5SyxRQUFRbVksVUFBVTlYLEdBQUtBLEVBQUU0TSxZQUFjZ0wsR0FHL0QsSUFBb0IsSUFBaEJDLEVBQW1CLENBQ25CLE1BQU1FLEVBQVE3aUIsS0FBS3lLLFFBQVFrWSxHQVUzQixPQVJBRSxFQUFNbkwsVUFBWSxLQUVkbUwsRUFBTTNCLFVBQVUyQixFQUFNM0IsU0FBU3pkLFlBQVcsR0FDMUNvZixFQUFNekIsT0FBT3lCLEVBQU16QixNQUFNM2QsWUFBVyxHQUd4Q3pELEtBQUswZ0IsWUFBY2lDLE9BQ25CM2lCLEtBQUt1aEIsZ0JBRVQsQ0FHQSxNQUFNM0osRUFBSzVYLEtBQUt5SyxRQUFRLEdBQ2xCb04sRUFBSzdYLEtBQUt5SyxRQUFRLEdBRXhCLElBQUlxWSxFQUFjOWlCLEtBQUswZ0IsWUFJdkIsR0FBSW9DLFFBQ0EsSUFBS2xMLEVBQUdGLFdBQWFHLEVBQUdILFVBQVdvTCxFQUFjLE9BQzVDLElBQUtqTCxFQUFHSCxXQUFhRSxFQUFHRixVQUFXb0wsRUFBYyxNQUNqRCxJQUFLbEwsRUFBR0YsV0FBY0csRUFBR0gsVUFHMUIsT0FIcUNvTCxFQUFjLENBSXZELENBR0osTUFBTWxGLEVBQVM1ZCxLQUFLeUssUUFBUXFZLEdBQ3RCQyxFQUFRL2lCLEtBQUt5SyxRQUFRLEVBQUlxWSxHQUczQkMsRUFBTXJMLFlBQWNnTCxJQUd4QjlFLEVBQU9sRyxVQUFZZ0wsRUFFZjlFLEVBQU9zRCxVQUFVdEQsRUFBT3NELFNBQVMvaEIsV0FBV3VqQixHQUFlamYsWUFBVyxHQUN0RW1hLEVBQU93RCxPQUFPeEQsRUFBT3dELE1BQU16WixZQUFZNmEsRUFBS3ZrQixFQUFHdWtCLEVBQUt0a0IsR0FBR3VGLFlBQVcsR0FHakVzZixFQUFNckwsVUFDTjFYLEtBQUswZ0IsWUFBYyxLQURGMWdCLEtBQUswZ0IsWUFBYyxFQUFJb0MsRUFHN0M5aUIsS0FBS3VoQixpQkFDVCxDQUdBLFVBQUFDLEdBQ0ksR0FBa0IsVUFBZHhoQixLQUFLaWdCLEtBQWtCLENBQ3RCLE1BQU0rQyxFQUFRaGpCLEtBQUs0Z0IsaUJBQWlCLElBQUlqUixPQUFPc1QsUUFBVSxHQUNwREMsSUFBY2xqQixLQUFLeUssVUFBVSxJQUFJaU4sVUFFakN5TCxFQUFRbmpCLEtBQUs0Z0IsaUJBQWlCLElBQUlqUixPQUFPc1QsUUFBVSxHQUNuREcsSUFBY3BqQixLQUFLeUssVUFBVSxJQUFJaU4sVUFJdkMsS0FGZXNMLEVBQU14YSxPQUFTLEdBQU8yYSxFQUFNM2EsT0FBUyxHQUFNMGEsR0FBYUUsR0FTbkUsT0FMQXBqQixLQUFLdWhCLHNCQUdMdmhCLEtBQUtxakIsY0FBYyxVQUFXLEtBTWxDcmpCLEtBQUt5SyxRQUFRLEdBQUd3VSxLQUFPK0QsRUFDdkJoakIsS0FBS3lLLFFBQVEsR0FBR3dVLEtBQU9rRSxFQUd2Qm5qQixLQUFLN0MsTUFBTThFLE1BQU0sdUJBQXdCLENBQ3JDZ2UsS0FBTWpnQixLQUFLaWdCLEtBQ1gvTyxRQUFTbFIsS0FBS3lLLFFBQVEsR0FDdEIwRyxRQUFTblIsS0FBS3lLLFFBQVEsSUFFOUIsQ0FFQSxHQUFrQixXQUFkekssS0FBS2lnQixLQUFtQixDQUd4QixJQUZvQmpnQixLQUFLeUssVUFBVSxJQUFJaU4sVUFNbkMsT0FGQTFYLEtBQUtxakIsY0FBYyxVQUFXLFVBQzlCcmpCLEtBQUs2Z0IsU0FBU3ZXLFFBQVEscUNBSTFCdEssS0FBS2tnQixTQUFTcEksSUFBSSxjQUFlOVgsS0FBS3lLLFFBQVEsR0FBR2lOLFdBRTdDMVgsS0FBSzhnQixPQUVMOWdCLEtBQUs3QyxNQUFNOEUsTUFBTSx1QkFBd0IsQ0FDckNnZSxLQUFNamdCLEtBQUtpZ0IsS0FDWC9PLFFBQVNsUixLQUFLeUssUUFBUSxHQUN0QnFXLFFBQVEsSUFJWjlnQixLQUFLN0MsTUFBTThFLE1BQU0sY0FBZSxDQUM1QmdlLEtBQU1qZ0IsS0FBS2lnQixLQUNYOU8sUUFBU25SLEtBQUt5SyxRQUFRLEdBQ3RCcVcsUUFBUSxHQUdwQixDQUNKLENBR0EsYUFBQXVDLENBQWM3aEIsRUFBUSxVQUFXOGhCLEVBQUssS0FDbEMsSUFBS3RqQixLQUFLNmdCLFNBQVUsT0FFcEIsTUFBTTBDLEVBQVd2akIsS0FBSzZnQixTQUFTemYsTUFBTUksT0FBUyxVQUM5Q3hCLEtBQUs2Z0IsU0FBUzJDLFNBQVNoaUIsR0FFdkJ4QixLQUFLeUcsS0FBSzhGLFlBQVkrVyxFQUFJLEtBRXRCdGpCLEtBQUs2Z0IsU0FBUzJDLFNBQVNELEdBQ3ZCdmpCLEtBQUt1aEIsa0JBRWIsQ0FHQSxjQUFBQSxHQUNJLEdBQUt2aEIsS0FBSzZnQixTQUFWLENBRUEsR0FBa0IsVUFBZDdnQixLQUFLaWdCLEtBQWtCLENBQ3ZCLE1BQU0rQyxFQUFRaGpCLEtBQUs0Z0IsaUJBQWlCLElBQUlqUixPQUFPc1QsUUFBVSxHQUNuREUsRUFBUW5qQixLQUFLNGdCLGlCQUFpQixJQUFJalIsT0FBT3NULFFBQVUsR0FFbkRDLElBQWNsakIsS0FBS3lLLFVBQVUsSUFBSWlOLFVBQ2pDMEwsSUFBY3BqQixLQUFLeUssVUFBVSxJQUFJaU4sVUFFakMrTCxFQUFZVCxFQUFNeGEsT0FBUyxFQUMzQmtiLEVBQVlQLEVBQU0zYSxPQUFTLEVBRTNCbWIsRUFBV1QsR0FBYUUsRUFDeEJRLEVBQVdILEdBQWFDLEVBRzlCLEdBQUlDLEdBQVlDLEVBRVosWUFEQTVqQixLQUFLNmdCLFNBQVN2VyxRQUFRLDBCQUsxQixHQUFJcVosSUFBYUMsRUFJYixZQUhLSCxHQUFjQyxFQUNURCxFQUNMempCLEtBQUs2Z0IsU0FBU3ZXLFFBQVEsZ0NBRE50SyxLQUFLNmdCLFNBQVN2VyxRQUFRLGdDQURidEssS0FBSzZnQixTQUFTdlcsUUFBUSxnREFPeEQsR0FBSXNaLElBQWFELEVBSWIsWUFIS1QsR0FBY0UsRUFDVEYsRUFDTGxqQixLQUFLNmdCLFNBQVN2VyxRQUFRLG1DQUROdEssS0FBSzZnQixTQUFTdlcsUUFBUSxtQ0FEYnRLLEtBQUs2Z0IsU0FBU3ZXLFFBQVEsbURBT3hELEdBQXlCLE9BQXJCdEssS0FBSzBnQixrQkFBNkNtRCxJQUFyQjdqQixLQUFLMGdCLFlBRWxDLFlBREExZ0IsS0FBSzZnQixTQUFTdlcsUUFBUSxpQ0FJMUJ0SyxLQUFLNmdCLFNBQVN2VyxRQUFRLGtCQUFrQnRLLEtBQUswZ0IsWUFBYyxJQUMvRCxDQUVrQixXQUFkMWdCLEtBQUtpZ0IsT0FFZWpnQixLQUFLeUssVUFBVSxJQUFJaU4sVUFLbkMxWCxLQUFLNmdCLFNBQVN2VyxRQUFRLHFDQUZ0QnRLLEtBQUs2Z0IsU0FBU3ZXLFFBQVEsaUNBbkRKLENBd0Q5QixFQzFmRyxNQUFNd1osVUFBNkIsVUFDdEMsV0FBQWprQixHQUNJQyxNQUFNLHdCQUNORSxLQUFLb1IsaUJBQW1CLE1BQ3hCcFIsS0FBS2lnQixLQUFPLE9BQ2hCLENBRUEsT0FBQWxnQixHQUVJQyxLQUFLQyxLQUFLQyxNQUFNLG9CQUFxQixvQ0FDckNGLEtBQUtDLEtBQUtDLE1BQU0sc0JBQXVCLG1EQUN2Q0YsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLHVDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG1EQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSwwQkFBMkIsb0NBRzNDRixLQUFLQyxLQUFLQyxNQUFNLFFBQVMsZ0NBR3pCRixLQUFLQyxLQUFLQyxNQUFNLE1BQU8sOEJBQ3ZCRixLQUFLQyxLQUFLQyxNQUFNLFFBQVMsMkJBQ3pCRixLQUFLQyxLQUFLQyxNQUFNLFNBQVUsNEJBRzFCRixLQUFLQyxLQUFLRSxNQUFNLGNBQWUsaUNBRy9CSCxLQUFLQyxLQUFLQyxNQUFNLFFBQVMsZ0RBQzdCLENBRUEsSUFBQTZRLENBQUtDLEdBQ0RoUixLQUFLa1IsUUFBVUYsRUFBS0UsUUFDcEJsUixLQUFLbVIsUUFBVUgsRUFBS0csUUFDcEJuUixLQUFLaWdCLEtBQU9qUCxFQUFLaVAsTUFBUSxRQUN6QmpnQixLQUFLOGdCLE9BQVM5UCxFQUFLOFAsU0FBVSxDQUNqQyxDQUVBLE1BQUExZ0IsR0FDSSxNQUFNLE1BQUVxQixFQUFLLE9BQUVDLEdBQVcxQixLQUFLekIsTUFDekI2QyxFQUFRcEIsS0FBS3JDLEtBQUtDLFFBQVF5RCxpQkFHaENuRSxFQUFrQjhDLE1BR2xCQSxLQUFLckIsSUFBSXVCLE1BQU0sRUFBRyxFQUFHLFNBQ2hCakIsVUFBVSxHQUNWNEMsVUFBVSxHQUNWQyxlQUFlTCxFQUFPQyxHQUczQjFCLEtBQUtyQixJQUFJSyxLQUFLeUMsRUFBUSxFQUFHLEdBQUksdUJBQXdCLElBQzlDTCxFQUNIRyxTQUFVLE9BQ1ZDLE1BQU8sY0FDUnZDLFVBQVUsSUFHYmUsS0FBS29SLGlCQUFtQixNQUN4QnBSLEtBQUsrakIsY0FBZ0IvakIsS0FBS3JCLElBQUl1QixNQUFNdUIsRUFBUSxFQUFHLElBQUt6QixLQUFLb1Isa0JBQWtCdlMsU0FBUyxJQUdwRixNQUFNbWxCLEVBQWEsQ0FBQyxNQUFPLFFBQVMsVUFFOUJqRSxFQUFTdGUsRUFBUSxFQURQLElBR1Z3aUIsRUFBa0IsQ0FBQyxFQUduQkMsRUFBdUJ0RixJQUN6QjVlLEtBQUtvUixpQkFBbUJ3TixFQUN4QjVlLEtBQUsrakIsY0FBYzVrQixXQUFXeWYsR0FBUS9mLFNBQVMsSUFHL0NtbEIsRUFBVzdYLFFBQVNsUixJQUNoQmdwQixFQUFnQmhwQixHQUFLa0UsV0FBV2xFLElBQVEyakIsRUFBUyxvQkFBc0IsMEJBSS9Fb0YsRUFBVzdYLFFBQVEsQ0FBQ3lTLEVBQVF6SCxLQUN4QixNQUFNZ04sRUFBUW5rQixLQUFLckIsSUFBSXVCLE1BQU02ZixFQWpCakIsSUFpQjBCNUksRUFBYSxJQUFLLHVCQUNuRHJZLGVBQWUsQ0FBRUMsZUFBZSxJQUNoQ0YsU0FBUyxNQUVkb2xCLEVBQWdCckYsR0FBVXVGLEVBRzFCLE1BQU1DLEVBQVFwa0IsS0FBS3JCLElBQUlLLEtBQUssRUFBRyxFQUFHNGYsRUFBUSxJQUFLeGQsRUFBT0csU0FBVSxPQUFRQyxNQUFPLFNBQy9FLFlBQWU2aUIsTUFBTUMsR0FBR0MsT0FBT0gsRUFBT0QsR0FHdENBLEVBQU05a0IsR0FBRyxjQUFlLElBQU04a0IsRUFBTWhsQixXQUFXLHNCQUMvQ2dsQixFQUFNOWtCLEdBQUcsYUFBYyxLQUNuQjhrQixFQUFNaGxCLFdBQVdhLEtBQUtvUixtQkFBcUJ3TixFQUFTLG9CQUFzQix5QkFJOUV1RixFQUFNOWtCLEdBQUcsY0FBZSxJQUFNdkIsRUFBVWtDLEtBQU0sZ0JBQzlDbWtCLEVBQU05a0IsR0FBRyxZQUFjQyxJQUNKNmtCLEVBQU01a0IsWUFBWUMsU0FBU0YsRUFBUXJCLEVBQUdxQixFQUFRcEIsSUFFN0RnbUIsRUFBb0J0RixPQUs1QnNGLEVBQW9CbGtCLEtBQUtvUixrQkFHekIsTUFDTWdRLEVBQVFwaEIsS0FBS3JCLElBQUl1QixNQUFNdUIsRUFBUSxFQUR0QixJQUNpQyxTQUFTeEMsVUFBVSxJQUNuRW1pQixFQUFNMWhCLFFBQVEwaUIsVUFBVSxhQUFnQkMsV0FBV0MsU0FLbkRsQixFQUFNdGYsZUFGbUIsSUFDQyxLQUkxQjlELEVBQWVnQyxLQUFNLENBQ2pCL0IsRUFBR3dELEVBQVEsRUFDWHZELEVBQUcsSUFDSEMsTUFBTyxZQUNQQyxRQUFTLEtBQ2EsVUFBZDRCLEtBQUtpZ0IsS0FDTGpnQixLQUFLN0MsTUFBTThFLE1BQU0sYUFBYyxDQUMzQmlQLFFBQVNsUixLQUFLa1IsUUFDZEMsUUFBU25SLEtBQUttUixRQUNkQyxpQkFBa0JwUixLQUFLb1IsaUJBQ3ZCNk8sS0FBTWpnQixLQUFLaWdCLEtBQ1hhLE9BQVE5Z0IsS0FBSzhnQixTQUdqQjlnQixLQUFLN0MsTUFBTThFLE1BQU0sY0FBZSxDQUM1QmlQLFFBQVNsUixLQUFLa1IsUUFDZEMsUUFBU25SLEtBQUttUixRQUNkQyxpQkFBa0JwUixLQUFLb1IsaUJBQ3ZCNk8sS0FBTWpnQixLQUFLaWdCLEtBQ1hhLE9BQVE5Z0IsS0FBSzhnQixVQUl6QnZpQixNQUFPLElBQ1BGLGNBQWUsY0FDZkMsYUFBYywwQkFDZEUsVUFBVyxJQUFLNEMsRUFBT0csU0FBVSxPQUFRQyxNQUFPLFFBQ2hEL0MsY0FBZSxnQkFJbkJnQixFQUFpQk8sS0FBTSxDQUNuQi9CLEVBQVcsSUFBUndELEVBQ0h2RCxFQUFZLElBQVR3RCxFQUNIaEMsUUFBUyxjQUNUbkIsTUFBTyxFQUNQb0IsV0FBWSxJQUNabEIsY0FBZSxjQUNmTCxRQUFTLEtBQ0w0QixLQUFLN0MsTUFBTThFLE1BQU0scUJBQXNCLENBQ25DZ2UsS0FBTWpnQixLQUFLaWdCLEtBQ1hhLE9BQVE5Z0IsS0FBSzhnQixXQUk3QixFQzVKSixXQUVRMEQsU0FBU0MsT0FBU0QsU0FBU0MsTUFBTXhrQixhQUMzQnlrQixRQUFRQyxJQUFJLENBQ2RILFNBQVNDLE1BQU14a0IsS0FBSyxtQkFDcEJ1a0IsU0FBU0MsTUFBTXhrQixLQUFLLHdCQUVsQnVrQixTQUFTQyxNQUFNRyxPQUd6QixNQUFNaG5CLEVBQVUsQ0FDWnlELGlCQUFrQixDQUFFQyxXQUFZLFdBQVlDLFNBQVUsT0FBUUMsTUFBTyxXQUNyRTlELE1BQU8sTUFHTHFILEVBQVMsQ0FDWHdELEtBQU0sU0FDTjlHLE1BQU8sSUFDUEMsT0FBUSxJQUNSbWpCLE9BQVEsaUJBQ1I3ZixRQUFTLENBQ0w4ZixRQUFTLFNBQ1RDLE9BQVEsQ0FDSkMsUUFBUyxDQUFFL21CLEVBQUcsRUFBR0MsRUFBRyxLQUNwQittQixPQUFPLElBR2Z6SCxJQUFLLENBQ0QwSCxpQkFBaUIsR0FFckJDLFVBQVcsQ0FDUEMsUUFBVXpuQixJQUNOQSxFQUFLQyxRQUFVQSxJQUd2QlQsTUFBTyxDQUFDeUMsRUFBWThRLEVBQVlpSyxFQUFnQnNCLEVBQXFCbUMsRUFBZVksRUFBZXNCLEVBQWFULEVBQWdCWSxFQUFvQnFELEdBQ3BKdUIsZ0JBQWlCLFdBR1IsSUFBSSxVQUFZdGdCLEVBQ2hDLEVBeENELEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby9leHRlcm5hbCB2YXIgXCJQaGFzZXJcIiIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9VSS9BdWRpby5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9VSS9CdXR0b25zLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9NZW51X1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0VudGl0aWVzL1BsYXllci5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9Db21tYW5kcy9BcHBseVBvd2VyVXBDb21tYW5kLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0VudGl0aWVzL1Bvd2VyVXAuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvRW50aXRpZXMvQmFsbC5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9Db21tYW5kcy9Db21tYW5kUHJvY2Vzc29yLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0NvbW1hbmRzL0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvQ29tbWFuZHMvTW92ZVBsYXllckNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL0dhbWVfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL1R1dG9yaWFsX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9Db25maWd1cmF0aW9uX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9DcmVkaXRzX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9FbmRHYW1lX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9Nb2RlR2FtZV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvUGF1c2VfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL1NlbGVjdFBsYXllcl9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvU2VsZWN0U2NlbmFyaW9fU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFBoYXNlcjsiLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5jb25zdCBTRlhfVk9MVU1FX0tFWSA9ICdzZnhWb2x1bWUnO1xyXG5jb25zdCBNVVNJQ19WT0xVTUVfS0VZID0gJ211c2ljVm9sdW1lJztcclxuY29uc3QgR0xPQkFMX1ZPTFVNRV9LRVkgPSAnZ2xvYmFsVm9sdW1lJztcclxuY29uc3QgTEVHQUNZX1ZPTFVNRV9LRVkgPSAndm9sdW1lJztcclxuXHJcbmZ1bmN0aW9uIHBhcnNlU3RvcmVkVm9sdW1lKHJhdywgZGVmYXVsdFZhbHVlKSB7XHJcbiAgICBjb25zdCB2ID0gTnVtYmVyLnBhcnNlRmxvYXQocmF3ID8/IFN0cmluZyhkZWZhdWx0VmFsdWUpKTtcclxuXHJcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2KSkgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxuXHJcbiAgICByZXR1cm4gUGhhc2VyLk1hdGguQ2xhbXAodiwgMCwgMSk7XHJcbn1cclxuXHJcbi8vLy8gR2V0dGVycyZTZXR0ZXJzIC8vLy9cclxuLy8gT2J0aWVuZSBlbCB2b2x1bWVuIGFsbWFjZW5hZG8gY29uIHVuYSBjbGF2ZVxyXG5mdW5jdGlvbiBnZXRTdG9yZWRWb2x1bWVCeUtleShrZXksIGZhbGxiYWNrS2V5LCBkZWZhdWx0VmFsdWUgPSAxKSB7XHJcbiAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgaWYgKHJhdyAhPT0gbnVsbCkgcmV0dXJuIHBhcnNlU3RvcmVkVm9sdW1lKHJhdywgZGVmYXVsdFZhbHVlKTtcclxuXHJcbiAgICBjb25zdCBmYWxsYmFja1JhdyA9IGZhbGxiYWNrS2V5ID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZmFsbGJhY2tLZXkpIDogbnVsbDtcclxuICAgIGlmIChmYWxsYmFja1JhdyAhPT0gbnVsbCkgcmV0dXJuIHBhcnNlU3RvcmVkVm9sdW1lKGZhbGxiYWNrUmF3LCBkZWZhdWx0VmFsdWUpO1xyXG5cclxuICAgIHJldHVybiBQaGFzZXIuTWF0aC5DbGFtcChkZWZhdWx0VmFsdWUsIDAsIDEpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRMZWdhY3lWb2x1bWUoZGVmYXVsdFZhbHVlID0gMSkge1xyXG4gICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTEVHQUNZX1ZPTFVNRV9LRVkpO1xyXG4gICAgaWYgKHJhdyA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgcmV0dXJuIHBhcnNlU3RvcmVkVm9sdW1lKHJhdywgZGVmYXVsdFZhbHVlKTtcclxufVxyXG5cclxuLy8gQXNlZ3VyYSBxdWUgZXhpc3RhbiBsb3MgdmFsb3JlcyBkZSB2b2x1bWVuIGFsbWFjZW5hZG9zXHJcbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVTdG9yZWRBdWRpb1NldHRpbmdzKGRlZmF1bHRWYWx1ZSA9IDEpIHtcclxuICAgIGNvbnN0IGhhc1NmeCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNGWF9WT0xVTUVfS0VZKSAhPT0gbnVsbDtcclxuICAgIGNvbnN0IGhhc011c2ljID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTVVTSUNfVk9MVU1FX0tFWSkgIT09IG51bGw7XHJcblxyXG4gICAgaWYgKGhhc1NmeCAmJiBoYXNNdXNpYykgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGxlZ2FjeVZvbHVtZSA9IGdldExlZ2FjeVZvbHVtZShkZWZhdWx0VmFsdWUpO1xyXG4gICAgY29uc3QgaW5pdGlhbFZvbHVtZSA9IGxlZ2FjeVZvbHVtZSAmJiBsZWdhY3lWb2x1bWUgPiAwID8gbGVnYWN5Vm9sdW1lIDogZGVmYXVsdFZhbHVlO1xyXG5cclxuICAgIGlmICghaGFzU2Z4KSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTRlhfVk9MVU1FX0tFWSwgU3RyaW5nKGluaXRpYWxWb2x1bWUpKTtcclxuICAgIGlmICghaGFzTXVzaWMpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKE1VU0lDX1ZPTFVNRV9LRVksIFN0cmluZyhpbml0aWFsVm9sdW1lKSk7XHJcbn1cclxuXHJcbi8vIE9idGllbmUgZWwgdm9sdW1lbiBhbG1hY2VuYWRvIHBhcmEgbG9zIGVmZWN0b3MgZGUgc29uaWRvXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdG9yZWRTZnhWb2x1bWUoZGVmYXVsdFZhbHVlID0gMSkge1xyXG4gICAgcmV0dXJuIGdldFN0b3JlZFZvbHVtZUJ5S2V5KFNGWF9WT0xVTUVfS0VZLCBMRUdBQ1lfVk9MVU1FX0tFWSwgZGVmYXVsdFZhbHVlKTtcclxufVxyXG5cclxuLy8gT2J0aWVuZSBlbCB2b2x1bWVuIGFsbWFjZW5hZG8gcGFyYSBsYSBtw7pzaWNhXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdG9yZWRNdXNpY1ZvbHVtZShkZWZhdWx0VmFsdWUgPSAxKSB7XHJcbiAgICByZXR1cm4gZ2V0U3RvcmVkVm9sdW1lQnlLZXkoTVVTSUNfVk9MVU1FX0tFWSwgTEVHQUNZX1ZPTFVNRV9LRVksIGRlZmF1bHRWYWx1ZSk7XHJcbn1cclxuXHJcbi8vIE9idGllbmUgZWwgdm9sdW1lbiBnbG9iYWxcclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0b3JlZEdsb2JhbFZvbHVtZShkZWZhdWx0VmFsdWUgPSAxKSB7XHJcbiAgICByZXR1cm4gZ2V0U3RvcmVkVm9sdW1lQnlLZXkoR0xPQkFMX1ZPTFVNRV9LRVksIG51bGwsIGRlZmF1bHRWYWx1ZSk7XHJcbn1cclxuXHJcbi8vIEFsbWFjZW5hIGVsIHZvbHVtZW4gZ2xvYmFsXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRTdG9yZWRHbG9iYWxWb2x1bWUodm9sdW1lKSB7XHJcbiAgICBjb25zdCB2ID0gUGhhc2VyLk1hdGguQ2xhbXAoTnVtYmVyKHZvbHVtZSksIDAsIDEpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oR0xPQkFMX1ZPTFVNRV9LRVksIFN0cmluZyh2KSk7XHJcbiAgICByZXR1cm4gdjtcclxufVxyXG5cclxuLy8gQWxtYWNlbmEgZWwgdm9sdW1lbiBwYXJhIGxvcyBlZmVjdG9zIGRlIHNvbmlkb1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0U3RvcmVkU2Z4Vm9sdW1lKHZvbHVtZSkge1xyXG4gICAgY29uc3QgdiA9IFBoYXNlci5NYXRoLkNsYW1wKE51bWJlcih2b2x1bWUpLCAwLCAxKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNGWF9WT0xVTUVfS0VZLCBTdHJpbmcodikpO1xyXG5cclxuICAgIHJldHVybiB2O1xyXG59XHJcblxyXG4vLyBBbG1hY2VuYSBlbCB2b2x1bWVuIHBhcmEgbGEgbcO6c2ljYVxyXG5leHBvcnQgZnVuY3Rpb24gc2V0U3RvcmVkTXVzaWNWb2x1bWUodm9sdW1lKSB7XHJcbiAgICBjb25zdCB2ID0gUGhhc2VyLk1hdGguQ2xhbXAoTnVtYmVyKHZvbHVtZSksIDAsIDEpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oTVVTSUNfVk9MVU1FX0tFWSwgU3RyaW5nKHYpKTtcclxuXHJcbiAgICByZXR1cm4gdjtcclxufVxyXG4vLy8vLy8vLy9cclxuXHJcbi8vIEFwbGljYSBlbCB2b2x1bWVuIGFsIFNvdW5kTWFuYWdlciB5IGEgbGEgbcO6c2ljYSBnbG9iYWxcclxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5U3RvcmVkVm9sdW1lKHNjZW5lLCBvcHRpb25zID0ge30pIHtcclxuICAgIGxldCBnbG9iYWxWb2wgPSBnZXRTdG9yZWRHbG9iYWxWb2x1bWUoKTtcclxuICAgIGxldCBzZnhWb2x1bWUgPSBnZXRTdG9yZWRTZnhWb2x1bWUoKTtcclxuICAgIGxldCBtdXNpY1ZvbHVtZSA9IGdldFN0b3JlZE11c2ljVm9sdW1lKCk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHNmeFZvbHVtZSA9IFBoYXNlci5NYXRoLkNsYW1wKE51bWJlcihvcHRpb25zKSwgMCwgMSk7XHJcbiAgICAgICAgbXVzaWNWb2x1bWUgPSBzZnhWb2x1bWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNmeFZvbHVtZSA9IG9wdGlvbnMuc2Z4Vm9sdW1lID8/IHNmeFZvbHVtZTtcclxuICAgICAgICBtdXNpY1ZvbHVtZSA9IG9wdGlvbnMubXVzaWNWb2x1bWUgPz8gbXVzaWNWb2x1bWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2UgdXNhIGVsIHZvbHVtZW4gZ2xvYmFsIGNvbW8gbWFzdGVyXHJcbiAgICBzY2VuZS5zb3VuZC52b2x1bWUgPSBnbG9iYWxWb2w7XHJcblxyXG4gICAgY29uc3QgbXVzaWMgPSBzY2VuZS5nYW1lLmdsb2JhbHMubXVzaWM7XHJcbiAgICBpZiAobXVzaWMgJiYgJ3NldFZvbHVtZScgaW4gbXVzaWMpIHtcclxuICAgICAgICBtdXNpYy5zZXRWb2x1bWUobXVzaWNWb2x1bWUpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBSZXByb2R1Y2UgdW4gc29uaWRvIGRlIGNsaWNrXHJcbmV4cG9ydCBmdW5jdGlvbiBwbGF5Q2xpY2soc2NlbmUsIGtleSA9ICdzb25pZG9DbGljaycpIHtcclxuICAgIHNjZW5lLnNvdW5kLnBsYXkoa2V5LCB7IHZvbHVtZTogZ2V0U3RvcmVkU2Z4Vm9sdW1lKCkgfSk7XHJcbn1cclxuXHJcbi8vIFJlcHJvZHVjZSBsYSBtw7pzaWNhIGRlIGZvbmRvIGVuIGJ1Y2xlXHJcbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVMb29waW5nTXVzaWMoc2NlbmUsIHNvdW5kS2V5LCB7IGxvb3AgPSB0cnVlIH0gPSB7fSkge1xyXG4gICAgY29uc3Qgdm9sdW1lID0gZ2V0U3RvcmVkTXVzaWNWb2x1bWUoKTtcclxuICAgIGxldCBtdXNpYyA9IHNjZW5lLmdhbWUuZ2xvYmFscy5tdXNpYztcclxuICAgIGlmICghbXVzaWMpIHtcclxuICAgICAgICBtdXNpYyA9IHNjZW5lLnNvdW5kLmFkZChzb3VuZEtleSwgeyBsb29wLCB2b2x1bWUgfSk7XHJcbiAgICAgICAgc2NlbmUuZ2FtZS5nbG9iYWxzLm11c2ljID0gbXVzaWM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2UgYWN0dWFsaXphIHZvbHVtZW4gc2kgZWwgdGlwbyBsbyBzb3BvcnRhXHJcbiAgICBpZiAobXVzaWMgJiYgJ3NldFZvbHVtZScgaW4gbXVzaWMpIG11c2ljLnNldFZvbHVtZSh2b2x1bWUpO1xyXG5cclxuICAgIGNvbnN0IHRyeVBsYXkgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFtdXNpYyB8fCAhKCdwbGF5JyBpbiBtdXNpYykpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gbm8gc2UgcmVpbmljaWEgc2kgeWEgZXN0PyBzb25hbmRvXHJcbiAgICAgICAgaWYgKCdpc1BsYXlpbmcnIGluIG11c2ljICYmIG11c2ljLmlzUGxheWluZykgcmV0dXJuO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBtdXNpYy5wbGF5KCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0F1ZGlvLmpzXSBObyBzZSBoYSBwb2RpZG8gcmVwcm9kdWNpciB0b2Rhdj9hIGxhIG0/c2ljYS4nLCBlcnIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gcHJpbWVybyBzZSBpbnRlbnRhIHJlcHJvZHVjaXIgbmFkYSBtw6FzIGNhcmdhclxyXG4gICAgdHJ5UGxheSgpO1xyXG5cclxuICAgIC8vIHNpbm8sIHNlIHJlaW50ZW50YSB0cmFzIGxhIHByaW1lcmEgaW50ZXJhY2Npw7NuL2NsaWNrXHJcbiAgICBzY2VuZS5pbnB1dC5vbmNlKCdwb2ludGVyZG93bicsIGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCBjdHggPSBzY2VuZS5zb3VuZC5jb250ZXh0O1xyXG4gICAgICAgIGlmIChjdHggJiYgY3R4LnN0YXRlID09PSAnc3VzcGVuZGVkJykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgY3R4LnJlc3VtZSgpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIHsgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0cnlQbGF5KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbXVzaWM7XHJcbn1cclxuIiwiaW1wb3J0IHsgcGxheUNsaWNrIH0gZnJvbSAnLi9BdWRpby5qcyc7XHJcblxyXG4vLyBDcmVhIHVuIGJvdMOzbiBiYXNlIHBhcmEgbGEgVUlcclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVJQnV0dG9uKHNjZW5lLCB7XHJcbiAgICB4LCB5LFxyXG4gICAgbGFiZWwsXHJcbiAgICBvbkNsaWNrLFxyXG4gICAgdGV4dHVyZU5vcm1hbCA9ICdib3RvblNpblNlbGVjY2lvbmFyJyxcclxuICAgIHRleHR1cmVIb3ZlciA9ICdib3RvblNlbGVjY2lvbmFkbycsXHJcbiAgICBzY2FsZSA9IDIsXHJcbiAgICB0ZXh0U3R5bGUgPSB7fSxcclxuICAgIGNsaWNrU291bmRLZXkgPSAnc29uaWRvQ2xpY2snLFxyXG59KSB7XHJcbiAgICBjb25zdCBidXR0b24gPSBzY2VuZS5hZGQuc3ByaXRlKHgsIHksIHRleHR1cmVOb3JtYWwpXHJcbiAgICAgICAgLnNldFNjYWxlKHNjYWxlKVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgY29uc3QgdGV4dCA9IHNjZW5lLmFkZC50ZXh0KHgsIHksIGxhYmVsLCB0ZXh0U3R5bGUpLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIGV2ZW50b3MgZGVsIGJvdMOzblxyXG4gICAgY29uc3Qgc2V0Tm9ybWFsID0gKCkgPT4gYnV0dG9uLnNldFRleHR1cmUodGV4dHVyZU5vcm1hbCk7XHJcbiAgICBjb25zdCBzZXRIb3ZlciA9ICgpID0+IGJ1dHRvbi5zZXRUZXh0dXJlKHRleHR1cmVIb3Zlcik7XHJcblxyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsIHNldEhvdmVyKTtcclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcm91dCcsIHNldE5vcm1hbCk7XHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgIHNldEhvdmVyKCk7XHJcbiAgICAgICAgcGxheUNsaWNrKHNjZW5lLCBjbGlja1NvdW5kS2V5KTtcclxuICAgIH0pO1xyXG4gICAgLy8gc29sbyBzZSBsYW56YSBzaSBzZSBzdWVsdGEgZW5jaW1hXHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJ1cCcsIChwb2ludGVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5zaWRlID0gYnV0dG9uLmdldEJvdW5kcygpLmNvbnRhaW5zKHBvaW50ZXIueCwgcG9pbnRlci55KTtcclxuICAgICAgICBpZiAoIWluc2lkZSkgeyBcclxuICAgICAgICAgICAgc2V0Tm9ybWFsKCk7IFxyXG4gICAgICAgICAgICByZXR1cm47IFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0SG92ZXIoKTtcclxuICAgICAgICBvbkNsaWNrPy4oKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB7IGJ1dHRvbiwgdGV4dCB9O1xyXG59XHJcblxyXG4vLyBDcmVhIHVuIGJvdMOzbiBiYXNlIGNvbiB1biBpY29ubyAoY29tbyBlbCBkZSB2b2x2ZXIgYXRyw6FzKVxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSWNvbkJ1dHRvbihzY2VuZSwgb3B0aW9ucykge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICAgIHgsIHksXHJcbiAgICAgICAgdGV4dHVyZSxcclxuICAgICAgICBvbkNsaWNrLFxyXG4gICAgICAgIHNjYWxlID0gMSxcclxuICAgICAgICBob3ZlclNjYWxlID0gMS4xLFxyXG4gICAgICAgIGNsaWNrU291bmRLZXkgPSAnc29uaWRvQ2xpY2snLFxyXG4gICAgfSA9IG9wdGlvbnM7XHJcblxyXG4gICAgY29uc3QgYnV0dG9uID0gc2NlbmUuYWRkXHJcbiAgICAgICAgLnNwcml0ZSh4LCB5LCB0ZXh0dXJlKVxyXG4gICAgICAgIC5zZXRTY2FsZShzY2FsZSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgIC8vIGV2ZW50b3MgZGVsIGJvdMOzblxyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJ1dHRvbi5zZXRTY2FsZShzY2FsZSAqIGhvdmVyU2NhbGUpKTtcclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IGJ1dHRvbi5zZXRTY2FsZShzY2FsZSkpO1xyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICBwbGF5Q2xpY2soc2NlbmUsIGNsaWNrU291bmRLZXkpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBzb2xvIHNlIGxhbnphIHNpIHNlIHN1ZWx0YSBlbmNpbWFcclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcnVwJywgKHBvaW50ZXIpID0+IHtcclxuICAgICAgICBjb25zdCBpbnNpZGUgPSBidXR0b24uZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnRlci54LCBwb2ludGVyLnkpO1xyXG4gICAgICAgIGlmICghaW5zaWRlKSByZXR1cm47XHJcbiAgICAgICAgb25DbGljaygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGJ1dHRvbjtcclxufVxyXG4iLCIvLyBQYW50YWxsYSBkZWwgTWVuw7ogUHJpbmNpcGFsXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xuaW1wb3J0IHsgZW5zdXJlTG9vcGluZ011c2ljLCBhcHBseVN0b3JlZFZvbHVtZSB9IGZyb20gJy4uL1VJL0F1ZGlvLmpzJztcblxuZXhwb3J0IGNsYXNzIE1lbnVfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignTWVudV9TY2VuZScpO1xuICAgIH1cblxuICAgIHByZWxvYWQoKSB7XG4gICAgICAgIC8vIGJvdG9uZXNcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX0dfU0VMRUNDSU9OQURPLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9HLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvTWVudVByaW5jaXBhbCcsICdBU1NFVFMvRk9ORE9TL01FTlVfUFJJTkNJUEFMLnBuZycpO1xuXG4gICAgICAgIC8vIGxvZ29cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsb2dvRW1wcmVzYScsICdBU1NFVFMvTE9HTy9sb2dvX2VtcHJlc2EucG5nJyk7XG5cbiAgICAgICAgLy8gYXVkaW9cbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9HZW5lcmFsJywgJ0FTU0VUUy9TT05JRE8vU09OSURPMS5tcDMnKTtcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gbcO6c2ljYSBkZSBmb25kb1xuICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcbiAgICAgICAgZW5zdXJlTG9vcGluZ011c2ljKHRoaXMsICdzb25pZG9HZW5lcmFsJywgeyBsb29wOiB0cnVlIH0pO1xuXG4gICAgICAgIC8vIGVzdGlsbyBiYXNlIGRlbCB0ZXh0b1xuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzPy5kZWZhdWx0VGV4dFN0eWxlID8/IHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgLy8gbGF5b3V0XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcbiAgICAgICAgY29uc3QgcmlnaHRIYWxmWCA9IGNlbnRlclggKyAoY2VudGVyWCAvIDIpO1xuXG4gICAgICAgIC8vIGZvbmRvIGFqdXN0YWRvIGFsIGNhbnZhc1xuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvTWVudVByaW5jaXBhbCcpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpO1xuICAgICAgICBiYWNrZ3JvdW5kLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBcbiAgICAgICAgLy8gdMOtdHVsbyBkZWwganVlZ29cbiAgICAgICAgdGhpcy5hZGQudGV4dChyaWdodEhhbGZYLCAxMTUsICdWb2xsZXkgQ2xhc2gnLCB7XG4gICAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjhweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIC8vLy8gQk9UT05FUyAvLy8vXG4gICAgICAgIGNvbnN0IGZpcnN0QnV0dG9uWSA9IGhlaWdodCAvIDIgLSA2MztcbiAgICAgICAgY29uc3QgYnV0dG9uU3BhY2luZyA9IDcwO1xuICAgICAgICBjb25zdCBidXR0b25UZXh0U3R5bGUgPSB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzI4cHgnLCBjb2xvcjogJyMwMDAwMDAnIH07XG5cbiAgICAgICAgLy8gYm90w7NuIEp1Z2FyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHJpZ2h0SGFsZlgsXG4gICAgICAgICAgICB5OiBmaXJzdEJ1dHRvblksXG4gICAgICAgICAgICBsYWJlbDogJ0p1Z2FyJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01vZGVHYW1lX1NjZW5lJyksXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGJvdMOzbiBUdXRvcmlhbFxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiByaWdodEhhbGZYLFxuICAgICAgICAgICAgeTogZmlyc3RCdXR0b25ZICsgYnV0dG9uU3BhY2luZyxcbiAgICAgICAgICAgIGxhYmVsOiAnVHV0b3JpYWwnLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnVHV0b3JpYWxfU2NlbmUnLCB7IHJldHVyblNjZW5lOiAnTWVudV9TY2VuZScgfSksXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGJvdMOzbiBDb25maWd1cmFjacOzblxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiByaWdodEhhbGZYLFxuICAgICAgICAgICAgeTogZmlyc3RCdXR0b25ZICsgYnV0dG9uU3BhY2luZyAqIDIsXG4gICAgICAgICAgICBsYWJlbDogJ0NvbmZpZ3VyYWNpw7NuJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ0NvbmZpZ3VyYXRpb25fU2NlbmUnKSxcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYm90w7NuIENyw6lkaXRvc1xuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiByaWdodEhhbGZYLFxuICAgICAgICAgICAgeTogZmlyc3RCdXR0b25ZICsgYnV0dG9uU3BhY2luZyAqIDMsXG4gICAgICAgICAgICBsYWJlbDogJ0Nyw6lkaXRvcycsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdDcmVkaXRzX1NjZW5lJyksXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXG4gICAgICAgIH0pO1xuICAgICAgICAvLy8vLy8vLy9cblxuICAgICAgICAvLyBsb2dvIGRlIGxhIGVtcHJlc2FcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UodGhpcy5zY2FsZS53aWR0aCAtIDIwLCB0aGlzLnNjYWxlLmhlaWdodCAtIDIwLCAnbG9nb0VtcHJlc2EnKVxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNDIpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDEsIDEpO1xuICAgIH1cbn1cbiIsIi8vIENsYXNlIGRlIGxhIGVudGlkYWQgXCJwZXJzb25hamVcIiwgc2UgdGllbmUgZW4gY3VlbnRhIHF1ZSBzb24gMyBwZXJzb25hamVzIGRpc3RpbnRvc1xyXG5cclxuY29uc3QgUE9XRVJVUF9EVVJBVElPTl9NUyA9IHtcclxuICB2ZWxvY2lkYWQ6IDQwMDAsXHJcbiAgcmFsZW50aXphcjogNDAwMCxcclxuICBwYXJhbGl6YXI6IDI1MDAsXHJcbiAgcG9yMjogNDAwMCxcclxuICBwb3IzOiA0MDAwLFxyXG59O1xyXG5cclxuY29uc3QgU1BFRURfTVVMVCA9IHtcclxuICB2ZWxvY2lkYWQ6IDEuNSxcclxuICByYWxlbnRpemFyOiAwLjUsXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWVyIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHgsIHksIGNoYXJhY3RlclR5cGUpIHtcclxuICAgICAgICAvLyBJTklDSUFMSVpBQ0nDk05cclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkOyAgICAgICAgICAgICAgICAgICAgICAgLy8gaWRlbnRpZmljYWRvciBkZWwganVnYWRvciAoUDEsIFAyKVxyXG4gICAgICAgIHRoaXMuY2hhcmFjdGVyVHlwZSA9IGNoYXJhY3RlclR5cGU7IC8vIGluZGljYSBxdcOpIHBlcnNvbmFqZSBzZSBoYSBlbGVnaWRvXHJcblxyXG4gICAgICAgIC8vIHZlbG9jaWRhZCBkZSBtb3ZpbWllbnRvXHJcbiAgICAgICAgdGhpcy5iYXNlTW92ZVNwZWVkID0gMjUwO1xyXG4gICAgICAgIHRoaXMubW92ZVNwZWVkID0gdGhpcy5iYXNlTW92ZVNwZWVkO1xyXG5cclxuICAgICAgICB0aGlzLmp1bXBTcGVlZCA9IDI3NTsgICAvLyBmdWVyemEgZGUgc2FsdG9cclxuXHJcbiAgICAgICAgdGhpcy5hY3RpdmVQb3dlclVwcyA9IHt9OyAgIC8vIHBvd2VydXBzIGFjdGl2b3NcclxuXHJcbiAgICAgICAgLy8gZXN0YWRvcyBkZSBwb3dlci11cHNcclxuICAgICAgICB0aGlzLmlzUGFyYWx5emVkID0gZmFsc2U7ICAgICAgIC8vIHBhcmEgZWwgcG93ZXIgdXAgXCJwYXJhbGl6YXJcIlxyXG4gICAgICAgIHRoaXMucGFyYWx5c2lzVHdlZW4gPSBudWxsOyAgICAgLy8gYWwgcXVlZGFyc2UgcGFyYWxpemFkbyAtPiByb2pvXHJcbiAgICAgICAgdGhpcy5zcGVlZEVmZmVjdEFjdGl2ZSA9IGZhbHNlOyAvLyB2ZWxvY2lkYWQgLT4gY2lhbi92ZXJkZVxyXG4gICAgICAgIHRoaXMuc2xvd0VmZmVjdEFjdGl2ZSA9IGZhbHNlOyAgLy8gcmFsZW50aXphZG8gLT4gYXp1bFxyXG5cclxuICAgICAgICB0aGlzLnNjb3JlTXVsdGlwbGllciA9IDE7ICAgICAgIC8vIHBhcmEgcG9yMiAvIHBvcjNcclxuICAgICAgICAvLyB0ZXh0byBmbG90YW50ZSBwYXJhIG1vc3RyYXIgeDIgLyB4M1xyXG4gICAgICAgIHRoaXMubXVsdGlwbGllclRleHQgPSB0aGlzLnNjZW5lLmFkZC50ZXh0KHgsIHkgLSA1MCwgJycsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41LCAxKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMjApXHJcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnBvd2VyVXBJbnZlbnRvcnkgPSBbXTsgLy8gbcOheGltbyAyXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IGZhbHNlOyAgIC8vIGVzdGFkbyBkZSByZWNlcGNpw7NuXHJcblxyXG4gICAgICAgIC8vIGzDrW1pdGVzIGRlIG1vdmltaWVudG8gcGVyc29uYWxpemFkb3NcclxuICAgICAgICB0aGlzLmJvdW5kc0xlZnQgPSAwO1xyXG4gICAgICAgIHRoaXMuYm91bmRzUmlnaHQgPSA5NjA7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNUb3AgPSAwO1xyXG4gICAgICAgIHRoaXMuYm91bmRzQm90dG9tID0gNTQwO1xyXG5cclxuICAgICAgICAvLyBjb25maWd1cmFjacOzbiBkZSBsb3Mgc3ByaXRlcyB5IGxhcyBhbmltYWNpb25lcyBzZWfDum4gZWwgcGVyc29uYWplIGVsZWdpZG9cclxuICAgICAgICBjb25zdCBDSEFSQUNURVJfQ09ORklHID0ge1xyXG4gICAgICAgICAgICAvLyBlcXVpbGlicmFkbyB5IHNpbXDDoXRpY29cclxuICAgICAgICAgICAgY2hhcmFjdGVyQToge1xyXG4gICAgICAgICAgICAgICAgdGV4dHVyZUtleTogJ2NoYXJBX21vdmUnLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRGcmFtZTogMCxcclxuICAgICAgICAgICAgICAgIGlkbGVMZWZ0QW5pbTogJ2NoYXJBX2lkbGVMZWZ0JyxcclxuICAgICAgICAgICAgICAgIGlkbGVSaWdodEFuaW06ICdjaGFyQV9pZGxlUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgcnVuTGVmdEFuaW06ICdjaGFyQV9ydW5MZWZ0JyxcclxuICAgICAgICAgICAgICAgIHJ1blJpZ2h0QW5pbTogJ2NoYXJBX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIGp1bXBMZWZ0QW5pbTogJ2NoYXJBX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgICAgIGp1bXBSaWdodEFuaW06ICdjaGFyQV9qdW1wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZUxlZnRBbmltOiAnY2hhckFfcmVjZWl2ZUxlZnQnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZVJpZ2h0QW5pbTogJ2NoYXJBX3JlY2VpdmVSaWdodCcsXHJcbiAgICAgICAgICAgICAgICB2aWN0b3J5OlwiY2hhckFfdmljdG9yeVwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIHLDoXBpZG8geSBjb21wZXRpdGl2b1xyXG4gICAgICAgICAgICBjaGFyYWN0ZXJCOiB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0dXJlS2V5OiAnY2hhckJfbW92ZScsXHJcbiAgICAgICAgICAgICAgICBzdGFydEZyYW1lOiAwLFxyXG4gICAgICAgICAgICAgICAgaWRsZUxlZnRBbmltOiAnY2hhckJfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICAgICAgaWRsZVJpZ2h0QW5pbTogJ2NoYXJCX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgICAgICBydW5MZWZ0QW5pbTogJ2NoYXJCX3J1bkxlZnQnLFxyXG4gICAgICAgICAgICAgICAgcnVuUmlnaHRBbmltOiAnY2hhckJfcnVuUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAganVtcExlZnRBbmltOiAnY2hhckJfanVtcExlZnQnLFxyXG4gICAgICAgICAgICAgICAganVtcFJpZ2h0QW5pbTogJ2NoYXJCX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlTGVmdEFuaW06ICdjaGFyQl9yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlUmlnaHRBbmltOiAnY2hhckJfcmVjZWl2ZVJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHZpY3Rvcnk6XCJjaGFyQl92aWN0b3J5XCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gZGl2ZXJ0aWRvIHkgYWxnbyBkaXN0cmHDrWRvXHJcbiAgICAgICAgICAgIGNoYXJhY3RlckM6IHtcclxuICAgICAgICAgICAgICAgIHRleHR1cmVLZXk6ICdjaGFyQ19tb3ZlJyxcclxuICAgICAgICAgICAgICAgIHN0YXJ0RnJhbWU6IDAsXHJcbiAgICAgICAgICAgICAgICBpZGxlTGVmdEFuaW06ICdjaGFyQ19pZGxlTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBpZGxlUmlnaHRBbmltOiAnY2hhckNfaWRsZVJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHJ1bkxlZnRBbmltOiAnY2hhckNfcnVuTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBydW5SaWdodEFuaW06ICdjaGFyQ19ydW5SaWdodCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wTGVmdEFuaW06ICdjaGFyQ19qdW1wTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wUmlnaHRBbmltOiAnY2hhckNfanVtcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVMZWZ0QW5pbTogJ2NoYXJDX3JlY2VpdmVMZWZ0JyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVSaWdodEFuaW06ICdjaGFyQ19yZWNlaXZlUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgdmljdG9yeTpcImNoYXJDX3ZpY3RvcnlcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gc2kgdmllbmUgdW4gdGlwbyBkZSBwZXJzb25hamUgaW52w6FsaWRvLCBzZSB1c2EgY2hhcmFjdGVyQSBwb3IgZGVmZWN0b1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gQ0hBUkFDVEVSX0NPTkZJR1tjaGFyYWN0ZXJUeXBlXSB8fCBDSEFSQUNURVJfQ09ORklHLmNoYXJhY3RlckE7XHJcblxyXG4gICAgICAgIC8vIHNlIGNyZWEgZWwgc3ByaXRlIGbDrXNpY28gZGVsIGp1Z2Fkb3JcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKFxyXG4gICAgICAgICAgICB4LFxyXG4gICAgICAgICAgICB5LFxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy50ZXh0dXJlS2V5LFxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5zdGFydEZyYW1lXHJcbiAgICAgICAgKTtcclxuICAgICAgICAvLyBzZSBoYWNlIHVuIHBvY28gbcOhcyBncmFuZGVcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSgyLjUpO1xyXG4gICAgICAgIC8vIHNlIGFqdXN0YSBsYSBoaXRib3ggYWwgbnVldm8gdGFtYcOxbyBwYXJhIGxhcyBjb2xpc2lvbmVzLCBzZSByZWR1Y2VuXHJcbiAgICAgICAgLy90aGlzLnNwcml0ZS5ib2R5LnNldFNpemUodGhpcy5zcHJpdGUud2lkdGgsIHRoaXMuc3ByaXRlLmhlaWdodCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRTaXplKHRoaXMuc3ByaXRlLndpZHRoICogMC45LCB0aGlzLnNwcml0ZS5oZWlnaHQgKiAwLjksIHRydWUpO1xyXG5cclxuICAgICAgICAvLyBzZSBndWFyZGEgdW5hIHJlZmVyZW5jaWEgaGFjaWEgUGxheWVyIGRlbnRybyBkZWwgcHJvcGlvIHNwcml0ZVxyXG4gICAgICAgIC8vIChlcyDDunRpbCBzaSBlbiBjb2xpc2lvbmVzIHNlIHF1aWVyZSBhY2NlZGVyIGEgbGEgbMOzZ2ljYSlcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREYXRhKCdwbGF5ZXInLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gcGFyYSBjb250cm9sYXIgZGlyZWNjacOzbiBhY3R1YWxcclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcblxyXG4gICAgICAgIC8vIGVzdGFkbyBzaW1wbGU6IGVuIGVsIGFpcmUgbyBub1xyXG4gICAgICAgIHRoaXMuaXNPbkdyb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGZsYWcgcGFyYSBzYWJlciBzaSBlc3TDoSBlbiBhbmltYWNpw7NuIGRlIHNhbHRvXHJcbiAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICAvLyB0aW1lc3RhbXAgcGFyYSBkZXRlY3RhciBzaSBpc0p1bXBpbmcgc2UgcXVlZGEgc3R1Y2sgKHRpbWVvdXQgZGUgMSBzZWd1bmRvKVxyXG4gICAgICAgIHRoaXMuanVtcFN0YXJ0VGltZSA9IDA7XHJcblxyXG4gICAgICAgIC8vIGN1YW5kbyBzZSB0ZXJtaW5lIGxhIGFuaW1hY2nDs24gZGUgcmVjaWJpciwgc2UgZGVqYSBkZSBcImVzdGFyIHJlY2liaWVuZG9cIlxyXG4gICAgICAgIHRoaXMuc3ByaXRlLm9uKCdhbmltYXRpb25jb21wbGV0ZScsIChhbmltKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbS5rZXkgPT09IHRoaXMuY29uZmlnLnJlY2VpdmVMZWZ0QW5pbSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGFuaW0ua2V5ID09PSB0aGlzLmNvbmZpZy5yZWNlaXZlUmlnaHRBbmltXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZWwgc2FsdG8gdGVybWluYSBzZWfDum4gbGEgZsOtc2ljYSArIHVwZGF0ZSgpLCBubyBwb3IgbGEgYW5pbWFjacOzbi5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEFuaW1hdGlvbiBjb21wbGV0ZSBoYW5kbGVyIGVycm9yIGZvciAke2FuaW0ua2V5fTpgLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGVscGVyIHBhcmEgdmVyaWZpY2FyIHNpIGVzdMOhIGVuIGVsIHN1ZWxvIGRlIGZvcm1hIGZpYWJsZVxyXG4gICAgaXNHcm91bmRlZCgpIHtcclxuICAgICAgICBjb25zdCBib2R5ID0gdGhpcy5zcHJpdGUuYm9keTtcclxuICAgICAgICBpZiAoIWJvZHkpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gYmxvY2tlZC5kb3duIOKGkiBjb2xpc2lvbmVzIGNvbiBsw61taXRlcyBkZWwgbXVuZG9cclxuICAgICAgICAvLyB0b3VjaGluZy5kb3duIOKGkiBjb2xpc2lvbmVzIGNvbiBvdHJvcyBjdWVycG9zXHJcbiAgICAgICAgcmV0dXJuIGJvZHkuYmxvY2tlZC5kb3duIHx8IGJvZHkudG91Y2hpbmcuZG93bjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb21wcnVlYmEgc2kgbG9zIHBpZXMgZGVsIGp1Z2Fkb3IgZXN0w6FuIGNlcmNhIGRlbCBzdWVsb1xyXG4gICAgaXNOZWFyR3JvdW5kKHRocmVzaG9sZCA9IDEyKSB7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMuc3ByaXRlLmJvZHk7XHJcbiAgICAgICAgaWYgKCFib2R5KSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNjZW5lLmdyb3VuZFkgIT09ICdudW1iZXInKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHBhcnRlIGluZmVyaW9yIGRlbCBib2R5IChubyBkZWwgc3ByaXRlIGVzY2FsYWRvKVxyXG4gICAgICAgIGNvbnN0IGZlZXRZID0gYm9keS55ICsgYm9keS5oZWlnaHQ7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGZlZXRZIC0gdGhpcy5zY2VuZS5ncm91bmRZKSA8PSB0aHJlc2hvbGQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8vLyBBTklNQUNJT05FUyAvLy8vXHJcbiAgICAvLyBNb3ZpbWllbnRvIGRlbCBwZXJzb25hamUgaGFjaWEgbGEgaXpxdWllcmRhXHJcbiAgICBtb3ZlTGVmdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCB8fCB0aGlzLmlzUmVjZWl2aW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgtdGhpcy5tb3ZlU3BlZWQpO1xyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gJ2xlZnQnO1xyXG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5ydW5MZWZ0QW5pbSk7XHJcbiAgICB9XHJcbiAgICAvLyBNb3ZpbWllbnRvIGRlbCBwZXJzb25hamUgaGFjaWEgbGEgZGVyZWNoYVxyXG4gICAgbW92ZVJpZ2h0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkIHx8IHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKHRoaXMubW92ZVNwZWVkKTtcclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLnJ1blJpZ2h0QW5pbSk7XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIC8vIFNhbHRvL3JlbWF0ZSBkZWwgcGVyc29uYWplIGhhY2lhIGxhIGl6cXVpZXJkYVxyXG4gICAganVtcExlZnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNHcm91bmRlZCgpIHx8IHRoaXMuaXNOZWFyR3JvdW5kKDIwKSkge1xyXG4gICAgICAgICAgICAvLyBwb3Igc2kgdW5hIHJlY2VwY2nDs24gc2UgcXVlZMOzIGEgbWVkaWFzLCBzZSBjYW5jZWxhXHJcbiAgICAgICAgICAgIHRoaXMuaXNSZWNlaXZpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5qdW1wU3RhcnRUaW1lID0gdGhpcy5zY2VuZS50aW1lLm5vdztcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlZKC10aGlzLmp1bXBTcGVlZCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcuanVtcExlZnRBbmltKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZT8ucGxheVNmeD8uKHRoaXMuc2NlbmU/LnNmeD8uanVtcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gU2FsdG8vcmVtYXRlIGRlbCBwZXJzb25hamUgaGFjaWEgbGEgZGVyZWNoYVxyXG4gICAganVtcFJpZ2h0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzR3JvdW5kZWQoKSB8fCB0aGlzLmlzTmVhckdyb3VuZCgyMCkpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmp1bXBTdGFydFRpbWUgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVkoLXRoaXMuanVtcFNwZWVkKTtcclxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSAncmlnaHQnO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcuanVtcFJpZ2h0QW5pbSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmU/LnBsYXlTZng/Lih0aGlzLnNjZW5lPy5zZng/Lmp1bXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWNlcGNpw7NuIGRlbCBwZXJzb25hamUgcG9yIGxhIGl6cXVpZXJkYVxyXG4gICAgcmVjZWl2ZUxlZnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy5pc1JlY2VpdmluZykgcmV0dXJuOyAvLyBubyBzZSByZWluaWNpYSBzaSB5YSBlc3TDoSByZWNpYmllbmRvIFxyXG5cclxuICAgICAgICAvLyBzaSBlc3TDoSB0b2NhbmRvIGVsIHN1ZWxvLCByZWNpYmUgbGEgcGVsb3RhXHJcbiAgICAgICAgaWYgKHRoaXMuaXNHcm91bmRlZCgpIHx8IHRoaXMuaXNOZWFyR3JvdW5kKDIwKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9ICdsZWZ0JztcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLnJlY2VpdmVMZWZ0QW5pbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gUmVjZXBjacOzbiBkZWwgcGVyc29uYWplIHBvciBsYSBkZXJlY2hhXHJcbiAgICByZWNlaXZlUmlnaHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy5pc1JlY2VpdmluZykgcmV0dXJuOyAvLyBubyBzZSByZWluaWNpYSBzaSB5YSBlc3TDoSByZWNpYmllbmRvIFxyXG5cclxuICAgICAgICAvLyBzaSBlc3TDoSB0b2NhbmRvIGVsIHN1ZWxvLCByZWNpYmUgbGEgcGVsb3RhXHJcbiAgICAgICAgaWYgKHRoaXMuaXNHcm91bmRlZCgpIHx8IHRoaXMuaXNOZWFyR3JvdW5kKDIwKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5yZWNlaXZlUmlnaHRBbmltKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUGVyc29uYWplIGlkbGUgaXpkYVxyXG4gICAgaWRsZUxlZnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gc2llbXByZSBkZXRlbmVyIGxhIHZlbG9jaWRhZCBob3Jpem9udGFsIGFsIGVudHJhciBlbiBpZGxlXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gJ2xlZnQnO1xyXG4gICAgICAgIC8vIHJlcHJvZHVjaXIgbGEgYW5pbWFjacOzbiBkZSBpZGxlXHJcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLmlkbGVMZWZ0QW5pbSk7XHJcbiAgICB9XHJcbiAgICAvLyBQZXJzb25hamUgaWRsZSBkY2hhXHJcbiAgICBpZGxlUmlnaHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gc2llbXByZSBkZXRlbmVyIGxhIHZlbG9jaWRhZCBob3Jpem9udGFsIGFsIGVudHJhciBlbiBpZGxlXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gJ3JpZ2h0JztcclxuICAgICAgICAvLyByZXByb2R1Y2lyIGxhIGFuaW1hY2nDs24gZGUgaWRsZVxyXG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5pZGxlUmlnaHRBbmltKTtcclxuICAgIH1cclxuICAgIC8vLy8vLy8vXHJcblxyXG4gICAgLy8gRXN0YWJsZWNlciBsb3MgbMOtbWl0ZXMgZGUgbW92aW1pZW50byBkZWwganVnYWRvciAocGFyYSBjb25maW5hciBhIGxhIGNhbmNoYSlcclxuICAgIHNldEJvdW5kcyhsZWZ0LCByaWdodCwgdG9wLCBib3R0b20pIHtcclxuICAgICAgICB0aGlzLmJvdW5kc0xlZnQgPSBsZWZ0O1xyXG4gICAgICAgIHRoaXMuYm91bmRzUmlnaHQgPSByaWdodDtcclxuICAgICAgICB0aGlzLmJvdW5kc1RvcCA9IHRvcDtcclxuICAgICAgICB0aGlzLmJvdW5kc0JvdHRvbSA9IGJvdHRvbTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNYW50ZW5lciBlbCBqdWdhZG9yIGRlbnRybyBkZSBsb3MgbMOtbWl0ZXNcclxuICAgIGNsYW1wV2l0aGluQm91bmRzKCkge1xyXG4gICAgICAgIGNvbnN0IGhhbGZXaWR0aCA9IHRoaXMuc3ByaXRlLndpZHRoIC8gMjtcclxuICAgICAgICAvLyBsaW1pdGFyIHBvc2ljacOzbiBob3Jpem9udGFsIChYKVxyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS54IC0gaGFsZldpZHRoIDwgdGhpcy5ib3VuZHNMZWZ0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnggPSB0aGlzLmJvdW5kc0xlZnQgKyBoYWxmV2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLnggKyBoYWxmV2lkdGggPiB0aGlzLmJvdW5kc1JpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnggPSB0aGlzLmJvdW5kc1JpZ2h0IC0gaGFsZldpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE1vdmVyIGVsIGp1Z2Fkb3IgYSB1bmEgcG9zaWNpw7NuIGNvbmNyZXRhICh5IGRldGVuZXJsbylcclxuICAgIC8vIChzZSBsbGFtYSBhbCBjYW1iaWFyIGRlIHNldHMpXHJcbiAgICBzZXRQb3NpdGlvbih4LCB5KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNwcml0ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRQb3NpdGlvbih4LCB5KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTsgLy8gcG9yIHNpIHZlbsOtYSBjb24gdmVsb2NpZGFkXHJcblxyXG4gICAgICAgIC8vIGFjdHVhbGl6YXIgdGFtYmnDqW4gbGEgcG9zaWNpw7NuIGRlbCB0ZXh0byB4Mi94M1xyXG4gICAgICAgIHRoaXMudXBkYXRlTXVsdGlwbGllclRleHRQb3NpdGlvbigpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB1cGRhdGVNdWx0aXBsaWVyVGV4dFBvc2l0aW9uKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tdWx0aXBsaWVyVGV4dCB8fCAhdGhpcy5zcHJpdGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gYWx0dXJhIOKAnHZpc3VhbOKAnSBkZWwgc3ByaXRlIHBhcmEgY29sb2NhciBlbCB0ZXh0byBlbmNpbWEgZGUgbGEgY2FiZXphXHJcbiAgICAgICAgY29uc3QgZGlzcGxheUggPSB0aGlzLnNwcml0ZS5kaXNwbGF5SGVpZ2h0IHx8IHRoaXMuc3ByaXRlLmhlaWdodCB8fCA0MDtcclxuICAgICAgICBjb25zdCBvZmZzZXRZID0gZGlzcGxheUggKiAwLjY7IC8vIGFqdXN0YSBzaSBxdWllcmVzIG3DoXMgYXJyaWJhL2FiYWpvXHJcblxyXG4gICAgICAgIHRoaXMubXVsdGlwbGllclRleHQuc2V0UG9zaXRpb24oXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLngsXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnkgLSBvZmZzZXRZXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXByb2R1Y2UgdW5hIGFuaW1hY2nDs24gc2kgZXhpc3RlIChzb2xvIHNpIG5vIGVzdMOhIHlhIHJlcHJvZHVjacOpbmRvc2UpXHJcbiAgICBwbGF5QW5pbWF0aW9uKGFuaW1LZXkpIHtcclxuICAgICAgICBpZiAoIWFuaW1LZXkpIHJldHVybjtcclxuICAgICAgICBpZiAoIXRoaXMuc3ByaXRlLmFuaW1zKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIHNpIGVzdGFtb3MgZW4gc2FsdG8sIGlnbm9yYXIgY3VhbHF1aWVyIGFuaW1hY2nDs24gcXVlIG5vIHNlYSBkZSBzYWx0b1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgJiZcclxuICAgICAgICAgICAgYW5pbUtleSAhPT0gdGhpcy5jb25maWcuanVtcExlZnRBbmltICYmXHJcbiAgICAgICAgICAgIGFuaW1LZXkgIT09IHRoaXMuY29uZmlnLmp1bXBSaWdodEFuaW1cclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY3VycmVudEFuaW0gPSB0aGlzLnNwcml0ZS5hbmltcy5jdXJyZW50QW5pbTtcclxuICAgICAgICBpZiAodGhpcy5zcHJpdGUuYW5pbXMuaXNQbGF5aW5nICYmIGN1cnJlbnRBbmltICYmIGN1cnJlbnRBbmltLmtleSA9PT0gYW5pbUtleSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5wbGF5KGFuaW1LZXksIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdHVhbGl6YXIgZmxhZ3MgY29tbyBpc09uR3JvdW5kIChzZSBsbGFtYSBhIGVzdG8gZGVzZGUgbGEgZXNjZW5hLCBlbiBjYWRhIGZyYW1lKVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS5ib2R5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHdhc09uR3JvdW5kID0gdGhpcy5pc09uR3JvdW5kO1xyXG4gICAgICAgICAgICB0aGlzLmlzT25Hcm91bmQgPSB0aGlzLmlzR3JvdW5kZWQoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBbmltID0gdGhpcy5zcHJpdGUuYW5pbXMuY3VycmVudEFuaW07XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRLZXkgPSBjdXJyZW50QW5pbSA/IGN1cnJlbnRBbmltLmtleSA6IG51bGw7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApOyAvLyBwb3Igc2kgYWNhc29cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gZmFpbHNhZmUgcmVjZXBjacOzbjogc2kgZWwgZmxhZyBkaWNlIFwicmVjaWJpZW5kb1wiIHBlcm8gbGEgYW5pbWFjacOzbiBubyBsbyBlc1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50S2V5ICE9PSB0aGlzLmNvbmZpZy5yZWNlaXZlTGVmdEFuaW0gJiZcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRLZXkgIT09IHRoaXMuY29uZmlnLnJlY2VpdmVSaWdodEFuaW1cclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGZhaWxzYWZlIHNhbHRvOiBzaSBpc0p1bXBpbmcgZXMgdHJ1ZSBwZXJvIGxhIGFuaW1hY2nDs24gYWN0dWFsIE5PIGVzIGRlIHNhbHRvXHJcbiAgICAgICAgICAgIC8vICh5IGhheSBhbmltYWNpw7NuKSwgc2UgYXN1bWUgcXVlIHRlcm1pbsOzXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50S2V5ICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50S2V5ICE9PSB0aGlzLmNvbmZpZy5qdW1wTGVmdEFuaW0gJiZcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRLZXkgIT09IHRoaXMuY29uZmlnLmp1bXBSaWdodEFuaW1cclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB0aW1lb3V0IGRlIHNhbHRvIHBvciBzZWd1cmlkYWRcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNKdW1waW5nICYmICh0aGlzLnNjZW5lLnRpbWUubm93IC0gdGhpcy5qdW1wU3RhcnRUaW1lID4gMTUwMCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGF0ZXJyaXphamUgcmVhbFxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0p1bXBpbmcgJiYgIXdhc09uR3JvdW5kICYmIHRoaXMuaXNPbkdyb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZGxlTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkbGVSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2xhbXBXaXRoaW5Cb3VuZHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVNdWx0aXBsaWVyVGV4dFBvc2l0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXNvIGRlIGxvcyBwb3dlci11cHNcclxuICAgIGFwcGx5UG93ZXJVcCh0eXBlKSB7XHJcbiAgICAgICAgLy8gaW52ZW50YXJpbyBtw6F4aW1vIGRlIDJcclxuICAgICAgICBpZiAodGhpcy5wb3dlclVwSW52ZW50b3J5Lmxlbmd0aCA+PSAyKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMucG93ZXJVcEludmVudG9yeS5wdXNoKHR5cGUpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHVzZU5leHRQb3dlclVwKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBvd2VyVXBJbnZlbnRvcnkubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLnBvd2VyVXBJbnZlbnRvcnkuc2hpZnQoKTtcclxuICAgICAgICB0aGlzLmFjdGl2YXRlUG93ZXJVcCh0eXBlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3RpdmEgZWwgZWZlY3RvIGRlbCBwb3dlci11cFxyXG4gICAgYWN0aXZhdGVQb3dlclVwKHR5cGUpIHtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAndmVsb2NpZGFkJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlPclJlZnJlc2hUaW1lZEVmZmVjdCgndmVsb2NpZGFkJywgUE9XRVJVUF9EVVJBVElPTl9NUy52ZWxvY2lkYWQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3JhbGVudGl6YXInOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcHBvbmVudCA9IHRoaXMuZ2V0T3Bwb25lbnQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChvcHBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wcG9uZW50LmFwcGx5T3JSZWZyZXNoVGltZWRFZmZlY3QoJ3JhbGVudGl6YXInLCBQT1dFUlVQX0RVUkFUSU9OX01TLnJhbGVudGl6YXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSAncGFyYWxpemFyJzoge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3Bwb25lbnQgPSB0aGlzLmdldE9wcG9uZW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAob3Bwb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHBvbmVudC5hcHBseU9yUmVmcmVzaFRpbWVkRWZmZWN0KCdwYXJhbGl6YXInLCBQT1dFUlVQX0RVUkFUSU9OX01TLnBhcmFsaXphcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlICdwb3IyJzpcclxuICAgICAgICAgICAgY2FzZSAncG9yMyc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5T3JSZWZyZXNoVGltZWRFZmZlY3QodHlwZSwgUE9XRVJVUF9EVVJBVElPTl9NU1t0eXBlXSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWN0dWFsaXphIGxvcyBwb3dlci11cHNcclxuICAgIHVwZGF0ZVBvd2VyVXBzKCkge1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcblxyXG4gICAgICAgIGxldCBzcGVlZE5lZWRzUmVjYWxjID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IHNjb3JlTmVlZHNSZWNhbGMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gc2UgcmV2aXNhbiB0b2RvcyBsb3MgcG93ZXItdXBzIGFjdGl2b3NcclxuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgaW4gdGhpcy5hY3RpdmVQb3dlclVwcykge1xyXG4gICAgICAgICAgICBpZiAobm93IDw9IHRoaXMuYWN0aXZlUG93ZXJVcHNbdHlwZV0pIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYWN0aXZlUG93ZXJVcHNbdHlwZV07XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3ZlbG9jaWRhZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTcGVlZEVmZmVjdChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BlZWROZWVkc1JlY2FsYyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyYWxlbnRpemFyJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNsb3dFZmZlY3QoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkTmVlZHNSZWNhbGMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncGFyYWxpemFyJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFBhcmFseXplZChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdwb3IyJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3BvcjMnOlxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3JlTmVlZHNSZWNhbGMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc3BlZWROZWVkc1JlY2FsYykgdGhpcy5yZWNhbGN1bGF0ZU1vdmVTcGVlZCgpO1xyXG4gICAgICAgIGlmIChzY29yZU5lZWRzUmVjYWxjKSB0aGlzLnJlY2FsY3VsYXRlU2NvcmVFZmZlY3QoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8vLyBFRkVDVE9TIFZJU1VBTEVTIERFIExPUyBQT1dFUi1VUFMgLy8vL1xyXG4gICAgLy8gcGFyYWxpemFyIC0+IHJvam8gKyBwYXJwYWRlb1xyXG4gICAgc2V0UGFyYWx5emVkKGlzUGFyYWx5emVkKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhcmFseXplZCA9IGlzUGFyYWx5emVkO1xyXG5cclxuICAgICAgICBpZiAoaXNQYXJhbHl6ZWQpIHtcclxuICAgICAgICAgICAgLy8gZmVlZGJhY2sgdmlzdWFsOiByb2pvICsgcGFycGFkZW9cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VGludCgweGZmNTU1NSk7ICAgLy8gcm9qaXpvXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgLy8gcG9yIHNpIHlhIGhhYsOtYSB1biB0d2VlbiBhbnRlcmlvclxyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbHlzaXNUd2Vlbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2Vlbi5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFseXNpc1R3ZWVuID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2VlbiA9IHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRzOiB0aGlzLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIGFscGhhOiAwLjMsXHJcbiAgICAgICAgICAgICAgICB5b3lvOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMCxcclxuICAgICAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBzZWd1cmlkYWQgZXh0cmE6IHF1ZSBzZSBxdWVkZSBxdWlldG8gaG9yaXpvbnRhbG1lbnRlXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gcXVpdGFyIHNvbG8gZWwgZWZlY3RvIGRlIHBhcnBhZGVvLCBlbCBjb2xvciBzZSByZWNhbGN1bGFcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbHlzaXNUd2Vlbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2Vlbi5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFseXNpc1R3ZWVuID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVm9sdmVtb3MgYSBhcGxpY2FyIGVsIGNvbG9yIGRlIG90cm9zIHBvd2VyLXVwcyBhY3Rpdm9zIChzaSBsb3MgaGF5KVxyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hQb3dlclVwVmlzdWFscygpO1xyXG4gICAgICAgIH1cclxuICAgIH0gICAgXHJcblxyXG4gICAgLy8gdmVsb2NpZGFkIC0+IG5hcmFuamFcclxuICAgIHNldFNwZWVkRWZmZWN0KGFjdGl2ZSkge1xyXG4gICAgICAgIHRoaXMuc3BlZWRFZmZlY3RBY3RpdmUgPSBhY3RpdmU7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoUG93ZXJVcFZpc3VhbHMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByYWxlbnRpemFyIC0+IGF6dWxcclxuICAgIHNldFNsb3dFZmZlY3QoYWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5zbG93RWZmZWN0QWN0aXZlID0gYWN0aXZlO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFBvd2VyVXBWaXN1YWxzKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFJlY2FsY3VsYSBsYSB2ZWxvY2lkYWQgZGUgbW92aW1pZW50byBzZWfDum4gbG9zIHBvd2VyLXVwcyBxdWUgZXN0w6luIGFjdGl2b3NcclxuICAgIHJlY2FsY3VsYXRlTW92ZVNwZWVkKCkge1xyXG4gICAgICAgIGxldCBtdWx0ID0gMTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlUG93ZXJVcHMudmVsb2NpZGFkKSBtdWx0ICo9IFNQRUVEX01VTFQudmVsb2NpZGFkO1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVBvd2VyVXBzLnJhbGVudGl6YXIpIG11bHQgKj0gU1BFRURfTVVMVC5yYWxlbnRpemFyO1xyXG5cclxuICAgICAgICB0aGlzLm1vdmVTcGVlZCA9IHRoaXMuYmFzZU1vdmVTcGVlZCAqIG11bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVjYWxjdWxhIGVsIG11bHRpcGxpY2Fkb3IgZGUgcHVudHVhY2nDs24gZW4gZnVuY2nDs24gZGUgcG9yMi9wb3IzIGFjdGl2b3NcclxuICAgIHJlY2FsY3VsYXRlU2NvcmVFZmZlY3QoKSB7XHJcbiAgICAgICAgbGV0IG11bHRpcGxpZXIgPSAxO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5hY3RpdmVQb3dlclVwc1sncG9yMiddKSB7XHJcbiAgICAgICAgICAgIG11bHRpcGxpZXIgPSBNYXRoLm1heChtdWx0aXBsaWVyLCAyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlUG93ZXJVcHNbJ3BvcjMnXSkge1xyXG4gICAgICAgICAgICBtdWx0aXBsaWVyID0gTWF0aC5tYXgobXVsdGlwbGllciwgMyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNjb3JlTXVsdGlwbGllciA9IG11bHRpcGxpZXI7XHJcblxyXG4gICAgICAgIC8vIGZlZWRiYWNrIHZpc3VhbCBjb24gdGV4dG8geDIgLyB4M1xyXG4gICAgICAgIGlmICh0aGlzLm11bHRpcGxpZXJUZXh0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjb3JlTXVsdGlwbGllciA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlwbGllclRleHQuc2V0VGV4dCgneCcgKyB0aGlzLnNjb3JlTXVsdGlwbGllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpcGxpZXJUZXh0LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpcGxpZXJUZXh0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBtYW50ZW5lciBsb3MgY29sb3JlcyBxdWUgeWEgc2UgdGVuw61hblxyXG4gICAgICAgIHRoaXMucmVmcmVzaFBvd2VyVXBWaXN1YWxzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXBsaWNhIG8gYWN0dWFsaXphIGxhIGR1cmFjacOzbiBkZSB1biBwb3dlci11cFxyXG4gICAgYXBwbHlPclJlZnJlc2hUaW1lZEVmZmVjdCh0eXBlLCBkdXJhdGlvbk1zKSB7XHJcbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5zY2VuZS50aW1lLm5vdztcclxuICAgICAgICB0aGlzLmFjdGl2ZVBvd2VyVXBzW3R5cGVdID0gbm93ICsgZHVyYXRpb25NcztcclxuXHJcbiAgICAgICAgLy8gc2UgYWN0aXZhIGVsIGZlZWRiYWNrL2VzdGFkb1xyXG4gICAgICAgIGlmICh0eXBlID09PSAndmVsb2NpZGFkJykgdGhpcy5zZXRTcGVlZEVmZmVjdCh0cnVlKTtcclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3JhbGVudGl6YXInKSB0aGlzLnNldFNsb3dFZmZlY3QodHJ1ZSk7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdwYXJhbGl6YXInKSB0aGlzLnNldFBhcmFseXplZCh0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gc2UgcmVjYWxjdWxhbiBsb3MgZWZlY3RvcyBzaSBlcyBuZWNlc2FyaW9cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3ZlbG9jaWRhZCcgfHwgdHlwZSA9PT0gJ3JhbGVudGl6YXInKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjYWxjdWxhdGVNb3ZlU3BlZWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdwb3IyJyB8fCB0eXBlID09PSAncG9yMycpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWNhbGN1bGF0ZVNjb3JlRWZmZWN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIERlY2lkZSBxdcOpIHRpbnRlIG1vc3RyYXIgc2Vnw7puIGVsIGVzdGFkbyBhY3R1YWxcclxuICAgIHJlZnJlc2hQb3dlclVwVmlzdWFscygpIHtcclxuICAgICAgICAvLyBzaSBlc3TDoSBwYXJhbGl6YWRvLCBsYSBwYXLDoWxpc2lzIG1hbmRhIChjb2xvciAgcm9qbyArIHBhcnBhZGVvKVxyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBoYXNlciBzb2xvIHBlcm1pdGUgdW4gY29sb3IgYSBsYSB2ZXogcG9yIHNwcml0ZSwgcG9yIGVzbyBsYVxyXG4gICAgICAgIC8vIHByaW9yaWRhZCB2aXN1YWwgZXM6IHJhbGVudGl6YXIgPiB2ZWxvY2lkYWQgPiBtdWx0aXBsaWNhZG9yXHJcbiAgICAgICAgaWYgKHRoaXMuc2xvd0VmZmVjdEFjdGl2ZSkge1xyXG4gICAgICAgICAgICAvLyBhenVsIG9zY3VybyBwYXJhIHJhbGVudGl6YXJcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VGludCgweDU1NTVmZik7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNwZWVkRWZmZWN0QWN0aXZlKSB7XHJcbiAgICAgICAgICAgIC8vIG5hcmFuamEgcGFyYSB2ZWxvY2lkYWRcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VGludCgweGZmOGMwMCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNjb3JlTXVsdGlwbGllciA+IDEpIHtcclxuICAgICAgICAgICAgLy8gdmVyZGUgcGFyYSB4MiAvIHgzXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHgzMmNkMzIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHNpbiBlZmVjdG9zXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLmNsZWFyVGludCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vLy8vLy9cclxuXHJcbiAgICBnZXRPcHBvbmVudCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc2NlbmUucGxheWVycykgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5zY2VuZS5wbGF5ZXJzLnZhbHVlcygpKS5maW5kKHAgPT4gcCAhPT0gdGhpcyk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEFwcGx5UG93ZXJVcENvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKHBsYXllciwgcG93ZXJVcFR5cGUpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XG4gICAgICAgIHRoaXMucG93ZXJVcFR5cGUgPSBwb3dlclVwVHlwZTtcbiAgICAgICAgdGhpcy5zdG9yZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBleGVjdXRlKCkge1xuICAgICAgICB0aGlzLnN0b3JlZCA9IHRoaXMucGxheWVyLmFwcGx5UG93ZXJVcCh0aGlzLnBvd2VyVXBUeXBlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmVkO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFwcGx5UG93ZXJVcENvbW1hbmQgfSBmcm9tIFwiLi4vQ29tbWFuZHMvQXBwbHlQb3dlclVwQ29tbWFuZFwiO1xuXG5leHBvcnQgY2xhc3MgUG93ZXJVcCB7XG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHksIHR5cGUpIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuXG4gICAgICAgIHRoaXMuaXNDb2xsZWN0ZWQgPSBmYWxzZTsgICAvLyBwYXJhIGV2aXRhciByZWNvZ2VyIHZhcmlhcyB2ZWNlc1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTsgICAgLy8gcGFyYSBldml0YXIgZGVzdHJ1aXIgdmFyaWFzIHZlY2VzXG4gICAgICAgIHRoaXMuX2Nvb2xkb3duVW50aWwgPSAwOyAgICAvLyB0aWVtcG8gaGFzdGEgZWwgcXVlIG5vIHNlIHB1ZWRlIHJlY29nZXJcblxuICAgICAgICB0aGlzLmZhZGVTdGFydCA9IDMwMDA7ICAgICAgLy8gbXMgaGFzdGEgZW1wZXphciBhIGRlc3ZhbmVjZXJzZVxuICAgICAgICB0aGlzLmxpZmV0aW1lID0gNTAwMDsgICAgICAgLy8gbXMgZGUgdmlkYSB0b3RhbFxuXG4gICAgICAgIHRoaXMuX292ZXJsYXBzID0gW107ICAgICAgICAvLyBjb2xsaWRlcnMgb3ZlcmxhcHNcbiAgICAgICAgdGhpcy5mYWRlVHdlZW4gPSBudWxsOyAgICAgIC8vIHR3ZWVuIGRlIGZhZGVcbiAgICAgICAgdGhpcy5fbGlmZXRpbWVUaW1lciA9IG51bGw7IC8vIHRpbWVyIGRlIHZpZGFcblxuICAgICAgICB0aGlzLnNwcml0ZSA9IHNjZW5lLnBoeXNpY3MuYWRkLnN0YXRpY0ltYWdlKHgsIHksIHR5cGUpXG4gICAgICAgICAgICAuc2V0U2NhbGUoMS4yKVxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKCk7XG5cbiAgICAgICAgLy8gc2UgYWN0dWFsaXphIGVsIGJvZHkgdHJhcyBlbCBlc2NhbGFkb1xuICAgICAgICBpZiAodGhpcy5zcHJpdGUucmVmcmVzaEJvZHkpIHRoaXMuc3ByaXRlLnJlZnJlc2hCb2R5KCk7XG5cbiAgICAgICAgLy8gc2UgZ3VhcmRhIGVsIHR3ZWVuIHBhcmEgcG9kZXIgcGFyYXJsbyBlbiBkZXN0cm95XG4gICAgICAgIGNvbnN0IGZhZGVEZWxheSA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMuZmFkZVN0YXJ0LCB0aGlzLmxpZmV0aW1lKSk7XG4gICAgICAgIGNvbnN0IGZhZGVEdXJhdGlvbiA9IE1hdGgubWF4KDAsIHRoaXMubGlmZXRpbWUgLSBmYWRlRGVsYXkpO1xuXG4gICAgICAgIGlmIChmYWRlRHVyYXRpb24gPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmZhZGVUd2VlbiA9IHNjZW5lLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuc3ByaXRlLFxuICAgICAgICAgICAgICAgIGFscGhhOiAwLFxuICAgICAgICAgICAgICAgIGRlbGF5OiBmYWRlRGVsYXksXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGZhZGVEdXJhdGlvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvdmVybGFwcyBjb24gbG9zIGp1Z2Fkb3Jlc1xuICAgICAgICBjb25zdCBwbGF5ZXJzID0gc2NlbmUucGxheWVycztcbiAgICAgICAgaWYgKHBsYXllcnMgJiYgdHlwZW9mIHBsYXllcnMuZm9yRWFjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFwbGF5ZXI/LnNwcml0ZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYyA9IHNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAoXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB0aGlzLmNvbGxlY3QocGxheWVyKSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5fb3ZlcmxhcHMucHVzaChjKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGltZXIgZGUgdmlkYVxuICAgICAgICB0aGlzLl9saWZldGltZVRpbWVyID0gc2NlbmUudGltZS5kZWxheWVkQ2FsbCh0aGlzLmxpZmV0aW1lLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUmVjb2dlIGVsIHBvd2VyLXVwXG4gICAgY29sbGVjdChwbGF5ZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tQb3dlclVwXSBvdmVybGFwIGNvbicsIHBsYXllci5pZCwgJ3RpcG8nLCB0aGlzLnR5cGUpO1xuXG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMuaXNDb2xsZWN0ZWQpIHJldHVybjtcblxuICAgICAgICAvLyBzaSBlbCBpbnZlbnRhcmlvIGVzdMOhIGxsZW5vIHkgZWwganVnYWRvciBzZSBxdWVkYSBlbmNpbWEsIHNlIGV2aXRhIGVsIHNwYW1cbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5zY2VuZS50aW1lLm5vdztcbiAgICAgICAgaWYgKHRoaXMuX2Nvb2xkb3duVW50aWwgJiYgbm93IDwgdGhpcy5fY29vbGRvd25VbnRpbCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuaXNDb2xsZWN0ZWQgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IGNtZCA9IG5ldyBBcHBseVBvd2VyVXBDb21tYW5kKHBsYXllciwgdGhpcy50eXBlKTtcbiAgICAgICAgdGhpcy5zY2VuZS5jb21tYW5kUHJvY2Vzc29yLnByb2Nlc3MoY21kKTtcblxuICAgICAgICAvLyBzaSBOTyBzZSBwdWVkZSBndWFyZGFyIHBvcnF1ZSBlbCBpbnZlbnRhcmlvIGVzdMOhIGxsZW5vLCBOTyBzZSBkZXN0cnV5ZVxuICAgICAgICBpZiAoIWNtZC5zdG9yZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNDb2xsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2Nvb2xkb3duVW50aWwgPSBub3cgKyAzMDA7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5zY2VuZS51cGRhdGVQbGF5ZXJJbnZlbnRvcnlVST8uKHBsYXllcik7XG4gICAgfVxuXG4gICAgLy8gRGVzdHJ1eWUgZWwgcG93ZXItdXBcbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG5cbiAgICAgICAgLy8gY29sbGlkZXJzIG92ZXJsYXBzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX292ZXJsYXBzKSkge1xuICAgICAgICAgICAgdGhpcy5fb3ZlcmxhcHMuZm9yRWFjaChjID0+IHtcbiAgICAgICAgICAgICAgICB0cnkgeyBjLmRlc3Ryb3koKTsgfSBjYXRjaCB7fVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9vdmVybGFwcyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdHdlZW5cbiAgICAgICAgaWYgKHRoaXMuZmFkZVR3ZWVuKSB7XG4gICAgICAgICAgICB0cnkgeyB0aGlzLmZhZGVUd2Vlbi5zdG9wKCk7IH0gY2F0Y2gge31cbiAgICAgICAgICAgIHRoaXMuZmFkZVR3ZWVuID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRpbWVyXG4gICAgICAgIGlmICh0aGlzLl9saWZldGltZVRpbWVyKSB7XG4gICAgICAgICAgICB0aGlzLl9saWZldGltZVRpbWVyLnJlbW92ZShmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLl9saWZldGltZVRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNwcml0ZVxuICAgICAgICBpZiAodGhpcy5zcHJpdGUpIHtcbiAgICAgICAgICAgIHRyeSB7IHRoaXMuc3ByaXRlLmRlc3Ryb3koKTsgfSBjYXRjaCB7fVxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmluYWxtZW50ZSwgc2UgcXVpdGEgZGVsIGFycmF5XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuc2NlbmUucG93ZXJVcHMpKSB7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBvd2VyVXBzID0gdGhpcy5zY2VuZS5wb3dlclVwcy5maWx0ZXIocCA9PiBwICE9PSB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBCYWxsIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5KSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBzY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgJ2JhbGwnKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSgxLjApO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldEJvdW5jZSgwLjgpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREYXRhKCdiYWxsJywgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIHNlZ3VpbWllbnRvIGRlbCBlc3RhZG8gZGVsIHJhbGx5XHJcbiAgICAgICAgdGhpcy5sYXN0VG91Y2hlZEJ5ID0gbnVsbDsgICAgICAvLyBpZCBkZWwganVnYWRvciAoJ3BsYXllcjEnIG8gJ3BsYXllcjInKVxyXG4gICAgICAgIHRoaXMudG91Y2hDb3VudCA9IDA7ICAgICAgICAgICAgLy8gdG9xdWVzIGVuIGVsIHJhbGx5IGFjdHVhbCBwb3IgbGFkbyBkZSBsYSBjYW5jaGFcclxuICAgICAgICB0aGlzLmNvdXJ0U2lkZSA9ICdsZWZ0JzsgICAgICAgIC8vIGxhZG8gZGUgbGEgY2FuY2hhIGRvbmRlIGVzdMOhIGxhIHBlbG90YVxyXG4gICAgICAgIHRoaXMuaXNCYWxsTGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIHBvc2ljacOzbiBkZSBsYSByZWQgKGhhcmRjb2RlYWRvIHBhcmEgYW5jaG8gZGUgOTYwcHgpXHJcbiAgICAgICAgdGhpcy5uZXRYID0gNDgwO1xyXG5cclxuICAgICAgICAvLyBwYXJhIGV2aXRhciB0b3F1ZXMgbcO6bHRpcGxlcyBwb3IgZXN0YXIgcGVnYWRhIHkgcXVlIFwiZGVzYXBhcmV6Y2FcIlxyXG4gICAgICAgIHRoaXMubGFzdEhpdFRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMubGFzdEhpdFBsYXllcklkID0gbnVsbDtcclxuXHRcdFxyXG4gICAgICAgIC8vdGhpcy5pc0ZpcnN0U2VydmUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdlbmVyYSB1biBuw7ptZXJvIGFsZWF0b3JpbyBwYXJhIHZhcmlhciBsZXZlbWVudGUgbGEgdmVsb2NpZGFkIGRlIGxhIHBlbG90YVxyXG4gICAgX2dldFJhbmRvbUZhY3RvcihtaW4gPSAwLjk1LCBtYXggPSAxLjA1KSB7XHJcbiAgICAgICAgcmV0dXJuIG1pbiArIChtYXggLSBtaW4pICogTWF0aC5yYW5kb20oKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZSBsbGFtYSBjdWFuZG8gdW4ganVnYWRvciBnb2xwZWEgbGEgcGVsb3RhXHJcbiAgICBoaXQocGxheWVyLCBwbGF5ZXJGYWNpbmdEaXJlY3Rpb24sIGlzSnVtcGluZywgaXNSZWNlaXZpbmcgPSBmYWxzZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0JhbGxMaXZlKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcblxyXG4gICAgICAgIC8vIHNpIGVzIGVsIG1pc21vIGp1Z2Fkb3IgeSBoYSBwYXNhZG8gbXV5IHBvY28gdGllbXBvLFxyXG4gICAgICAgIC8vIGlnbm9yYW1vcyBlc2UgXCJ0b3F1ZVwiIHBhcmEgbm8gc3VtYXIgbcOhcyBnb2xwZXNcclxuICAgICAgICBpZiAodGhpcy5sYXN0SGl0UGxheWVySWQgPT09IHBsYXllci5pZCAmJiAobm93IC0gdGhpcy5sYXN0SGl0VGltZSkgPCAxMjApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gcmVnaXN0cmFtb3MgZXN0ZSBudWV2byBnb2xwZSB2w6FsaWRvXHJcbiAgICAgICAgdGhpcy5sYXN0SGl0UGxheWVySWQgPSBwbGF5ZXIuaWQ7XHJcbiAgICAgICAgdGhpcy5sYXN0SGl0VGltZSA9IG5vdztcclxuXHJcbiAgICAgICAgLy8gc2UgaW5jcmVtZW50YSBlbCBjb250YWRvciBkZSB0b3F1ZXMgc2kgZWwgbWlzbW8ganVnYWRvciBjb250aW7DumEsIHNlIHJlaW5pY2lhIHNpIGVzIGVsIG90cm9cclxuICAgICAgICBpZiAodGhpcy5sYXN0VG91Y2hlZEJ5ID09PSBwbGF5ZXIuaWQpIHtcclxuICAgICAgICAgICAgdGhpcy50b3VjaENvdW50Kys7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy50b3VjaENvdW50ID0gMTtcclxuICAgICAgICAgICAgdGhpcy5sYXN0VG91Y2hlZEJ5ID0gcGxheWVyLmlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy50b3VjaENvdW50ID4gMykge1xyXG4gICAgICAgICAgICB0aGlzLm9uRmFsdGEoJ3RvcXVlRXhjZWRpZG8nLCBwbGF5ZXIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNlIHJlcHJvZHVjZSBlbCBlZmVjdG8gZGUgc29uaWRvIHNlZ8O6biBlbCB0aXBvIGRlIGdvbHBlXHJcbiAgICAgICAgaWYgKGlzUmVjZWl2aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmU/LnBsYXlTZng/Lih0aGlzLnNjZW5lPy5zZng/LnJlY2VpdmUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNKdW1waW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmU/LnBsYXlTZng/Lih0aGlzLnNjZW5lPy5zZng/LnNwaWtlKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvLyBzZSBjYWxjdWxhIHZlbG9jaWRhZCBkZSBsYSBwZWxvdGEgc2Vnw7puIGxhIGRpcmVjY2nDs24gZGVsIGp1Z2Fkb3IgeSBzaSBlc3TDoSBzYWx0YW5kby9yZWNpYmllbmRvXHJcbiAgICAgICAgbGV0IHZlbG9jaXR5WCwgdmVsb2NpdHlZO1xyXG5cclxuICAgICAgICBpZiAoaXNSZWNlaXZpbmcpIHtcclxuICAgICAgICAgICAgLy8gcmVjZXBjacOzbjogcGFyw6Fib2xhIGxhcmdhIHkgYW5jaGEgKHRyYXllY3RvcmlhIGRlZmVuc2l2YSlcclxuICAgICAgICAgICAgLy8gbWVub3IgdmVsb2NpZGFkIGhvcml6b250YWwsIG1heW9yIHZlbG9jaWRhZCB2ZXJ0aWNhbCBwYXJhIGVsIGFyY29cclxuICAgICAgICAgICAgY29uc3QgYmFzZVNwZWVkWCA9IDE4MDtcclxuICAgICAgICAgICAgY29uc3QgdmVydGljYWxTdHJlbmd0aCA9IC0zNTA7IC8vIGNvbXBvbmVudGUgdmVydGljYWwgbWF5b3IgcGFyYSBlbCBhcmNvXHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmRvbUZhY3RvclggPSB0aGlzLl9nZXRSYW5kb21GYWN0b3IoKTtcclxuICAgICAgICAgICAgY29uc3QgcmFuZG9tRmFjdG9yWSA9IHRoaXMuX2dldFJhbmRvbUZhY3RvcigpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHBsYXllckZhY2luZ0RpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSAtYmFzZVNwZWVkWCAqIHJhbmRvbUZhY3Rvclg7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSBiYXNlU3BlZWRYICogcmFuZG9tRmFjdG9yWDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2ZWxvY2l0eVkgPSB2ZXJ0aWNhbFN0cmVuZ3RoICogcmFuZG9tRmFjdG9yWTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzSnVtcGluZykge1xyXG4gICAgICAgICAgICAvLyBzYWx0by9hdGFxdWU6IGhvcml6b250YWwgZnVlcnRlLCB2ZXJ0aWNhbCBkw6liaWwgKHJlbWF0ZS9zbWFzaClcclxuICAgICAgICAgICAgLy8gYWx0YSB2ZWxvY2lkYWQgaG9yaXpvbnRhbCwgYmFqYSB2ZWxvY2lkYWQgdmVydGljYWwgcGFyYSB0cmF5ZWN0b3JpYSBwbGFuYVxyXG4gICAgICAgICAgICBjb25zdCBiYXNlU3BlZWRYID0gMjIwO1xyXG4gICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbFN0cmVuZ3RoID0gLTE1MDsgLy8gY29tcG9uZW50ZSB2ZXJ0aWNhbCBiYWpvIHBhcmEgYXRhcXVlIHBsYW5vXHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmRvbUZhY3RvclggPSB0aGlzLl9nZXRSYW5kb21GYWN0b3IoKTtcclxuICAgICAgICAgICAgY29uc3QgcmFuZG9tRmFjdG9yWSA9IHRoaXMuX2dldFJhbmRvbUZhY3RvcigpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHBsYXllckZhY2luZ0RpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSAtYmFzZVNwZWVkWCAqIHJhbmRvbUZhY3Rvclg7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSBiYXNlU3BlZWRYICogcmFuZG9tRmFjdG9yWDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2ZWxvY2l0eVkgPSB2ZXJ0aWNhbFN0cmVuZ3RoICogcmFuZG9tRmFjdG9yWTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBnb2xwZSByZWd1bGFyIGRlc2RlIGVsIHN1ZWxvXHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2VTcGVlZFggPSAxODA7XHJcblxyXG4gICAgICAgICAgICBpZiAocGxheWVyRmFjaW5nRGlyZWN0aW9uID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5WCA9IC1iYXNlU3BlZWRYO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlYID0gYmFzZVNwZWVkWDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2ZWxvY2l0eVkgPSAtMTAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHkodmVsb2NpdHlYLCB2ZWxvY2l0eVkpO1xyXG5cclxuICAgICAgICAvLyBzZSBhY3R1YWxpemFyIGVsIGxhZG8gZGUgbGEgY2FuY2hhIHNlZ8O6biBsYSBkaXJlY2Npw7NuIGRlIGxhIHZlbG9jaWRhZFxyXG4gICAgICAgIGlmICh2ZWxvY2l0eVggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY291cnRTaWRlID0gJ3JpZ2h0JztcclxuICAgICAgICB9IGVsc2UgaWYgKHZlbG9jaXR5WCA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAnbGVmdCc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlIGxsYW1hIGN1YW5kbyBsYSBwZWxvdGEgY3J1emEgbGEgcmVkXHJcbiAgICBjcm9zc05ldCgpIHtcclxuICAgICAgICAvLyBzZSByZWluaWNpYSBlbCBjb250YWRvciBkZSB0b3F1ZXMgcGFyYSBlbCBudWV2byBsYWRvIGRlIGNhbmNoYVxyXG4gICAgICAgIHRoaXMudG91Y2hDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5sYXN0VG91Y2hlZEJ5ID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gc2UgY2FtYmlhIGRlIGxhZG8gZGUgY2FuY2hhXHJcbiAgICAgICAgdGhpcy5jb3VydFNpZGUgPSB0aGlzLmNvdXJ0U2lkZSA9PT0gJ2xlZnQnID8gJ3JpZ2h0JyA6ICdsZWZ0JztcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZSBsbGFtYSBjdWFuZG8gbGEgcGVsb3RhIHRvY2EgZWwgc3VlbG9cclxuICAgIG9uR3JvdW5kZWQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQmFsbExpdmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgYmFsbE9uTGVmdCA9IHRoaXMuc3ByaXRlLnggPCB0aGlzLm5ldFg7XHJcbiAgICAgICAgY29uc3QgYmFsbE9uUmlnaHQgPSB0aGlzLnNwcml0ZS54ID4gdGhpcy5uZXRYO1xyXG5cclxuICAgICAgICAvLyBkZXRlcm1pbmFyIHF1acOpbiBhbm90YVxyXG4gICAgICAgIGlmIChiYWxsT25MZWZ0KSB7XHJcbiAgICAgICAgICAgIHRoaXMub25SYWxseUVuZCgncGxheWVyMicpOyAvLyBwbGF5ZXIyIGFub3RhXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRSYWxseSgncGxheWVyMicpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYmFsbE9uUmlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5vblJhbGx5RW5kKCdwbGF5ZXIxJyk7IC8vIHBsYXllcjEgYW5vdGFcclxuICAgICAgICAgICAgdGhpcy5yZXNldFJhbGx5KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSAgICBcclxuXHJcbiAgICAvLyBTZSBsbGFtYSBjdWFuZG8gb2N1cnJlIHVuYSBmYWx0YSAoZGVtYXNpYWRvcyB0b3F1ZXMsIHBlbG90YSBmdWVyYSBkZSBsw61taXRlcywgZXRjLilcclxuICAgIG9uRmFsdGEoZmFsdGFUeXBlLCBmYWx0aW5nUGxheWVyKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQmFsbExpdmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gc2UgZGV0ZXJtaW5hciBlbCBqdWdhZG9yIHF1ZSBhbm90YSAob3B1ZXN0byBhbCBxdWUgY29tZXRpw7MgZmFsdGEpXHJcbiAgICAgICAgY29uc3Qgc2NvcmluZ1BsYXllcklkID0gZmFsdGluZ1BsYXllci5pZCA9PT0gJ3BsYXllcjEnID8gJ3BsYXllcjInIDogJ3BsYXllcjEnO1xyXG5cclxuICAgICAgICB0aGlzLm9uUmFsbHlFbmQoc2NvcmluZ1BsYXllcklkKTtcclxuICAgICAgICB0aGlzLnJlc2V0UmFsbHkoc2NvcmluZ1BsYXllcklkKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZSBsbGFtYSBjdWFuZG8gZmluYWxpemEgdW4gcmFsbHkgKGFsZ3VpZW4gYW5vdGEpXHJcbiAgICBvblJhbGx5RW5kKHNjb3JpbmdQbGF5ZXJJZCkge1xyXG4gICAgICAgIHRoaXMuaXNCYWxsTGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBzZSBsYW56YSB1biBldmVudG8gcGFyYSBxdWUgR2FtZV9TY2VuZSBtYW5lamUgbGEgcHVudHVhY2nDs25cclxuICAgICAgICB0aGlzLnNjZW5lLmV2ZW50cy5lbWl0KCdyYWxseUNvbmNsdWRlZCcsIHtcclxuICAgICAgICAgICAgc2NvcmluZ1BsYXllcklkOiBzY29yaW5nUGxheWVySWQsXHJcbiAgICAgICAgICAgIHRvdWNoQ291bnQ6IHRoaXMudG91Y2hDb3VudCxcclxuICAgICAgICAgICAgbGFzdFRvdWNoZWRCeTogdGhpcy5sYXN0VG91Y2hlZEJ5XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRW1wdWpvbiBzdXRpbCBhbCBzYXF1ZSBwYXJhIGV2aXRhciBxdWUgY2FpZ2Egc29icmUgbGEgcmVkXHJcbiAgICBfZ2V0U3VidGxlTnVkZ2Uoc3Bhd25YLCBzaWRlUGFkZGluZywgd29ybGRXaWR0aCkge1xyXG4gICAgICAgIGNvbnN0IHNpZ24gPSBNYXRoLnJhbmRvbSgpIDwgMC41ID8gLTEgOiAxO1xyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHNpZ24gKiAxMjtcclxuICAgICAgICBjb25zdCBjbGFtcGVkWCA9IE1hdGgubWF4KHNpZGVQYWRkaW5nLCBNYXRoLm1pbih3b3JsZFdpZHRoIC0gc2lkZVBhZGRpbmcsIHNwYXduWCArIG9mZnNldCkpO1xyXG5cclxuICAgICAgICByZXR1cm4geyBzcGF3blg6IGNsYW1wZWRYLCB2ZWxvY2l0eVg6IG9mZnNldCB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbG9jYSBsYSBwZWxvdGEgcGFyYSBlbCBzYXF1ZSBzaW4gcmVpbmljaWFyIGVsIHJhbGx5XHJcbiAgICBzZXRTZXJ2ZVBvc2l0aW9uKHNjb3JpbmdQbGF5ZXIpIHtcclxuICAgICAgICBjb25zdCBzcGF3blkgPSAxMDA7XHJcbiAgICAgICAgY29uc3Qgc2lkZVBhZGRpbmcgPSA2MDtcclxuICAgICAgICBjb25zdCB3b3JsZFdpZHRoID0gdGhpcy5zY2VuZS53b3JsZFdpZHRoID8/IHRoaXMuc2NlbmUuc2NhbGU/LndpZHRoID8/IHRoaXMubmV0WCAqIDI7XHJcbiAgICAgICAgY29uc3QgY2xhbXAgPSAodmFsdWUsIG1pbiwgbWF4KSA9PiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgdmFsdWUpKTtcclxuXHJcbiAgICAgICAgbGV0IHNwYXduWCA9IHRoaXMubmV0WDtcclxuICAgICAgICBsZXQgbnVkZ2VWZWxvY2l0eVggPSAwO1xyXG5cclxuICAgICAgICBjb25zdCBoYXNTY29yaW5nUGxheWVyID0gc2NvcmluZ1BsYXllciA9PT0gJ3BsYXllcjEnIHx8IHNjb3JpbmdQbGF5ZXIgPT09ICdwbGF5ZXIyJztcclxuXHJcbiAgICAgICAgaWYgKGhhc1Njb3JpbmdQbGF5ZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5zY2VuZS5wbGF5ZXJzPy5nZXQgPyB0aGlzLnNjZW5lLnBsYXllcnMuZ2V0KHNjb3JpbmdQbGF5ZXIpIDogbnVsbDtcclxuICAgICAgICAgICAgaWYgKHBsYXllcj8uc3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2NvcmluZ1BsYXllciA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Bhd25YID0gY2xhbXAocGxheWVyLnNwcml0ZS54LCBzaWRlUGFkZGluZywgdGhpcy5uZXRYIC0gc2lkZVBhZGRpbmcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzcGF3blggPSBjbGFtcChwbGF5ZXIuc3ByaXRlLngsIHRoaXMubmV0WCArIHNpZGVQYWRkaW5nLCB3b3JsZFdpZHRoIC0gc2lkZVBhZGRpbmcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3Bhd25YID0gc2NvcmluZ1BsYXllciA9PT0gJ3BsYXllcjEnID8gdGhpcy5uZXRYIC0gMTAwIDogdGhpcy5uZXRYICsgMTAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBudWRnZSA9IHRoaXMuX2dldFN1YnRsZU51ZGdlKHNwYXduWCwgc2lkZVBhZGRpbmcsIHdvcmxkV2lkdGgpO1xyXG4gICAgICAgICAgICBzcGF3blggPSBudWRnZS5zcGF3blg7XHJcbiAgICAgICAgICAgIG51ZGdlVmVsb2NpdHlYID0gbnVkZ2UudmVsb2NpdHlYO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0UG9zaXRpb24oc3Bhd25YLCBzcGF3blkpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5KG51ZGdlVmVsb2NpdHlYLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWluaWNpYSBlbCBlc3RhZG8gZGVsIHJhbGx5IHkgcmVwb3NpY2lvbmEgbGEgcGVsb3RhIHBhcmEgZWwgc2FxdWVcclxuICAgIHJlc2V0UmFsbHkoc2NvcmluZ1BsYXllcikge1xyXG4gICAgICAgIHRoaXMuaXNCYWxsTGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5sYXN0VG91Y2hlZEJ5ID0gbnVsbDtcclxuICAgICAgICB0aGlzLnRvdWNoQ291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuc2V0U2VydmVQb3NpdGlvbihzY29yaW5nUGxheWVyKTtcclxuXHJcbiAgICAgICAgLy8gbGltcGlhciBpbmZvIGRlIMO6bHRpbW8gZ29scGVcclxuICAgICAgICB0aGlzLmxhc3RIaXRUaW1lID0gMDtcclxuICAgICAgICB0aGlzLmxhc3RIaXRQbGF5ZXJJZCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIEFjdHVhbGl6YSBlbCBlc3RhZG8gZGUgbGEgcGVsb3RhIGNhZGEgZnJhbWUgKHNlIHJhc3RyZWEgZWwgbGFkbyBkZSBsYSBjYW5jaGEgc2Vnw7puIGxhIHBvc2ljacOzbilcclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgbGFkbyBkZSBjYW5jaGEgc2Vnw7puIHBvc2ljacOzbiBhY3R1YWxcclxuICAgICAgICBpZiAodGhpcy5zcHJpdGUueCA8IHRoaXMubmV0WCAtIDIwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY291cnRTaWRlID0gJ2xlZnQnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zcHJpdGUueCA+IHRoaXMubmV0WCArIDIwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY291cnRTaWRlID0gJ3JpZ2h0JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIENvbW1hbmRQcm9jZXNzb3Ige1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXRQbGF5ZXJzKHBsYXllcnMpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBwbGF5ZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEdhbWVTY2VuZShnYW1lU2NlbmUpIHtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IGdhbWVTY2VuZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm9jZXNzKGNvbW1hbmQpIHtcclxuICAgICAgICBjb21tYW5kLmV4ZWN1dGUoKTtcclxuICAgICAgICAvLyBTZW50IG92ZXIgdGhlIHdlYnNvY2tldFxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIENvbW1hbmQge1xyXG4gICAgXHJcbiAgICBleGVjdXRlKCkge31cclxuXHJcbiAgICBzZXJpYWxpemUoKSB7fVxyXG5cclxuICAgIGdldFBsYXllcigpIHt9XHJcbn0iLCIvLyBDbGFzZSBxdWUgc2UgZW5jYXJnYSBkZSBsYSBsw7NnaWNhIGRlbCBtb3ZpbWllbnRvIGRlbCBwZXJzb25hamVcclxuXHJcbmltcG9ydCB7IENvbW1hbmQgfSBmcm9tICcuL0NvbW1hbmQuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdmVQbGF5ZXJDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihwbGF5ZXIsIGRpcmVjdGlvbikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7ICAgICAgIC8vIGluc3RhbmNpYSBkZWwgcGVyc29uYWplXHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb247IC8vIGRpcmVjY2nDs24gZGUgbW92bWllbnRvXHJcbiAgICB9XHJcblxyXG4gICAgZXhlY3V0ZSgpIHtcclxuICAgICAgICAgc3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAvLyBjb3JyZXIgaGFjaWEgbGEgaXpkYVxyXG4gICAgICAgICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLm1vdmVMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gY29ycmVyIGhhY2lhIGxhIGRjaGFcclxuICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIubW92ZVJpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gc2FsdGFyL3JlbWF0YXIgYSBsYSBpemRhXHJcbiAgICAgICAgICAgIGNhc2UgJ2p1bXBMZWZ0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmp1bXBMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gc2FsdGFyL3JlbWF0YSBhIGxhIGRjaGFcclxuICAgICAgICAgICAgY2FzZSAnanVtcFJpZ2h0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmp1bXBSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIHJlY2liaXIgcG9yIGxhIGl6ZGFcclxuICAgICAgICAgICAgY2FzZSAncmVjZWl2ZUxlZnQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIucmVjZWl2ZUxlZnQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyByZWNpYmlyIHBvciBsYSBkY2hhXHJcbiAgICAgICAgICAgIGNhc2UgJ3JlY2VpdmVSaWdodCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5yZWNlaXZlUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBwYXJhZG8sIGlkbGUgaXpkYVxyXG4gICAgICAgICAgICBjYXNlICdpZGxlTGVmdCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5pZGxlTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIHBhcmFkbywgaWRsZSBkY2hhICh5IGNhc28gcG9yIGRlZmVjdG8pXHJcbiAgICAgICAgICAgIC8vY2FzZSAnaWRsZVJpZ2h0JzpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmlkbGVSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHBhcmEgZWwgbW9kbyBFTiBSRURcclxuICAgIGdldFBsYXllcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXIuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2VyaWFsaXplKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6ICdNb3ZlUGxheWVyQ29tbWFuZCcsXHJcbiAgICAgICAgICAgIHBsYXllcklkOiB0aGlzLnBsYXllci5pZCxcclxuICAgICAgICAgICAgZGlyZWN0aW9uOiB0aGlzLmRpcmVjdGlvblxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gQ2xhc2UgZGUgbGEgZXNjZW5hIGRlIGp1ZWdvXHJcblxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gJy4uL0VudGl0aWVzL1BsYXllci5qcyc7XHJcbmltcG9ydCB7IFBvd2VyVXAgfSBmcm9tICcuLi9FbnRpdGllcy9Qb3dlclVwLmpzJztcclxuaW1wb3J0IHsgQmFsbCB9IGZyb20gJy4uL0VudGl0aWVzL0JhbGwuanMnO1xyXG5pbXBvcnQgeyBDb21tYW5kUHJvY2Vzc29yIH0gZnJvbSAnLi4vQ29tbWFuZHMvQ29tbWFuZFByb2Nlc3Nvci5qcyc7XHJcbmltcG9ydCB7IE1vdmVQbGF5ZXJDb21tYW5kIH0gZnJvbSAnLi4vQ29tbWFuZHMvTW92ZVBsYXllckNvbW1hbmQuanMnO1xyXG5pbXBvcnQgeyBnZXRTdG9yZWRTZnhWb2x1bWUgfSBmcm9tICcuLi9VSS9BdWRpby5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICB0aWVtcG9Ub3RhbCA9IDYwOyAvLyBwYXJhIDIgbWluIHBvbmVyIDEyMCBzZWd1bmRvc1xyXG4gICAgdGllbXBvUmVzdGFudGUgPSB0aGlzLnRpZW1wb1RvdGFsO1xyXG4gICAgdGltZXJUZXh0O1xyXG4gICAgdGltZXJFdmVudDtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxID0gZGF0YS5wbGF5ZXIxO1xyXG4gICAgICAgIHRoaXMucGxheWVyMiA9IGRhdGEucGxheWVyMjtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkU2NlbmFyaW8gPSBkYXRhLnNlbGVjdGVkU2NlbmFyaW87XHJcbiAgICAgICAgdGhpcy5iYWxsID0gbnVsbDtcclxuICAgICAgICB0aGlzLnNjb3JlUDEgPSAwO1xyXG4gICAgICAgIHRoaXMuc2NvcmVQMiA9IDA7XHJcbiAgICAgICAgdGhpcy5zZXRzUDEgPSAwO1xyXG4gICAgICAgIHRoaXMuc2V0c1AyID0gMDtcclxuICAgICAgICB0aGlzLm1heFNldHMgPSAzOyAvLyBtZWpvciBkZSAzXG4gICAgICAgIHRoaXMuY3VycmVudFNldCA9IDE7IC8vIHNldCBhY3R1YWxcbiAgICAgICAgdGhpcy5pc0dvbGRlblBvaW50ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNTZXRFbmRpbmcgPSBmYWxzZTtcbiAgICB9XG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gY2hhcmFjdGVyQVxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJBX21vdmUnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0EvQU5JTUFDSU9ORVNfQ09SUkVSX1JFQ0lCSVIucG5nJyxcclxuICAgICAgICAgICAgeyBmcmFtZVdpZHRoOiAyOSwgZnJhbWVIZWlnaHQ6IDQ0IH1cclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJBX2p1bXAnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0EvQU5JTUFDSU9OX1JFTUFURS5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDMyLCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy8gY2hhcmFjdGVyQlxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJCX21vdmUnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0IvQU5JTUFDSU9ORVNfQ09SUkVSX1JFQ0lCSVIucG5nJyxcclxuICAgICAgICAgICAgeyBmcmFtZVdpZHRoOiAyOSwgZnJhbWVIZWlnaHQ6IDQ0IH1cclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJCX2p1bXAnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0IvQU5JTUFDSU9OX1JFTUFURS5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDMyLCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy8gY2hhcmFjdGVyQ1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJDX21vdmUnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0MvQU5JTUFDSU9ORVNfQ09SUkVSX1JFQ0lCSVIucG5nJyxcclxuICAgICAgICAgICAgeyBmcmFtZVdpZHRoOiAyOSwgZnJhbWVIZWlnaHQ6IDQ0IH1cclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJDX2p1bXAnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0MvQU5JTUFDSU9OX1JFTUFURS5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDMyLCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIEVzY2VuYXJpb3NcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0d5bScsICdBU1NFVFMvRk9ORE9TL0dJTU5BU0lPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGxheWEnLCAnQVNTRVRTL0ZPTkRPUy9QTEFZQS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0phcmRpbicsICdBU1NFVFMvRk9ORE9TL0pBUkRJTi5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gUG93ZXJVcHNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvcjInLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9NVUxUSVBMSUNBRE9SIDIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb3IzJywgJ0FTU0VUUy9JVEVNUy9QT1dFUiBVUFMvTVVMVElQTElDQURPUiAzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGFyYWxpemFyJywgJ0FTU0VUUy9JVEVNUy9QT1dFUiBVUFMvUEFSQUxJWkFETy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3JhbGVudGl6YXInLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9SRUxFTlRJWkFSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndmVsb2NpZGFkJywgJ0FTU0VUUy9JVEVNUy9QT1dFUiBVUFMvVkVMT0NJREFELnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWFyY29Qb3dlclVwJywgJ0FTU0VUUy9KVUVHTy9CYXNlX3Bvd2VyVXAucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFBlbG90YVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYmFsbCcsICdBU1NFVFMvSVRFTVMvUEVMT1RBUy9QX05PUk1BTC5wbmcnKTtcclxuICAgICAgICAvLyBSZWRcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3JlZCcsICdBU1NFVFMvSlVFR08vUkVELnBuZycpO1xyXG4gICAgICAgIC8vIENyb27Ds21ldHJvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdyZWxvaicsICdBU1NFVFMvSlVFR08vVElNRVIucG5nJyk7XHJcbiAgICAgICAgLy8gTWFyY29cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hcmNvR2VuZXJhbCcsICdBU1NFVFMvSlVFR08vTUFSQ0FET1JfU0VULnBuZycpOyAgICAgICAgXHJcblxyXG4gICAgICAgIC8vIEVmZWN0b3MgZGUgc29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZnhfc2lsYmF0bycsICdBU1NFVFMvU09OSURPL1NpbGJhdG9faW5pY2lvX3BhcnRpZG9fMXA0cy5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeF9yZW1hdGUnLCAnQVNTRVRTL1NPTklETy9Ub3F1ZV9wZWxvdGFfcmVtYXRlXzAzcy5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeF9yZWNlcGNpb24nLCAnQVNTRVRTL1NPTklETy9Ub3F1ZV9wZWxvdGFfcmVjZXBjaW9uLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4X3NhbHRvJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvU2FsdG9fMXAubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZnhfcHVudG8nLCAnQVNTRVRTL1NPTklETy9Tb25pZG9QdW50by5tcDMnKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIHNlIGd1YXJkYW4gbGFzIGRpbWVuc2lvbmVzXHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIHRoaXMud29ybGRXaWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMud29ybGRIZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlO1xyXG5cclxuICAgICAgICAvLyBzZSBkZWZpbmVuIGxvcyBlZmVjdG9zIGRlIHNvbmlkb1xyXG4gICAgICAgIHRoaXMuc2Z4ID0ge1xyXG4gICAgICAgICAgICB3aGlzdGxlOiAnc2Z4X3NpbGJhdG8nLFxyXG4gICAgICAgICAgICBzcGlrZTogJ3NmeF9yZW1hdGUnLFxyXG4gICAgICAgICAgICByZWNlaXZlOiAnc2Z4X3JlY2VwY2lvbicsXHJcbiAgICAgICAgICAgIGp1bXA6ICdzZnhfc2FsdG8nLFxyXG4gICAgICAgICAgICBwb2ludDogJ3NmeF9wdW50bydcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIHNlIHJlcHJvZHVjZSBlbCBzaWxiYXRvIGRlIGluaWNpbyBkZSBwYXJ0aWRvXHJcbiAgICAgICAgdGhpcy5wbGF5U2Z4KHRoaXMuc2Z4LndoaXN0bGUpO1xyXG5cclxuICAgICAgICAvLyBDcm9uw7NtZXRyb1xyXG4gICAgICAgIHRoaXMudGltZXJUZXh0ID0gdGhpcy5hZGQudGV4dCh0aGlzLnNjYWxlLndpZHRoIC8gMiwgMzAsIFwiXCIsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41LCAwKVxyXG4gICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAuc2V0RGVwdGgoOTk5OSk7XHJcblxyXG4gICAgICAgIHRoaXMudGltZXJJY29uID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5zY2FsZS53aWR0aCAvIDIsIDQ1LCAncmVsb2onKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDIpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgLnNldERlcHRoKDkwMDApOyAvLyBkZWJham8gZGVsIHRleHRvXHJcblxyXG4gICAgICAgIC8vIG1hcmNvIGRlIHNldFxyXG4gICAgICAgIHRoaXMuc2V0RnJhbWUgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLnNjYWxlLndpZHRoIC8gMiwgMTIwLCAnbWFyY29HZW5lcmFsJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoOTk5OCk7XHJcblxyXG4gICAgICAgIC8vIHRleHRvIGRlbCBzZXQgYWN0dWFsXHJcbiAgICAgICAgdGhpcy5zZXRUZXh0ID0gdGhpcy5hZGQudGV4dCh0aGlzLnNjYWxlLndpZHRoIC8gMiwgMTIwLCBgU0VUICR7dGhpcy5jdXJyZW50U2V0fWAsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXREZXB0aCg5OTk5KTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2V0RnJhbWVXaWR0aCA9IHRoaXMuc2V0RnJhbWUuZGlzcGxheVdpZHRoO1xyXG4gICAgICAgIGNvbnN0IHNldEZyYW1lSGVpZ2h0ID0gdGhpcy5zZXRGcmFtZS5kaXNwbGF5SGVpZ2h0O1xyXG4gICAgICAgIGNvbnN0IHNldFNjb3JlWSA9IHRoaXMuc2V0RnJhbWUueSArIE1hdGgucm91bmQoc2V0RnJhbWVIZWlnaHQgLyAyKSArIDEzO1xyXG4gICAgICAgIGNvbnN0IHNldFNjb3JlT2Zmc2V0WCA9IE1hdGgucm91bmQoc2V0RnJhbWVXaWR0aCAqIDAuMjIpO1xyXG4gICAgICAgIGNvbnN0IHNldFNjb3JlRnJhbWVTY2FsZVggPSAwLjQ7XHJcbiAgICAgICAgY29uc3Qgc2V0U2NvcmVGcmFtZVNjYWxlWSA9IDAuMzg7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U2NvcmVGcmFtZUxlZnQgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLnNjYWxlLndpZHRoIC8gMiAtIHNldFNjb3JlT2Zmc2V0WCwgc2V0U2NvcmVZLCAnbWFyY29HZW5lcmFsJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZShzZXRTY29yZUZyYW1lU2NhbGVYLCBzZXRTY29yZUZyYW1lU2NhbGVZKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoOTk5OCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U2NvcmVGcmFtZVJpZ2h0ID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5zY2FsZS53aWR0aCAvIDIgKyBzZXRTY29yZU9mZnNldFgsIHNldFNjb3JlWSwgJ21hcmNvR2VuZXJhbCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoc2V0U2NvcmVGcmFtZVNjYWxlWCwgc2V0U2NvcmVGcmFtZVNjYWxlWSlcclxuICAgICAgICAgICAgLnNldERlcHRoKDk5OTgpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFNjb3JlTGVmdCA9IHRoaXMuYWRkLnRleHQodGhpcy5zY2FsZS53aWR0aCAvIDIgLSBzZXRTY29yZU9mZnNldFgsIHNldFNjb3JlWSwgYCR7dGhpcy5zZXRzUDF9YCwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldERlcHRoKDk5OTkpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFNjb3JlUmlnaHQgPSB0aGlzLmFkZC50ZXh0KHRoaXMuc2NhbGUud2lkdGggLyAyICsgc2V0U2NvcmVPZmZzZXRYLCBzZXRTY29yZVksIGAke3RoaXMuc2V0c1AyfWAsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXREZXB0aCg5OTk5KTtcclxuXHJcbiAgICAgICAgLy8gdGV4dG8gcGFyYSBtb3N0cmFyIGVsIGdhbmFkb3IgZGVsIHNldFxyXG4gICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dCA9IHRoaXMuYWRkLnRleHQodGhpcy5zY2FsZS53aWR0aCAvIDIsIDIwNSwgJycsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDNcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXREZXB0aCg5OTk5KVxyXG4gICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy8gaW5pY2lhciBlbCBjb250YWRvciBwYXJhIGVsIGNyb27Ds21ldHJvXHJcbiAgICAgICAgdGhpcy50aW1lckV2ZW50ID0gdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDEwMDAsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLnVwZGF0ZVRpbWVyLFxyXG4gICAgICAgICAgICBjYWxsYmFja1Njb3BlOiB0aGlzLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlVGltZXIoKTtcclxuXHJcbiAgICAgICAgLy8gRk9ORE8gREVMIEVTQ0VOQVJJTyBTRUxFQ0NJT05BRE9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSh3aWR0aCAvIDIsIGhlaWdodCAvIDIsIHRoaXMuc2VsZWN0ZWRTY2VuYXJpbylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpOyBcclxuXHJcbiAgICAgICAgLy8gUmVkXHJcbiAgICAgICAgY29uc3QgcmVkID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUod2lkdGggLyAyLCBoZWlnaHQgLSAxNjAsICdyZWQnKS5zZXRTY2FsZSgwLjYpO1xyXG5cclxuICAgICAgICBjb25zdCByZWRUZXh0dXJlID0gdGhpcy50ZXh0dXJlcy5nZXQoJ3JlZCcpLmdldFNvdXJjZUltYWdlKCk7XHJcbiAgICAgICAgcmVkLmJvZHkuc2V0U2l6ZShyZWRUZXh0dXJlLndpZHRoICogMC41LCByZWRUZXh0dXJlLmhlaWdodCAqIDAuNSk7IC8vIG11bHRpcGxpY2FyIHBvciBlbCBzY2FsZVxyXG4gICAgICAgIHJlZC5ib2R5LnNldE9mZnNldCgtcmVkLmJvZHkud2lkdGgvMiwgLXJlZC5ib2R5LmhlaWdodC8yKTtcclxuICAgICAgICByZWQuYm9keS51cGRhdGVGcm9tR2FtZU9iamVjdCgpO1xyXG4gICAgICAgIHRoaXMucmVkID0gcmVkO1xyXG5cclxuICAgICAgICB0aGlzLl9jcmVhdGVBbmltYXRpb25zKCk7XHJcblxyXG4gICAgICAgIC8vUFVOVFVBQ0lPTiBERSBMT1MgSlVHQURPUkVTXHJcbiAgICAgICAgLy8gTWFyY29zIGRlIHB1bnR1YWNpw7NuXHJcbiAgICAgICAgdGhpcy5wb2ludHNMZWZ0ID0gMDtcclxuICAgICAgICB0aGlzLnBvaW50c1JpZ2h0ID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5zY29yZUZyYW1lTGVmdCA9IHRoaXMuYWRkLmltYWdlKDIwMCwgNTAsICdtYXJjb0dlbmVyYWwnKS5zZXRTY2FsZSgwLjgsIDAuNTUpLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuc2NvcmVGcmFtZVJpZ2h0ID0gdGhpcy5hZGQuaW1hZ2UodGhpcy53b3JsZFdpZHRoIC0gMjAwLCA1MCwgJ21hcmNvR2VuZXJhbCcpLnNldFNjYWxlKDAuOCwgMC41NSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NvcmVMZWZ0ID0gdGhpcy5hZGQudGV4dCgyMDAsIDQ1LCAnMCcsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDk5OTkpO1xyXG5cclxuICAgICAgICB0aGlzLnJpZ2h0U2NvcmUgPSB0aGlzLmFkZC50ZXh0KHRoaXMud29ybGRXaWR0aCAtIDIwMCwgNDUsICcwJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoOTk5OSk7XHJcblxyXG4gICAgICAgIC8vIHN1ZWxvIGRlIHBydWViYTogY3JlYXIgdW4gY3VlcnBvIGVzdMOhdGljbyByZWN0YW5ndWxhciBpbnZpc2libGVcclxuICAgICAgICAvLyBDb25maWd1cmFibGU6IGFsdHVyYSB5IGRlc3BsYXphbWllbnRvIGRlc2RlIGVsIGZvbmRvIChgZ3JvdW5kT2Zmc2V0YClcclxuICAgICAgICBjb25zdCBncm91bmRIZWlnaHQgPSAyMDtcclxuICAgICAgICBjb25zdCBncm91bmRPZmZzZXQgPSA5MDsgLy8gZWxldmFyIGVsIHN1ZWxvIDEwMHB4IGRlc2RlIGVsIGZvbmRvXHJcbiAgICAgICAgdGhpcy5ncm91bmRIZWlnaHQgPSBncm91bmRIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5ncm91bmRZID0gdGhpcy53b3JsZEhlaWdodCAtIGdyb3VuZE9mZnNldDtcclxuXHJcbiAgICAgICAgY29uc3QgZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKFxyXG4gICAgICAgICAgICB0aGlzLndvcmxkV2lkdGggLyAyLFxyXG4gICAgICAgICAgICB0aGlzLmdyb3VuZFksXHJcbiAgICAgICAgICAgIHRoaXMud29ybGRXaWR0aCxcclxuICAgICAgICAgICAgZ3JvdW5kSGVpZ2h0XHJcbiAgICAgICAgKS5zZXRPcmlnaW4oMC41LCAwKS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAvLyBhw7FhZGlyIHVuIGN1ZXJwbyBmw61zaWNvIGVzdMOhdGljbyBhbCByZWN0w6FuZ3Vsb1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcoZ3JvdW5kLCB0cnVlKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBwcmltZXJvIHNlIGNyZWFuIGxvcyBqdWdhZG9yZXNcclxuICAgICAgICB0aGlzLl9jcmVhdGVQbGF5ZXJzKCk7XHJcbiAgICAgICAgLy8gZGVzcHXDqXMsIHNlIG1vbnRhbiBsYXMgY29saXNpb25lcyBjb24gZWwgc3VlbG8sIHJlZCwgZXRjLlxyXG4gICAgICAgIC8vIG1vbnRhciBjb2xpc2lvbmVzIGbDrXNpY2FzIGVudHJlIGp1Z2Fkb3JlcyB5IHN1ZWxvIHBhcmEgcXVlIGJvZHkuYmxvY2tlZC5kb3duIGZ1bmNpb25lXHJcbiAgICAgICAgdGhpcy5fc2V0dXBQaHlzaWNzV29ybGQoZ3JvdW5kKTtcclxuICAgICAgICAvLyBwb3Igw7psdGltbywgc2UgYXNpZ25hbiBsYXMgdGVjbGFzXHJcbiAgICAgICAgdGhpcy5fc2V0dXBJbnB1dE1hcHBpbmdzKCk7XHJcblxyXG4gICAgICAgIC8vIHBvd2VydXBzXHJcbiAgICAgICAgdGhpcy5wb3dlclVwcyA9IFtdO1xyXG4gICAgICAgIHRoaXMubWF4UG93ZXJVcHMgPSAyO1xyXG4gICAgICAgIC8vIGxhIGFwYXJpY2nDs24gZGUgcG93ZXItdXBzIHNvbiBtZW5vcyBmcmVjdWVudGVzIHkgY29uIHBlc29zLCBwYXJhIHF1ZSB1bm9zIHNhbGdhblxyXG4gICAgICAgIC8vIG3DoXMgcXVlIG90cm9zIChwb3IgZWplbXBsbywgc2UgcmVkdWNlIGxhIGFwYXJpY2nDs24gZGUgcGFyYWxpemFyKVxyXG4gICAgICAgIHRoaXMucG93ZXJVcFNwYXduQ29uZmlnID0ge1xyXG4gICAgICAgICAgICAvLyBlbnRyZSAzLjUgeSA3IHNlZ3VuZG9zXHJcbiAgICAgICAgICAgIG1pbkRlbGF5TXM6IDM1MDAsXHJcbiAgICAgICAgICAgIG1heERlbGF5TXM6IDcwMDAsXHJcbiAgICAgICAgICAgIHdlaWdodHM6IHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaWRhZDogMyxcclxuICAgICAgICAgICAgICAgIHJhbGVudGl6YXI6IDIsXHJcbiAgICAgICAgICAgICAgICBwYXJhbGl6YXI6IDEsXHJcbiAgICAgICAgICAgICAgICBwb3IyOiAzLFxyXG4gICAgICAgICAgICAgICAgcG9yMzogMlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb29sZG93bk1zOiB7XHJcbiAgICAgICAgICAgICAgICAvLyBwYXJhIGV2aXRhciBxdWUgc2FsZ2FuIG11eSBzZWd1aWRvcyB5IHVuIGp1Z2Fkb3Igbm8gcHVlZGEgbW92ZXJzZVxyXG4gICAgICAgICAgICAgICAgLy8gZHVyYW50ZSBtdWNobyB0aWVtcG9cclxuICAgICAgICAgICAgICAgIHBhcmFsaXphcjogMTAwMDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5wb3dlclVwTGFzdFNwYXduQXQgPSB7fTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnZlbnRvcnlVSSA9IHtcclxuICAgICAgICAgICAgcGxheWVyMTogW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNTAsIDUwLCAncG9yMicpLnNldFNjYWxlKDEuNCkuc2V0VmlzaWJsZShmYWxzZSkuc2V0RGVwdGgoMSksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSgxMTAsIDUwLCAncG9yMicpLnNldFNjYWxlKDEuNCkuc2V0VmlzaWJsZShmYWxzZSkuc2V0RGVwdGgoMSlcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgcGxheWVyMjogW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UodGhpcy53b3JsZFdpZHRoIC0gMTEwLCA1MCwgJ3BvcjInKS5zZXRTY2FsZSgxLjQpLnNldFZpc2libGUoZmFsc2UpLnNldERlcHRoKDEpLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UodGhpcy53b3JsZFdpZHRoIC0gNTAsIDUwLCAncG9yMicpLnNldFNjYWxlKDEuNCkuc2V0VmlzaWJsZShmYWxzZSkuc2V0RGVwdGgoMSlcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVQb3dlclVwU3Bhd24oKTtcclxuXHJcbiAgICAgICAgLy8gTWFyY29zIGRlbCBpbnZlbnRhcmlvXHJcbiAgICAgICAgdGhpcy5pbnZlbnRvcnlGcmFtZXMgPSB7XHJcbiAgICAgICAgICAgIHBsYXllcjE6IFtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKDUwLCA1MCwgJ21hcmNvUG93ZXJVcCcpLnNldFNjYWxlKDEpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDApLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMTEwLCA1MCwgJ21hcmNvUG93ZXJVcCcpLnNldFNjYWxlKDEpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDApXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHBsYXllcjI6IFtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKHRoaXMud29ybGRXaWR0aCAtIDExMCwgNTAsICdtYXJjb1Bvd2VyVXAnKS5zZXRTY2FsZSgxKS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgwKSxcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKHRoaXMud29ybGRXaWR0aCAtIDUwLCA1MCwgJ21hcmNvUG93ZXJVcCcpLnNldFNjYWxlKDEpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDApXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBpbmljaWFsaXphY2nDs24gZGUgbGEgcGVsb3RhXHJcbiAgICAgICAgdGhpcy5fY3JlYXRlQmFsbCgpO1xyXG4gICAgICAgIC8vIGVtcHVqw7NuIHN1dMOtbCBwYXJhIGV2aXRhciBxdWUgc2UgcXVlZGUgc29icmUgbGEgcmVkIGFsIGluaWNpb1xyXG4gICAgICAgIHRoaXMuYmFsbC5zZXRTZXJ2ZVBvc2l0aW9uKCk7XHJcbiAgICAgICAgLy8gY29sbGlkZXJzIGRlIGxhIHBlbG90YVxyXG4gICAgICAgIHRoaXMuX3NldHVwQmFsbENvbGxpc2lvbnMoKTtcclxuICAgICAgICAvLyBldmVudG9zIGRlIGxhIHBlbG90YVxyXG4gICAgICAgIHRoaXMuX3NldHVwQmFsbEV2ZW50cygpO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKFwia2V5ZG93bi1FU0NcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBzZSBkZXRpZW5lIGVsIGdhbWUgbG9vcFxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudC5wYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaChcIlBhdXNlX1NjZW5lXCIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBhY2Nlc28gZGlyZWN0byBhIGxhIGVzY2VuYSBkZSBmaW4gZGUgcGFydGlkYVxyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oXCJrZXlkb3duLUZcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB3aW5uZXIgPSB0aGlzLnNjb3JlUDEgPj0gdGhpcy5zY29yZVAyID8gXCJwbGF5ZXIxXCIgOiBcInBsYXllcjJcIjtcclxuICAgICAgICAgICAgdGhpcy5fZW5kR2FtZSh3aW5uZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdyZXN1bWUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudC5wYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZW5lcmEgdW4gbnVldm8gcG93ZXItdXAgZW4gdW5hIHBvc2ljacOzbiBhbGVhdG9yaWEgY2FkYSBjaWVydG8gdGllbXBvXHJcbiAgICBzY2hlZHVsZVBvd2VyVXBTcGF3bigpIHtcclxuICAgICAgICBjb25zdCB7IG1pbkRlbGF5TXMsIG1heERlbGF5TXMgfSA9IHRoaXMucG93ZXJVcFNwYXduQ29uZmlnO1xyXG4gICAgICAgIGNvbnN0IGRlbGF5ID0gUGhhc2VyLk1hdGguQmV0d2VlbihtaW5EZWxheU1zLCBtYXhEZWxheU1zKTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKGRlbGF5LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBvd2VyVXBzLmxlbmd0aCA8IHRoaXMubWF4UG93ZXJVcHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKDgwLCB0aGlzLndvcmxkV2lkdGggLSA4MCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gUGhhc2VyLk1hdGguQmV0d2Vlbih0aGlzLndvcmxkSGVpZ2h0IC0gMjIwLCB0aGlzLndvcmxkSGVpZ2h0IC0gMTIwKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gdGhpcy5fZ2V0V2VpZ2h0ZWRQb3dlclVwVHlwZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3dlclVwID0gbmV3IFBvd2VyVXAodGhpcywgeCwgeSwgdHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3dlclVwcy5wdXNoKHBvd2VyVXApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG93ZXJVcExhc3RTcGF3bkF0W3R5cGVdID0gdGhpcy50aW1lLm5vdztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVBvd2VyVXBTcGF3bigpOyAvLyByZWN1cnNpdm9cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBPYnRpZW5lIHVuIHRpcG8gZGUgcG93ZXItdXAgYmFzYWRvIGVuIGxvcyBwZXNvcyBjb25maWd1cmFkb3MgYW50ZXJpb3JtZW50ZVxyXG4gICAgX2dldFdlaWdodGVkUG93ZXJVcFR5cGUoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3ZWlnaHRzLCBjb29sZG93bk1zIH0gPSB0aGlzLnBvd2VyVXBTcGF3bkNvbmZpZztcclxuXHJcbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy50aW1lLm5vdztcclxuICAgICAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMod2VpZ2h0cykuZmlsdGVyKChbdHlwZSwgd2VpZ2h0XSkgPT4ge1xyXG4gICAgICAgICAgICAvLyBzZSBmaWx0cmFuIGxvcyB0aXBvcyBxdWUgbm8gc2UgcHVlZGVuIHVzYXJcclxuICAgICAgICAgICAgLy8gc2kgZWwgcGVzbyBlcyAwXHJcbiAgICAgICAgICAgIGlmICh3ZWlnaHQgPD0gMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAvLyBzaSB0b2RhdsOtYSBlc3TDoSBlbiBjb29sZG93biBkZXNkZSBsYSDDumx0aW1hIGFwYXJpY2nDs25cclxuICAgICAgICAgICAgY29uc3QgY29vbGRvd24gPSBjb29sZG93bk1zPy5bdHlwZV07XHJcbiAgICAgICAgICAgIGlmICghY29vbGRvd24pIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0ID0gdGhpcy5wb3dlclVwTGFzdFNwYXduQXQ/Llt0eXBlXSB8fCAwO1xyXG4gICAgICAgICAgICByZXR1cm4gbm93IC0gbGFzdCA+PSBjb29sZG93bjtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gc2kgbm8gcXVlZGEgbmluZ8O6biB0aXBvIGRpc3BvbmlibGUsIHNlIGRldnVlbHZlIG51bGxcclxuICAgICAgICBpZiAoIWVudHJpZXMubGVuZ3RoKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gc2Ugc3VtYW4gdG9kb3MgbG9zIHBlc29zLCBzZSBlbGlnZSB1biBuw7ptZXJvIGFsZWF0b3JpbyBlbnRyZSAxIHkgZXNhIHN1bWFcclxuICAgICAgICBjb25zdCB0b3RhbCA9IGVudHJpZXMucmVkdWNlKChzdW0sIFssIHdlaWdodF0pID0+IHN1bSArIHdlaWdodCwgMCk7XHJcbiAgICAgICAgbGV0IHJvbGwgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKDEsIHRvdGFsKTtcclxuICAgICAgICAvLyBzZSB2YW4gcmVzdGFuZG8gcGVzb3MgaGFzdGEgcXVlIGVsIGNvbnRhZG9yIGNhZSBlbiB1biB0aXBvXHJcbiAgICAgICAgZm9yIChjb25zdCBbdHlwZSwgd2VpZ2h0XSBvZiBlbnRyaWVzKSB7XHJcbiAgICAgICAgICAgIHJvbGwgLT0gd2VpZ2h0O1xyXG4gICAgICAgICAgICAvLyBzZSBkZXZ1ZWx2ZSBlbCB0aXBvXHJcbiAgICAgICAgICAgIGlmIChyb2xsIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbR2FtZV9TY2VuZV0gUG93ZXItdXAgYWxlYXRvcmlvOiAnLCB0eXBlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzaSBwb3IgYWxndW5hIHJhesOzbiBubyBjYWUgZW4gbmluZ3Vubywgc2UgZGV2dWVsdmUgZWwgw7psdGltbyB0aXBvIHbDoWxpZG9cclxuICAgICAgICByZXR1cm4gZW50cmllc1tlbnRyaWVzLmxlbmd0aCAtIDFdWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlcHJvZHVjZSB1biBlZmVjdG8gZGUgc29uaWRvXHJcbiAgICBwbGF5U2Z4KGtleSkge1xyXG4gICAgICAgIGlmICgha2V5KSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuc291bmQucGxheShrZXksIHsgdm9sdW1lOiBnZXRTdG9yZWRTZnhWb2x1bWUoKSB9KTtcclxuICAgIH0gICAgXHJcblxyXG4gICAgLy8gQnVjbGUgcHJpbmNpcGFsIGRlbCBqdWVnb1xyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIC8vIHNlIHByb2Nlc2FuIGxvcyBpbnB1dHMgZGUgbG9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUlucHV0Rm9yQWxsUGxheWVycygpO1xyXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YW4gbG9zIHBvd2VyLXVwc1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiBwbGF5ZXIudXBkYXRlUG93ZXJVcHMoKSk7XHJcbiAgICAgICAgLy8gc2UgYWN0dWFsaXphIGVsIGVzdGFkbyBkZSBsYSBwZWxvdGFcclxuICAgICAgICBpZiAodGhpcy5iYWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmFsbC51cGRhdGUoKTtcclxuICAgICAgICAgICAgLy8gdmVyaWZpY2FyIHNpIGxhIHBlbG90YSBnb2xwZWEgZWwgc3VlbG8gKGNvbXBhcmFyIGNvbiBsYSBwb3NpY2nDs24gZGVsIHN1ZWxvKVxyXG4gICAgICAgICAgICAvLyBncm91bmRZIGVzIGxhIHBhcnRlIHN1cGVyaW9yIGRlbCBzdWVsb1xyXG4gICAgICAgICAgICBpZiAodGhpcy5iYWxsLmlzQmFsbExpdmUgJiYgdGhpcy5iYWxsLnNwcml0ZS55ID4gdGhpcy5ncm91bmRZKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhbGwub25Hcm91bmRlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHZlcmlmaWNhciBzaSBsYSBwZWxvdGEgY3J1emEgbGEgcmVkIChyZWQgZXN0w6EgZW4geCA9IDQ4MClcclxuICAgICAgICAgICAgaWYgKHRoaXMuYmFsbC5zcHJpdGUueCA8IDQ3NSAmJiB0aGlzLmJhbGwuY291cnRTaWRlID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhbGwuY3Jvc3NOZXQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmJhbGwuc3ByaXRlLnggPiA0ODUgJiYgdGhpcy5iYWxsLmNvdXJ0U2lkZSA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhbGwuY3Jvc3NOZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3R1YWxpemEgZWwgdGVtcG9yaXphZG9yIGNhZGEgc2VndW5kb1xyXG4gICAgdXBkYXRlVGltZXIoKSB7XHJcbiAgICAgICAgdGhpcy50aWVtcG9SZXN0YW50ZS0tO1xyXG5cclxuICAgICAgICAvLyBGb3JtYXRvXHJcbiAgICAgICAgY29uc3QgbWludXRvcyA9IE1hdGguZmxvb3IodGhpcy50aWVtcG9SZXN0YW50ZSAvIDYwKTtcclxuICAgICAgICBjb25zdCBzZWd1bmRvcyA9IHRoaXMudGllbXBvUmVzdGFudGUgJSA2MDtcclxuICAgICAgICBjb25zdCBmb3JtYXRvID0gYCR7bWludXRvcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7c2VndW5kb3MudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWA7XHJcblxyXG4gICAgICAgIHRoaXMudGltZXJUZXh0LnNldFRleHQoZm9ybWF0byk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRpZW1wb1Jlc3RhbnRlIDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lckV2ZW50LnBhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRklOIERFTCBUSUVNUE9cIik7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zY29yZVAxID4gdGhpcy5zY29yZVAyKSB0aGlzLl9lbmRTZXQoXCJwbGF5ZXIxXCIpO1xyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnNjb3JlUDIgPiB0aGlzLnNjb3JlUDEpIHRoaXMuX2VuZFNldChcInBsYXllcjJcIik7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFbXBhdGUgZW4gZWwgc2V0XCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0dvbGRlblBvaW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldFdpbm5lclRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFdpbm5lclRleHQuc2V0VGV4dCgnRU1QQVRFOiBwdW50byBkZSBvcm8nKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFdpbm5lclRleHQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTZXRTY29yZVVJKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNldFNjb3JlTGVmdCkgdGhpcy5zZXRTY29yZUxlZnQuc2V0VGV4dCh0aGlzLnNldHNQMS50b1N0cmluZygpKTtcclxuICAgICAgICBpZiAodGhpcy5zZXRTY29yZVJpZ2h0KSB0aGlzLnNldFNjb3JlUmlnaHQuc2V0VGV4dCh0aGlzLnNldHNQMi50b1N0cmluZygpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3R1YWxpemEgbGEgVUkgZGVsIGludmVudGFyaW8gZGUgcG93ZXItdXBzIGRlIHVuIGp1Z2Fkb3JcclxuICAgIHVwZGF0ZVBsYXllckludmVudG9yeVVJKHBsYXllcikge1xyXG4gICAgICAgIGNvbnN0IHVpID0gdGhpcy5pbnZlbnRvcnlVSVtwbGF5ZXIuaWRdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLnBvd2VyVXBJbnZlbnRvcnlbaV0pIHtcclxuICAgICAgICAgICAgICAgIHVpW2ldLnNldFRleHR1cmUocGxheWVyLnBvd2VyVXBJbnZlbnRvcnlbaV0pO1xyXG4gICAgICAgICAgICAgICAgdWlbaV0uc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHVpW2ldLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLy8vIE3DiVRPRE9TIEFVWElMSUFSRVMgLy8vL1xyXG4gICAgLy8gQ3JlYSBsYXMgYW5pbWFjaW9uZXMgZGUgbG9zIDMgcGVyc29uYWplc1xyXG4gICAgX2NyZWF0ZUFuaW1hdGlvbnMoKSB7XHJcbiAgICAgICAgLy8vLyBDaGFyYWN0ZXJBIC8vLy9cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfbW92ZScsIHsgc3RhcnQ6IDAsIGVuZDogMSB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX21vdmUnLCB7IHN0YXJ0OiAyMCwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9yZWNlaXZlUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX21vdmUnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfbW92ZScsIHsgc3RhcnQ6IDExLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9tb3ZlJywgeyBzdGFydDogMjIsIGVuZDogMzIgfSksIC8vIGZpbGEgMlxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDIyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9ydW5MZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9tb3ZlJywgeyBzdGFydDogMzMsIGVuZDogNDMgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDNcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfanVtcCcsIHsgc3RhcnQ6IDAsIGVuZDogMTIgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9qdW1wJywgeyBzdGFydDogMTMsIGVuZDogMjUgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDFcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8vLy8vLy9cclxuXHJcbiAgICAgICAgLy8vLyBDaGFyYWN0ZXJCIC8vLy9cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDAsIGVuZDogMSB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX21vdmUnLCB7IHN0YXJ0OiAyMCwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTsgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfcmVjZWl2ZVJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9tb3ZlJywgeyBzdGFydDogMCwgZW5kOiAxMCB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfcmVjZWl2ZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX21vdmUnLCB7IHN0YXJ0OiAxMSwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMVxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9ydW5SaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDIyLCBlbmQ6IDMyIH0pLCAvLyBmaWxhIDJcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfcnVuTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDMzLCBlbmQ6IDQzIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAzXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMjIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9qdW1wUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX2p1bXAnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEyIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9qdW1wTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfanVtcCcsIHsgc3RhcnQ6IDEzLCBlbmQ6IDI1IH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vLy8vLy8vXHJcblxyXG4gICAgICAgIC8vLy8gQ2hhcmFjdGVyQyAvLy8vXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19pZGxlUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX21vdmUnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX2lkbGVMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19tb3ZlJywgeyBzdGFydDogMjAsIGVuZDogMjEgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA1LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7ICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfcmVjZWl2ZVJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19tb3ZlJywgeyBzdGFydDogMCwgZW5kOiAxMCB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfcmVjZWl2ZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX21vdmUnLCB7IHN0YXJ0OiAxMSwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMVxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19ydW5SaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfbW92ZScsIHsgc3RhcnQ6IDIyLCBlbmQ6IDMyIH0pLCAvLyBmaWxhIDJcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfcnVuTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfbW92ZScsIHsgc3RhcnQ6IDMzLCBlbmQ6IDQzIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAzXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMjIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19qdW1wUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX2p1bXAnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEyIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19qdW1wTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfanVtcCcsIHsgc3RhcnQ6IDEzLCBlbmQ6IDI1IH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vLy8vLy8vXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3JlYSBsb3MgcGVyc29uYWplcyBkZSBjYWRhIGp1Z2Fkb3JcclxuICAgIF9jcmVhdGVQbGF5ZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IGNoYXJQMSA9IHRoaXMucGxheWVyMS5jaGFyYWN0ZXI7XHJcbiAgICAgICAgY29uc3QgY2hhclAyID0gdGhpcy5wbGF5ZXIyLmNoYXJhY3RlcjtcclxuXHJcbiAgICAgICAgY29uc3QgcDEgPSBuZXcgUGxheWVyKFxyXG4gICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAncGxheWVyMScsXHJcbiAgICAgICAgICAgIHRoaXMud29ybGRXaWR0aCAqIDAuMjUsICAgLy8gaXpxdWllcmRhXHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kWSAtIDEwMCwgICAgICAgIC8vIGFycmliYSBkZWwgc3VlbG8gKG3DoXMgbWFyZ2VuKVxyXG4gICAgICAgICAgICBjaGFyUDFcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCBwMiA9IG5ldyBQbGF5ZXIoXHJcbiAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgdGhpcy53b3JsZFdpZHRoICogMC43NSwgICAvLyBkZXJlY2hhXHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kWSAtIDEwMCwgICAgICAgIC8vIGFycmliYSBkZWwgc3VlbG8gKG3DoXMgbWFyZ2VuKVxyXG4gICAgICAgICAgICBjaGFyUDJcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgcDEpO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjInLCBwMik7XHJcblxyXG4gICAgICAgIC8vIHNlIGVzdGFibGVjZW4gbG9zIGzDrW1pdGVzIGRlIGxhIGNhbmNoYSBwYXJhIGNhZGEganVnYWRvclxyXG4gICAgICAgIGNvbnN0IGNvdXJ0VG9wID0gNTA7XHJcbiAgICAgICAgLy8gYWxpbmVhciBlbCBsw61taXRlIGluZmVyaW9yIGp1c3RvIHBvciBlbmNpbWEgZGVsIHN1ZWxvXHJcbiAgICAgICAgLy8gY29tbyBlbCBncm91bmQgYWhvcmEgdGllbmUgb3JpZ2luIGVuICgwLjUsIDApLCBncm91bmRZIGVzIGxhIHBhcnRlIHN1cGVyaW9yXHJcbiAgICAgICAgY29uc3QgY291cnRCb3R0b20gPSBNYXRoLmZsb29yKHRoaXMuZ3JvdW5kWSk7XHJcbiAgICAgICAgY29uc3QgY291cnRJbnRlcmlvck1hcmdpbiA9IDI1O1xyXG4gICAgICAgIGNvbnN0IGNvdXJ0RXh0ZXJpb3J0TWFyZ2luID0gODA7XHJcblxyXG4gICAgICAgIC8vIHBsYXllcjEgKGl6cXVpZXJkYSk6XHJcbiAgICAgICAgcDEuc2V0Qm91bmRzKGNvdXJ0RXh0ZXJpb3J0TWFyZ2luLCA0ODAgLSBjb3VydEludGVyaW9yTWFyZ2luLCBjb3VydFRvcCwgY291cnRCb3R0b20pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHBsYXllcjIgKGRlcmVjaGEpOlxyXG4gICAgICAgIHAyLnNldEJvdW5kcyg0ODAgKyBjb3VydEludGVyaW9yTWFyZ2luLCB0aGlzLndvcmxkV2lkdGggLSBjb3VydEV4dGVyaW9ydE1hcmdpbiwgY291cnRUb3AsIGNvdXJ0Qm90dG9tKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnNldFBsYXllcnModGhpcy5wbGF5ZXJzKTtcclxuICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3Iuc2V0R2FtZVNjZW5lKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBwb3IgZGVmZWN0bywgYW5pbWFjacOzbiBpZGxlXHJcbiAgICAgICAgcDEuaWRsZVJpZ2h0KCk7XHJcbiAgICAgICAgcDIuaWRsZUxlZnQoKTtcclxuICAgIH0gICAgXHJcblxyXG4gICAgLy8gQ3JlYSBlbCBzdWVsbywgbGEgcmVkLCBsb3MgbMOtbWl0ZXMsIGV0Yy5cclxuICAgIF9zZXR1cFBoeXNpY3NXb3JsZChncm91bmQpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICAvLyBjb2xpc2nDs24ganVnYWRvci1zdWVsb1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIGdyb3VuZCk7XHJcblxyXG4gICAgICAgICAgICAvLyBjb2xpc2nDs24ganVnYWRvci1yZWRcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLnJlZCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYCR7cGxheWVyLmlkfSB0b2PDsyBsYSByZWQhYCk7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXNpZ25hIGxvcyBjb250cm9sZXMvdGVjbGFzIGRlIGNhZGEganVnYWRvclxyXG4gICAgX3NldHVwSW5wdXRNYXBwaW5ncygpIHtcclxuICAgICAgICBjb25zdCBpbnB1dENvbmZpZyA9IFtcclxuICAgICAgICAgICAgLy8ganVnYWRvciAxXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnQScsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleTogJ0QnLFxyXG4gICAgICAgICAgICAgICAganVtcEtleTogJ1cnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZUtleTogJ1MnLFxyXG4gICAgICAgICAgICAgICAgcG93ZXJLZXk6ICdFJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyBqdWdhZG9yIDJcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdKJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnTCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wS2V5OiAnSScsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlS2V5OiAnSycsXHJcbiAgICAgICAgICAgICAgICBwb3dlcktleTogJ08nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBpbnB1dENvbmZpZy5tYXAoY29uZmlnID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiBjb25maWcucGxheWVySWQsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShcclxuICAgICAgICAgICAgICAgICAgICBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmxlZnRLZXldXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFxyXG4gICAgICAgICAgICAgICAgICAgIFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucmlnaHRLZXldXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAganVtcEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoXHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5qdW1wS2V5XVxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFxyXG4gICAgICAgICAgICAgICAgICAgIFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucmVjZWl2ZUtleV1cclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICBwb3dlcktleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoXHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5wb3dlcktleV1cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQcm9jZXNhIGVsIGlucHV0IGRlIGxvcyBkb3MganVnYWRvcmVzXHJcbiAgICBfaGFuZGxlSW5wdXRGb3JBbGxQbGF5ZXJzKCkge1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncy5mb3JFYWNoKG1hcHBpbmcgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KG1hcHBpbmcucGxheWVySWQpO1xyXG4gICAgICAgICAgICBpZiAoIXBsYXllcikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgLy8gc2kgZXN0w6EgcGFyYWxpemFkbywgc2UgZGVqYSBlbiBpZGxlXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNQYXJhbHl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlkbGVEaXIgPSAocGxheWVyLmZhY2luZyA9PT0gJ2xlZnQnKSA/ICdpZGxlTGVmdCcgOiAnaWRsZVJpZ2h0JztcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlUGxheWVyQ29tbWFuZChwbGF5ZXIsIGlkbGVEaXIpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZGlyZWN0aW9uO1xyXG5cclxuICAgICAgICAgICAgLy8gbW92aW1pZW50byBob3Jpem9udGFsIG5vcm1hbFxyXG4gICAgICAgICAgICBpZiAobWFwcGluZy5sZWZ0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG1hcHBpbmcucmlnaHRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAncmlnaHQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIG5vIHNlIHB1bHNhIG5hZGEsIGFzw60gcXVlIHNlIHF1ZWRhIGlkbGUgc2Vnw7puIGhhY2lhIGTDs25kZSBtaXJhYmFcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAocGxheWVyLmZhY2luZyA9PT0gJ2xlZnQnKSA/ICdpZGxlTGVmdCc6ICdpZGxlUmlnaHQnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBzZSBhcGxpY2EgbW92aW1pZW50by9pZGxlIFNPTE8gc2kgbm8gZXN0w6Egc2FsdGFuZG9cclxuICAgICAgICAgICAgLy8gc2kgZXN0w6Egc2FsdGFuZG8sIG5vIHNlIHByb2Nlc2EgZWwgbW92aW1pZW50byBwYXJhIG5vIHNvYnJlc2NyaWJpciBsYSBhbmltYWNpw7NuXHJcbiAgICAgICAgICAgIGlmICghcGxheWVyLmlzSnVtcGluZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVQbGF5ZXJDb21tYW5kKHBsYXllciwgZGlyZWN0aW9uKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gcmVjZXBjacOzblxyXG4gICAgICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKG1hcHBpbmcucmVjZWl2ZUtleU9iaikpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlY2VpdmVEaXIgPSAocGxheWVyLmZhY2luZyA9PT0gJ2xlZnQnKSA/ICdyZWNlaXZlTGVmdCcgOiAncmVjZWl2ZVJpZ2h0JztcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlUGxheWVyQ29tbWFuZChwbGF5ZXIsIHJlY2VpdmVEaXIpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBzYWx0by9yZW1hdGVcclxuICAgICAgICAgICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bihtYXBwaW5nLmp1bXBLZXlPYmopKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBqdW1wRGlyID0gKHBsYXllci5mYWNpbmcgPT09ICdsZWZ0JykgPyAnanVtcExlZnQnIDogJ2p1bXBSaWdodCc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IucHJvY2VzcyhcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTW92ZVBsYXllckNvbW1hbmQocGxheWVyLCBqdW1wRGlyKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUG93ZXJVcHNcclxuICAgICAgICAgICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bihtYXBwaW5nLnBvd2VyS2V5T2JqKSkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnVzZU5leHRQb3dlclVwKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBsYXllckludmVudG9yeVVJKHBsYXllcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gc2UgYWN0dWFsaXphIGVsIGVzdGFkbyBkZSBsb3MganVnYWRvcmVzIChzdWVsbywgZXRjLilcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4gcGxheWVyLnVwZGF0ZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhIGxhIHBlbG90YVxyXG4gICAgX2NyZWF0ZUJhbGwoKSB7XHJcbiAgICAgICAgdGhpcy5iYWxsID0gbmV3IEJhbGwodGhpcywgdGhpcy53b3JsZFdpZHRoIC8gMiwgMTUwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb25maWd1cmEgbGFzIGNvbGlzaW9uZXMgZGUgbGEgcGVsb3RhXHJcbiAgICBfc2V0dXBCYWxsQ29sbGlzaW9ucygpIHtcclxuICAgICAgICAvLyBjb2xpc2lvbmVzIGRlIGxhIHBlbG90YSBjb24gbG9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgKCkgPT4gdGhpcy5fb25CYWxsUGxheWVyQ29sbGlzaW9uKHRoaXMuYmFsbCwgcGxheWVyKSxcclxuICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGNvbGlzacOzbiBwZWxvdGEtcmVkXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmJhbGwuc3ByaXRlLCB0aGlzLnJlZCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBFc3RvIHNlIGRpc3BhcmEgYWwgdG9jYXIgbGEgcmVkXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMYSBwZWxvdGEgdG9jYSBsYSByZWQhJyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBQb3IgZWplbXBsbywgc2UgcHVlZGUgZnJlbmFyIGxhIHBlbG90YTpcclxuICAgICAgICAgICAgdGhpcy5iYWxsLnNwcml0ZS5zZXRWZWxvY2l0eVgodGhpcy5iYWxsLnNwcml0ZS5ib2R5LnZlbG9jaXR5LnggKiAwLjUpO1xyXG4gICAgICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLnNldFZlbG9jaXR5WSh0aGlzLmJhbGwuc3ByaXRlLmJvZHkudmVsb2NpdHkueSAqIDAuNSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGNvbGlzacOzbiBkZSBsYSBwZWxvdGEgY29uIGVsIHN1ZWxvIChkaXNwYXJhIHB1bnR1YWNpw7NuKVxyXG4gICAgICAgIGNvbnN0IGdyb3VuZFkgPSB0aGlzLndvcmxkSGVpZ2h0IC0gMTA7XHJcbiAgICAgICAgdGhpcy5iYWxsLnNwcml0ZS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5iYWxsLnNwcml0ZS5zZXRCb3VuY2UoMC44KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb25maWd1cmEgbG9zIGV2ZW50IGxpc3RlbmVycyBkZSBsYSBwZWxvdGFcclxuICAgIF9zZXR1cEJhbGxFdmVudHMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3JhbGx5Q29uY2x1ZGVkJywgKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzU2V0RW5kaW5nKSByZXR1cm47XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUmFsbHkgY29uY2x1ZGVkOiAke2RhdGEuc2NvcmluZ1BsYXllcklkfSBzY29yZXMhYCk7XG4gICAgICAgICAgICBjb25zdCBzY29yZXJJZCA9IGRhdGEuc2NvcmluZ1BsYXllcklkO1xuXHJcbiAgICAgICAgICAgIC8vIHNlIGNvZ2UgZWwgcGxheWVyIHF1ZSBoYSBhbm90YWRvXHJcbiAgICAgICAgICAgIGNvbnN0IHNjb3JpbmdQbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KHNjb3JlcklkKTtcclxuICAgICAgICAgICAgY29uc3QgbXVsdGlwbGllciA9IHNjb3JpbmdQbGF5ZXIgPyAoc2NvcmluZ1BsYXllci5zY29yZU11bHRpcGxpZXIgfHwgMSkgOiAxO1xyXG5cclxuICAgICAgICAgICAgLy8gMSBwdW50byBiYXNlICogbXVsdGlwbGljYWRvclxyXG4gICAgICAgICAgICBjb25zdCBwb2ludHNUb0FkZCA9IG11bHRpcGxpZXI7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2NvcmVySWQgPT09ICdwbGF5ZXIxJykge1xyXG4gICAgICAgICAgICAgICAgLy8gbWFyY2Fkb3IgdmlzdWFsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50c0xlZnQgKz0gcG9pbnRzVG9BZGQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjb3JlTGVmdC5zZXRUZXh0KHRoaXMucG9pbnRzTGVmdC50b1N0cmluZygpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBwdW50b3MgZGVsIHNldCAocGFyYSBsw7NnaWNhIGRlIHNldHMpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjb3JlUDEgKz0gcG9pbnRzVG9BZGQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoc2NvcmVySWQgPT09ICdwbGF5ZXIyJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludHNSaWdodCArPSBwb2ludHNUb0FkZDtcclxuICAgICAgICAgICAgICAgIHRoaXMucmlnaHRTY29yZS5zZXRUZXh0KHRoaXMucG9pbnRzUmlnaHQudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZVAyICs9IHBvaW50c1RvQWRkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHNlIHJlcHJvZHVjZSBlbCBlZmVjdG8gZGUgc29uaWRvIGRlIHB1bnRvXHJcbiAgICAgICAgICAgIHRoaXMucGxheVNmeCh0aGlzLnNmeC5wb2ludCk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0dvbGRlblBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzR29sZGVuUG9pbnQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VuZFNldChzY29yZXJJZCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAvLyBjb25kaWNpw7NuIGRlIDExIHB1bnRvcyBjb24gMiBkZSBkaWZlcmVuY2lhXHJcbiAgICAgICAgICAgIHRoaXMuX2NoZWNrV2luQ29uZGl0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyaWZpY2Egc2kgbGEgcGVsb3RhIGVzdMOhIGVuIGxhIHpvbmEgdsOhbGlkYSBwYXJhIGdvbHBlYXJsYVxyXG4gICAgX2lzQmFsbEluSGl0Wm9uZShiYWxsU3ByaXRlLCBwbGF5ZXIsIGlzSnVtcGluZywgaXNSZWNlaXZpbmcpIHtcclxuICAgICAgICBjb25zdCBib2R5ID0gcGxheWVyLnNwcml0ZS5ib2R5O1xyXG4gICAgICAgIGlmICghYm9keSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICBjb25zdCBiYWxsWCA9IGJhbGxTcHJpdGUueDtcclxuICAgICAgICBjb25zdCBiYWxsWSA9IGJhbGxTcHJpdGUueTtcclxuICAgICAgICBjb25zdCBib2R5VG9wID0gYm9keS55O1xyXG4gICAgICAgIGNvbnN0IGJvZHlIZWlnaHQgPSBib2R5LmhlaWdodDtcclxuICAgICAgICBjb25zdCBib2R5Q2VudGVyWCA9IGJvZHkueCArIGJvZHkud2lkdGggKiAwLjU7XHJcblxyXG4gICAgICAgIGNvbnN0IHpvbmUgPSBpc0p1bXBpbmdcclxuICAgICAgICAgICAgPyB7IHRvcDogLTAuMSwgYm90dG9tOiAwLjYgfVxyXG4gICAgICAgICAgICA6IChpc1JlY2VpdmluZyA/IHsgdG9wOiAwLjM1LCBib3R0b206IDAuODUgfSA6IHsgdG9wOiAwLjI1LCBib3R0b206IDAuODUgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHpvbmVUb3AgPSBib2R5VG9wICsgYm9keUhlaWdodCAqIHpvbmUudG9wO1xyXG4gICAgICAgIGNvbnN0IHpvbmVCb3R0b20gPSBib2R5VG9wICsgYm9keUhlaWdodCAqIHpvbmUuYm90dG9tO1xyXG5cclxuICAgICAgICBpZiAoYmFsbFkgPCB6b25lVG9wIHx8IGJhbGxZID4gem9uZUJvdHRvbSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBmYWNpbmdSaWdodCA9IHBsYXllci5mYWNpbmcgPT09ICdyaWdodCc7XHJcbiAgICAgICAgY29uc3Qgd2lkZUhpdCA9IGlzUmVjZWl2aW5nIHx8IGlzSnVtcGluZztcclxuICAgICAgICBjb25zdCByZWFjaEZvcndhcmQgPSBib2R5LndpZHRoICogKHdpZGVIaXQgPyAwLjkgOiAwLjc1KTtcclxuICAgICAgICBjb25zdCByZWFjaEJhY2sgPSBib2R5LndpZHRoICogKHdpZGVIaXQgPyAwLjI1IDogMC4xNSk7XHJcbiAgICAgICAgY29uc3QgbWluWCA9IGZhY2luZ1JpZ2h0ID8gYm9keUNlbnRlclggLSByZWFjaEJhY2sgOiBib2R5Q2VudGVyWCAtIHJlYWNoRm9yd2FyZDtcclxuICAgICAgICBjb25zdCBtYXhYID0gZmFjaW5nUmlnaHQgPyBib2R5Q2VudGVyWCArIHJlYWNoRm9yd2FyZCA6IGJvZHlDZW50ZXJYICsgcmVhY2hCYWNrO1xyXG5cclxuICAgICAgICBpZiAoYmFsbFggPCBtaW5YIHx8IGJhbGxYID4gbWF4WCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNYW5lamEgY29saXNpw7NuIGVudHJlIHBlbG90YSB5IGp1Z2Fkb3JcclxuICAgIF9vbkJhbGxQbGF5ZXJDb2xsaXNpb24oYmFsbCwgcGxheWVyKSB7XHJcbiAgICAgICAgaWYgKCFiYWxsLmlzQmFsbExpdmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgaXNKdW1waW5nID0gIXBsYXllci5zcHJpdGUuYm9keS5ibG9ja2VkLmRvd247XHJcbiAgICAgICAgY29uc3QgaXNSZWNlaXZpbmcgPSBwbGF5ZXIuaXNSZWNlaXZpbmc7XHJcbiAgICAgICAgY29uc3QgcGxheWVyRGlyZWN0aW9uID0gcGxheWVyLmZhY2luZztcclxuXHJcbiAgICAgICAgaWYgKCF0aGlzLl9pc0JhbGxJbkhpdFpvbmUoYmFsbC5zcHJpdGUsIHBsYXllciwgaXNKdW1waW5nLCBpc1JlY2VpdmluZykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYmFsbC5oaXQocGxheWVyLCBwbGF5ZXJEaXJlY3Rpb24sIGlzSnVtcGluZywgaXNSZWNlaXZpbmcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbnRyb2xhIGVsIGZpbmFsIGRlbCBqdWVnb1xyXG4gICAgX2VuZEdhbWUod2lubmVyKSB7XHJcbiAgICAgICAgLy8gc2UgcGFyYSBlbCB0aW1lciBkZWwgc2V0XHJcbiAgICAgICAgaWYgKHRoaXMudGltZXJFdmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQucmVtb3ZlKGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lckV2ZW50ID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNpbGJhdG8gZGUgZmluYWwgZGUgcGFydGlkb1xyXG4gICAgICAgIHRoaXMucGxheVNmeCh0aGlzLnNmeC53aGlzdGxlKTtcclxuXHJcbiAgICAgICAgLy8gc2UgZGV0aWVuZSBsYSBmw61zaWNhIGRlIGVzdGEgZXNjZW5hIGFudGVzIGRlIHNhbGlyXHJcbiAgICAgICAgaWYgKHRoaXMucGh5c2ljcyAmJiB0aGlzLnBoeXNpY3Mud29ybGQpIHtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLndvcmxkLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KFwiRW5kR2FtZV9TY2VuZVwiLCB7XHJcbiAgICAgICAgICAgIHdpbm5lcjogd2lubmVyLFxyXG4gICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLnBsYXllcjEsXHJcbiAgICAgICAgICAgIHBsYXllcjI6IHRoaXMucGxheWVyMixcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBWZXJpZmljYSBzaSBhbGfDum4ganVnYWRvciBoYSBnYW5hZG8gZWwgc2V0XHJcbiAgICBfY2hlY2tXaW5Db25kaXRpb24oKSB7XHJcbiAgICAgICAgY29uc3QgbWluUG9pbnRzID0gMTE7ICAgLy8gcHVudG9zIG3DrW5pbW9zIHBhcmEgZ2FuYXJcclxuICAgICAgICBjb25zdCBtaW5EaWZmID0gMjsgICAgICAvLyBkaWZlcmVuY2lhIG3DrW5pbWEgZGUgcHVudG9zIHBhcmEgZ2FuYXJcclxuICAgICAgICBcclxuICAgICAgICAvLyBkaWZlcmVuY2lhIGRlIHB1bnRvc1xyXG4gICAgICAgIGNvbnN0IHNjb3JlRGlmZiA9IHRoaXMuc2NvcmVQMSAtIHRoaXMuc2NvcmVQMjtcclxuICAgICAgICBjb25zdCBtYXhTY29yZSA9IE1hdGgubWF4KHRoaXMuc2NvcmVQMSwgdGhpcy5zY29yZVAyKTtcclxuXHJcbiAgICAgICAgLy8gc2kgbm8gc2UgY3VtcGxlIGFsZ3VuYSBkZSBsYXMgY29uZGljaW9uZXMsIG5vIHNlIHRlcm1pbmEgZWwgc2V0XHJcbiAgICAgICAgaWYgKG1heFNjb3JlIDwgbWluUG9pbnRzIHx8IE1hdGguYWJzKHNjb3JlRGlmZikgPCBtaW5EaWZmKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNpbm8sIHNlIGRldGVybWluYSBlbCBnYW5hZG9yIGRlbCBzZXRcclxuICAgICAgICBjb25zdCB3aW5uZXIgPSBzY29yZURpZmYgPiAwID8gXCJwbGF5ZXIxXCIgOiBcInBsYXllcjJcIjtcclxuICAgICAgICB0aGlzLl9lbmRTZXQod2lubmVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb250cm9sYSBlbCBmaW5hbCBkZSB1biBzZXRcclxuICAgIF9lbmRTZXQod2lubmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmlzU2V0RW5kaW5nKSByZXR1cm47XG4gICAgICAgIHRoaXMuaXNTZXRFbmRpbmcgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5iYWxsPy5zcHJpdGUpIHtcbiAgICAgICAgICAgIHRoaXMuYmFsbC5pc0JhbGxMaXZlID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApO1xuICAgICAgICB9XG4gICAgICAgIC8vIGFjdHVhbGl6YXIgc2V0cyBnYW5hZG9zXG4gICAgICAgIGlmICh3aW5uZXIgPT09ICdwbGF5ZXIxJykgdGhpcy5zZXRzUDErKztcbiAgICAgICAgZWxzZSBpZiAod2lubmVyID09PSAncGxheWVyMicpIHRoaXMuc2V0c1AyKys7XG5cclxuICAgICAgICBjb25zb2xlLmxvZyhgU2V0IHRlcm1pbmFkby4gU2NvcmUgc2V0czogUDE9JHt0aGlzLnNldHNQMX0sIFAyPSR7dGhpcy5zZXRzUDJ9YCk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlU2V0U2NvcmVVSSgpO1xyXG5cclxuICAgICAgICAvLyBtb3N0cmFyIG1lbnNhamUgZGUgZ2FuYWRvciBkZSBzZXRcclxuICAgICAgICBjb25zdCB3aW5uZXJMYWJlbCA9ICh3aW5uZXIgPT09ICdwbGF5ZXIxJykgPyAnSnVnYWRvciAxJyA6ICdKdWdhZG9yIDInO1xyXG4gICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dC5zZXRUZXh0KGBTRVQgcGFyYSAke3dpbm5lckxhYmVsfWApO1xyXG4gICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dC5zZXRWaXNpYmxlKHRydWUpO1xyXG5cclxuICAgICAgICAvLyBBdmFuemFyIG7Dum1lcm8gZGUgc2V0XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U2V0Kys7XHJcblxyXG4gICAgICAgIGNvbnN0IG1hdGNoT3ZlciA9ICh0aGlzLnNldHNQMSA9PT0gMiB8fCB0aGlzLnNldHNQMiA9PT0gMik7XHJcblxyXG4gICAgICAgIGlmIChtYXRjaE92ZXIpIHtcclxuICAgICAgICAgICAgLy8gw7psdGltbyBzZXQ6IG1vc3RyYW1vcyBlbCBtZW5zYWplIDJzIHkgbHVlZ28gcGFzYW1vcyBhIGxhIGVzY2VuYSBmaW5hbFxyXG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gKHNpIHF1aWVyZXMsIGFxdcOtIHBvZHLDrWFzIG9jdWx0YXIgZWwgdGV4dG8pXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmRHYW1lKHdpbm5lcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHNldCBpbnRlcm1lZGlvOiBtb3N0cmFtb3MgZWwgbWVuc2FqZSAycywgbG8gb2N1bHRhbW9zIHkgcmVpbmljaWFtb3MgZWwgc2V0XHJcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXRXaW5uZXJUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRXaW5uZXJUZXh0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzZXRTZXQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlaW5pY2lhIGVsIGVzdGFkbyBwYXJhIHVuIG51ZXZvIHNldFxyXG4gICAgX3Jlc2V0U2V0KCkge1xuICAgICAgICB0aGlzLmlzU2V0RW5kaW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaXNHb2xkZW5Qb2ludCA9IGZhbHNlO1xuICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgdGV4dG8gZGVsIHNldCBhY3R1YWxcclxuICAgICAgICB0aGlzLnNldFRleHQuc2V0VGV4dChgU0VUICR7dGhpcy5jdXJyZW50U2V0fWApO1xyXG5cclxuICAgICAgICAvLyBzZSByZWluaWNpYSBlbCB0aWVtcG9cclxuICAgICAgICB0aGlzLnRpZW1wb1Jlc3RhbnRlID0gdGhpcy50aWVtcG9Ub3RhbDtcclxuICAgICAgICB0aGlzLnRpbWVyRXZlbnQucGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lcigpO1xyXG5cclxuICAgICAgICAvLyBzZSByZWluaWNpYSBsYSBwdW50dWFjacOzbiBkZWwgc2V0IChsw7NnaWNhKVxyXG4gICAgICAgIHRoaXMuc2NvcmVQMSA9IDA7XHJcbiAgICAgICAgdGhpcy5zY29yZVAyID0gMDtcclxuXHJcbiAgICAgICAgLy8gc2UgcmVpbmljaWEgZWwgbWFyY2Fkb3IgdmlzdWFsIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5wb2ludHNMZWZ0ID0gMDtcclxuICAgICAgICB0aGlzLnBvaW50c1JpZ2h0ID0gMDtcclxuICAgICAgICB0aGlzLnNjb3JlTGVmdC5zZXRUZXh0KCcwJyk7XHJcbiAgICAgICAgdGhpcy5yaWdodFNjb3JlLnNldFRleHQoJzAnKTtcclxuXHJcbiAgICAgICAgLy8gc2UgcmVpbmljaWEgbGEgcGVsb3RhXHJcbiAgICAgICAgdGhpcy5iYWxsLnJlc2V0UmFsbHkoKTtcclxuXHJcbiAgICAgICAgLy8gc2UgcmVwb3NpY2lvbmFuIGxvcyBqdWdhZG9yZXMgYSBzdXMgcG9zaWNpb25lcyBpbmljaWFsZXNcclxuICAgICAgICBjb25zdCBwMSA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKTtcclxuICAgICAgICBjb25zdCBwMiA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKTtcclxuXHJcbiAgICAgICAgcDEuc2V0UG9zaXRpb24odGhpcy53b3JsZFdpZHRoICogMC4yNSwgdGhpcy53b3JsZEhlaWdodCAqIDAuNyk7XHJcbiAgICAgICAgcDIuc2V0UG9zaXRpb24odGhpcy53b3JsZFdpZHRoICogMC43NSwgdGhpcy53b3JsZEhlaWdodCAqIDAuNyk7XHJcblxyXG4gICAgICAgIHAxLmlkbGVSaWdodCgpO1xyXG4gICAgICAgIHAyLmlkbGVMZWZ0KCk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheVNmeCh0aGlzLnNmeC53aGlzdGxlKTtcclxuICAgIH1cclxufVxyXG4iLCIvLyBQYW50YWxsYSBkZSBUdXRvcmlhbFxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGFwcGx5U3RvcmVkVm9sdW1lLCBwbGF5Q2xpY2sgfSBmcm9tICcuLi9VSS9BdWRpby5qcyc7XHJcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uLCBjcmVhdGVJY29uQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgVHV0b3JpYWxfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1R1dG9yaWFsX1NjZW5lJyk7XHJcblxyXG4gICAgICAgIC8vIHVuIMO6bmljbyB0dXRvcmlhbCBjb24gcMOhZ2luYXNcclxuICAgICAgICB0aGlzLnBhZ2VJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5yZXR1cm5TY2VuZSA9ICdNZW51X1NjZW5lJztcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICAvLyBlc2NlbmEgZGVzZGUgbGEgcXVlIHNlIGFicmnDsyBlbCB0dXRvcmlhbCwgcGFyYSByZWFudWRhcmxhXHJcbiAgICAgICAgdGhpcy5yZXR1cm5TY2VuZSA9IGRhdGE/LnJldHVyblNjZW5lID8/ICdNZW51X1NjZW5lJztcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIGltw6FnZW5lcyBkZWwgdHV0b3JpYWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dDBfY29udHJvbGVzJywgJ0FTU0VUUy9UVVRPUklBTC9UVVQwX0NvbnRyb2xlcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dDFfc2V0JywgJ0FTU0VUUy9UVVRPUklBTC9UVVQxX1NldC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dDJfcGVsb3RhJywgJ0FTU0VUUy9UVVRPUklBTC9UVVQyX1BlbG90YS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dDNfcG93ZXJ1cCcsICdBU1NFVFMvVFVUT1JJQUwvVFVUM19Qb3dlcnVwLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0NF9saXN0YScsICdBU1NFVFMvVFVUT1JJQUwvVFVUNF9MaXN0YS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gZm9uZG8geSB1aVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvRkxFQ0hBX1ZPTFZFUi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XHJcblxyXG4gICAgICAgIGNvbnN0IHN0eWxlID0ge1xyXG4gICAgICAgICAgICAuLi4odGhpcy5nYW1lLmdsb2JhbHM/LmRlZmF1bHRUZXh0U3R5bGUgPz8ge1xyXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ1ZUMzIzJyxcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5pbWFnZSgwLCAwLCAnZm9uZG8nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSlcclxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyB0w610dWxvXHJcbiAgICAgICAgdGhpcy5tYWluVGl0bGVUZXh0ID0gdGhpcy5hZGRcclxuICAgICAgICAgICAgLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC4xLCAnVHV0b3JpYWwnLCB7XHJcbiAgICAgICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnNDJweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZicsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIFZvbHZlciBhdHLDoXNcclxuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogd2lkdGggKiAwLjA2LFxyXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjA4LFxyXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxyXG4gICAgICAgICAgICBzY2FsZTogMSxcclxuICAgICAgICAgICAgaG92ZXJTY2FsZTogMS4xLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KHRoaXMucmV0dXJuU2NlbmUpLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBjb250ZW5pZG8gZGVsIHR1dG9yaWFsIChzbGlkZXMpXHJcbiAgICAgICAgdGhpcy5wYWdlSW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMucGFnZXMgPSBbXHJcbiAgICAgICAgICAgIHsga2V5OiAndHV0MF9jb250cm9sZXMnLCB0aXRsZTogJ0NvbnRyb2xlcycgfSxcclxuICAgICAgICAgICAgeyBrZXk6ICd0dXQxX3NldCcsIHRpdGxlOiAnUmVnbGFzIGLDoXNpY2FzOiBzZXQnIH0sXHJcbiAgICAgICAgICAgIHsga2V5OiAndHV0Ml9wZWxvdGEnLCB0aXRsZTogJ1JlZ2xhcyBiw6FzaWNhczogcGVsb3RhJyB9LFxyXG4gICAgICAgICAgICB7IGtleTogJ3R1dDNfcG93ZXJ1cCcsIHRpdGxlOiAnUmVnbGFzIGLDoXNpY2FzOiBwb3dlci11cHMnIH0sXHJcbiAgICAgICAgICAgIHsga2V5OiAndHV0NF9saXN0YScsIHRpdGxlOiAnTGlzdGEgZGUgcG93ZXItdXBzJyB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgLy8gcGFuZWwgcGFyYSBsYXMgaW3DoWdlbmVzXHJcbiAgICAgICAgY29uc3QgcGFuZWxNYXJnaW4gPSBNYXRoLm1heCg4LCBNYXRoLnJvdW5kKE1hdGgubWluKHdpZHRoLCBoZWlnaHQpICogMC4wMTUpKTtcclxuICAgICAgICBjb25zdCBwYW5lbEdhcCA9IE1hdGgubWF4KDYsIE1hdGgucm91bmQoaGVpZ2h0ICogMC4wMTIpKTtcclxuICAgICAgICBjb25zdCBuYXZZID0gaGVpZ2h0ICogMC45MTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFuZWxUb3AgPSB0aGlzLm1haW5UaXRsZVRleHQueSArIHRoaXMubWFpblRpdGxlVGV4dC5oZWlnaHQgKyBwYW5lbEdhcDtcclxuICAgICAgICBjb25zdCBwYW5lbEJvdHRvbSA9IG5hdlkgLSBwYW5lbEdhcDtcclxuICAgICAgICBjb25zdCBwYW5lbEhlaWdodCA9IE1hdGgubWF4KDAsIHBhbmVsQm90dG9tIC0gcGFuZWxUb3ApO1xyXG4gICAgICAgIGNvbnN0IHBhbmVsV2lkdGggPSBNYXRoLm1heCgwLCB3aWR0aCAtIHBhbmVsTWFyZ2luICogMik7XHJcblxyXG4gICAgICAgIHRoaXMubGF5b3V0ID0ge1xyXG4gICAgICAgICAgICBwYW5lbFRvcCxcclxuICAgICAgICAgICAgcGFuZWxIZWlnaHQsXHJcbiAgICAgICAgICAgIHBhbmVsV2lkdGgsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gaW1hZ2VuIGRlIGxhIHBhZ2luYVxyXG4gICAgICAgIHRoaXMuc2xpZGVJbWFnZSA9IHRoaXMuYWRkLmltYWdlKFxyXG4gICAgICAgICAgICBjZW50ZXJYLFxyXG4gICAgICAgICAgICBwYW5lbFRvcCArIHBhbmVsSGVpZ2h0IC8gMixcclxuICAgICAgICAgICAgdGhpcy5wYWdlc1swXS5rZXlcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuX2ZpdEltYWdlKHRoaXMuc2xpZGVJbWFnZSwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyBpbmRpY2Fkb3IgZGUgcGFnaW5hXHJcbiAgICAgICAgdGhpcy5wYWdlSW5kaWNhdG9yID0gdGhpcy5hZGQudGV4dChjZW50ZXJYLCBuYXZZICsgMjAsICcnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEJPVE9ORVMgREUgTkFWRUdBQ0nDk05cclxuICAgICAgICBjb25zdCBidXR0b25UZXh0U3R5bGUgPSB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzI4cHgnLCBjb2xvcjogJyMwMDAwMDAnIH07XHJcbiAgICAgICAgLy8gYm90w7NuIEFudGVyaW9yXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBjZW50ZXJYIC0gMTY1LFxyXG4gICAgICAgICAgICB5OiBuYXZZICsgMjAsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnQW50ZXJpb3InLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnByZXYoKSxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gYm90w7NuIFNpZ3VpZW50ZVxyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogY2VudGVyWCArIDE2NSxcclxuICAgICAgICAgICAgeTogbmF2WSArIDIwLFxyXG4gICAgICAgICAgICBsYWJlbDogJ1NpZ3VpZW50ZScsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMubmV4dCgpLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXJQYWdlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2ZpdEltYWdlKGltZywgbWF4VywgbWF4SCkge1xyXG4gICAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4obWF4VyAvIGltZy53aWR0aCwgbWF4SCAvIGltZy5oZWlnaHQpO1xyXG4gICAgICAgIGltZy5zZXRTY2FsZShzY2FsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUGFnZSgpIHtcclxuICAgICAgICBjb25zdCBwID0gdGhpcy5wYWdlc1t0aGlzLnBhZ2VJbmRleF07XHJcbiAgICAgICAgdGhpcy5tYWluVGl0bGVUZXh0LnNldFRleHQocC50aXRsZSA/PyAnVHV0b3JpYWwnKTtcclxuICAgICAgICB0aGlzLnNsaWRlSW1hZ2Uuc2V0VGV4dHVyZShwLmtleSk7XHJcbiAgICAgICAgdGhpcy5fZml0SW1hZ2UodGhpcy5zbGlkZUltYWdlLCB0aGlzLmxheW91dC5wYW5lbFdpZHRoLCB0aGlzLmxheW91dC5wYW5lbEhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5wYWdlSW5kaWNhdG9yLnNldFRleHQoYCR7dGhpcy5wYWdlSW5kZXggKyAxfSBkZSAke3RoaXMucGFnZXMubGVuZ3RofWApO1xyXG4gICAgfVxyXG5cclxuICAgIG5leHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGFnZUluZGV4IDwgdGhpcy5wYWdlcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZUluZGV4Kys7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUGFnZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcmV2KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhZ2VJbmRleCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5wYWdlSW5kZXgtLTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJQYWdlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG4iLCIvLyBQYW50YWxsYSBkZSBDb25maWd1cmFjacOzblxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGVuc3VyZVN0b3JlZEF1ZGlvU2V0dGluZ3MsIGdldFN0b3JlZE11c2ljVm9sdW1lLCBnZXRTdG9yZWRTZnhWb2x1bWUsIGdldFN0b3JlZEdsb2JhbFZvbHVtZSwgc2V0U3RvcmVkTXVzaWNWb2x1bWUsIHNldFN0b3JlZFNmeFZvbHVtZSwgc2V0U3RvcmVkR2xvYmFsVm9sdW1lLCBhcHBseVN0b3JlZFZvbHVtZSwgcGxheUNsaWNrIH0gZnJvbSAnLi4vVUkvQXVkaW8uanMnO1xyXG5pbXBvcnQgeyBjcmVhdGVJY29uQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29uZmlndXJhdGlvbl9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29uZmlndXJhdGlvbl9TY2VuZScpO1xyXG5cclxuICAgICAgICB0aGlzLm11c2ljVm9sdW1lU2xpZGVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5nbG9iYWxWb2x1bWVTbGlkZXIgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gaW3DoWdlbmVzIGZvbmRvIHkgdWlcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0ZMRUNIQV9WT0xWRVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIHNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlO1xyXG5cclxuICAgICAgICAvLyBGb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAgICAgLnNldERlcHRoKC0xKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGhlaWdodCAqIDAuMSwgJ0NvbmZpZ3VyYWNpw7NuJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vLy8gVk9MVU1FTkVTIC8vLy9cclxuICAgICAgICBlbnN1cmVTdG9yZWRBdWRpb1NldHRpbmdzKCk7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbEdsb2JhbFZvbHVtZSA9IGdldFN0b3JlZEdsb2JhbFZvbHVtZSgpO1xyXG4gICAgICAgIGNvbnN0IGluaXRpYWxNdXNpY1ZvbHVtZSA9IGdldFN0b3JlZE11c2ljVm9sdW1lKCk7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbFNmeFZvbHVtZSA9IGdldFN0b3JlZFNmeFZvbHVtZSgpO1xyXG5cclxuICAgICAgICAvLyBzZSBhcGxpY2EgZWwgdm9sdW1lbiBuYWRhIG1hcyBjYXJnYXJcclxuICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gbGF5b3V0IGRlIGxvcyBzbGlkZXJzXHJcbiAgICAgICAgY29uc3Qgc2VjdGlvbnMgPSAzO1xyXG4gICAgICAgIGNvbnN0IHNlY3Rpb25HYXAgPSBoZWlnaHQgKiAwLjE4O1xyXG4gICAgICAgIGNvbnN0IGxhYmVsVG9TbGlkZXJHYXAgPSBoZWlnaHQgKiAwLjA1O1xyXG4gICAgICAgIGNvbnN0IGdyb3VwSGVpZ2h0ID0gKHNlY3Rpb25zIC0gMSkgKiBzZWN0aW9uR2FwICsgbGFiZWxUb1NsaWRlckdhcDtcclxuICAgICAgICBjb25zdCBncm91cFRvcFkgPSAoaGVpZ2h0IC8gMikgLSAoZ3JvdXBIZWlnaHQgLyAyKTtcclxuXHJcbiAgICAgICAgY29uc3QgZ2xvYmFsTGFiZWxZID0gZ3JvdXBUb3BZO1xyXG4gICAgICAgIGNvbnN0IGdsb2JhbFNsaWRlclkgPSBnbG9iYWxMYWJlbFkgKyBsYWJlbFRvU2xpZGVyR2FwO1xyXG4gICAgICAgIGNvbnN0IG11c2ljTGFiZWxZID0gZ3JvdXBUb3BZICsgc2VjdGlvbkdhcDtcclxuICAgICAgICBjb25zdCBtdXNpY1NsaWRlclkgPSBtdXNpY0xhYmVsWSArIGxhYmVsVG9TbGlkZXJHYXA7XHJcbiAgICAgICAgY29uc3Qgc2Z4TGFiZWxZID0gZ3JvdXBUb3BZICsgKHNlY3Rpb25HYXAgKiAyKTtcclxuICAgICAgICBjb25zdCBzZnhTbGlkZXJZID0gc2Z4TGFiZWxZICsgbGFiZWxUb1NsaWRlckdhcDtcclxuXHJcbiAgICAgICAgLy8gU3VidMOtdHVsbyBnbG9iYWxcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGdsb2JhbExhYmVsWSwgJ1ZvbHVtZW4gR2VuZXJhbCcsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsIFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLCBcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBiYXJyYSBkZSB2b2x1bWVuIChnbG9iYWwpXHJcbiAgICAgICAgdGhpcy5nbG9iYWxWb2x1bWVTbGlkZXIgPSB0aGlzLmFkZC5kb20oY2VudGVyWCwgZ2xvYmFsU2xpZGVyWSlcclxuICAgICAgICAgICAgLmNyZWF0ZUZyb21IVE1MKGA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD1cIjFcIiBzdGVwPVwiMC4wMVwiIHZhbHVlPVwiJHtpbml0aWFsR2xvYmFsVm9sdW1lfVwiIFxyXG4gICAgICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDoyMjBweDsgaGVpZ2h0OjIwcHg7IGFjY2VudC1jb2xvcjojMDBhYWZmOyBib3JkZXItcmFkaXVzOjVweDtcIi8+YCk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2xvYmFsVm9sdW1lU2xpZGVyLmFkZExpc3RlbmVyKCdpbnB1dCcpO1xyXG4gICAgICAgIHRoaXMuZ2xvYmFsVm9sdW1lU2xpZGVyLm9uKCdpbnB1dCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIShldmVudC50YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBzZXRTdG9yZWRHbG9iYWxWb2x1bWUoZXZlbnQudGFyZ2V0LnZhbHVlKTtcclxuICAgICAgICAgICAgYXBwbHlTdG9yZWRWb2x1bWUodGhpcyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBTdWJ0w610dWxvIGRlIG3DunNpY2FcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIG11c2ljTGFiZWxZLCAnVm9sdW1lbiBNw7pzaWNhJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBiYXJyYSBkZSB2b2x1bWVuIChtw7pzaWNhKVxyXG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIgPSB0aGlzLmFkZFxyXG4gICAgICAgICAgICAuZG9tKGNlbnRlclgsIG11c2ljU2xpZGVyWSlcclxuICAgICAgICAgICAgLmNyZWF0ZUZyb21IVE1MKGA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD1cIjFcIiBzdGVwPVwiMC4wMVwiIHZhbHVlPVwiJHtpbml0aWFsTXVzaWNWb2x1bWV9XCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6MjIwcHg7IGhlaWdodDoyMHB4OyBhY2NlbnQtY29sb3I6IzAwYWFmZjsgYm9yZGVyLXJhZGl1czo1cHg7XCIvPlxyXG4gICAgICAgICAgICBgKTtcclxuXHJcbiAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZVNsaWRlci5hZGRMaXN0ZW5lcignaW5wdXQnKTtcclxuICAgICAgICB0aGlzLm11c2ljVm9sdW1lU2xpZGVyLm9uKCdpbnB1dCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBzZXRTdG9yZWRNdXNpY1ZvbHVtZSh0YXJnZXQudmFsdWUpO1xyXG4gICAgICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gU3VidMOtdHVsbyBkZSBlZmVjdG9zXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBzZnhMYWJlbFksICdWb2x1bWVuIEVmZWN0b3MnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGJhcnJhIGRlIHZvbHVtZW4gKGVmZWN0b3MpXHJcbiAgICAgICAgdGhpcy5zZnhWb2x1bWVTbGlkZXIgPSB0aGlzLmFkZFxyXG4gICAgICAgICAgICAuZG9tKGNlbnRlclgsIHNmeFNsaWRlclkpXHJcbiAgICAgICAgICAgIC5jcmVhdGVGcm9tSFRNTChgPGlucHV0IHR5cGU9XCJyYW5nZVwiIG1pbj1cIjBcIiBtYXg9XCIxXCIgc3RlcD1cIjAuMDFcIiB2YWx1ZT1cIiR7aW5pdGlhbFNmeFZvbHVtZX1cIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDoyMjBweDsgaGVpZ2h0OjIwcHg7IGFjY2VudC1jb2xvcjojMDBhYWZmOyBib3JkZXItcmFkaXVzOjVweDtcIi8+XHJcbiAgICAgICAgICAgIGApO1xyXG5cclxuICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlci5hZGRMaXN0ZW5lcignaW5wdXQnKTtcclxuICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlci5vbignaW5wdXQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgICAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgc2V0U3RvcmVkU2Z4Vm9sdW1lKHRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlci5hZGRMaXN0ZW5lcignY2hhbmdlJyk7XHJcbiAgICAgICAgdGhpcy5zZnhWb2x1bWVTbGlkZXIub24oJ2NoYW5nZScsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBzZSByZXByb2R1Y2UgYWwgc29sdGFyIHBhcmEgZGFyIGZlZWRiYWNrXHJcbiAgICAgICAgICAgIHBsYXlDbGljayh0aGlzLCAnc29uaWRvQ2xpY2snKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLy8vLy8vL1xyXG5cclxuICAgICAgICAvLyBib3TDs24gVm9sdmVyIGF0csOhc1xyXG4gICAgICAgIGNyZWF0ZUljb25CdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuMDYsXHJcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXHJcbiAgICAgICAgICAgIHRleHR1cmU6ICdib3RvblZvbHZlcicsXHJcbiAgICAgICAgICAgIHNjYWxlOiAxLFxyXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gc2UgbGltcGlhIGVsIHNsaWRlciBhbCBzYWxpciBkZSBsYSBlc2NlbmFcclxuICAgICAgICAvLyAoYXPDrSBzZSBldml0YSBxdWUgc2UgYWN1bXVsZW4gc2kgZW50cmFzIHkgc2FsZXMgdmFyaWFzIHZlY2VzKVxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uY2UoUGhhc2VyLlNjZW5lcy5FdmVudHMuU0hVVERPV04sICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubXVzaWNWb2x1bWVTbGlkZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11c2ljVm9sdW1lU2xpZGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNmeFZvbHVtZVNsaWRlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZnhWb2x1bWVTbGlkZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlciA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2xvYmFsVm9sdW1lU2xpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbFZvbHVtZVNsaWRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsVm9sdW1lU2xpZGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsVm9sdW1lU2xpZGVyID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIFBhbnRhbGxhIGRlIENyw6lkaXRvc1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNyZWF0ZUljb25CdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDcmVkaXRzX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDcmVkaXRzX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBpbcOhZ2VuZXMgZm9uZG8geSB1aVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvRkxFQ0hBX1ZPTFZFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvTWVudVByaW5jaXBhbCcsICdBU1NFVFMvRk9ORE9TL01FTlVfUFJJTkNJUEFMLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbG9nbycsICdBU1NFVFMvTE9HTy9sb2dvX2VtcHJlc2EucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjbycsICdBU1NFVFMvVUkvTUFSQ09TL1ZBQ0lPUy9NQVJDT1NfRVNDRU5BUklPLnBuZycpXHJcblxyXG4gICAgICAgIC8vIHNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XHJcblxyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHM/LmRlZmF1bHRUZXh0U3R5bGUgPz8ge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvTWVudVByaW5jaXBhbCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAgICAgLnNldERlcHRoKC0yKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIGNhcGEgb3NjdXJhIHBvciBlbmNpbWEgZGVsIGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQsIDB4MDAwMDAwLCAwLjUwKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSk7XHJcblxyXG4gICAgICAgIC8vIG5vbWJyZSB5IG1pZW1icm9zIGRlbCBlcXVpcG9cclxuICAgICAgICBjb25zdCBub21icmVzRXF1aXBvID0gW1xyXG4gICAgICAgICAgICAnR1JVUE8gNSAtIFNVTlNFVCBBUkNBREUnLFxyXG4gICAgICAgICAgICAnU2FyYSBCdWVubyBFc3RlYmFuJyxcclxuICAgICAgICAgICAgJ0FudG9uaW8gTW9yw6FuIEJhcnJlcmEnLFxyXG4gICAgICAgICAgICAnQ3Jpc3RpbmUgTmlva2EgVGV3bycsXHJcbiAgICAgICAgICAgICfDgWx2YXJvIEliw6HDsWV6IE1vbnRlcm8nLFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIC8vdGFyamV0YSBkb25kZSBzZSBtdWVzdHJhIGVsIG5vbWJyZSBkZWwgZXF1aXBvIHkgbG9zIG1pZW1icm9zXHJcbiAgICAgICAgY29uc3QgY2FyZFdpZHRoID0gd2lkdGggKiAwLjM4O1xyXG4gICAgICAgIGNvbnN0IGNhcmRIZWlnaHQgPSBoZWlnaHQgKiAwLjQ2O1xyXG4gICAgICAgIGNvbnN0IGNhcmRYID0gd2lkdGggKiAwLjc1O1xyXG4gICAgICAgIGNvbnN0IGNhcmRZID0gaGVpZ2h0ICogMC40NjtcclxuXHJcbiAgICAgICAgY29uc3QgY2FyZCA9IHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5yZWN0YW5nbGUoY2FyZFgsIGNhcmRZLCBjYXJkV2lkdGgsIGNhcmRIZWlnaHQsIDB4MTExMTExLCAwLjcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBjYXJkLnNldFN0cm9rZVN0eWxlKDIsIDB4ZmZmZmZmLCAwLjIpO1xyXG5cclxuICAgICAgICBjb25zdCBsaW5lU3BhY2luZyA9IDM2O1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0WSA9IGNhcmRZIC0gKChub21icmVzRXF1aXBvLmxlbmd0aCAtIDEpICogbGluZVNwYWNpbmcpIC8gMjtcclxuXHJcbiAgICAgICAgbm9tYnJlc0VxdWlwby5mb3JFYWNoKChub21icmUsIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXNIZWFkZXIgPSBpID09PSAwO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFxyXG4gICAgICAgICAgICAgICAgLnRleHQoY2FyZFgsIHN0YXJ0WSArIGkgKiBsaW5lU3BhY2luZywgbm9tYnJlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ1ZUMzIzJyxcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogaXNIZWFkZXIgPyAnMzZweCcgOiAnMzJweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGlzSGVhZGVyID8gJyNmNWQ3NmUnIDogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgLy8gdMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2FyZFgsIGhlaWdodCAqIDAuMSwgJ0Nyw6lkaXRvcycsIHtcclxuICAgICAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICc0MnB4JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBsb2dvIGVtcHJlc2FcclxuICAgICAgICBjb25zdCBsb2dvWCA9IGNhcmRYO1xyXG4gICAgICAgIGNvbnN0IGxvZ29ZID0gY2FyZFkgKyAoY2FyZEhlaWdodCAvIDIpICsgaGVpZ2h0ICogMC4xNiAtIDM7XHJcbiAgICAgICAgdGhpcy5hZGRcclxuICAgICAgICAgICAgLmltYWdlKGxvZ29YLCBsb2dvWSwgJ2xvZ28nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNyk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBWb2x2ZXIgYXRyw6FzXHJcbiAgICAgICAgY3JlYXRlSWNvbkJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcclxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC4wOCxcclxuICAgICAgICAgICAgdGV4dHVyZTogJ2JvdG9uVm9sdmVyJyxcclxuICAgICAgICAgICAgc2NhbGU6IDEsXHJcbiAgICAgICAgICAgIGhvdmVyU2NhbGU6IDEuMSxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWVudV9TY2VuZScpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vUGFudGFsbGEgZGUgRmluXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY3JlYXRlVUlCdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBFbmRHYW1lX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdFbmRHYW1lX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy53aW5uZXIgPSBkYXRhLndpbm5lcjtcclxuICAgICAgICB0aGlzLnBsYXllcjEgPSBkYXRhLnBsYXllcjE7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIyID0gZGF0YS5wbGF5ZXIyO1xyXG4gICAgfVxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBpbcOhZ2VuZXMgZm9uZG8geSB1aVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9HX1NFTEVDQ0lPTkFETy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9HLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBzb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XHJcblxyXG4gICAgICAgIC8vQW5pbWFjaW9uZXMgZGUgdmljdG9yaWFcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoXHJcbiAgICAgICAgICAgICd2aWN0b3JpYV9BJywgXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVTX0EvQV9WSUNUT1JJQS5wbmcnLCBcclxuICAgICAgICAgICAge2ZyYW1lV2lkdGg6MTI4LGZyYW1lSGVpZ2h0OiAxMjh9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoXHJcbiAgICAgICAgICAgICd2aWN0b3JpYV9CJywgXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVTX0IvQV9WSUNUT1JJQS5wbmcnLCBcclxuICAgICAgICAgICAge2ZyYW1lV2lkdGg6MTI4LGZyYW1lSGVpZ2h0OiAxMjh9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoXHJcbiAgICAgICAgICAgICd2aWN0b3JpYV9DJywgXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVTX0MvQV9WSUNUT1JJQS5wbmcnLCBcclxuICAgICAgICAgICAge2ZyYW1lV2lkdGg6MTI4LGZyYW1lSGVpZ2h0OiAxMjh9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7IFxyXG4gICAgICAgIHRoaXMuX2NyZWF0ZUFuaW1hdGlvbnMoKTtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlO1xyXG5cclxuICAgICAgICBjb25zdCBjaGFyUDEgPSB0aGlzLnBsYXllcjEubmFtZTtcclxuICAgICAgICBjb25zdCBzcHJpdGVQMSA9IHRoaXMucGxheWVyMS5jaGFyYWN0ZXI7XHJcbiAgICAgICAgY29uc3QgY2hhclAyID0gdGhpcy5wbGF5ZXIyLm5hbWU7XHJcbiAgICAgICAgY29uc3Qgc3ByaXRlUDIgPSB0aGlzLnBsYXllcjIuY2hhcmFjdGVyO1xyXG5cclxuICAgICAgICAvLyBGb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpLnNldE9yaWdpbigwKS5zZXREZXB0aCgtMSk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0ICogMC4xOCwgXCLCoUZpbiBkZWwgcGFydGlkbyFcIiwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHdpbm5lclRleHRZID0gaGVpZ2h0ICogMC4zNjtcclxuICAgICAgICBjb25zdCBzcHJpdGVSb3dZID0gaGVpZ2h0ICogMC41MjtcclxuICAgICAgICBjb25zdCBidXR0b25ZID0gaGVpZ2h0ICogMC45MDtcclxuICAgICAgICBjb25zdCBzcHJpdGVPZmZzZXRYID0gd2lkdGggKiAwLjI7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIGluZGljYW5kbyBlbCBnYW5hZG9yXHJcbiAgICAgICAgY29uc3Qgd2lubmVyVGV4dCA9XHJcbiAgICAgICAgICAgIHRoaXMud2lubmVyID09PSBcInBsYXllcjFcIlxyXG4gICAgICAgICAgICAgICAgPyBcIlZpY3RvcmlhIGRlOiBcIiArIGNoYXJQMVxyXG4gICAgICAgICAgICAgICAgOiBcIlZpY3RvcmlhIGRlOiBcIiArIGNoYXJQMjtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIHdpbm5lclRleHRZLCB3aW5uZXJUZXh0LCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBsZXQgd2lubmVyQ2hhcmFjdGVyO1xyXG5cclxuICAgICAgICBpZiAodGhpcy53aW5uZXIgPT09IFwicGxheWVyMVwiKSB7XHJcbiAgICAgICAgICAgIHdpbm5lckNoYXJhY3RlciA9IHNwcml0ZVAxOyAvLyAnQScsICdCJyBvICdDJ1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdpbm5lckNoYXJhY3RlciA9IHNwcml0ZVAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhbmltS2V5ID0gYHZpY3RvcmlhXyR7d2lubmVyQ2hhcmFjdGVyfWA7XHJcblxyXG4gICAgICAgIC8vIEh1ZWNvcyBwYXJhIHNwcml0ZXMgZGUgZ2FuYWRvciB5IHBlcmRlZG9yIChhbmltYWNpb25lcyBmdXR1cmFzKVxyXG4gICAgICAgIHRoaXMud2lubmVyU3ByaXRlU2xvdCA9IHRoaXMuYWRkLmNvbnRhaW5lcih3aWR0aCAvIDIgLSBzcHJpdGVPZmZzZXRYLCBzcHJpdGVSb3dZKTtcclxuXHJcbiAgICAgICAgY29uc3Qgd2lubmVyU3ByaXRlID0gdGhpcy5hZGQuc3ByaXRlKDAsIDAsIGB2aWN0b3JpYV8ke3dpbm5lckNoYXJhY3Rlcn1gKTtcclxuICAgICAgICB3aW5uZXJTcHJpdGUuc2V0U2NhbGUoMC41KTtcclxuICAgICAgICB3aW5uZXJTcHJpdGUucGxheShhbmltS2V5KTtcclxuXHJcbiAgICAgICAgLy8gQcOxYWRpciBhbCBjb250ZW5lZG9yIGRlbCBnYW5hZG9yXHJcbiAgICAgICAgdGhpcy53aW5uZXJTcHJpdGVTbG90LmFkZCh3aW5uZXJTcHJpdGUpO1xyXG4gICAgICAgIFxyXG5cclxuXHJcbiAgICAgICAgLy8gYm90w7NuIHBhcmEgdm9sdmVyIGFsIG1lbsO6IHByaW5jaXBhbFxyXG4gICAgICAgIGNvbnN0IGJ1dHRvblRleHRTdHlsZSA9IHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxyXG4gICAgICAgICAgICB5OiBidXR0b25ZLFxyXG4gICAgICAgICAgICBsYWJlbDogJ01lbsO6IFByaW5jaXBhbCcsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBfY3JlYXRlQW5pbWF0aW9ucygpe1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfdmljdG9yeScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygndmljdG9yaWFfQScsIHsgc3RhcnQ6IDAsIGVuZDogMSB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA0LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfdmljdG9yeScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygndmljdG9yaWFfQicsIHsgc3RhcnQ6IDAsIGVuZDogMSB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA0LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfdmljdG9yeScsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygndmljdG9yaWFfQycsIHsgc3RhcnQ6IDAsIGVuZDogMSB9KSxcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA0LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gUGFudGFsbGEgcGFyYSBlbGVnaXIgTW9kbyBkZSBKdWVnb1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uLCBjcmVhdGVJY29uQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XHJcbmltcG9ydCB7IGFwcGx5U3RvcmVkVm9sdW1lIH0gZnJvbSAnLi4vVUkvQXVkaW8uanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vZGVHYW1lX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNb2RlR2FtZV9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gYm90b25lc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fU0VMRUNDSU9ORE8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX1NJTl9TRUxFQ0NJT05BUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0ZMRUNIQV9WT0xWRVIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIHNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG5cclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzPy5kZWZhdWx0VGV4dFN0eWxlID8/IHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzZSBhcGxpY2EgZWwgdm9sdW1lblxyXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAgICAgLnNldERlcHRoKC0xKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIHTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZFxyXG4gICAgICAgICAgICAudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAqIDAuMTgsICdNb2RvIGRlIEp1ZWdvJywge1xyXG4gICAgICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzQycHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gbGF5b3V0XHJcbiAgICAgICAgY29uc3QgYnV0dG9uWSA9IGhlaWdodCAqIDAuNTtcclxuICAgICAgICBjb25zdCBzcGFjaW5nID0gTWF0aC5taW4oMjgwLCB3aWR0aCAqIDAuMyk7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRYID0gd2lkdGggLyAyIC0gc3BhY2luZyAvIDI7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1dHRvblRleHRTdHlsZSA9IHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3RhcnRNb2RlID0gKG1vZGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ21vZGUnLCBtb2RlKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ01vZG8gc2VsZWNjaW9uYWRvOicsIG1vZGUpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RQbGF5ZXJfU2NlbmUnLCB7IG1vZGU6IG1vZGUgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIExPQ0FMXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBzdGFydFgsXHJcbiAgICAgICAgICAgIHk6IGJ1dHRvblksXHJcbiAgICAgICAgICAgIGxhYmVsOiAnTG9jYWwnLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBzdGFydE1vZGUoJ2xvY2FsJyksXHJcbiAgICAgICAgICAgIHNjYWxlOiAyLFxyXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW5TZWxlY2Npb25hcicsXHJcbiAgICAgICAgICAgIHRleHR1cmVIb3ZlcjogJ2JvdG9uU2VsZWNjaW9uYWRvJyxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBSRURcclxuICAgICAgICBjb25zdCByZWRCdXR0b24gPSBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHN0YXJ0WCArIHNwYWNpbmcsXHJcbiAgICAgICAgICAgIHk6IGJ1dHRvblksXHJcbiAgICAgICAgICAgIGxhYmVsOiAnUmVkJyxcclxuICAgICAgICAgICAgb25DbGljazogbnVsbCxcclxuICAgICAgICAgICAgc2NhbGU6IDIsXHJcbiAgICAgICAgICAgIHRleHR1cmVOb3JtYWw6ICdib3RvblNpblNlbGVjY2lvbmFyJyxcclxuICAgICAgICAgICAgdGV4dHVyZUhvdmVyOiAnYm90b25TZWxlY2Npb25hZG8nLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVkQnV0dG9uLmJ1dHRvbi5kaXNhYmxlSW50ZXJhY3RpdmUoKTtcclxuICAgICAgICByZWRCdXR0b24uYnV0dG9uLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgcmVkQnV0dG9uLnRleHQuc2V0QWxwaGEoMC41KTtcclxuICAgICAgICByZWRCdXR0b24udGV4dC5zZXRBbGlnbignY2VudGVyJyk7XHJcblxyXG4gICAgICAgIC8vIHRleHRvIFwiTm8gZGlzcG9uaWJsZVwiIGRlYmFqbyBkZWwgYm90w7NuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChcclxuICAgICAgICAgICAgcmVkQnV0dG9uLmJ1dHRvbi54LFxyXG4gICAgICAgICAgICByZWRCdXR0b24uYnV0dG9uLnkgKyBNYXRoLnJvdW5kKHJlZEJ1dHRvbi5idXR0b24uZGlzcGxheUhlaWdodCAqIDAuNTUpICsgMTIsXHJcbiAgICAgICAgICAgICdObyBkaXNwb25pYmxlJyxcclxuICAgICAgICAgICAgeyAuLi5idXR0b25UZXh0U3R5bGUsIGZvbnRGYW1pbHk6ICdWVDMyMycsIGZvbnRTaXplOiAnMjRweCcsIGNvbG9yOiAnI2ZmMDAwMCcgfVxyXG4gICAgICAgICkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiB2b2x2ZXJcclxuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogd2lkdGggKiAwLjA2LFxyXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjA4LFxyXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxyXG4gICAgICAgICAgICBzY2FsZTogMSxcclxuICAgICAgICAgICAgaG92ZXJTY2FsZTogMS4xLFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyksXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuIiwiLy9QYW50YWxsYSBkZSBQYXVzYVxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1BhdXNlX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBJbcOhZ2VuZXMgZm9uZG8geSB1aVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvVk9MVkVSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9HX1NFTEVDQ0lPTkFETy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9HLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBTb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHMuZGVmYXVsdFRleHRTdHlsZTsgXHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0LCAweDAwMDAwMCwgMC44OClcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjE4LCAnUGF1c2EnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1dHRvblRleHRTdHlsZSA9IHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBidXR0b25TdGFydFkgPSBoZWlnaHQgKiAwLjQ2O1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvblNwYWNpbmcgPSBoZWlnaHQgKiAwLjE0O1xyXG5cclxuICAgICAgICAvLyBib3TDs24gQ29udGludWFyXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBjZW50ZXJYLFxyXG4gICAgICAgICAgICB5OiBidXR0b25TdGFydFksXHJcbiAgICAgICAgICAgIGxhYmVsOiAnQ29udGludWFyJyxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIHNjYWxlOiAyLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKCdHYW1lX1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gYm90b24gVHV0b3JpYWxcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IGNlbnRlclgsXHJcbiAgICAgICAgICAgIHk6IGJ1dHRvblN0YXJ0WSArIGJ1dHRvblNwYWNpbmcsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnVHV0b3JpYWwnLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgc2NhbGU6IDIsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1R1dG9yaWFsX1NjZW5lJywgeyByZXR1cm5TY2VuZTogJ1BhdXNlX1NjZW5lJyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gTWVuw7ogUHJpbmNpcGFsXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBjZW50ZXJYLFxyXG4gICAgICAgICAgICB5OiBidXR0b25TdGFydFkgKyBidXR0b25TcGFjaW5nICogMixcclxuICAgICAgICAgICAgbGFiZWw6ICdNZW7DuiBQcmluY2lwYWwnLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgc2NhbGU6IDIsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVTY2VuZSA9IHRoaXMuc2NlbmUuZ2V0KCdHYW1lX1NjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZVNjZW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZVNjZW5lLmlucHV0LmtleWJvYXJkLnJlbW92ZUFsbExpc3RlbmVycygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWVTY2VuZS5pbnB1dC5rZXlib2FyZC5yZW1vdmVBbGxLZXlzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCdHYW1lX1NjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCIvLyBQYW50YWxsYSBkZSBTZWxlY2Npw7NuIGRlIGp1Z2Fkb3JcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcbmltcG9ydCB7IGFwcGx5U3RvcmVkVm9sdW1lLCBwbGF5Q2xpY2sgfSBmcm9tICcuLi9VSS9BdWRpby5qcyc7XG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiwgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xuXG5leHBvcnQgY2xhc3MgU2VsZWN0UGxheWVyX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ1NlbGVjdFBsYXllcl9TY2VuZScpO1xuXG4gICAgICAgIHRoaXMucGxheWVycyA9IFtdO1xuICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gMDsgICAgLy8gdHVybm9zOiAwIC0+IGp1Z2Fkb3IxLCAxIC0+IGp1Z2Fkb3IyLCBudWxsIC0+IGFtYm9zIGxpc3Rvc1xuICAgICAgICB0aGlzLnBsYXllcklucHV0cyA9IFtdO1xuICAgICAgICB0aGlzLnBsYXllcklucHV0RWxzID0gW107XG4gICAgICAgIHRoaXMudHVyblRleHQgPSBudWxsO1xuICAgIH1cblxuICAgIGluaXQoZGF0YSkge1xuICAgICAgICB0aGlzLm1vZGUgPSB0aGlzLnJlZ2lzdHJ5LmdldCgnbW9kZScpO1xuICAgICAgICBjb25zb2xlLmxvZygnTW9kbyBkZSBKdWVnbzonLCB0aGlzLm1vZGUpO1xuICAgICAgICB0aGlzLmlzSG9zdCA9IHRoaXMucmVnaXN0cnkuZ2V0KCdpc0hvc3QnKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0hvc3Q6JywgdGhpcy5pc0hvc3QpO1xuICAgIH1cblxuICAgIHByZWxvYWQoKSB7XG4gICAgICAgIC8vIGJvdG9uZXNcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9TRUxFQ0NJT05ETy5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX1NJTl9TRUxFQ0NJT05BUi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9WT0xWRVIucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW1wbGUnLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9TSU5TRUxFQ0NJT05BUi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFLnBuZycpO1xuXG4gICAgICAgIC8vIGZvbmRvXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hcmNvSnVnYWRvcicsICdBU1NFVFMvVUkvTUFSQ09TL1ZBQ0lPUy9NQVJDT19QRVJTT05BSkVfU0VMRUNDSU9OQURPLnBuZycpO1xuXG4gICAgICAgIC8vIHBlcnNvbmFqZXNcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjaGFyYWN0ZXJBJywgJ0FTU0VUUy9QRVJTT05BSkVTL1BFUlNPTkFKRVNfUE9TRS9wZXJzb25hamVzX2EucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2hhcmFjdGVyQicsICdBU1NFVFMvUEVSU09OQUpFUy9QRVJTT05BSkVTX1BPU0UvcGVyc29uYWplc19iLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NoYXJhY3RlckMnLCAnQVNTRVRTL1BFUlNPTkFKRVMvUEVSU09OQUpFU19QT1NFL3BlcnNvbmFqZV9jLnBuZycpO1xuXG4gICAgICAgIC8vIHNvbmlkb1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XG4gICAgfVxuXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBzZSBsaW1waWFuIHRvZGFzIGxhcyB0ZWNsYXMgY2FwdHVyYWRhcyBwb3Igb3RyYXMgZXNjZW5hc1xuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLnJlbW92ZUFsbEtleXModHJ1ZSk7XG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHM/LmRlZmF1bHRUZXh0U3R5bGUgPz8ge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHNlIGFwbGljYSBlbCB2b2x1bWVuXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xuXG4gICAgICAgIC8vIEZvbmRvXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgLy8gVMOtdHVsb1xuICAgICAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgNTAsICdTZWxlY2Npb25hIFBlcnNvbmFqZScsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgICAgZm9udFNpemU6ICc0MnB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBzZWfDum4gZWwgbW9kbyBzZSBjcmVhIHVuYSBVSSB1IG90cmFcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ2xvY2FsJykge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVMb2NhbFVJKHdpZHRoLCBoZWlnaHQsIHN0eWxlKTtcbiAgICAgICAgfSBcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ29ubGluZScpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlT25saW5lVUkod2lkdGgsIGhlaWdodCwgc3R5bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQm90w7NuIHZvbHZlclxuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxuICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTW9kZUdhbWVfU2NlbmUnKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gc2UgbGltcGlhIERPTSBhbCBzYWxpclxuICAgICAgICB0aGlzLmV2ZW50cy5vbmNlKFBoYXNlci5TY2VuZXMuRXZlbnRzLlNIVVRET1dOLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsYXllcklucHV0cy5mb3JFYWNoKChkb20pID0+IGRvbT8uZGVzdHJveSgpKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRzID0gW107XG4gICAgICAgICAgICB0aGlzLnBsYXllcklucHV0RWxzID0gW107XG4gICAgICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVMb2NhbFVJKHdpZHRoLCBoZWlnaHQsIHN0eWxlKSB7XG4gICAgICAgIC8vIERhdG9zIGRlIGxvcyBqdWdhZG9yZXNcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gW1xuICAgICAgICAgICAgeyBuYW1lOiAnJywgY2hhcmFjdGVyOiBudWxsLCBjb2xvcjogMHgwMGFhZmYsIGJpZ0ltYWdlOiBudWxsLCBiaWdGcmFtZTogbnVsbCwgZnJhbWU6IG51bGwgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJycsIGNoYXJhY3RlcjogbnVsbCwgY29sb3I6IDB4ZmY1NTU1LCBiaWdJbWFnZTogbnVsbCwgYmlnRnJhbWU6IG51bGwsIGZyYW1lOiBudWxsIH0sXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gVGV4dG8gZGUgdHVybm9cbiAgICAgICAgdGhpcy50dXJuVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCA5NSwgJ1RVUk5POiBKdWdhZG9yIDEnLCB7XG4gICAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdWVDMyMycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMDAwJyxcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uT2Zmc2V0WSA9IDI1O1xuXG4gICAgICAgIC8vIFVJIGp1Z2Fkb3JlcyArIG1pbmlhdHVyYXNcbiAgICAgICAgdGhpcy5jcmVhdGVQbGF5ZXJzVUkoc2VsZWN0aW9uT2Zmc2V0WSk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ2hhcmFjdGVyTWluaWF0dXJlcygwLCBzZWxlY3Rpb25PZmZzZXRZKTtcbiAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xuXG4gICAgICAgIC8vIEJvdMOzbiBTaWd1aWVudGVcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxuICAgICAgICAgICAgeTogNTAwLFxuICAgICAgICAgICAgbGFiZWw6ICdTaWd1aWVudGUnLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5oYW5kbGVOZXh0KCksXG4gICAgICAgICAgICBzY2FsZTogMS41LFxuICAgICAgICAgICAgdGV4dHVyZU5vcm1hbDogJ2JvdG9uU2ltcGxlJyxcbiAgICAgICAgICAgIHRleHR1cmVIb3ZlcjogJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJyxcbiAgICAgICAgICAgIHRleHRTdHlsZTogeyAuLi5zdHlsZSwgZm9udFNpemU6ICcxOHB4JywgY29sb3I6ICcjMDAwJyB9LFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJ1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVPbmxpbmVVSSh3aWR0aCwgaGVpZ2h0LCBzdHlsZSkge1xuICAgICAgICAvLyBEYXRvcyBkZWwganVnYWRvclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBbXG4gICAgICAgICAgICB7IG5hbWU6IHRoaXMucmVnaXN0cnkuZ2V0KCd1c2VybmFtZScpIHx8ICdKdWdhZG9yWCcsIGNoYXJhY3RlcjogbnVsbCwgY29sb3I6IDB4MDBhYWZmLCBiaWdJbWFnZTogbnVsbCwgYmlnRnJhbWU6IG51bGwsIGZyYW1lOiBudWxsIH1cbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBzZWxlY3Rpb25PZmZzZXRZID0gNDA7XG5cbiAgICAgICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDEwMCArIHNlbGVjdGlvbk9mZnNldFksIGAke3RoaXMucGxheWVyc1swXS5uYW1lfWAsIHsgXG4gICAgICAgICAgICAuLi5zdHlsZSwgZm9udFNpemU6ICcyOHB4JywgY29sb3I6ICcjMDAwJywgZm9udFN0eWxlOiAnYm9sZCcgXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuICAgICAgICBcbiAgICAgICAgLy8gVGV4dG8gZGUgdHVybm8gKEVzdGFkbyBlbiBlc3RlIGNhc28sIHBlcm8gY29uIGVsIG1pc21vIG5vbWJyZSBwYXJhIG1hbnRlcm5lciBsYSBtaXNtYSBmdW5jaW9uYWxpZGFkKVxuICAgICAgICB0aGlzLnR1cm5UZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDEzMCwgJ05pbmfDum4gcGVyc29uYWplIHNlbGVjY2lvbmFkbycsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlLCBmb250U2l6ZTogJzE4cHgnLCBjb2xvcjogJyMwMDAnLFxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBVSSBqdWdhZG9yZXMgKyBtaW5pYXR1cmFzXG4gICAgICAgIHRoaXMuY3JlYXRlUGxheWVyT25saW5lVUkoc2VsZWN0aW9uT2Zmc2V0WSk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ2hhcmFjdGVyTWluaWF0dXJlcygxNTAsIHNlbGVjdGlvbk9mZnNldFkpO1xuXG4gICAgICAgIC8vIEJvdMOzbiBTaWd1aWVudGVcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxuICAgICAgICAgICAgeTogNTAwLFxuICAgICAgICAgICAgbGFiZWw6ICdTaWd1aWVudGUnLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5oYW5kbGVOZXh0KCksXG4gICAgICAgICAgICBzY2FsZTogMS41LFxuICAgICAgICAgICAgdGV4dHVyZU5vcm1hbDogJ2JvdG9uU2ltcGxlJyxcbiAgICAgICAgICAgIHRleHR1cmVIb3ZlcjogJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJyxcbiAgICAgICAgICAgIHRleHRTdHlsZTogeyAuLi5zdHlsZSwgZm9udFNpemU6ICcxOHB4JywgY29sb3I6ICcjMDAwJyB9LFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYSBsYSBVSSBkZSBzZWxlY2Npw7NuIGRlIGp1Z2Fkb3Jlc1xuICAgIGNyZWF0ZVBsYXllcnNVSShvZmZzZXRZID0gMCkge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHMuZGVmYXVsdFRleHRTdHlsZTtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbnNYID0gW3dpZHRoICogMC4yNSwgd2lkdGggKiAwLjc1XTtcblxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaCgocGxheWVyLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHggPSBwb3NpdGlvbnNYW2lkeF07XG5cbiAgICAgICAgICAgIC8vIExhYmVsIG5vbWJyZVxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dCh4LCAxMDAgKyBvZmZzZXRZLCAnTm9tYnJlOicsIHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMjRweCcsIGNvbG9yOiAnIzAwMCcgfSlcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgICAgIC8vIElucHV0IG5vbWJyZVxuICAgICAgICAgICAgY29uc3QgZG9tID0gdGhpcy5hZGQuZG9tKHgsIDE0MCArIG9mZnNldFkpLmNyZWF0ZUZyb21IVE1MKGBcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIk5vbWJyZSBqdWdhZG9yXCIgbWF4bGVuZ3RoPVwiMTBcIlxuICAgICAgICAgICAgICAgIHN0eWxlPVwiXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOjE1MHB4O1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOjZweDtcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOjE2cHg7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiR7c3R5bGUuZm9udEZhbWlseX07XG4gICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6MTJweDtcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiA2cHggc29saWQgI0ZGQUEwMDtcbiAgICAgICAgICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjpjZW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6I2YwZjBmMDtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMnMsIGJveC1zaGFkb3cgMC4ycztcIlxuICAgICAgICAgICAgICAgIG9uZm9jdXM9XCJ0aGlzLnN0eWxlLmJvcmRlckNvbG9yPScjRkY4MzE2JzsgdGhpcy5zdHlsZS5ib3hTaGFkb3c9JzAgMCA1cHggI0ZGODMxNic7XCJcbiAgICAgICAgICAgICAgICBvbmJsdXI9XCJ0aGlzLnN0eWxlLmJvcmRlckNvbG9yPScjRkZBQTAwJzsgdGhpcy5zdHlsZS5ib3hTaGFkb3c9J25vbmUnO1wiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgICAgICBjb25zdCBpbnB1dEVsID0gLyoqIEB0eXBlIHtIVE1MSW5wdXRFbGVtZW50fSAqLyAoZG9tLm5vZGUucXVlcnlTZWxlY3RvcignaW5wdXQnKSk7XG5cbiAgICAgICAgICAgIC8vIHBhcmEgcXVlIGVsIHRlY2xhZG8gbm8gaW50ZXJmaWVyYSBjb24gUGhhc2VyXG4gICAgICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCkpO1xuXG4gICAgICAgICAgICAvLyBMZXRyYXMgKyBlc3BhY2lvc1xuICAgICAgICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpbnB1dEVsLnZhbHVlID0gaW5wdXRFbC52YWx1ZS5yZXBsYWNlKC9bXmEtekEtWsOALcO/w7HDkSBdL2csICcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dHNbaWR4XSA9IGRvbTtcbiAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRFbHNbaWR4XSA9IGlucHV0RWw7XG5cbiAgICAgICAgICAgIC8vIOKAnFNsb3TigJ0gZ3JhbmRlICsgbWFyY29cbiAgICAgICAgICAgIHBsYXllci5iaWdJbWFnZSA9IHRoaXMuYWRkLmltYWdlKHdpZHRoICogKDAuMjUgKyAwLjUgKiBpZHgpLCBoZWlnaHQgKiAwLjYgKyBvZmZzZXRZLCAnY2hhcmFjdGVyQScpXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEuMilcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAgICAgICAgIHBsYXllci5iaWdGcmFtZSA9IHRoaXMuYWRkLmltYWdlKHBsYXllci5iaWdJbWFnZS54LCBwbGF5ZXIuYmlnSW1hZ2UueSwgJ21hcmNvSnVnYWRvcicpXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDIuOClcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgICAgICAuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgIHBsYXllci5iaWdGcmFtZS50ZXh0dXJlLnNldEZpbHRlcihQaGFzZXIuVGV4dHVyZXMuRmlsdGVyTW9kZS5ORUFSRVNUKTtcblxuICAgICAgICAgICAgLy8gTWFyY28gc29icmUgbWluaWF0dXJhIChyZWN0w6FuZ3VsbylcbiAgICAgICAgICAgIHBsYXllci5mcmFtZSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCA2MCwgMTIwKVxuICAgICAgICAgICAgICAgIC5zZXRTdHJva2VTdHlsZSg0LCBwbGF5ZXIuY29sb3IpXG4gICAgICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBUdXJubyBlbXBpZXphIGVuIGp1Z2Fkb3IgMVxuICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gMDtcbiAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xuICAgIH1cblxuICAgIGNyZWF0ZVBsYXllck9ubGluZVVJKG9mZnNldFkgPSAwKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcblxuICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLnBsYXllcnNbMF07XG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XG5cbiAgICAgICAgLy8g4oCcU2xvdOKAnSBncmFuZGUgKyBtYXJjb1xuICAgICAgICBwbGF5ZXIuYmlnSW1hZ2UgPSB0aGlzLmFkZC5pbWFnZShjZW50ZXJYIC0gMTUwLCBoZWlnaHQgKiAwLjU4ICsgb2Zmc2V0WSwgJ2NoYXJhY3RlckEnKVxuICAgICAgICAgICAgLnNldFNjYWxlKDEuMilcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xuXG4gICAgICAgIHBsYXllci5iaWdGcmFtZSA9IHRoaXMuYWRkLmltYWdlKHBsYXllci5iaWdJbWFnZS54LCBwbGF5ZXIuYmlnSW1hZ2UueSwgJ21hcmNvSnVnYWRvcicpXG4gICAgICAgICAgICAuc2V0U2NhbGUoMi44KVxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgcGxheWVyLmJpZ0ZyYW1lLnRleHR1cmUuc2V0RmlsdGVyKFBoYXNlci5UZXh0dXJlcy5GaWx0ZXJNb2RlLk5FQVJFU1QpO1xuXG4gICAgICAgIC8vIE1hcmNvIHNvYnJlIG1pbmlhdHVyYSAocmVjdMOhbmd1bG8pXG4gICAgICAgIHBsYXllci5mcmFtZSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCA2MCwgMTIwKVxuICAgICAgICAgICAgLnNldFN0cm9rZVN0eWxlKDQsIHBsYXllci5jb2xvcilcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhIGxhcyBtaW5pYXR1cmFzIGRlIGxvcyBwZXJzb25hamVzIHNlbGVjY2lvbmFibGVzXG4gICAgY3JlYXRlQ2hhcmFjdGVyTWluaWF0dXJlcyh4LCB5KSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcblxuICAgICAgICBjb25zdCBwZXJzb25hamVzID0gWydjaGFyYWN0ZXJBJywgJ2NoYXJhY3RlckInLCAnY2hhcmFjdGVyQyddO1xuICAgICAgICBjb25zdCBzcGFjaW5nID0gMTUwO1xuICAgICAgICBjb25zdCBzdGFydFggPSB3aWR0aCAvIDIgLSBzcGFjaW5nIC8gMjtcbiAgICAgICAgY29uc3Qgc3RhcnRZID0gaGVpZ2h0ICogMC41O1xuXG4gICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IFtcbiAgICAgICAgICAgIHsgeDogc3RhcnRYICsgeCwgeTogc3RhcnRZICsgeSB9LFxuICAgICAgICAgICAgeyB4OiBzdGFydFggKyB4ICsgc3BhY2luZywgeTogc3RhcnRZICsgeSB9LFxuICAgICAgICAgICAgeyB4OiBzdGFydFggKyB4ICsgc3BhY2luZyAvIDIsIHk6IHN0YXJ0WSArIHkgKyBzcGFjaW5nIC8gMiB9LFxuICAgICAgICBdO1xuXG4gICAgICAgIHBlcnNvbmFqZXMuZm9yRWFjaCgobm9tYnJlLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtaW5pID0gdGhpcy5hZGQuaW1hZ2UocG9zaXRpb25zW2ldLngsIHBvc2l0aW9uc1tpXS55LCBub21icmUpXG4gICAgICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjQ1KVxuICAgICAgICAgICAgICAgIC5zZXREYXRhKCdjaGFyYWN0ZXJOYW1lJywgbm9tYnJlKTtcblxuICAgICAgICAgICAgbWluaS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcGxheUNsaWNrKHRoaXMsICdzb25pZG9DbGljaycpO1xuICAgICAgICAgICAgICAgIHRoaXMub25NaW5pQ2xpY2tlZChub21icmUsIG1pbmkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEzDs2dpY2EgYWwgaGFjZXIgY2xpY2sgc29icmUgdW5hIG1pbmlhdHVyYSAocGVyc29uYWplKVxuICAgIG9uTWluaUNsaWNrZWQoY2hhcmFjdGVyTmFtZSwgbWluaSkge1xuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnb25saW5lJykge1xuICAgICAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wbGF5ZXJzWzBdO1xuXG4gICAgICAgICAgICAvLyBTaSBlbCBwZXJzb25hamUgeWEgZXMgZWwgc2VsZWNjaW9uYWRvLCBzZSBkZXNlbGVjY2lvbmFcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuY2hhcmFjdGVyID09PSBjaGFyYWN0ZXJOYW1lKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyLmNoYXJhY3RlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5iaWdJbWFnZSkgcGxheWVyLmJpZ0ltYWdlLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuZnJhbWUpIHBsYXllci5mcmFtZS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gU2kgZXMgdW5vIG51ZXZvLCBzZSBzZWxlY2Npb25hICh5IGF1dG9tw6F0aWNhbWVudGUgZGVzbWFyY2EgZWwgYW50ZXJpb3Igc2kgbG8gaHViaWVyYSlcbiAgICAgICAgICAgICAgICBwbGF5ZXIuY2hhcmFjdGVyID0gY2hhcmFjdGVyTmFtZTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmJpZ0ltYWdlKSBwbGF5ZXIuYmlnSW1hZ2Uuc2V0VGV4dHVyZShjaGFyYWN0ZXJOYW1lKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuZnJhbWUpIHBsYXllci5mcmFtZS5zZXRQb3NpdGlvbihtaW5pLngsIG1pbmkueSkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcbiAgICAgICAgICAgIHJldHVybjsgLy8gU2FsaW1vcyBwYXJhIG5vIGVqZWN1dGFyIGxhIGzDs2dpY2EgZGUgdHVybm9zIGRlbCBtb2RvIGxvY2FsXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvd25lckluZGV4ID0gdGhpcy5wbGF5ZXJzLmZpbmRJbmRleChwID0+IHAuY2hhcmFjdGVyID09PSBjaGFyYWN0ZXJOYW1lKTtcblxuICAgICAgICAvLyBzaSBlbCBwZXJzb25hamUgeWEgcGVydGVuZWNlIGEgYWxndWllbiwgc2UgZGVzZWxlY2Npb25hIHNpZW1wcmVcbiAgICAgICAgaWYgKG93bmVySW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBjb25zdCBvd25lciA9IHRoaXMucGxheWVyc1tvd25lckluZGV4XTtcblxuICAgICAgICAgICAgb3duZXIuY2hhcmFjdGVyID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKG93bmVyLmJpZ0ltYWdlKSBvd25lci5iaWdJbWFnZS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChvd25lci5mcmFtZSkgb3duZXIuZnJhbWUuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAgICAgICAgIC8vIEVsIHR1cm5vIHBhc2EgYSBlc2UganVnYWRvciBwYXJhIHF1ZSBlbGlqYSBpbm1lZGlhdGFtZW50ZSBvdHJvXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gb3duZXJJbmRleDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpIGVsIHBlcnNvbmFqZSBubyBwZXJ0ZW5lY2UgYSBuYWRpZSwgbG8gYXNpZ25hbW9zIHNlZ8O6biBlbCB0dXJubyAobyBzZWfDum4gcXVpw6luIGZhbHRlKVxuICAgICAgICBjb25zdCBwMSA9IHRoaXMucGxheWVyc1swXTtcbiAgICAgICAgY29uc3QgcDIgPSB0aGlzLnBsYXllcnNbMV07XG5cbiAgICAgICAgbGV0IHRhcmdldEluZGV4ID0gdGhpcy5jdXJyZW50VHVybjtcblxuICAgICAgICAvLyBzaSBjdXJyZW50VHVybiBlcyBudWxsIChhbWJvcyB5YSB0ZW7DrWFuKSwgbm8gc2UgZGVqYSByZWVtcGxhemFyIHNpbiBkZXNlbGVjY2lvbmFyIGFudGVzLFxuICAgICAgICAvLyBwZXJvIHNpIHVubyBlc3TDoSB2YWPDrW8sIHNlIGVsaWdlIGF1dG9tw6F0aWNhbWVudGUgZWwgdmFjw61vXG4gICAgICAgIGlmICh0YXJnZXRJbmRleCA9PT0gbnVsbCB8fCB0YXJnZXRJbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoIXAxLmNoYXJhY3RlciAmJiBwMi5jaGFyYWN0ZXIpIHRhcmdldEluZGV4ID0gMDtcbiAgICAgICAgICAgIGVsc2UgaWYgKCFwMi5jaGFyYWN0ZXIgJiYgcDEuY2hhcmFjdGVyKSB0YXJnZXRJbmRleCA9IDE7XG4gICAgICAgICAgICBlbHNlIGlmICghcDEuY2hhcmFjdGVyICYmICFwMi5jaGFyYWN0ZXIpIHRhcmdldEluZGV4ID0gMDtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGFtYm9zIHRpZW5lbiBwZXJzb25hamU6IHBhcmEgY2FtYmlhciwgcHJpbWVybyBkZXNlbGVjY2lvbmEgdW5vIChjbGljayBlbiBzdSBtaW5pKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMucGxheWVyc1t0YXJnZXRJbmRleF07XG4gICAgICAgIGNvbnN0IG90aGVyID0gdGhpcy5wbGF5ZXJzWzEgLSB0YXJnZXRJbmRleF07XG5cbiAgICAgICAgLy8gbm8gc2UgcGVybWl0ZSBlc2NvZ2VyIHVubyBxdWUgdGVuZ2EgZWwgb3Ryb1xuICAgICAgICBpZiAob3RoZXIuY2hhcmFjdGVyID09PSBjaGFyYWN0ZXJOYW1lKSByZXR1cm47XG5cbiAgICAgICAgLy8gQXNpZ25hciBwZXJzb25hamVcbiAgICAgICAgdGFyZ2V0LmNoYXJhY3RlciA9IGNoYXJhY3Rlck5hbWU7XG5cbiAgICAgICAgaWYgKHRhcmdldC5iaWdJbWFnZSkgdGFyZ2V0LmJpZ0ltYWdlLnNldFRleHR1cmUoY2hhcmFjdGVyTmFtZSkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgaWYgKHRhcmdldC5mcmFtZSkgdGFyZ2V0LmZyYW1lLnNldFBvc2l0aW9uKG1pbmkueCwgbWluaS55KS5zZXRWaXNpYmxlKHRydWUpO1xuXG4gICAgICAgIC8vIHR1cm5vOiBzaSBlbCBvdHJvIGHDum4gbm8gZWxpZ2nDsywgcGFzYSBhbCBvdHJvOyBzaSB5YSBlbGlnacOzLCBxdWVkYSBlbiBudWxsIChhbWJvcyBsaXN0b3MpXG4gICAgICAgIGlmICghb3RoZXIuY2hhcmFjdGVyKSB0aGlzLmN1cnJlbnRUdXJuID0gMSAtIHRhcmdldEluZGV4O1xuICAgICAgICBlbHNlIHRoaXMuY3VycmVudFR1cm4gPSBudWxsO1xuXG4gICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcbiAgICB9XG5cbiAgICAvLyBDb250cm9sYSBxdWUgcGFzYSBhbCBoYWNlciBjbGljayBlbiBlbCBib3TDs24gU2lndWllbnRlXG4gICAgaGFuZGxlTmV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ2xvY2FsJykge1xuICAgICAgICAgICAgIGNvbnN0IG5hbWUxID0gdGhpcy5wbGF5ZXJJbnB1dEVscz8uWzBdPy52YWx1ZT8udHJpbSgpID8/ICcnO1xuICAgICAgICAgICAgY29uc3QgcDFIYXNDaGFyID0gISF0aGlzLnBsYXllcnM/LlswXT8uY2hhcmFjdGVyO1xuXG4gICAgICAgICAgICBjb25zdCBuYW1lMiA9IHRoaXMucGxheWVySW5wdXRFbHM/LlsxXT8udmFsdWU/LnRyaW0oKSA/PyAnJztcbiAgICAgICAgICAgIGNvbnN0IHAySGFzQ2hhciA9ICEhdGhpcy5wbGF5ZXJzPy5bMV0/LmNoYXJhY3RlcjtcblxuICAgICAgICAgICAgY29uc3QgcmVhZHkgPSAobmFtZTEubGVuZ3RoID4gMCkgJiYgKG5hbWUyLmxlbmd0aCA+IDApICYmIHAxSGFzQ2hhciAmJiBwMkhhc0NoYXI7XG5cbiAgICAgICAgICAgIGlmICghcmVhZHkpIHtcbiAgICAgICAgICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgdGV4dG8gZGUgYXJyaWJhICh0dXJuVGV4dCkgY29uIGVsIG1lbnNhamUgZXNwZWPDrWZpY29cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XG5cbiAgICAgICAgICAgICAgICAvLyBzZSBkZXN0YWNhIGVsIG1lbnNhamUgZW4gcm9qbyBkdXJhbnRlIDFzXG4gICAgICAgICAgICAgICAgdGhpcy5mbGFzaFR1cm5UZXh0KCcjYjAwMDAwJywgOTAwKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2UgZ3VhcmRhbiBub21icmVzXG4gICAgICAgICAgICB0aGlzLnBsYXllcnNbMF0ubmFtZSA9IG5hbWUxO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzWzFdLm5hbWUgPSBuYW1lMjtcblxuICAgICAgICAgICAgLy8gc2UgcGFzYSBhIGxhIHNpZ3VpZW50ZSBlc2NlbmFcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NlbGVjdFNjZW5hcmlvX1NjZW5lJywge1xuICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLnBsYXllcnNbMF0sXG4gICAgICAgICAgICAgICAgcGxheWVyMjogdGhpcy5wbGF5ZXJzWzFdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnb25saW5lJykge1xuICAgICAgICAgICAgY29uc3QgcDFIYXNDaGFyID0gISF0aGlzLnBsYXllcnM/LlswXT8uY2hhcmFjdGVyO1xuXG4gICAgICAgICAgICBpZiAoIXAxSGFzQ2hhcikge1xuICAgICAgICAgICAgICAgIC8vIHNvbG8gc2UgYXZpc2Egc2kgbm8gaGEgZWxlZ2lkbyBwZXJzb25hamVcbiAgICAgICAgICAgICAgICB0aGlzLmZsYXNoVHVyblRleHQoJyNiMDAwMDAnLCA5MDApO1xuICAgICAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRGViZXMgZWxlZ2lyIHVuIHBlcnNvbmFqZSBwcmltZXJvJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LnNldCgnbXlDaGFyYWN0ZXInLCB0aGlzLnBsYXllcnNbMF0uY2hhcmFjdGVyKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNIb3N0KSB7XG4gICAgICAgICAgICAgICAgLy8gU295IGVsIGFkbWluOiBwdWVkbyBwYXNhciBhIGVsZWdpciBlc2NlbmFyaW9cbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RTY2VuYXJpb19TY2VuZScsIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLnBsYXllcnNbMF0sXG4gICAgICAgICAgICAgICAgICAgIGlzSG9zdDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAvLyBObyBwYXNhbW9zIHBsYXllcjIgcG9ycXVlIHNlIHVuaXLDoSBlbiByZWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTG9iYnlfU2NlbmUnLCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyMjogdGhpcy5wbGF5ZXJzWzBdLFxuICAgICAgICAgICAgICAgICAgICBpc0hvc3Q6IGZhbHNlIFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFjZSBwYXJwYWRlYXIgZWwgdGV4dG8gZGUgdHVybm8gY29uIHVuIGNvbG9yIHJvam8gZHVyYW50ZSB1bm9zIG1pbGlzZWd1bmRvc1xuICAgIGZsYXNoVHVyblRleHQoY29sb3IgPSAnI2IwMDAwMCcsIG1zID0gOTAwKSB7XG4gICAgICAgIGlmICghdGhpcy50dXJuVGV4dCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IG9sZENvbG9yID0gdGhpcy50dXJuVGV4dC5zdHlsZS5jb2xvciB8fCAnIzAwMDAwMCc7XG4gICAgICAgIHRoaXMudHVyblRleHQuc2V0Q29sb3IoY29sb3IpO1xuXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbChtcywgKCkgPT4ge1xuICAgICAgICAgICAgLy8gdnVlbHZlIGFsIGNvbG9yIG5vcm1hbCB5IHJlZnJlc2NhIGVsIHRleHRvIHBvciBzaSBjYW1iacOzIGFsZ29cbiAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0Q29sb3Iob2xkQ29sb3IpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBY3R1YWxpemEgZWwgdGV4dG8gZGUgdHVybm8vZXN0YWRvIGFjdHVhbFxuICAgIHVwZGF0ZVR1cm5UZXh0KCkge1xuICAgICAgICBpZiAoIXRoaXMudHVyblRleHQpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnbG9jYWwnKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lMSA9IHRoaXMucGxheWVySW5wdXRFbHM/LlswXT8udmFsdWU/LnRyaW0oKSA/PyAnJztcbiAgICAgICAgICAgIGNvbnN0IG5hbWUyID0gdGhpcy5wbGF5ZXJJbnB1dEVscz8uWzFdPy52YWx1ZT8udHJpbSgpID8/ICcnO1xuXG4gICAgICAgICAgICBjb25zdCBwMUhhc0NoYXIgPSAhIXRoaXMucGxheWVycz8uWzBdPy5jaGFyYWN0ZXI7XG4gICAgICAgICAgICBjb25zdCBwMkhhc0NoYXIgPSAhIXRoaXMucGxheWVycz8uWzFdPy5jaGFyYWN0ZXI7XG5cbiAgICAgICAgICAgIGNvbnN0IHAxSGFzTmFtZSA9IG5hbWUxLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICBjb25zdCBwMkhhc05hbWUgPSBuYW1lMi5sZW5ndGggPiAwO1xuXG4gICAgICAgICAgICBjb25zdCBhbGxDaGFycyA9IHAxSGFzQ2hhciAmJiBwMkhhc0NoYXI7XG4gICAgICAgICAgICBjb25zdCBhbGxOYW1lcyA9IHAxSGFzTmFtZSAmJiBwMkhhc05hbWU7XG5cbiAgICAgICAgICAgIC8vIHNpIHRvZG8gZXN0w6EgY29tcGxldG9cbiAgICAgICAgICAgIGlmIChhbGxDaGFycyAmJiBhbGxOYW1lcykge1xuICAgICAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0VGV4dCgnwqFMaXN0byBwYXJhIGNvbnRpbnVhciEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNpIGZhbHRhbiBOT01CUkVTICh5IHlhIGVzdMOhbiBsb3MgcGVyc29uYWplcyksIGVzcGVjaWZpY2EgcXVpw6luXG4gICAgICAgICAgICBpZiAoYWxsQ2hhcnMgJiYgIWFsbE5hbWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwMUhhc05hbWUgJiYgIXAySGFzTmFtZSkgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YW4gbG9zIG5vbWJyZXMgZGUgSnVnYWRvciAxIHkgSnVnYWRvciAyJyk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXAxSGFzTmFtZSkgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YSBlbCBub21icmUgZGUgSnVnYWRvciAxJyk7XG4gICAgICAgICAgICAgICAgZWxzZSB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0ZhbHRhIGVsIG5vbWJyZSBkZSBKdWdhZG9yIDInKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNpIGZhbHRhbiBQRVJTT05BSkVTICh5IHlhIGVzdMOhbiBsb3Mgbm9tYnJlcyksIGVzcGVjaWZpY2EgcXVpw6luXG4gICAgICAgICAgICBpZiAoYWxsTmFtZXMgJiYgIWFsbENoYXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwMUhhc0NoYXIgJiYgIXAySGFzQ2hhcikgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YW4gbG9zIHBlcnNvbmFqZXMgZGUgSnVnYWRvciAxIHkgSnVnYWRvciAyJyk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXAxSGFzQ2hhcikgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YSBlbCBwZXJzb25hamUgZGUgSnVnYWRvciAxJyk7XG4gICAgICAgICAgICAgICAgZWxzZSB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0ZhbHRhIGVsIHBlcnNvbmFqZSBkZSBKdWdhZG9yIDInKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNpIGZhbHRhbiBjb3NhcyBtaXh0YXMgKG5vbWJyZXMgeSBwZXJzb25hamVzKVxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFR1cm4gPT09IG51bGwgfHwgdGhpcy5jdXJyZW50VHVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdDb21wbGV0YSBub21icmVzIHkgcGVyc29uYWplcycpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy50dXJuVGV4dC5zZXRUZXh0KGBUVVJOTzogSnVnYWRvciAke3RoaXMuY3VycmVudFR1cm4gKyAxfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ29ubGluZScpIHtcbiAgICBcbiAgICAgICAgICAgIGNvbnN0IHAxSGFzQ2hhciA9ICEhdGhpcy5wbGF5ZXJzPy5bMF0/LmNoYXJhY3RlcjtcblxuICAgICAgICAgICAgaWYgKCFwMUhhc0NoYXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ05pbmfDum4gcGVyc29uYWplIHNlbGVjY2lvbmFkbycpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0xpc3RvOiBlbCBqdWdhZG9yIHRpZW5lIHBlcnNvbmFqZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy9QYW50YWxsYSBkZSBTZWxlY2Npb24gZGUgZXNjZW5hcmlvXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XG5pbXBvcnQgeyBhcHBseVN0b3JlZFZvbHVtZSwgcGxheUNsaWNrIH0gZnJvbSAnLi4vVUkvQXVkaW8uanMnO1xuaW1wb3J0IHsgY3JlYXRlVUlCdXR0b24sIGNyZWF0ZUljb25CdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcblxuZXhwb3J0IGNsYXNzIFNlbGVjdFNjZW5hcmlvX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ1NlbGVjdFNjZW5hcmlvX1NjZW5lJyk7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyA9ICdHeW0nO1xuICAgICAgICB0aGlzLm1vZGUgPSAnbG9jYWwnO1xuICAgIH1cblxuICAgIHByZWxvYWQoKSB7XG4gICAgICAgIC8vIEJvdG9uZXNcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9TSU5TRUxFQ0NJT05BUi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9GTEVDSEFfVk9MVkVSLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfU0lOU0VMRUNDSU9OQVIucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRS5wbmcnKTtcblxuICAgICAgICAvLyBGb25kb1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcblxuICAgICAgICAvLyBFc2NlbmFyaW9zXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnR3ltJywgJ0FTU0VUUy9GT05ET1MvR0lNTkFTSU8ucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGxheWEnLCAnQVNTRVRTL0ZPTkRPUy9QTEFZQS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdKYXJkaW4nLCAnQVNTRVRTL0ZPTkRPUy9KQVJESU4ucG5nJyk7XG5cbiAgICAgICAgLy8gU29uaWRvXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcblxuICAgICAgICAvLyBNYXJjb1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hcmNvJywgJy9BU1NFVFMvVUkvTUFSQ09TL1ZBQ0lPUy9NQVJDT1NfRVNDRU5BUklPLnBuZycpXG4gICAgfVxuXG4gICAgaW5pdChkYXRhKSB7XG4gICAgICAgIHRoaXMucGxheWVyMSA9IGRhdGEucGxheWVyMTtcbiAgICAgICAgdGhpcy5wbGF5ZXIyID0gZGF0YS5wbGF5ZXIyO1xuICAgICAgICB0aGlzLm1vZGUgPSBkYXRhLm1vZGUgfHwgJ2xvY2FsJztcbiAgICAgICAgdGhpcy5pc0hvc3QgPSBkYXRhLmlzSG9zdCB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlO1xuXG4gICAgICAgIC8vIHNlIGFwbGljYSBlbCB2b2x1bWVuXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xuXG4gICAgICAgIC8vIEZvbmRvXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgLy8gVMOtdHVsb1xuICAgICAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgNTAsICdTZWxlY2Npb25hIEVzY2VuYXJpbycsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgICAgZm9udFNpemU6ICc0MnB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBJbWFnZW4gZGVsIGVzY2VuYXJpbyBzZWxlY2Npb25hZG9cbiAgICAgICAgdGhpcy5zZWxlY3RlZFNjZW5hcmlvID0gJ0d5bSc7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJbWFnZSA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgMjQwLCB0aGlzLnNlbGVjdGVkU2NlbmFyaW8pLnNldFNjYWxlKDAuNSk7XG5cbiAgICAgICAgLy8gRXNjZW5hcmlvcyAoYm90b25lcylcbiAgICAgICAgY29uc3QgZXNjZW5hcmlvcyA9IFsnR3ltJywgJ1BsYXlhJywgJ0phcmRpbiddO1xuICAgICAgICBjb25zdCBzcGFjaW5nID0gMjAwO1xuICAgICAgICBjb25zdCBzdGFydFggPSB3aWR0aCAvIDIgLSBzcGFjaW5nO1xuXG4gICAgICAgIGNvbnN0IHNjZW5hcmlvQnV0dG9ucyA9IHt9O1xuXG4gICAgICAgIC8vIGZ1bmNpw7NuIHBhcmEgc2VsZWNjaW9uYXIgZXNjZW5hcmlvXG4gICAgICAgIGNvbnN0IHNldFNlbGVjdGVkU2NlbmFyaW8gPSAobm9tYnJlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkU2NlbmFyaW8gPSBub21icmU7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW1hZ2Uuc2V0VGV4dHVyZShub21icmUpLnNldFNjYWxlKDAuNSk7XG5cbiAgICAgICAgICAgIC8vIHNlIGRlamEgbWFyY2FkbyBlbCBzZWxlY2Npb25hZG9cbiAgICAgICAgICAgIGVzY2VuYXJpb3MuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgc2NlbmFyaW9CdXR0b25zW2tleV0uc2V0VGV4dHVyZShrZXkgPT09IG5vbWJyZSA/ICdib3RvblNlbGVjY2lvbmFkbycgOiAnYm90b25TaW5TZWxlY2Npb25hcicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZXNjZW5hcmlvcy5mb3JFYWNoKChub21icmUsIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvdG9uID0gdGhpcy5hZGQuaW1hZ2Uoc3RhcnRYICsgaSAqIHNwYWNpbmcsIDQ0MCwgJ2JvdG9uU2luU2VsZWNjaW9uYXInKVxuICAgICAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMS43NSk7XG5cbiAgICAgICAgICAgIHNjZW5hcmlvQnV0dG9uc1tub21icmVdID0gYm90b247XG5cbiAgICAgICAgICAgIC8vIHRleHRvIGVuIGVsIGNlbnRyb1xuICAgICAgICAgICAgY29uc3QgdGV4dG8gPSB0aGlzLmFkZC50ZXh0KDAsIDAsIG5vbWJyZSwgeyAuLi5zdHlsZSwgZm9udFNpemU6ICcyOHB4JywgY29sb3I6ICcjMDAwJyB9KTtcbiAgICAgICAgICAgIFBoYXNlci5EaXNwbGF5LkFsaWduLkluLkNlbnRlcih0ZXh0bywgYm90b24pO1xuXG4gICAgICAgICAgICAvLyBob3ZlclxuICAgICAgICAgICAgYm90b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gYm90b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKSk7XG4gICAgICAgICAgICBib3Rvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBib3Rvbi5zZXRUZXh0dXJlKHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyA9PT0gbm9tYnJlID8gJ2JvdG9uU2VsZWNjaW9uYWRvJyA6ICdib3RvblNpblNlbGVjY2lvbmFyJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gY2xpY2s6IHNvbmlkbyArIHNlbGVjY2lvbmFyXG4gICAgICAgICAgICBib3Rvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiBwbGF5Q2xpY2sodGhpcywgJ3Nvbmlkb0NsaWNrJykpO1xuICAgICAgICAgICAgYm90b24ub24oJ3BvaW50ZXJ1cCcsIChwb2ludGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5zaWRlID0gYm90b24uZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnRlci54LCBwb2ludGVyLnkpO1xuICAgICAgICAgICAgICAgIGlmICghaW5zaWRlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRTY2VuYXJpbyhub21icmUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHNlIG1hcmNhIGVsIGVzY2VuYXJpbyBwb3IgZGVmZWN0byB2aXN1YWxtZW50ZVxuICAgICAgICBzZXRTZWxlY3RlZFNjZW5hcmlvKHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyk7XG5cbiAgICAgICAgLy8gTWFyY29cbiAgICAgICAgY29uc3QgZnJhbWVZID0gMjQwOyAvLyBZIGRlIGxhIGltYWdlbiBkZWwgZXNjZW5hcmlvXG4gICAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyLCBmcmFtZVksICdtYXJjbycpLnNldE9yaWdpbigwLjUpO1xuICAgICAgICBmcmFtZS50ZXh0dXJlLnNldEZpbHRlcihQaGFzZXIuVGV4dHVyZXMuRmlsdGVyTW9kZS5ORUFSRVNUKTtcblxuICAgICAgICAvLyBBanVzdGUgZGVsIHRhbWHDsW8gZGVsIG1hcmNvXG4gICAgICAgIGNvbnN0IHRhcmdldEZyYW1lV2lkdGggPSA1MDA7IFxuICAgICAgICBjb25zdCB0YXJnZXRGcmFtZUhlaWdodCA9IDMwMDtcbiAgICAgICAgZnJhbWUuc2V0RGlzcGxheVNpemUodGFyZ2V0RnJhbWVXaWR0aCwgdGFyZ2V0RnJhbWVIZWlnaHQpO1xuXG4gICAgICAgIC8vIGJvdMOzbiBTaWd1aWVudGVcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxuICAgICAgICAgICAgeTogNTAwLFxuICAgICAgICAgICAgbGFiZWw6ICdTaWd1aWVudGUnLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdsb2NhbCcpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lX1NjZW5lJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyMTogdGhpcy5wbGF5ZXIxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyMjogdGhpcy5wbGF5ZXIyLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRTY2VuYXJpbzogdGhpcy5zZWxlY3RlZFNjZW5hcmlvLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNIb3N0OiB0aGlzLmlzSG9zdFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdMb2JieV9TY2VuZScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcjE6IHRoaXMucGxheWVyMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcjI6IHRoaXMucGxheWVyMixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkU2NlbmFyaW86IHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSG9zdDogdGhpcy5pc0hvc3RcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjYWxlOiAxLjUsXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW1wbGUnLFxuICAgICAgICAgICAgdGV4dHVyZUhvdmVyOiAnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLFxuICAgICAgICAgICAgdGV4dFN0eWxlOiB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzE4cHgnLCBjb2xvcjogJyMwMDAnIH0sXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBib3TDs24gVm9sdmVyIGF0csOhc1xuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxuICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NlbGVjdFBsYXllcl9TY2VuZScsIHsgXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgICAgICAgICAgICAgaXNIb3N0OiB0aGlzLmlzSG9zdFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59IiwiLy8gQmFzZSBkZWwganVlZ28sIGVzdHJ1Y3R1cmEgeSBhY2Nlc28gYSB0b2RvcyBsb3MgYXJjaGl2b3NcclxuaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IE1lbnVfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvTWVudV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBHYW1lX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0dhbWVfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgVHV0b3JpYWxfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvVHV0b3JpYWxfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgQ29uZmlndXJhdGlvbl9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9Db25maWd1cmF0aW9uX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IENyZWRpdHNfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvQ3JlZGl0c19TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBFbmRHYW1lX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0VuZEdhbWVfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgTW9kZUdhbWVfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvTW9kZUdhbWVfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgUGF1c2VfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvUGF1c2VfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgU2VsZWN0UGxheWVyX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL1NlbGVjdFBsYXllcl9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBTZWxlY3RTY2VuYXJpb19TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9TZWxlY3RTY2VuYXJpb19TY2VuZS5qc1wiO1xyXG5cclxuKGFzeW5jICgpID0+IHtcclxuICAgIC8vIGZhbGxiYWNrIHBhcmEgZXZpdGFyIHByb2JsZW1hcyBjb24gbGFzIGZ1ZW50ZXMgcGVyc29uYWxpemFkYXNcclxuICAgIGlmIChkb2N1bWVudC5mb250cyAmJiBkb2N1bWVudC5mb250cy5sb2FkKSB7XHJcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgICAgICBkb2N1bWVudC5mb250cy5sb2FkKCcyMHB4IFwiTWlGdWVudGVcIicpLFxyXG4gICAgICAgICAgICBkb2N1bWVudC5mb250cy5sb2FkKCcyMHB4IFwiVlQzMjNcIicpXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgYXdhaXQgZG9jdW1lbnQuZm9udHMucmVhZHk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZ2xvYmFscyA9IHtcclxuICAgICAgICBkZWZhdWx0VGV4dFN0eWxlOiB7IGZvbnRGYW1pbHk6ICdNaUZ1ZW50ZScsIGZvbnRTaXplOiAnMjBweCcsIGNvbG9yOiAnI2ZmZmZmZicgfSxcclxuICAgICAgICBtdXNpYzogbnVsbFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICAgICAgd2lkdGg6IDk2MCxcclxuICAgICAgICBoZWlnaHQ6IDU0MCxcclxuICAgICAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXHJcbiAgICAgICAgcGh5c2ljczoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgICAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgICAgICBncmF2aXR5OiB7IHg6IDAsIHk6IDMwMCB9LFxyXG4gICAgICAgICAgICAgICAgZGVidWc6IGZhbHNlIC8vIHBvbmVyIGEgdHJ1ZSBwYXJhIHZlciBsYXMgbMOtbmVhcyBkZSBsb3MgY3VlcnBvcyBmw61zaWNvc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkb206IHtcclxuICAgICAgICAgICAgY3JlYXRlQ29udGFpbmVyOiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjYWxsYmFja3M6IHtcclxuICAgICAgICAgICAgcHJlQm9vdDogKGdhbWUpID0+IHtcclxuICAgICAgICAgICAgICAgIGdhbWUuZ2xvYmFscyA9IGdsb2JhbHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHNjZW5lOiBbTWVudV9TY2VuZSwgR2FtZV9TY2VuZSwgVHV0b3JpYWxfU2NlbmUsIENvbmZpZ3VyYXRpb25fU2NlbmUsIENyZWRpdHNfU2NlbmUsIEVuZEdhbWVfU2NlbmUsIFBhdXNlX1NjZW5lLCBNb2RlR2FtZV9TY2VuZSwgU2VsZWN0UGxheWVyX1NjZW5lLCBTZWxlY3RTY2VuYXJpb19TY2VuZV0sXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzg2NzVmMScsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoY29uZmlnKTtcclxufSkoKTtcclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGUiLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiUGhhc2VyIiwiU0ZYX1ZPTFVNRV9LRVkiLCJNVVNJQ19WT0xVTUVfS0VZIiwiR0xPQkFMX1ZPTFVNRV9LRVkiLCJMRUdBQ1lfVk9MVU1FX0tFWSIsInBhcnNlU3RvcmVkVm9sdW1lIiwicmF3IiwiZGVmYXVsdFZhbHVlIiwidiIsIk51bWJlciIsInBhcnNlRmxvYXQiLCJTdHJpbmciLCJpc0Zpbml0ZSIsIkNsYW1wIiwiZ2V0U3RvcmVkVm9sdW1lQnlLZXkiLCJmYWxsYmFja0tleSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJmYWxsYmFja1JhdyIsImdldFN0b3JlZFNmeFZvbHVtZSIsImdldFN0b3JlZE11c2ljVm9sdW1lIiwiZ2V0U3RvcmVkR2xvYmFsVm9sdW1lIiwiYXBwbHlTdG9yZWRWb2x1bWUiLCJzY2VuZSIsIm9wdGlvbnMiLCJnbG9iYWxWb2wiLCJzZnhWb2x1bWUiLCJtdXNpY1ZvbHVtZSIsInNvdW5kIiwidm9sdW1lIiwibXVzaWMiLCJnYW1lIiwiZ2xvYmFscyIsInNldFZvbHVtZSIsInBsYXlDbGljayIsInBsYXkiLCJjcmVhdGVVSUJ1dHRvbiIsIngiLCJ5IiwibGFiZWwiLCJvbkNsaWNrIiwidGV4dHVyZU5vcm1hbCIsInRleHR1cmVIb3ZlciIsInNjYWxlIiwidGV4dFN0eWxlIiwiY2xpY2tTb3VuZEtleSIsImJ1dHRvbiIsImFkZCIsInNwcml0ZSIsInNldFNjYWxlIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwidGV4dCIsInNldE9yaWdpbiIsInNldE5vcm1hbCIsInNldFRleHR1cmUiLCJzZXRIb3ZlciIsIm9uIiwicG9pbnRlciIsImdldEJvdW5kcyIsImNvbnRhaW5zIiwiY3JlYXRlSWNvbkJ1dHRvbiIsInRleHR1cmUiLCJob3ZlclNjYWxlIiwiTWVudV9TY2VuZSIsImNvbnN0cnVjdG9yIiwic3VwZXIiLCJwcmVsb2FkIiwidGhpcyIsImxvYWQiLCJpbWFnZSIsImF1ZGlvIiwiY3JlYXRlIiwic291bmRLZXkiLCJsb29wIiwidHJ5UGxheSIsImlzUGxheWluZyIsImVyciIsImNvbnNvbGUiLCJ3YXJuIiwiaW5wdXQiLCJvbmNlIiwiYXN5bmMiLCJjdHgiLCJjb250ZXh0Iiwic3RhdGUiLCJyZXN1bWUiLCJlbnN1cmVMb29waW5nTXVzaWMiLCJzdHlsZSIsImRlZmF1bHRUZXh0U3R5bGUiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJjb2xvciIsIndpZHRoIiwiaGVpZ2h0IiwiY2VudGVyWCIsInJpZ2h0SGFsZlgiLCJzZXREZXB0aCIsInNldERpc3BsYXlTaXplIiwiZmlyc3RCdXR0b25ZIiwiYnV0dG9uVGV4dFN0eWxlIiwic3RhcnQiLCJyZXR1cm5TY2VuZSIsImJ1dHRvblNwYWNpbmciLCJQT1dFUlVQX0RVUkFUSU9OX01TIiwidmVsb2NpZGFkIiwicmFsZW50aXphciIsInBhcmFsaXphciIsInBvcjIiLCJwb3IzIiwiUGxheWVyIiwiaWQiLCJjaGFyYWN0ZXJUeXBlIiwiYmFzZU1vdmVTcGVlZCIsIm1vdmVTcGVlZCIsImp1bXBTcGVlZCIsImFjdGl2ZVBvd2VyVXBzIiwiaXNQYXJhbHl6ZWQiLCJwYXJhbHlzaXNUd2VlbiIsInNwZWVkRWZmZWN0QWN0aXZlIiwic2xvd0VmZmVjdEFjdGl2ZSIsInNjb3JlTXVsdGlwbGllciIsIm11bHRpcGxpZXJUZXh0Iiwic3Ryb2tlIiwic3Ryb2tlVGhpY2tuZXNzIiwic2V0VmlzaWJsZSIsInBvd2VyVXBJbnZlbnRvcnkiLCJpc1JlY2VpdmluZyIsImJvdW5kc0xlZnQiLCJib3VuZHNSaWdodCIsImJvdW5kc1RvcCIsImJvdW5kc0JvdHRvbSIsIkNIQVJBQ1RFUl9DT05GSUciLCJjaGFyYWN0ZXJBIiwidGV4dHVyZUtleSIsInN0YXJ0RnJhbWUiLCJpZGxlTGVmdEFuaW0iLCJpZGxlUmlnaHRBbmltIiwicnVuTGVmdEFuaW0iLCJydW5SaWdodEFuaW0iLCJqdW1wTGVmdEFuaW0iLCJqdW1wUmlnaHRBbmltIiwicmVjZWl2ZUxlZnRBbmltIiwicmVjZWl2ZVJpZ2h0QW5pbSIsInZpY3RvcnkiLCJjaGFyYWN0ZXJCIiwiY2hhcmFjdGVyQyIsImNvbmZpZyIsInBoeXNpY3MiLCJib2R5Iiwic2V0U2l6ZSIsInNldERhdGEiLCJmYWNpbmciLCJpc09uR3JvdW5kIiwiaXNKdW1waW5nIiwianVtcFN0YXJ0VGltZSIsImFuaW0iLCJlcnJvciIsImlzR3JvdW5kZWQiLCJibG9ja2VkIiwiZG93biIsInRvdWNoaW5nIiwiaXNOZWFyR3JvdW5kIiwidGhyZXNob2xkIiwiZ3JvdW5kWSIsImZlZXRZIiwiTWF0aCIsImFicyIsIm1vdmVMZWZ0Iiwic2V0VmVsb2NpdHlYIiwicGxheUFuaW1hdGlvbiIsIm1vdmVSaWdodCIsImp1bXBMZWZ0IiwidGltZSIsIm5vdyIsInNldFZlbG9jaXR5WSIsInBsYXlTZngiLCJzZngiLCJqdW1wIiwianVtcFJpZ2h0IiwicmVjZWl2ZUxlZnQiLCJyZWNlaXZlUmlnaHQiLCJpZGxlTGVmdCIsImlkbGVSaWdodCIsInNldEJvdW5kcyIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsImNsYW1wV2l0aGluQm91bmRzIiwiaGFsZldpZHRoIiwic2V0UG9zaXRpb24iLCJzZXRWZWxvY2l0eSIsInVwZGF0ZU11bHRpcGxpZXJUZXh0UG9zaXRpb24iLCJvZmZzZXRZIiwiZGlzcGxheUhlaWdodCIsImFuaW1LZXkiLCJhbmltcyIsImN1cnJlbnRBbmltIiwidXBkYXRlIiwid2FzT25Hcm91bmQiLCJjdXJyZW50S2V5IiwiYXBwbHlQb3dlclVwIiwidHlwZSIsImxlbmd0aCIsInB1c2giLCJ1c2VOZXh0UG93ZXJVcCIsInNoaWZ0IiwiYWN0aXZhdGVQb3dlclVwIiwiYXBwbHlPclJlZnJlc2hUaW1lZEVmZmVjdCIsIm9wcG9uZW50IiwiZ2V0T3Bwb25lbnQiLCJ1cGRhdGVQb3dlclVwcyIsInNwZWVkTmVlZHNSZWNhbGMiLCJzY29yZU5lZWRzUmVjYWxjIiwic2V0U3BlZWRFZmZlY3QiLCJzZXRTbG93RWZmZWN0Iiwic2V0UGFyYWx5emVkIiwicmVjYWxjdWxhdGVNb3ZlU3BlZWQiLCJyZWNhbGN1bGF0ZVNjb3JlRWZmZWN0Iiwic2V0VGludCIsInNldEFscGhhIiwic3RvcCIsInR3ZWVucyIsInRhcmdldHMiLCJhbHBoYSIsInlveW8iLCJkdXJhdGlvbiIsInJlcGVhdCIsInJlZnJlc2hQb3dlclVwVmlzdWFscyIsImFjdGl2ZSIsIm11bHQiLCJtdWx0aXBsaWVyIiwibWF4Iiwic2V0VGV4dCIsImR1cmF0aW9uTXMiLCJjbGVhclRpbnQiLCJwbGF5ZXJzIiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwiZmluZCIsInAiLCJBcHBseVBvd2VyVXBDb21tYW5kIiwicGxheWVyIiwicG93ZXJVcFR5cGUiLCJzdG9yZWQiLCJleGVjdXRlIiwiUG93ZXJVcCIsImlzQ29sbGVjdGVkIiwiX2Rlc3Ryb3llZCIsIl9jb29sZG93blVudGlsIiwiZmFkZVN0YXJ0IiwibGlmZXRpbWUiLCJfb3ZlcmxhcHMiLCJmYWRlVHdlZW4iLCJfbGlmZXRpbWVUaW1lciIsInN0YXRpY0ltYWdlIiwicmVmcmVzaEJvZHkiLCJmYWRlRGVsYXkiLCJtaW4iLCJmYWRlRHVyYXRpb24iLCJkZWxheSIsImZvckVhY2giLCJjIiwib3ZlcmxhcCIsImNvbGxlY3QiLCJkZWxheWVkQ2FsbCIsImRlc3Ryb3kiLCJsb2ciLCJjbWQiLCJjb21tYW5kUHJvY2Vzc29yIiwicHJvY2VzcyIsInVwZGF0ZVBsYXllckludmVudG9yeVVJIiwiaXNBcnJheSIsInJlbW92ZSIsInBvd2VyVXBzIiwiZmlsdGVyIiwiQmFsbCIsInNldEJvdW5jZSIsInNldENvbGxpZGVXb3JsZEJvdW5kcyIsImxhc3RUb3VjaGVkQnkiLCJ0b3VjaENvdW50IiwiY291cnRTaWRlIiwiaXNCYWxsTGl2ZSIsIm5ldFgiLCJsYXN0SGl0VGltZSIsImxhc3RIaXRQbGF5ZXJJZCIsIl9nZXRSYW5kb21GYWN0b3IiLCJyYW5kb20iLCJoaXQiLCJwbGF5ZXJGYWNpbmdEaXJlY3Rpb24iLCJvbkZhbHRhIiwidmVsb2NpdHlYIiwidmVsb2NpdHlZIiwicmVjZWl2ZSIsInNwaWtlIiwiYmFzZVNwZWVkWCIsInZlcnRpY2FsU3RyZW5ndGgiLCJyYW5kb21GYWN0b3JYIiwiY3Jvc3NOZXQiLCJvbkdyb3VuZGVkIiwiYmFsbE9uTGVmdCIsImJhbGxPblJpZ2h0Iiwib25SYWxseUVuZCIsInJlc2V0UmFsbHkiLCJmYWx0YVR5cGUiLCJmYWx0aW5nUGxheWVyIiwic2NvcmluZ1BsYXllcklkIiwiZXZlbnRzIiwiZW1pdCIsIl9nZXRTdWJ0bGVOdWRnZSIsInNwYXduWCIsInNpZGVQYWRkaW5nIiwid29ybGRXaWR0aCIsIm9mZnNldCIsInNldFNlcnZlUG9zaXRpb24iLCJzY29yaW5nUGxheWVyIiwiY2xhbXAiLCJ2YWx1ZSIsIm51ZGdlVmVsb2NpdHlYIiwibnVkZ2UiLCJDb21tYW5kUHJvY2Vzc29yIiwiTWFwIiwiZ2FtZVNjZW5lIiwic2V0UGxheWVycyIsInNldEdhbWVTY2VuZSIsImNvbW1hbmQiLCJDb21tYW5kIiwic2VyaWFsaXplIiwiZ2V0UGxheWVyIiwiTW92ZVBsYXllckNvbW1hbmQiLCJkaXJlY3Rpb24iLCJwbGF5ZXJJZCIsIkdhbWVfU2NlbmUiLCJ0aWVtcG9Ub3RhbCIsInRpZW1wb1Jlc3RhbnRlIiwidGltZXJUZXh0IiwidGltZXJFdmVudCIsImluaXQiLCJkYXRhIiwiaW5wdXRNYXBwaW5ncyIsInBsYXllcjEiLCJwbGF5ZXIyIiwic2VsZWN0ZWRTY2VuYXJpbyIsImJhbGwiLCJzY29yZVAxIiwic2NvcmVQMiIsInNldHNQMSIsInNldHNQMiIsIm1heFNldHMiLCJjdXJyZW50U2V0IiwiaXNHb2xkZW5Qb2ludCIsImlzU2V0RW5kaW5nIiwic3ByaXRlc2hlZXQiLCJmcmFtZVdpZHRoIiwiZnJhbWVIZWlnaHQiLCJ3b3JsZEhlaWdodCIsIndoaXN0bGUiLCJwb2ludCIsInNldFNjcm9sbEZhY3RvciIsInRpbWVySWNvbiIsInNldEZyYW1lIiwic2V0RnJhbWVXaWR0aCIsImRpc3BsYXlXaWR0aCIsInNldEZyYW1lSGVpZ2h0Iiwic2V0U2NvcmVZIiwicm91bmQiLCJzZXRTY29yZU9mZnNldFgiLCJzZXRTY29yZUZyYW1lTGVmdCIsInNldFNjb3JlRnJhbWVSaWdodCIsInNldFNjb3JlTGVmdCIsInNldFNjb3JlUmlnaHQiLCJzZXRXaW5uZXJUZXh0IiwiYWRkRXZlbnQiLCJjYWxsYmFjayIsInVwZGF0ZVRpbWVyIiwiY2FsbGJhY2tTY29wZSIsInJlZCIsInN0YXRpY1Nwcml0ZSIsInJlZFRleHR1cmUiLCJ0ZXh0dXJlcyIsImdldFNvdXJjZUltYWdlIiwic2V0T2Zmc2V0IiwidXBkYXRlRnJvbUdhbWVPYmplY3QiLCJfY3JlYXRlQW5pbWF0aW9ucyIsInBvaW50c0xlZnQiLCJwb2ludHNSaWdodCIsInNjb3JlRnJhbWVMZWZ0Iiwic2NvcmVGcmFtZVJpZ2h0Iiwic2NvcmVMZWZ0IiwicmlnaHRTY29yZSIsImdyb3VuZEhlaWdodCIsImdyb3VuZCIsInJlY3RhbmdsZSIsImV4aXN0aW5nIiwiX2NyZWF0ZVBsYXllcnMiLCJfc2V0dXBQaHlzaWNzV29ybGQiLCJfc2V0dXBJbnB1dE1hcHBpbmdzIiwibWF4UG93ZXJVcHMiLCJwb3dlclVwU3Bhd25Db25maWciLCJtaW5EZWxheU1zIiwibWF4RGVsYXlNcyIsIndlaWdodHMiLCJjb29sZG93bk1zIiwicG93ZXJVcExhc3RTcGF3bkF0IiwiaW52ZW50b3J5VUkiLCJzY2hlZHVsZVBvd2VyVXBTcGF3biIsImludmVudG9yeUZyYW1lcyIsIl9jcmVhdGVCYWxsIiwiX3NldHVwQmFsbENvbGxpc2lvbnMiLCJfc2V0dXBCYWxsRXZlbnRzIiwia2V5Ym9hcmQiLCJwYXVzZSIsInBhdXNlZCIsImxhdW5jaCIsIndpbm5lciIsIl9lbmRHYW1lIiwiQmV0d2VlbiIsIl9nZXRXZWlnaHRlZFBvd2VyVXBUeXBlIiwicG93ZXJVcCIsImVudHJpZXMiLCJ3ZWlnaHQiLCJjb29sZG93biIsImxhc3QiLCJ0b3RhbCIsInJlZHVjZSIsInN1bSIsInJvbGwiLCJfaGFuZGxlSW5wdXRGb3JBbGxQbGF5ZXJzIiwibWludXRvcyIsImZsb29yIiwic2VndW5kb3MiLCJmb3JtYXRvIiwidG9TdHJpbmciLCJwYWRTdGFydCIsIl9lbmRTZXQiLCJ1cGRhdGVTZXRTY29yZVVJIiwidWkiLCJpIiwiZnJhbWVzIiwiZ2VuZXJhdGVGcmFtZU51bWJlcnMiLCJlbmQiLCJmcmFtZVJhdGUiLCJyZXZlcnNlIiwiY2hhclAxIiwiY2hhcmFjdGVyIiwiY2hhclAyIiwicDEiLCJwMiIsInNldCIsImNvdXJ0Qm90dG9tIiwiY29sbGlkZXIiLCJsZWZ0S2V5IiwicmlnaHRLZXkiLCJqdW1wS2V5IiwicmVjZWl2ZUtleSIsInBvd2VyS2V5IiwibWFwIiwibGVmdEtleU9iaiIsImFkZEtleSIsIktleWJvYXJkIiwiS2V5Q29kZXMiLCJyaWdodEtleU9iaiIsImp1bXBLZXlPYmoiLCJyZWNlaXZlS2V5T2JqIiwicG93ZXJLZXlPYmoiLCJtYXBwaW5nIiwiaWRsZURpciIsImlzRG93biIsIkp1c3REb3duIiwicmVjZWl2ZURpciIsImp1bXBEaXIiLCJfb25CYWxsUGxheWVyQ29sbGlzaW9uIiwidmVsb2NpdHkiLCJzY29yZXJJZCIsInBvaW50c1RvQWRkIiwiX2NoZWNrV2luQ29uZGl0aW9uIiwiX2lzQmFsbEluSGl0Wm9uZSIsImJhbGxTcHJpdGUiLCJiYWxsWCIsImJhbGxZIiwiYm9keVRvcCIsImJvZHlIZWlnaHQiLCJib2R5Q2VudGVyWCIsInpvbmUiLCJmYWNpbmdSaWdodCIsIndpZGVIaXQiLCJyZWFjaEZvcndhcmQiLCJyZWFjaEJhY2siLCJwbGF5ZXJEaXJlY3Rpb24iLCJ3b3JsZCIsInNjb3JlRGlmZiIsIndpbm5lckxhYmVsIiwiX3Jlc2V0U2V0IiwiVHV0b3JpYWxfU2NlbmUiLCJwYWdlSW5kZXgiLCJtYWluVGl0bGVUZXh0IiwicGFnZXMiLCJ0aXRsZSIsInBhbmVsTWFyZ2luIiwicGFuZWxHYXAiLCJuYXZZIiwicGFuZWxUb3AiLCJwYW5lbEJvdHRvbSIsInBhbmVsSGVpZ2h0IiwicGFuZWxXaWR0aCIsImxheW91dCIsInNsaWRlSW1hZ2UiLCJfZml0SW1hZ2UiLCJwYWdlSW5kaWNhdG9yIiwicHJldiIsIm5leHQiLCJyZW5kZXJQYWdlIiwiaW1nIiwibWF4VyIsIm1heEgiLCJDb25maWd1cmF0aW9uX1NjZW5lIiwibXVzaWNWb2x1bWVTbGlkZXIiLCJzZnhWb2x1bWVTbGlkZXIiLCJnbG9iYWxWb2x1bWVTbGlkZXIiLCJoYXNTZngiLCJoYXNNdXNpYyIsImxlZ2FjeVZvbHVtZSIsImdldExlZ2FjeVZvbHVtZSIsImluaXRpYWxWb2x1bWUiLCJzZXRJdGVtIiwiZW5zdXJlU3RvcmVkQXVkaW9TZXR0aW5ncyIsImluaXRpYWxHbG9iYWxWb2x1bWUiLCJpbml0aWFsTXVzaWNWb2x1bWUiLCJpbml0aWFsU2Z4Vm9sdW1lIiwic2VjdGlvbkdhcCIsImxhYmVsVG9TbGlkZXJHYXAiLCJncm91cFRvcFkiLCJnbG9iYWxMYWJlbFkiLCJnbG9iYWxTbGlkZXJZIiwibXVzaWNMYWJlbFkiLCJtdXNpY1NsaWRlclkiLCJzZnhMYWJlbFkiLCJzZnhTbGlkZXJZIiwiZG9tIiwiY3JlYXRlRnJvbUhUTUwiLCJhZGRMaXN0ZW5lciIsImV2ZW50IiwidGFyZ2V0IiwiSFRNTElucHV0RWxlbWVudCIsInNldFN0b3JlZEdsb2JhbFZvbHVtZSIsInNldFN0b3JlZE11c2ljVm9sdW1lIiwic2V0U3RvcmVkU2Z4Vm9sdW1lIiwiRXZlbnRzIiwiU0hVVERPV04iLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJDcmVkaXRzX1NjZW5lIiwibm9tYnJlc0VxdWlwbyIsImNhcmRXaWR0aCIsImNhcmRIZWlnaHQiLCJjYXJkWCIsImNhcmRZIiwic2V0U3Ryb2tlU3R5bGUiLCJzdGFydFkiLCJub21icmUiLCJpc0hlYWRlciIsImxvZ29YIiwibG9nb1kiLCJFbmRHYW1lX1NjZW5lIiwibmFtZSIsInNwcml0ZVAxIiwic3ByaXRlUDIiLCJ3aW5uZXJUZXh0WSIsInNwcml0ZVJvd1kiLCJidXR0b25ZIiwic3ByaXRlT2Zmc2V0WCIsIndpbm5lclRleHQiLCJ3aW5uZXJDaGFyYWN0ZXIiLCJ3aW5uZXJTcHJpdGVTbG90IiwiY29udGFpbmVyIiwid2lubmVyU3ByaXRlIiwiTW9kZUdhbWVfU2NlbmUiLCJzcGFjaW5nIiwic3RhcnRYIiwic3RhcnRNb2RlIiwibW9kZSIsInJlZ2lzdHJ5IiwicmVkQnV0dG9uIiwiZGlzYWJsZUludGVyYWN0aXZlIiwic2V0QWxpZ24iLCJQYXVzZV9TY2VuZSIsImJ1dHRvblN0YXJ0WSIsInJlbW92ZUFsbEtleXMiLCJTZWxlY3RQbGF5ZXJfU2NlbmUiLCJjdXJyZW50VHVybiIsInBsYXllcklucHV0cyIsInBsYXllcklucHV0RWxzIiwidHVyblRleHQiLCJpc0hvc3QiLCJjcmVhdGVMb2NhbFVJIiwiY3JlYXRlT25saW5lVUkiLCJlbmFibGVkIiwiYmlnSW1hZ2UiLCJiaWdGcmFtZSIsImZyYW1lIiwiY3JlYXRlUGxheWVyc1VJIiwiY3JlYXRlQ2hhcmFjdGVyTWluaWF0dXJlcyIsInVwZGF0ZVR1cm5UZXh0IiwiaGFuZGxlTmV4dCIsImZvbnRTdHlsZSIsImNyZWF0ZVBsYXllck9ubGluZVVJIiwicG9zaXRpb25zWCIsImlkeCIsImlucHV0RWwiLCJub2RlIiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwicmVwbGFjZSIsInNldEZpbHRlciIsIkZpbHRlck1vZGUiLCJORUFSRVNUIiwicG9zaXRpb25zIiwibWluaSIsIm9uTWluaUNsaWNrZWQiLCJjaGFyYWN0ZXJOYW1lIiwib3duZXJJbmRleCIsImZpbmRJbmRleCIsIm93bmVyIiwidGFyZ2V0SW5kZXgiLCJvdGhlciIsIm5hbWUxIiwidHJpbSIsInAxSGFzQ2hhciIsIm5hbWUyIiwicDJIYXNDaGFyIiwiZmxhc2hUdXJuVGV4dCIsIm1zIiwib2xkQ29sb3IiLCJzZXRDb2xvciIsInAxSGFzTmFtZSIsInAySGFzTmFtZSIsImFsbENoYXJzIiwiYWxsTmFtZXMiLCJ1bmRlZmluZWQiLCJTZWxlY3RTY2VuYXJpb19TY2VuZSIsInNlbGVjdGVkSW1hZ2UiLCJlc2NlbmFyaW9zIiwic2NlbmFyaW9CdXR0b25zIiwic2V0U2VsZWN0ZWRTY2VuYXJpbyIsImJvdG9uIiwidGV4dG8iLCJBbGlnbiIsIkluIiwiQ2VudGVyIiwiZG9jdW1lbnQiLCJmb250cyIsIlByb21pc2UiLCJhbGwiLCJyZWFkeSIsInBhcmVudCIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwiZGVidWciLCJjcmVhdGVDb250YWluZXIiLCJjYWxsYmFja3MiLCJwcmVCb290IiwiYmFja2dyb3VuZENvbG9yIl0sInNvdXJjZVJvb3QiOiIifQ==