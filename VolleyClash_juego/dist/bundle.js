(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var o=e.n(t);class n extends o().Scene{constructor(){super("Menu_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO_prueba.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR_prueba.png")}create(){const{width:e,height:t}=this.scale,n=e/2,i=t/2-60;this.add.text(e/2,100,"Volley Clash",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5);const r=this.add.sprite(n,i,"botonSinSeleccionar").setScale(.7).setInteractive({useHandCursor:!0}),a=this.add.text(0,0,"Jugar",{fontSize:"20px",color:"#000000"});o().Display.Align.In.Center(a,r),r.on("pointerover",()=>{r.setTexture("botonSeleccionado")}),r.on("pointerout",()=>{r.setTexture("botonSinSeleccionar")}),r.on("pointerdown",()=>{r.setTexture("botonSeleccionado")}),r.on("pointerup",()=>{this.scene.start("ModeGame_Scene")});const s=this.add.sprite(n,i+70,"botonSinSeleccionar").setScale(.7).setInteractive({useHandCursor:!0}),c=this.add.text(0,0,"Configuración",{fontSize:"20px",color:"#000000"});o().Display.Align.In.Center(c,s),s.on("pointerover",()=>{s.setTexture("botonSeleccionado")}),s.on("pointerout",()=>{s.setTexture("botonSinSeleccionar")}),s.on("pointerdown",()=>{s.setTexture("botonSeleccionado")}),s.on("pointerup",()=>{this.scene.start("Configuration_Scene")});const S=this.add.sprite(n,i+140,"botonSinSeleccionar").setScale(.7).setInteractive({useHandCursor:!0}),d=this.add.text(0,0,"Créditos",{fontSize:"20px",color:"#000000"});o().Display.Align.In.Center(d,S),S.on("pointerover",()=>{S.setTexture("botonSeleccionado")}),S.on("pointerout",()=>{S.setTexture("botonSinSeleccionar")}),S.on("pointerdown",()=>{S.setTexture("botonSeleccionado")}),S.on("pointerup",()=>{this.scene.start("Credits_Scene")})}}class i extends o().Scene{constructor(){super("Game_Scene")}create(){}}class r extends o().Scene{constructor(){super("Configuration_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png")}create(){const{width:e,height:t}=this.scale,o=e/2;this.add.text(o,.18*t,"Configuración",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5),this.add.text(o,.35*t,"Controles",{fontSize:"24px",color:"#ffffff"}).setOrigin(.5);const n=.06*e,i=.08*t;this.add.sprite(n,i,"botonVolver").setScale(.1).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.start("Menu_Scene")})}}class a extends o().Scene{constructor(){super("Credits_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png")}create(){const{width:e,height:t}=this.scale,o=e/2;this.add.text(o,80,"Créditos",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5),["GRUPO 5 - SUNSET ARCADE","Sara Bueno Esteban","Antonio Morán Barrera","Cristine Nioka Tewo","Álvaro Ibáñez Montero"].forEach((e,t)=>{this.add.text(o,150+30*t,e,{fontSize:"20px",color:"#ffffff"}).setOrigin(.5)});const n=.06*e,i=.08*t;this.add.sprite(n,i,"botonVolver").setScale(.1).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.start("Menu_Scene")})}}class s extends o().Scene{constructor(){super("EndGame_Escene")}create(){}}class c extends o().Scene{constructor(){super("ModeGame_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO_prueba.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR_prueba.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png")}create(){this.add.text(280,100,"Modo de Juego",{fontSize:"32px"});const e=this.add.sprite(250,200,"botonSinSeleccionar").setInteractive({useHandCursor:!0}).setScale(.7),t=this.add.text(0,0,"Local",{fontSize:"20px",color:"#000"});o().Display.Align.In.Center(t,e),e.on("pointerover",()=>e.setTexture("botonSeleccionado")),e.on("pointerout",()=>e.setTexture("botonSinSeleccionar")),e.on("pointerdown",()=>e.setTexture("botonSeleccionado")),e.on("pointerup",()=>this.scene.start("SelecPlayer_Scene"));const n=this.add.sprite(550,200,"botonSinSeleccionar").setInteractive({useHandCursor:!0}).setScale(.7),i=this.add.text(0,0,"Red",{fontSize:"20px",color:"#000"});o().Display.Align.In.Center(i,n),n.on("pointerover",()=>n.setTexture("botonSeleccionado")),n.on("pointerout",()=>n.setTexture("botonSinSeleccionar")),n.on("pointerdown",()=>e.setTexture("botonSeleccionado")),n.on("pointerup",()=>this.scene.start("SelecPlayer_Scene"));const{width:r,height:a}=this.scale,s=.06*r,c=.08*a;this.add.sprite(s,c,"botonVolver").setScale(.1).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.start("Menu_Scene")})}}class S extends o().Scene{constructor(){super("Pause_Scene")}create(){}}class d extends o().Scene{constructor(){super("SelecPlayer_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("personajeA","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_a.png"),this.load.image("personajeB","/ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_b.png"),this.load.image("personajeC","ASSETS/PERSONAJES/PERSONAJES_POSE/personaje_c.png")}create(){this.add.text(160,60,"Personaje",{fontSize:"24px"}),this.selectedCharacter="personajeA",this.characterImage=this.add.image(220,240,this.selectedCharacter).setScale(1.2),this.add.text(480,210,"Selecciona Personaje:",{fontSize:"16px",color:"#ffffff"}),["personajeA","personajeB","personajeC"].forEach((e,t)=>{this.add.image(480+100*t,310,e).setInteractive().setScale(.5).on("pointerdown",()=>{this.selectedCharacter=e,this.characterImage.setTexture(e)})}),this.add.text(480,60,"Introduce tu Nombre:",{fontSize:"16px"}),this.nameInput=this.add.dom(575,120).createFromHTML('\n            <input type="text" id="playerName" \n                placeholder="Introduce tu nombre" \n                style="width: 180px; padding: 5px; font-size: 16px; border-radius: 5px;">\n        ');const e=this.add.image(700,420,"botonSinSeleccionar").setInteractive().setScale(.4),t=this.add.text(0,0,"Siguiente",{fontSize:"10px",color:"#000"});o().Display.Align.In.Center(t,e),e.on("pointerover",()=>e.setTexture("botonSeleccionado")),e.on("pointerout",()=>e.setTexture("botonSinSeleccionar")),e.on("pointerdown",()=>e.setTexture("botonSeleccionado")),e.on("pointerup",()=>{const e=this.nameInput.node.querySelector("input").value;console.log("Nombre de usuario:",e),this.scene.start("SelectScenario_Scene",{playerName:e,character:this.selectedCharacter})}),this.add.image(30,420,"botonVolver").setInteractive().setScale(.1).on("pointerdown",()=>this.scene.start("ModeGame_Scene"))}}class l extends o().Scene{constructor(){super("SelectScenario_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("jardin","ASSETS/FONDOS/JARDIN.png")}init(e){this.playerName=e.playerName,this.selectedCharacter=e.character}create(){this.add.text(230,10,"Selecciona Escenario",{fontSize:"28px"}),this.selectedImage=this.add.image(400,180,"gym").setScale(1.2),["gym","playa","jardin"].forEach((e,t)=>{const n=this.add.image(190+200*t,330,"botonSinSeleccionar").setInteractive().setScale(.6),i=this.add.text(0,0,`Escenario ${t+1}`,{fontSize:"16px",color:"#000"});o().Display.Align.In.Center(i,n),n.on("pointerover",()=>n.setTexture("botonSeleccionado")),n.on("pointerout",()=>{this.selectedScenario!==e&&n.setTexture("botonSinSeleccionar")}),n.on("pointerdown",()=>{this.selectedScenario=e,this.selectedImage.setTexture(e)}),n.on("pointerup",()=>n.setTexture("botonSinSeleccionar")),n.setName(`boton${t}`)});const e=this.add.image(700,420,"botonSinSeleccionar").setInteractive().setScale(.4),t=this.add.text(0,0,"Siguiente",{fontSize:"10px",color:"#000"});o().Display.Align.In.Center(t,e),e.on("pointerover",()=>e.setTexture("botonSeleccionado")),e.on("pointerout",()=>e.setTexture("botonSinSeleccionar")),e.on("pointerdown",()=>e.setTexture("botonSeleccionado")),e.on("pointerup",()=>this.scene.start("ModeGame_Scene")),this.add.image(30,420,"botonVolver").setInteractive().setScale(.1).on("pointerdown",()=>this.scene.start("SelecPlayer_Scene"))}}const p={type:o().AUTO,width:960,height:540,parent:"game-cointainer",physics:{default:"arcade",arcade:{gravity:{x:0,y:300},debug:!0}},dom:{createContainer:!0},scene:[n,i,r,a,s,S,c,d,l],backgroundColor:"#8675f1"};new(o().Game)(p)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxFQUFlSSxFQUFlTSxFQUFhTCxFQUFnQk0sRUFBb0JnQixHQUNwSW1CLGdCQUFnQixXQUdQLElBQUksVUFBWVgsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL2V4dGVybmFsIHZhciBcIlBoYXNlclwiIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9NZW51X1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9HYW1lX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9Db25maWd1cmF0aW9uX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9DcmVkaXRzX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9FbmRHYW1lX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9Nb2RlR2FtZV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvUGF1c2VfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL1NlbGVjdFBsYXllcl9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvU2VsZWN0U2NlbmFyaW9fU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFBoYXNlcjsiLCIvLyBQYW50YWxsYSBkZWwgTWVuw7ogUHJpbmNpcGFsXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNZW51X1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNZW51X1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBzZSBjYXJnYW4gbGFzIGltw6FnZW5lcyBkZSBsb3MgYm90b25lc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fU0VMRUNDSU9ORE9fcHJ1ZWJhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW5TZWxlY2Npb25hcicsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9TSU5fU0VMRUNDSU9OQVJfcHJ1ZWJhLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHsgICAgICAgIFxyXG4gICAgICAgIC8vIHBvc2ljaW9uZXMgYmFzZSBwYXJhIGxvcyBib3RvbmVzIGRlbCBtZW7DulxyXG4gICAgICAgIC8vIChhc8OtIHNlIHB1ZWRlIGNhbWJpYXIgZWwgdGFtYcOxbyBzaW4gcHJvYmxlbWFzKVxyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xyXG4gICAgICAgIGNvbnN0IGZpcnN0QnV0dG9uWSA9IGhlaWdodCAvIDIgLSA2MDtcclxuICAgICAgICBjb25zdCBidXR0b25TcGFjaW5nID0gNzA7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGNhbWJpYXIgcG9yIHVuYSBpbWFnZW4/XHJcbiAgICAgICAgLy8gdMOtdHVsbyBkZWwganVlZ29cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgMTAwLCAnVm9sbGV5IENsYXNoJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vLy8gQk9Uw5NOIEpVR0FSIC8vLy9cclxuICAgICAgICBjb25zdCBwbGF5QnV0dG9uID0gdGhpcy5hZGRcclxuICAgICAgICAgICAgLnNwcml0ZShjZW50ZXJYLCBmaXJzdEJ1dHRvblksICdib3RvblNpblNlbGVjY2lvbmFyJylcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgcGxheVRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDAsICdKdWdhcicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIFBoYXNlci5EaXNwbGF5LkFsaWduLkluLkNlbnRlcihwbGF5VGV4dCwgcGxheUJ1dHRvbik7XHJcblxyXG4gICAgICAgIHBsYXlCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBwbGF5QnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheUJ1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgcGxheUJ1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNpblNlbGVjY2lvbmFyJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHBsYXlCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBwbGF5QnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcGxheUJ1dHRvbi5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBhbCBzb2x0YXIgZWwgY2xpY2sgc2UgcGFzYSBhIGxhIGVzY2VuYSBkZSBzZWxlY2Npw7NuIGRlIG1vZG8gZGUganVlZ29cclxuICAgICAgICAgICAgLy8gKGxvY2FsIG8gZW4gcmVkKVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNb2RlR2FtZV9TY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vLy8vLy8vXHJcblxyXG4gICAgICAgIC8vLy8gQk9Uw5NOIENPTkZJR1VSQUNJw5NOIC8vLy9cclxuICAgICAgICBjb25zdCBjb25maWdCdXR0b24gPSB0aGlzLmFkZFxyXG4gICAgICAgICAgICAuc3ByaXRlKGNlbnRlclgsIGZpcnN0QnV0dG9uWSArIGJ1dHRvblNwYWNpbmcsICdib3RvblNpblNlbGVjY2lvbmFyJylcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgY29uZmlnVGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJ0NvbmZpZ3VyYWNpw7NuJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUGhhc2VyLkRpc3BsYXkuQWxpZ24uSW4uQ2VudGVyKGNvbmZpZ1RleHQsIGNvbmZpZ0J1dHRvbik7XHJcblxyXG4gICAgICAgIGNvbmZpZ0J1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbmZpZ0J1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNlbGVjY2lvbmFkbycpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbmZpZ0J1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgY29uZmlnQnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2luU2VsZWNjaW9uYXInKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uZmlnQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgY29uZmlnQnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uZmlnQnV0dG9uLm9uKCdwb2ludGVydXAnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHNlIHBhc2EgYSBsYSBlc2NlbmEgZGUgY29uZmlndXJhY2nDs25cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnQ29uZmlndXJhdGlvbl9TY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vLy8vLy8vXHJcblxyXG4gICAgICAgIC8vLy8gQk9Uw5NOIENSw4lESVRPUyAvLy8vXHJcbiAgICAgICAgY29uc3QgY3JlZGl0c0J1dHRvbiA9IHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5zcHJpdGUoY2VudGVyWCwgZmlyc3RCdXR0b25ZICsgYnV0dG9uU3BhY2luZyAqIDIsICdib3RvblNpblNlbGVjY2lvbmFyJylcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgY3JlZGl0c1RleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDAsICdDcsOpZGl0b3MnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcclxuICAgICAgICB9KTtcclxuICAgICAgICBQaGFzZXIuRGlzcGxheS5BbGlnbi5Jbi5DZW50ZXIoY3JlZGl0c1RleHQsIGNyZWRpdHNCdXR0b24pO1xyXG5cclxuICAgICAgICBjcmVkaXRzQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IHtcclxuICAgICAgICAgICAgY3JlZGl0c0J1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNlbGVjY2lvbmFkbycpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNyZWRpdHNCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNyZWRpdHNCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TaW5TZWxlY2Npb25hcicpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjcmVkaXRzQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgY3JlZGl0c0J1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNlbGVjY2lvbmFkbycpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjcmVkaXRzQnV0dG9uLm9uKCdwb2ludGVydXAnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHNlIHBhc2EgYSBsYSBlc2NlbmEgZGUgY3LDqWRpdG9zXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0NyZWRpdHNfU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLy8vLy8vL1xyXG4gICAgfVxyXG59XHJcbiIsIi8vUGFudGFsbGEgZGUgSnVlZ29cclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0dhbWVfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7IFxyXG5cclxuICAgIH1cclxufSIsIi8vIFBhbnRhbGxhIGRlIENvbmZpZ3VyYWNpw7NuXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0aW9uX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDb25maWd1cmF0aW9uX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL1ZPTFZFUi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGNhbWJpYXJsbz9cclxuICAgICAgICAvLyB0w610dWxvIGRlIGxhIGVzY2VuYSBkZSBjb25maWd1cmFjacOzblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC4xOCwgJ0NvbmZpZ3VyYWNpw7NuJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGhhY2VyIGxhIGZ1bmNpb25hbGlkYWQsIGFob3JhIHNvbG8gaGF5IHRleHRvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjM1LCAnQ29udHJvbGVzJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vLy8gQk9Uw5NOIFZPTFZFUiAvLy8vXHJcbiAgICAgICAgLy8gYXJyaWJhIGEgbGEgaXpxdWllcmRhXHJcbiAgICAgICAgY29uc3QgYmFja1ggPSB3aWR0aCAqIDAuMDY7XHJcbiAgICAgICAgY29uc3QgYmFja1kgPSBoZWlnaHQgKiAwLjA4O1xyXG5cclxuICAgICAgICBjb25zdCBiYWNrQnV0dG9uID0gdGhpcy5hZGRcclxuICAgICAgICAgICAgLnNwcml0ZShiYWNrWCwgYmFja1ksICdib3RvblZvbHZlcicpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjEpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGJhY2tCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyB2dWVsdmUgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCIvLyBQYW50YWxsYSBkZSBDcsOpZGl0b3NcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWRpdHNfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NyZWRpdHNfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvVk9MVkVSLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBwb3NpY2lvbmVzIGJhc2UgcGFyYSBsb3MgYm90b25lcyBkZWwgbWVuw7pcclxuICAgICAgICAvLyAoYXPDrSBzZSBwdWVkZSBjYW1iaWFyIGVsIHRhbWHDsW8gc2luIHByb2JsZW1hcylcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogY2FtYmlhciBwb3IgdW5hIGltYWdlbj9cclxuICAgICAgICAvLyB0w610dWxvIGRlIGxhIGVzY2VuYSBkZSBjcsOpZGl0b3NcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIDgwLCAnQ3LDqWRpdG9zJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IHBvbmVybG8gbcOhcyBib25pdG9cclxuICAgICAgICAvLyBtaWVtYnJvcyBkZWwgZXF1aXBvXHJcbiAgICAgICAgY29uc3Qgbm9tYnJlc0VxdWlwbyA9IFtcclxuICAgICAgICAgICAgJ0dSVVBPIDUgLSBTVU5TRVQgQVJDQURFJyxcclxuICAgICAgICAgICAgJ1NhcmEgQnVlbm8gRXN0ZWJhbicsXHJcbiAgICAgICAgICAgICdBbnRvbmlvIE1vcsOhbiBCYXJyZXJhJyxcclxuICAgICAgICAgICAgJ0NyaXN0aW5lIE5pb2thIFRld28nLFxyXG4gICAgICAgICAgICAnw4FsdmFybyBJYsOhw7FleiBNb250ZXJvJ1xyXG4gICAgICAgIF07XHJcbiAgICAgICAgLy8gc2UgbXVlc3RyYW4gbG9zIG5vbWJyZXMgY2VudHJhZG9zXHJcbiAgICAgICAgY29uc3QgaW5pY2lvWSA9IDE1MDtcclxuICAgICAgICBjb25zdCBzZXBhcmFjaW9uID0gMzA7XHJcblxyXG4gICAgICAgIG5vbWJyZXNFcXVpcG8uZm9yRWFjaCgobm9tYnJlLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGluaWNpb1kgKyBpbmRleCAqIHNlcGFyYWNpb24sIG5vbWJyZSwge1xyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vLy8gQk9Uw5NOIFZPTFZFUiAvLy8vXHJcbiAgICAgICAgLy8gYXJyaWJhIGEgbGEgaXpxdWllcmRhXHJcbiAgICAgICAgY29uc3QgYmFja1ggPSB3aWR0aCAqIDAuMDY7XHJcbiAgICAgICAgY29uc3QgYmFja1kgPSBoZWlnaHQgKiAwLjA4O1xyXG5cclxuICAgICAgICBjb25zdCBiYWNrQnV0dG9uID0gdGhpcy5hZGRcclxuICAgICAgICAgICAgLnNwcml0ZShiYWNrWCwgYmFja1ksICdib3RvblZvbHZlcicpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjEpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGJhY2tCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyB2dWVsdmUgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCIvL1BhbnRhbGxhIGRlIEZpblxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgRW5kR2FtZV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignRW5kR2FtZV9Fc2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7IFxyXG5cclxuICAgIH1cclxufSIsIi8vIFBhbnRhbGxhIGRlIE1vZG8gZGUgSnVlZ29cclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vZGVHYW1lX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNb2RlR2FtZV9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQk9SUkFSIENPTUVOVEFSSU9cclxuICAgICAgICAvLyBhaG9yYSBzZSB1dGlsaXphbiBsYXMgaW3DoWdlbmVzIGRlIGxvcyBib3RvbmVzIHJlY29ydGFkb3MgcGFyYSBldml0YXIgcHJvYmxlbWFzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9TRUxFQ0NJT05ET19wcnVlYmEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX1NJTl9TRUxFQ0NJT05BUl9wcnVlYmEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9WT0xWRVIucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoMjgwLCAxMDAsICdNb2RvIGRlIEp1ZWdvJywgeyBmb250U2l6ZTogJzMycHgnfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdG9uIExvY2FsXHJcbiAgICAgICAgY29uc3QgbG9jYWxCdXR0b24gPSB0aGlzLmFkZC5zcHJpdGUoMjUwLCAyMDAsICdib3RvblNpblNlbGVjY2lvbmFyJykuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pLnNldFNjYWxlKDAuNyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvY2FsVGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJ0xvY2FsJywgeyBmb250U2l6ZTogJzIwcHgnLCBjb2xvcjogJyMwMDAnIH0pO1xyXG4gICAgICAgIFBoYXNlci5EaXNwbGF5LkFsaWduLkluLkNlbnRlcihsb2NhbFRleHQsIGxvY2FsQnV0dG9uKTtcclxuXHJcbiAgICAgICAgbG9jYWxCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbG9jYWxCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKSk7XHJcbiAgICAgICAgbG9jYWxCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBsb2NhbEJ1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNpblNlbGVjY2lvbmFyJykpO1xyXG4gICAgICAgIGxvY2FsQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IGxvY2FsQnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJykpO1xyXG4gICAgICAgIGxvY2FsQnV0dG9uLm9uKCdwb2ludGVydXAnLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY1BsYXllcl9TY2VuZScpKTtcclxuXHJcbiAgICAgICAgLy8gQm90b24gUmVkXHJcbiAgICAgICAgY29uc3QgbmV0d29ya0J1dHRvbiA9IHRoaXMuYWRkLnNwcml0ZSg1NTAsIDIwMCwgJ2JvdG9uU2luU2VsZWNjaW9uYXInKS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSkuc2V0U2NhbGUoMC43KTtcclxuXHJcbiAgICAgICAgY29uc3QgbmV0d29ya1RleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDAsICdSZWQnLCB7IGZvbnRTaXplOiAnMjBweCcsIGNvbG9yOiAnIzAwMCcgfSk7XHJcbiAgICAgICAgUGhhc2VyLkRpc3BsYXkuQWxpZ24uSW4uQ2VudGVyKG5ldHdvcmtUZXh0LCBuZXR3b3JrQnV0dG9uKTtcclxuXHJcbiAgICAgICAgbmV0d29ya0J1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBuZXR3b3JrQnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJykpO1xyXG4gICAgICAgIG5ldHdvcmtCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBuZXR3b3JrQnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2luU2VsZWNjaW9uYXInKSk7XHJcbiAgICAgICAgbmV0d29ya0J1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiBsb2NhbEJ1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNlbGVjY2lvbmFkbycpKTtcclxuICAgICAgICBuZXR3b3JrQnV0dG9uLm9uKCdwb2ludGVydXAnLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY1BsYXllcl9TY2VuZScpKTtcclxuXHJcbiAgICAgICAgLy8vLyBCT1TDk04gVk9MVkVSIC8vLy9cclxuICAgICAgICAvLyBhcnJpYmEgYSBsYSBpenF1aWVyZGFcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3QgYmFja1ggPSB3aWR0aCAqIDAuMDY7XHJcbiAgICAgICAgY29uc3QgYmFja1kgPSBoZWlnaHQgKiAwLjA4O1xyXG5cclxuICAgICAgICBjb25zdCBiYWNrQnV0dG9uID0gdGhpcy5hZGRcclxuICAgICAgICAgICAgLnNwcml0ZShiYWNrWCwgYmFja1ksICdib3RvblZvbHZlcicpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjEpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGJhY2tCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyB2dWVsdmUgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIi8vUGFudGFsbGEgZGUgUGF1c2FcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhdXNlX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdQYXVzZV9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHsgXHJcblxyXG4gICAgfVxyXG59IiwiLy9QYW50YWxsYSBkZSBTZWxlY2Npb24gZGUganVnYWRvclxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgU2VsZWN0UGxheWVyX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdTZWxlY1BsYXllcl9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9TRUxFQ0NJT05ETy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fU0lOX1NFTEVDQ0lPTkFSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvVk9MVkVSLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BlcnNvbmFqZUEnLCAnQVNTRVRTL1BFUlNPTkFKRVMvUEVSU09OQUpFU19QT1NFL3BlcnNvbmFqZXNfYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BlcnNvbmFqZUInLCAnL0FTU0VUUy9QRVJTT05BSkVTL1BFUlNPTkFKRVNfUE9TRS9wZXJzb25hamVzX2IucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwZXJzb25hamVDJywgJ0FTU0VUUy9QRVJTT05BSkVTL1BFUlNPTkFKRVNfUE9TRS9wZXJzb25hamVfYy5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gVGV4dG8gZGVsIHBlcnNvbmFqZVxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoMTYwLCA2MCwgJ1BlcnNvbmFqZScsIHsgZm9udFNpemU6ICcyNHB4J30pO1xyXG5cclxuICAgICAgICAvLyBJbWFnZW4gZGVsIHBlcnNvbmFqZVxyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIgPSAncGVyc29uYWplQSc7XHJcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXJJbWFnZSA9IHRoaXMuYWRkLmltYWdlKDIyMCwgMjQwLCB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyKS5zZXRTY2FsZSgxLjIpO1xyXG5cclxuICAgICAgICAvLyBTZWxlY2Npb24gZGUgcGVyc29uYWplIHBlcXVlw7FvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDIxMCwgJ1NlbGVjY2lvbmEgUGVyc29uYWplOicsIHsgZm9udFNpemU6ICcxNnB4JywgY29sb3I6ICcjZmZmZmZmJyB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgcGVyc29uYWplcyA9IFsncGVyc29uYWplQScsICdwZXJzb25hamVCJywgJ3BlcnNvbmFqZUMnXTtcclxuICAgICAgICBwZXJzb25hamVzLmZvckVhY2goKG5vbWJyZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBib3RvbiA9IHRoaXMuYWRkLmltYWdlKDQ4MCArIGkgKiAxMDAsIDMxMCwgbm9tYnJlKS5zZXRJbnRlcmFjdGl2ZSgpLnNldFNjYWxlKDAuNSk7XHJcblxyXG4gICAgICAgICAgICBib3Rvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyID0gbm9tYnJlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyYWN0ZXJJbWFnZS5zZXRUZXh0dXJlKG5vbWJyZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBkZSB1c3VhcmlvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0ODAsIDYwLCAnSW50cm9kdWNlIHR1IE5vbWJyZTonLCB7IGZvbnRTaXplOiAnMTZweCd9KTtcclxuXHJcbiAgICAgICAgLy8gTm9tYnJlIGRlIHVzdWFyaW9cclxuICAgICAgICB0aGlzLm5hbWVJbnB1dCA9IHRoaXMuYWRkLmRvbSg1NzUsIDEyMCkuY3JlYXRlRnJvbUhUTUwoYFxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cInBsYXllck5hbWVcIiBcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiSW50cm9kdWNlIHR1IG5vbWJyZVwiIFxyXG4gICAgICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDogMTgwcHg7IHBhZGRpbmc6IDVweDsgZm9udC1zaXplOiAxNnB4OyBib3JkZXItcmFkaXVzOiA1cHg7XCI+XHJcbiAgICAgICAgYCk7XHJcblxyXG4gICAgICAgIC8vIEJvdG9uIFNpZ3VpZW50ZVxyXG4gICAgICAgIGNvbnN0IG5leHRCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDQyMCwgJ2JvdG9uU2luU2VsZWNjaW9uYXInKS5zZXRJbnRlcmFjdGl2ZSgpLnNldFNjYWxlKDAuNCk7XHJcbiAgICAgICAgY29uc3QgbmV4dFRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDAsICdTaWd1aWVudGUnLCB7IGZvbnRTaXplOiAnMTBweCcsIGNvbG9yOiAnIzAwMCcgfSk7XHJcbiAgICAgICAgUGhhc2VyLkRpc3BsYXkuQWxpZ24uSW4uQ2VudGVyKG5leHRUZXh0LCBuZXh0QnV0dG9uKTtcclxuXHJcbiAgICAgICAgbmV4dEJ1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBuZXh0QnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJykpO1xyXG4gICAgICAgIG5leHRCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBuZXh0QnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2luU2VsZWNjaW9uYXInKSk7XHJcbiAgICAgICAgbmV4dEJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiBuZXh0QnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJykpO1xyXG4gICAgICAgIG5leHRCdXR0b24ub24oJ3BvaW50ZXJ1cCcsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgbm9tYnJlID0gdGhpcy5uYW1lSW5wdXQubm9kZS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpLnZhbHVlO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vbWJyZSBkZSB1c3VhcmlvOlwiLCBub21icmUpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnU2VsZWN0U2NlbmFyaW9fU2NlbmUnLCB7IFxyXG4gICAgICAgICAgICAgICAgcGxheWVyTmFtZTogbm9tYnJlLFxyXG4gICAgICAgICAgICAgICAgY2hhcmFjdGVyOiB0aGlzLnNlbGVjdGVkQ2hhcmFjdGVyXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3RvbiBWb2x2ZXJcclxuICAgICAgICBjb25zdCBiYWNrQnV0dG9uID0gdGhpcy5hZGQuaW1hZ2UoMzAsIDQyMCwgJ2JvdG9uVm9sdmVyJykuc2V0SW50ZXJhY3RpdmUoKS5zZXRTY2FsZSgwLjEpO1xyXG4gICAgICAgIGJhY2tCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTW9kZUdhbWVfU2NlbmUnKSk7XHJcbiAgICB9XHJcbn0iLCIvL1BhbnRhbGxhIGRlIFNlbGVjY2lvbiBkZSBlc2NlbmFyaW9cclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdFNjZW5hcmlvX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdTZWxlY3RTY2VuYXJpb19TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9TRUxFQ0NJT05ETy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fU0lOX1NFTEVDQ0lPTkFSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvVk9MVkVSLnBuZycpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2d5bScsICdBU1NFVFMvRk9ORE9TL0dJTU5BU0lPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGxheWEnLCAnQVNTRVRTL0ZPTkRPUy9QTEFZQS5wbmcnKVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnamFyZGluJywgJ0FTU0VUUy9GT05ET1MvSkFSRElOLnBuZycpXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJOYW1lID0gZGF0YS5wbGF5ZXJOYW1lO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXIgPSBkYXRhLmNoYXJhY3RlcjtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCgyMzAsIDEwLCAnU2VsZWNjaW9uYSBFc2NlbmFyaW8nLCB7IGZvbnRTaXplOiAnMjhweCd9KTtcclxuXHJcbiAgICAgICAgLy8gSW1hZ2VuIGRlbCBlc2NlbmFyaW8gc2VsZWNjaW9uYWRvXHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEltYWdlID0gdGhpcy5hZGQuaW1hZ2UoNDAwLCAxODAsICdneW0nKS5zZXRTY2FsZSgxLjIpO1xyXG5cclxuICAgICAgICAvLyBFc2NlbmFyaW9zXHJcbiAgICAgICAgY29uc3QgZXNjZW5hcmlvcyA9IFsnZ3ltJywgJ3BsYXlhJywgJ2phcmRpbiddO1xyXG5cclxuICAgICAgICBlc2NlbmFyaW9zLmZvckVhY2goKG5vbWJyZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBib3RvbiA9IHRoaXMuYWRkLmltYWdlKDE5MCArIGkgKiAyMDAsIDMzMCwgJ2JvdG9uU2luU2VsZWNjaW9uYXInKS5zZXRJbnRlcmFjdGl2ZSgpLnNldFNjYWxlKDAuNik7XHJcbiAgICAgICAgICAgIGNvbnN0IHRleHRvID0gdGhpcy5hZGQudGV4dCgwLCAwLCBgRXNjZW5hcmlvICR7aSArIDF9YCwgeyBmb250U2l6ZTogJzE2cHgnLCBjb2xvcjogJyMwMDAnIH0pO1xyXG4gICAgICAgICAgICBQaGFzZXIuRGlzcGxheS5BbGlnbi5Jbi5DZW50ZXIodGV4dG8sIGJvdG9uKTtcclxuXHJcbiAgICAgICAgICAgIGJvdG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJvdG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJykpO1xyXG4gICAgICAgICAgICBib3Rvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkU2NlbmFyaW8gIT09IG5vbWJyZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJvdG9uLnNldFRleHR1cmUoJ2JvdG9uU2luU2VsZWNjaW9uYXInKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGJvdG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyA9IG5vbWJyZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbWFnZS5zZXRUZXh0dXJlKG5vbWJyZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBib3Rvbi5vbigncG9pbnRlcnVwJywgKCkgPT4gYm90b24uc2V0VGV4dHVyZSgnYm90b25TaW5TZWxlY2Npb25hcicpKTtcclxuICAgICAgICAgICAgYm90b24uc2V0TmFtZShgYm90b24ke2l9YCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdG9uIFNpZ3VpZW50ZVxyXG4gICAgICAgIGNvbnN0IG5leHRCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSg3MDAsIDQyMCwgJ2JvdG9uU2luU2VsZWNjaW9uYXInKS5zZXRJbnRlcmFjdGl2ZSgpLnNldFNjYWxlKDAuNCk7XHJcbiAgICAgICAgY29uc3QgbmV4dFRleHQgPSB0aGlzLmFkZC50ZXh0KDAsIDAsICdTaWd1aWVudGUnLCB7IGZvbnRTaXplOiAnMTBweCcsIGNvbG9yOiAnIzAwMCcgfSk7XHJcbiAgICAgICAgUGhhc2VyLkRpc3BsYXkuQWxpZ24uSW4uQ2VudGVyKG5leHRUZXh0LCBuZXh0QnV0dG9uKTtcclxuXHJcbiAgICAgICAgbmV4dEJ1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBuZXh0QnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJykpO1xyXG4gICAgICAgIG5leHRCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBuZXh0QnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2luU2VsZWNjaW9uYXInKSk7XHJcbiAgICAgICAgbmV4dEJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiBuZXh0QnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJykpO1xyXG4gICAgICAgIG5leHRCdXR0b24ub24oJ3BvaW50ZXJ1cCcsICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01vZGVHYW1lX1NjZW5lJykpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEJvdG9uIFZvbHZlclxyXG4gICAgICAgIGNvbnN0IGJhY2tCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSgzMCwgNDIwLCAnYm90b25Wb2x2ZXInKS5zZXRJbnRlcmFjdGl2ZSgpLnNldFNjYWxlKDAuMSk7XHJcbiAgICAgICAgYmFja0J1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY1BsYXllcl9TY2VuZScpKTtcclxuICAgIH1cclxufSIsIi8vIEJhc2UgZGVsIGp1ZWdvIHBhcmEgbGEgZXN0cnVjdHVyYSB5IHRlbmVyIGFjY2VzbyBhIHRvZG9zIGxvcyBhcmNoaXZvc1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgTWVudV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9NZW51X1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IEdhbWVfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvR2FtZV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBDb25maWd1cmF0aW9uX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0NvbmZpZ3VyYXRpb25fU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgQ3JlZGl0c19TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9DcmVkaXRzX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IEVuZEdhbWVfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvRW5kR2FtZV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBNb2RlR2FtZV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9Nb2RlR2FtZV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBQYXVzZV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9QYXVzZV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBTZWxlY3RQbGF5ZXJfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvU2VsZWN0UGxheWVyX1NjZW5lLmpzXCJcclxuaW1wb3J0IHsgU2VsZWN0U2NlbmFyaW9fU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvU2VsZWN0U2NlbmFyaW9fU2NlbmUuanNcIjtcclxuXHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICAgIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gICAgd2lkdGg6IDk2MCxcclxuICAgIGhlaWdodDogNTQwLFxyXG4gICAgcGFyZW50OiAnZ2FtZS1jb2ludGFpbmVyJyxcclxuICAgIHBoeXNpY3M6IHtcclxuICAgICAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgICAgICBhcmNhZGU6IHtcclxuICAgICAgICAgICAgZ3Jhdml0eToge3g6IDAsIHk6IDMwMH0sXHJcbiAgICAgICAgICAgIGRlYnVnOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRvbToge1xyXG4gICAgICAgIGNyZWF0ZUNvbnRhaW5lcjogdHJ1ZVxyXG4gICAgfSxcclxuICAgIHNjZW5lOiBbTWVudV9TY2VuZSwgR2FtZV9TY2VuZSwgQ29uZmlndXJhdGlvbl9TY2VuZSwgQ3JlZGl0c19TY2VuZSwgRW5kR2FtZV9TY2VuZSwgUGF1c2VfU2NlbmUsIE1vZGVHYW1lX1NjZW5lLCBTZWxlY3RQbGF5ZXJfU2NlbmUsIFNlbGVjdFNjZW5hcmlvX1NjZW5lXSxcclxuICAgIGJhY2tncm91bmRDb2xvcjonIzg2NzVmMScsXHJcbn1cclxuXHJcbmNvbnN0IGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoY29uZmlnKTsiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZSIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJQaGFzZXIiLCJNZW51X1NjZW5lIiwiY29uc3RydWN0b3IiLCJzdXBlciIsInByZWxvYWQiLCJ0aGlzIiwibG9hZCIsImltYWdlIiwiY3JlYXRlIiwid2lkdGgiLCJoZWlnaHQiLCJzY2FsZSIsImNlbnRlclgiLCJmaXJzdEJ1dHRvblkiLCJhZGQiLCJ0ZXh0IiwiZm9udFNpemUiLCJjb2xvciIsInNldE9yaWdpbiIsInBsYXlCdXR0b24iLCJzcHJpdGUiLCJzZXRTY2FsZSIsInNldEludGVyYWN0aXZlIiwidXNlSGFuZEN1cnNvciIsInBsYXlUZXh0IiwiQWxpZ24iLCJJbiIsIkNlbnRlciIsIm9uIiwic2V0VGV4dHVyZSIsInNjZW5lIiwic3RhcnQiLCJjb25maWdCdXR0b24iLCJjb25maWdUZXh0IiwiY3JlZGl0c0J1dHRvbiIsImJ1dHRvblNwYWNpbmciLCJjcmVkaXRzVGV4dCIsIkdhbWVfU2NlbmUiLCJDb25maWd1cmF0aW9uX1NjZW5lIiwiYmFja1giLCJiYWNrWSIsIkNyZWRpdHNfU2NlbmUiLCJmb3JFYWNoIiwibm9tYnJlIiwiaW5kZXgiLCJFbmRHYW1lX1NjZW5lIiwiTW9kZUdhbWVfU2NlbmUiLCJsb2NhbEJ1dHRvbiIsImxvY2FsVGV4dCIsIm5ldHdvcmtCdXR0b24iLCJuZXR3b3JrVGV4dCIsIlBhdXNlX1NjZW5lIiwiU2VsZWN0UGxheWVyX1NjZW5lIiwic2VsZWN0ZWRDaGFyYWN0ZXIiLCJjaGFyYWN0ZXJJbWFnZSIsImkiLCJuYW1lSW5wdXQiLCJkb20iLCJjcmVhdGVGcm9tSFRNTCIsIm5leHRCdXR0b24iLCJuZXh0VGV4dCIsIm5vZGUiLCJxdWVyeVNlbGVjdG9yIiwidmFsdWUiLCJjb25zb2xlIiwibG9nIiwicGxheWVyTmFtZSIsImNoYXJhY3RlciIsIlNlbGVjdFNjZW5hcmlvX1NjZW5lIiwiaW5pdCIsImRhdGEiLCJzZWxlY3RlZEltYWdlIiwiYm90b24iLCJ0ZXh0byIsInNlbGVjdGVkU2NlbmFyaW8iLCJzZXROYW1lIiwiY29uZmlnIiwidHlwZSIsInBhcmVudCIsInBoeXNpY3MiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZ3Jhdml0eSIsIngiLCJ5IiwiZGVidWciLCJjcmVhdGVDb250YWluZXIiLCJiYWNrZ3JvdW5kQ29sb3IiXSwic291cmNlUm9vdCI6IiJ9