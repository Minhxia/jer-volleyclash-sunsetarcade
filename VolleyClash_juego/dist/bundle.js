(()=>{"use strict";var e={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},d:(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var i=e.n(t);const s="sfxVolume",a="musicVolume",r="globalVolume",o="volume";function n(e,t){const s=Number.parseFloat(e??String(t));return Number.isFinite(s)?i().Math.Clamp(s,0,1):t}function l(e,t,s=1){const a=localStorage.getItem(e);if(null!==a)return n(a,s);const r=t?localStorage.getItem(t):null;return null!==r?n(r,s):i().Math.Clamp(s,0,1)}function h(e=1){return l(s,o,e)}function c(e=1){return l(a,o,e)}function d(e=1){return l(r,null,e)}function p(e,t={}){let s=d(),a=h(),r=c();"number"==typeof t?(a=i().Math.Clamp(Number(t),0,1),r=a):(a=t.sfxVolume??a,r=t.musicVolume??r),e.sound.volume=s;const o=e.game.globals.music;o&&"setVolume"in o&&o.setVolume(r)}function S(e,t="sonidoClick"){e.sound.play(t,{volume:h()})}function m(e,{x:t,y:i,label:s,onClick:a,textureNormal:r="botonSinSeleccionar",textureHover:o="botonSeleccionado",scale:n=2,textStyle:l={},clickSoundKey:h="sonidoClick"}){const c=e.add.sprite(t,i,r).setScale(n).setInteractive({useHandCursor:!0}),d=e.add.text(t,i,s,l).setOrigin(.5),p=()=>c.setTexture(r),m=()=>c.setTexture(o);return c.on("pointerover",m),c.on("pointerout",p),c.on("pointerdown",()=>{m(),S(e,h)}),c.on("pointerup",e=>{c.getBounds().contains(e.x,e.y)?(m(),a?.()):p()}),{button:c,text:d}}function u(e,t){const{x:i,y:s,texture:a,onClick:r,scale:o=1,hoverScale:n=1.1,clickSoundKey:l="sonidoClick"}=t,h=e.add.sprite(i,s,a).setScale(o).setInteractive({useHandCursor:!0});return h.on("pointerover",()=>h.setScale(o*n)),h.on("pointerout",()=>h.setScale(o)),h.on("pointerdown",()=>{S(e,l)}),h.on("pointerup",e=>{h.getBounds().contains(e.x,e.y)&&r()}),h}class g extends i().Scene{constructor(){super("Menu_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.image("fondoMenuPrincipal","ASSETS/FONDOS/MENU_PRINCIPAL.png"),this.load.image("logoEmpresa","ASSETS/LOGO/logo_empresa.png"),this.load.audio("sonidoGeneral","ASSETS/SONIDO/SONIDO1.mp3"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){p(this),function(e,t,{loop:i=!0}={}){const s=c();let a=e.game.globals.music;a||(a=e.sound.add(t,{loop:i,volume:s}),e.game.globals.music=a),a&&"setVolume"in a&&a.setVolume(s);const r=()=>{if(a&&"play"in a&&(!("isPlaying"in a)||!a.isPlaying))try{a.play()}catch(e){console.warn("[Audio.js] No se ha podido reproducir todav?a la m?sica.",e)}};r(),e.input.once("pointerdown",async()=>{const t=e.sound.context;if(t&&"suspended"===t.state)try{await t.resume()}catch{}r()})}(this,"sonidoGeneral",{loop:!0});const e=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"},{width:t,height:i}=this.scale,s=t/2,a=s+s/2;this.add.image(0,0,"fondoMenuPrincipal").setOrigin(0).setDepth(-1).setDisplaySize(t,i),this.add.text(a,115,"Volley Clash",{...e,fontSize:"68px",color:"#ffffff"}).setOrigin(.5);const r=i/2-63,o={...e,fontSize:"28px",color:"#000000"};m(this,{x:a,y:r,label:"Jugar",onClick:()=>this.scene.start("ModeGame_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),m(this,{x:a,y:r+70,label:"Tutorial",onClick:()=>this.scene.start("Tutorial_Scene",{returnScene:"Menu_Scene"}),textStyle:o,clickSoundKey:"sonidoClick"}),m(this,{x:a,y:r+140,label:"Configuración",onClick:()=>this.scene.start("Configuration_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),m(this,{x:a,y:r+210,label:"Créditos",onClick:()=>this.scene.start("Credits_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),m(this,{x:t-115,y:40,label:"Cerrar Sesión",onClick:()=>{this.handleLogout()},textStyle:o,clickSoundKey:"sonidoClick"}),this.add.image(this.scale.width-20,this.scale.height-20,"logoEmpresa").setScale(.42).setOrigin(1,1)}async handleLogout(){const e=this.registry.get("username");await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})}),localStorage.removeItem("voley_username"),localStorage.removeItem("voley_session_token"),this.registry.remove("username"),this.registry.remove("userToken"),this.registry.remove("isHost"),this.scene.start("Logging_Scene")}}const f={velocidad:4e3,ralentizar:4e3,paralizar:2500,por2:4e3,por3:4e3};class y{constructor(e,t,i,s,a){this.scene=e,this.id=t,this.characterType=a,this.baseMoveSpeed=250,this.moveSpeed=this.baseMoveSpeed,this.jumpSpeed=275,this.activePowerUps={},this.isParalyzed=!1,this.paralysisTween=null,this.speedEffectActive=!1,this.slowEffectActive=!1,this.scoreMultiplier=1,this.multiplierText=this.scene.add.text(i,s-50,"",{fontFamily:"Arial",fontSize:"20px",color:"#ffffff",stroke:"#000000",strokeThickness:4}).setOrigin(.5,1).setDepth(20).setVisible(!1),this.powerUpInventory=[],this.isReceiving=!1,this.boundsLeft=0,this.boundsRight=960,this.boundsTop=0,this.boundsBottom=540;const r={characterA:{textureKey:"charA_move",startFrame:0,idleLeftAnim:"charA_idleLeft",idleRightAnim:"charA_idleRight",runLeftAnim:"charA_runLeft",runRightAnim:"charA_runRight",jumpLeftAnim:"charA_jumpLeft",jumpRightAnim:"charA_jumpRight",receiveLeftAnim:"charA_receiveLeft",receiveRightAnim:"charA_receiveRight"},characterB:{textureKey:"charB_move",startFrame:0,idleLeftAnim:"charB_idleLeft",idleRightAnim:"charB_idleRight",runLeftAnim:"charB_runLeft",runRightAnim:"charB_runRight",jumpLeftAnim:"charB_jumpLeft",jumpRightAnim:"charB_jumpRight",receiveLeftAnim:"charB_receiveLeft",receiveRightAnim:"charB_receiveRight"},characterC:{textureKey:"charC_move",startFrame:0,idleLeftAnim:"charC_idleLeft",idleRightAnim:"charC_idleRight",runLeftAnim:"charC_runLeft",runRightAnim:"charC_runRight",jumpLeftAnim:"charC_jumpLeft",jumpRightAnim:"charC_jumpRight",receiveLeftAnim:"charC_receiveLeft",receiveRightAnim:"charC_receiveRight"}};this.config=r[a]||r.characterA,this.sprite=this.scene.physics.add.sprite(i,s,this.config.textureKey,this.config.startFrame),this.sprite.setScale(2.5),this.sprite.body.setSize(.9*this.sprite.width,.9*this.sprite.height,!0),this.sprite.setData("player",this),this.facing="right",this.isOnGround=!1,this.isJumping=!1,this.jumpStartTime=0,this.sprite.on("animationcomplete",e=>{try{e.key!==this.config.receiveLeftAnim&&e.key!==this.config.receiveRightAnim||(this.isReceiving=!1)}catch(t){console.error(`Animation complete handler error for ${e.key}:`,t)}})}isGrounded(){const e=this.sprite.body;return!!e&&(e.blocked.down||e.touching.down)}isNearGround(e=12){const t=this.sprite.body;if(!t)return!1;if("number"!=typeof this.scene.groundY)return!1;const i=t.y+t.height;return Math.abs(i-this.scene.groundY)<=e}moveLeft(){this.isParalyzed||this.isReceiving||(this.sprite.setVelocityX(-this.moveSpeed),this.facing="left",this.playAnimation(this.config.runLeftAnim))}moveRight(){this.isParalyzed||this.isReceiving||(this.sprite.setVelocityX(this.moveSpeed),this.facing="right",this.playAnimation(this.config.runRightAnim))}jumpLeft(){this.isParalyzed||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!1,this.isJumping=!0,this.jumpStartTime=this.scene.time.now,this.sprite.setVelocityY(-this.jumpSpeed),this.facing="left",this.playAnimation(this.config.jumpLeftAnim),this.scene?.playSfx?.(this.scene?.sfx?.jump))}jumpRight(){this.isParalyzed||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!1,this.isJumping=!0,this.jumpStartTime=this.scene.time.now,this.sprite.setVelocityY(-this.jumpSpeed),this.facing="right",this.playAnimation(this.config.jumpRightAnim),this.scene?.playSfx?.(this.scene?.sfx?.jump))}receiveLeft(){this.isParalyzed||this.isReceiving||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!0,this.sprite.setVelocityX(0),this.facing="left",this.playAnimation(this.config.receiveLeftAnim))}receiveRight(){this.isParalyzed||this.isReceiving||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!0,this.sprite.setVelocityX(0),this.facing="right",this.playAnimation(this.config.receiveRightAnim))}idleLeft(){this.isReceiving||(this.sprite.setVelocityX(0),this.facing="left",this.playAnimation(this.config.idleLeftAnim))}idleRight(){this.isReceiving||(this.sprite.setVelocityX(0),this.facing="right",this.playAnimation(this.config.idleRightAnim))}setBounds(e,t,i,s){this.boundsLeft=e,this.boundsRight=t,this.boundsTop=i,this.boundsBottom=s}clampWithinBounds(){const e=this.sprite.width/2;this.sprite.x-e<this.boundsLeft&&(this.sprite.x=this.boundsLeft+e,this.sprite.setVelocityX(0)),this.sprite.x+e>this.boundsRight&&(this.sprite.x=this.boundsRight-e,this.sprite.setVelocityX(0))}setPosition(e,t){this.sprite&&(this.sprite.setPosition(e,t),this.sprite.setVelocity(0,0),this.updateMultiplierTextPosition())}updateMultiplierTextPosition(){if(!this.multiplierText||!this.sprite)return;const e=.6*(this.sprite.displayHeight||this.sprite.height||40);this.multiplierText.setPosition(this.sprite.x,this.sprite.y-e)}playAnimation(e){if(!e)return;if(!this.sprite.anims)return;if(this.isJumping&&e!==this.config.jumpLeftAnim&&e!==this.config.jumpRightAnim)return;const t=this.sprite.anims.currentAnim;this.sprite.anims.isPlaying&&t&&t.key===e||this.sprite.anims.play(e,!0)}update(){if(this.sprite.body){const e=this.isOnGround;this.isOnGround=this.isGrounded();const t=this.sprite.anims.currentAnim,i=t?t.key:null;this.isParalyzed&&this.sprite.setVelocityX(0),this.isReceiving&&i!==this.config.receiveLeftAnim&&i!==this.config.receiveRightAnim&&(this.isReceiving=!1),this.isJumping&&i&&i!==this.config.jumpLeftAnim&&i!==this.config.jumpRightAnim&&(this.isJumping=!1),this.isJumping&&this.scene.time.now-this.jumpStartTime>1500&&(this.isJumping=!1),this.isJumping&&!e&&this.isOnGround&&(this.isJumping=!1,"left"===this.facing?this.idleLeft():this.idleRight())}this.clampWithinBounds(),this.updateMultiplierTextPosition()}applyPowerUp(e){return!(this.powerUpInventory.length>=2||(this.powerUpInventory.push(e),0))}useNextPowerUp(){if(0===this.powerUpInventory.length)return;const e=this.powerUpInventory.shift();this.activatePowerUp(e)}activatePowerUp(e){switch(e){case"velocidad":this.applyOrRefreshTimedEffect("velocidad",f.velocidad);break;case"ralentizar":{const e=this.getOpponent();e&&e.applyOrRefreshTimedEffect("ralentizar",f.ralentizar);break}case"paralizar":{const e=this.getOpponent();e&&e.applyOrRefreshTimedEffect("paralizar",f.paralizar);break}case"por2":case"por3":this.applyOrRefreshTimedEffect(e,f[e])}}updatePowerUps(){const e=this.scene.time.now;let t=!1,i=!1;for(const s in this.activePowerUps)if(!(e<=this.activePowerUps[s]))switch(delete this.activePowerUps[s],s){case"velocidad":this.setSpeedEffect(!1),t=!0;break;case"ralentizar":this.setSlowEffect(!1),t=!0;break;case"paralizar":this.setParalyzed(!1);break;case"por2":case"por3":i=!0}t&&this.recalculateMoveSpeed(),i&&this.recalculateScoreEffect()}setParalyzed(e){this.isParalyzed=e,e?(this.sprite.setTint(16733525),this.sprite.setAlpha(1),this.paralysisTween&&(this.paralysisTween.stop(),this.paralysisTween=null),this.paralysisTween=this.scene.tweens.add({targets:this.sprite,alpha:.3,yoyo:!0,duration:200,repeat:-1}),this.sprite.setVelocityX(0)):(this.sprite.setAlpha(1),this.paralysisTween&&(this.paralysisTween.stop(),this.paralysisTween=null),this.refreshPowerUpVisuals())}setSpeedEffect(e){this.speedEffectActive=e,this.refreshPowerUpVisuals()}setSlowEffect(e){this.slowEffectActive=e,this.refreshPowerUpVisuals()}recalculateMoveSpeed(){let e=1;this.activePowerUps.velocidad&&(e*=1.5),this.activePowerUps.ralentizar&&(e*=.5),this.moveSpeed=this.baseMoveSpeed*e}recalculateScoreEffect(){let e=1;this.activePowerUps.por2&&(e=Math.max(e,2)),this.activePowerUps.por3&&(e=Math.max(e,3)),this.scoreMultiplier=e,this.multiplierText&&(this.scoreMultiplier>1?(this.multiplierText.setText("x"+this.scoreMultiplier),this.multiplierText.setVisible(!0)):this.multiplierText.setVisible(!1)),this.refreshPowerUpVisuals()}applyOrRefreshTimedEffect(e,t){const i=this.scene.time.now;this.activePowerUps[e]=i+t,"velocidad"===e&&this.setSpeedEffect(!0),"ralentizar"===e&&this.setSlowEffect(!0),"paralizar"===e&&this.setParalyzed(!0),"velocidad"!==e&&"ralentizar"!==e||this.recalculateMoveSpeed(),"por2"!==e&&"por3"!==e||this.recalculateScoreEffect()}refreshPowerUpVisuals(){this.isParalyzed||(this.slowEffectActive?this.sprite.setTint(5592575):this.speedEffectActive?this.sprite.setTint(16747520):this.scoreMultiplier>1?this.sprite.setTint(3329330):this.sprite.clearTint())}getOpponent(){return this.scene.players?Array.from(this.scene.players.values()).find(e=>e!==this):null}}class x{constructor(e,t){this.player=e,this.powerUpType=t,this.stored=!1}execute(){return this.stored=this.player.applyPowerUp(this.powerUpType),this.stored}}class T{constructor(e,t,i,s){this.scene=e,this.type=s,this.isCollected=!1,this._destroyed=!1,this._cooldownUntil=0,this.fadeStart=3e3,this.lifetime=5e3,this._overlaps=[],this.fadeTween=null,this._lifetimeTimer=null,this.sprite=e.physics.add.staticImage(t,i,s).setScale(1.2).setInteractive(),this.sprite.refreshBody&&this.sprite.refreshBody();const a=Math.max(0,Math.min(this.fadeStart,this.lifetime)),r=Math.max(0,this.lifetime-a);r>0&&(this.fadeTween=e.tweens.add({targets:this.sprite,alpha:0,delay:a,duration:r}));const o=e.players;o&&"function"==typeof o.forEach&&o.forEach(t=>{if(!t?.sprite)return;const i=e.physics.add.overlap(t.sprite,this.sprite,()=>this.collect(t),null,this);this._overlaps.push(i)}),this._lifetimeTimer=e.time.delayedCall(this.lifetime,()=>{this.destroy()})}collect(e){if(console.log("[PowerUp] overlap con",e.id,"tipo",this.type),this._destroyed)return;if(this.isCollected)return;const t=this.scene.time.now;if(this._cooldownUntil&&t<this._cooldownUntil)return;this.isCollected=!0;const i=new x(e,this.type);if(this.scene.commandProcessor.process(i),!i.stored)return this.isCollected=!1,void(this._cooldownUntil=t+300);this.destroy(),this.scene.updatePlayerInventoryUI?.(e)}destroy(){if(!this._destroyed){if(this._destroyed=!0,Array.isArray(this._overlaps)&&(this._overlaps.forEach(e=>{try{e.destroy()}catch{}}),this._overlaps=[]),this.fadeTween){try{this.fadeTween.stop()}catch{}this.fadeTween=null}if(this._lifetimeTimer&&(this._lifetimeTimer.remove(!1),this._lifetimeTimer=null),this.sprite){try{this.sprite.destroy()}catch{}this.sprite=null}Array.isArray(this.scene.powerUps)&&(this.scene.powerUps=this.scene.powerUps.filter(e=>e!==this))}}}class O{constructor(e,t,i){this.scene=e,this.players=null,this.commandProcessor=null,this.sprite=e.physics.add.sprite(t,i,"ball"),this.sprite.setScale(1),this.sprite.setBounce(.8),this.sprite.setCollideWorldBounds(!0),this.sprite.setData("ball",this),this.lastTouchedBy=null,this.touchCount=0,this.courtSide="left",this.isBallLive=!0,this.netX=480,this.lastHitTime=0,this.lastHitPlayerId=null}_getRandomFactor(e=.95,t=1.05){return e+(t-e)*Math.random()}hit(e,t,i,s=!1){if(!this.isBallLive)return;const a=this.scene.time.now;if(this.lastHitPlayerId===e.id&&a-this.lastHitTime<120)return;if(this.lastHitPlayerId=e.id,this.lastHitTime=a,this.lastTouchedBy===e.id?this.touchCount++:(this.touchCount=1,this.lastTouchedBy=e.id),this.touchCount>3)return void this.onFalta("toqueExcedido",e);let r,o;if(s?this.scene?.playSfx?.(this.scene?.sfx?.receive):i&&this.scene?.playSfx?.(this.scene?.sfx?.spike),s){const e=160,i=-310,s=this._getRandomFactor();r="left"===t?-e*s:e*s,o=i*this._getRandomFactor()}else if(i){const e=220,i=-140,s=this._getRandomFactor();r="left"===t?-e*s:e*s,o=i*this._getRandomFactor()}else{const e=180;r="left"===t?-e:e,o=-100}this.sprite.setVelocity(r,o),r>0?this.courtSide="right":r<0&&(this.courtSide="left")}crossNet(){this.touchCount=0,this.lastTouchedBy=null,this.courtSide="left"===this.courtSide?"right":"left"}onGrounded(){if(!this.isBallLive)return;const e=this.sprite.x<this.netX,t=this.sprite.x>this.netX;e?(this.onRallyEnd("player2"),this.resetRally("player2")):t&&(this.onRallyEnd("player1"),this.resetRally("player1"))}onFalta(e,t){if(!this.isBallLive)return;const i="player1"===t.id?"player2":"player1";this.onRallyEnd(i),this.resetRally(i)}onRallyEnd(e){this.isBallLive=!1,this.scene.events.emit("rallyConcluded",{scoringPlayerId:e,touchCount:this.touchCount,lastTouchedBy:this.lastTouchedBy})}_getSubtleNudge(e,t,i){const s=12*(Math.random()<.5?-1:1);return{spawnX:Math.max(t,Math.min(i-t,e+s)),velocityX:s}}setServePosition(e){const t=this.scene.worldWidth??this.scene.scale?.width??2*this.netX,i=(e,t,i)=>Math.max(t,Math.min(i,e));let s=this.netX,a=0;if("player1"===e||"player2"===e){const a=this.scene.players?.get?this.scene.players.get(e):null;s=a?.sprite?"player1"===e?i(a.sprite.x,60,this.netX-60):i(a.sprite.x,this.netX+60,t-60):"player1"===e?this.netX-100:this.netX+100}else{const e=this._getSubtleNudge(s,60,t);s=e.spawnX,a=e.velocityX}this.sprite.setPosition(s,100),this.sprite.setVelocity(a,0)}resetRally(e){this.isBallLive=!0,this.lastTouchedBy=null,this.touchCount=0,this.setServePosition(e),this.lastHitTime=0,this.lastHitPlayerId=null}update(){this.isBallLive&&(this.sprite.x<this.netX-20?this.courtSide="left":this.sprite.x>this.netX+20&&(this.courtSide="right"))}}class E{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class A{execute(){}serialize(){}getPlayer(){}}class b extends A{constructor(e,t){super(),this.player=e,this.direction=t}execute(){switch(this.direction){case"left":this.player.moveLeft();break;case"right":this.player.moveRight();break;case"jumpLeft":this.player.jumpLeft();break;case"jumpRight":this.player.jumpRight();break;case"receiveLeft":this.player.receiveLeft();break;case"receiveRight":this.player.receiveRight();break;case"idleLeft":this.player.idleLeft();break;default:this.player.idleRight()}}getPlayer(){return this.player.id}serialize(){return{type:"MovePlayerCommand",playerId:this.player.id,direction:this.direction}}}class _ extends i().Scene{tiempoTotal=60;tiempoRestante=this.tiempoTotal;timerText;timerEvent;constructor(){super("Game_Scene")}init(e){this.players=new Map,this.inputMappings=[],this.commandProcessor=new E,this.player1=e.player1,this.player2=e.player2,this.selectedScenario=e.selectedScenario,this.ball=null,this.scoreP1=0,this.scoreP2=0,this.setsP1=0,this.setsP2=0,this.maxSets=3,this.currentSet=1,this.isGoldenPoint=!1}preload(){this.load.spritesheet("charA_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_A/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charA_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_A/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.spritesheet("charB_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_B/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charB_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_B/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.spritesheet("charC_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_C/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charC_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_C/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.image("Gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("Playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("Jardin","ASSETS/FONDOS/JARDIN.png"),this.load.image("por2","ASSETS/ITEMS/POWER UPS/MULTIPLICADOR 2.png"),this.load.image("por3","ASSETS/ITEMS/POWER UPS/MULTIPLICADOR 3.png"),this.load.image("paralizar","ASSETS/ITEMS/POWER UPS/PARALIZADO.png"),this.load.image("ralentizar","ASSETS/ITEMS/POWER UPS/RELENTIZAR.png"),this.load.image("velocidad","ASSETS/ITEMS/POWER UPS/VELOCIDAD.png"),this.load.image("marcoPowerUp","ASSETS/JUEGO/Base_powerUp.png"),this.load.image("ball","ASSETS/ITEMS/PELOTAS/P_NORMAL.png"),this.load.image("red","ASSETS/JUEGO/RED.png"),this.load.image("reloj","ASSETS/JUEGO/TIMER.png"),this.load.image("marcoGeneral","ASSETS/JUEGO/MARCADOR_SET.png"),this.load.audio("sfx_silbato","ASSETS/SONIDO/Silbato_inicio_partido_1p4s.mp3"),this.load.audio("sfx_remate","ASSETS/SONIDO/Toque_pelota_remate_03s.mp3"),this.load.audio("sfx_recepcion","ASSETS/SONIDO/Toque_pelota_recepcion.mp3"),this.load.audio("sfx_salto","ASSETS/SONIDO/SonidoSalto_1p.mp3"),this.load.audio("sfx_punto","ASSETS/SONIDO/SonidoPunto.mp3")}create(){const{width:e,height:t}=this.scale;this.worldWidth=e,this.worldHeight=t;const i=this.game.globals.defaultTextStyle;this.sfx={whistle:"sfx_silbato",spike:"sfx_remate",receive:"sfx_recepcion",jump:"sfx_salto",point:"sfx_punto"},this.playSfx(this.sfx.whistle),this.timerText=this.add.text(this.scale.width/2,30,"",{...i,fontSize:"32px",color:"#ffffff"}).setOrigin(.5,0).setScrollFactor(0).setDepth(9999),this.timerIcon=this.add.image(this.scale.width/2,45,"reloj").setOrigin(.5).setScale(2).setScrollFactor(0).setDepth(9e3),this.setFrame=this.add.image(this.scale.width/2,120,"marcoGeneral").setOrigin(.5).setScale(1).setDepth(9998),this.setText=this.add.text(this.scale.width/2,120,`SET ${this.currentSet}`,{...i,fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setDepth(9999);const s=this.setFrame.displayWidth,a=this.setFrame.displayHeight,r=this.setFrame.y+Math.round(a/2)+13,o=Math.round(.22*s);this.setScoreFrameLeft=this.add.image(this.scale.width/2-o,r,"marcoGeneral").setOrigin(.5).setScale(.4,.38).setDepth(9998),this.setScoreFrameRight=this.add.image(this.scale.width/2+o,r,"marcoGeneral").setOrigin(.5).setScale(.4,.38).setDepth(9998),this.setScoreLeft=this.add.text(this.scale.width/2-o,r,`${this.setsP1}`,{...i,fontSize:"28px",color:"#ffffff"}).setOrigin(.5).setDepth(9999),this.setScoreRight=this.add.text(this.scale.width/2+o,r,`${this.setsP2}`,{...i,fontSize:"28px",color:"#ffffff"}).setOrigin(.5).setDepth(9999),this.setWinnerText=this.add.text(this.scale.width/2,205,"",{...i,fontSize:"28px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5).setDepth(9999).setVisible(!1),this.timerEvent=this.time.addEvent({delay:1e3,callback:this.updateTimer,callbackScope:this,loop:!0}),this.updateTimer(),this.add.image(e/2,t/2,this.selectedScenario).setOrigin(.5).setDisplaySize(e,t).setDepth(-1);const n=this.physics.add.staticSprite(e/2,t-160,"red").setScale(.6),l=this.textures.get("red").getSourceImage();n.body.setSize(.5*l.width,.5*l.height),n.body.setOffset(-n.body.width/2,-n.body.height/2),n.body.updateFromGameObject(),this.red=n,this._createAnimations(),this.pointsLeft=0,this.pointsRight=0,this.scoreFrameLeft=this.add.image(200,50,"marcoGeneral").setScale(.8,.55).setOrigin(.5),this.scoreFrameRight=this.add.image(this.worldWidth-200,50,"marcoGeneral").setScale(.8,.55).setOrigin(.5),this.scoreLeft=this.add.text(200,45,"0",{...i,fontSize:"40px",color:"#ffffffff"}).setOrigin(.5).setDepth(9999),this.rightScore=this.add.text(this.worldWidth-200,45,"0",{...i,fontSize:"40px",color:"#ffffffff"}).setOrigin(.5).setDepth(9999),this.groundHeight=20,this.groundY=this.worldHeight-90;const h=this.add.rectangle(this.worldWidth/2,this.groundY,this.worldWidth,20).setOrigin(.5,0).setVisible(!1);this.physics.add.existing(h,!0),this._createPlayers(),this._setupPhysicsWorld(h),this._setupInputMappings(),this.powerUps=[],this.maxPowerUps=2,this.powerUpSpawnConfig={minDelayMs:3500,maxDelayMs:7e3,weights:{velocidad:3,ralentizar:2,paralizar:1,por2:3,por3:2},cooldownMs:{paralizar:1e4}},this.powerUpLastSpawnAt={},this.inventoryUI={player1:[this.add.image(50,50,"por2").setScale(1.4).setVisible(!1).setDepth(1),this.add.image(110,50,"por2").setScale(1.4).setVisible(!1).setDepth(1)],player2:[this.add.image(this.worldWidth-110,50,"por2").setScale(1.4).setVisible(!1).setDepth(1),this.add.image(this.worldWidth-50,50,"por2").setScale(1.4).setVisible(!1).setDepth(1)]},this.schedulePowerUpSpawn(),this.inventoryFrames={player1:[this.add.image(50,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0),this.add.image(110,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0)],player2:[this.add.image(this.worldWidth-110,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0),this.add.image(this.worldWidth-50,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0)]},this._createBall(),this.ball.setServePosition(),this._setupBallCollisions(),this._setupBallEvents(),this.input.keyboard.on("keydown-ESC",()=>{this.scene.pause(),this.timerEvent.paused=!0,this.scene.launch("Pause_Scene")}),this.events.on("resume",()=>{this.timerEvent.paused=!1})}schedulePowerUpSpawn(){const{minDelayMs:e,maxDelayMs:t}=this.powerUpSpawnConfig,s=i().Math.Between(e,t);this.time.delayedCall(s,()=>{if(this.powerUps.length<this.maxPowerUps){const e=i().Math.Between(80,this.worldWidth-80),t=i().Math.Between(this.worldHeight-220,this.worldHeight-120),s=this._getWeightedPowerUpType();if(s){const i=new T(this,e,t,s);this.powerUps.push(i),this.powerUpLastSpawnAt[s]=this.time.now}}this.schedulePowerUpSpawn()})}_getWeightedPowerUpType(){const{weights:e,cooldownMs:t}=this.powerUpSpawnConfig,s=this.time.now,a=Object.entries(e).filter(([e,i])=>{if(i<=0)return!1;const a=t?.[e];if(!a)return!0;const r=this.powerUpLastSpawnAt?.[e]||0;return s-r>=a});if(!a.length)return null;const r=a.reduce((e,[,t])=>e+t,0);let o=i().Math.Between(1,r);for(const[e,t]of a)if(o-=t,o<=0)return console.log("[Game_Scene] Power-up aleatorio: ",e),e;return a[a.length-1][0]}playSfx(e){e&&this.sound.play(e,{volume:h()})}update(){this._handleInputForAllPlayers(),this.players.forEach(e=>e.updatePowerUps()),this.ball&&(this.ball.update(),this.ball.isBallLive&&this.ball.sprite.y>this.groundY&&this.ball.onGrounded(),(this.ball.sprite.x<475&&"right"===this.ball.courtSide||this.ball.sprite.x>485&&"left"===this.ball.courtSide)&&this.ball.crossNet())}updateTimer(){this.tiempoRestante--;const e=Math.floor(this.tiempoRestante/60),t=this.tiempoRestante%60,i=`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`;this.timerText.setText(i),this.tiempoRestante<=0&&(this.timerEvent.paused=!0,console.log("FIN DEL TIEMPO"),this.scoreP1>this.scoreP2?this._endSet("player1"):this.scoreP2>this.scoreP1?this._endSet("player2"):(console.log("Empate en el set"),this.isGoldenPoint=!0,this.setWinnerText&&(this.setWinnerText.setText("EMPATE: punto de oro"),this.setWinnerText.setVisible(!0))))}updateSetScoreUI(){this.setScoreLeft&&this.setScoreLeft.setText(this.setsP1.toString()),this.setScoreRight&&this.setScoreRight.setText(this.setsP2.toString())}updatePlayerInventoryUI(e){const t=this.inventoryUI[e.id];for(let i=0;i<2;i++)e.powerUpInventory[i]?(t[i].setTexture(e.powerUpInventory[i]),t[i].setVisible(!0)):t[i].setVisible(!1)}_createAnimations(){this.anims.create({key:"charA_idleRight",frames:this.anims.generateFrameNumbers("charA_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charA_idleLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charA_receiveRight",frames:this.anims.generateFrameNumbers("charA_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charA_receiveLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charA_runRight",frames:this.anims.generateFrameNumbers("charA_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charA_runLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charA_jumpRight",frames:this.anims.generateFrameNumbers("charA_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charA_jumpLeft",frames:this.anims.generateFrameNumbers("charA_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charB_idleRight",frames:this.anims.generateFrameNumbers("charB_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charB_idleLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charB_receiveRight",frames:this.anims.generateFrameNumbers("charB_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charB_receiveLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charB_runRight",frames:this.anims.generateFrameNumbers("charB_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charB_runLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charB_jumpRight",frames:this.anims.generateFrameNumbers("charB_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charB_jumpLeft",frames:this.anims.generateFrameNumbers("charB_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charC_idleRight",frames:this.anims.generateFrameNumbers("charC_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charC_idleLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charC_receiveRight",frames:this.anims.generateFrameNumbers("charC_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charC_receiveLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charC_runRight",frames:this.anims.generateFrameNumbers("charC_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charC_runLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charC_jumpRight",frames:this.anims.generateFrameNumbers("charC_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charC_jumpLeft",frames:this.anims.generateFrameNumbers("charC_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0})}_createPlayers(){const e=this.player1.character,t=this.player2.character,i=new y(this,"player1",.25*this.worldWidth,this.groundY-100,e),s=new y(this,"player2",.75*this.worldWidth,this.groundY-100,t);this.players.set("player1",i),this.players.set("player2",s);const a=Math.floor(this.groundY);i.setBounds(80,455,50,a),s.setBounds(505,this.worldWidth-80,50,a),this.commandProcessor.setPlayers(this.players),this.commandProcessor.setGameScene(this),i.idleRight(),s.idleLeft()}_setupPhysicsWorld(e){this.players.forEach(t=>{this.physics.add.collider(t.sprite,e),this.physics.add.collider(t.sprite,this.red,()=>{console.log(`${t.id} tocó la red!`),t.sprite.setVelocityX(0)})})}_setupInputMappings(){this.inputMappings=[{playerId:"player1",leftKey:"A",rightKey:"D",jumpKey:"W",receiveKey:"S",powerKey:"E"},{playerId:"player2",leftKey:"J",rightKey:"L",jumpKey:"I",receiveKey:"K",powerKey:"O"}].map(e=>({playerId:e.playerId,leftKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.rightKey]),jumpKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.jumpKey]),receiveKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.receiveKey]),powerKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.powerKey])}))}_handleInputForAllPlayers(){this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);if(!t)return;if(t.isParalyzed){const e="left"===t.facing?"idleLeft":"idleRight";return void this.commandProcessor.process(new b(t,e))}let s;if(s=e.leftKeyObj.isDown?"left":e.rightKeyObj.isDown?"right":"left"===t.facing?"idleLeft":"idleRight",t.isJumping||this.commandProcessor.process(new b(t,s)),i().Input.Keyboard.JustDown(e.receiveKeyObj)){const e="left"===t.facing?"receiveLeft":"receiveRight";this.commandProcessor.process(new b(t,e))}if(i().Input.Keyboard.JustDown(e.jumpKeyObj)){const e="left"===t.facing?"jumpLeft":"jumpRight";this.commandProcessor.process(new b(t,e))}i().Input.Keyboard.JustDown(e.powerKeyObj)&&(t.useNextPowerUp(),this.updatePlayerInventoryUI(t))}),this.players.forEach(e=>e.update())}_createBall(){this.ball=new O(this,this.worldWidth/2,150)}_setupBallCollisions(){this.players.forEach(e=>{this.physics.add.overlap(this.ball.sprite,e.sprite,()=>this._onBallPlayerCollision(this.ball,e),null,this)}),this.physics.add.collider(this.ball.sprite,this.red,()=>{console.log("La pelota toca la red!"),this.ball.sprite.setVelocityX(.5*this.ball.sprite.body.velocity.x),this.ball.sprite.setVelocityY(.5*this.ball.sprite.body.velocity.y)}),this.worldHeight,this.ball.sprite.setCollideWorldBounds(!0),this.ball.sprite.setBounce(.8)}_setupBallEvents(){this.events.on("rallyConcluded",e=>{console.log(`Rally concluded: ${e.scoringPlayerId} scores!`);const t=e.scoringPlayerId,i=this.players.get(t),s=i&&i.scoreMultiplier||1;if("player1"===t?(this.pointsLeft+=s,this.scoreLeft.setText(this.pointsLeft.toString()),this.scoreP1+=s):"player2"===t&&(this.pointsRight+=s,this.rightScore.setText(this.pointsRight.toString()),this.scoreP2+=s),this.playSfx(this.sfx.point),this.isGoldenPoint)return this.isGoldenPoint=!1,void this._endSet(t);this._checkWinCondition()})}_isBallInHitZone(e,t,i,s){const a=t.sprite.body;if(!a)return!1;const r=e.x,o=e.y,n=a.y,l=a.height,h=a.x+.5*a.width,c=i?{top:-.1,bottom:.6}:s?{top:.35,bottom:.85}:{top:.25,bottom:.85};if(o<n+l*c.top||o>n+l*c.bottom)return!1;const d="right"===t.facing,p=a.width*(s?.9:.75),S=a.width*(s?.25:.15);return!(r<(d?h-S:h-p)||r>(d?h+p:h+S))}_onBallPlayerCollision(e,t){if(!e.isBallLive)return;const i=!t.sprite.body.blocked.down,s=t.isReceiving,a=t.facing;this._isBallInHitZone(e.sprite,t,i,s)&&e.hit(t,a,i,s)}_endGame(e){this.timerEvent&&(this.timerEvent.remove(!1),this.timerEvent=null),this.playSfx(this.sfx.whistle),this.physics&&this.physics.world&&this.physics.world.pause(),this.scene.start("EndGame_Scene",{winner:e,player1:this.player1,player2:this.player2})}_checkWinCondition(){const e=this.scoreP1-this.scoreP2;if(Math.max(this.scoreP1,this.scoreP2)<11||Math.abs(e)<2)return;const t=e>0?"player1":"player2";this._endSet(t)}_endSet(e){"player1"===e?this.setsP1++:"player2"===e&&this.setsP2++,console.log(`Set terminado. Score sets: P1=${this.setsP1}, P2=${this.setsP2}`),this.updateSetScoreUI();const t="player1"===e?"Jugador 1":"Jugador 2";this.setWinnerText.setText(`SET para ${t}`),this.setWinnerText.setVisible(!0),this.currentSet++,2===this.setsP1||2===this.setsP2?this.time.delayedCall(2e3,()=>{this._endGame(e)}):this.time.delayedCall(2e3,()=>{this.setWinnerText&&this.setWinnerText.setVisible(!1),this._resetSet()})}_resetSet(){this.isGoldenPoint=!1,this.setText.setText(`SET ${this.currentSet}`),this.tiempoRestante=this.tiempoTotal,this.timerEvent.paused=!1,this.updateTimer(),this.scoreP1=0,this.scoreP2=0,this.pointsLeft=0,this.pointsRight=0,this.scoreLeft.setText("0"),this.rightScore.setText("0"),this.ball.resetRally();const e=this.players.get("player1"),t=this.players.get("player2");e.setPosition(.25*this.worldWidth,.7*this.worldHeight),t.setPosition(.75*this.worldWidth,.7*this.worldHeight),e.idleRight(),t.idleLeft(),this.playSfx(this.sfx.whistle)}}class v extends i().Scene{constructor(){super("Tutorial_Scene"),this.pageIndex=0,this.returnScene="Menu_Scene"}init(e){this.returnScene=e?.returnScene??"Menu_Scene"}preload(){this.load.image("tut0_controles","ASSETS/TUTORIAL/TUT0_Controles.png"),this.load.image("tut1_set","ASSETS/TUTORIAL/TUT1_Set.png"),this.load.image("tut2_pelota","ASSETS/TUTORIAL/TUT2_Pelota.png"),this.load.image("tut3_powerup","ASSETS/TUTORIAL/TUT3_Powerup.png"),this.load.image("tut4_lista","ASSETS/TUTORIAL/TUT4_Lista.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png")}create(){const{width:e,height:t}=this.scale,i=e/2,s={...this.game.globals?.defaultTextStyle??{fontFamily:"VT323",fontSize:"20px",color:"#000000"}};p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.mainTitleText=this.add.text(i,.1*t,"Tutorial",{...s,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start(this.returnScene)}),this.pageIndex=0,this.pages=[{key:"tut0_controles",title:"Controles"},{key:"tut1_set",title:"Reglas básicas: set"},{key:"tut2_pelota",title:"Reglas básicas: pelota"},{key:"tut3_powerup",title:"Reglas básicas: power-ups"},{key:"tut4_lista",title:"Lista de power-ups"}];const a=Math.max(8,Math.round(.015*Math.min(e,t))),r=Math.max(6,Math.round(.012*t)),o=.91*t,n=this.mainTitleText.y+this.mainTitleText.height+r,l=o-r,h=Math.max(0,l-n),c=Math.max(0,e-2*a);this.layout={panelTop:n,panelHeight:h,panelWidth:c},this.slideImage=this.add.image(i,n+h/2,this.pages[0].key),this._fitImage(this.slideImage,c,h),this.pageIndicator=this.add.text(i,o+20,"",{...s,fontSize:"28px",color:"#000"}).setOrigin(.5);const d={...s,fontSize:"28px",color:"#000000"};m(this,{x:i-165,y:o+20,label:"Anterior",onClick:()=>this.prev(),textStyle:d,clickSoundKey:"sonidoClick"}),m(this,{x:i+165,y:o+20,label:"Siguiente",onClick:()=>this.next(),textStyle:d,clickSoundKey:"sonidoClick"}),this.renderPage()}_fitImage(e,t,i){const s=Math.min(t/e.width,i/e.height);e.setScale(s)}renderPage(){const e=this.pages[this.pageIndex];this.mainTitleText.setText(e.title??"Tutorial"),this.slideImage.setTexture(e.key),this._fitImage(this.slideImage,this.layout.panelWidth,this.layout.panelHeight),this.pageIndicator.setText(`${this.pageIndex+1} de ${this.pages.length}`)}next(){this.pageIndex<this.pages.length-1&&(this.pageIndex++,this.renderPage())}prev(){this.pageIndex>0&&(this.pageIndex--,this.renderPage())}}class I extends i().Scene{constructor(){super("Configuration_Scene"),this.musicVolumeSlider=null,this.sfxVolumeSlider=null,this.globalVolumeSlider=null}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,l=e/2,m=this.game.globals.defaultTextStyle;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(l,.1*t,"Configuración",{...m,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),function(e=1){const t=null!==localStorage.getItem(s),i=null!==localStorage.getItem(a);if(t&&i)return;const r=function(e=1){const t=localStorage.getItem(o);return null===t?null:n(t,e)}(e),l=r&&r>0?r:e;t||localStorage.setItem(s,String(l)),i||localStorage.setItem(a,String(l))}();const g=d(),f=c(),y=h();p(this);const x=.18*t,T=.05*t,O=t/2-(2*x+T)/2,E=O,A=E+T,b=O+x,_=b+T,v=O+2*x,I=v+T;this.add.text(l,E,"Volumen General",{...m,fontSize:"28px",color:"#000"}).setOrigin(.5),this.globalVolumeSlider=this.add.dom(l,A).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${g}" \n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>`),this.globalVolumeSlider.addListener("input"),this.globalVolumeSlider.on("input",e=>{e.target instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(r,String(t))}(e.target.value),p(this))}),this.add.text(l,b,"Volumen Música",{...m,fontSize:"28px",color:"#000"}).setOrigin(.5),this.musicVolumeSlider=this.add.dom(l,_).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${f}"\n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>\n            `),this.musicVolumeSlider.addListener("input"),this.musicVolumeSlider.on("input",e=>{const t=e.target;t instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(a,String(t))}(t.value),p(this))}),this.add.text(l,v,"Volumen Efectos",{...m,fontSize:"28px",color:"#000"}).setOrigin(.5),this.sfxVolumeSlider=this.add.dom(l,I).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${y}"\n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>\n            `),this.sfxVolumeSlider.addListener("input"),this.sfxVolumeSlider.on("input",e=>{const t=e.target;t instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(s,String(t))}(t.value),p(this))}),this.sfxVolumeSlider.addListener("change"),this.sfxVolumeSlider.on("change",e=>{S(this,"sonidoClick")}),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start("Menu_Scene")}),this.events.once(i().Scenes.Events.SHUTDOWN,()=>{this.musicVolumeSlider&&(this.musicVolumeSlider.removeAllListeners(),this.musicVolumeSlider.destroy(),this.musicVolumeSlider=null),this.sfxVolumeSlider&&(this.sfxVolumeSlider.removeAllListeners(),this.sfxVolumeSlider.destroy(),this.sfxVolumeSlider=null),this.globalVolumeSlider&&(this.globalVolumeSlider.removeAllListeners(),this.globalVolumeSlider.destroy(),this.globalVolumeSlider=null)})}}class R extends i().Scene{constructor(){super("Credits_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondoMenuPrincipal","ASSETS/FONDOS/MENU_PRINCIPAL.png"),this.load.image("logo","ASSETS/LOGO/logo_empresa.png"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"};this.add.image(0,0,"fondoMenuPrincipal").setOrigin(0).setDepth(-2).setDisplaySize(e,t),this.add.rectangle(0,0,e,t,0,.5).setOrigin(0).setDepth(-1);const s=["GRUPO 5 - SUNSET ARCADE","Sara Bueno Esteban","Antonio Morán Barrera","Cristine Nioka Tewo","Alvaro Ibáñez Montero"],a=.38*e,r=.46*t,o=.75*e,n=.46*t;this.add.rectangle(o,n,a,r,1118481,.7).setOrigin(.5).setStrokeStyle(2,16777215,.2);const l=n-36*(s.length-1)/2;s.forEach((e,t)=>{const s=0===t;this.add.text(o,l+36*t,e,{...i,fontFamily:"VT323",fontSize:s?"36px":"32px",color:s?"#f5d76e":"#ffffff"}).setOrigin(.5)}),this.add.text(o,.1*t,"Créditos",{...i,fontSize:"42px",color:"#ffffff"}).setOrigin(.5);const h=o,c=n+r/2+.16*t-3;this.add.image(h,c,"logo").setOrigin(.5).setScale(.7),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start("Menu_Scene")})}}class C extends i().Scene{constructor(){super("EndGame_Scene")}init(e){this.winner=e.winner,this.player1=e.player1,this.player2=e.player2}preload(){this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=this.game.globals.defaultTextStyle,s=this.player1.name,a=this.player2.name;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(e/2,.18*t,"¡FIN DEL PARTIDO!",{...i,fontSize:"64px",color:"#5f0000ff"}).setOrigin(.5);const r="player1"===this.winner?"Ganador: "+s:"Ganador: "+a;this.add.text(e/2,.4*t,r,{...i,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5),m(this,{x:e/2,y:.6*t,label:"Volver a inicio",textStyle:{...i,fontSize:"26px",color:"#000000"},scale:3,onClick:()=>{this.scene.start("Menu_Scene")}})}}class N extends i().Scene{constructor(){super("ModeGame_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#000000"};p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,.18*t,"Modo de Juego",{...i,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5);const s=.5*t,a=Math.min(280,.3*e),r=e/2-a/2,o={...i,fontSize:"28px",color:"#000000"},n=e=>{this.registry.set("mode",e),console.log("Modo seleccionado:",e),this.scene.start("SelectPlayer_Scene",{mode:e})};m(this,{x:r,y:s,label:"Local",onClick:()=>n("local"),scale:2,textureNormal:"botonSinSeleccionar",textureHover:"botonSeleccionado",textStyle:o,clickSoundKey:"sonidoClick"}),m(this,{x:r+a,y:s,label:"Red",onClick:()=>n("online"),scale:2,textureNormal:"botonSinSeleccionar",textureHover:"botonSeleccionado",textStyle:o,clickSoundKey:"sonidoClick"}),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.scene.start("Menu_Scene")})}}class w extends i().Scene{constructor(){super("Pause_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const e=this.game.globals.defaultTextStyle,{width:t,height:i}=this.scale,s=t/2;this.add.rectangle(0,0,t,i,0,.88).setOrigin(0).setDepth(-1),this.add.text(s,.18*i,"Pausa",{...e,fontSize:"42px",color:"#ffffff"}).setOrigin(.5);const a={...e,fontSize:"28px",color:"#000000"},r=.46*i,o=.14*i;m(this,{x:s,y:r,label:"Continuar",textStyle:a,scale:2,onClick:()=>{this.scene.stop(),this.scene.resume("Game_Scene")}}),m(this,{x:s,y:r+o,label:"Tutorial",textStyle:a,scale:2,onClick:()=>{this.scene.start("Tutorial_Scene",{returnScene:"Pause_Scene"})}}),m(this,{x:s,y:r+2*o,label:"Menú Principal",textStyle:a,scale:2,onClick:()=>{const e=this.scene.get("Game_Scene");e&&(e.input.keyboard.removeAllListeners(),e.input.keyboard.removeAllKeys()),this.scene.stop("Game_Scene"),this.scene.start("Menu_Scene")}})}}class P extends i().Scene{constructor(){super("SelectPlayer_Scene"),this.players=[],this.currentTurn=0,this.playerInputs=[],this.playerInputEls=[],this.turnText=null}init(e){this.mode=this.registry.get("mode"),console.log("Modo de Juego:",this.mode),this.isHost=this.registry.get("isHost"),console.log("Host:",this.isHost)}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("marcoJugador","ASSETS/UI/MARCOS/VACIOS/MARCO_PERSONAJE_SELECCIONADO.png"),this.load.image("characterA","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_a.png"),this.load.image("characterB","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_b.png"),this.load.image("characterC","ASSETS/PERSONAJES/PERSONAJES_POSE/personaje_c.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){this.input.keyboard.removeAllKeys(!0),this.input.keyboard.removeAllListeners();const{width:e,height:t}=this.scale,s=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"};p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,50,"Selecciona Personaje",{...s,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),"local"===this.mode&&this.createLocalUI(e,t,s),"online"===this.mode&&this.createOnlineUI(e,t,s),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.scene.start("ModeGame_Scene")}),this.events.once(i().Scenes.Events.SHUTDOWN,()=>{this.playerInputs.forEach(e=>e?.destroy()),this.playerInputs=[],this.playerInputEls=[],this.input.keyboard.enabled=!0})}createLocalUI(e,t,i){this.players=[{name:"",character:null,color:43775,bigImage:null,bigFrame:null,frame:null},{name:"",character:null,color:16733525,bigImage:null,bigFrame:null,frame:null}],this.turnText=this.add.text(e/2,95,"TURNO: Jugador 1",{...i,fontFamily:"VT323",fontSize:"28px",color:"#000"}).setOrigin(.5),this.createPlayersUI(25),this.createCharacterMiniatures(0,25),this.updateTurnText(),m(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>this.handleNext(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...i,fontSize:"18px",color:"#000"},clickSoundKey:"sonidoClick"})}createOnlineUI(e,t,i){this.players=[{name:this.registry.get("username")||"JugadorX",character:null,color:43775,bigImage:null,bigFrame:null,frame:null}],this.add.text(e/2,140,`${this.players[0].name}`,{...i,fontSize:"28px",color:"#000",fontStyle:"bold"}).setOrigin(.5),this.turnText=this.add.text(e/2,130,"Ningún personaje seleccionado",{...i,fontSize:"18px",color:"#000"}).setOrigin(.5),this.createPlayerOnlineUI(40),this.createCharacterMiniatures(150,40),m(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>this.handleNext(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...i,fontSize:"18px",color:"#000"},clickSoundKey:"sonidoClick"})}createPlayersUI(e=0){const{width:t,height:s}=this.scale,a=this.game.globals.defaultTextStyle,r=[.25*t,.75*t];this.players.forEach((o,n)=>{const l=r[n];this.add.text(l,100+e,"Nombre:",{...a,fontSize:"24px",color:"#000"}).setOrigin(.5);const h=this.add.dom(l,140+e).createFromHTML(`\n                <input type="text" placeholder="Nombre jugador" maxlength="10"\n                style="\n                    width:150px;\n                    padding:6px;\n                    font-size:16px;\n                    font-family:${a.fontFamily};\n                    border-radius:12px;\n                    border: 6px solid #FFAA00;\n                    outline: none;\n                    text-align:center;\n                    background-color:#f0f0f0;\n                    transition: border-color 0.2s, box-shadow 0.2s;"\n                onfocus="this.style.borderColor='#FF8316'; this.style.boxShadow='0 0 5px #FF8316';"\n                onblur="this.style.borderColor='#FFAA00'; this.style.boxShadow='none';"\n                />\n            `),c=h.node.querySelector("input");c.addEventListener("focus",e=>{this.input.keyboard.enabled=!1,e.stopPropagation()}),c.addEventListener("blur",e=>{this.input.keyboard.enabled=!0,e.stopPropagation()}),c.addEventListener("keydown",e=>e.stopPropagation()),c.addEventListener("input",()=>{c.value=c.value.replace(/[^a-zA-ZÀ-ÿñÑ ]/g,""),this.updateTurnText()}),this.playerInputs[n]=h,this.playerInputEls[n]=c,o.bigImage=this.add.image(t*(.25+.5*n),.6*s+e,"characterA").setScale(1.2).setOrigin(.5).setVisible(!1),o.bigFrame=this.add.image(o.bigImage.x,o.bigImage.y,"marcoJugador").setScale(2.8).setOrigin(.5).setVisible(!0),o.bigFrame.texture.setFilter(i().Textures.FilterMode.NEAREST),o.frame=this.add.rectangle(0,0,60,120).setStrokeStyle(4,o.color).setVisible(!1)}),this.currentTurn=0,this.updateTurnText()}createPlayerOnlineUI(e=0){const{width:t,height:s}=this.scale,a=this.players[0],r=t/2;a.bigImage=this.add.image(r-150,.58*s+e,"characterA").setScale(1.2).setOrigin(.5).setVisible(!1),a.bigFrame=this.add.image(a.bigImage.x,a.bigImage.y,"marcoJugador").setScale(2.8).setOrigin(.5).setVisible(!0),a.bigFrame.texture.setFilter(i().Textures.FilterMode.NEAREST),a.frame=this.add.rectangle(0,0,60,120).setStrokeStyle(4,a.color).setVisible(!1)}createCharacterMiniatures(e,t){const{width:i,height:s}=this.scale,a=i/2-75,r=.5*s,o=[{x:a+e,y:r+t},{x:a+e+150,y:r+t},{x:a+e+75,y:r+t+75}];["characterA","characterB","characterC"].forEach((e,t)=>{const i=this.add.image(o[t].x,o[t].y,e).setInteractive({useHandCursor:!0}).setScale(.45).setData("characterName",e);i.on("pointerdown",()=>{S(this,"sonidoClick"),this.onMiniClicked(e,i)})})}onMiniClicked(e,t){if("online"===this.mode){const i=this.players[0];return i.character===e?(i.character=null,i.bigImage&&i.bigImage.setVisible(!1),i.frame&&i.frame.setVisible(!1)):(i.character=e,i.bigImage&&i.bigImage.setTexture(e).setVisible(!0),i.frame&&i.frame.setPosition(t.x,t.y).setVisible(!0)),void this.updateTurnText()}const i=this.players.findIndex(t=>t.character===e);if(-1!==i){const e=this.players[i];return e.character=null,e.bigImage&&e.bigImage.setVisible(!1),e.frame&&e.frame.setVisible(!1),this.currentTurn=i,void this.updateTurnText()}const s=this.players[0],a=this.players[1];let r=this.currentTurn;if(null==r)if(!s.character&&a.character)r=0;else if(!a.character&&s.character)r=1;else{if(s.character||a.character)return;r=0}const o=this.players[r],n=this.players[1-r];n.character!==e&&(o.character=e,o.bigImage&&o.bigImage.setTexture(e).setVisible(!0),o.frame&&o.frame.setPosition(t.x,t.y).setVisible(!0),n.character?this.currentTurn=null:this.currentTurn=1-r,this.updateTurnText())}handleNext(){if("local"===this.mode){const e=this.playerInputEls?.[0]?.value?.trim()??"",t=!!this.players?.[0]?.character,i=this.playerInputEls?.[1]?.value?.trim()??"",s=!!this.players?.[1]?.character;if(!(e.length>0&&i.length>0&&t&&s))return this.updateTurnText(),void this.flashTurnText("#b00000",900);this.players[0].name=e,this.players[1].name=i,this.scene.start("SelectScenario_Scene",{mode:this.mode,player1:this.players[0],player2:this.players[1]})}if("online"===this.mode){if(!this.players?.[0]?.character)return this.flashTurnText("#b00000",900),void this.turnText.setText("Debes elegir un personaje primero");this.registry.set("myCharacter",this.players[0].character),this.isHost?this.scene.start("SelectScenario_Scene",{mode:this.mode,player1:this.players[0],isHost:!0}):this.scene.start("Lobby_Scene",{mode:this.mode,player2:this.players[0],isHost:!1})}}flashTurnText(e="#b00000",t=900){if(!this.turnText)return;const i=this.turnText.style.color||"#000000";this.turnText.setColor(e),this.time.delayedCall(t,()=>{this.turnText.setColor(i),this.updateTurnText()})}updateTurnText(){if(this.turnText){if("local"===this.mode){const e=this.playerInputEls?.[0]?.value?.trim()??"",t=this.playerInputEls?.[1]?.value?.trim()??"",i=!!this.players?.[0]?.character,s=!!this.players?.[1]?.character,a=e.length>0,r=t.length>0,o=i&&s,n=a&&r;if(o&&n)return void this.turnText.setText("¡Listo para continuar!");if(o&&!n)return void(a||r?a?this.turnText.setText("Falta el nombre de Jugador 2"):this.turnText.setText("Falta el nombre de Jugador 1"):this.turnText.setText("Faltan los nombres de Jugador 1 y Jugador 2"));if(n&&!o)return void(i||s?i?this.turnText.setText("Falta el personaje de Jugador 2"):this.turnText.setText("Falta el personaje de Jugador 1"):this.turnText.setText("Faltan los personajes de Jugador 1 y Jugador 2"));if(null===this.currentTurn||void 0===this.currentTurn)return void this.turnText.setText("Completa nombres y personajes");this.turnText.setText(`TURNO: Jugador ${this.currentTurn+1}`)}"online"===this.mode&&(this.players?.[0]?.character?this.turnText.setText("Listo: el jugador tiene personaje"):this.turnText.setText("Ningún personaje seleccionado"))}}}class L extends i().Scene{constructor(){super("SelectScenario_Scene"),this.selectedScenario="Gym",this.mode="local"}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("Gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("Playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("Jardin","ASSETS/FONDOS/JARDIN.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3"),this.load.image("marco","/ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO")}init(e){this.player1=e.player1,this.player2=e.player2,this.mode=e.mode||"local",this.isHost=e.isHost||!1}create(){const{width:e,height:t}=this.scale,s=this.game.globals.defaultTextStyle;p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,50,"Selecciona Escenario",{...s,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),this.selectedScenario="Gym",this.selectedImage=this.add.image(e/2,240,this.selectedScenario).setScale(.5);const a=["Gym","Playa","Jardin"],r=e/2-200,o={},n=e=>{this.selectedScenario=e,this.selectedImage.setTexture(e).setScale(.5),a.forEach(t=>{o[t].setTexture(t===e?"botonSeleccionado":"botonSinSeleccionar")})};a.forEach((e,t)=>{const a=this.add.image(r+200*t,440,"botonSinSeleccionar").setInteractive({useHandCursor:!0}).setScale(1.75);o[e]=a;const l=this.add.text(0,0,e,{...s,fontSize:"28px",color:"#000"});i().Display.Align.In.Center(l,a),a.on("pointerover",()=>a.setTexture("botonSeleccionado")),a.on("pointerout",()=>{a.setTexture(this.selectedScenario===e?"botonSeleccionado":"botonSinSeleccionar")}),a.on("pointerdown",()=>S(this,"sonidoClick")),a.on("pointerup",t=>{a.getBounds().contains(t.x,t.y)&&n(e)})}),n(this.selectedScenario);const l=this.add.image(e/2,240,"marco").setOrigin(.5);l.texture.setFilter(i().Textures.FilterMode.NEAREST),l.setDisplaySize(500,300),m(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>{"local"===this.mode?this.scene.start("Game_Scene",{player1:this.player1,player2:this.player2,selectedScenario:this.selectedScenario,mode:this.mode,isHost:this.isHost}):this.scene.start("Lobby_Scene",{player1:this.player1,player2:this.player2,selectedScenario:this.selectedScenario,mode:this.mode,isHost:this.isHost})},scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...s,fontSize:"18px",color:"#000"},clickSoundKey:"sonidoClick"}),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>{this.scene.start("SelectPlayer_Scene",{mode:this.mode,isHost:this.isHost})}})}}class k extends i().Scene{constructor(){super("Lobby_Scene"),this.isPlayerReady=!1}init(e){this.mode=e.mode,this.isHost=e.isHost,this.player1=e.player1,this.player2=e.player2,console.log("Lobby iniciado como:",this.isHost?"Host":"Invitado")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const e=this.game.globals.defaultTextStyle,{width:t,height:s}=this.scale,a=t/2;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(a,.18*s,"LOBBY",{...e,fontSize:"40px",color:"#000",fontStyle:"bold"}).setOrigin(.5);const r=.48*s,o=this.add.image(a,r,"marco").setOrigin(.5);o.texture.setFilter(i().Textures.FilterMode.NEAREST);const n=.3*t,l=.3*s;o.setDisplaySize(n,l);const h=r-40;this.add.text(a,h,"ESTADO DE JUGADORES",{...e,fontSize:"22px",color:"#000000",fontStyle:"bold"}).setOrigin(.5);const c=this.isHost?this.player1?.name||"Tú":this.player1?.name||"Admin...";this.p1StatusText=this.add.text(a,r,`${c} --- ❌`,{...e,fontSize:"20px",color:"#000000"}).setOrigin(.5);const d=this.isHost?this.player2?.name||"Esperando...":this.player2?.name||"Tú";this.p2StatusText=this.add.text(a,r+40,`${d} --- ❌`,{...e,fontSize:"20px",color:"#000000"}).setOrigin(.5),this.btnListo=m(this,{x:a,y:.75*s,label:"Listo?",onClick:()=>this.toggleReady(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...e,fontSize:"14px",color:"#000"},clickSoundKey:"sonidoClick"}),this.btnVolver=u(this,{x:.06*t,y:.08*s,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.handleBack()})}toggleReady(){this.isPlayerReady=!this.isPlayerReady;const e=this.isPlayerReady?"✅":"❌";this.isHost?this.p1StatusText.setText(`${this.player1.name} --- ${e}`):this.p2StatusText.setText(`${this.player2.name} --- ${e}`);const t=this.isPlayerReady?"CANCELAR":"LISTO?";this.btnListo.setLabel?this.btnListo.setLabel(t):this.btnListo.text&&this.btnListo.text.setText(t),this.isPlayerReady?(this.btnVolver.disableInteractive(),this.btnVolver.setAlpha(.3)):(this.btnVolver.setInteractive(),this.btnVolver.setAlpha(1))}handleBack(){const e=this.isHost?"SelectScenario_Scene":"SelectPlayer_Scene",t=this.isHost?{mode:this.mode,player1:this.player1,isHost:!0}:{mode:this.mode,isHost:!1};this.scene.start(e,t)}}class B extends i().Scene{constructor(){super("Logging_Scene"),this.isPlayerReady=!1,this.apiUrl="/api",this.isRegistering=!1}async init(e){const t=localStorage.getItem("voley_username"),i=localStorage.getItem("voley_password");if(t&&i){console.log("Intentando auto-login para:",t);try{const e=await fetch(`${this.apiUrl}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:i})}),s=await e.json();e.ok&&(this.registry.set("username",s.username),this.registry.set("isHost",s.isHost),this.scene.start("Menu_Scene"))}catch(e){console.error("Auto-login fallido")}}}preload(){this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png")}create(){const{width:e,height:t}=this.scale,s=e/2,a=this.game.globals?.defaultTextStyle??{fontFamily:"Arial"};this.add.image(0,0,"fondo").setOrigin(0).setDisplaySize(e,t).setDepth(-1),this.titleText=this.add.text(s,60,"INICIAR SESIÓN",{...a,fontSize:"36px",color:"#000",fontStyle:"bold"}).setOrigin(.5);const r=this.add.image(s,.52*t,"marco").setOrigin(.5);r.setDisplaySize(.4*e,.65*t),r.texture.setFilter(i().Textures.FilterMode.NEAREST),this.add.text(s,.28*t,"Usuario:",{...a,fontSize:"20px",color:"#000"}).setOrigin(.5),this.userInput=this.createHtmlInput(s,.35*t,"Nombre de usuario",a),this.add.text(s,.45*t,"Contraseña:",{...a,fontSize:"20px",color:"#000"}).setOrigin(.5),this.passInput=this.createHtmlInput(s,.52*t,"********",a,!0),this.mainBtn=m(this,{x:s,y:.65*t,label:"ENTRAR",onClick:()=>this.handleSubmit(),scale:1.6,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...a,fontSize:"14px",color:"#000"},clickSoundKey:"sonidoClick"}),this.toggleText=this.add.text(s,.75*t,"¿Aún no tienes cuenta? Regístrate aquí",{...a,fontSize:"16px",color:"#0000EE",fontStyle:"italic"}).setOrigin(.5).setInteractive({useHandCursor:!0}),this.toggleText.on("pointerdown",()=>this.toggleMode())}createHtmlInput(e,t,i,s,a=!1){const r=a?"password":"text",o=this.add.dom(e,t).createFromHTML(`\n            <input type="${r}" placeholder="${i}" \n            style="width:180px; padding:8px; font-size:16px; font-family:${s.fontFamily}; \n            border-radius:12px; border: 6px solid #FFAA00; text-align:center; outline:none;" />\n        `).node.querySelector("input");return o.addEventListener("focus",()=>this.input.keyboard.enabled=!1),o.addEventListener("blur",()=>this.input.keyboard.enabled=!0),o}toggleMode(){this.isRegistering=!this.isRegistering,this.titleText.setText(this.isRegistering?"REGISTRARSE":"INICIAR SESIÓN"),this.mainBtn.text.setText(this.isRegistering?"CREAR CUENTA":"ENTRAR"),this.toggleText.setText(this.isRegistering?"¿Ya tienes cuenta? Inicia sesión":"¿Aún no tienes cuenta? Regístrate aquí")}async handleSubmit(){const e=this.userInput.value.trim(),t=this.passInput.value.trim();if(e.length<3)return void alert("Usuario demasiado corto");if(t.length<3)return void alert("Contraseña demasiado corta");const i=this.isRegistering?"/register":"/login";try{const s=await fetch(`${this.apiUrl}${i}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),a=await s.json();s.ok?this.isRegistering?(alert("¡Registro completado con éxito! Ahora puedes iniciar sesión."),this.toggleMode(),this.userInput.value="",this.passInput.value=""):(this.registry.set("username",e),this.registry.set("userToken",a.token),this.registry.set("isHost",a.isHost),localStorage.setItem("voley_session_token",a.token),localStorage.setItem("voley_username",e),console.log(`Login correcto. Usuario: ${e} | Host: ${a.isHost}`),this.scene.start("Menu_Scene")):alert(a.error||"Error en la autenticación")}catch(e){console.error("Error conectando a la API:",e),alert("No se pudo conectar con el servidor.")}}}(async()=>{document.fonts&&document.fonts.load&&(await Promise.all([document.fonts.load('20px "MiFuente"'),document.fonts.load('20px "VT323"')]),await document.fonts.ready);const e={defaultTextStyle:{fontFamily:"MiFuente",fontSize:"20px",color:"#ffffff"},music:null},t={type:i().AUTO,width:960,height:540,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{x:0,y:300},debug:!1}},dom:{createContainer:!0},callbacks:{preBoot:t=>{t.globals=e}},scene:[B,g,_,v,I,R,C,w,N,P,L,k],backgroundColor:"#8675f1"},s=new(i().Game)(t);window.addEventListener("beforeunload",()=>{const e=s.registry.get("username");if(e){const t=JSON.stringify({username:e}),i=new Blob([t],{type:"application/json"});navigator.sendBeacon("/api/logout",i)}})})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFlUyxFQUFhTixFQUFnQlMsRUFBb0JxRCxFQUFzQlUsR0FDekx1RCxnQkFBZ0IsV0FHZDdwQixFQUFNLElBQUksVUFBWThILEdBRTVCZ2lCLE9BQU9oRyxpQkFBaUIsZUFBZ0IsS0FDcEMsTUFBTXBmLEVBQVcxRSxFQUFLMkUsU0FBU2hILElBQUksWUFDbkMsR0FBSStHLEVBQVUsQ0FDVixNQUFNbVAsRUFBTzdPLEtBQUtDLFVBQVUsQ0FBRVAsYUFDeEJxbEIsRUFBTyxJQUFJQyxLQUFLLENBQUNuVyxHQUFPLENBQUV4SSxLQUFNLHFCQUN0QzRlLFVBQVVDLFdBQVcsY0FBZUgsRUFDeEMsR0FFUCxFQWpERCxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vZXh0ZXJuYWwgdmFyIFwiUGhhc2VyXCIiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvVUkvQXVkaW8uanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvVUkvQnV0dG9ucy5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvTWVudV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9FbnRpdGllcy9QbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvQ29tbWFuZHMvQXBwbHlQb3dlclVwQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9FbnRpdGllcy9Qb3dlclVwLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0VudGl0aWVzL0JhbGwuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvQ29tbWFuZHMvQ29tbWFuZFByb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9Db21tYW5kcy9Db21tYW5kLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0NvbW1hbmRzL01vdmVQbGF5ZXJDb21tYW5kLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9HYW1lX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9UdXRvcmlhbF9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvQ29uZmlndXJhdGlvbl9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvQ3JlZGl0c19TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvRW5kR2FtZV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvTW9kZUdhbWVfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL1BhdXNlX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9TZWxlY3RQbGF5ZXJfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL1NlbGVjdFNjZW5hcmlvX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9Mb2JieV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvTG9nZ2luZ19TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9tYWluLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJjb25zdCBfX1dFQlBBQ0tfTkFNRVNQQUNFX09CSkVDVF9fID0gUGhhc2VyOyIsImltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmNvbnN0IFNGWF9WT0xVTUVfS0VZID0gJ3NmeFZvbHVtZSc7XHJcbmNvbnN0IE1VU0lDX1ZPTFVNRV9LRVkgPSAnbXVzaWNWb2x1bWUnO1xyXG5jb25zdCBHTE9CQUxfVk9MVU1FX0tFWSA9ICdnbG9iYWxWb2x1bWUnO1xyXG5jb25zdCBMRUdBQ1lfVk9MVU1FX0tFWSA9ICd2b2x1bWUnO1xyXG5cclxuZnVuY3Rpb24gcGFyc2VTdG9yZWRWb2x1bWUocmF3LCBkZWZhdWx0VmFsdWUpIHtcclxuICAgIGNvbnN0IHYgPSBOdW1iZXIucGFyc2VGbG9hdChyYXcgPz8gU3RyaW5nKGRlZmF1bHRWYWx1ZSkpO1xyXG5cclxuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKHYpKSByZXR1cm4gZGVmYXVsdFZhbHVlO1xyXG5cclxuICAgIHJldHVybiBQaGFzZXIuTWF0aC5DbGFtcCh2LCAwLCAxKTtcclxufVxyXG5cclxuLy8vLyBHZXR0ZXJzJlNldHRlcnMgLy8vL1xyXG4vLyBPYnRpZW5lIGVsIHZvbHVtZW4gYWxtYWNlbmFkbyBjb24gdW5hIGNsYXZlXHJcbmZ1bmN0aW9uIGdldFN0b3JlZFZvbHVtZUJ5S2V5KGtleSwgZmFsbGJhY2tLZXksIGRlZmF1bHRWYWx1ZSA9IDEpIHtcclxuICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICBpZiAocmF3ICE9PSBudWxsKSByZXR1cm4gcGFyc2VTdG9yZWRWb2x1bWUocmF3LCBkZWZhdWx0VmFsdWUpO1xyXG5cclxuICAgIGNvbnN0IGZhbGxiYWNrUmF3ID0gZmFsbGJhY2tLZXkgPyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShmYWxsYmFja0tleSkgOiBudWxsO1xyXG4gICAgaWYgKGZhbGxiYWNrUmF3ICE9PSBudWxsKSByZXR1cm4gcGFyc2VTdG9yZWRWb2x1bWUoZmFsbGJhY2tSYXcsIGRlZmF1bHRWYWx1ZSk7XHJcblxyXG4gICAgcmV0dXJuIFBoYXNlci5NYXRoLkNsYW1wKGRlZmF1bHRWYWx1ZSwgMCwgMSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldExlZ2FjeVZvbHVtZShkZWZhdWx0VmFsdWUgPSAxKSB7XHJcbiAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShMRUdBQ1lfVk9MVU1FX0tFWSk7XHJcbiAgICBpZiAocmF3ID09PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICByZXR1cm4gcGFyc2VTdG9yZWRWb2x1bWUocmF3LCBkZWZhdWx0VmFsdWUpO1xyXG59XHJcblxyXG4vLyBBc2VndXJhIHF1ZSBleGlzdGFuIGxvcyB2YWxvcmVzIGRlIHZvbHVtZW4gYWxtYWNlbmFkb3NcclxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZVN0b3JlZEF1ZGlvU2V0dGluZ3MoZGVmYXVsdFZhbHVlID0gMSkge1xyXG4gICAgY29uc3QgaGFzU2Z4ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oU0ZYX1ZPTFVNRV9LRVkpICE9PSBudWxsO1xyXG4gICAgY29uc3QgaGFzTXVzaWMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShNVVNJQ19WT0xVTUVfS0VZKSAhPT0gbnVsbDtcclxuXHJcbiAgICBpZiAoaGFzU2Z4ICYmIGhhc011c2ljKSByZXR1cm47XHJcblxyXG4gICAgY29uc3QgbGVnYWN5Vm9sdW1lID0gZ2V0TGVnYWN5Vm9sdW1lKGRlZmF1bHRWYWx1ZSk7XHJcbiAgICBjb25zdCBpbml0aWFsVm9sdW1lID0gbGVnYWN5Vm9sdW1lICYmIGxlZ2FjeVZvbHVtZSA+IDAgPyBsZWdhY3lWb2x1bWUgOiBkZWZhdWx0VmFsdWU7XHJcblxyXG4gICAgaWYgKCFoYXNTZngpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNGWF9WT0xVTUVfS0VZLCBTdHJpbmcoaW5pdGlhbFZvbHVtZSkpO1xyXG4gICAgaWYgKCFoYXNNdXNpYykgbG9jYWxTdG9yYWdlLnNldEl0ZW0oTVVTSUNfVk9MVU1FX0tFWSwgU3RyaW5nKGluaXRpYWxWb2x1bWUpKTtcclxufVxyXG5cclxuLy8gT2J0aWVuZSBlbCB2b2x1bWVuIGFsbWFjZW5hZG8gcGFyYSBsb3MgZWZlY3RvcyBkZSBzb25pZG9cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0b3JlZFNmeFZvbHVtZShkZWZhdWx0VmFsdWUgPSAxKSB7XHJcbiAgICByZXR1cm4gZ2V0U3RvcmVkVm9sdW1lQnlLZXkoU0ZYX1ZPTFVNRV9LRVksIExFR0FDWV9WT0xVTUVfS0VZLCBkZWZhdWx0VmFsdWUpO1xyXG59XHJcblxyXG4vLyBPYnRpZW5lIGVsIHZvbHVtZW4gYWxtYWNlbmFkbyBwYXJhIGxhIG3DunNpY2FcclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0b3JlZE11c2ljVm9sdW1lKGRlZmF1bHRWYWx1ZSA9IDEpIHtcclxuICAgIHJldHVybiBnZXRTdG9yZWRWb2x1bWVCeUtleShNVVNJQ19WT0xVTUVfS0VZLCBMRUdBQ1lfVk9MVU1FX0tFWSwgZGVmYXVsdFZhbHVlKTtcclxufVxyXG5cclxuLy8gT2J0aWVuZSBlbCB2b2x1bWVuIGdsb2JhbFxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RvcmVkR2xvYmFsVm9sdW1lKGRlZmF1bHRWYWx1ZSA9IDEpIHtcclxuICAgIHJldHVybiBnZXRTdG9yZWRWb2x1bWVCeUtleShHTE9CQUxfVk9MVU1FX0tFWSwgbnVsbCwgZGVmYXVsdFZhbHVlKTtcclxufVxyXG5cclxuLy8gQWxtYWNlbmEgZWwgdm9sdW1lbiBnbG9iYWxcclxuZXhwb3J0IGZ1bmN0aW9uIHNldFN0b3JlZEdsb2JhbFZvbHVtZSh2b2x1bWUpIHtcclxuICAgIGNvbnN0IHYgPSBQaGFzZXIuTWF0aC5DbGFtcChOdW1iZXIodm9sdW1lKSwgMCwgMSk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShHTE9CQUxfVk9MVU1FX0tFWSwgU3RyaW5nKHYpKTtcclxuICAgIHJldHVybiB2O1xyXG59XHJcblxyXG4vLyBBbG1hY2VuYSBlbCB2b2x1bWVuIHBhcmEgbG9zIGVmZWN0b3MgZGUgc29uaWRvXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRTdG9yZWRTZnhWb2x1bWUodm9sdW1lKSB7XHJcbiAgICBjb25zdCB2ID0gUGhhc2VyLk1hdGguQ2xhbXAoTnVtYmVyKHZvbHVtZSksIDAsIDEpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU0ZYX1ZPTFVNRV9LRVksIFN0cmluZyh2KSk7XHJcblxyXG4gICAgcmV0dXJuIHY7XHJcbn1cclxuXHJcbi8vIEFsbWFjZW5hIGVsIHZvbHVtZW4gcGFyYSBsYSBtw7pzaWNhXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRTdG9yZWRNdXNpY1ZvbHVtZSh2b2x1bWUpIHtcclxuICAgIGNvbnN0IHYgPSBQaGFzZXIuTWF0aC5DbGFtcChOdW1iZXIodm9sdW1lKSwgMCwgMSk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShNVVNJQ19WT0xVTUVfS0VZLCBTdHJpbmcodikpO1xyXG5cclxuICAgIHJldHVybiB2O1xyXG59XHJcbi8vLy8vLy8vL1xyXG5cclxuLy8gQXBsaWNhIGVsIHZvbHVtZW4gYWwgU291bmRNYW5hZ2VyIHkgYSBsYSBtw7pzaWNhIGdsb2JhbFxyXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlTdG9yZWRWb2x1bWUoc2NlbmUsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgbGV0IGdsb2JhbFZvbCA9IGdldFN0b3JlZEdsb2JhbFZvbHVtZSgpO1xyXG4gICAgbGV0IHNmeFZvbHVtZSA9IGdldFN0b3JlZFNmeFZvbHVtZSgpO1xyXG4gICAgbGV0IG11c2ljVm9sdW1lID0gZ2V0U3RvcmVkTXVzaWNWb2x1bWUoKTtcclxuXHJcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgc2Z4Vm9sdW1lID0gUGhhc2VyLk1hdGguQ2xhbXAoTnVtYmVyKG9wdGlvbnMpLCAwLCAxKTtcclxuICAgICAgICBtdXNpY1ZvbHVtZSA9IHNmeFZvbHVtZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2Z4Vm9sdW1lID0gb3B0aW9ucy5zZnhWb2x1bWUgPz8gc2Z4Vm9sdW1lO1xyXG4gICAgICAgIG11c2ljVm9sdW1lID0gb3B0aW9ucy5tdXNpY1ZvbHVtZSA/PyBtdXNpY1ZvbHVtZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBzZSB1c2EgZWwgdm9sdW1lbiBnbG9iYWwgY29tbyBtYXN0ZXJcclxuICAgIHNjZW5lLnNvdW5kLnZvbHVtZSA9IGdsb2JhbFZvbDtcclxuXHJcbiAgICBjb25zdCBtdXNpYyA9IHNjZW5lLmdhbWUuZ2xvYmFscy5tdXNpYztcclxuICAgIGlmIChtdXNpYyAmJiAnc2V0Vm9sdW1lJyBpbiBtdXNpYykge1xyXG4gICAgICAgIG11c2ljLnNldFZvbHVtZShtdXNpY1ZvbHVtZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFJlcHJvZHVjZSB1biBzb25pZG8gZGUgY2xpY2tcclxuZXhwb3J0IGZ1bmN0aW9uIHBsYXlDbGljayhzY2VuZSwga2V5ID0gJ3Nvbmlkb0NsaWNrJykge1xyXG4gICAgc2NlbmUuc291bmQucGxheShrZXksIHsgdm9sdW1lOiBnZXRTdG9yZWRTZnhWb2x1bWUoKSB9KTtcclxufVxyXG5cclxuLy8gUmVwcm9kdWNlIGxhIG3DunNpY2EgZGUgZm9uZG8gZW4gYnVjbGVcclxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZUxvb3BpbmdNdXNpYyhzY2VuZSwgc291bmRLZXksIHsgbG9vcCA9IHRydWUgfSA9IHt9KSB7XHJcbiAgICBjb25zdCB2b2x1bWUgPSBnZXRTdG9yZWRNdXNpY1ZvbHVtZSgpO1xyXG4gICAgbGV0IG11c2ljID0gc2NlbmUuZ2FtZS5nbG9iYWxzLm11c2ljO1xyXG4gICAgaWYgKCFtdXNpYykge1xyXG4gICAgICAgIG11c2ljID0gc2NlbmUuc291bmQuYWRkKHNvdW5kS2V5LCB7IGxvb3AsIHZvbHVtZSB9KTtcclxuICAgICAgICBzY2VuZS5nYW1lLmdsb2JhbHMubXVzaWMgPSBtdXNpYztcclxuICAgIH1cclxuXHJcbiAgICAvLyBzZSBhY3R1YWxpemEgdm9sdW1lbiBzaSBlbCB0aXBvIGxvIHNvcG9ydGFcclxuICAgIGlmIChtdXNpYyAmJiAnc2V0Vm9sdW1lJyBpbiBtdXNpYykgbXVzaWMuc2V0Vm9sdW1lKHZvbHVtZSk7XHJcblxyXG4gICAgY29uc3QgdHJ5UGxheSA9ICgpID0+IHtcclxuICAgICAgICBpZiAoIW11c2ljIHx8ICEoJ3BsYXknIGluIG11c2ljKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBubyBzZSByZWluaWNpYSBzaSB5YSBlc3Q/IHNvbmFuZG9cclxuICAgICAgICBpZiAoJ2lzUGxheWluZycgaW4gbXVzaWMgJiYgbXVzaWMuaXNQbGF5aW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIG11c2ljLnBsYXkoKTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbQXVkaW8uanNdIE5vIHNlIGhhIHBvZGlkbyByZXByb2R1Y2lyIHRvZGF2P2EgbGEgbT9zaWNhLicsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBwcmltZXJvIHNlIGludGVudGEgcmVwcm9kdWNpciBuYWRhIG3DoXMgY2FyZ2FyXHJcbiAgICB0cnlQbGF5KCk7XHJcblxyXG4gICAgLy8gc2lubywgc2UgcmVpbnRlbnRhIHRyYXMgbGEgcHJpbWVyYSBpbnRlcmFjY2nDs24vY2xpY2tcclxuICAgIHNjZW5lLmlucHV0Lm9uY2UoJ3BvaW50ZXJkb3duJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGN0eCA9IHNjZW5lLnNvdW5kLmNvbnRleHQ7XHJcbiAgICAgICAgaWYgKGN0eCAmJiBjdHguc3RhdGUgPT09ICdzdXNwZW5kZWQnKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBjdHgucmVzdW1lKCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggeyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeVBsYXkoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBtdXNpYztcclxufVxyXG4iLCJpbXBvcnQgeyBwbGF5Q2xpY2sgfSBmcm9tICcuL0F1ZGlvLmpzJztcclxuXHJcbi8vIENyZWEgdW4gYm90w7NuIGJhc2UgcGFyYSBsYSBVSVxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVUlCdXR0b24oc2NlbmUsIHtcclxuICAgIHgsIHksXHJcbiAgICBsYWJlbCxcclxuICAgIG9uQ2xpY2ssXHJcbiAgICB0ZXh0dXJlTm9ybWFsID0gJ2JvdG9uU2luU2VsZWNjaW9uYXInLFxyXG4gICAgdGV4dHVyZUhvdmVyID0gJ2JvdG9uU2VsZWNjaW9uYWRvJyxcclxuICAgIHNjYWxlID0gMixcclxuICAgIHRleHRTdHlsZSA9IHt9LFxyXG4gICAgY2xpY2tTb3VuZEtleSA9ICdzb25pZG9DbGljaycsXHJcbn0pIHtcclxuICAgIGNvbnN0IGJ1dHRvbiA9IHNjZW5lLmFkZC5zcHJpdGUoeCwgeSwgdGV4dHVyZU5vcm1hbClcclxuICAgICAgICAuc2V0U2NhbGUoc2NhbGUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICBjb25zdCB0ZXh0ID0gc2NlbmUuYWRkLnRleHQoeCwgeSwgbGFiZWwsIHRleHRTdHlsZSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gZXZlbnRvcyBkZWwgYm90w7NuXHJcbiAgICBjb25zdCBzZXROb3JtYWwgPSAoKSA9PiBidXR0b24uc2V0VGV4dHVyZSh0ZXh0dXJlTm9ybWFsKTtcclxuICAgIGNvbnN0IHNldEhvdmVyID0gKCkgPT4gYnV0dG9uLnNldFRleHR1cmUodGV4dHVyZUhvdmVyKTtcclxuXHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJvdmVyJywgc2V0SG92ZXIpO1xyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVyb3V0Jywgc2V0Tm9ybWFsKTtcclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgc2V0SG92ZXIoKTtcclxuICAgICAgICBwbGF5Q2xpY2soc2NlbmUsIGNsaWNrU291bmRLZXkpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBzb2xvIHNlIGxhbnphIHNpIHNlIHN1ZWx0YSBlbmNpbWFcclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcnVwJywgKHBvaW50ZXIpID0+IHtcclxuICAgICAgICBjb25zdCBpbnNpZGUgPSBidXR0b24uZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnRlci54LCBwb2ludGVyLnkpO1xyXG4gICAgICAgIGlmICghaW5zaWRlKSB7IFxyXG4gICAgICAgICAgICBzZXROb3JtYWwoKTsgXHJcbiAgICAgICAgICAgIHJldHVybjsgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRIb3ZlcigpO1xyXG4gICAgICAgIG9uQ2xpY2s/LigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHsgYnV0dG9uLCB0ZXh0IH07XHJcbn1cclxuXHJcbi8vIENyZWEgdW4gYm90w7NuIGJhc2UgY29uIHVuIGljb25vIChjb21vIGVsIGRlIHZvbHZlciBhdHLDoXMpXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJY29uQnV0dG9uKHNjZW5lLCBvcHRpb25zKSB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgICAgeCwgeSxcclxuICAgICAgICB0ZXh0dXJlLFxyXG4gICAgICAgIG9uQ2xpY2ssXHJcbiAgICAgICAgc2NhbGUgPSAxLFxyXG4gICAgICAgIGhvdmVyU2NhbGUgPSAxLjEsXHJcbiAgICAgICAgY2xpY2tTb3VuZEtleSA9ICdzb25pZG9DbGljaycsXHJcbiAgICB9ID0gb3B0aW9ucztcclxuXHJcbiAgICBjb25zdCBidXR0b24gPSBzY2VuZS5hZGRcclxuICAgICAgICAuc3ByaXRlKHgsIHksIHRleHR1cmUpXHJcbiAgICAgICAgLnNldFNjYWxlKHNjYWxlKVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgLy8gZXZlbnRvcyBkZWwgYm90w7NuXHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gYnV0dG9uLnNldFNjYWxlKHNjYWxlICogaG92ZXJTY2FsZSkpO1xyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYnV0dG9uLnNldFNjYWxlKHNjYWxlKSk7XHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgIHBsYXlDbGljayhzY2VuZSwgY2xpY2tTb3VuZEtleSk7XHJcbiAgICB9KTtcclxuICAgIC8vIHNvbG8gc2UgbGFuemEgc2kgc2Ugc3VlbHRhIGVuY2ltYVxyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVydXAnLCAocG9pbnRlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluc2lkZSA9IGJ1dHRvbi5nZXRCb3VuZHMoKS5jb250YWlucyhwb2ludGVyLngsIHBvaW50ZXIueSk7XHJcbiAgICAgICAgaWYgKCFpbnNpZGUpIHJldHVybjtcclxuICAgICAgICBvbkNsaWNrKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gYnV0dG9uO1xyXG59XHJcbiIsIi8vIFBhbnRhbGxhIGRlbCBNZW7DuiBQcmluY2lwYWxcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XG5pbXBvcnQgeyBlbnN1cmVMb29waW5nTXVzaWMsIGFwcGx5U3RvcmVkVm9sdW1lIH0gZnJvbSAnLi4vVUkvQXVkaW8uanMnO1xuXG5leHBvcnQgY2xhc3MgTWVudV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdNZW51X1NjZW5lJyk7XG4gICAgfVxuXG4gICAgcHJlbG9hZCgpIHtcbiAgICAgICAgLy8gYm90b25lc1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfR19TRUxFQ0NJT05BRE8ucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW5TZWxlY2Npb25hcicsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX0cucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9NZW51UHJpbmNpcGFsJywgJ0FTU0VUUy9GT05ET1MvTUVOVV9QUklOQ0lQQUwucG5nJyk7XG5cbiAgICAgICAgLy8gbG9nb1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2xvZ29FbXByZXNhJywgJ0FTU0VUUy9MT0dPL2xvZ29fZW1wcmVzYS5wbmcnKTtcblxuICAgICAgICAvLyBhdWRpb1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0dlbmVyYWwnLCAnQVNTRVRTL1NPTklETy9TT05JRE8xLm1wMycpO1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XG4gICAgfVxuXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBtw7pzaWNhIGRlIGZvbmRvXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xuICAgICAgICBlbnN1cmVMb29waW5nTXVzaWModGhpcywgJ3Nvbmlkb0dlbmVyYWwnLCB7IGxvb3A6IHRydWUgfSk7XG5cbiAgICAgICAgLy8gZXN0aWxvIGJhc2UgZGVsIHRleHRvXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHM/LmRlZmF1bHRUZXh0U3R5bGUgPz8ge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvLyBsYXlvdXRcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xuICAgICAgICBjb25zdCByaWdodEhhbGZYID0gY2VudGVyWCArIChjZW50ZXJYIC8gMik7XG5cbiAgICAgICAgLy8gZm9uZG8gYWp1c3RhZG8gYWwgY2FudmFzXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG9NZW51UHJpbmNpcGFsJylcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSk7XG4gICAgICAgIGJhY2tncm91bmQuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XG4gICAgICAgIFxuICAgICAgICAvLyB0w610dWxvIGRlbCBqdWVnb1xuICAgICAgICB0aGlzLmFkZC50ZXh0KHJpZ2h0SGFsZlgsIDExNSwgJ1ZvbGxleSBDbGFzaCcsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgICAgZm9udFNpemU6ICc2OHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgLy8vLyBCT1RPTkVTIC8vLy9cbiAgICAgICAgY29uc3QgZmlyc3RCdXR0b25ZID0gaGVpZ2h0IC8gMiAtIDYzO1xuICAgICAgICBjb25zdCBidXR0b25TcGFjaW5nID0gNzA7XG4gICAgICAgIGNvbnN0IGJ1dHRvblRleHRTdHlsZSA9IHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMjhweCcsIGNvbG9yOiAnIzAwMDAwMCcgfTtcblxuICAgICAgICAvLyBib3TDs24gSnVnYXJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xuICAgICAgICAgICAgeDogcmlnaHRIYWxmWCxcbiAgICAgICAgICAgIHk6IGZpcnN0QnV0dG9uWSxcbiAgICAgICAgICAgIGxhYmVsOiAnSnVnYXInLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTW9kZUdhbWVfU2NlbmUnKSxcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYm90w7NuIFR1dG9yaWFsXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHJpZ2h0SGFsZlgsXG4gICAgICAgICAgICB5OiBmaXJzdEJ1dHRvblkgKyBidXR0b25TcGFjaW5nLFxuICAgICAgICAgICAgbGFiZWw6ICdUdXRvcmlhbCcsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdUdXRvcmlhbF9TY2VuZScsIHsgcmV0dXJuU2NlbmU6ICdNZW51X1NjZW5lJyB9KSxcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYm90w7NuIENvbmZpZ3VyYWNpw7NuXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHJpZ2h0SGFsZlgsXG4gICAgICAgICAgICB5OiBmaXJzdEJ1dHRvblkgKyBidXR0b25TcGFjaW5nICogMixcbiAgICAgICAgICAgIGxhYmVsOiAnQ29uZmlndXJhY2nDs24nLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnQ29uZmlndXJhdGlvbl9TY2VuZScpLFxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBib3TDs24gQ3LDqWRpdG9zXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHJpZ2h0SGFsZlgsXG4gICAgICAgICAgICB5OiBmaXJzdEJ1dHRvblkgKyBidXR0b25TcGFjaW5nICogMyxcbiAgICAgICAgICAgIGxhYmVsOiAnQ3LDqWRpdG9zJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ0NyZWRpdHNfU2NlbmUnKSxcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYm90w7NuIGRlIGNlcnJhciBzZXNpw7NuXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHdpZHRoIC0gMTE1LFxuICAgICAgICAgICAgeTogNDAsXG4gICAgICAgICAgICBsYWJlbDogJ0NlcnJhciBTZXNpw7NuJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHsgdGhpcy5oYW5kbGVMb2dvdXQoKSB9LFxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8vLy8vLy8vXG5cbiAgICAgICAgLy8gbG9nbyBkZSBsYSBlbXByZXNhXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKHRoaXMuc2NhbGUud2lkdGggLSAyMCwgdGhpcy5zY2FsZS5oZWlnaHQgLSAyMCwgJ2xvZ29FbXByZXNhJylcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjQyKVxuICAgICAgICAgICAgLnNldE9yaWdpbigxLCAxKTtcbiAgICB9XG5cbiAgICBhc3luYyBoYW5kbGVMb2dvdXQoKSB7XG4gICAgICAgIGNvbnN0IHVzZXJuYW1lID0gdGhpcy5yZWdpc3RyeS5nZXQoJ3VzZXJuYW1lJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBBdmlzYXIgYWwgc2Vydmlkb3IgcGFyYSBxdWUgZGVqZSBsaWJyZSBlbCBwdWVzdG8gZGUgSG9zdFxuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBMaW1waWFyIGxvY2FsXG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd2b2xleV91c2VybmFtZScpO1xuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndm9sZXlfc2Vzc2lvbl90b2tlbicpO1xuXG4gICAgICAgIC8vIExpbXBpYXIgcmVnaXN0cnlcbiAgICAgICAgdGhpcy5yZWdpc3RyeS5yZW1vdmUoJ3VzZXJuYW1lJyk7XG4gICAgICAgIHRoaXMucmVnaXN0cnkucmVtb3ZlKCd1c2VyVG9rZW4nKTtcbiAgICAgICAgdGhpcy5yZWdpc3RyeS5yZW1vdmUoJ2lzSG9zdCcpO1xuXG4gICAgICAgIC8vIFZvbHZlciBhIGxhIHBhbnRhbGxhIGRlIGxvZ2luXG4gICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0xvZ2dpbmdfU2NlbmUnKTtcbiAgICB9XG59XG4iLCIvLyBDbGFzZSBkZSBsYSBlbnRpZGFkIFwicGVyc29uYWplXCIsIHNlIHRpZW5lIGVuIGN1ZW50YSBxdWUgc29uIDMgcGVyc29uYWplcyBkaXN0aW50b3NcclxuXHJcbmNvbnN0IFBPV0VSVVBfRFVSQVRJT05fTVMgPSB7XHJcbiAgdmVsb2NpZGFkOiA0MDAwLFxyXG4gIHJhbGVudGl6YXI6IDQwMDAsXHJcbiAgcGFyYWxpemFyOiAyNTAwLFxyXG4gIHBvcjI6IDQwMDAsXHJcbiAgcG9yMzogNDAwMCxcclxufTtcclxuXHJcbmNvbnN0IFNQRUVEX01VTFQgPSB7XHJcbiAgdmVsb2NpZGFkOiAxLjUsXHJcbiAgcmFsZW50aXphcjogMC41LFxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXllciB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGlkLCB4LCB5LCBjaGFyYWN0ZXJUeXBlKSB7XHJcbiAgICAgICAgLy8gSU5JQ0lBTElaQUNJw5NOXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDsgICAgICAgICAgICAgICAgICAgICAgIC8vIGlkZW50aWZpY2Fkb3IgZGVsIGp1Z2Fkb3IgKFAxLCBQMilcclxuICAgICAgICB0aGlzLmNoYXJhY3RlclR5cGUgPSBjaGFyYWN0ZXJUeXBlOyAvLyBpbmRpY2EgcXXDqSBwZXJzb25hamUgc2UgaGEgZWxlZ2lkb1xyXG5cclxuICAgICAgICAvLyB2ZWxvY2lkYWQgZGUgbW92aW1pZW50b1xyXG4gICAgICAgIHRoaXMuYmFzZU1vdmVTcGVlZCA9IDI1MDtcclxuICAgICAgICB0aGlzLm1vdmVTcGVlZCA9IHRoaXMuYmFzZU1vdmVTcGVlZDtcclxuXHJcbiAgICAgICAgdGhpcy5qdW1wU3BlZWQgPSAyNzU7ICAgLy8gZnVlcnphIGRlIHNhbHRvXHJcblxyXG4gICAgICAgIHRoaXMuYWN0aXZlUG93ZXJVcHMgPSB7fTsgICAvLyBwb3dlcnVwcyBhY3Rpdm9zXHJcblxyXG4gICAgICAgIC8vIGVzdGFkb3MgZGUgcG93ZXItdXBzXHJcbiAgICAgICAgdGhpcy5pc1BhcmFseXplZCA9IGZhbHNlOyAgICAgICAvLyBwYXJhIGVsIHBvd2VyIHVwIFwicGFyYWxpemFyXCJcclxuICAgICAgICB0aGlzLnBhcmFseXNpc1R3ZWVuID0gbnVsbDsgICAgIC8vIGFsIHF1ZWRhcnNlIHBhcmFsaXphZG8gLT4gcm9qb1xyXG4gICAgICAgIHRoaXMuc3BlZWRFZmZlY3RBY3RpdmUgPSBmYWxzZTsgLy8gdmVsb2NpZGFkIC0+IGNpYW4vdmVyZGVcclxuICAgICAgICB0aGlzLnNsb3dFZmZlY3RBY3RpdmUgPSBmYWxzZTsgIC8vIHJhbGVudGl6YWRvIC0+IGF6dWxcclxuXHJcbiAgICAgICAgdGhpcy5zY29yZU11bHRpcGxpZXIgPSAxOyAgICAgICAvLyBwYXJhIHBvcjIgLyBwb3IzXHJcbiAgICAgICAgLy8gdGV4dG8gZmxvdGFudGUgcGFyYSBtb3N0cmFyIHgyIC8geDNcclxuICAgICAgICB0aGlzLm11bHRpcGxpZXJUZXh0ID0gdGhpcy5zY2VuZS5hZGQudGV4dCh4LCB5IC0gNTAsICcnLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDRcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSwgMSlcclxuICAgICAgICAgICAgLnNldERlcHRoKDIwKVxyXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5wb3dlclVwSW52ZW50b3J5ID0gW107IC8vIG3DoXhpbW8gMlxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuaXNSZWNlaXZpbmcgPSBmYWxzZTsgICAvLyBlc3RhZG8gZGUgcmVjZXBjacOzblxyXG5cclxuICAgICAgICAvLyBsw61taXRlcyBkZSBtb3ZpbWllbnRvIHBlcnNvbmFsaXphZG9zXHJcbiAgICAgICAgdGhpcy5ib3VuZHNMZWZ0ID0gMDtcclxuICAgICAgICB0aGlzLmJvdW5kc1JpZ2h0ID0gOTYwO1xyXG4gICAgICAgIHRoaXMuYm91bmRzVG9wID0gMDtcclxuICAgICAgICB0aGlzLmJvdW5kc0JvdHRvbSA9IDU0MDtcclxuXHJcbiAgICAgICAgLy8gY29uZmlndXJhY2nDs24gZGUgbG9zIHNwcml0ZXMgeSBsYXMgYW5pbWFjaW9uZXMgc2Vnw7puIGVsIHBlcnNvbmFqZSBlbGVnaWRvXHJcbiAgICAgICAgY29uc3QgQ0hBUkFDVEVSX0NPTkZJRyA9IHtcclxuICAgICAgICAgICAgLy8gZXF1aWxpYnJhZG8geSBzaW1ww6F0aWNvXHJcbiAgICAgICAgICAgIGNoYXJhY3RlckE6IHtcclxuICAgICAgICAgICAgICAgIHRleHR1cmVLZXk6ICdjaGFyQV9tb3ZlJyxcclxuICAgICAgICAgICAgICAgIHN0YXJ0RnJhbWU6IDAsXHJcbiAgICAgICAgICAgICAgICBpZGxlTGVmdEFuaW06ICdjaGFyQV9pZGxlTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBpZGxlUmlnaHRBbmltOiAnY2hhckFfaWRsZVJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHJ1bkxlZnRBbmltOiAnY2hhckFfcnVuTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBydW5SaWdodEFuaW06ICdjaGFyQV9ydW5SaWdodCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wTGVmdEFuaW06ICdjaGFyQV9qdW1wTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wUmlnaHRBbmltOiAnY2hhckFfanVtcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVMZWZ0QW5pbTogJ2NoYXJBX3JlY2VpdmVMZWZ0JyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVSaWdodEFuaW06ICdjaGFyQV9yZWNlaXZlUmlnaHQnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIHLDoXBpZG8geSBjb21wZXRpdGl2b1xyXG4gICAgICAgICAgICBjaGFyYWN0ZXJCOiB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0dXJlS2V5OiAnY2hhckJfbW92ZScsXHJcbiAgICAgICAgICAgICAgICBzdGFydEZyYW1lOiAwLFxyXG4gICAgICAgICAgICAgICAgaWRsZUxlZnRBbmltOiAnY2hhckJfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICAgICAgaWRsZVJpZ2h0QW5pbTogJ2NoYXJCX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgICAgICBydW5MZWZ0QW5pbTogJ2NoYXJCX3J1bkxlZnQnLFxyXG4gICAgICAgICAgICAgICAgcnVuUmlnaHRBbmltOiAnY2hhckJfcnVuUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAganVtcExlZnRBbmltOiAnY2hhckJfanVtcExlZnQnLFxyXG4gICAgICAgICAgICAgICAganVtcFJpZ2h0QW5pbTogJ2NoYXJCX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlTGVmdEFuaW06ICdjaGFyQl9yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlUmlnaHRBbmltOiAnY2hhckJfcmVjZWl2ZVJpZ2h0J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyBkaXZlcnRpZG8geSBhbGdvIGRpc3RyYcOtZG9cclxuICAgICAgICAgICAgY2hhcmFjdGVyQzoge1xyXG4gICAgICAgICAgICAgICAgdGV4dHVyZUtleTogJ2NoYXJDX21vdmUnLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRGcmFtZTogMCxcclxuICAgICAgICAgICAgICAgIGlkbGVMZWZ0QW5pbTogJ2NoYXJDX2lkbGVMZWZ0JyxcclxuICAgICAgICAgICAgICAgIGlkbGVSaWdodEFuaW06ICdjaGFyQ19pZGxlUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgcnVuTGVmdEFuaW06ICdjaGFyQ19ydW5MZWZ0JyxcclxuICAgICAgICAgICAgICAgIHJ1blJpZ2h0QW5pbTogJ2NoYXJDX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIGp1bXBMZWZ0QW5pbTogJ2NoYXJDX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgICAgIGp1bXBSaWdodEFuaW06ICdjaGFyQ19qdW1wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZUxlZnRBbmltOiAnY2hhckNfcmVjZWl2ZUxlZnQnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZVJpZ2h0QW5pbTogJ2NoYXJDX3JlY2VpdmVSaWdodCdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHNpIHZpZW5lIHVuIHRpcG8gZGUgcGVyc29uYWplIGludsOhbGlkbywgc2UgdXNhIGNoYXJhY3RlckEgcG9yIGRlZmVjdG9cclxuICAgICAgICB0aGlzLmNvbmZpZyA9IENIQVJBQ1RFUl9DT05GSUdbY2hhcmFjdGVyVHlwZV0gfHwgQ0hBUkFDVEVSX0NPTkZJRy5jaGFyYWN0ZXJBO1xyXG5cclxuICAgICAgICAvLyBzZSBjcmVhIGVsIHNwcml0ZSBmw61zaWNvIGRlbCBqdWdhZG9yXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZShcclxuICAgICAgICAgICAgeCxcclxuICAgICAgICAgICAgeSxcclxuICAgICAgICAgICAgdGhpcy5jb25maWcudGV4dHVyZUtleSxcclxuICAgICAgICAgICAgdGhpcy5jb25maWcuc3RhcnRGcmFtZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy8gc2UgaGFjZSB1biBwb2NvIG3DoXMgZ3JhbmRlXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2NhbGUoMi41KTtcclxuICAgICAgICAvLyBzZSBhanVzdGEgbGEgaGl0Ym94IGFsIG51ZXZvIHRhbWHDsW8gcGFyYSBsYXMgY29saXNpb25lcywgc2UgcmVkdWNlblxyXG4gICAgICAgIC8vdGhpcy5zcHJpdGUuYm9keS5zZXRTaXplKHRoaXMuc3ByaXRlLndpZHRoLCB0aGlzLnNwcml0ZS5oZWlnaHQsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuc2V0U2l6ZSh0aGlzLnNwcml0ZS53aWR0aCAqIDAuOSwgdGhpcy5zcHJpdGUuaGVpZ2h0ICogMC45LCB0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gc2UgZ3VhcmRhIHVuYSByZWZlcmVuY2lhIGhhY2lhIFBsYXllciBkZW50cm8gZGVsIHByb3BpbyBzcHJpdGVcclxuICAgICAgICAvLyAoZXMgw7p0aWwgc2kgZW4gY29saXNpb25lcyBzZSBxdWllcmUgYWNjZWRlciBhIGxhIGzDs2dpY2EpXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGF0YSgncGxheWVyJywgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIHBhcmEgY29udHJvbGFyIGRpcmVjY2nDs24gYWN0dWFsXHJcbiAgICAgICAgdGhpcy5mYWNpbmcgPSAncmlnaHQnO1xyXG5cclxuICAgICAgICAvLyBlc3RhZG8gc2ltcGxlOiBlbiBlbCBhaXJlIG8gbm9cclxuICAgICAgICB0aGlzLmlzT25Hcm91bmQgPSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBmbGFnIHBhcmEgc2FiZXIgc2kgZXN0w6EgZW4gYW5pbWFjacOzbiBkZSBzYWx0b1xyXG4gICAgICAgIHRoaXMuaXNKdW1waW5nID0gZmFsc2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gdGltZXN0YW1wIHBhcmEgZGV0ZWN0YXIgc2kgaXNKdW1waW5nIHNlIHF1ZWRhIHN0dWNrICh0aW1lb3V0IGRlIDEgc2VndW5kbylcclxuICAgICAgICB0aGlzLmp1bXBTdGFydFRpbWUgPSAwO1xyXG5cclxuICAgICAgICAvLyBjdWFuZG8gc2UgdGVybWluZSBsYSBhbmltYWNpw7NuIGRlIHJlY2liaXIsIHNlIGRlamEgZGUgXCJlc3RhciByZWNpYmllbmRvXCJcclxuICAgICAgICB0aGlzLnNwcml0ZS5vbignYW5pbWF0aW9uY29tcGxldGUnLCAoYW5pbSkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIGFuaW0ua2V5ID09PSB0aGlzLmNvbmZpZy5yZWNlaXZlTGVmdEFuaW0gfHxcclxuICAgICAgICAgICAgICAgICAgICBhbmltLmtleSA9PT0gdGhpcy5jb25maWcucmVjZWl2ZVJpZ2h0QW5pbVxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGVsIHNhbHRvIHRlcm1pbmEgc2Vnw7puIGxhIGbDrXNpY2EgKyB1cGRhdGUoKSwgbm8gcG9yIGxhIGFuaW1hY2nDs24uXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBBbmltYXRpb24gY29tcGxldGUgaGFuZGxlciBlcnJvciBmb3IgJHthbmltLmtleX06YCwgZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIEhlbHBlciBwYXJhIHZlcmlmaWNhciBzaSBlc3TDoSBlbiBlbCBzdWVsbyBkZSBmb3JtYSBmaWFibGVcclxuICAgIGlzR3JvdW5kZWQoKSB7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMuc3ByaXRlLmJvZHk7XHJcbiAgICAgICAgaWYgKCFib2R5KSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIGJsb2NrZWQuZG93biDihpIgY29saXNpb25lcyBjb24gbMOtbWl0ZXMgZGVsIG11bmRvXHJcbiAgICAgICAgLy8gdG91Y2hpbmcuZG93biDihpIgY29saXNpb25lcyBjb24gb3Ryb3MgY3VlcnBvc1xyXG4gICAgICAgIHJldHVybiBib2R5LmJsb2NrZWQuZG93biB8fCBib2R5LnRvdWNoaW5nLmRvd247XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29tcHJ1ZWJhIHNpIGxvcyBwaWVzIGRlbCBqdWdhZG9yIGVzdMOhbiBjZXJjYSBkZWwgc3VlbG9cclxuICAgIGlzTmVhckdyb3VuZCh0aHJlc2hvbGQgPSAxMikge1xyXG4gICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzLnNwcml0ZS5ib2R5O1xyXG4gICAgICAgIGlmICghYm9keSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zY2VuZS5ncm91bmRZICE9PSAnbnVtYmVyJykgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBwYXJ0ZSBpbmZlcmlvciBkZWwgYm9keSAobm8gZGVsIHNwcml0ZSBlc2NhbGFkbylcclxuICAgICAgICBjb25zdCBmZWV0WSA9IGJvZHkueSArIGJvZHkuaGVpZ2h0O1xyXG4gICAgICAgIHJldHVybiBNYXRoLmFicyhmZWV0WSAtIHRoaXMuc2NlbmUuZ3JvdW5kWSkgPD0gdGhyZXNob2xkO1xyXG4gICAgfVxyXG5cclxuICAgIC8vLy8gQU5JTUFDSU9ORVMgLy8vL1xyXG4gICAgLy8gTW92aW1pZW50byBkZWwgcGVyc29uYWplIGhhY2lhIGxhIGl6cXVpZXJkYVxyXG4gICAgbW92ZUxlZnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQgfHwgdGhpcy5pc1JlY2VpdmluZykgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoLXRoaXMubW92ZVNwZWVkKTtcclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdsZWZ0JztcclxuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcucnVuTGVmdEFuaW0pO1xyXG4gICAgfVxyXG4gICAgLy8gTW92aW1pZW50byBkZWwgcGVyc29uYWplIGhhY2lhIGxhIGRlcmVjaGFcclxuICAgIG1vdmVSaWdodCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCB8fCB0aGlzLmlzUmVjZWl2aW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCh0aGlzLm1vdmVTcGVlZCk7XHJcbiAgICAgICAgdGhpcy5mYWNpbmcgPSAncmlnaHQnO1xyXG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5ydW5SaWdodEFuaW0pO1xyXG4gICAgfSAgICBcclxuXHJcbiAgICAvLyBTYWx0by9yZW1hdGUgZGVsIHBlcnNvbmFqZSBoYWNpYSBsYSBpenF1aWVyZGFcclxuICAgIGp1bXBMZWZ0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzR3JvdW5kZWQoKSB8fCB0aGlzLmlzTmVhckdyb3VuZCgyMCkpIHtcclxuICAgICAgICAgICAgLy8gcG9yIHNpIHVuYSByZWNlcGNpw7NuIHNlIHF1ZWTDsyBhIG1lZGlhcywgc2UgY2FuY2VsYVxyXG4gICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuanVtcFN0YXJ0VGltZSA9IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WSgtdGhpcy5qdW1wU3BlZWQpO1xyXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9ICdsZWZ0JztcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLmp1bXBMZWZ0QW5pbSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmU/LnBsYXlTZng/Lih0aGlzLnNjZW5lPy5zZng/Lmp1bXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIFNhbHRvL3JlbWF0ZSBkZWwgcGVyc29uYWplIGhhY2lhIGxhIGRlcmVjaGFcclxuICAgIGp1bXBSaWdodCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc0dyb3VuZGVkKCkgfHwgdGhpcy5pc05lYXJHcm91bmQoMjApKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNSZWNlaXZpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5qdW1wU3RhcnRUaW1lID0gdGhpcy5zY2VuZS50aW1lLm5vdztcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlZKC10aGlzLmp1bXBTcGVlZCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gJ3JpZ2h0JztcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLmp1bXBSaWdodEFuaW0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lPy5wbGF5U2Z4Py4odGhpcy5zY2VuZT8uc2Z4Py5qdW1wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVjZXBjacOzbiBkZWwgcGVyc29uYWplIHBvciBsYSBpenF1aWVyZGFcclxuICAgIHJlY2VpdmVMZWZ0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkKSByZXR1cm47XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjsgLy8gbm8gc2UgcmVpbmljaWEgc2kgeWEgZXN0w6EgcmVjaWJpZW5kbyBcclxuXHJcbiAgICAgICAgLy8gc2kgZXN0w6EgdG9jYW5kbyBlbCBzdWVsbywgcmVjaWJlIGxhIHBlbG90YVxyXG4gICAgICAgIGlmICh0aGlzLmlzR3JvdW5kZWQoKSB8fCB0aGlzLmlzTmVhckdyb3VuZCgyMCkpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSAnbGVmdCc7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5yZWNlaXZlTGVmdEFuaW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIFJlY2VwY2nDs24gZGVsIHBlcnNvbmFqZSBwb3IgbGEgZGVyZWNoYVxyXG4gICAgcmVjZWl2ZVJpZ2h0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkKSByZXR1cm47XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjsgLy8gbm8gc2UgcmVpbmljaWEgc2kgeWEgZXN0w6EgcmVjaWJpZW5kbyBcclxuXHJcbiAgICAgICAgLy8gc2kgZXN0w6EgdG9jYW5kbyBlbCBzdWVsbywgcmVjaWJlIGxhIHBlbG90YVxyXG4gICAgICAgIGlmICh0aGlzLmlzR3JvdW5kZWQoKSB8fCB0aGlzLmlzTmVhckdyb3VuZCgyMCkpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSAncmlnaHQnO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcucmVjZWl2ZVJpZ2h0QW5pbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFBlcnNvbmFqZSBpZGxlIGl6ZGFcclxuICAgIGlkbGVMZWZ0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUmVjZWl2aW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIHNpZW1wcmUgZGV0ZW5lciBsYSB2ZWxvY2lkYWQgaG9yaXpvbnRhbCBhbCBlbnRyYXIgZW4gaWRsZVxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdsZWZ0JztcclxuICAgICAgICAvLyByZXByb2R1Y2lyIGxhIGFuaW1hY2nDs24gZGUgaWRsZVxyXG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5pZGxlTGVmdEFuaW0pO1xyXG4gICAgfVxyXG4gICAgLy8gUGVyc29uYWplIGlkbGUgZGNoYVxyXG4gICAgaWRsZVJpZ2h0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUmVjZWl2aW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIHNpZW1wcmUgZGV0ZW5lciBsYSB2ZWxvY2lkYWQgaG9yaXpvbnRhbCBhbCBlbnRyYXIgZW4gaWRsZVxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcbiAgICAgICAgLy8gcmVwcm9kdWNpciBsYSBhbmltYWNpw7NuIGRlIGlkbGVcclxuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcuaWRsZVJpZ2h0QW5pbSk7XHJcbiAgICB9XHJcbiAgICAvLy8vLy8vL1xyXG5cclxuICAgIC8vIEVzdGFibGVjZXIgbG9zIGzDrW1pdGVzIGRlIG1vdmltaWVudG8gZGVsIGp1Z2Fkb3IgKHBhcmEgY29uZmluYXIgYSBsYSBjYW5jaGEpXHJcbiAgICBzZXRCb3VuZHMobGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tKSB7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNMZWZ0ID0gbGVmdDtcclxuICAgICAgICB0aGlzLmJvdW5kc1JpZ2h0ID0gcmlnaHQ7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNUb3AgPSB0b3A7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNCb3R0b20gPSBib3R0b207XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWFudGVuZXIgZWwganVnYWRvciBkZW50cm8gZGUgbG9zIGzDrW1pdGVzXHJcbiAgICBjbGFtcFdpdGhpbkJvdW5kcygpIHtcclxuICAgICAgICBjb25zdCBoYWxmV2lkdGggPSB0aGlzLnNwcml0ZS53aWR0aCAvIDI7XHJcbiAgICAgICAgLy8gbGltaXRhciBwb3NpY2nDs24gaG9yaXpvbnRhbCAoWClcclxuICAgICAgICBpZiAodGhpcy5zcHJpdGUueCAtIGhhbGZXaWR0aCA8IHRoaXMuYm91bmRzTGVmdCkge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS54ID0gdGhpcy5ib3VuZHNMZWZ0ICsgaGFsZldpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS54ICsgaGFsZldpZHRoID4gdGhpcy5ib3VuZHNSaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS54ID0gdGhpcy5ib3VuZHNSaWdodCAtIGhhbGZXaWR0aDtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBNb3ZlciBlbCBqdWdhZG9yIGEgdW5hIHBvc2ljacOzbiBjb25jcmV0YSAoeSBkZXRlbmVybG8pXHJcbiAgICAvLyAoc2UgbGxhbWEgYWwgY2FtYmlhciBkZSBzZXRzKVxyXG4gICAgc2V0UG9zaXRpb24oeCwgeSkge1xyXG4gICAgICAgIGlmICghdGhpcy5zcHJpdGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0UG9zaXRpb24oeCwgeSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7IC8vIHBvciBzaSB2ZW7DrWEgY29uIHZlbG9jaWRhZFxyXG5cclxuICAgICAgICAvLyBhY3R1YWxpemFyIHRhbWJpw6luIGxhIHBvc2ljacOzbiBkZWwgdGV4dG8geDIveDNcclxuICAgICAgICB0aGlzLnVwZGF0ZU11bHRpcGxpZXJUZXh0UG9zaXRpb24oKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlTXVsdGlwbGllclRleHRQb3NpdGlvbigpIHtcclxuICAgICAgICBpZiAoIXRoaXMubXVsdGlwbGllclRleHQgfHwgIXRoaXMuc3ByaXRlKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIGFsdHVyYSDigJx2aXN1YWzigJ0gZGVsIHNwcml0ZSBwYXJhIGNvbG9jYXIgZWwgdGV4dG8gZW5jaW1hIGRlIGxhIGNhYmV6YVxyXG4gICAgICAgIGNvbnN0IGRpc3BsYXlIID0gdGhpcy5zcHJpdGUuZGlzcGxheUhlaWdodCB8fCB0aGlzLnNwcml0ZS5oZWlnaHQgfHwgNDA7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IGRpc3BsYXlIICogMC42OyAvLyBhanVzdGEgc2kgcXVpZXJlcyBtw6FzIGFycmliYS9hYmFqb1xyXG5cclxuICAgICAgICB0aGlzLm11bHRpcGxpZXJUZXh0LnNldFBvc2l0aW9uKFxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS54LFxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS55IC0gb2Zmc2V0WVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVwcm9kdWNlIHVuYSBhbmltYWNpw7NuIHNpIGV4aXN0ZSAoc29sbyBzaSBubyBlc3TDoSB5YSByZXByb2R1Y2nDqW5kb3NlKVxyXG4gICAgcGxheUFuaW1hdGlvbihhbmltS2V5KSB7XHJcbiAgICAgICAgaWYgKCFhbmltS2V5KSByZXR1cm47XHJcbiAgICAgICAgaWYgKCF0aGlzLnNwcml0ZS5hbmltcykgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBzaSBlc3RhbW9zIGVuIHNhbHRvLCBpZ25vcmFyIGN1YWxxdWllciBhbmltYWNpw7NuIHF1ZSBubyBzZWEgZGUgc2FsdG9cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nICYmXHJcbiAgICAgICAgICAgIGFuaW1LZXkgIT09IHRoaXMuY29uZmlnLmp1bXBMZWZ0QW5pbSAmJlxyXG4gICAgICAgICAgICBhbmltS2V5ICE9PSB0aGlzLmNvbmZpZy5qdW1wUmlnaHRBbmltXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRBbmltID0gdGhpcy5zcHJpdGUuYW5pbXMuY3VycmVudEFuaW07XHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLmFuaW1zLmlzUGxheWluZyAmJiBjdXJyZW50QW5pbSAmJiBjdXJyZW50QW5pbS5rZXkgPT09IGFuaW1LZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYW5pbXMucGxheShhbmltS2V5LCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3R1YWxpemFyIGZsYWdzIGNvbW8gaXNPbkdyb3VuZCAoc2UgbGxhbWEgYSBlc3RvIGRlc2RlIGxhIGVzY2VuYSwgZW4gY2FkYSBmcmFtZSlcclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zcHJpdGUuYm9keSkge1xyXG4gICAgICAgICAgICBjb25zdCB3YXNPbkdyb3VuZCA9IHRoaXMuaXNPbkdyb3VuZDtcclxuICAgICAgICAgICAgdGhpcy5pc09uR3JvdW5kID0gdGhpcy5pc0dyb3VuZGVkKCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50QW5pbSA9IHRoaXMuc3ByaXRlLmFuaW1zLmN1cnJlbnRBbmltO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50S2V5ID0gY3VycmVudEFuaW0gPyBjdXJyZW50QW5pbS5rZXkgOiBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTsgLy8gcG9yIHNpIGFjYXNvXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGZhaWxzYWZlIHJlY2VwY2nDs246IHNpIGVsIGZsYWcgZGljZSBcInJlY2liaWVuZG9cIiBwZXJvIGxhIGFuaW1hY2nDs24gbm8gbG8gZXNcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyAmJlxyXG4gICAgICAgICAgICAgICAgY3VycmVudEtleSAhPT0gdGhpcy5jb25maWcucmVjZWl2ZUxlZnRBbmltICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50S2V5ICE9PSB0aGlzLmNvbmZpZy5yZWNlaXZlUmlnaHRBbmltXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBmYWlsc2FmZSBzYWx0bzogc2kgaXNKdW1waW5nIGVzIHRydWUgcGVybyBsYSBhbmltYWNpw7NuIGFjdHVhbCBOTyBlcyBkZSBzYWx0b1xyXG4gICAgICAgICAgICAvLyAoeSBoYXkgYW5pbWFjacOzbiksIHNlIGFzdW1lIHF1ZSB0ZXJtaW7Ds1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzSnVtcGluZyAmJlxyXG4gICAgICAgICAgICAgICAgY3VycmVudEtleSAmJlxyXG4gICAgICAgICAgICAgICAgY3VycmVudEtleSAhPT0gdGhpcy5jb25maWcuanVtcExlZnRBbmltICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50S2V5ICE9PSB0aGlzLmNvbmZpZy5qdW1wUmlnaHRBbmltXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gdGltZW91dCBkZSBzYWx0byBwb3Igc2VndXJpZGFkXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzSnVtcGluZyAmJiAodGhpcy5zY2VuZS50aW1lLm5vdyAtIHRoaXMuanVtcFN0YXJ0VGltZSA+IDE1MDApKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBhdGVycml6YWplIHJlYWxcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNKdW1waW5nICYmICF3YXNPbkdyb3VuZCAmJiB0aGlzLmlzT25Hcm91bmQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWRsZUxlZnQoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZGxlUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNsYW1wV2l0aGluQm91bmRzKCk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlTXVsdGlwbGllclRleHRQb3NpdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVzbyBkZSBsb3MgcG93ZXItdXBzXHJcbiAgICBhcHBseVBvd2VyVXAodHlwZSkge1xyXG4gICAgICAgIC8vIGludmVudGFyaW8gbcOheGltbyBkZSAyXHJcbiAgICAgICAgaWYgKHRoaXMucG93ZXJVcEludmVudG9yeS5sZW5ndGggPj0gMikgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLnBvd2VyVXBJbnZlbnRvcnkucHVzaCh0eXBlKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB1c2VOZXh0UG93ZXJVcCgpIHtcclxuICAgICAgICBpZiAodGhpcy5wb3dlclVwSW52ZW50b3J5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCB0eXBlID0gdGhpcy5wb3dlclVwSW52ZW50b3J5LnNoaWZ0KCk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmF0ZVBvd2VyVXAodHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWN0aXZhIGVsIGVmZWN0byBkZWwgcG93ZXItdXBcclxuICAgIGFjdGl2YXRlUG93ZXJVcCh0eXBlKSB7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3ZlbG9jaWRhZCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5T3JSZWZyZXNoVGltZWRFZmZlY3QoJ3ZlbG9jaWRhZCcsIFBPV0VSVVBfRFVSQVRJT05fTVMudmVsb2NpZGFkKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdyYWxlbnRpemFyJzoge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3Bwb25lbnQgPSB0aGlzLmdldE9wcG9uZW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAob3Bwb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHBvbmVudC5hcHBseU9yUmVmcmVzaFRpbWVkRWZmZWN0KCdyYWxlbnRpemFyJywgUE9XRVJVUF9EVVJBVElPTl9NUy5yYWxlbnRpemFyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgJ3BhcmFsaXphcic6IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9wcG9uZW50ID0gdGhpcy5nZXRPcHBvbmVudCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3Bwb25lbnQuYXBwbHlPclJlZnJlc2hUaW1lZEVmZmVjdCgncGFyYWxpemFyJywgUE9XRVJVUF9EVVJBVElPTl9NUy5wYXJhbGl6YXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSAncG9yMic6XHJcbiAgICAgICAgICAgIGNhc2UgJ3BvcjMnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseU9yUmVmcmVzaFRpbWVkRWZmZWN0KHR5cGUsIFBPV0VSVVBfRFVSQVRJT05fTVNbdHlwZV0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdHVhbGl6YSBsb3MgcG93ZXItdXBzXHJcbiAgICB1cGRhdGVQb3dlclVwcygpIHtcclxuICAgICAgICBjb25zdCBub3cgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG5cclxuICAgICAgICBsZXQgc3BlZWROZWVkc1JlY2FsYyA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBzY29yZU5lZWRzUmVjYWxjID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHNlIHJldmlzYW4gdG9kb3MgbG9zIHBvd2VyLXVwcyBhY3Rpdm9zXHJcbiAgICAgICAgZm9yIChjb25zdCB0eXBlIGluIHRoaXMuYWN0aXZlUG93ZXJVcHMpIHtcclxuICAgICAgICAgICAgaWYgKG5vdyA8PSB0aGlzLmFjdGl2ZVBvd2VyVXBzW3R5cGVdKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2ZVBvd2VyVXBzW3R5cGVdO1xyXG5cclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd2ZWxvY2lkYWQnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3BlZWRFZmZlY3QoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkTmVlZHNSZWNhbGMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncmFsZW50aXphcic6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTbG93RWZmZWN0KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBzcGVlZE5lZWRzUmVjYWxjID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3BhcmFsaXphcic6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQYXJhbHl6ZWQoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncG9yMic6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdwb3IzJzpcclxuICAgICAgICAgICAgICAgICAgICBzY29yZU5lZWRzUmVjYWxjID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNwZWVkTmVlZHNSZWNhbGMpIHRoaXMucmVjYWxjdWxhdGVNb3ZlU3BlZWQoKTtcclxuICAgICAgICBpZiAoc2NvcmVOZWVkc1JlY2FsYykgdGhpcy5yZWNhbGN1bGF0ZVNjb3JlRWZmZWN0KCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vLy8gRUZFQ1RPUyBWSVNVQUxFUyBERSBMT1MgUE9XRVItVVBTIC8vLy9cclxuICAgIC8vIHBhcmFsaXphciAtPiByb2pvICsgcGFycGFkZW9cclxuICAgIHNldFBhcmFseXplZChpc1BhcmFseXplZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXJhbHl6ZWQgPSBpc1BhcmFseXplZDtcclxuXHJcbiAgICAgICAgaWYgKGlzUGFyYWx5emVkKSB7XHJcbiAgICAgICAgICAgIC8vIGZlZWRiYWNrIHZpc3VhbDogcm9qbyArIHBhcnBhZGVvXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHhmZjU1NTUpOyAgIC8vIHJvaml6b1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHBvciBzaSB5YSBoYWLDrWEgdW4gdHdlZW4gYW50ZXJpb3JcclxuICAgICAgICAgICAgaWYgKHRoaXMucGFyYWx5c2lzVHdlZW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyYWx5c2lzVHdlZW4uc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2VlbiA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucGFyYWx5c2lzVHdlZW4gPSB0aGlzLnNjZW5lLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICBhbHBoYTogMC4zLFxyXG4gICAgICAgICAgICAgICAgeW95bzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAsXHJcbiAgICAgICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gc2VndXJpZGFkIGV4dHJhOiBxdWUgc2UgcXVlZGUgcXVpZXRvIGhvcml6b250YWxtZW50ZVxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHF1aXRhciBzb2xvIGVsIGVmZWN0byBkZSBwYXJwYWRlbywgZWwgY29sb3Igc2UgcmVjYWxjdWxhXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMucGFyYWx5c2lzVHdlZW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyYWx5c2lzVHdlZW4uc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2VlbiA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFZvbHZlbW9zIGEgYXBsaWNhciBlbCBjb2xvciBkZSBvdHJvcyBwb3dlci11cHMgYWN0aXZvcyAoc2kgbG9zIGhheSlcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoUG93ZXJVcFZpc3VhbHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIC8vIHZlbG9jaWRhZCAtPiBuYXJhbmphXHJcbiAgICBzZXRTcGVlZEVmZmVjdChhY3RpdmUpIHtcclxuICAgICAgICB0aGlzLnNwZWVkRWZmZWN0QWN0aXZlID0gYWN0aXZlO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFBvd2VyVXBWaXN1YWxzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmFsZW50aXphciAtPiBhenVsXHJcbiAgICBzZXRTbG93RWZmZWN0KGFjdGl2ZSkge1xyXG4gICAgICAgIHRoaXMuc2xvd0VmZmVjdEFjdGl2ZSA9IGFjdGl2ZTtcclxuICAgICAgICB0aGlzLnJlZnJlc2hQb3dlclVwVmlzdWFscygpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBSZWNhbGN1bGEgbGEgdmVsb2NpZGFkIGRlIG1vdmltaWVudG8gc2Vnw7puIGxvcyBwb3dlci11cHMgcXVlIGVzdMOpbiBhY3Rpdm9zXHJcbiAgICByZWNhbGN1bGF0ZU1vdmVTcGVlZCgpIHtcclxuICAgICAgICBsZXQgbXVsdCA9IDE7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVBvd2VyVXBzLnZlbG9jaWRhZCkgbXVsdCAqPSBTUEVFRF9NVUxULnZlbG9jaWRhZDtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmVQb3dlclVwcy5yYWxlbnRpemFyKSBtdWx0ICo9IFNQRUVEX01VTFQucmFsZW50aXphcjtcclxuXHJcbiAgICAgICAgdGhpcy5tb3ZlU3BlZWQgPSB0aGlzLmJhc2VNb3ZlU3BlZWQgKiBtdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlY2FsY3VsYSBlbCBtdWx0aXBsaWNhZG9yIGRlIHB1bnR1YWNpw7NuIGVuIGZ1bmNpw7NuIGRlIHBvcjIvcG9yMyBhY3Rpdm9zXHJcbiAgICByZWNhbGN1bGF0ZVNjb3JlRWZmZWN0KCkge1xyXG4gICAgICAgIGxldCBtdWx0aXBsaWVyID0gMTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlUG93ZXJVcHNbJ3BvcjInXSkge1xyXG4gICAgICAgICAgICBtdWx0aXBsaWVyID0gTWF0aC5tYXgobXVsdGlwbGllciwgMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVBvd2VyVXBzWydwb3IzJ10pIHtcclxuICAgICAgICAgICAgbXVsdGlwbGllciA9IE1hdGgubWF4KG11bHRpcGxpZXIsIDMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zY29yZU11bHRpcGxpZXIgPSBtdWx0aXBsaWVyO1xyXG5cclxuICAgICAgICAvLyBmZWVkYmFjayB2aXN1YWwgY29uIHRleHRvIHgyIC8geDNcclxuICAgICAgICBpZiAodGhpcy5tdWx0aXBsaWVyVGV4dCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zY29yZU11bHRpcGxpZXIgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpcGxpZXJUZXh0LnNldFRleHQoJ3gnICsgdGhpcy5zY29yZU11bHRpcGxpZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdWx0aXBsaWVyVGV4dC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdWx0aXBsaWVyVGV4dC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gbWFudGVuZXIgbG9zIGNvbG9yZXMgcXVlIHlhIHNlIHRlbsOtYW5cclxuICAgICAgICB0aGlzLnJlZnJlc2hQb3dlclVwVmlzdWFscygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFwbGljYSBvIGFjdHVhbGl6YSBsYSBkdXJhY2nDs24gZGUgdW4gcG93ZXItdXBcclxuICAgIGFwcGx5T3JSZWZyZXNoVGltZWRFZmZlY3QodHlwZSwgZHVyYXRpb25Ncykge1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVQb3dlclVwc1t0eXBlXSA9IG5vdyArIGR1cmF0aW9uTXM7XHJcblxyXG4gICAgICAgIC8vIHNlIGFjdGl2YSBlbCBmZWVkYmFjay9lc3RhZG9cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3ZlbG9jaWRhZCcpIHRoaXMuc2V0U3BlZWRFZmZlY3QodHJ1ZSk7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdyYWxlbnRpemFyJykgdGhpcy5zZXRTbG93RWZmZWN0KHRydWUpO1xyXG4gICAgICAgIGlmICh0eXBlID09PSAncGFyYWxpemFyJykgdGhpcy5zZXRQYXJhbHl6ZWQodHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vIHNlIHJlY2FsY3VsYW4gbG9zIGVmZWN0b3Mgc2kgZXMgbmVjZXNhcmlvXHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICd2ZWxvY2lkYWQnIHx8IHR5cGUgPT09ICdyYWxlbnRpemFyJykge1xyXG4gICAgICAgICAgICB0aGlzLnJlY2FsY3VsYXRlTW92ZVNwZWVkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlID09PSAncG9yMicgfHwgdHlwZSA9PT0gJ3BvcjMnKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjYWxjdWxhdGVTY29yZUVmZmVjdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBEZWNpZGUgcXXDqSB0aW50ZSBtb3N0cmFyIHNlZ8O6biBlbCBlc3RhZG8gYWN0dWFsXHJcbiAgICByZWZyZXNoUG93ZXJVcFZpc3VhbHMoKSB7XHJcbiAgICAgICAgLy8gc2kgZXN0w6EgcGFyYWxpemFkbywgbGEgcGFyw6FsaXNpcyBtYW5kYSAoY29sb3IgIHJvam8gKyBwYXJwYWRlbylcclxuICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBQaGFzZXIgc29sbyBwZXJtaXRlIHVuIGNvbG9yIGEgbGEgdmV6IHBvciBzcHJpdGUsIHBvciBlc28gbGFcclxuICAgICAgICAvLyBwcmlvcmlkYWQgdmlzdWFsIGVzOiByYWxlbnRpemFyID4gdmVsb2NpZGFkID4gbXVsdGlwbGljYWRvclxyXG4gICAgICAgIGlmICh0aGlzLnNsb3dFZmZlY3RBY3RpdmUpIHtcclxuICAgICAgICAgICAgLy8gYXp1bCBvc2N1cm8gcGFyYSByYWxlbnRpemFyXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHg1NTU1ZmYpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zcGVlZEVmZmVjdEFjdGl2ZSkge1xyXG4gICAgICAgICAgICAvLyBuYXJhbmphIHBhcmEgdmVsb2NpZGFkXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHhmZjhjMDApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zY29yZU11bHRpcGxpZXIgPiAxKSB7XHJcbiAgICAgICAgICAgIC8vIHZlcmRlIHBhcmEgeDIgLyB4M1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4MzJjZDMyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBzaW4gZWZlY3Rvc1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5jbGVhclRpbnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLy8vLy8vXHJcblxyXG4gICAgZ2V0T3Bwb25lbnQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNjZW5lLnBsYXllcnMpIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuc2NlbmUucGxheWVycy52YWx1ZXMoKSkuZmluZChwID0+IHAgIT09IHRoaXMpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBBcHBseVBvd2VyVXBDb21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcihwbGF5ZXIsIHBvd2VyVXBUeXBlKSB7XG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuICAgICAgICB0aGlzLnBvd2VyVXBUeXBlID0gcG93ZXJVcFR5cGU7XG4gICAgICAgIHRoaXMuc3RvcmVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZXhlY3V0ZSgpIHtcbiAgICAgICAgdGhpcy5zdG9yZWQgPSB0aGlzLnBsYXllci5hcHBseVBvd2VyVXAodGhpcy5wb3dlclVwVHlwZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlZDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBcHBseVBvd2VyVXBDb21tYW5kIH0gZnJvbSBcIi4uL0NvbW1hbmRzL0FwcGx5UG93ZXJVcENvbW1hbmRcIjtcblxuZXhwb3J0IGNsYXNzIFBvd2VyVXAge1xuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5LCB0eXBlKSB7XG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcblxuICAgICAgICB0aGlzLmlzQ29sbGVjdGVkID0gZmFsc2U7ICAgLy8gcGFyYSBldml0YXIgcmVjb2dlciB2YXJpYXMgdmVjZXNcbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7ICAgIC8vIHBhcmEgZXZpdGFyIGRlc3RydWlyIHZhcmlhcyB2ZWNlc1xuICAgICAgICB0aGlzLl9jb29sZG93blVudGlsID0gMDsgICAgLy8gdGllbXBvIGhhc3RhIGVsIHF1ZSBubyBzZSBwdWVkZSByZWNvZ2VyXG5cbiAgICAgICAgdGhpcy5mYWRlU3RhcnQgPSAzMDAwOyAgICAgIC8vIG1zIGhhc3RhIGVtcGV6YXIgYSBkZXN2YW5lY2Vyc2VcbiAgICAgICAgdGhpcy5saWZldGltZSA9IDUwMDA7ICAgICAgIC8vIG1zIGRlIHZpZGEgdG90YWxcblxuICAgICAgICB0aGlzLl9vdmVybGFwcyA9IFtdOyAgICAgICAgLy8gY29sbGlkZXJzIG92ZXJsYXBzXG4gICAgICAgIHRoaXMuZmFkZVR3ZWVuID0gbnVsbDsgICAgICAvLyB0d2VlbiBkZSBmYWRlXG4gICAgICAgIHRoaXMuX2xpZmV0aW1lVGltZXIgPSBudWxsOyAvLyB0aW1lciBkZSB2aWRhXG5cbiAgICAgICAgdGhpcy5zcHJpdGUgPSBzY2VuZS5waHlzaWNzLmFkZC5zdGF0aWNJbWFnZSh4LCB5LCB0eXBlKVxuICAgICAgICAgICAgLnNldFNjYWxlKDEuMilcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSgpO1xuXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YSBlbCBib2R5IHRyYXMgZWwgZXNjYWxhZG9cbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLnJlZnJlc2hCb2R5KSB0aGlzLnNwcml0ZS5yZWZyZXNoQm9keSgpO1xuXG4gICAgICAgIC8vIHNlIGd1YXJkYSBlbCB0d2VlbiBwYXJhIHBvZGVyIHBhcmFybG8gZW4gZGVzdHJveVxuICAgICAgICBjb25zdCBmYWRlRGVsYXkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih0aGlzLmZhZGVTdGFydCwgdGhpcy5saWZldGltZSkpO1xuICAgICAgICBjb25zdCBmYWRlRHVyYXRpb24gPSBNYXRoLm1heCgwLCB0aGlzLmxpZmV0aW1lIC0gZmFkZURlbGF5KTtcblxuICAgICAgICBpZiAoZmFkZUR1cmF0aW9uID4gMCkge1xuICAgICAgICAgICAgdGhpcy5mYWRlVHdlZW4gPSBzY2VuZS50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgICAgICB0YXJnZXRzOiB0aGlzLnNwcml0ZSxcbiAgICAgICAgICAgICAgICBhbHBoYTogMCxcbiAgICAgICAgICAgICAgICBkZWxheTogZmFkZURlbGF5LFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBmYWRlRHVyYXRpb25cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gb3ZlcmxhcHMgY29uIGxvcyBqdWdhZG9yZXNcbiAgICAgICAgY29uc3QgcGxheWVycyA9IHNjZW5lLnBsYXllcnM7XG4gICAgICAgIGlmIChwbGF5ZXJzICYmIHR5cGVvZiBwbGF5ZXJzLmZvckVhY2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcGxheWVyPy5zcHJpdGUpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBzY2VuZS5waHlzaWNzLmFkZC5vdmVybGFwKFxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZSxcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4gdGhpcy5jb2xsZWN0KHBsYXllciksXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuX292ZXJsYXBzLnB1c2goYyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRpbWVyIGRlIHZpZGFcbiAgICAgICAgdGhpcy5fbGlmZXRpbWVUaW1lciA9IHNjZW5lLnRpbWUuZGVsYXllZENhbGwodGhpcy5saWZldGltZSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJlY29nZSBlbCBwb3dlci11cFxuICAgIGNvbGxlY3QocGxheWVyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbUG93ZXJVcF0gb3ZlcmxhcCBjb24nLCBwbGF5ZXIuaWQsICd0aXBvJywgdGhpcy50eXBlKTtcblxuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLmlzQ29sbGVjdGVkKSByZXR1cm47XG5cbiAgICAgICAgLy8gc2kgZWwgaW52ZW50YXJpbyBlc3TDoSBsbGVubyB5IGVsIGp1Z2Fkb3Igc2UgcXVlZGEgZW5jaW1hLCBzZSBldml0YSBlbCBzcGFtXG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMuc2NlbmUudGltZS5ub3c7XG4gICAgICAgIGlmICh0aGlzLl9jb29sZG93blVudGlsICYmIG5vdyA8IHRoaXMuX2Nvb2xkb3duVW50aWwpIHJldHVybjtcblxuICAgICAgICB0aGlzLmlzQ29sbGVjdGVkID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBjbWQgPSBuZXcgQXBwbHlQb3dlclVwQ29tbWFuZChwbGF5ZXIsIHRoaXMudHlwZSk7XG4gICAgICAgIHRoaXMuc2NlbmUuY29tbWFuZFByb2Nlc3Nvci5wcm9jZXNzKGNtZCk7XG5cbiAgICAgICAgLy8gc2kgTk8gc2UgcHVlZGUgZ3VhcmRhciBwb3JxdWUgZWwgaW52ZW50YXJpbyBlc3TDoSBsbGVubywgTk8gc2UgZGVzdHJ1eWVcbiAgICAgICAgaWYgKCFjbWQuc3RvcmVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzQ29sbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9jb29sZG93blVudGlsID0gbm93ICsgMzAwO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuc2NlbmUudXBkYXRlUGxheWVySW52ZW50b3J5VUk/LihwbGF5ZXIpO1xuICAgIH1cblxuICAgIC8vIERlc3RydXllIGVsIHBvd2VyLXVwXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuXG4gICAgICAgIC8vIGNvbGxpZGVycyBvdmVybGFwc1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLl9vdmVybGFwcykpIHtcbiAgICAgICAgICAgIHRoaXMuX292ZXJsYXBzLmZvckVhY2goYyA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHsgYy5kZXN0cm95KCk7IH0gY2F0Y2gge31cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fb3ZlcmxhcHMgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHR3ZWVuXG4gICAgICAgIGlmICh0aGlzLmZhZGVUd2Vlbikge1xuICAgICAgICAgICAgdHJ5IHsgdGhpcy5mYWRlVHdlZW4uc3RvcCgpOyB9IGNhdGNoIHt9XG4gICAgICAgICAgICB0aGlzLmZhZGVUd2VlbiA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aW1lclxuICAgICAgICBpZiAodGhpcy5fbGlmZXRpbWVUaW1lcikge1xuICAgICAgICAgICAgdGhpcy5fbGlmZXRpbWVUaW1lci5yZW1vdmUoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5fbGlmZXRpbWVUaW1lciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzcHJpdGVcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlKSB7XG4gICAgICAgICAgICB0cnkgeyB0aGlzLnNwcml0ZS5kZXN0cm95KCk7IH0gY2F0Y2gge31cbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbmFsbWVudGUsIHNlIHF1aXRhIGRlbCBhcnJheVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnNjZW5lLnBvd2VyVXBzKSkge1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5wb3dlclVwcyA9IHRoaXMuc2NlbmUucG93ZXJVcHMuZmlsdGVyKHAgPT4gcCAhPT0gdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgQmFsbCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgeCwgeSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3NvciA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdiYWxsJyk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2NhbGUoMS4wKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRCb3VuY2UoMC44KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGF0YSgnYmFsbCcsIHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBzZWd1aW1pZW50byBkZWwgZXN0YWRvIGRlbCByYWxseVxyXG4gICAgICAgIHRoaXMubGFzdFRvdWNoZWRCeSA9IG51bGw7ICAgICAgLy8gaWQgZGVsIGp1Z2Fkb3IgKCdwbGF5ZXIxJyBvICdwbGF5ZXIyJylcclxuICAgICAgICB0aGlzLnRvdWNoQ291bnQgPSAwOyAgICAgICAgICAgIC8vIHRvcXVlcyBlbiBlbCByYWxseSBhY3R1YWwgcG9yIGxhZG8gZGUgbGEgY2FuY2hhXHJcbiAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAnbGVmdCc7ICAgICAgICAvLyBsYWRvIGRlIGxhIGNhbmNoYSBkb25kZSBlc3TDoSBsYSBwZWxvdGFcclxuICAgICAgICB0aGlzLmlzQmFsbExpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyBwb3NpY2nDs24gZGUgbGEgcmVkIChoYXJkY29kZWFkbyBwYXJhIGFuY2hvIGRlIDk2MHB4KVxyXG4gICAgICAgIHRoaXMubmV0WCA9IDQ4MDtcclxuXHJcbiAgICAgICAgLy8gcGFyYSBldml0YXIgdG9xdWVzIG3Dumx0aXBsZXMgcG9yIGVzdGFyIHBlZ2FkYSB5IHF1ZSBcImRlc2FwYXJlemNhXCJcclxuICAgICAgICB0aGlzLmxhc3RIaXRUaW1lID0gMDtcclxuICAgICAgICB0aGlzLmxhc3RIaXRQbGF5ZXJJZCA9IG51bGw7XHJcblx0XHRcclxuICAgICAgICAvL3RoaXMuaXNGaXJzdFNlcnZlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZW5lcmEgdW4gbsO6bWVybyBhbGVhdG9yaW8gcGFyYSB2YXJpYXIgbGV2ZW1lbnRlIGxhIHZlbG9jaWRhZCBkZSBsYSBwZWxvdGFcclxuICAgIF9nZXRSYW5kb21GYWN0b3IobWluID0gMC45NSwgbWF4ID0gMS4wNSkge1xyXG4gICAgICAgIHJldHVybiBtaW4gKyAobWF4IC0gbWluKSAqIE1hdGgucmFuZG9tKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2UgbGxhbWEgY3VhbmRvIHVuIGp1Z2Fkb3IgZ29scGVhIGxhIHBlbG90YVxyXG4gICAgaGl0KHBsYXllciwgcGxheWVyRmFjaW5nRGlyZWN0aW9uLCBpc0p1bXBpbmcsIGlzUmVjZWl2aW5nID0gZmFsc2UpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBub3cgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG5cclxuICAgICAgICAvLyBzaSBlcyBlbCBtaXNtbyBqdWdhZG9yIHkgaGEgcGFzYWRvIG11eSBwb2NvIHRpZW1wbyxcclxuICAgICAgICAvLyBpZ25vcmFtb3MgZXNlIFwidG9xdWVcIiBwYXJhIG5vIHN1bWFyIG3DoXMgZ29scGVzXHJcbiAgICAgICAgaWYgKHRoaXMubGFzdEhpdFBsYXllcklkID09PSBwbGF5ZXIuaWQgJiYgKG5vdyAtIHRoaXMubGFzdEhpdFRpbWUpIDwgMTIwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdHJhbW9zIGVzdGUgbnVldm8gZ29scGUgdsOhbGlkb1xyXG4gICAgICAgIHRoaXMubGFzdEhpdFBsYXllcklkID0gcGxheWVyLmlkO1xyXG4gICAgICAgIHRoaXMubGFzdEhpdFRpbWUgPSBub3c7XHJcblxyXG4gICAgICAgIC8vIHNlIGluY3JlbWVudGEgZWwgY29udGFkb3IgZGUgdG9xdWVzIHNpIGVsIG1pc21vIGp1Z2Fkb3IgY29udGluw7phLCBzZSByZWluaWNpYSBzaSBlcyBlbCBvdHJvXHJcbiAgICAgICAgaWYgKHRoaXMubGFzdFRvdWNoZWRCeSA9PT0gcGxheWVyLmlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG91Y2hDb3VudCsrO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudG91Y2hDb3VudCA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdFRvdWNoZWRCeSA9IHBsYXllci5pZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudG91Y2hDb3VudCA+IDMpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkZhbHRhKCd0b3F1ZUV4Y2VkaWRvJywgcGxheWVyKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzZSByZXByb2R1Y2UgZWwgZWZlY3RvIGRlIHNvbmlkbyBzZWfDum4gZWwgdGlwbyBkZSBnb2xwZVxyXG4gICAgICAgIGlmIChpc1JlY2VpdmluZykge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lPy5wbGF5U2Z4Py4odGhpcy5zY2VuZT8uc2Z4Py5yZWNlaXZlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzSnVtcGluZykge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lPy5wbGF5U2Z4Py4odGhpcy5zY2VuZT8uc2Z4Py5zcGlrZSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8gc2UgY2FsY3VsYSB2ZWxvY2lkYWQgZGUgbGEgcGVsb3RhIHNlZ8O6biBsYSBkaXJlY2Npw7NuIGRlbCBqdWdhZG9yIHkgc2kgZXN0w6Egc2FsdGFuZG8vcmVjaWJpZW5kb1xyXG4gICAgICAgIGxldCB2ZWxvY2l0eVgsIHZlbG9jaXR5WTtcclxuXHJcbiAgICAgICAgaWYgKGlzUmVjZWl2aW5nKSB7XHJcbiAgICAgICAgICAgIC8vIHJlY2VwY2nDs246IHBhcsOhYm9sYSBsYXJnYSB5IGFuY2hhICh0cmF5ZWN0b3JpYSBkZWZlbnNpdmEpXHJcbiAgICAgICAgICAgIC8vIG1lbm9yIHZlbG9jaWRhZCBob3Jpem9udGFsLCBtYXlvciB2ZWxvY2lkYWQgdmVydGljYWwgcGFyYSBlbCBhcmNvXHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2VTcGVlZFggPSAxNjA7XHJcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsU3RyZW5ndGggPSAtMzEwOyAvLyBjb21wb25lbnRlIHZlcnRpY2FsIG1heW9yIHBhcmEgZWwgYXJjb1xyXG4gICAgICAgICAgICBjb25zdCByYW5kb21GYWN0b3JYID0gdGhpcy5fZ2V0UmFuZG9tRmFjdG9yKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmRvbUZhY3RvclkgPSB0aGlzLl9nZXRSYW5kb21GYWN0b3IoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXJGYWNpbmdEaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlYID0gLWJhc2VTcGVlZFggKiByYW5kb21GYWN0b3JYO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlYID0gYmFzZVNwZWVkWCAqIHJhbmRvbUZhY3Rvclg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmVsb2NpdHlZID0gdmVydGljYWxTdHJlbmd0aCAqIHJhbmRvbUZhY3Rvclk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0p1bXBpbmcpIHtcclxuICAgICAgICAgICAgLy8gc2FsdG8vYXRhcXVlOiBob3Jpem9udGFsIGZ1ZXJ0ZSwgdmVydGljYWwgZMOpYmlsIChyZW1hdGUvc21hc2gpXHJcbiAgICAgICAgICAgIC8vIGFsdGEgdmVsb2NpZGFkIGhvcml6b250YWwsIGJhamEgdmVsb2NpZGFkIHZlcnRpY2FsIHBhcmEgdHJheWVjdG9yaWEgcGxhbmFcclxuICAgICAgICAgICAgY29uc3QgYmFzZVNwZWVkWCA9IDIyMDtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsU3RyZW5ndGggPSAtMTQwOyAvLyBjb21wb25lbnRlIHZlcnRpY2FsIGJham8gcGFyYSBhdGFxdWUgcGxhbm9cclxuICAgICAgICAgICAgY29uc3QgcmFuZG9tRmFjdG9yWCA9IHRoaXMuX2dldFJhbmRvbUZhY3RvcigpO1xyXG4gICAgICAgICAgICBjb25zdCByYW5kb21GYWN0b3JZID0gdGhpcy5fZ2V0UmFuZG9tRmFjdG9yKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAocGxheWVyRmFjaW5nRGlyZWN0aW9uID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5WCA9IC1iYXNlU3BlZWRYICogcmFuZG9tRmFjdG9yWDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5WCA9IGJhc2VTcGVlZFggKiByYW5kb21GYWN0b3JYO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZlbG9jaXR5WSA9IHZlcnRpY2FsU3RyZW5ndGggKiByYW5kb21GYWN0b3JZO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGdvbHBlIHJlZ3VsYXIgZGVzZGUgZWwgc3VlbG9cclxuICAgICAgICAgICAgY29uc3QgYmFzZVNwZWVkWCA9IDE4MDtcclxuXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXJGYWNpbmdEaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlYID0gLWJhc2VTcGVlZFg7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSBiYXNlU3BlZWRYO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZlbG9jaXR5WSA9IC0xMDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eSh2ZWxvY2l0eVgsIHZlbG9jaXR5WSk7XHJcblxyXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YXIgZWwgbGFkbyBkZSBsYSBjYW5jaGEgc2Vnw7puIGxhIGRpcmVjY2nDs24gZGUgbGEgdmVsb2NpZGFkXHJcbiAgICAgICAgaWYgKHZlbG9jaXR5WCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAncmlnaHQnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodmVsb2NpdHlYIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvdXJ0U2lkZSA9ICdsZWZ0JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2UgbGxhbWEgY3VhbmRvIGxhIHBlbG90YSBjcnV6YSBsYSByZWRcclxuICAgIGNyb3NzTmV0KCkge1xyXG4gICAgICAgIC8vIHNlIHJlaW5pY2lhIGVsIGNvbnRhZG9yIGRlIHRvcXVlcyBwYXJhIGVsIG51ZXZvIGxhZG8gZGUgY2FuY2hhXHJcbiAgICAgICAgdGhpcy50b3VjaENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLmxhc3RUb3VjaGVkQnkgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBzZSBjYW1iaWEgZGUgbGFkbyBkZSBjYW5jaGFcclxuICAgICAgICB0aGlzLmNvdXJ0U2lkZSA9IHRoaXMuY291cnRTaWRlID09PSAnbGVmdCcgPyAncmlnaHQnIDogJ2xlZnQnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlIGxsYW1hIGN1YW5kbyBsYSBwZWxvdGEgdG9jYSBlbCBzdWVsb1xyXG4gICAgb25Hcm91bmRlZCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBiYWxsT25MZWZ0ID0gdGhpcy5zcHJpdGUueCA8IHRoaXMubmV0WDtcclxuICAgICAgICBjb25zdCBiYWxsT25SaWdodCA9IHRoaXMuc3ByaXRlLnggPiB0aGlzLm5ldFg7XHJcblxyXG4gICAgICAgIC8vIGRldGVybWluYXIgcXVpw6luIGFub3RhXHJcbiAgICAgICAgaWYgKGJhbGxPbkxlZnQpIHtcclxuICAgICAgICAgICAgdGhpcy5vblJhbGx5RW5kKCdwbGF5ZXIyJyk7IC8vIHBsYXllcjIgYW5vdGFcclxuICAgICAgICAgICAgdGhpcy5yZXNldFJhbGx5KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChiYWxsT25SaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uUmFsbHlFbmQoJ3BsYXllcjEnKTsgLy8gcGxheWVyMSBhbm90YVxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0UmFsbHkoJ3BsYXllcjEnKTtcclxuICAgICAgICB9XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIC8vIFNlIGxsYW1hIGN1YW5kbyBvY3VycmUgdW5hIGZhbHRhIChkZW1hc2lhZG9zIHRvcXVlcywgcGVsb3RhIGZ1ZXJhIGRlIGzDrW1pdGVzLCBldGMuKVxyXG4gICAgb25GYWx0YShmYWx0YVR5cGUsIGZhbHRpbmdQbGF5ZXIpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBzZSBkZXRlcm1pbmFyIGVsIGp1Z2Fkb3IgcXVlIGFub3RhIChvcHVlc3RvIGFsIHF1ZSBjb21ldGnDsyBmYWx0YSlcclxuICAgICAgICBjb25zdCBzY29yaW5nUGxheWVySWQgPSBmYWx0aW5nUGxheWVyLmlkID09PSAncGxheWVyMScgPyAncGxheWVyMicgOiAncGxheWVyMSc7XHJcblxyXG4gICAgICAgIHRoaXMub25SYWxseUVuZChzY29yaW5nUGxheWVySWQpO1xyXG4gICAgICAgIHRoaXMucmVzZXRSYWxseShzY29yaW5nUGxheWVySWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlIGxsYW1hIGN1YW5kbyBmaW5hbGl6YSB1biByYWxseSAoYWxndWllbiBhbm90YSlcclxuICAgIG9uUmFsbHlFbmQoc2NvcmluZ1BsYXllcklkKSB7XHJcbiAgICAgICAgdGhpcy5pc0JhbGxMaXZlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHNlIGxhbnphIHVuIGV2ZW50byBwYXJhIHF1ZSBHYW1lX1NjZW5lIG1hbmVqZSBsYSBwdW50dWFjacOzblxyXG4gICAgICAgIHRoaXMuc2NlbmUuZXZlbnRzLmVtaXQoJ3JhbGx5Q29uY2x1ZGVkJywge1xyXG4gICAgICAgICAgICBzY29yaW5nUGxheWVySWQ6IHNjb3JpbmdQbGF5ZXJJZCxcclxuICAgICAgICAgICAgdG91Y2hDb3VudDogdGhpcy50b3VjaENvdW50LFxyXG4gICAgICAgICAgICBsYXN0VG91Y2hlZEJ5OiB0aGlzLmxhc3RUb3VjaGVkQnlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFbXB1am9uIHN1dGlsIGFsIHNhcXVlIHBhcmEgZXZpdGFyIHF1ZSBjYWlnYSBzb2JyZSBsYSByZWRcclxuICAgIF9nZXRTdWJ0bGVOdWRnZShzcGF3blgsIHNpZGVQYWRkaW5nLCB3b3JsZFdpZHRoKSB7XHJcbiAgICAgICAgY29uc3Qgc2lnbiA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyAtMSA6IDE7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gc2lnbiAqIDEyO1xyXG4gICAgICAgIGNvbnN0IGNsYW1wZWRYID0gTWF0aC5tYXgoc2lkZVBhZGRpbmcsIE1hdGgubWluKHdvcmxkV2lkdGggLSBzaWRlUGFkZGluZywgc3Bhd25YICsgb2Zmc2V0KSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IHNwYXduWDogY2xhbXBlZFgsIHZlbG9jaXR5WDogb2Zmc2V0IH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29sb2NhIGxhIHBlbG90YSBwYXJhIGVsIHNhcXVlIHNpbiByZWluaWNpYXIgZWwgcmFsbHlcclxuICAgIHNldFNlcnZlUG9zaXRpb24oc2NvcmluZ1BsYXllcikge1xyXG4gICAgICAgIGNvbnN0IHNwYXduWSA9IDEwMDtcclxuICAgICAgICBjb25zdCBzaWRlUGFkZGluZyA9IDYwO1xyXG4gICAgICAgIGNvbnN0IHdvcmxkV2lkdGggPSB0aGlzLnNjZW5lLndvcmxkV2lkdGggPz8gdGhpcy5zY2VuZS5zY2FsZT8ud2lkdGggPz8gdGhpcy5uZXRYICogMjtcclxuICAgICAgICBjb25zdCBjbGFtcCA9ICh2YWx1ZSwgbWluLCBtYXgpID0+IE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB2YWx1ZSkpO1xyXG5cclxuICAgICAgICBsZXQgc3Bhd25YID0gdGhpcy5uZXRYO1xyXG4gICAgICAgIGxldCBudWRnZVZlbG9jaXR5WCA9IDA7XHJcblxyXG4gICAgICAgIGNvbnN0IGhhc1Njb3JpbmdQbGF5ZXIgPSBzY29yaW5nUGxheWVyID09PSAncGxheWVyMScgfHwgc2NvcmluZ1BsYXllciA9PT0gJ3BsYXllcjInO1xyXG5cclxuICAgICAgICBpZiAoaGFzU2NvcmluZ1BsYXllcikge1xyXG4gICAgICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLnNjZW5lLnBsYXllcnM/LmdldCA/IHRoaXMuc2NlbmUucGxheWVycy5nZXQoc2NvcmluZ1BsYXllcikgOiBudWxsO1xyXG4gICAgICAgICAgICBpZiAocGxheWVyPy5zcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzY29yaW5nUGxheWVyID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgICAgICAgICBzcGF3blggPSBjbGFtcChwbGF5ZXIuc3ByaXRlLngsIHNpZGVQYWRkaW5nLCB0aGlzLm5ldFggLSBzaWRlUGFkZGluZyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwYXduWCA9IGNsYW1wKHBsYXllci5zcHJpdGUueCwgdGhpcy5uZXRYICsgc2lkZVBhZGRpbmcsIHdvcmxkV2lkdGggLSBzaWRlUGFkZGluZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzcGF3blggPSBzY29yaW5nUGxheWVyID09PSAncGxheWVyMScgPyB0aGlzLm5ldFggLSAxMDAgOiB0aGlzLm5ldFggKyAxMDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG51ZGdlID0gdGhpcy5fZ2V0U3VidGxlTnVkZ2Uoc3Bhd25YLCBzaWRlUGFkZGluZywgd29ybGRXaWR0aCk7XHJcbiAgICAgICAgICAgIHNwYXduWCA9IG51ZGdlLnNwYXduWDtcclxuICAgICAgICAgICAgbnVkZ2VWZWxvY2l0eVggPSBudWRnZS52ZWxvY2l0eVg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRQb3NpdGlvbihzcGF3blgsIHNwYXduWSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHkobnVkZ2VWZWxvY2l0eVgsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlaW5pY2lhIGVsIGVzdGFkbyBkZWwgcmFsbHkgeSByZXBvc2ljaW9uYSBsYSBwZWxvdGEgcGFyYSBlbCBzYXF1ZVxyXG4gICAgcmVzZXRSYWxseShzY29yaW5nUGxheWVyKSB7XHJcbiAgICAgICAgdGhpcy5pc0JhbGxMaXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxhc3RUb3VjaGVkQnkgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudG91Y2hDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5zZXRTZXJ2ZVBvc2l0aW9uKHNjb3JpbmdQbGF5ZXIpO1xyXG5cclxuICAgICAgICAvLyBsaW1waWFyIGluZm8gZGUgw7psdGltbyBnb2xwZVxyXG4gICAgICAgIHRoaXMubGFzdEhpdFRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMubGFzdEhpdFBsYXllcklkID0gbnVsbDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gQWN0dWFsaXphIGVsIGVzdGFkbyBkZSBsYSBwZWxvdGEgY2FkYSBmcmFtZSAoc2UgcmFzdHJlYSBlbCBsYWRvIGRlIGxhIGNhbmNoYSBzZWfDum4gbGEgcG9zaWNpw7NuKVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0JhbGxMaXZlKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YSBlbCBsYWRvIGRlIGNhbmNoYSBzZWfDum4gcG9zaWNpw7NuIGFjdHVhbFxyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS54IDwgdGhpcy5uZXRYIC0gMjApIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAnbGVmdCc7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNwcml0ZS54ID4gdGhpcy5uZXRYICsgMjApIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAncmlnaHQnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQ29tbWFuZFByb2Nlc3NvciB7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldFBsYXllcnMocGxheWVycykge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IHBsYXllcnM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0R2FtZVNjZW5lKGdhbWVTY2VuZSkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gZ2FtZVNjZW5lO1xyXG4gICAgfVxyXG5cclxuICAgIHByb2Nlc3MoY29tbWFuZCkge1xyXG4gICAgICAgIGNvbW1hbmQuZXhlY3V0ZSgpO1xyXG4gICAgICAgIC8vIFNlbnQgb3ZlciB0aGUgd2Vic29ja2V0XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQ29tbWFuZCB7XHJcbiAgICBcclxuICAgIGV4ZWN1dGUoKSB7fVxyXG5cclxuICAgIHNlcmlhbGl6ZSgpIHt9XHJcblxyXG4gICAgZ2V0UGxheWVyKCkge31cclxufSIsIi8vIENsYXNlIHF1ZSBzZSBlbmNhcmdhIGRlIGxhIGzDs2dpY2EgZGVsIG1vdmltaWVudG8gZGVsIHBlcnNvbmFqZVxyXG5cclxuaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gJy4vQ29tbWFuZC5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTW92ZVBsYXllckNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcclxuICAgIGNvbnN0cnVjdG9yKHBsYXllciwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjsgICAgICAgLy8gaW5zdGFuY2lhIGRlbCBwZXJzb25hamVcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjsgLy8gZGlyZWNjacOzbiBkZSBtb3ZtaWVudG9cclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCkge1xyXG4gICAgICAgICBzd2l0Y2ggKHRoaXMuZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIGNvcnJlciBoYWNpYSBsYSBpemRhXHJcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIubW92ZUxlZnQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBjb3JyZXIgaGFjaWEgbGEgZGNoYVxyXG4gICAgICAgICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5tb3ZlUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBzYWx0YXIvcmVtYXRhciBhIGxhIGl6ZGFcclxuICAgICAgICAgICAgY2FzZSAnanVtcExlZnQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuanVtcExlZnQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBzYWx0YXIvcmVtYXRhIGEgbGEgZGNoYVxyXG4gICAgICAgICAgICBjYXNlICdqdW1wUmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuanVtcFJpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gcmVjaWJpciBwb3IgbGEgaXpkYVxyXG4gICAgICAgICAgICBjYXNlICdyZWNlaXZlTGVmdCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5yZWNlaXZlTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIHJlY2liaXIgcG9yIGxhIGRjaGFcclxuICAgICAgICAgICAgY2FzZSAncmVjZWl2ZVJpZ2h0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnJlY2VpdmVSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIHBhcmFkbywgaWRsZSBpemRhXHJcbiAgICAgICAgICAgIGNhc2UgJ2lkbGVMZWZ0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmlkbGVMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gcGFyYWRvLCBpZGxlIGRjaGEgKHkgY2FzbyBwb3IgZGVmZWN0bylcclxuICAgICAgICAgICAgLy9jYXNlICdpZGxlUmlnaHQnOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuaWRsZVJpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcGFyYSBlbCBtb2RvIEVOIFJFRFxyXG4gICAgZ2V0UGxheWVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYXllci5pZDtcclxuICAgIH1cclxuXHJcbiAgICBzZXJpYWxpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogJ01vdmVQbGF5ZXJDb21tYW5kJyxcclxuICAgICAgICAgICAgcGxheWVySWQ6IHRoaXMucGxheWVyLmlkLFxyXG4gICAgICAgICAgICBkaXJlY3Rpb246IHRoaXMuZGlyZWN0aW9uXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4iLCIvLyBDbGFzZSBkZSBsYSBlc2NlbmEgZGUganVlZ29cclxuXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi4vRW50aXRpZXMvUGxheWVyLmpzJztcclxuaW1wb3J0IHsgUG93ZXJVcCB9IGZyb20gJy4uL0VudGl0aWVzL1Bvd2VyVXAuanMnO1xyXG5pbXBvcnQgeyBCYWxsIH0gZnJvbSAnLi4vRW50aXRpZXMvQmFsbC5qcyc7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9Db21tYW5kcy9Db21tYW5kUHJvY2Vzc29yLmpzJztcclxuaW1wb3J0IHsgTW92ZVBsYXllckNvbW1hbmQgfSBmcm9tICcuLi9Db21tYW5kcy9Nb3ZlUGxheWVyQ29tbWFuZC5qcyc7XHJcbmltcG9ydCB7IGdldFN0b3JlZFNmeFZvbHVtZSB9IGZyb20gJy4uL1VJL0F1ZGlvLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIHRpZW1wb1RvdGFsID0gNjA7IC8vIHBhcmEgMiBtaW4gcG9uZXIgMTIwIHNlZ3VuZG9zXHJcbiAgICB0aWVtcG9SZXN0YW50ZSA9IHRoaXMudGllbXBvVG90YWw7XHJcbiAgICB0aW1lclRleHQ7XHJcbiAgICB0aW1lckV2ZW50O1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0dhbWVfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gW107XHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuICAgICAgICB0aGlzLnBsYXllcjEgPSBkYXRhLnBsYXllcjE7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIyID0gZGF0YS5wbGF5ZXIyO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyA9IGRhdGEuc2VsZWN0ZWRTY2VuYXJpbztcclxuICAgICAgICB0aGlzLmJhbGwgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2NvcmVQMSA9IDA7XHJcbiAgICAgICAgdGhpcy5zY29yZVAyID0gMDtcclxuICAgICAgICB0aGlzLnNldHNQMSA9IDA7XHJcbiAgICAgICAgdGhpcy5zZXRzUDIgPSAwO1xyXG4gICAgICAgIHRoaXMubWF4U2V0cyA9IDM7IC8vIG1lam9yIGRlIDNcclxuICAgICAgICB0aGlzLmN1cnJlbnRTZXQgPSAxOyAvLyBzZXQgYWN0dWFsXHJcbiAgICAgICAgdGhpcy5pc0dvbGRlblBvaW50ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBjaGFyYWN0ZXJBXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckFfbW92ZScsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQS9BTklNQUNJT05FU19DT1JSRVJfUkVDSUJJUi5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDI5LCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckFfanVtcCcsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQS9BTklNQUNJT05fUkVNQVRFLnBuZycsXHJcbiAgICAgICAgICAgIHsgZnJhbWVXaWR0aDogMzIsIGZyYW1lSGVpZ2h0OiA0NCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICAvLyBjaGFyYWN0ZXJCXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckJfbW92ZScsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQi9BTklNQUNJT05FU19DT1JSRVJfUkVDSUJJUi5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDI5LCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckJfanVtcCcsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQi9BTklNQUNJT05fUkVNQVRFLnBuZycsXHJcbiAgICAgICAgICAgIHsgZnJhbWVXaWR0aDogMzIsIGZyYW1lSGVpZ2h0OiA0NCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICAvLyBjaGFyYWN0ZXJDXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckNfbW92ZScsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQy9BTklNQUNJT05FU19DT1JSRVJfUkVDSUJJUi5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDI5LCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckNfanVtcCcsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQy9BTklNQUNJT05fUkVNQVRFLnBuZycsXHJcbiAgICAgICAgICAgIHsgZnJhbWVXaWR0aDogMzIsIGZyYW1lSGVpZ2h0OiA0NCB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gRXNjZW5hcmlvc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnR3ltJywgJ0FTU0VUUy9GT05ET1MvR0lNTkFTSU8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQbGF5YScsICdBU1NFVFMvRk9ORE9TL1BMQVlBLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSmFyZGluJywgJ0FTU0VUUy9GT05ET1MvSkFSRElOLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBQb3dlclVwc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9yMicsICdBU1NFVFMvSVRFTVMvUE9XRVIgVVBTL01VTFRJUExJQ0FET1IgMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvcjMnLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9NVUxUSVBMSUNBRE9SIDMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYXJhbGl6YXInLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9QQVJBTElaQURPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncmFsZW50aXphcicsICdBU1NFVFMvSVRFTVMvUE9XRVIgVVBTL1JFTEVOVElaQVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd2ZWxvY2lkYWQnLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9WRUxPQ0lEQUQucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjb1Bvd2VyVXAnLCAnQVNTRVRTL0pVRUdPL0Jhc2VfcG93ZXJVcC5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gUGVsb3RhXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdiYWxsJywgJ0FTU0VUUy9JVEVNUy9QRUxPVEFTL1BfTk9STUFMLnBuZycpO1xyXG4gICAgICAgIC8vIFJlZFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncmVkJywgJ0FTU0VUUy9KVUVHTy9SRUQucG5nJyk7XHJcbiAgICAgICAgLy8gQ3JvbsOzbWV0cm9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3JlbG9qJywgJ0FTU0VUUy9KVUVHTy9USU1FUi5wbmcnKTtcclxuICAgICAgICAvLyBNYXJjb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWFyY29HZW5lcmFsJywgJ0FTU0VUUy9KVUVHTy9NQVJDQURPUl9TRVQucG5nJyk7ICAgICAgICBcclxuXHJcbiAgICAgICAgLy8gRWZlY3RvcyBkZSBzb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeF9zaWxiYXRvJywgJ0FTU0VUUy9TT05JRE8vU2lsYmF0b19pbmljaW9fcGFydGlkb18xcDRzLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4X3JlbWF0ZScsICdBU1NFVFMvU09OSURPL1RvcXVlX3BlbG90YV9yZW1hdGVfMDNzLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4X3JlY2VwY2lvbicsICdBU1NFVFMvU09OSURPL1RvcXVlX3BlbG90YV9yZWNlcGNpb24ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZnhfc2FsdG8nLCAnQVNTRVRTL1NPTklETy9Tb25pZG9TYWx0b18xcC5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeF9wdW50bycsICdBU1NFVFMvU09OSURPL1Nvbmlkb1B1bnRvLm1wMycpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gc2UgZ3VhcmRhbiBsYXMgZGltZW5zaW9uZXNcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgdGhpcy53b3JsZFdpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy53b3JsZEhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7XHJcblxyXG4gICAgICAgIC8vIHNlIGRlZmluZW4gbG9zIGVmZWN0b3MgZGUgc29uaWRvXHJcbiAgICAgICAgdGhpcy5zZnggPSB7XHJcbiAgICAgICAgICAgIHdoaXN0bGU6ICdzZnhfc2lsYmF0bycsXHJcbiAgICAgICAgICAgIHNwaWtlOiAnc2Z4X3JlbWF0ZScsXHJcbiAgICAgICAgICAgIHJlY2VpdmU6ICdzZnhfcmVjZXBjaW9uJyxcclxuICAgICAgICAgICAganVtcDogJ3NmeF9zYWx0bycsXHJcbiAgICAgICAgICAgIHBvaW50OiAnc2Z4X3B1bnRvJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gc2UgcmVwcm9kdWNlIGVsIHNpbGJhdG8gZGUgaW5pY2lvIGRlIHBhcnRpZG9cclxuICAgICAgICB0aGlzLnBsYXlTZngodGhpcy5zZngud2hpc3RsZSk7XHJcblxyXG4gICAgICAgIC8vIENyb27Ds21ldHJvXHJcbiAgICAgICAgdGhpcy50aW1lclRleHQgPSB0aGlzLmFkZC50ZXh0KHRoaXMuc2NhbGUud2lkdGggLyAyLCAzMCwgXCJcIiwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUsIDApXHJcbiAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgIC5zZXREZXB0aCg5OTk5KTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lckljb24gPSB0aGlzLmFkZC5pbWFnZSh0aGlzLnNjYWxlLndpZHRoIC8gMiwgNDUsICdyZWxvaicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMilcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoOTAwMCk7IC8vIGRlYmFqbyBkZWwgdGV4dG9cclxuXHJcbiAgICAgICAgLy8gbWFyY28gZGUgc2V0XHJcbiAgICAgICAgdGhpcy5zZXRGcmFtZSA9IHRoaXMuYWRkLmltYWdlKHRoaXMuc2NhbGUud2lkdGggLyAyLCAxMjAsICdtYXJjb0dlbmVyYWwnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCg5OTk4KTtcclxuXHJcbiAgICAgICAgLy8gdGV4dG8gZGVsIHNldCBhY3R1YWxcclxuICAgICAgICB0aGlzLnNldFRleHQgPSB0aGlzLmFkZC50ZXh0KHRoaXMuc2NhbGUud2lkdGggLyAyLCAxMjAsIGBTRVQgJHt0aGlzLmN1cnJlbnRTZXR9YCwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldERlcHRoKDk5OTkpO1xyXG5cclxuICAgICAgICBjb25zdCBzZXRGcmFtZVdpZHRoID0gdGhpcy5zZXRGcmFtZS5kaXNwbGF5V2lkdGg7XHJcbiAgICAgICAgY29uc3Qgc2V0RnJhbWVIZWlnaHQgPSB0aGlzLnNldEZyYW1lLmRpc3BsYXlIZWlnaHQ7XHJcbiAgICAgICAgY29uc3Qgc2V0U2NvcmVZID0gdGhpcy5zZXRGcmFtZS55ICsgTWF0aC5yb3VuZChzZXRGcmFtZUhlaWdodCAvIDIpICsgMTM7XHJcbiAgICAgICAgY29uc3Qgc2V0U2NvcmVPZmZzZXRYID0gTWF0aC5yb3VuZChzZXRGcmFtZVdpZHRoICogMC4yMik7XHJcbiAgICAgICAgY29uc3Qgc2V0U2NvcmVGcmFtZVNjYWxlWCA9IDAuNDtcclxuICAgICAgICBjb25zdCBzZXRTY29yZUZyYW1lU2NhbGVZID0gMC4zODtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTY29yZUZyYW1lTGVmdCA9IHRoaXMuYWRkLmltYWdlKHRoaXMuc2NhbGUud2lkdGggLyAyIC0gc2V0U2NvcmVPZmZzZXRYLCBzZXRTY29yZVksICdtYXJjb0dlbmVyYWwnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKHNldFNjb3JlRnJhbWVTY2FsZVgsIHNldFNjb3JlRnJhbWVTY2FsZVkpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCg5OTk4KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTY29yZUZyYW1lUmlnaHQgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLnNjYWxlLndpZHRoIC8gMiArIHNldFNjb3JlT2Zmc2V0WCwgc2V0U2NvcmVZLCAnbWFyY29HZW5lcmFsJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZShzZXRTY29yZUZyYW1lU2NhbGVYLCBzZXRTY29yZUZyYW1lU2NhbGVZKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoOTk5OCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U2NvcmVMZWZ0ID0gdGhpcy5hZGQudGV4dCh0aGlzLnNjYWxlLndpZHRoIC8gMiAtIHNldFNjb3JlT2Zmc2V0WCwgc2V0U2NvcmVZLCBgJHt0aGlzLnNldHNQMX1gLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0RGVwdGgoOTk5OSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U2NvcmVSaWdodCA9IHRoaXMuYWRkLnRleHQodGhpcy5zY2FsZS53aWR0aCAvIDIgKyBzZXRTY29yZU9mZnNldFgsIHNldFNjb3JlWSwgYCR7dGhpcy5zZXRzUDJ9YCwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldERlcHRoKDk5OTkpO1xyXG5cclxuICAgICAgICAvLyB0ZXh0byBwYXJhIG1vc3RyYXIgZWwgZ2FuYWRvciBkZWwgc2V0XHJcbiAgICAgICAgdGhpcy5zZXRXaW5uZXJUZXh0ID0gdGhpcy5hZGQudGV4dCh0aGlzLnNjYWxlLndpZHRoIC8gMiwgMjA1LCAnJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogM1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldERlcHRoKDk5OTkpXHJcbiAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgICAgICAvLyBpbmljaWFyIGVsIGNvbnRhZG9yIHBhcmEgZWwgY3JvbsOzbWV0cm9cclxuICAgICAgICB0aGlzLnRpbWVyRXZlbnQgPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogMTAwMCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMudXBkYXRlVGltZXIsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrU2NvcGU6IHRoaXMsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lcigpO1xyXG5cclxuICAgICAgICAvLyBGT05ETyBERUwgRVNDRU5BUklPIFNFTEVDQ0lPTkFET1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiwgdGhpcy5zZWxlY3RlZFNjZW5hcmlvKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSk7IFxyXG5cclxuICAgICAgICAvLyBSZWRcclxuICAgICAgICBjb25zdCByZWQgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSh3aWR0aCAvIDIsIGhlaWdodCAtIDE2MCwgJ3JlZCcpLnNldFNjYWxlKDAuNik7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlZFRleHR1cmUgPSB0aGlzLnRleHR1cmVzLmdldCgncmVkJykuZ2V0U291cmNlSW1hZ2UoKTtcclxuICAgICAgICByZWQuYm9keS5zZXRTaXplKHJlZFRleHR1cmUud2lkdGggKiAwLjUsIHJlZFRleHR1cmUuaGVpZ2h0ICogMC41KTsgLy8gbXVsdGlwbGljYXIgcG9yIGVsIHNjYWxlXHJcbiAgICAgICAgcmVkLmJvZHkuc2V0T2Zmc2V0KC1yZWQuYm9keS53aWR0aC8yLCAtcmVkLmJvZHkuaGVpZ2h0LzIpO1xyXG4gICAgICAgIHJlZC5ib2R5LnVwZGF0ZUZyb21HYW1lT2JqZWN0KCk7XHJcbiAgICAgICAgdGhpcy5yZWQgPSByZWQ7XHJcblxyXG4gICAgICAgIHRoaXMuX2NyZWF0ZUFuaW1hdGlvbnMoKTtcclxuXHJcbiAgICAgICAgLy9QVU5UVUFDSU9OIERFIExPUyBKVUdBRE9SRVNcclxuICAgICAgICAvLyBNYXJjb3MgZGUgcHVudHVhY2nDs25cclxuICAgICAgICB0aGlzLnBvaW50c0xlZnQgPSAwO1xyXG4gICAgICAgIHRoaXMucG9pbnRzUmlnaHQgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLnNjb3JlRnJhbWVMZWZ0ID0gdGhpcy5hZGQuaW1hZ2UoMjAwLCA1MCwgJ21hcmNvR2VuZXJhbCcpLnNldFNjYWxlKDAuOCwgMC41NSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy5zY29yZUZyYW1lUmlnaHQgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLndvcmxkV2lkdGggLSAyMDAsIDUwLCAnbWFyY29HZW5lcmFsJykuc2V0U2NhbGUoMC44LCAwLjU1KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5zY29yZUxlZnQgPSB0aGlzLmFkZC50ZXh0KDIwMCwgNDUsICcwJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoOTk5OSk7XHJcblxyXG4gICAgICAgIHRoaXMucmlnaHRTY29yZSA9IHRoaXMuYWRkLnRleHQodGhpcy53b3JsZFdpZHRoIC0gMjAwLCA0NSwgJzAnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCg5OTk5KTtcclxuXHJcbiAgICAgICAgLy8gc3VlbG8gZGUgcHJ1ZWJhOiBjcmVhciB1biBjdWVycG8gZXN0w6F0aWNvIHJlY3Rhbmd1bGFyIGludmlzaWJsZVxyXG4gICAgICAgIC8vIENvbmZpZ3VyYWJsZTogYWx0dXJhIHkgZGVzcGxhemFtaWVudG8gZGVzZGUgZWwgZm9uZG8gKGBncm91bmRPZmZzZXRgKVxyXG4gICAgICAgIGNvbnN0IGdyb3VuZEhlaWdodCA9IDIwO1xyXG4gICAgICAgIGNvbnN0IGdyb3VuZE9mZnNldCA9IDkwOyAvLyBlbGV2YXIgZWwgc3VlbG8gMTAwcHggZGVzZGUgZWwgZm9uZG9cclxuICAgICAgICB0aGlzLmdyb3VuZEhlaWdodCA9IGdyb3VuZEhlaWdodDtcclxuICAgICAgICB0aGlzLmdyb3VuZFkgPSB0aGlzLndvcmxkSGVpZ2h0IC0gZ3JvdW5kT2Zmc2V0O1xyXG5cclxuICAgICAgICBjb25zdCBncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoXHJcbiAgICAgICAgICAgIHRoaXMud29ybGRXaWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kWSxcclxuICAgICAgICAgICAgdGhpcy53b3JsZFdpZHRoLFxyXG4gICAgICAgICAgICBncm91bmRIZWlnaHRcclxuICAgICAgICApLnNldE9yaWdpbigwLjUsIDApLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIC8vIGHDsWFkaXIgdW4gY3VlcnBvIGbDrXNpY28gZXN0w6F0aWNvIGFsIHJlY3TDoW5ndWxvXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyhncm91bmQsIHRydWUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHByaW1lcm8gc2UgY3JlYW4gbG9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMuX2NyZWF0ZVBsYXllcnMoKTtcclxuICAgICAgICAvLyBkZXNwdcOpcywgc2UgbW9udGFuIGxhcyBjb2xpc2lvbmVzIGNvbiBlbCBzdWVsbywgcmVkLCBldGMuXHJcbiAgICAgICAgLy8gbW9udGFyIGNvbGlzaW9uZXMgZsOtc2ljYXMgZW50cmUganVnYWRvcmVzIHkgc3VlbG8gcGFyYSBxdWUgYm9keS5ibG9ja2VkLmRvd24gZnVuY2lvbmVcclxuICAgICAgICB0aGlzLl9zZXR1cFBoeXNpY3NXb3JsZChncm91bmQpO1xyXG4gICAgICAgIC8vIHBvciDDumx0aW1vLCBzZSBhc2lnbmFuIGxhcyB0ZWNsYXNcclxuICAgICAgICB0aGlzLl9zZXR1cElucHV0TWFwcGluZ3MoKTtcclxuXHJcbiAgICAgICAgLy8gcG93ZXJ1cHNcclxuICAgICAgICB0aGlzLnBvd2VyVXBzID0gW107XHJcbiAgICAgICAgdGhpcy5tYXhQb3dlclVwcyA9IDI7XHJcbiAgICAgICAgLy8gbGEgYXBhcmljacOzbiBkZSBwb3dlci11cHMgc29uIG1lbm9zIGZyZWN1ZW50ZXMgeSBjb24gcGVzb3MsIHBhcmEgcXVlIHVub3Mgc2FsZ2FuXHJcbiAgICAgICAgLy8gbcOhcyBxdWUgb3Ryb3MgKHBvciBlamVtcGxvLCBzZSByZWR1Y2UgbGEgYXBhcmljacOzbiBkZSBwYXJhbGl6YXIpXHJcbiAgICAgICAgdGhpcy5wb3dlclVwU3Bhd25Db25maWcgPSB7XHJcbiAgICAgICAgICAgIC8vIGVudHJlIDMuNSB5IDcgc2VndW5kb3NcclxuICAgICAgICAgICAgbWluRGVsYXlNczogMzUwMCxcclxuICAgICAgICAgICAgbWF4RGVsYXlNczogNzAwMCxcclxuICAgICAgICAgICAgd2VpZ2h0czoge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpZGFkOiAzLFxyXG4gICAgICAgICAgICAgICAgcmFsZW50aXphcjogMixcclxuICAgICAgICAgICAgICAgIHBhcmFsaXphcjogMSxcclxuICAgICAgICAgICAgICAgIHBvcjI6IDMsXHJcbiAgICAgICAgICAgICAgICBwb3IzOiAyXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvb2xkb3duTXM6IHtcclxuICAgICAgICAgICAgICAgIC8vIHBhcmEgZXZpdGFyIHF1ZSBzYWxnYW4gbXV5IHNlZ3VpZG9zIHkgdW4ganVnYWRvciBubyBwdWVkYSBtb3ZlcnNlXHJcbiAgICAgICAgICAgICAgICAvLyBkdXJhbnRlIG11Y2hvIHRpZW1wb1xyXG4gICAgICAgICAgICAgICAgcGFyYWxpemFyOiAxMDAwMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnBvd2VyVXBMYXN0U3Bhd25BdCA9IHt9O1xyXG5cclxuICAgICAgICB0aGlzLmludmVudG9yeVVJID0ge1xyXG4gICAgICAgICAgICBwbGF5ZXIxOiBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSg1MCwgNTAsICdwb3IyJykuc2V0U2NhbGUoMS40KS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCgxKSxcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKDExMCwgNTAsICdwb3IyJykuc2V0U2NhbGUoMS40KS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCgxKVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBwbGF5ZXIyOiBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSh0aGlzLndvcmxkV2lkdGggLSAxMTAsIDUwLCAncG9yMicpLnNldFNjYWxlKDEuNCkuc2V0VmlzaWJsZShmYWxzZSkuc2V0RGVwdGgoMSksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSh0aGlzLndvcmxkV2lkdGggLSA1MCwgNTAsICdwb3IyJykuc2V0U2NhbGUoMS40KS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCgxKVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZVBvd2VyVXBTcGF3bigpO1xyXG5cclxuICAgICAgICAvLyBNYXJjb3MgZGVsIGludmVudGFyaW9cclxuICAgICAgICB0aGlzLmludmVudG9yeUZyYW1lcyA9IHtcclxuICAgICAgICAgICAgcGxheWVyMTogW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNTAsIDUwLCAnbWFyY29Qb3dlclVwJykuc2V0U2NhbGUoMSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMCksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSgxMTAsIDUwLCAnbWFyY29Qb3dlclVwJykuc2V0U2NhbGUoMSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMClcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgcGxheWVyMjogW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UodGhpcy53b3JsZFdpZHRoIC0gMTEwLCA1MCwgJ21hcmNvUG93ZXJVcCcpLnNldFNjYWxlKDEpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDApLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UodGhpcy53b3JsZFdpZHRoIC0gNTAsIDUwLCAnbWFyY29Qb3dlclVwJykuc2V0U2NhbGUoMSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMClcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGluaWNpYWxpemFjacOzbiBkZSBsYSBwZWxvdGFcclxuICAgICAgICB0aGlzLl9jcmVhdGVCYWxsKCk7XHJcbiAgICAgICAgLy8gZW1wdWrDs24gc3V0w61sIHBhcmEgZXZpdGFyIHF1ZSBzZSBxdWVkZSBzb2JyZSBsYSByZWQgYWwgaW5pY2lvXHJcbiAgICAgICAgdGhpcy5iYWxsLnNldFNlcnZlUG9zaXRpb24oKTtcclxuICAgICAgICAvLyBjb2xsaWRlcnMgZGUgbGEgcGVsb3RhXHJcbiAgICAgICAgdGhpcy5fc2V0dXBCYWxsQ29sbGlzaW9ucygpO1xyXG4gICAgICAgIC8vIGV2ZW50b3MgZGUgbGEgcGVsb3RhXHJcbiAgICAgICAgdGhpcy5fc2V0dXBCYWxsRXZlbnRzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oXCJrZXlkb3duLUVTQ1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHNlIGRldGllbmUgZWwgZ2FtZSBsb29wXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTsgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy50aW1lckV2ZW50LnBhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKFwiUGF1c2VfU2NlbmVcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3Jlc3VtZScsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy50aW1lckV2ZW50LnBhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdlbmVyYSB1biBudWV2byBwb3dlci11cCBlbiB1bmEgcG9zaWNpw7NuIGFsZWF0b3JpYSBjYWRhIGNpZXJ0byB0aWVtcG9cclxuICAgIHNjaGVkdWxlUG93ZXJVcFNwYXduKCkge1xyXG4gICAgICAgIGNvbnN0IHsgbWluRGVsYXlNcywgbWF4RGVsYXlNcyB9ID0gdGhpcy5wb3dlclVwU3Bhd25Db25maWc7XHJcbiAgICAgICAgY29uc3QgZGVsYXkgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKG1pbkRlbGF5TXMsIG1heERlbGF5TXMpO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoZGVsYXksICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucG93ZXJVcHMubGVuZ3RoIDwgdGhpcy5tYXhQb3dlclVwcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IFBoYXNlci5NYXRoLkJldHdlZW4oODAsIHRoaXMud29ybGRXaWR0aCAtIDgwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKHRoaXMud29ybGRIZWlnaHQgLSAyMjAsIHRoaXMud29ybGRIZWlnaHQgLSAxMjApO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLl9nZXRXZWlnaHRlZFBvd2VyVXBUeXBlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvd2VyVXAgPSBuZXcgUG93ZXJVcCh0aGlzLCB4LCB5LCB0eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvd2VyVXBzLnB1c2gocG93ZXJVcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3dlclVwTGFzdFNwYXduQXRbdHlwZV0gPSB0aGlzLnRpbWUubm93O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlUG93ZXJVcFNwYXduKCk7IC8vIHJlY3Vyc2l2b1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9idGllbmUgdW4gdGlwbyBkZSBwb3dlci11cCBiYXNhZG8gZW4gbG9zIHBlc29zIGNvbmZpZ3VyYWRvcyBhbnRlcmlvcm1lbnRlXHJcbiAgICBfZ2V0V2VpZ2h0ZWRQb3dlclVwVHlwZSgpIHtcclxuICAgICAgICBjb25zdCB7IHdlaWdodHMsIGNvb2xkb3duTXMgfSA9IHRoaXMucG93ZXJVcFNwYXduQ29uZmlnO1xyXG5cclxuICAgICAgICBjb25zdCBub3cgPSB0aGlzLnRpbWUubm93O1xyXG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyh3ZWlnaHRzKS5maWx0ZXIoKFt0eXBlLCB3ZWlnaHRdKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHNlIGZpbHRyYW4gbG9zIHRpcG9zIHF1ZSBubyBzZSBwdWVkZW4gdXNhclxyXG4gICAgICAgICAgICAvLyBzaSBlbCBwZXNvIGVzIDBcclxuICAgICAgICAgICAgaWYgKHdlaWdodCA8PSAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIHNpIHRvZGF2w61hIGVzdMOhIGVuIGNvb2xkb3duIGRlc2RlIGxhIMO6bHRpbWEgYXBhcmljacOzblxyXG4gICAgICAgICAgICBjb25zdCBjb29sZG93biA9IGNvb2xkb3duTXM/Llt0eXBlXTtcclxuICAgICAgICAgICAgaWYgKCFjb29sZG93bikgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzLnBvd2VyVXBMYXN0U3Bhd25BdD8uW3R5cGVdIHx8IDA7XHJcbiAgICAgICAgICAgIHJldHVybiBub3cgLSBsYXN0ID49IGNvb2xkb3duO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzaSBubyBxdWVkYSBuaW5nw7puIHRpcG8gZGlzcG9uaWJsZSwgc2UgZGV2dWVsdmUgbnVsbFxyXG4gICAgICAgIGlmICghZW50cmllcy5sZW5ndGgpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICAvLyBzZSBzdW1hbiB0b2RvcyBsb3MgcGVzb3MsIHNlIGVsaWdlIHVuIG7Dum1lcm8gYWxlYXRvcmlvIGVudHJlIDEgeSBlc2Egc3VtYVxyXG4gICAgICAgIGNvbnN0IHRvdGFsID0gZW50cmllcy5yZWR1Y2UoKHN1bSwgWywgd2VpZ2h0XSkgPT4gc3VtICsgd2VpZ2h0LCAwKTtcclxuICAgICAgICBsZXQgcm9sbCA9IFBoYXNlci5NYXRoLkJldHdlZW4oMSwgdG90YWwpO1xyXG4gICAgICAgIC8vIHNlIHZhbiByZXN0YW5kbyBwZXNvcyBoYXN0YSBxdWUgZWwgY29udGFkb3IgY2FlIGVuIHVuIHRpcG9cclxuICAgICAgICBmb3IgKGNvbnN0IFt0eXBlLCB3ZWlnaHRdIG9mIGVudHJpZXMpIHtcclxuICAgICAgICAgICAgcm9sbCAtPSB3ZWlnaHQ7XHJcbiAgICAgICAgICAgIC8vIHNlIGRldnVlbHZlIGVsIHRpcG9cclxuICAgICAgICAgICAgaWYgKHJvbGwgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tHYW1lX1NjZW5lXSBQb3dlci11cCBhbGVhdG9yaW86ICcsIHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNpIHBvciBhbGd1bmEgcmF6w7NuIG5vIGNhZSBlbiBuaW5ndW5vLCBzZSBkZXZ1ZWx2ZSBlbCDDumx0aW1vIHRpcG8gdsOhbGlkb1xyXG4gICAgICAgIHJldHVybiBlbnRyaWVzW2VudHJpZXMubGVuZ3RoIC0gMV1bMF07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVwcm9kdWNlIHVuIGVmZWN0byBkZSBzb25pZG9cclxuICAgIHBsYXlTZngoa2V5KSB7XHJcbiAgICAgICAgaWYgKCFrZXkpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5zb3VuZC5wbGF5KGtleSwgeyB2b2x1bWU6IGdldFN0b3JlZFNmeFZvbHVtZSgpIH0pO1xyXG4gICAgfSAgICBcclxuXHJcbiAgICAvLyBCdWNsZSBwcmluY2lwYWwgZGVsIGp1ZWdvXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgLy8gc2UgcHJvY2VzYW4gbG9zIGlucHV0cyBkZSBsb3MganVnYWRvcmVzXHJcbiAgICAgICAgdGhpcy5faGFuZGxlSW5wdXRGb3JBbGxQbGF5ZXJzKCk7XHJcbiAgICAgICAgLy8gc2UgYWN0dWFsaXphbiBsb3MgcG93ZXItdXBzXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHBsYXllci51cGRhdGVQb3dlclVwcygpKTtcclxuICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgZXN0YWRvIGRlIGxhIHBlbG90YVxyXG4gICAgICAgIGlmICh0aGlzLmJhbGwpIHtcclxuICAgICAgICAgICAgdGhpcy5iYWxsLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAvLyB2ZXJpZmljYXIgc2kgbGEgcGVsb3RhIGdvbHBlYSBlbCBzdWVsbyAoY29tcGFyYXIgY29uIGxhIHBvc2ljacOzbiBkZWwgc3VlbG8pXHJcbiAgICAgICAgICAgIC8vIGdyb3VuZFkgZXMgbGEgcGFydGUgc3VwZXJpb3IgZGVsIHN1ZWxvXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJhbGwuaXNCYWxsTGl2ZSAmJiB0aGlzLmJhbGwuc3ByaXRlLnkgPiB0aGlzLmdyb3VuZFkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5vbkdyb3VuZGVkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdmVyaWZpY2FyIHNpIGxhIHBlbG90YSBjcnV6YSBsYSByZWQgKHJlZCBlc3TDoSBlbiB4ID0gNDgwKVxyXG4gICAgICAgICAgICBpZiAodGhpcy5iYWxsLnNwcml0ZS54IDwgNDc1ICYmIHRoaXMuYmFsbC5jb3VydFNpZGUgPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5jcm9zc05ldCgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYmFsbC5zcHJpdGUueCA+IDQ4NSAmJiB0aGlzLmJhbGwuY291cnRTaWRlID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5jcm9zc05ldCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdHVhbGl6YSBlbCB0ZW1wb3JpemFkb3IgY2FkYSBzZWd1bmRvXHJcbiAgICB1cGRhdGVUaW1lcigpIHtcclxuICAgICAgICB0aGlzLnRpZW1wb1Jlc3RhbnRlLS07XHJcblxyXG4gICAgICAgIC8vIEZvcm1hdG9cclxuICAgICAgICBjb25zdCBtaW51dG9zID0gTWF0aC5mbG9vcih0aGlzLnRpZW1wb1Jlc3RhbnRlIC8gNjApO1xyXG4gICAgICAgIGNvbnN0IHNlZ3VuZG9zID0gdGhpcy50aWVtcG9SZXN0YW50ZSAlIDYwO1xyXG4gICAgICAgIGNvbnN0IGZvcm1hdG8gPSBgJHttaW51dG9zLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06JHtzZWd1bmRvcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lclRleHQuc2V0VGV4dChmb3JtYXRvKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudGllbXBvUmVzdGFudGUgPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQucGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJGSU4gREVMIFRJRU1QT1wiKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjb3JlUDEgPiB0aGlzLnNjb3JlUDIpIHRoaXMuX2VuZFNldChcInBsYXllcjFcIik7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc2NvcmVQMiA+IHRoaXMuc2NvcmVQMSkgdGhpcy5fZW5kU2V0KFwicGxheWVyMlwiKTtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVtcGF0ZSBlbiBlbCBzZXRcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzR29sZGVuUG9pbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0V2lubmVyVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dC5zZXRUZXh0KCdFTVBBVEU6IHB1bnRvIGRlIG9ybycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVNldFNjb3JlVUkoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0U2NvcmVMZWZ0KSB0aGlzLnNldFNjb3JlTGVmdC5zZXRUZXh0KHRoaXMuc2V0c1AxLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGlmICh0aGlzLnNldFNjb3JlUmlnaHQpIHRoaXMuc2V0U2NvcmVSaWdodC5zZXRUZXh0KHRoaXMuc2V0c1AyLnRvU3RyaW5nKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdHVhbGl6YSBsYSBVSSBkZWwgaW52ZW50YXJpbyBkZSBwb3dlci11cHMgZGUgdW4ganVnYWRvclxyXG4gICAgdXBkYXRlUGxheWVySW52ZW50b3J5VUkocGxheWVyKSB7XHJcbiAgICAgICAgY29uc3QgdWkgPSB0aGlzLmludmVudG9yeVVJW3BsYXllci5pZF07XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIucG93ZXJVcEludmVudG9yeVtpXSkge1xyXG4gICAgICAgICAgICAgICAgdWlbaV0uc2V0VGV4dHVyZShwbGF5ZXIucG93ZXJVcEludmVudG9yeVtpXSk7XHJcbiAgICAgICAgICAgICAgICB1aVtpXS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdWlbaV0uc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vLy8gTcOJVE9ET1MgQVVYSUxJQVJFUyAvLy8vXHJcbiAgICAvLyBDcmVhIGxhcyBhbmltYWNpb25lcyBkZSBsb3MgMyBwZXJzb25hamVzXHJcbiAgICBfY3JlYXRlQW5pbWF0aW9ucygpIHtcclxuICAgICAgICAvLy8vIENoYXJhY3RlckEgLy8vL1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfaWRsZVJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9tb3ZlJywgeyBzdGFydDogMCwgZW5kOiAxIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA1LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9pZGxlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfbW92ZScsIHsgc3RhcnQ6IDIwLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX3JlY2VpdmVSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfbW92ZScsIHsgc3RhcnQ6IDAsIGVuZDogMTAgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX3JlY2VpdmVMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9tb3ZlJywgeyBzdGFydDogMTEsIGVuZDogMjEgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDFcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfcnVuUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX21vdmUnLCB7IHN0YXJ0OiAyMiwgZW5kOiAzMiB9KSwgLy8gZmlsYSAyXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMjIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX3J1bkxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX21vdmUnLCB7IHN0YXJ0OiAzMywgZW5kOiA0MyB9KS5yZXZlcnNlKCksIC8vIGZpbGEgM1xyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDIyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfanVtcFJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9qdW1wJywgeyBzdGFydDogMCwgZW5kOiAxMiB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfanVtcExlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX2p1bXAnLCB7IHN0YXJ0OiAxMywgZW5kOiAyNSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMVxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLy8vLy8vL1xyXG5cclxuICAgICAgICAvLy8vIENoYXJhY3RlckIgLy8vL1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfaWRsZVJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9tb3ZlJywgeyBzdGFydDogMCwgZW5kOiAxIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA1LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9pZGxlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDIwLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pOyAgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9yZWNlaXZlUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX21vdmUnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDExLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9tb3ZlJywgeyBzdGFydDogMjIsIGVuZDogMzIgfSksIC8vIGZpbGEgMlxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDIyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9ydW5MZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9tb3ZlJywgeyBzdGFydDogMzMsIGVuZDogNDMgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDNcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfanVtcCcsIHsgc3RhcnQ6IDAsIGVuZDogMTIgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9qdW1wJywgeyBzdGFydDogMTMsIGVuZDogMjUgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDFcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8vLy8vLy9cclxuXHJcbiAgICAgICAgLy8vLyBDaGFyYWN0ZXJDIC8vLy9cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfbW92ZScsIHsgc3RhcnQ6IDAsIGVuZDogMSB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX21vdmUnLCB7IHN0YXJ0OiAyMCwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTsgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19yZWNlaXZlUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX21vdmUnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfbW92ZScsIHsgc3RhcnQ6IDExLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19tb3ZlJywgeyBzdGFydDogMjIsIGVuZDogMzIgfSksIC8vIGZpbGEgMlxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDIyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19ydW5MZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19tb3ZlJywgeyBzdGFydDogMzMsIGVuZDogNDMgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDNcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfanVtcCcsIHsgc3RhcnQ6IDAsIGVuZDogMTIgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19qdW1wJywgeyBzdGFydDogMTMsIGVuZDogMjUgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDFcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8vLy8vLy9cclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhIGxvcyBwZXJzb25hamVzIGRlIGNhZGEganVnYWRvclxyXG4gICAgX2NyZWF0ZVBsYXllcnMoKSB7XHJcbiAgICAgICAgY29uc3QgY2hhclAxID0gdGhpcy5wbGF5ZXIxLmNoYXJhY3RlcjtcclxuICAgICAgICBjb25zdCBjaGFyUDIgPSB0aGlzLnBsYXllcjIuY2hhcmFjdGVyO1xyXG5cclxuICAgICAgICBjb25zdCBwMSA9IG5ldyBQbGF5ZXIoXHJcbiAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgdGhpcy53b3JsZFdpZHRoICogMC4yNSwgICAvLyBpenF1aWVyZGFcclxuICAgICAgICAgICAgdGhpcy5ncm91bmRZIC0gMTAwLCAgICAgICAgLy8gYXJyaWJhIGRlbCBzdWVsbyAobcOhcyBtYXJnZW4pXHJcbiAgICAgICAgICAgIGNoYXJQMVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IHAyID0gbmV3IFBsYXllcihcclxuICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgJ3BsYXllcjInLFxyXG4gICAgICAgICAgICB0aGlzLndvcmxkV2lkdGggKiAwLjc1LCAgIC8vIGRlcmVjaGFcclxuICAgICAgICAgICAgdGhpcy5ncm91bmRZIC0gMTAwLCAgICAgICAgLy8gYXJyaWJhIGRlbCBzdWVsbyAobcOhcyBtYXJnZW4pXHJcbiAgICAgICAgICAgIGNoYXJQMlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCBwMSk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIHAyKTtcclxuXHJcbiAgICAgICAgLy8gc2UgZXN0YWJsZWNlbiBsb3MgbMOtbWl0ZXMgZGUgbGEgY2FuY2hhIHBhcmEgY2FkYSBqdWdhZG9yXHJcbiAgICAgICAgY29uc3QgY291cnRUb3AgPSA1MDtcclxuICAgICAgICAvLyBhbGluZWFyIGVsIGzDrW1pdGUgaW5mZXJpb3IganVzdG8gcG9yIGVuY2ltYSBkZWwgc3VlbG9cclxuICAgICAgICAvLyBjb21vIGVsIGdyb3VuZCBhaG9yYSB0aWVuZSBvcmlnaW4gZW4gKDAuNSwgMCksIGdyb3VuZFkgZXMgbGEgcGFydGUgc3VwZXJpb3JcclxuICAgICAgICBjb25zdCBjb3VydEJvdHRvbSA9IE1hdGguZmxvb3IodGhpcy5ncm91bmRZKTtcclxuICAgICAgICBjb25zdCBjb3VydEludGVyaW9yTWFyZ2luID0gMjU7XHJcbiAgICAgICAgY29uc3QgY291cnRFeHRlcmlvcnRNYXJnaW4gPSA4MDtcclxuXHJcbiAgICAgICAgLy8gcGxheWVyMSAoaXpxdWllcmRhKTpcclxuICAgICAgICBwMS5zZXRCb3VuZHMoY291cnRFeHRlcmlvcnRNYXJnaW4sIDQ4MCAtIGNvdXJ0SW50ZXJpb3JNYXJnaW4sIGNvdXJ0VG9wLCBjb3VydEJvdHRvbSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gcGxheWVyMiAoZGVyZWNoYSk6XHJcbiAgICAgICAgcDIuc2V0Qm91bmRzKDQ4MCArIGNvdXJ0SW50ZXJpb3JNYXJnaW4sIHRoaXMud29ybGRXaWR0aCAtIGNvdXJ0RXh0ZXJpb3J0TWFyZ2luLCBjb3VydFRvcCwgY291cnRCb3R0b20pO1xyXG5cclxuICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3Iuc2V0UGxheWVycyh0aGlzLnBsYXllcnMpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5zZXRHYW1lU2NlbmUodGhpcyk7XHJcblxyXG4gICAgICAgIC8vIHBvciBkZWZlY3RvLCBhbmltYWNpw7NuIGlkbGVcclxuICAgICAgICBwMS5pZGxlUmlnaHQoKTtcclxuICAgICAgICBwMi5pZGxlTGVmdCgpO1xyXG4gICAgfSAgICBcclxuXHJcbiAgICAvLyBDcmVhIGVsIHN1ZWxvLCBsYSByZWQsIGxvcyBsw61taXRlcywgZXRjLlxyXG4gICAgX3NldHVwUGh5c2ljc1dvcmxkKGdyb3VuZCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNvbGlzacOzbiBqdWdhZG9yLXN1ZWxvXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLnNwcml0ZSwgZ3JvdW5kKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbGlzacOzbiBqdWdhZG9yLXJlZFxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMucmVkLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgJHtwbGF5ZXIuaWR9IHRvY8OzIGxhIHJlZCFgKTtcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBc2lnbmEgbG9zIGNvbnRyb2xlcy90ZWNsYXMgZGUgY2FkYSBqdWdhZG9yXHJcbiAgICBfc2V0dXBJbnB1dE1hcHBpbmdzKCkge1xyXG4gICAgICAgIGNvbnN0IGlucHV0Q29uZmlnID0gW1xyXG4gICAgICAgICAgICAvLyBqdWdhZG9yIDFcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdBJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnRCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wS2V5OiAnVycsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlS2V5OiAnUycsXHJcbiAgICAgICAgICAgICAgICBwb3dlcktleTogJ0UnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGp1Z2Fkb3IgMlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjInLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0onLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdMJyxcclxuICAgICAgICAgICAgICAgIGp1bXBLZXk6ICdJJyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVLZXk6ICdLJyxcclxuICAgICAgICAgICAgICAgIHBvd2VyS2V5OiAnTydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IGlucHV0Q29uZmlnLm1hcChjb25maWcgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6IGNvbmZpZy5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFxyXG4gICAgICAgICAgICAgICAgICAgIFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcubGVmdEtleV1cclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICByaWdodEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoXHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yaWdodEtleV1cclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICBqdW1wS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShcclxuICAgICAgICAgICAgICAgICAgICBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmp1bXBLZXldXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZUtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoXHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yZWNlaXZlS2V5XVxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIHBvd2VyS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShcclxuICAgICAgICAgICAgICAgICAgICBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnBvd2VyS2V5XVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByb2Nlc2EgZWwgaW5wdXQgZGUgbG9zIGRvcyBqdWdhZG9yZXNcclxuICAgIF9oYW5kbGVJbnB1dEZvckFsbFBsYXllcnMoKSB7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzLmZvckVhY2gobWFwcGluZyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMucGxheWVycy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgIGlmICghcGxheWVyKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAvLyBzaSBlc3TDoSBwYXJhbGl6YWRvLCBzZSBkZWphIGVuIGlkbGVcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc1BhcmFseXplZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaWRsZURpciA9IChwbGF5ZXIuZmFjaW5nID09PSAnbGVmdCcpID8gJ2lkbGVMZWZ0JyA6ICdpZGxlUmlnaHQnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVQbGF5ZXJDb21tYW5kKHBsYXllciwgaWRsZURpcilcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBkaXJlY3Rpb247XHJcblxyXG4gICAgICAgICAgICAvLyBtb3ZpbWllbnRvIGhvcml6b250YWwgbm9ybWFsXHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLmxlZnRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnbGVmdCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobWFwcGluZy5yaWdodEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbm8gc2UgcHVsc2EgbmFkYSwgYXPDrSBxdWUgc2UgcXVlZGEgaWRsZSBzZWfDum4gaGFjaWEgZMOzbmRlIG1pcmFiYVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IChwbGF5ZXIuZmFjaW5nID09PSAnbGVmdCcpID8gJ2lkbGVMZWZ0JzogJ2lkbGVSaWdodCc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNlIGFwbGljYSBtb3ZpbWllbnRvL2lkbGUgU09MTyBzaSBubyBlc3TDoSBzYWx0YW5kb1xyXG4gICAgICAgICAgICAvLyBzaSBlc3TDoSBzYWx0YW5kbywgbm8gc2UgcHJvY2VzYSBlbCBtb3ZpbWllbnRvIHBhcmEgbm8gc29icmVzY3JpYmlyIGxhIGFuaW1hY2nDs25cclxuICAgICAgICAgICAgaWYgKCFwbGF5ZXIuaXNKdW1waW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IucHJvY2VzcyhcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTW92ZVBsYXllckNvbW1hbmQocGxheWVyLCBkaXJlY3Rpb24pXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyByZWNlcGNpw7NuXHJcbiAgICAgICAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24obWFwcGluZy5yZWNlaXZlS2V5T2JqKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVjZWl2ZURpciA9IChwbGF5ZXIuZmFjaW5nID09PSAnbGVmdCcpID8gJ3JlY2VpdmVMZWZ0JyA6ICdyZWNlaXZlUmlnaHQnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVQbGF5ZXJDb21tYW5kKHBsYXllciwgcmVjZWl2ZURpcilcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNhbHRvL3JlbWF0ZVxyXG4gICAgICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKG1hcHBpbmcuanVtcEtleU9iaikpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGp1bXBEaXIgPSAocGxheWVyLmZhY2luZyA9PT0gJ2xlZnQnKSA/ICdqdW1wTGVmdCcgOiAnanVtcFJpZ2h0JztcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlUGxheWVyQ29tbWFuZChwbGF5ZXIsIGp1bXBEaXIpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBQb3dlclVwc1xyXG4gICAgICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKG1hcHBpbmcucG93ZXJLZXlPYmopKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIudXNlTmV4dFBvd2VyVXAoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGxheWVySW52ZW50b3J5VUkocGxheWVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgZXN0YWRvIGRlIGxvcyBqdWdhZG9yZXMgKHN1ZWxvLCBldGMuKVxyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiBwbGF5ZXIudXBkYXRlKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWEgbGEgcGVsb3RhXHJcbiAgICBfY3JlYXRlQmFsbCgpIHtcclxuICAgICAgICB0aGlzLmJhbGwgPSBuZXcgQmFsbCh0aGlzLCB0aGlzLndvcmxkV2lkdGggLyAyLCAxNTApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbmZpZ3VyYSBsYXMgY29saXNpb25lcyBkZSBsYSBwZWxvdGFcclxuICAgIF9zZXR1cEJhbGxDb2xsaXNpb25zKCkge1xyXG4gICAgICAgIC8vIGNvbGlzaW9uZXMgZGUgbGEgcGVsb3RhIGNvbiBsb3MganVnYWRvcmVzXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICAoKSA9PiB0aGlzLl9vbkJhbGxQbGF5ZXJDb2xsaXNpb24odGhpcy5iYWxsLCBwbGF5ZXIpLFxyXG4gICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgIHRoaXNcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gY29saXNpw7NuIHBlbG90YS1yZWRcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuYmFsbC5zcHJpdGUsIHRoaXMucmVkLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEVzdG8gc2UgZGlzcGFyYSBhbCB0b2NhciBsYSByZWRcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xhIHBlbG90YSB0b2NhIGxhIHJlZCEnKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFBvciBlamVtcGxvLCBzZSBwdWVkZSBmcmVuYXIgbGEgcGVsb3RhOlxyXG4gICAgICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLnNldFZlbG9jaXR5WCh0aGlzLmJhbGwuc3ByaXRlLmJvZHkudmVsb2NpdHkueCAqIDAuNSk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFsbC5zcHJpdGUuc2V0VmVsb2NpdHlZKHRoaXMuYmFsbC5zcHJpdGUuYm9keS52ZWxvY2l0eS55ICogMC41KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gY29saXNpw7NuIGRlIGxhIHBlbG90YSBjb24gZWwgc3VlbG8gKGRpc3BhcmEgcHVudHVhY2nDs24pXHJcbiAgICAgICAgY29uc3QgZ3JvdW5kWSA9IHRoaXMud29ybGRIZWlnaHQgLSAxMDtcclxuICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLnNldEJvdW5jZSgwLjgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbmZpZ3VyYSBsb3MgZXZlbnQgbGlzdGVuZXJzIGRlIGxhIHBlbG90YVxyXG4gICAgX3NldHVwQmFsbEV2ZW50cygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigncmFsbHlDb25jbHVkZWQnLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUmFsbHkgY29uY2x1ZGVkOiAke2RhdGEuc2NvcmluZ1BsYXllcklkfSBzY29yZXMhYCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjb3JlcklkID0gZGF0YS5zY29yaW5nUGxheWVySWQ7XHJcblxyXG4gICAgICAgICAgICAvLyBzZSBjb2dlIGVsIHBsYXllciBxdWUgaGEgYW5vdGFkb1xyXG4gICAgICAgICAgICBjb25zdCBzY29yaW5nUGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldChzY29yZXJJZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBzY29yaW5nUGxheWVyID8gKHNjb3JpbmdQbGF5ZXIuc2NvcmVNdWx0aXBsaWVyIHx8IDEpIDogMTtcclxuXHJcbiAgICAgICAgICAgIC8vIDEgcHVudG8gYmFzZSAqIG11bHRpcGxpY2Fkb3JcclxuICAgICAgICAgICAgY29uc3QgcG9pbnRzVG9BZGQgPSBtdWx0aXBsaWVyO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNjb3JlcklkID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgICAgIC8vIG1hcmNhZG9yIHZpc3VhbFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludHNMZWZ0ICs9IHBvaW50c1RvQWRkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZUxlZnQuc2V0VGV4dCh0aGlzLnBvaW50c0xlZnQudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcHVudG9zIGRlbCBzZXQgKHBhcmEgbMOzZ2ljYSBkZSBzZXRzKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZVAxICs9IHBvaW50c1RvQWRkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNjb3JlcklkID09PSAncGxheWVyMicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzUmlnaHQgKz0gcG9pbnRzVG9BZGQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0U2NvcmUuc2V0VGV4dCh0aGlzLnBvaW50c1JpZ2h0LnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVQMiArPSBwb2ludHNUb0FkZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBzZSByZXByb2R1Y2UgZWwgZWZlY3RvIGRlIHNvbmlkbyBkZSBwdW50b1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlTZngodGhpcy5zZngucG9pbnQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNHb2xkZW5Qb2ludCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0dvbGRlblBvaW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmRTZXQoc2NvcmVySWQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gY29uZGljacOzbiBkZSAxMSBwdW50b3MgY29uIDIgZGUgZGlmZXJlbmNpYVxyXG4gICAgICAgICAgICB0aGlzLl9jaGVja1dpbkNvbmRpdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFZlcmlmaWNhIHNpIGxhIHBlbG90YSBlc3TDoSBlbiBsYSB6b25hIHbDoWxpZGEgcGFyYSBnb2xwZWFybGFcclxuICAgIF9pc0JhbGxJbkhpdFpvbmUoYmFsbFNwcml0ZSwgcGxheWVyLCBpc0p1bXBpbmcsIGlzUmVjZWl2aW5nKSB7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IHBsYXllci5zcHJpdGUuYm9keTtcclxuICAgICAgICBpZiAoIWJvZHkpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3QgYmFsbFggPSBiYWxsU3ByaXRlLng7XHJcbiAgICAgICAgY29uc3QgYmFsbFkgPSBiYWxsU3ByaXRlLnk7XHJcbiAgICAgICAgY29uc3QgYm9keVRvcCA9IGJvZHkueTtcclxuICAgICAgICBjb25zdCBib2R5SGVpZ2h0ID0gYm9keS5oZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgYm9keUNlbnRlclggPSBib2R5LnggKyBib2R5LndpZHRoICogMC41O1xyXG5cclxuICAgICAgICBjb25zdCB6b25lID0gaXNKdW1waW5nXHJcbiAgICAgICAgICAgID8geyB0b3A6IC0wLjEsIGJvdHRvbTogMC42IH1cclxuICAgICAgICAgICAgOiAoaXNSZWNlaXZpbmcgPyB7IHRvcDogMC4zNSwgYm90dG9tOiAwLjg1IH0gOiB7IHRvcDogMC4yNSwgYm90dG9tOiAwLjg1IH0pO1xyXG5cclxuICAgICAgICBjb25zdCB6b25lVG9wID0gYm9keVRvcCArIGJvZHlIZWlnaHQgKiB6b25lLnRvcDtcclxuICAgICAgICBjb25zdCB6b25lQm90dG9tID0gYm9keVRvcCArIGJvZHlIZWlnaHQgKiB6b25lLmJvdHRvbTtcclxuXHJcbiAgICAgICAgaWYgKGJhbGxZIDwgem9uZVRvcCB8fCBiYWxsWSA+IHpvbmVCb3R0b20pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZmFjaW5nUmlnaHQgPSBwbGF5ZXIuZmFjaW5nID09PSAncmlnaHQnO1xyXG4gICAgICAgIGNvbnN0IHJlYWNoRm9yd2FyZCA9IGJvZHkud2lkdGggKiAoaXNSZWNlaXZpbmcgPyAwLjkgOiAwLjc1KTtcclxuICAgICAgICBjb25zdCByZWFjaEJhY2sgPSBib2R5LndpZHRoICogKGlzUmVjZWl2aW5nID8gMC4yNSA6IDAuMTUpO1xyXG4gICAgICAgIGNvbnN0IG1pblggPSBmYWNpbmdSaWdodCA/IGJvZHlDZW50ZXJYIC0gcmVhY2hCYWNrIDogYm9keUNlbnRlclggLSByZWFjaEZvcndhcmQ7XHJcbiAgICAgICAgY29uc3QgbWF4WCA9IGZhY2luZ1JpZ2h0ID8gYm9keUNlbnRlclggKyByZWFjaEZvcndhcmQgOiBib2R5Q2VudGVyWCArIHJlYWNoQmFjaztcclxuXHJcbiAgICAgICAgaWYgKGJhbGxYIDwgbWluWCB8fCBiYWxsWCA+IG1heFgpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWFuZWphIGNvbGlzacOzbiBlbnRyZSBwZWxvdGEgeSBqdWdhZG9yXHJcbiAgICBfb25CYWxsUGxheWVyQ29sbGlzaW9uKGJhbGwsIHBsYXllcikge1xyXG4gICAgICAgIGlmICghYmFsbC5pc0JhbGxMaXZlKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGlzSnVtcGluZyA9ICFwbGF5ZXIuc3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duO1xyXG4gICAgICAgIGNvbnN0IGlzUmVjZWl2aW5nID0gcGxheWVyLmlzUmVjZWl2aW5nO1xyXG4gICAgICAgIGNvbnN0IHBsYXllckRpcmVjdGlvbiA9IHBsYXllci5mYWNpbmc7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5faXNCYWxsSW5IaXRab25lKGJhbGwuc3ByaXRlLCBwbGF5ZXIsIGlzSnVtcGluZywgaXNSZWNlaXZpbmcpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJhbGwuaGl0KHBsYXllciwgcGxheWVyRGlyZWN0aW9uLCBpc0p1bXBpbmcsIGlzUmVjZWl2aW5nKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb250cm9sYSBlbCBmaW5hbCBkZWwganVlZ29cclxuICAgIF9lbmRHYW1lKHdpbm5lcikge1xyXG4gICAgICAgIC8vIHNlIHBhcmEgZWwgdGltZXIgZGVsIHNldFxyXG4gICAgICAgIGlmICh0aGlzLnRpbWVyRXZlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lckV2ZW50LnJlbW92ZShmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzaWxiYXRvIGRlIGZpbmFsIGRlIHBhcnRpZG9cclxuICAgICAgICB0aGlzLnBsYXlTZngodGhpcy5zZngud2hpc3RsZSk7XHJcblxyXG4gICAgICAgIC8vIHNlIGRldGllbmUgbGEgZsOtc2ljYSBkZSBlc3RhIGVzY2VuYSBhbnRlcyBkZSBzYWxpclxyXG4gICAgICAgIGlmICh0aGlzLnBoeXNpY3MgJiYgdGhpcy5waHlzaWNzLndvcmxkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy53b3JsZC5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydChcIkVuZEdhbWVfU2NlbmVcIiwge1xyXG4gICAgICAgICAgICB3aW5uZXI6IHdpbm5lcixcclxuICAgICAgICAgICAgcGxheWVyMTogdGhpcy5wbGF5ZXIxLFxyXG4gICAgICAgICAgICBwbGF5ZXIyOiB0aGlzLnBsYXllcjIsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyaWZpY2Egc2kgYWxnw7puIGp1Z2Fkb3IgaGEgZ2FuYWRvIGVsIHNldFxyXG4gICAgX2NoZWNrV2luQ29uZGl0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IG1pblBvaW50cyA9IDExOyAgIC8vIHB1bnRvcyBtw61uaW1vcyBwYXJhIGdhbmFyXHJcbiAgICAgICAgY29uc3QgbWluRGlmZiA9IDI7ICAgICAgLy8gZGlmZXJlbmNpYSBtw61uaW1hIGRlIHB1bnRvcyBwYXJhIGdhbmFyXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gZGlmZXJlbmNpYSBkZSBwdW50b3NcclxuICAgICAgICBjb25zdCBzY29yZURpZmYgPSB0aGlzLnNjb3JlUDEgLSB0aGlzLnNjb3JlUDI7XHJcbiAgICAgICAgY29uc3QgbWF4U2NvcmUgPSBNYXRoLm1heCh0aGlzLnNjb3JlUDEsIHRoaXMuc2NvcmVQMik7XHJcblxyXG4gICAgICAgIC8vIHNpIG5vIHNlIGN1bXBsZSBhbGd1bmEgZGUgbGFzIGNvbmRpY2lvbmVzLCBubyBzZSB0ZXJtaW5hIGVsIHNldFxyXG4gICAgICAgIGlmIChtYXhTY29yZSA8IG1pblBvaW50cyB8fCBNYXRoLmFicyhzY29yZURpZmYpIDwgbWluRGlmZikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzaW5vLCBzZSBkZXRlcm1pbmEgZWwgZ2FuYWRvciBkZWwgc2V0XHJcbiAgICAgICAgY29uc3Qgd2lubmVyID0gc2NvcmVEaWZmID4gMCA/IFwicGxheWVyMVwiIDogXCJwbGF5ZXIyXCI7XHJcbiAgICAgICAgdGhpcy5fZW5kU2V0KHdpbm5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29udHJvbGEgZWwgZmluYWwgZGUgdW4gc2V0XHJcbiAgICBfZW5kU2V0KHdpbm5lcikge1xyXG4gICAgICAgIC8vIGFjdHVhbGl6YXIgc2V0cyBnYW5hZG9zXHJcbiAgICAgICAgaWYgKHdpbm5lciA9PT0gJ3BsYXllcjEnKSB0aGlzLnNldHNQMSsrO1xyXG4gICAgICAgIGVsc2UgaWYgKHdpbm5lciA9PT0gJ3BsYXllcjInKSB0aGlzLnNldHNQMisrO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhgU2V0IHRlcm1pbmFkby4gU2NvcmUgc2V0czogUDE9JHt0aGlzLnNldHNQMX0sIFAyPSR7dGhpcy5zZXRzUDJ9YCk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlU2V0U2NvcmVVSSgpO1xyXG5cclxuICAgICAgICAvLyBtb3N0cmFyIG1lbnNhamUgZGUgZ2FuYWRvciBkZSBzZXRcclxuICAgICAgICBjb25zdCB3aW5uZXJMYWJlbCA9ICh3aW5uZXIgPT09ICdwbGF5ZXIxJykgPyAnSnVnYWRvciAxJyA6ICdKdWdhZG9yIDInO1xyXG4gICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dC5zZXRUZXh0KGBTRVQgcGFyYSAke3dpbm5lckxhYmVsfWApO1xyXG4gICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dC5zZXRWaXNpYmxlKHRydWUpO1xyXG5cclxuICAgICAgICAvLyBBdmFuemFyIG7Dum1lcm8gZGUgc2V0XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U2V0Kys7XHJcblxyXG4gICAgICAgIGNvbnN0IG1hdGNoT3ZlciA9ICh0aGlzLnNldHNQMSA9PT0gMiB8fCB0aGlzLnNldHNQMiA9PT0gMik7XHJcblxyXG4gICAgICAgIGlmIChtYXRjaE92ZXIpIHtcclxuICAgICAgICAgICAgLy8gw7psdGltbyBzZXQ6IG1vc3RyYW1vcyBlbCBtZW5zYWplIDJzIHkgbHVlZ28gcGFzYW1vcyBhIGxhIGVzY2VuYSBmaW5hbFxyXG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gKHNpIHF1aWVyZXMsIGFxdcOtIHBvZHLDrWFzIG9jdWx0YXIgZWwgdGV4dG8pXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmRHYW1lKHdpbm5lcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHNldCBpbnRlcm1lZGlvOiBtb3N0cmFtb3MgZWwgbWVuc2FqZSAycywgbG8gb2N1bHRhbW9zIHkgcmVpbmljaWFtb3MgZWwgc2V0XHJcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXRXaW5uZXJUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRXaW5uZXJUZXh0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzZXRTZXQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlaW5pY2lhIGVsIGVzdGFkbyBwYXJhIHVuIG51ZXZvIHNldFxyXG4gICAgX3Jlc2V0U2V0KCkge1xyXG4gICAgICAgIHRoaXMuaXNHb2xkZW5Qb2ludCA9IGZhbHNlO1xyXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YSBlbCB0ZXh0byBkZWwgc2V0IGFjdHVhbFxyXG4gICAgICAgIHRoaXMuc2V0VGV4dC5zZXRUZXh0KGBTRVQgJHt0aGlzLmN1cnJlbnRTZXR9YCk7XHJcblxyXG4gICAgICAgIC8vIHNlIHJlaW5pY2lhIGVsIHRpZW1wb1xyXG4gICAgICAgIHRoaXMudGllbXBvUmVzdGFudGUgPSB0aGlzLnRpZW1wb1RvdGFsO1xyXG4gICAgICAgIHRoaXMudGltZXJFdmVudC5wYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVRpbWVyKCk7XHJcblxyXG4gICAgICAgIC8vIHNlIHJlaW5pY2lhIGxhIHB1bnR1YWNpw7NuIGRlbCBzZXQgKGzDs2dpY2EpXHJcbiAgICAgICAgdGhpcy5zY29yZVAxID0gMDtcclxuICAgICAgICB0aGlzLnNjb3JlUDIgPSAwO1xyXG5cclxuICAgICAgICAvLyBzZSByZWluaWNpYSBlbCBtYXJjYWRvciB2aXN1YWwgZW4gcGFudGFsbGFcclxuICAgICAgICB0aGlzLnBvaW50c0xlZnQgPSAwO1xyXG4gICAgICAgIHRoaXMucG9pbnRzUmlnaHQgPSAwO1xyXG4gICAgICAgIHRoaXMuc2NvcmVMZWZ0LnNldFRleHQoJzAnKTtcclxuICAgICAgICB0aGlzLnJpZ2h0U2NvcmUuc2V0VGV4dCgnMCcpO1xyXG5cclxuICAgICAgICAvLyBzZSByZWluaWNpYSBsYSBwZWxvdGFcclxuICAgICAgICB0aGlzLmJhbGwucmVzZXRSYWxseSgpO1xyXG5cclxuICAgICAgICAvLyBzZSByZXBvc2ljaW9uYW4gbG9zIGp1Z2Fkb3JlcyBhIHN1cyBwb3NpY2lvbmVzIGluaWNpYWxlc1xyXG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpO1xyXG4gICAgICAgIGNvbnN0IHAyID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpO1xyXG5cclxuICAgICAgICBwMS5zZXRQb3NpdGlvbih0aGlzLndvcmxkV2lkdGggKiAwLjI1LCB0aGlzLndvcmxkSGVpZ2h0ICogMC43KTtcclxuICAgICAgICBwMi5zZXRQb3NpdGlvbih0aGlzLndvcmxkV2lkdGggKiAwLjc1LCB0aGlzLndvcmxkSGVpZ2h0ICogMC43KTtcclxuXHJcbiAgICAgICAgcDEuaWRsZVJpZ2h0KCk7XHJcbiAgICAgICAgcDIuaWRsZUxlZnQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5U2Z4KHRoaXMuc2Z4LndoaXN0bGUpO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIFBhbnRhbGxhIGRlIFR1dG9yaWFsXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgYXBwbHlTdG9yZWRWb2x1bWUsIHBsYXlDbGljayB9IGZyb20gJy4uL1VJL0F1ZGlvLmpzJztcclxuaW1wb3J0IHsgY3JlYXRlVUlCdXR0b24sIGNyZWF0ZUljb25CdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUdXRvcmlhbF9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignVHV0b3JpYWxfU2NlbmUnKTtcclxuXHJcbiAgICAgICAgLy8gdW4gw7puaWNvIHR1dG9yaWFsIGNvbiBww6FnaW5hc1xyXG4gICAgICAgIHRoaXMucGFnZUluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLnJldHVyblNjZW5lID0gJ01lbnVfU2NlbmUnO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIC8vIGVzY2VuYSBkZXNkZSBsYSBxdWUgc2UgYWJyacOzIGVsIHR1dG9yaWFsLCBwYXJhIHJlYW51ZGFybGFcclxuICAgICAgICB0aGlzLnJldHVyblNjZW5lID0gZGF0YT8ucmV0dXJuU2NlbmUgPz8gJ01lbnVfU2NlbmUnO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gaW3DoWdlbmVzIGRlbCB0dXRvcmlhbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0MF9jb250cm9sZXMnLCAnQVNTRVRTL1RVVE9SSUFML1RVVDBfQ29udHJvbGVzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0MV9zZXQnLCAnQVNTRVRTL1RVVE9SSUFML1RVVDFfU2V0LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0Ml9wZWxvdGEnLCAnQVNTRVRTL1RVVE9SSUFML1RVVDJfUGVsb3RhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0M19wb3dlcnVwJywgJ0FTU0VUUy9UVVRPUklBTC9UVVQzX1Bvd2VydXAucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0dXQ0X2xpc3RhJywgJ0FTU0VUUy9UVVRPUklBTC9UVVQ0X0xpc3RhLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBmb25kbyB5IHVpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9GTEVDSEFfVk9MVkVSLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcclxuXHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB7XHJcbiAgICAgICAgICAgIC4uLih0aGlzLmdhbWUuZ2xvYmFscz8uZGVmYXVsdFRleHRTdHlsZSA/PyB7XHJcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnVlQzMjMnLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYXBwbHlTdG9yZWRWb2x1bWUodGhpcyk7XHJcblxyXG4gICAgICAgIC8vIGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGRcclxuICAgICAgICAgICAgLmltYWdlKDAsIDAsICdmb25kbycpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAgICAgLnNldERlcHRoKC0xKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIHTDrXR1bG9cclxuICAgICAgICB0aGlzLm1haW5UaXRsZVRleHQgPSB0aGlzLmFkZFxyXG4gICAgICAgICAgICAudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjEsICdUdXRvcmlhbCcsIHtcclxuICAgICAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICc0MnB4JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gVm9sdmVyIGF0csOhc1xyXG4gICAgICAgIGNyZWF0ZUljb25CdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuMDYsXHJcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXHJcbiAgICAgICAgICAgIHRleHR1cmU6ICdib3RvblZvbHZlcicsXHJcbiAgICAgICAgICAgIHNjYWxlOiAxLFxyXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQodGhpcy5yZXR1cm5TY2VuZSksXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGNvbnRlbmlkbyBkZWwgdHV0b3JpYWwgKHNsaWRlcylcclxuICAgICAgICB0aGlzLnBhZ2VJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5wYWdlcyA9IFtcclxuICAgICAgICAgICAgeyBrZXk6ICd0dXQwX2NvbnRyb2xlcycsIHRpdGxlOiAnQ29udHJvbGVzJyB9LFxyXG4gICAgICAgICAgICB7IGtleTogJ3R1dDFfc2V0JywgdGl0bGU6ICdSZWdsYXMgYsOhc2ljYXM6IHNldCcgfSxcclxuICAgICAgICAgICAgeyBrZXk6ICd0dXQyX3BlbG90YScsIHRpdGxlOiAnUmVnbGFzIGLDoXNpY2FzOiBwZWxvdGEnIH0sXHJcbiAgICAgICAgICAgIHsga2V5OiAndHV0M19wb3dlcnVwJywgdGl0bGU6ICdSZWdsYXMgYsOhc2ljYXM6IHBvd2VyLXVwcycgfSxcclxuICAgICAgICAgICAgeyBrZXk6ICd0dXQ0X2xpc3RhJywgdGl0bGU6ICdMaXN0YSBkZSBwb3dlci11cHMnIH1cclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICAvLyBwYW5lbCBwYXJhIGxhcyBpbcOhZ2VuZXNcclxuICAgICAgICBjb25zdCBwYW5lbE1hcmdpbiA9IE1hdGgubWF4KDgsIE1hdGgucm91bmQoTWF0aC5taW4od2lkdGgsIGhlaWdodCkgKiAwLjAxNSkpO1xyXG4gICAgICAgIGNvbnN0IHBhbmVsR2FwID0gTWF0aC5tYXgoNiwgTWF0aC5yb3VuZChoZWlnaHQgKiAwLjAxMikpO1xyXG4gICAgICAgIGNvbnN0IG5hdlkgPSBoZWlnaHQgKiAwLjkxO1xyXG5cclxuICAgICAgICBjb25zdCBwYW5lbFRvcCA9IHRoaXMubWFpblRpdGxlVGV4dC55ICsgdGhpcy5tYWluVGl0bGVUZXh0LmhlaWdodCArIHBhbmVsR2FwO1xyXG4gICAgICAgIGNvbnN0IHBhbmVsQm90dG9tID0gbmF2WSAtIHBhbmVsR2FwO1xyXG4gICAgICAgIGNvbnN0IHBhbmVsSGVpZ2h0ID0gTWF0aC5tYXgoMCwgcGFuZWxCb3R0b20gLSBwYW5lbFRvcCk7XHJcbiAgICAgICAgY29uc3QgcGFuZWxXaWR0aCA9IE1hdGgubWF4KDAsIHdpZHRoIC0gcGFuZWxNYXJnaW4gKiAyKTtcclxuXHJcbiAgICAgICAgdGhpcy5sYXlvdXQgPSB7XHJcbiAgICAgICAgICAgIHBhbmVsVG9wLFxyXG4gICAgICAgICAgICBwYW5lbEhlaWdodCxcclxuICAgICAgICAgICAgcGFuZWxXaWR0aCxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBpbWFnZW4gZGUgbGEgcGFnaW5hXHJcbiAgICAgICAgdGhpcy5zbGlkZUltYWdlID0gdGhpcy5hZGQuaW1hZ2UoXHJcbiAgICAgICAgICAgIGNlbnRlclgsXHJcbiAgICAgICAgICAgIHBhbmVsVG9wICsgcGFuZWxIZWlnaHQgLyAyLFxyXG4gICAgICAgICAgICB0aGlzLnBhZ2VzWzBdLmtleVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5fZml0SW1hZ2UodGhpcy5zbGlkZUltYWdlLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIGluZGljYWRvciBkZSBwYWdpbmFcclxuICAgICAgICB0aGlzLnBhZ2VJbmRpY2F0b3IgPSB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIG5hdlkgKyAyMCwgJycsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gQk9UT05FUyBERSBOQVZFR0FDScOTTlxyXG4gICAgICAgIGNvbnN0IGJ1dHRvblRleHRTdHlsZSA9IHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMjhweCcsIGNvbG9yOiAnIzAwMDAwMCcgfTtcclxuICAgICAgICAvLyBib3TDs24gQW50ZXJpb3JcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IGNlbnRlclggLSAxNjUsXHJcbiAgICAgICAgICAgIHk6IG5hdlkgKyAyMCxcclxuICAgICAgICAgICAgbGFiZWw6ICdBbnRlcmlvcicsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMucHJldigpLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBib3TDs24gU2lndWllbnRlXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBjZW50ZXJYICsgMTY1LFxyXG4gICAgICAgICAgICB5OiBuYXZZICsgMjAsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnU2lndWllbnRlJyxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5uZXh0KCksXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlclBhZ2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBfZml0SW1hZ2UoaW1nLCBtYXhXLCBtYXhIKSB7XHJcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLm1pbihtYXhXIC8gaW1nLndpZHRoLCBtYXhIIC8gaW1nLmhlaWdodCk7XHJcbiAgICAgICAgaW1nLnNldFNjYWxlKHNjYWxlKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJQYWdlKCkge1xyXG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLnBhZ2VzW3RoaXMucGFnZUluZGV4XTtcclxuICAgICAgICB0aGlzLm1haW5UaXRsZVRleHQuc2V0VGV4dChwLnRpdGxlID8/ICdUdXRvcmlhbCcpO1xyXG4gICAgICAgIHRoaXMuc2xpZGVJbWFnZS5zZXRUZXh0dXJlKHAua2V5KTtcclxuICAgICAgICB0aGlzLl9maXRJbWFnZSh0aGlzLnNsaWRlSW1hZ2UsIHRoaXMubGF5b3V0LnBhbmVsV2lkdGgsIHRoaXMubGF5b3V0LnBhbmVsSGVpZ2h0KTtcclxuICAgICAgICB0aGlzLnBhZ2VJbmRpY2F0b3Iuc2V0VGV4dChgJHt0aGlzLnBhZ2VJbmRleCArIDF9IGRlICR7dGhpcy5wYWdlcy5sZW5ndGh9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgbmV4dCgpIHtcclxuICAgICAgICBpZiAodGhpcy5wYWdlSW5kZXggPCB0aGlzLnBhZ2VzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgdGhpcy5wYWdlSW5kZXgrKztcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJQYWdlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByZXYoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGFnZUluZGV4ID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhZ2VJbmRleC0tO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlclBhZ2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcbiIsIi8vIFBhbnRhbGxhIGRlIENvbmZpZ3VyYWNpw7NuXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgZW5zdXJlU3RvcmVkQXVkaW9TZXR0aW5ncywgZ2V0U3RvcmVkTXVzaWNWb2x1bWUsIGdldFN0b3JlZFNmeFZvbHVtZSwgZ2V0U3RvcmVkR2xvYmFsVm9sdW1lLCBzZXRTdG9yZWRNdXNpY1ZvbHVtZSwgc2V0U3RvcmVkU2Z4Vm9sdW1lLCBzZXRTdG9yZWRHbG9iYWxWb2x1bWUsIGFwcGx5U3RvcmVkVm9sdW1lLCBwbGF5Q2xpY2sgfSBmcm9tICcuLi9VSS9BdWRpby5qcyc7XHJcbmltcG9ydCB7IGNyZWF0ZUljb25CdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0aW9uX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDb25maWd1cmF0aW9uX1NjZW5lJyk7XHJcblxyXG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmdsb2JhbFZvbHVtZVNsaWRlciA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBpbcOhZ2VuZXMgZm9uZG8geSB1aVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvRkxFQ0hBX1ZPTFZFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gc29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7XHJcblxyXG4gICAgICAgIC8vIEZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpXHJcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gVMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC4xLCAnQ29uZmlndXJhY2nDs24nLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8vLyBWT0xVTUVORVMgLy8vL1xyXG4gICAgICAgIGVuc3VyZVN0b3JlZEF1ZGlvU2V0dGluZ3MoKTtcclxuICAgICAgICBjb25zdCBpbml0aWFsR2xvYmFsVm9sdW1lID0gZ2V0U3RvcmVkR2xvYmFsVm9sdW1lKCk7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbE11c2ljVm9sdW1lID0gZ2V0U3RvcmVkTXVzaWNWb2x1bWUoKTtcclxuICAgICAgICBjb25zdCBpbml0aWFsU2Z4Vm9sdW1lID0gZ2V0U3RvcmVkU2Z4Vm9sdW1lKCk7XHJcblxyXG4gICAgICAgIC8vIHNlIGFwbGljYSBlbCB2b2x1bWVuIG5hZGEgbWFzIGNhcmdhclxyXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBsYXlvdXQgZGUgbG9zIHNsaWRlcnNcclxuICAgICAgICBjb25zdCBzZWN0aW9ucyA9IDM7XHJcbiAgICAgICAgY29uc3Qgc2VjdGlvbkdhcCA9IGhlaWdodCAqIDAuMTg7XHJcbiAgICAgICAgY29uc3QgbGFiZWxUb1NsaWRlckdhcCA9IGhlaWdodCAqIDAuMDU7XHJcbiAgICAgICAgY29uc3QgZ3JvdXBIZWlnaHQgPSAoc2VjdGlvbnMgLSAxKSAqIHNlY3Rpb25HYXAgKyBsYWJlbFRvU2xpZGVyR2FwO1xyXG4gICAgICAgIGNvbnN0IGdyb3VwVG9wWSA9IChoZWlnaHQgLyAyKSAtIChncm91cEhlaWdodCAvIDIpO1xyXG5cclxuICAgICAgICBjb25zdCBnbG9iYWxMYWJlbFkgPSBncm91cFRvcFk7XHJcbiAgICAgICAgY29uc3QgZ2xvYmFsU2xpZGVyWSA9IGdsb2JhbExhYmVsWSArIGxhYmVsVG9TbGlkZXJHYXA7XHJcbiAgICAgICAgY29uc3QgbXVzaWNMYWJlbFkgPSBncm91cFRvcFkgKyBzZWN0aW9uR2FwO1xyXG4gICAgICAgIGNvbnN0IG11c2ljU2xpZGVyWSA9IG11c2ljTGFiZWxZICsgbGFiZWxUb1NsaWRlckdhcDtcclxuICAgICAgICBjb25zdCBzZnhMYWJlbFkgPSBncm91cFRvcFkgKyAoc2VjdGlvbkdhcCAqIDIpO1xyXG4gICAgICAgIGNvbnN0IHNmeFNsaWRlclkgPSBzZnhMYWJlbFkgKyBsYWJlbFRvU2xpZGVyR2FwO1xyXG5cclxuICAgICAgICAvLyBTdWJ0w610dWxvIGdsb2JhbFxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgZ2xvYmFsTGFiZWxZLCAnVm9sdW1lbiBHZW5lcmFsJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSwgXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsIFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGJhcnJhIGRlIHZvbHVtZW4gKGdsb2JhbClcclxuICAgICAgICB0aGlzLmdsb2JhbFZvbHVtZVNsaWRlciA9IHRoaXMuYWRkLmRvbShjZW50ZXJYLCBnbG9iYWxTbGlkZXJZKVxyXG4gICAgICAgICAgICAuY3JlYXRlRnJvbUhUTUwoYDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBtaW49XCIwXCIgbWF4PVwiMVwiIHN0ZXA9XCIwLjAxXCIgdmFsdWU9XCIke2luaXRpYWxHbG9iYWxWb2x1bWV9XCIgXHJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIndpZHRoOjIyMHB4OyBoZWlnaHQ6MjBweDsgYWNjZW50LWNvbG9yOiMwMGFhZmY7IGJvcmRlci1yYWRpdXM6NXB4O1wiLz5gKTtcclxuXHJcbiAgICAgICAgdGhpcy5nbG9iYWxWb2x1bWVTbGlkZXIuYWRkTGlzdGVuZXIoJ2lucHV0Jyk7XHJcbiAgICAgICAgdGhpcy5nbG9iYWxWb2x1bWVTbGlkZXIub24oJ2lucHV0JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghKGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpKSByZXR1cm47XHJcbiAgICAgICAgICAgIHNldFN0b3JlZEdsb2JhbFZvbHVtZShldmVudC50YXJnZXQudmFsdWUpO1xyXG4gICAgICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIFN1YnTDrXR1bG8gZGUgbcO6c2ljYVxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgbXVzaWNMYWJlbFksICdWb2x1bWVuIE3DunNpY2EnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGJhcnJhIGRlIHZvbHVtZW4gKG3DunNpY2EpXHJcbiAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZVNsaWRlciA9IHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5kb20oY2VudGVyWCwgbXVzaWNTbGlkZXJZKVxyXG4gICAgICAgICAgICAuY3JlYXRlRnJvbUhUTUwoYDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBtaW49XCIwXCIgbWF4PVwiMVwiIHN0ZXA9XCIwLjAxXCIgdmFsdWU9XCIke2luaXRpYWxNdXNpY1ZvbHVtZX1cIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDoyMjBweDsgaGVpZ2h0OjIwcHg7IGFjY2VudC1jb2xvcjojMDBhYWZmOyBib3JkZXItcmFkaXVzOjVweDtcIi8+XHJcbiAgICAgICAgICAgIGApO1xyXG5cclxuICAgICAgICB0aGlzLm11c2ljVm9sdW1lU2xpZGVyLmFkZExpc3RlbmVyKCdpbnB1dCcpO1xyXG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIub24oJ2lucHV0JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHNldFN0b3JlZE11c2ljVm9sdW1lKHRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBTdWJ0w610dWxvIGRlIGVmZWN0b3NcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIHNmeExhYmVsWSwgJ1ZvbHVtZW4gRWZlY3RvcycsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gYmFycmEgZGUgdm9sdW1lbiAoZWZlY3RvcylcclxuICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlciA9IHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5kb20oY2VudGVyWCwgc2Z4U2xpZGVyWSlcclxuICAgICAgICAgICAgLmNyZWF0ZUZyb21IVE1MKGA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD1cIjFcIiBzdGVwPVwiMC4wMVwiIHZhbHVlPVwiJHtpbml0aWFsU2Z4Vm9sdW1lfVwiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIndpZHRoOjIyMHB4OyBoZWlnaHQ6MjBweDsgYWNjZW50LWNvbG9yOiMwMGFhZmY7IGJvcmRlci1yYWRpdXM6NXB4O1wiLz5cclxuICAgICAgICAgICAgYCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyLmFkZExpc3RlbmVyKCdpbnB1dCcpO1xyXG4gICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyLm9uKCdpbnB1dCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBzZXRTdG9yZWRTZnhWb2x1bWUodGFyZ2V0LnZhbHVlKTtcclxuICAgICAgICAgICAgYXBwbHlTdG9yZWRWb2x1bWUodGhpcyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyLmFkZExpc3RlbmVyKCdjaGFuZ2UnKTtcclxuICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlci5vbignY2hhbmdlJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHNlIHJlcHJvZHVjZSBhbCBzb2x0YXIgcGFyYSBkYXIgZmVlZGJhY2tcclxuICAgICAgICAgICAgcGxheUNsaWNrKHRoaXMsICdzb25pZG9DbGljaycpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vLy8vLy8vXHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBWb2x2ZXIgYXRyw6FzXHJcbiAgICAgICAgY3JlYXRlSWNvbkJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcclxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC4wOCxcclxuICAgICAgICAgICAgdGV4dHVyZTogJ2JvdG9uVm9sdmVyJyxcclxuICAgICAgICAgICAgc2NhbGU6IDEsXHJcbiAgICAgICAgICAgIGhvdmVyU2NhbGU6IDEuMSxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWVudV9TY2VuZScpLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzZSBsaW1waWEgZWwgc2xpZGVyIGFsIHNhbGlyIGRlIGxhIGVzY2VuYVxyXG4gICAgICAgIC8vIChhc8OtIHNlIGV2aXRhIHF1ZSBzZSBhY3VtdWxlbiBzaSBlbnRyYXMgeSBzYWxlcyB2YXJpYXMgdmVjZXMpXHJcbiAgICAgICAgdGhpcy5ldmVudHMub25jZShQaGFzZXIuU2NlbmVzLkV2ZW50cy5TSFVURE9XTiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tdXNpY1ZvbHVtZVNsaWRlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZVNsaWRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZVNsaWRlciA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2Z4Vm9sdW1lU2xpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5nbG9iYWxWb2x1bWVTbGlkZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsVm9sdW1lU2xpZGVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxWb2x1bWVTbGlkZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxWb2x1bWVTbGlkZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gUGFudGFsbGEgZGUgQ3LDqWRpdG9zXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWRpdHNfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NyZWRpdHNfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIGltw6FnZW5lcyBmb25kbyB5IHVpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9GTEVDSEFfVk9MVkVSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9NZW51UHJpbmNpcGFsJywgJ0FTU0VUUy9GT05ET1MvTUVOVV9QUklOQ0lQQUwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsb2dvJywgJ0FTU0VUUy9MT0dPL2xvZ29fZW1wcmVzYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hcmNvJywgJ0FTU0VUUy9VSS9NQVJDT1MvVkFDSU9TL01BUkNPU19FU0NFTkFSSU8ucG5nJylcclxuXHJcbiAgICAgICAgLy8gc29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcclxuXHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscz8uZGVmYXVsdFRleHRTdHlsZSA/PyB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG9NZW51UHJpbmNpcGFsJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTIpXHJcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gY2FwYSBvc2N1cmEgcG9yIGVuY2ltYSBkZWwgZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHgwMDAwMDAsIDAuNTApXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAgICAgLnNldERlcHRoKC0xKTtcclxuXHJcbiAgICAgICAgLy8gbm9tYnJlIHkgbWllbWJyb3MgZGVsIGVxdWlwb1xyXG4gICAgICAgIGNvbnN0IG5vbWJyZXNFcXVpcG8gPSBbXHJcbiAgICAgICAgICAgICdHUlVQTyA1IC0gU1VOU0VUIEFSQ0FERScsXHJcbiAgICAgICAgICAgICdTYXJhIEJ1ZW5vIEVzdGViYW4nLFxyXG4gICAgICAgICAgICAnQW50b25pbyBNb3LDoW4gQmFycmVyYScsXHJcbiAgICAgICAgICAgICdDcmlzdGluZSBOaW9rYSBUZXdvJyxcclxuICAgICAgICAgICAgJ0FsdmFybyBJYsOhw7FleiBNb250ZXJvJyxcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICAvL3RhcmpldGEgZG9uZGUgc2UgbXVlc3RyYSBlbCBub21icmUgZGVsIGVxdWlwbyB5IGxvcyBtaWVtYnJvc1xyXG4gICAgICAgIGNvbnN0IGNhcmRXaWR0aCA9IHdpZHRoICogMC4zODtcclxuICAgICAgICBjb25zdCBjYXJkSGVpZ2h0ID0gaGVpZ2h0ICogMC40NjtcclxuICAgICAgICBjb25zdCBjYXJkWCA9IHdpZHRoICogMC43NTtcclxuICAgICAgICBjb25zdCBjYXJkWSA9IGhlaWdodCAqIDAuNDY7XHJcblxyXG4gICAgICAgIGNvbnN0IGNhcmQgPSB0aGlzLmFkZFxyXG4gICAgICAgICAgICAucmVjdGFuZ2xlKGNhcmRYLCBjYXJkWSwgY2FyZFdpZHRoLCBjYXJkSGVpZ2h0LCAweDExMTExMSwgMC43KVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgY2FyZC5zZXRTdHJva2VTdHlsZSgyLCAweGZmZmZmZiwgMC4yKTtcclxuXHJcbiAgICAgICAgY29uc3QgbGluZVNwYWNpbmcgPSAzNjtcclxuICAgICAgICBjb25zdCBzdGFydFkgPSBjYXJkWSAtICgobm9tYnJlc0VxdWlwby5sZW5ndGggLSAxKSAqIGxpbmVTcGFjaW5nKSAvIDI7XHJcblxyXG4gICAgICAgIG5vbWJyZXNFcXVpcG8uZm9yRWFjaCgobm9tYnJlLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzSGVhZGVyID0gaSA9PT0gMDtcclxuICAgICAgICAgICAgdGhpcy5hZGRcclxuICAgICAgICAgICAgICAgIC50ZXh0KGNhcmRYLCBzdGFydFkgKyBpICogbGluZVNwYWNpbmcsIG5vbWJyZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdWVDMyMycsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IGlzSGVhZGVyID8gJzM2cHgnIDogJzMycHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBpc0hlYWRlciA/ICcjZjVkNzZlJyA6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgIC8vIHTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNhcmRYLCBoZWlnaHQgKiAwLjEsICdDcsOpZGl0b3MnLCB7XHJcbiAgICAgICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnNDJweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gbG9nbyBlbXByZXNhXHJcbiAgICAgICAgY29uc3QgbG9nb1ggPSBjYXJkWDtcclxuICAgICAgICBjb25zdCBsb2dvWSA9IGNhcmRZICsgKGNhcmRIZWlnaHQgLyAyKSArIGhlaWdodCAqIDAuMTYgLSAzO1xyXG4gICAgICAgIHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5pbWFnZShsb2dvWCwgbG9nb1ksICdsb2dvJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gVm9sdmVyIGF0csOhc1xyXG4gICAgICAgIGNyZWF0ZUljb25CdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuMDYsXHJcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXHJcbiAgICAgICAgICAgIHRleHR1cmU6ICdib3RvblZvbHZlcicsXHJcbiAgICAgICAgICAgIHNjYWxlOiAxLFxyXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCIvL1BhbnRhbGxhIGRlIEZpblxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgRW5kR2FtZV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignRW5kR2FtZV9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMud2lubmVyID0gZGF0YS53aW5uZXI7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxID0gZGF0YS5wbGF5ZXIxO1xyXG4gICAgICAgIHRoaXMucGxheWVyMiA9IGRhdGEucGxheWVyMjtcclxuICAgIH1cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gaW3DoWdlbmVzIGZvbmRvIHkgdWlcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfR19TRUxFQ0NJT05BRE8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfRy5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gc29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHsgXHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHMuZGVmYXVsdFRleHRTdHlsZTtcclxuXHJcbiAgICAgICAgY29uc3QgY2hhclAxID0gdGhpcy5wbGF5ZXIxLm5hbWU7XHJcbiAgICAgICAgY29uc3QgY2hhclAyID0gdGhpcy5wbGF5ZXIyLm5hbWU7XHJcblxyXG4gICAgICAgIC8vIEZvbmRvIChjb2xvciBjcmVtYSlcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKS5zZXRPcmlnaW4oMCkuc2V0RGVwdGgoLTEpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvIHByaW5jaXBhbFxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgKiAwLjE4LCBcIsKhRklOIERFTCBQQVJUSURPIVwiLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gZGVsIGdhbmFkb3JcclxuICAgICAgICBjb25zdCB3aW5uZXJUZXh0ID1cclxuICAgICAgICAgICAgdGhpcy53aW5uZXIgPT09IFwicGxheWVyMVwiXHJcbiAgICAgICAgICAgICAgICA/IFwiR2FuYWRvcjogXCIgKyBjaGFyUDFcclxuICAgICAgICAgICAgICAgIDogXCJHYW5hZG9yOiBcIiArIGNoYXJQMjtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAqIDAuNDAsIHdpbm5lclRleHQsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gcGFyYSB2b2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgY29uc3QgYnV0dG9uVGV4dFN0eWxlID0ge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuNjAsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnVm9sdmVyIGEgaW5pY2lvJyxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIHNjYWxlOiAzLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIi8vIFBhbnRhbGxhIHBhcmEgZWxlZ2lyIE1vZG8gZGUgSnVlZ29cclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiwgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5pbXBvcnQgeyBhcHBseVN0b3JlZFZvbHVtZSB9IGZyb20gJy4uL1VJL0F1ZGlvLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNb2RlR2FtZV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTW9kZUdhbWVfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIGJvdG9uZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX1NFTEVDQ0lPTkRPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW5TZWxlY2Npb25hcicsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9TSU5fU0VMRUNDSU9OQVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9GTEVDSEFfVk9MVkVSLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBzb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzPy5kZWZhdWx0VGV4dFN0eWxlID8/IHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzZSBhcGxpY2EgZWwgdm9sdW1lblxyXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAgICAgLnNldERlcHRoKC0xKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIHTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZFxyXG4gICAgICAgICAgICAudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAqIDAuMTgsICdNb2RvIGRlIEp1ZWdvJywge1xyXG4gICAgICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzQycHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gbGF5b3V0XHJcbiAgICAgICAgY29uc3QgYnV0dG9uWSA9IGhlaWdodCAqIDAuNTtcclxuICAgICAgICBjb25zdCBzcGFjaW5nID0gTWF0aC5taW4oMjgwLCB3aWR0aCAqIDAuMyk7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRYID0gd2lkdGggLyAyIC0gc3BhY2luZyAvIDI7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1dHRvblRleHRTdHlsZSA9IHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3RhcnRNb2RlID0gKG1vZGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ21vZGUnLCBtb2RlKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ01vZG8gc2VsZWNjaW9uYWRvOicsIG1vZGUpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RQbGF5ZXJfU2NlbmUnLCB7IG1vZGU6IG1vZGUgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIExPQ0FMXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBzdGFydFgsXHJcbiAgICAgICAgICAgIHk6IGJ1dHRvblksXHJcbiAgICAgICAgICAgIGxhYmVsOiAnTG9jYWwnLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBzdGFydE1vZGUoJ2xvY2FsJyksXHJcbiAgICAgICAgICAgIHNjYWxlOiAyLFxyXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW5TZWxlY2Npb25hcicsXHJcbiAgICAgICAgICAgIHRleHR1cmVIb3ZlcjogJ2JvdG9uU2VsZWNjaW9uYWRvJyxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBSRURcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHN0YXJ0WCArIHNwYWNpbmcsXHJcbiAgICAgICAgICAgIHk6IGJ1dHRvblksXHJcbiAgICAgICAgICAgIGxhYmVsOiAnUmVkJyxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gc3RhcnRNb2RlKCdvbmxpbmUnKSxcclxuICAgICAgICAgICAgc2NhbGU6IDIsXHJcbiAgICAgICAgICAgIHRleHR1cmVOb3JtYWw6ICdib3RvblNpblNlbGVjY2lvbmFyJyxcclxuICAgICAgICAgICAgdGV4dHVyZUhvdmVyOiAnYm90b25TZWxlY2Npb25hZG8nLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIHZvbHZlclxyXG4gICAgICAgIGNyZWF0ZUljb25CdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuMDYsXHJcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXHJcbiAgICAgICAgICAgIHRleHR1cmU6ICdib3RvblZvbHZlcicsXHJcbiAgICAgICAgICAgIHNjYWxlOiAxLFxyXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCIvL1BhbnRhbGxhIGRlIFBhdXNhXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY3JlYXRlVUlCdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBQYXVzZV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignUGF1c2VfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIEltw6FnZW5lcyBmb25kbyB5IHVpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9WT0xWRVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX0dfU0VMRUNDSU9OQURPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW5TZWxlY2Npb25hcicsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX0cucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlOyBcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQsIDB4MDAwMDAwLCAwLjg4KVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGhlaWdodCAqIDAuMTgsICdQYXVzYScsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgYnV0dG9uVGV4dFN0eWxlID0ge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1dHRvblN0YXJ0WSA9IGhlaWdodCAqIDAuNDY7XHJcbiAgICAgICAgY29uc3QgYnV0dG9uU3BhY2luZyA9IGhlaWdodCAqIDAuMTQ7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBDb250aW51YXJcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IGNlbnRlclgsXHJcbiAgICAgICAgICAgIHk6IGJ1dHRvblN0YXJ0WSxcclxuICAgICAgICAgICAgbGFiZWw6ICdDb250aW51YXInLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgc2NhbGU6IDIsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUoJ0dhbWVfU2NlbmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBib3RvbiBUdXRvcmlhbFxyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogY2VudGVyWCxcclxuICAgICAgICAgICAgeTogYnV0dG9uU3RhcnRZICsgYnV0dG9uU3BhY2luZyxcclxuICAgICAgICAgICAgbGFiZWw6ICdUdXRvcmlhbCcsXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxyXG4gICAgICAgICAgICBzY2FsZTogMixcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnVHV0b3JpYWxfU2NlbmUnLCB7IHJldHVyblNjZW5lOiAnUGF1c2VfU2NlbmUnIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBNZW7DuiBQcmluY2lwYWxcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IGNlbnRlclgsXHJcbiAgICAgICAgICAgIHk6IGJ1dHRvblN0YXJ0WSArIGJ1dHRvblNwYWNpbmcgKiAyLFxyXG4gICAgICAgICAgICBsYWJlbDogJ01lbsO6IFByaW5jaXBhbCcsXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxyXG4gICAgICAgICAgICBzY2FsZTogMixcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ2FtZVNjZW5lID0gdGhpcy5zY2VuZS5nZXQoJ0dhbWVfU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIGlmIChnYW1lU2NlbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBnYW1lU2NlbmUuaW5wdXQua2V5Ym9hcmQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZVNjZW5lLmlucHV0LmtleWJvYXJkLnJlbW92ZUFsbEtleXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoJ0dhbWVfU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIFBhbnRhbGxhIGRlIFNlbGVjY2nDs24gZGUganVnYWRvclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xuaW1wb3J0IHsgYXBwbHlTdG9yZWRWb2x1bWUsIHBsYXlDbGljayB9IGZyb20gJy4uL1VJL0F1ZGlvLmpzJztcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uLCBjcmVhdGVJY29uQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XG5cbmV4cG9ydCBjbGFzcyBTZWxlY3RQbGF5ZXJfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignU2VsZWN0UGxheWVyX1NjZW5lJyk7XG5cbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSAwOyAgICAvLyB0dXJub3M6IDAgLT4ganVnYWRvcjEsIDEgLT4ganVnYWRvcjIsIG51bGwgLT4gYW1ib3MgbGlzdG9zXG4gICAgICAgIHRoaXMucGxheWVySW5wdXRzID0gW107XG4gICAgICAgIHRoaXMucGxheWVySW5wdXRFbHMgPSBbXTtcbiAgICAgICAgdGhpcy50dXJuVGV4dCA9IG51bGw7XG4gICAgfVxuXG4gICAgaW5pdChkYXRhKSB7XG4gICAgICAgIHRoaXMubW9kZSA9IHRoaXMucmVnaXN0cnkuZ2V0KCdtb2RlJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdNb2RvIGRlIEp1ZWdvOicsIHRoaXMubW9kZSk7XG4gICAgICAgIHRoaXMuaXNIb3N0ID0gdGhpcy5yZWdpc3RyeS5nZXQoJ2lzSG9zdCcpO1xuICAgICAgICBjb25zb2xlLmxvZygnSG9zdDonLCB0aGlzLmlzSG9zdCk7XG4gICAgfVxuXG4gICAgcHJlbG9hZCgpIHtcbiAgICAgICAgLy8gYm90b25lc1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX1NFTEVDQ0lPTkRPLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fU0lOX1NFTEVDQ0lPTkFSLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL1ZPTFZFUi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZScsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX1NJTlNFTEVDQ0lPTkFSLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0UucG5nJyk7XG5cbiAgICAgICAgLy8gZm9uZG9cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWFyY29KdWdhZG9yJywgJ0FTU0VUUy9VSS9NQVJDT1MvVkFDSU9TL01BUkNPX1BFUlNPTkFKRV9TRUxFQ0NJT05BRE8ucG5nJyk7XG5cbiAgICAgICAgLy8gcGVyc29uYWplc1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NoYXJhY3RlckEnLCAnQVNTRVRTL1BFUlNPTkFKRVMvUEVSU09OQUpFU19QT1NFL3BlcnNvbmFqZXNfYS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjaGFyYWN0ZXJCJywgJ0FTU0VUUy9QRVJTT05BSkVTL1BFUlNPTkFKRVNfUE9TRS9wZXJzb25hamVzX2IucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2hhcmFjdGVyQycsICdBU1NFVFMvUEVSU09OQUpFUy9QRVJTT05BSkVTX1BPU0UvcGVyc29uYWplX2MucG5nJyk7XG5cbiAgICAgICAgLy8gc29uaWRvXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIHNlIGxpbXBpYW4gdG9kYXMgbGFzIHRlY2xhcyBjYXB0dXJhZGFzIHBvciBvdHJhcyBlc2NlbmFzXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQucmVtb3ZlQWxsS2V5cyh0cnVlKTtcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcblxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG5cbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscz8uZGVmYXVsdFRleHRTdHlsZSA/PyB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gc2UgYXBsaWNhIGVsIHZvbHVtZW5cbiAgICAgICAgYXBwbHlTdG9yZWRWb2x1bWUodGhpcyk7XG5cbiAgICAgICAgLy8gRm9uZG9cbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvJylcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSlcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAvLyBUw610dWxvXG4gICAgICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCA1MCwgJ1NlbGVjY2lvbmEgUGVyc29uYWplJywge1xuICAgICAgICAgICAgLi4uc3R5bGUsXG4gICAgICAgICAgICBmb250U2l6ZTogJzQycHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIC8vIHNlZ8O6biBlbCBtb2RvIHNlIGNyZWEgdW5hIFVJIHUgb3RyYVxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnbG9jYWwnKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUxvY2FsVUkod2lkdGgsIGhlaWdodCwgc3R5bGUpO1xuICAgICAgICB9IFxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnb25saW5lJykge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVPbmxpbmVVSSh3aWR0aCwgaGVpZ2h0LCBzdHlsZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCb3TDs24gdm9sdmVyXG4gICAgICAgIGNyZWF0ZUljb25CdXR0b24odGhpcywge1xuICAgICAgICAgICAgeDogd2lkdGggKiAwLjA2LFxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC4wOCxcbiAgICAgICAgICAgIHRleHR1cmU6ICdib3RvblZvbHZlcicsXG4gICAgICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgICAgIGhvdmVyU2NhbGU6IDEuMSxcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNb2RlR2FtZV9TY2VuZScpLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBzZSBsaW1waWEgRE9NIGFsIHNhbGlyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uY2UoUGhhc2VyLlNjZW5lcy5FdmVudHMuU0hVVERPV04sICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRzLmZvckVhY2goKGRvbSkgPT4gZG9tPy5kZXN0cm95KCkpO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dHMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRFbHMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNyZWF0ZUxvY2FsVUkod2lkdGgsIGhlaWdodCwgc3R5bGUpIHtcbiAgICAgICAgLy8gRGF0b3MgZGUgbG9zIGp1Z2Fkb3Jlc1xuICAgICAgICB0aGlzLnBsYXllcnMgPSBbXG4gICAgICAgICAgICB7IG5hbWU6ICcnLCBjaGFyYWN0ZXI6IG51bGwsIGNvbG9yOiAweDAwYWFmZiwgYmlnSW1hZ2U6IG51bGwsIGJpZ0ZyYW1lOiBudWxsLCBmcmFtZTogbnVsbCB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnJywgY2hhcmFjdGVyOiBudWxsLCBjb2xvcjogMHhmZjU1NTUsIGJpZ0ltYWdlOiBudWxsLCBiaWdGcmFtZTogbnVsbCwgZnJhbWU6IG51bGwgfSxcbiAgICAgICAgXTtcblxuICAgICAgICAvLyBUZXh0byBkZSB0dXJub1xuICAgICAgICB0aGlzLnR1cm5UZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDk1LCAnVFVSTk86IEp1Z2Fkb3IgMScsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgICAgZm9udEZhbWlseTogJ1ZUMzIzJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAnLFxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICBjb25zdCBzZWxlY3Rpb25PZmZzZXRZID0gMjU7XG5cbiAgICAgICAgLy8gVUkganVnYWRvcmVzICsgbWluaWF0dXJhc1xuICAgICAgICB0aGlzLmNyZWF0ZVBsYXllcnNVSShzZWxlY3Rpb25PZmZzZXRZKTtcbiAgICAgICAgdGhpcy5jcmVhdGVDaGFyYWN0ZXJNaW5pYXR1cmVzKDAsIHNlbGVjdGlvbk9mZnNldFkpO1xuICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XG5cbiAgICAgICAgLy8gQm90w7NuIFNpZ3VpZW50ZVxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXG4gICAgICAgICAgICB5OiA1MDAsXG4gICAgICAgICAgICBsYWJlbDogJ1NpZ3VpZW50ZScsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLmhhbmRsZU5leHQoKSxcbiAgICAgICAgICAgIHNjYWxlOiAxLjUsXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW1wbGUnLFxuICAgICAgICAgICAgdGV4dHVyZUhvdmVyOiAnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLFxuICAgICAgICAgICAgdGV4dFN0eWxlOiB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzE4cHgnLCBjb2xvcjogJyMwMDAnIH0sXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNyZWF0ZU9ubGluZVVJKHdpZHRoLCBoZWlnaHQsIHN0eWxlKSB7XG4gICAgICAgIC8vIERhdG9zIGRlbCBqdWdhZG9yXG4gICAgICAgIHRoaXMucGxheWVycyA9IFtcbiAgICAgICAgICAgIHsgbmFtZTogdGhpcy5yZWdpc3RyeS5nZXQoJ3VzZXJuYW1lJykgfHwgJ0p1Z2Fkb3JYJywgY2hhcmFjdGVyOiBudWxsLCBjb2xvcjogMHgwMGFhZmYsIGJpZ0ltYWdlOiBudWxsLCBiaWdGcmFtZTogbnVsbCwgZnJhbWU6IG51bGwgfVxuICAgICAgICBdO1xuXG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbk9mZnNldFkgPSA0MDtcblxuICAgICAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgMTAwICsgc2VsZWN0aW9uT2Zmc2V0WSwgYCR7dGhpcy5wbGF5ZXJzWzBdLm5hbWV9YCwgeyBcbiAgICAgICAgICAgIC4uLnN0eWxlLCBmb250U2l6ZTogJzI4cHgnLCBjb2xvcjogJyMwMDAnLCBmb250U3R5bGU6ICdib2xkJyBcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG4gICAgICAgIFxuICAgICAgICAvLyBUZXh0byBkZSB0dXJubyAoRXN0YWRvIGVuIGVzdGUgY2FzbywgcGVybyBjb24gZWwgbWlzbW8gbm9tYnJlIHBhcmEgbWFudGVybmVyIGxhIG1pc21hIGZ1bmNpb25hbGlkYWQpXG4gICAgICAgIHRoaXMudHVyblRleHQgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgMTMwLCAnTmluZ8O6biBwZXJzb25hamUgc2VsZWNjaW9uYWRvJywge1xuICAgICAgICAgICAgLi4uc3R5bGUsIGZvbnRTaXplOiAnMThweCcsIGNvbG9yOiAnIzAwMCcsXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIC8vIFVJIGp1Z2Fkb3JlcyArIG1pbmlhdHVyYXNcbiAgICAgICAgdGhpcy5jcmVhdGVQbGF5ZXJPbmxpbmVVSShzZWxlY3Rpb25PZmZzZXRZKTtcbiAgICAgICAgdGhpcy5jcmVhdGVDaGFyYWN0ZXJNaW5pYXR1cmVzKDE1MCwgc2VsZWN0aW9uT2Zmc2V0WSk7XG5cbiAgICAgICAgLy8gQm90w7NuIFNpZ3VpZW50ZVxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXG4gICAgICAgICAgICB5OiA1MDAsXG4gICAgICAgICAgICBsYWJlbDogJ1NpZ3VpZW50ZScsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLmhhbmRsZU5leHQoKSxcbiAgICAgICAgICAgIHNjYWxlOiAxLjUsXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW1wbGUnLFxuICAgICAgICAgICAgdGV4dHVyZUhvdmVyOiAnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLFxuICAgICAgICAgICAgdGV4dFN0eWxlOiB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzE4cHgnLCBjb2xvcjogJyMwMDAnIH0sXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBDcmVhIGxhIFVJIGRlIHNlbGVjY2nDs24gZGUganVnYWRvcmVzXG4gICAgY3JlYXRlUGxheWVyc1VJKG9mZnNldFkgPSAwKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlO1xuXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uc1ggPSBbd2lkdGggKiAwLjI1LCB3aWR0aCAqIDAuNzVdO1xuXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKChwbGF5ZXIsIGlkeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeCA9IHBvc2l0aW9uc1hbaWR4XTtcblxuICAgICAgICAgICAgLy8gTGFiZWwgbm9tYnJlXG4gICAgICAgICAgICB0aGlzLmFkZC50ZXh0KHgsIDEwMCArIG9mZnNldFksICdOb21icmU6JywgeyAuLi5zdHlsZSwgZm9udFNpemU6ICcyNHB4JywgY29sb3I6ICcjMDAwJyB9KVxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAgICAgLy8gSW5wdXQgbm9tYnJlXG4gICAgICAgICAgICBjb25zdCBkb20gPSB0aGlzLmFkZC5kb20oeCwgMTQwICsgb2Zmc2V0WSkuY3JlYXRlRnJvbUhUTUwoYFxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiTm9tYnJlIGp1Z2Fkb3JcIiBtYXhsZW5ndGg9XCIxMFwiXG4gICAgICAgICAgICAgICAgc3R5bGU9XCJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6MTUwcHg7XG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6NnB4O1xuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6MTZweDtcbiAgICAgICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6JHtzdHlsZS5mb250RmFtaWx5fTtcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czoxMnB4O1xuICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDZweCBzb2xpZCAjRkZBQTAwO1xuICAgICAgICAgICAgICAgICAgICBvdXRsaW5lOiBub25lO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOmNlbnRlcjtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjojZjBmMGYwO1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uOiBib3JkZXItY29sb3IgMC4ycywgYm94LXNoYWRvdyAwLjJzO1wiXG4gICAgICAgICAgICAgICAgb25mb2N1cz1cInRoaXMuc3R5bGUuYm9yZGVyQ29sb3I9JyNGRjgzMTYnOyB0aGlzLnN0eWxlLmJveFNoYWRvdz0nMCAwIDVweCAjRkY4MzE2JztcIlxuICAgICAgICAgICAgICAgIG9uYmx1cj1cInRoaXMuc3R5bGUuYm9yZGVyQ29sb3I9JyNGRkFBMDAnOyB0aGlzLnN0eWxlLmJveFNoYWRvdz0nbm9uZSc7XCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgYCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGlucHV0RWwgPSAvKiogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnR9ICovIChkb20ubm9kZS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpKTtcblxuICAgICAgICAgICAgLy8gcGFyYSBxdWUgZWwgdGVjbGFkbyBubyBpbnRlcmZpZXJhIGNvbiBQaGFzZXJcbiAgICAgICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKSk7XG5cbiAgICAgICAgICAgIC8vIExldHJhcyArIGVzcGFjaW9zXG4gICAgICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlucHV0RWwudmFsdWUgPSBpbnB1dEVsLnZhbHVlLnJlcGxhY2UoL1teYS16QS1aw4Atw7/DscORIF0vZywgJycpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnBsYXllcklucHV0c1tpZHhdID0gZG9tO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dEVsc1tpZHhdID0gaW5wdXRFbDtcblxuICAgICAgICAgICAgLy8g4oCcU2xvdOKAnSBncmFuZGUgKyBtYXJjb1xuICAgICAgICAgICAgcGxheWVyLmJpZ0ltYWdlID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggKiAoMC4yNSArIDAuNSAqIGlkeCksIGhlaWdodCAqIDAuNiArIG9mZnNldFksICdjaGFyYWN0ZXJBJylcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMS4yKVxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcblxuICAgICAgICAgICAgcGxheWVyLmJpZ0ZyYW1lID0gdGhpcy5hZGQuaW1hZ2UocGxheWVyLmJpZ0ltYWdlLngsIHBsYXllci5iaWdJbWFnZS55LCAnbWFyY29KdWdhZG9yJylcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMi44KVxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgICAgIC5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgcGxheWVyLmJpZ0ZyYW1lLnRleHR1cmUuc2V0RmlsdGVyKFBoYXNlci5UZXh0dXJlcy5GaWx0ZXJNb2RlLk5FQVJFU1QpO1xuXG4gICAgICAgICAgICAvLyBNYXJjbyBzb2JyZSBtaW5pYXR1cmEgKHJlY3TDoW5ndWxvKVxuICAgICAgICAgICAgcGxheWVyLmZyYW1lID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIDYwLCAxMjApXG4gICAgICAgICAgICAgICAgLnNldFN0cm9rZVN0eWxlKDQsIHBsYXllci5jb2xvcilcbiAgICAgICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFR1cm5vIGVtcGllemEgZW4ganVnYWRvciAxXG4gICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSAwO1xuICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XG4gICAgfVxuXG4gICAgY3JlYXRlUGxheWVyT25saW5lVUkob2Zmc2V0WSA9IDApIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuXG4gICAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMucGxheWVyc1swXTtcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcblxuICAgICAgICAvLyDigJxTbG904oCdIGdyYW5kZSArIG1hcmNvXG4gICAgICAgIHBsYXllci5iaWdJbWFnZSA9IHRoaXMuYWRkLmltYWdlKGNlbnRlclggLSAxNTAsIGhlaWdodCAqIDAuNTggKyBvZmZzZXRZLCAnY2hhcmFjdGVyQScpXG4gICAgICAgICAgICAuc2V0U2NhbGUoMS4yKVxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAgICAgcGxheWVyLmJpZ0ZyYW1lID0gdGhpcy5hZGQuaW1hZ2UocGxheWVyLmJpZ0ltYWdlLngsIHBsYXllci5iaWdJbWFnZS55LCAnbWFyY29KdWdhZG9yJylcbiAgICAgICAgICAgIC5zZXRTY2FsZSgyLjgpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICBwbGF5ZXIuYmlnRnJhbWUudGV4dHVyZS5zZXRGaWx0ZXIoUGhhc2VyLlRleHR1cmVzLkZpbHRlck1vZGUuTkVBUkVTVCk7XG5cbiAgICAgICAgLy8gTWFyY28gc29icmUgbWluaWF0dXJhIChyZWN0w6FuZ3VsbylcbiAgICAgICAgcGxheWVyLmZyYW1lID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIDYwLCAxMjApXG4gICAgICAgICAgICAuc2V0U3Ryb2tlU3R5bGUoNCwgcGxheWVyLmNvbG9yKVxuICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xuICAgIH1cblxuICAgIC8vIENyZWEgbGFzIG1pbmlhdHVyYXMgZGUgbG9zIHBlcnNvbmFqZXMgc2VsZWNjaW9uYWJsZXNcbiAgICBjcmVhdGVDaGFyYWN0ZXJNaW5pYXR1cmVzKHgsIHkpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuXG4gICAgICAgIGNvbnN0IHBlcnNvbmFqZXMgPSBbJ2NoYXJhY3RlckEnLCAnY2hhcmFjdGVyQicsICdjaGFyYWN0ZXJDJ107XG4gICAgICAgIGNvbnN0IHNwYWNpbmcgPSAxNTA7XG4gICAgICAgIGNvbnN0IHN0YXJ0WCA9IHdpZHRoIC8gMiAtIHNwYWNpbmcgLyAyO1xuICAgICAgICBjb25zdCBzdGFydFkgPSBoZWlnaHQgKiAwLjU7XG5cbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gW1xuICAgICAgICAgICAgeyB4OiBzdGFydFggKyB4LCB5OiBzdGFydFkgKyB5IH0sXG4gICAgICAgICAgICB7IHg6IHN0YXJ0WCArIHggKyBzcGFjaW5nLCB5OiBzdGFydFkgKyB5IH0sXG4gICAgICAgICAgICB7IHg6IHN0YXJ0WCArIHggKyBzcGFjaW5nIC8gMiwgeTogc3RhcnRZICsgeSArIHNwYWNpbmcgLyAyIH0sXG4gICAgICAgIF07XG5cbiAgICAgICAgcGVyc29uYWplcy5mb3JFYWNoKChub21icmUsIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1pbmkgPSB0aGlzLmFkZC5pbWFnZShwb3NpdGlvbnNbaV0ueCwgcG9zaXRpb25zW2ldLnksIG5vbWJyZSlcbiAgICAgICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNDUpXG4gICAgICAgICAgICAgICAgLnNldERhdGEoJ2NoYXJhY3Rlck5hbWUnLCBub21icmUpO1xuXG4gICAgICAgICAgICBtaW5pLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcbiAgICAgICAgICAgICAgICBwbGF5Q2xpY2sodGhpcywgJ3Nvbmlkb0NsaWNrJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbk1pbmlDbGlja2VkKG5vbWJyZSwgbWluaSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gTMOzZ2ljYSBhbCBoYWNlciBjbGljayBzb2JyZSB1bmEgbWluaWF0dXJhIChwZXJzb25hamUpXG4gICAgb25NaW5pQ2xpY2tlZChjaGFyYWN0ZXJOYW1lLCBtaW5pKSB7XG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdvbmxpbmUnKSB7XG4gICAgICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLnBsYXllcnNbMF07XG5cbiAgICAgICAgICAgIC8vIFNpIGVsIHBlcnNvbmFqZSB5YSBlcyBlbCBzZWxlY2Npb25hZG8sIHNlIGRlc2VsZWNjaW9uYVxuICAgICAgICAgICAgaWYgKHBsYXllci5jaGFyYWN0ZXIgPT09IGNoYXJhY3Rlck5hbWUpIHtcbiAgICAgICAgICAgICAgICBwbGF5ZXIuY2hhcmFjdGVyID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmJpZ0ltYWdlKSBwbGF5ZXIuYmlnSW1hZ2Uuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5mcmFtZSkgcGxheWVyLmZyYW1lLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBTaSBlcyB1bm8gbnVldm8sIHNlIHNlbGVjY2lvbmEgKHkgYXV0b23DoXRpY2FtZW50ZSBkZXNtYXJjYSBlbCBhbnRlcmlvciBzaSBsbyBodWJpZXJhKVxuICAgICAgICAgICAgICAgIHBsYXllci5jaGFyYWN0ZXIgPSBjaGFyYWN0ZXJOYW1lO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuYmlnSW1hZ2UpIHBsYXllci5iaWdJbWFnZS5zZXRUZXh0dXJlKGNoYXJhY3Rlck5hbWUpLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5mcmFtZSkgcGxheWVyLmZyYW1lLnNldFBvc2l0aW9uKG1pbmkueCwgbWluaS55KS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuOyAvLyBTYWxpbW9zIHBhcmEgbm8gZWplY3V0YXIgbGEgbMOzZ2ljYSBkZSB0dXJub3MgZGVsIG1vZG8gbG9jYWxcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG93bmVySW5kZXggPSB0aGlzLnBsYXllcnMuZmluZEluZGV4KHAgPT4gcC5jaGFyYWN0ZXIgPT09IGNoYXJhY3Rlck5hbWUpO1xuXG4gICAgICAgIC8vIHNpIGVsIHBlcnNvbmFqZSB5YSBwZXJ0ZW5lY2UgYSBhbGd1aWVuLCBzZSBkZXNlbGVjY2lvbmEgc2llbXByZVxuICAgICAgICBpZiAob3duZXJJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGNvbnN0IG93bmVyID0gdGhpcy5wbGF5ZXJzW293bmVySW5kZXhdO1xuXG4gICAgICAgICAgICBvd25lci5jaGFyYWN0ZXIgPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAob3duZXIuYmlnSW1hZ2UpIG93bmVyLmJpZ0ltYWdlLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgaWYgKG93bmVyLmZyYW1lKSBvd25lci5mcmFtZS5zZXRWaXNpYmxlKGZhbHNlKTtcblxuICAgICAgICAgICAgLy8gRWwgdHVybm8gcGFzYSBhIGVzZSBqdWdhZG9yIHBhcmEgcXVlIGVsaWphIGlubWVkaWF0YW1lbnRlIG90cm9cbiAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBvd25lckluZGV4O1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2kgZWwgcGVyc29uYWplIG5vIHBlcnRlbmVjZSBhIG5hZGllLCBsbyBhc2lnbmFtb3Mgc2Vnw7puIGVsIHR1cm5vIChvIHNlZ8O6biBxdWnDqW4gZmFsdGUpXG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5wbGF5ZXJzWzBdO1xuICAgICAgICBjb25zdCBwMiA9IHRoaXMucGxheWVyc1sxXTtcblxuICAgICAgICBsZXQgdGFyZ2V0SW5kZXggPSB0aGlzLmN1cnJlbnRUdXJuO1xuXG4gICAgICAgIC8vIHNpIGN1cnJlbnRUdXJuIGVzIG51bGwgKGFtYm9zIHlhIHRlbsOtYW4pLCBubyBzZSBkZWphIHJlZW1wbGF6YXIgc2luIGRlc2VsZWNjaW9uYXIgYW50ZXMsXG4gICAgICAgIC8vIHBlcm8gc2kgdW5vIGVzdMOhIHZhY8Otbywgc2UgZWxpZ2UgYXV0b23DoXRpY2FtZW50ZSBlbCB2YWPDrW9cbiAgICAgICAgaWYgKHRhcmdldEluZGV4ID09PSBudWxsIHx8IHRhcmdldEluZGV4ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICghcDEuY2hhcmFjdGVyICYmIHAyLmNoYXJhY3RlcikgdGFyZ2V0SW5kZXggPSAwO1xuICAgICAgICAgICAgZWxzZSBpZiAoIXAyLmNoYXJhY3RlciAmJiBwMS5jaGFyYWN0ZXIpIHRhcmdldEluZGV4ID0gMTtcbiAgICAgICAgICAgIGVsc2UgaWYgKCFwMS5jaGFyYWN0ZXIgJiYgIXAyLmNoYXJhY3RlcikgdGFyZ2V0SW5kZXggPSAwO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYW1ib3MgdGllbmVuIHBlcnNvbmFqZTogcGFyYSBjYW1iaWFyLCBwcmltZXJvIGRlc2VsZWNjaW9uYSB1bm8gKGNsaWNrIGVuIHN1IG1pbmkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gdGhpcy5wbGF5ZXJzW3RhcmdldEluZGV4XTtcbiAgICAgICAgY29uc3Qgb3RoZXIgPSB0aGlzLnBsYXllcnNbMSAtIHRhcmdldEluZGV4XTtcblxuICAgICAgICAvLyBubyBzZSBwZXJtaXRlIGVzY29nZXIgdW5vIHF1ZSB0ZW5nYSBlbCBvdHJvXG4gICAgICAgIGlmIChvdGhlci5jaGFyYWN0ZXIgPT09IGNoYXJhY3Rlck5hbWUpIHJldHVybjtcblxuICAgICAgICAvLyBBc2lnbmFyIHBlcnNvbmFqZVxuICAgICAgICB0YXJnZXQuY2hhcmFjdGVyID0gY2hhcmFjdGVyTmFtZTtcblxuICAgICAgICBpZiAodGFyZ2V0LmJpZ0ltYWdlKSB0YXJnZXQuYmlnSW1hZ2Uuc2V0VGV4dHVyZShjaGFyYWN0ZXJOYW1lKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICBpZiAodGFyZ2V0LmZyYW1lKSB0YXJnZXQuZnJhbWUuc2V0UG9zaXRpb24obWluaS54LCBtaW5pLnkpLnNldFZpc2libGUodHJ1ZSk7XG5cbiAgICAgICAgLy8gdHVybm86IHNpIGVsIG90cm8gYcO6biBubyBlbGlnacOzLCBwYXNhIGFsIG90cm87IHNpIHlhIGVsaWdpw7MsIHF1ZWRhIGVuIG51bGwgKGFtYm9zIGxpc3RvcylcbiAgICAgICAgaWYgKCFvdGhlci5jaGFyYWN0ZXIpIHRoaXMuY3VycmVudFR1cm4gPSAxIC0gdGFyZ2V0SW5kZXg7XG4gICAgICAgIGVsc2UgdGhpcy5jdXJyZW50VHVybiA9IG51bGw7XG5cbiAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xuICAgIH1cblxuICAgIC8vIENvbnRyb2xhIHF1ZSBwYXNhIGFsIGhhY2VyIGNsaWNrIGVuIGVsIGJvdMOzbiBTaWd1aWVudGVcbiAgICBoYW5kbGVOZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnbG9jYWwnKSB7XG4gICAgICAgICAgICAgY29uc3QgbmFtZTEgPSB0aGlzLnBsYXllcklucHV0RWxzPy5bMF0/LnZhbHVlPy50cmltKCkgPz8gJyc7XG4gICAgICAgICAgICBjb25zdCBwMUhhc0NoYXIgPSAhIXRoaXMucGxheWVycz8uWzBdPy5jaGFyYWN0ZXI7XG5cbiAgICAgICAgICAgIGNvbnN0IG5hbWUyID0gdGhpcy5wbGF5ZXJJbnB1dEVscz8uWzFdPy52YWx1ZT8udHJpbSgpID8/ICcnO1xuICAgICAgICAgICAgY29uc3QgcDJIYXNDaGFyID0gISF0aGlzLnBsYXllcnM/LlsxXT8uY2hhcmFjdGVyO1xuXG4gICAgICAgICAgICBjb25zdCByZWFkeSA9IChuYW1lMS5sZW5ndGggPiAwKSAmJiAobmFtZTIubGVuZ3RoID4gMCkgJiYgcDFIYXNDaGFyICYmIHAySGFzQ2hhcjtcblxuICAgICAgICAgICAgaWYgKCFyZWFkeSkge1xuICAgICAgICAgICAgICAgIC8vIHNlIGFjdHVhbGl6YSBlbCB0ZXh0byBkZSBhcnJpYmEgKHR1cm5UZXh0KSBjb24gZWwgbWVuc2FqZSBlc3BlY8OtZmljb1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcblxuICAgICAgICAgICAgICAgIC8vIHNlIGRlc3RhY2EgZWwgbWVuc2FqZSBlbiByb2pvIGR1cmFudGUgMXNcbiAgICAgICAgICAgICAgICB0aGlzLmZsYXNoVHVyblRleHQoJyNiMDAwMDAnLCA5MDApO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzZSBndWFyZGFuIG5vbWJyZXNcbiAgICAgICAgICAgIHRoaXMucGxheWVyc1swXS5uYW1lID0gbmFtZTE7XG4gICAgICAgICAgICB0aGlzLnBsYXllcnNbMV0ubmFtZSA9IG5hbWUyO1xuXG4gICAgICAgICAgICAvLyBzZSBwYXNhIGEgbGEgc2lndWllbnRlIGVzY2VuYVxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnU2VsZWN0U2NlbmFyaW9fU2NlbmUnLCB7XG4gICAgICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICAgICAgICAgIHBsYXllcjE6IHRoaXMucGxheWVyc1swXSxcbiAgICAgICAgICAgICAgICBwbGF5ZXIyOiB0aGlzLnBsYXllcnNbMV0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdvbmxpbmUnKSB7XG4gICAgICAgICAgICBjb25zdCBwMUhhc0NoYXIgPSAhIXRoaXMucGxheWVycz8uWzBdPy5jaGFyYWN0ZXI7XG5cbiAgICAgICAgICAgIGlmICghcDFIYXNDaGFyKSB7XG4gICAgICAgICAgICAgICAgLy8gc29sbyBzZSBhdmlzYSBzaSBubyBoYSBlbGVnaWRvIHBlcnNvbmFqZVxuICAgICAgICAgICAgICAgIHRoaXMuZmxhc2hUdXJuVGV4dCgnI2IwMDAwMCcsIDkwMCk7XG4gICAgICAgICAgICAgICAgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdEZWJlcyBlbGVnaXIgdW4gcGVyc29uYWplIHByaW1lcm8nKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KCdteUNoYXJhY3RlcicsIHRoaXMucGxheWVyc1swXS5jaGFyYWN0ZXIpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5pc0hvc3QpIHtcbiAgICAgICAgICAgICAgICAvLyBTb3kgZWwgYWRtaW46IHB1ZWRvIHBhc2FyIGEgZWxlZ2lyIGVzY2VuYXJpb1xuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NlbGVjdFNjZW5hcmlvX1NjZW5lJywge1xuICAgICAgICAgICAgICAgICAgICBtb2RlOiB0aGlzLm1vZGUsXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcjE6IHRoaXMucGxheWVyc1swXSxcbiAgICAgICAgICAgICAgICAgICAgaXNIb3N0OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIHBhc2Ftb3MgcGxheWVyMiBwb3JxdWUgc2UgdW5pcsOhIGVuIHJlZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdMb2JieV9TY2VuZScsIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIyOiB0aGlzLnBsYXllcnNbMF0sXG4gICAgICAgICAgICAgICAgICAgIGlzSG9zdDogZmFsc2UgXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBIYWNlIHBhcnBhZGVhciBlbCB0ZXh0byBkZSB0dXJubyBjb24gdW4gY29sb3Igcm9qbyBkdXJhbnRlIHVub3MgbWlsaXNlZ3VuZG9zXG4gICAgZmxhc2hUdXJuVGV4dChjb2xvciA9ICcjYjAwMDAwJywgbXMgPSA5MDApIHtcbiAgICAgICAgaWYgKCF0aGlzLnR1cm5UZXh0KSByZXR1cm47XG5cbiAgICAgICAgY29uc3Qgb2xkQ29sb3IgPSB0aGlzLnR1cm5UZXh0LnN0eWxlLmNvbG9yIHx8ICcjMDAwMDAwJztcbiAgICAgICAgdGhpcy50dXJuVGV4dC5zZXRDb2xvcihjb2xvcik7XG5cbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKG1zLCAoKSA9PiB7XG4gICAgICAgICAgICAvLyB2dWVsdmUgYWwgY29sb3Igbm9ybWFsIHkgcmVmcmVzY2EgZWwgdGV4dG8gcG9yIHNpIGNhbWJpw7MgYWxnb1xuICAgICAgICAgICAgdGhpcy50dXJuVGV4dC5zZXRDb2xvcihvbGRDb2xvcik7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEFjdHVhbGl6YSBlbCB0ZXh0byBkZSB0dXJuby9lc3RhZG8gYWN0dWFsXG4gICAgdXBkYXRlVHVyblRleHQoKSB7XG4gICAgICAgIGlmICghdGhpcy50dXJuVGV4dCkgcmV0dXJuO1xuXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdsb2NhbCcpIHtcbiAgICAgICAgICAgIGNvbnN0IG5hbWUxID0gdGhpcy5wbGF5ZXJJbnB1dEVscz8uWzBdPy52YWx1ZT8udHJpbSgpID8/ICcnO1xuICAgICAgICAgICAgY29uc3QgbmFtZTIgPSB0aGlzLnBsYXllcklucHV0RWxzPy5bMV0/LnZhbHVlPy50cmltKCkgPz8gJyc7XG5cbiAgICAgICAgICAgIGNvbnN0IHAxSGFzQ2hhciA9ICEhdGhpcy5wbGF5ZXJzPy5bMF0/LmNoYXJhY3RlcjtcbiAgICAgICAgICAgIGNvbnN0IHAySGFzQ2hhciA9ICEhdGhpcy5wbGF5ZXJzPy5bMV0/LmNoYXJhY3RlcjtcblxuICAgICAgICAgICAgY29uc3QgcDFIYXNOYW1lID0gbmFtZTEubGVuZ3RoID4gMDtcbiAgICAgICAgICAgIGNvbnN0IHAySGFzTmFtZSA9IG5hbWUyLmxlbmd0aCA+IDA7XG5cbiAgICAgICAgICAgIGNvbnN0IGFsbENoYXJzID0gcDFIYXNDaGFyICYmIHAySGFzQ2hhcjtcbiAgICAgICAgICAgIGNvbnN0IGFsbE5hbWVzID0gcDFIYXNOYW1lICYmIHAySGFzTmFtZTtcblxuICAgICAgICAgICAgLy8gc2kgdG9kbyBlc3TDoSBjb21wbGV0b1xuICAgICAgICAgICAgaWYgKGFsbENoYXJzICYmIGFsbE5hbWVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCfCoUxpc3RvIHBhcmEgY29udGludWFyIScpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2kgZmFsdGFuIE5PTUJSRVMgKHkgeWEgZXN0w6FuIGxvcyBwZXJzb25hamVzKSwgZXNwZWNpZmljYSBxdWnDqW5cbiAgICAgICAgICAgIGlmIChhbGxDaGFycyAmJiAhYWxsTmFtZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXAxSGFzTmFtZSAmJiAhcDJIYXNOYW1lKSB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0ZhbHRhbiBsb3Mgbm9tYnJlcyBkZSBKdWdhZG9yIDEgeSBKdWdhZG9yIDInKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghcDFIYXNOYW1lKSB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0ZhbHRhIGVsIG5vbWJyZSBkZSBKdWdhZG9yIDEnKTtcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRmFsdGEgZWwgbm9tYnJlIGRlIEp1Z2Fkb3IgMicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2kgZmFsdGFuIFBFUlNPTkFKRVMgKHkgeWEgZXN0w6FuIGxvcyBub21icmVzKSwgZXNwZWNpZmljYSBxdWnDqW5cbiAgICAgICAgICAgIGlmIChhbGxOYW1lcyAmJiAhYWxsQ2hhcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXAxSGFzQ2hhciAmJiAhcDJIYXNDaGFyKSB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0ZhbHRhbiBsb3MgcGVyc29uYWplcyBkZSBKdWdhZG9yIDEgeSBKdWdhZG9yIDInKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghcDFIYXNDaGFyKSB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0ZhbHRhIGVsIHBlcnNvbmFqZSBkZSBKdWdhZG9yIDEnKTtcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRmFsdGEgZWwgcGVyc29uYWplIGRlIEp1Z2Fkb3IgMicpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2kgZmFsdGFuIGNvc2FzIG1peHRhcyAobm9tYnJlcyB5IHBlcnNvbmFqZXMpXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50VHVybiA9PT0gbnVsbCB8fCB0aGlzLmN1cnJlbnRUdXJuID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0NvbXBsZXRhIG5vbWJyZXMgeSBwZXJzb25hamVzJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnR1cm5UZXh0LnNldFRleHQoYFRVUk5POiBKdWdhZG9yICR7dGhpcy5jdXJyZW50VHVybiArIDF9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnb25saW5lJykge1xuICAgIFxuICAgICAgICAgICAgY29uc3QgcDFIYXNDaGFyID0gISF0aGlzLnBsYXllcnM/LlswXT8uY2hhcmFjdGVyO1xuXG4gICAgICAgICAgICBpZiAoIXAxSGFzQ2hhcikge1xuICAgICAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0VGV4dCgnTmluZ8O6biBwZXJzb25hamUgc2VsZWNjaW9uYWRvJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0VGV4dCgnTGlzdG86IGVsIGp1Z2Fkb3IgdGllbmUgcGVyc29uYWplJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvL1BhbnRhbGxhIGRlIFNlbGVjY2lvbiBkZSBlc2NlbmFyaW9cbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcbmltcG9ydCB7IGFwcGx5U3RvcmVkVm9sdW1lLCBwbGF5Q2xpY2sgfSBmcm9tICcuLi9VSS9BdWRpby5qcyc7XG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiwgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xuXG5leHBvcnQgY2xhc3MgU2VsZWN0U2NlbmFyaW9fU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignU2VsZWN0U2NlbmFyaW9fU2NlbmUnKTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZFNjZW5hcmlvID0gJ0d5bSc7XG4gICAgICAgIHRoaXMubW9kZSA9ICdsb2NhbCc7XG4gICAgfVxuXG4gICAgcHJlbG9hZCgpIHtcbiAgICAgICAgLy8gQm90b25lc1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0UucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW5TZWxlY2Npb25hcicsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX1NJTlNFTEVDQ0lPTkFSLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0ZMRUNIQV9WT0xWRVIucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW1wbGUnLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9TSU5TRUxFQ0NJT05BUi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFLnBuZycpO1xuXG4gICAgICAgIC8vIEZvbmRvXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xuXG4gICAgICAgIC8vIEVzY2VuYXJpb3NcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdHeW0nLCAnQVNTRVRTL0ZPTkRPUy9HSU1OQVNJTy5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQbGF5YScsICdBU1NFVFMvRk9ORE9TL1BMQVlBLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0phcmRpbicsICdBU1NFVFMvRk9ORE9TL0pBUkRJTi5wbmcnKTtcblxuICAgICAgICAvLyBTb25pZG9cbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xuXG4gICAgICAgIC8vIE1hcmNvXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWFyY28nLCAnL0FTU0VUUy9VSS9NQVJDT1MvVkFDSU9TL01BUkNPU19FU0NFTkFSSU8nKVxuICAgIH1cblxuICAgIGluaXQoZGF0YSkge1xuICAgICAgICB0aGlzLnBsYXllcjEgPSBkYXRhLnBsYXllcjE7XG4gICAgICAgIHRoaXMucGxheWVyMiA9IGRhdGEucGxheWVyMjtcbiAgICAgICAgdGhpcy5tb2RlID0gZGF0YS5tb2RlIHx8ICdsb2NhbCc7XG4gICAgICAgIHRoaXMuaXNIb3N0ID0gZGF0YS5pc0hvc3QgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgY3JlYXRlKCkge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHMuZGVmYXVsdFRleHRTdHlsZTtcblxuICAgICAgICAvLyBzZSBhcGxpY2EgZWwgdm9sdW1lblxuICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcblxuICAgICAgICAvLyBGb25kb1xuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKVxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxuICAgICAgICAgICAgLnNldERlcHRoKC0xKVxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIC8vIFTDrXR1bG9cbiAgICAgICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDUwLCAnU2VsZWNjaW9uYSBFc2NlbmFyaW8nLCB7XG4gICAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDJweCcsXG4gICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZidcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgLy8gSW1hZ2VuIGRlbCBlc2NlbmFyaW8gc2VsZWNjaW9uYWRvXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyA9ICdHeW0nO1xuICAgICAgICB0aGlzLnNlbGVjdGVkSW1hZ2UgPSB0aGlzLmFkZC5pbWFnZSh3aWR0aCAvIDIsIDI0MCwgdGhpcy5zZWxlY3RlZFNjZW5hcmlvKS5zZXRTY2FsZSgwLjUpO1xuXG4gICAgICAgIC8vIEVzY2VuYXJpb3MgKGJvdG9uZXMpXG4gICAgICAgIGNvbnN0IGVzY2VuYXJpb3MgPSBbJ0d5bScsICdQbGF5YScsICdKYXJkaW4nXTtcbiAgICAgICAgY29uc3Qgc3BhY2luZyA9IDIwMDtcbiAgICAgICAgY29uc3Qgc3RhcnRYID0gd2lkdGggLyAyIC0gc3BhY2luZztcblxuICAgICAgICBjb25zdCBzY2VuYXJpb0J1dHRvbnMgPSB7fTtcblxuICAgICAgICAvLyBmdW5jacOzbiBwYXJhIHNlbGVjY2lvbmFyIGVzY2VuYXJpb1xuICAgICAgICBjb25zdCBzZXRTZWxlY3RlZFNjZW5hcmlvID0gKG5vbWJyZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFNjZW5hcmlvID0gbm9tYnJlO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEltYWdlLnNldFRleHR1cmUobm9tYnJlKS5zZXRTY2FsZSgwLjUpO1xuXG4gICAgICAgICAgICAvLyBzZSBkZWphIG1hcmNhZG8gZWwgc2VsZWNjaW9uYWRvXG4gICAgICAgICAgICBlc2NlbmFyaW9zLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHNjZW5hcmlvQnV0dG9uc1trZXldLnNldFRleHR1cmUoa2V5ID09PSBub21icmUgPyAnYm90b25TZWxlY2Npb25hZG8nIDogJ2JvdG9uU2luU2VsZWNjaW9uYXInKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGVzY2VuYXJpb3MuZm9yRWFjaCgobm9tYnJlLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib3RvbiA9IHRoaXMuYWRkLmltYWdlKHN0YXJ0WCArIGkgKiBzcGFjaW5nLCA0NDAsICdib3RvblNpblNlbGVjY2lvbmFyJylcbiAgICAgICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEuNzUpO1xuXG4gICAgICAgICAgICBzY2VuYXJpb0J1dHRvbnNbbm9tYnJlXSA9IGJvdG9uO1xuXG4gICAgICAgICAgICAvLyB0ZXh0byBlbiBlbCBjZW50cm9cbiAgICAgICAgICAgIGNvbnN0IHRleHRvID0gdGhpcy5hZGQudGV4dCgwLCAwLCBub21icmUsIHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMjhweCcsIGNvbG9yOiAnIzAwMCcgfSk7XG4gICAgICAgICAgICBQaGFzZXIuRGlzcGxheS5BbGlnbi5Jbi5DZW50ZXIodGV4dG8sIGJvdG9uKTtcblxuICAgICAgICAgICAgLy8gaG92ZXJcbiAgICAgICAgICAgIGJvdG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJvdG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJykpO1xuICAgICAgICAgICAgYm90b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYm90b24uc2V0VGV4dHVyZSh0aGlzLnNlbGVjdGVkU2NlbmFyaW8gPT09IG5vbWJyZSA/ICdib3RvblNlbGVjY2lvbmFkbycgOiAnYm90b25TaW5TZWxlY2Npb25hcicpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGNsaWNrOiBzb25pZG8gKyBzZWxlY2Npb25hclxuICAgICAgICAgICAgYm90b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gcGxheUNsaWNrKHRoaXMsICdzb25pZG9DbGljaycpKTtcbiAgICAgICAgICAgIGJvdG9uLm9uKCdwb2ludGVydXAnLCAocG9pbnRlcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluc2lkZSA9IGJvdG9uLmdldEJvdW5kcygpLmNvbnRhaW5zKHBvaW50ZXIueCwgcG9pbnRlci55KTtcbiAgICAgICAgICAgICAgICBpZiAoIWluc2lkZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkU2NlbmFyaW8obm9tYnJlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBzZSBtYXJjYSBlbCBlc2NlbmFyaW8gcG9yIGRlZmVjdG8gdmlzdWFsbWVudGVcbiAgICAgICAgc2V0U2VsZWN0ZWRTY2VuYXJpbyh0aGlzLnNlbGVjdGVkU2NlbmFyaW8pO1xuXG4gICAgICAgIC8vIE1hcmNvXG4gICAgICAgIGNvbnN0IGZyYW1lWSA9IDI0MDsgLy8gWSBkZSBsYSBpbWFnZW4gZGVsIGVzY2VuYXJpb1xuICAgICAgICBjb25zdCBmcmFtZSA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgZnJhbWVZLCAnbWFyY28nKS5zZXRPcmlnaW4oMC41KTtcbiAgICAgICAgZnJhbWUudGV4dHVyZS5zZXRGaWx0ZXIoUGhhc2VyLlRleHR1cmVzLkZpbHRlck1vZGUuTkVBUkVTVCk7XG5cbiAgICAgICAgLy8gQWp1c3RlIGRlbCB0YW1hw7FvIGRlbCBtYXJjb1xuICAgICAgICBjb25zdCB0YXJnZXRGcmFtZVdpZHRoID0gNTAwOyBcbiAgICAgICAgY29uc3QgdGFyZ2V0RnJhbWVIZWlnaHQgPSAzMDA7XG4gICAgICAgIGZyYW1lLnNldERpc3BsYXlTaXplKHRhcmdldEZyYW1lV2lkdGgsIHRhcmdldEZyYW1lSGVpZ2h0KTtcblxuICAgICAgICAvLyBib3TDs24gU2lndWllbnRlXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHdpZHRoIC8gMixcbiAgICAgICAgICAgIHk6IDUwMCxcbiAgICAgICAgICAgIGxhYmVsOiAnU2lndWllbnRlJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnbG9jYWwnKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZV9TY2VuZScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcjE6IHRoaXMucGxheWVyMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcjI6IHRoaXMucGxheWVyMixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkU2NlbmFyaW86IHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSG9zdDogdGhpcy5pc0hvc3RcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTG9iYnlfU2NlbmUnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLnBsYXllcjEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIyOiB0aGlzLnBsYXllcjIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFNjZW5hcmlvOiB0aGlzLnNlbGVjdGVkU2NlbmFyaW8sXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiB0aGlzLm1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0hvc3Q6IHRoaXMuaXNIb3N0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzY2FsZTogMS41LFxuICAgICAgICAgICAgdGV4dHVyZU5vcm1hbDogJ2JvdG9uU2ltcGxlJyxcbiAgICAgICAgICAgIHRleHR1cmVIb3ZlcjogJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJyxcbiAgICAgICAgICAgIHRleHRTdHlsZTogeyAuLi5zdHlsZSwgZm9udFNpemU6ICcxOHB4JywgY29sb3I6ICcjMDAwJyB9LFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYm90w7NuIFZvbHZlciBhdHLDoXNcbiAgICAgICAgY3JlYXRlSWNvbkJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuMDYsXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjA4LFxuICAgICAgICAgICAgdGV4dHVyZTogJ2JvdG9uVm9sdmVyJyxcbiAgICAgICAgICAgIHNjYWxlOiAxLFxuICAgICAgICAgICAgaG92ZXJTY2FsZTogMS4xLFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RQbGF5ZXJfU2NlbmUnLCB7IFxuICAgICAgICAgICAgICAgICAgICBtb2RlOiB0aGlzLm1vZGUsXG4gICAgICAgICAgICAgICAgICAgIGlzSG9zdDogdGhpcy5pc0hvc3RcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSIsIi8vUGFudGFsbGEgZGUgTG9iYnlcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uLCBjcmVhdGVJY29uQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XG5cbmV4cG9ydCBjbGFzcyBMb2JieV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdMb2JieV9TY2VuZScpO1xuICAgICAgICB0aGlzLmlzUGxheWVyUmVhZHkgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpbml0KGRhdGEpIHtcbiAgICAgICAgLy8gUmVjdXBlcmFtb3MgZWwgbW9kbywgZWwgcm9sIHkgbG9zIGRhdG9zIGRlIGp1Z2Fkb3JcbiAgICAgICAgdGhpcy5tb2RlID0gZGF0YS5tb2RlO1xuICAgICAgICB0aGlzLmlzSG9zdCA9IGRhdGEuaXNIb3N0O1xuICAgICAgICB0aGlzLnBsYXllcjEgPSBkYXRhLnBsYXllcjE7IC8vIFNpIGVzIEhvc3RcbiAgICAgICAgdGhpcy5wbGF5ZXIyID0gZGF0YS5wbGF5ZXIyOyAvLyBTaSBlcyBJbnZpdGFkb1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coJ0xvYmJ5IGluaWNpYWRvIGNvbW86JywgdGhpcy5pc0hvc3QgPyAnSG9zdCcgOiAnSW52aXRhZG8nKTtcbiAgICB9XG5cbiAgICBwcmVsb2FkKCkge1xuICAgICAgICAvLyBJbcOhZ2VuZXMgZm9uZG8geSB1aVxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL1ZPTFZFUi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWFyY28nLCdBU1NFVFMvVUkvTUFSQ09TL1ZBQ0lPUy9NQVJDT1NfRVNDRU5BUklPLnBuZycpXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW1wbGUnLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9TSU5TRUxFQ0NJT05BUi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFLnBuZycpO1xuXG4gICAgICAgIC8vIFNvbmlkb1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XG4gICAgfVxuXG4gICAgY3JlYXRlKCkge1xuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7IFxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XG5cbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvJykuc2V0T3JpZ2luKDApLnNldERlcHRoKC0xKTtcblxuICAgICAgICAvLyBUw610dWxvXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC4xOCwgJ0xPQkJZJywge1xuICAgICAgICAgICAgLi4uc3R5bGUsIGZvbnRTaXplOiAnNDBweCcsIGNvbG9yOiAnIzAwMCcsIGZvbnRTdHlsZTogJ2JvbGQnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIC8vIEZpbHRybyBkZWwgbWFyY29cbiAgICAgICAgY29uc3QgZnJhbWVZID0gaGVpZ2h0ICogMC40ODtcbiAgICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLmFkZC5pbWFnZShjZW50ZXJYLCBmcmFtZVksICdtYXJjbycpLnNldE9yaWdpbigwLjUpO1xuICAgICAgICBmcmFtZS50ZXh0dXJlLnNldEZpbHRlcihQaGFzZXIuVGV4dHVyZXMuRmlsdGVyTW9kZS5ORUFSRVNUKTtcblxuICAgICAgICAvLyBFc2NhbGEgZGVsIG1hcmNvXG4gICAgICAgIGNvbnN0IHRhcmdldEZyYW1lV2lkdGggPSB3aWR0aCAqIDAuMztcbiAgICAgICAgY29uc3QgdGFyZ2V0RnJhbWVIZWlnaHQgPSBoZWlnaHQgKiAwLjM7XG4gICAgICAgIGZyYW1lLnNldERpc3BsYXlTaXplKHRhcmdldEZyYW1lV2lkdGgsIHRhcmdldEZyYW1lSGVpZ2h0KTtcblxuICAgICAgICAvLyBDb25maWd1cmFjacOzbiBkZSBub21icmVzIHkgZXN0YWRvc1xuICAgICAgICBjb25zdCBsaW5lU3BhY2luZyA9IDQwO1xuICAgICAgICBjb25zdCBzdGFydFkgPSBmcmFtZVkgLSBsaW5lU3BhY2luZztcblxuICAgICAgICAvLyBUw610dWxvL0VuY2FiZXphZG8gZGVsIExvYmJ5IChkZW50cm8gZGVsIG1hcmNvIGFycmliYSlcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBzdGFydFksIFwiRVNUQURPIERFIEpVR0FET1JFU1wiLCB7XG4gICAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjJweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgLy8gSnVnYWRvciAxXG4gICAgICAgIGNvbnN0IG5hbWUxID0gdGhpcy5pc0hvc3QgPyAodGhpcy5wbGF5ZXIxPy5uYW1lIHx8ICdUw7onKSA6ICh0aGlzLnBsYXllcjE/Lm5hbWUgfHwgJ0FkbWluLi4uJyk7XG4gICAgICAgIHRoaXMucDFTdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dChjZW50ZXJYLCBmcmFtZVksIGAke25hbWUxfSAtLS0g4p2MYCwge1xuICAgICAgICAgICAgLi4uc3R5bGUsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBKdWdhZG9yIDJcbiAgICAgICAgY29uc3QgbmFtZTIgPSAhdGhpcy5pc0hvc3QgPyAodGhpcy5wbGF5ZXIyPy5uYW1lIHx8ICdUw7onKSA6ICh0aGlzLnBsYXllcjI/Lm5hbWUgfHwgJ0VzcGVyYW5kby4uLicpO1xuICAgICAgICB0aGlzLnAyU3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQoY2VudGVyWCwgZnJhbWVZICsgbGluZVNwYWNpbmcsIGAke25hbWUyfSAtLS0g4p2MYCwge1xuICAgICAgICAgICAgLi4uc3R5bGUsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBCb3TDs24gTGlzdG9cbiAgICAgICAgdGhpcy5idG5MaXN0byA9IGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IGNlbnRlclgsXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjc1LFxuICAgICAgICAgICAgbGFiZWw6ICdMaXN0bz8nLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy50b2dnbGVSZWFkeSgpLFxuICAgICAgICAgICAgc2NhbGU6IDEuNSxcbiAgICAgICAgICAgIHRleHR1cmVOb3JtYWw6ICdib3RvblNpbXBsZScsXG4gICAgICAgICAgICB0ZXh0dXJlSG92ZXI6ICdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMTRweCcsIGNvbG9yOiAnIzAwMCcgfSxcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaydcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gQm90w7NuIFZvbHZlclxuICAgICAgICB0aGlzLmJ0blZvbHZlciA9IGNyZWF0ZUljb25CdXR0b24odGhpcywge1xuICAgICAgICAgICAgeDogd2lkdGggKiAwLjA2LFxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC4wOCxcbiAgICAgICAgICAgIHRleHR1cmU6ICdib3RvblZvbHZlcicsXG4gICAgICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgICAgIGhvdmVyU2NhbGU6IDEuMSxcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLmhhbmRsZUJhY2soKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0b2dnbGVSZWFkeSgpIHtcbiAgICAgICAgdGhpcy5pc1BsYXllclJlYWR5ID0gIXRoaXMuaXNQbGF5ZXJSZWFkeTtcbiAgICAgICAgY29uc3QgZW1vamkgPSB0aGlzLmlzUGxheWVyUmVhZHkgPyAn4pyFJyA6ICfinYwnO1xuICAgICAgICBcbiAgICAgICAgLy8gQWN0dWFsaXphbW9zIHZpc3VhbG1lbnRlIE5VRVNUUk8gZXN0YWRvXG4gICAgICAgIGlmICh0aGlzLmlzSG9zdCkge1xuICAgICAgICAgICAgdGhpcy5wMVN0YXR1c1RleHQuc2V0VGV4dChgJHt0aGlzLnBsYXllcjEubmFtZX0gLS0tICR7ZW1vaml9YCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnAyU3RhdHVzVGV4dC5zZXRUZXh0KGAke3RoaXMucGxheWVyMi5uYW1lfSAtLS0gJHtlbW9qaX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IG51ZXZvVGV4dG9Cb3RvbiA9IHRoaXMuaXNQbGF5ZXJSZWFkeSA/ICdDQU5DRUxBUicgOiAnTElTVE8/JztcbiAgICAgICAgXG4gICAgICAgIGlmICh0aGlzLmJ0bkxpc3RvLnNldExhYmVsKSB7XG4gICAgICAgICAgICB0aGlzLmJ0bkxpc3RvLnNldExhYmVsKG51ZXZvVGV4dG9Cb3Rvbik7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5idG5MaXN0by50ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmJ0bkxpc3RvLnRleHQuc2V0VGV4dChudWV2b1RleHRvQm90b24pO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBCbG9xdWVhci9EZXNibG9xdWVhciBib3TDs24gdm9sdmVyXG4gICAgICAgIGlmICh0aGlzLmlzUGxheWVyUmVhZHkpIHtcbiAgICAgICAgICAgIHRoaXMuYnRuVm9sdmVyLmRpc2FibGVJbnRlcmFjdGl2ZSgpO1xuICAgICAgICAgICAgdGhpcy5idG5Wb2x2ZXIuc2V0QWxwaGEoMC4zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYnRuVm9sdmVyLnNldEludGVyYWN0aXZlKCk7XG4gICAgICAgICAgICB0aGlzLmJ0blZvbHZlci5zZXRBbHBoYSgxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFxdcOtIGVzIGRvbmRlIGVudmlhIGFsIHNlcnZpZG9yXG4gICAgICAgIC8vIHNvY2tldC5lbWl0KCdwbGF5ZXJfcmVhZHlfc3RhdHVzJywgdGhpcy5pc1BsYXllclJlYWR5KTtcbiAgICB9XG5cbiAgICBoYW5kbGVCYWNrKCkge1xuICAgICAgICBjb25zdCB0YXJnZXRTY2VuZSA9IHRoaXMuaXNIb3N0ID8gJ1NlbGVjdFNjZW5hcmlvX1NjZW5lJyA6ICdTZWxlY3RQbGF5ZXJfU2NlbmUnO1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5pc0hvc3QgPyB7IG1vZGU6IHRoaXMubW9kZSwgcGxheWVyMTogdGhpcy5wbGF5ZXIxLCBpc0hvc3Q6IHRydWUgfSA6IHsgbW9kZTogdGhpcy5tb2RlLCBpc0hvc3Q6IGZhbHNlIH07XG4gICAgICAgIHRoaXMuc2NlbmUuc3RhcnQodGFyZ2V0U2NlbmUsIGRhdGEpO1xuICAgIH1cbn0iLCIvL1BhbnRhbGxhIGRlIExvZ2dpbmdcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uLCBjcmVhdGVJY29uQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XG5cbmV4cG9ydCBjbGFzcyBMb2dnaW5nX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ0xvZ2dpbmdfU2NlbmUnKTtcbiAgICAgICAgdGhpcy5pc1BsYXllclJlYWR5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYXBpVXJsID0gJy9hcGknO1xuICAgICAgICB0aGlzLmlzUmVnaXN0ZXJpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBhc3luYyBpbml0KGRhdGEpIHtcbiAgICAgICAgY29uc3Qgc2F2ZWROYW1lID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ZvbGV5X3VzZXJuYW1lJyk7XG4gICAgICAgIGNvbnN0IHNhdmVkUGFzcyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2b2xleV9wYXNzd29yZCcpOyAvLyBHdWFyZGEgbGEgcGFzcyAobyB1biB0b2tlbikgcGFyYSByZS1sb2d1ZWFyXG5cbiAgICAgICAgaWYgKHNhdmVkTmFtZSAmJiBzYXZlZFBhc3MpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiSW50ZW50YW5kbyBhdXRvLWxvZ2luIHBhcmE6XCIsIHNhdmVkTmFtZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEVuIGx1Z2FyIGRlIGVudHJhciBkaXJlY3RvLCBwcmVndW50YW1vcyBhbCBzZXJ2aWRvciBwYXJhIHF1ZSBub3MgYXNpZ25lIEhvc3QvSW52aXRhZG9cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLmFwaVVybH0vbG9naW5gLCB7XG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZTogc2F2ZWROYW1lLCBwYXNzd29yZDogc2F2ZWRQYXNzIH0pXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LnNldCgndXNlcm5hbWUnLCByZXNEYXRhLnVzZXJuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ2lzSG9zdCcsIHJlc0RhdGEuaXNIb3N0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudV9TY2VuZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQXV0by1sb2dpbiBmYWxsaWRvXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJlbG9hZCgpIHtcbiAgICAgICAgLy8gYm90b25lc1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfU0lOU0VMRUNDSU9OQVIucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9GTEVDSEFfVk9MVkVSLnBuZycpO1xuXG4gICAgICAgIC8vIGZvbmRvXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xuXG4gICAgICAgIC8vIHNvbmlkb1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBtYXJjb1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hcmNvJywnQVNTRVRTL1VJL01BUkNPUy9WQUNJT1MvTUFSQ09TX0VTQ0VOQVJJTy5wbmcnKVxuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzPy5kZWZhdWx0VGV4dFN0eWxlID8/IHsgZm9udEZhbWlseTogJ0FyaWFsJyB9O1xuXG4gICAgICAgIC8vIEZvbmRvXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpLnNldE9yaWdpbigwKS5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KS5zZXREZXB0aCgtMSk7XG5cbiAgICAgICAgLy8gVGl0dWxvXG4gICAgICAgIHRoaXMudGl0bGVUZXh0ID0gdGhpcy5hZGQudGV4dChjZW50ZXJYLCA2MCwgJ0lOSUNJQVIgU0VTScOTTicsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlLCBmb250U2l6ZTogJzM2cHgnLCBjb2xvcjogJyMwMDAnLCBmb250U3R5bGU6ICdib2xkJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBNYXJjb1xuICAgICAgICBjb25zdCBtYXJjbyA9IHRoaXMuYWRkLmltYWdlKGNlbnRlclgsIGhlaWdodCAqIDAuNTIsICdtYXJjbycpLnNldE9yaWdpbigwLjUpO1xuICAgICAgICBtYXJjby5zZXREaXNwbGF5U2l6ZSh3aWR0aCAqIDAuNCwgaGVpZ2h0ICogMC42NSk7XG4gICAgICAgIG1hcmNvLnRleHR1cmUuc2V0RmlsdGVyKFBoYXNlci5UZXh0dXJlcy5GaWx0ZXJNb2RlLk5FQVJFU1QpOyAvLyBTb2xvIGEgZXN0YSBpbnN0YW5jaWFcblxuICAgICAgICAvLyBJTlBVVFNcbiAgICAgICAgLy8gVXN1YXJpb1xuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGhlaWdodCAqIDAuMjgsICdVc3VhcmlvOicsIHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMjBweCcsIGNvbG9yOiAnIzAwMCcgfSkuc2V0T3JpZ2luKDAuNSk7XG4gICAgICAgIHRoaXMudXNlcklucHV0ID0gdGhpcy5jcmVhdGVIdG1sSW5wdXQoY2VudGVyWCwgaGVpZ2h0ICogMC4zNSwgJ05vbWJyZSBkZSB1c3VhcmlvJywgc3R5bGUpO1xuXG4gICAgICAgIC8vIENvbnRyYXNlw7FhXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC40NSwgJ0NvbnRyYXNlw7FhOicsIHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMjBweCcsIGNvbG9yOiAnIzAwMCcgfSkuc2V0T3JpZ2luKDAuNSk7XG4gICAgICAgIHRoaXMucGFzc0lucHV0ID0gdGhpcy5jcmVhdGVIdG1sSW5wdXQoY2VudGVyWCwgaGVpZ2h0ICogMC41MiwgJyoqKioqKioqJywgc3R5bGUsIHRydWUpO1xuXG4gICAgICAgIC8vIC0tLSBCT1RPTkVTIC0tLVxuICAgICAgICAvLyBCb3TDs24gUHJpbmNpcGFsXG4gICAgICAgIHRoaXMubWFpbkJ0biA9IGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IGNlbnRlclgsXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjY1LFxuICAgICAgICAgICAgbGFiZWw6ICdFTlRSQVInLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5oYW5kbGVTdWJtaXQoKSxcbiAgICAgICAgICAgIHNjYWxlOiAxLjYsXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW1wbGUnLFxuICAgICAgICAgICAgdGV4dHVyZUhvdmVyOiAnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLFxuICAgICAgICAgICAgdGV4dFN0eWxlOiB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzE0cHgnLCBjb2xvcjogJyMwMDAnIH0sXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFRleHRvIHBhcmEgYWx0ZXJuYXIgZW50cmUgTG9naW4geSBSZWdpc3Ryb1xuICAgICAgICB0aGlzLnRvZ2dsZVRleHQgPSB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGhlaWdodCAqIDAuNzUsICfCv0HDum4gbm8gdGllbmVzIGN1ZW50YT8gUmVnw61zdHJhdGUgYXF1w60nLCB7XG4gICAgICAgICAgICAuLi5zdHlsZSwgZm9udFNpemU6ICcxNnB4JywgY29sb3I6ICcjMDAwMEVFJywgZm9udFN0eWxlOiAnaXRhbGljJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XG5cbiAgICAgICAgdGhpcy50b2dnbGVUZXh0Lm9uKCdwb2ludGVyZG93bicsICgpID0+IHRoaXMudG9nZ2xlTW9kZSgpKTtcbiAgICB9XG5cbiAgICBjcmVhdGVIdG1sSW5wdXQoeCwgeSwgcGxhY2Vob2xkZXIsIHN0eWxlLCBpc1Bhc3N3b3JkID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IGlzUGFzc3dvcmQgPyAncGFzc3dvcmQnIDogJ3RleHQnO1xuICAgICAgICBjb25zdCBkb20gPSB0aGlzLmFkZC5kb20oeCwgeSkuY3JlYXRlRnJvbUhUTUwoYFxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCIke3R5cGV9XCIgcGxhY2Vob2xkZXI9XCIke3BsYWNlaG9sZGVyfVwiIFxuICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDoxODBweDsgcGFkZGluZzo4cHg7IGZvbnQtc2l6ZToxNnB4OyBmb250LWZhbWlseToke3N0eWxlLmZvbnRGYW1pbHl9OyBcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6MTJweDsgYm9yZGVyOiA2cHggc29saWQgI0ZGQUEwMDsgdGV4dC1hbGlnbjpjZW50ZXI7IG91dGxpbmU6bm9uZTtcIiAvPlxuICAgICAgICBgKTtcblxuICAgICAgICBjb25zdCBpbnB1dEVsID0gZG9tLm5vZGUucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICAgICAgXG4gICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB0aGlzLmlucHV0LmtleWJvYXJkLmVuYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHRoaXMuaW5wdXQua2V5Ym9hcmQuZW5hYmxlZCA9IHRydWUpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGlucHV0RWw7XG4gICAgfVxuXG4gICAgdG9nZ2xlTW9kZSgpIHtcbiAgICAgICAgdGhpcy5pc1JlZ2lzdGVyaW5nID0gIXRoaXMuaXNSZWdpc3RlcmluZztcbiAgICAgICAgdGhpcy50aXRsZVRleHQuc2V0VGV4dCh0aGlzLmlzUmVnaXN0ZXJpbmcgPyAnUkVHSVNUUkFSU0UnIDogJ0lOSUNJQVIgU0VTScOTTicpO1xuICAgICAgICB0aGlzLm1haW5CdG4udGV4dC5zZXRUZXh0KHRoaXMuaXNSZWdpc3RlcmluZyA/ICdDUkVBUiBDVUVOVEEnIDogJ0VOVFJBUicpO1xuICAgICAgICB0aGlzLnRvZ2dsZVRleHQuc2V0VGV4dCh0aGlzLmlzUmVnaXN0ZXJpbmcgPyAnwr9ZYSB0aWVuZXMgY3VlbnRhPyBJbmljaWEgc2VzacOzbicgOiAnwr9Bw7puIG5vIHRpZW5lcyBjdWVudGE/IFJlZ8Otc3RyYXRlIGFxdcOtJyk7XG4gICAgfVxuXG4gICAgYXN5bmMgaGFuZGxlU3VibWl0KCkge1xuICAgICAgICAvLyBPYnRlbmVtb3MgbG9zIHZhbG9yZXMgZGUgbG9zIGVsZW1lbnRvcyBIVE1MIHJlYWxlc1xuICAgICAgICBjb25zdCB1c2VybmFtZVZhbHVlID0gdGhpcy51c2VySW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgICBjb25zdCBwYXNzd29yZFZhbHVlID0gdGhpcy5wYXNzSW5wdXQudmFsdWUudHJpbSgpO1xuXG4gICAgICAgIGlmICh1c2VybmFtZVZhbHVlLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiVXN1YXJpbyBkZW1hc2lhZG8gY29ydG9cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFzc3dvcmRWYWx1ZS5sZW5ndGggPCAzKSB7XG4gICAgICAgICAgICBhbGVydChcIkNvbnRyYXNlw7FhIGRlbWFzaWFkbyBjb3J0YVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVuZHBvaW50ID0gdGhpcy5pc1JlZ2lzdGVyaW5nID8gJy9yZWdpc3RlcicgOiAnL2xvZ2luJztcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLmFwaVVybH0ke2VuZHBvaW50fWAsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IFxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWVWYWx1ZSwgXG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFZhbHVlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1JlZ2lzdGVyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNpIGVzIHJlZ2lzdHJvLCBOTyBlbnRyYW1vcyBhbCBqdWVnb1xuICAgICAgICAgICAgICAgICAgICBhbGVydChcIsKhUmVnaXN0cm8gY29tcGxldGFkbyBjb24gw6l4aXRvISBBaG9yYSBwdWVkZXMgaW5pY2lhciBzZXNpw7NuLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVNb2RlKCk7IC8vIENhbWJpbyBhIG1vZG8gbG9naW4gYXV0b23DoXRpY2FtZW50ZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZXJJbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFzc0lucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBMb2dpbjogR3VhcmRhbW9zIGRhdG9zIGVuIGVsIHJlZ2lzdHJ5XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KCd1c2VybmFtZScsIHVzZXJuYW1lVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LnNldCgndXNlclRva2VuJywgZGF0YS50b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KCdpc0hvc3QnLCBkYXRhLmlzSG9zdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUGVyc2lzdGVuY2lhIGxvY2FsIHBhcmEgYXV0by1sb2dpblxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndm9sZXlfc2Vzc2lvbl90b2tlbicsIGRhdGEudG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndm9sZXlfdXNlcm5hbWUnLCB1c2VybmFtZVZhbHVlKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTG9naW4gY29ycmVjdG8uIFVzdWFyaW86ICR7dXNlcm5hbWVWYWx1ZX0gfCBIb3N0OiAke2RhdGEuaXNIb3N0fWApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbGVydChkYXRhLmVycm9yIHx8ICdFcnJvciBlbiBsYSBhdXRlbnRpY2FjacOzbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjb25lY3RhbmRvIGEgbGEgQVBJOlwiLCBlcnIpO1xuICAgICAgICAgICAgYWxlcnQoXCJObyBzZSBwdWRvIGNvbmVjdGFyIGNvbiBlbCBzZXJ2aWRvci5cIik7XG4gICAgICAgIH1cbiAgICB9XG59IiwiLy8gQmFzZSBkZWwganVlZ28sIGVzdHJ1Y3R1cmEgeSBhY2Nlc28gYSB0b2RvcyBsb3MgYXJjaGl2b3NcclxuaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IE1lbnVfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvTWVudV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBHYW1lX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0dhbWVfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgVHV0b3JpYWxfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvVHV0b3JpYWxfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgQ29uZmlndXJhdGlvbl9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9Db25maWd1cmF0aW9uX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IENyZWRpdHNfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvQ3JlZGl0c19TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBFbmRHYW1lX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0VuZEdhbWVfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgTW9kZUdhbWVfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvTW9kZUdhbWVfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgUGF1c2VfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvUGF1c2VfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgU2VsZWN0UGxheWVyX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL1NlbGVjdFBsYXllcl9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBTZWxlY3RTY2VuYXJpb19TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9TZWxlY3RTY2VuYXJpb19TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBMb2JieV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9Mb2JieV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBMb2dnaW5nX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0xvZ2dpbmdfU2NlbmUuanNcIjtcclxuXHJcbihhc3luYyAoKSA9PiB7XHJcbiAgICAvLyBmYWxsYmFjayBwYXJhIGV2aXRhciBwcm9ibGVtYXMgY29uIGxhcyBmdWVudGVzIHBlcnNvbmFsaXphZGFzXHJcbiAgICBpZiAoZG9jdW1lbnQuZm9udHMgJiYgZG9jdW1lbnQuZm9udHMubG9hZCkge1xyXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMubG9hZCgnMjBweCBcIk1pRnVlbnRlXCInKSxcclxuICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMubG9hZCgnMjBweCBcIlZUMzIzXCInKVxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIGF3YWl0IGRvY3VtZW50LmZvbnRzLnJlYWR5O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGdsb2JhbHMgPSB7XHJcbiAgICAgICAgZGVmYXVsdFRleHRTdHlsZTogeyBmb250RmFtaWx5OiAnTWlGdWVudGUnLCBmb250U2l6ZTogJzIwcHgnLCBjb2xvcjogJyNmZmZmZmYnIH0sXHJcbiAgICAgICAgbXVzaWM6IG51bGxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICAgIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gICAgICAgIHdpZHRoOiA5NjAsXHJcbiAgICAgICAgaGVpZ2h0OiA1NDAsXHJcbiAgICAgICAgcGFyZW50OiAnZ2FtZS1jb250YWluZXInLFxyXG4gICAgICAgIHBoeXNpY3M6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgICAgIGFyY2FkZToge1xyXG4gICAgICAgICAgICAgICAgZ3Jhdml0eToge3g6IDAsIHk6IDMwMH0sXHJcbiAgICAgICAgICAgICAgICBkZWJ1ZzogZmFsc2UgLy8gcG9uZXIgYSB0cnVlIHBhcmEgdmVyIGxhcyBsw61uZWFzIGRlIGxvcyBjdWVycG9zIGbDrXNpY29zXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGRvbToge1xyXG4gICAgICAgICAgICBjcmVhdGVDb250YWluZXI6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNhbGxiYWNrczoge1xyXG4gICAgICAgICAgICBwcmVCb290OiAoZ2FtZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZ2FtZS5nbG9iYWxzID0gZ2xvYmFscztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2NlbmU6IFtMb2dnaW5nX1NjZW5lLCBNZW51X1NjZW5lLCBHYW1lX1NjZW5lLCBUdXRvcmlhbF9TY2VuZSwgQ29uZmlndXJhdGlvbl9TY2VuZSwgQ3JlZGl0c19TY2VuZSwgRW5kR2FtZV9TY2VuZSwgUGF1c2VfU2NlbmUsIE1vZGVHYW1lX1NjZW5lLCBTZWxlY3RQbGF5ZXJfU2NlbmUsIFNlbGVjdFNjZW5hcmlvX1NjZW5lLCBMb2JieV9TY2VuZV0sXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOicjODY3NWYxJyxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgZ2FtZSA9bmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsICgpID0+IHtcclxuICAgICAgICBjb25zdCB1c2VybmFtZSA9IGdhbWUucmVnaXN0cnkuZ2V0KCd1c2VybmFtZScpO1xyXG4gICAgICAgIGlmICh1c2VybmFtZSkge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KTtcclxuICAgICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtkYXRhXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vanNvbicgfSk7XHJcbiAgICAgICAgICAgIG5hdmlnYXRvci5zZW5kQmVhY29uKCcvYXBpL2xvZ291dCcsIGJsb2IpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KSgpO1xyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZSIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJQaGFzZXIiLCJTRlhfVk9MVU1FX0tFWSIsIk1VU0lDX1ZPTFVNRV9LRVkiLCJHTE9CQUxfVk9MVU1FX0tFWSIsIkxFR0FDWV9WT0xVTUVfS0VZIiwicGFyc2VTdG9yZWRWb2x1bWUiLCJyYXciLCJkZWZhdWx0VmFsdWUiLCJ2IiwiTnVtYmVyIiwicGFyc2VGbG9hdCIsIlN0cmluZyIsImlzRmluaXRlIiwiQ2xhbXAiLCJnZXRTdG9yZWRWb2x1bWVCeUtleSIsImZhbGxiYWNrS2V5IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImZhbGxiYWNrUmF3IiwiZ2V0U3RvcmVkU2Z4Vm9sdW1lIiwiZ2V0U3RvcmVkTXVzaWNWb2x1bWUiLCJnZXRTdG9yZWRHbG9iYWxWb2x1bWUiLCJhcHBseVN0b3JlZFZvbHVtZSIsInNjZW5lIiwib3B0aW9ucyIsImdsb2JhbFZvbCIsInNmeFZvbHVtZSIsIm11c2ljVm9sdW1lIiwic291bmQiLCJ2b2x1bWUiLCJtdXNpYyIsImdhbWUiLCJnbG9iYWxzIiwic2V0Vm9sdW1lIiwicGxheUNsaWNrIiwicGxheSIsImNyZWF0ZVVJQnV0dG9uIiwieCIsInkiLCJsYWJlbCIsIm9uQ2xpY2siLCJ0ZXh0dXJlTm9ybWFsIiwidGV4dHVyZUhvdmVyIiwic2NhbGUiLCJ0ZXh0U3R5bGUiLCJjbGlja1NvdW5kS2V5IiwiYnV0dG9uIiwiYWRkIiwic3ByaXRlIiwic2V0U2NhbGUiLCJzZXRJbnRlcmFjdGl2ZSIsInVzZUhhbmRDdXJzb3IiLCJ0ZXh0Iiwic2V0T3JpZ2luIiwic2V0Tm9ybWFsIiwic2V0VGV4dHVyZSIsInNldEhvdmVyIiwib24iLCJwb2ludGVyIiwiZ2V0Qm91bmRzIiwiY29udGFpbnMiLCJjcmVhdGVJY29uQnV0dG9uIiwidGV4dHVyZSIsImhvdmVyU2NhbGUiLCJNZW51X1NjZW5lIiwiY29uc3RydWN0b3IiLCJzdXBlciIsInByZWxvYWQiLCJ0aGlzIiwibG9hZCIsImltYWdlIiwiYXVkaW8iLCJjcmVhdGUiLCJzb3VuZEtleSIsImxvb3AiLCJ0cnlQbGF5IiwiaXNQbGF5aW5nIiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJpbnB1dCIsIm9uY2UiLCJhc3luYyIsImN0eCIsImNvbnRleHQiLCJzdGF0ZSIsInJlc3VtZSIsImVuc3VyZUxvb3BpbmdNdXNpYyIsInN0eWxlIiwiZGVmYXVsdFRleHRTdHlsZSIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImNvbG9yIiwid2lkdGgiLCJoZWlnaHQiLCJjZW50ZXJYIiwicmlnaHRIYWxmWCIsInNldERlcHRoIiwic2V0RGlzcGxheVNpemUiLCJmaXJzdEJ1dHRvblkiLCJidXR0b25UZXh0U3R5bGUiLCJzdGFydCIsInJldHVyblNjZW5lIiwiYnV0dG9uU3BhY2luZyIsImhhbmRsZUxvZ291dCIsInVzZXJuYW1lIiwicmVnaXN0cnkiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlbW92ZUl0ZW0iLCJyZW1vdmUiLCJQT1dFUlVQX0RVUkFUSU9OX01TIiwidmVsb2NpZGFkIiwicmFsZW50aXphciIsInBhcmFsaXphciIsInBvcjIiLCJwb3IzIiwiUGxheWVyIiwiaWQiLCJjaGFyYWN0ZXJUeXBlIiwiYmFzZU1vdmVTcGVlZCIsIm1vdmVTcGVlZCIsImp1bXBTcGVlZCIsImFjdGl2ZVBvd2VyVXBzIiwiaXNQYXJhbHl6ZWQiLCJwYXJhbHlzaXNUd2VlbiIsInNwZWVkRWZmZWN0QWN0aXZlIiwic2xvd0VmZmVjdEFjdGl2ZSIsInNjb3JlTXVsdGlwbGllciIsIm11bHRpcGxpZXJUZXh0Iiwic3Ryb2tlIiwic3Ryb2tlVGhpY2tuZXNzIiwic2V0VmlzaWJsZSIsInBvd2VyVXBJbnZlbnRvcnkiLCJpc1JlY2VpdmluZyIsImJvdW5kc0xlZnQiLCJib3VuZHNSaWdodCIsImJvdW5kc1RvcCIsImJvdW5kc0JvdHRvbSIsIkNIQVJBQ1RFUl9DT05GSUciLCJjaGFyYWN0ZXJBIiwidGV4dHVyZUtleSIsInN0YXJ0RnJhbWUiLCJpZGxlTGVmdEFuaW0iLCJpZGxlUmlnaHRBbmltIiwicnVuTGVmdEFuaW0iLCJydW5SaWdodEFuaW0iLCJqdW1wTGVmdEFuaW0iLCJqdW1wUmlnaHRBbmltIiwicmVjZWl2ZUxlZnRBbmltIiwicmVjZWl2ZVJpZ2h0QW5pbSIsImNoYXJhY3RlckIiLCJjaGFyYWN0ZXJDIiwiY29uZmlnIiwicGh5c2ljcyIsInNldFNpemUiLCJzZXREYXRhIiwiZmFjaW5nIiwiaXNPbkdyb3VuZCIsImlzSnVtcGluZyIsImp1bXBTdGFydFRpbWUiLCJhbmltIiwiZXJyb3IiLCJpc0dyb3VuZGVkIiwiYmxvY2tlZCIsImRvd24iLCJ0b3VjaGluZyIsImlzTmVhckdyb3VuZCIsInRocmVzaG9sZCIsImdyb3VuZFkiLCJmZWV0WSIsIk1hdGgiLCJhYnMiLCJtb3ZlTGVmdCIsInNldFZlbG9jaXR5WCIsInBsYXlBbmltYXRpb24iLCJtb3ZlUmlnaHQiLCJqdW1wTGVmdCIsInRpbWUiLCJub3ciLCJzZXRWZWxvY2l0eVkiLCJwbGF5U2Z4Iiwic2Z4IiwianVtcCIsImp1bXBSaWdodCIsInJlY2VpdmVMZWZ0IiwicmVjZWl2ZVJpZ2h0IiwiaWRsZUxlZnQiLCJpZGxlUmlnaHQiLCJzZXRCb3VuZHMiLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJjbGFtcFdpdGhpbkJvdW5kcyIsImhhbGZXaWR0aCIsInNldFBvc2l0aW9uIiwic2V0VmVsb2NpdHkiLCJ1cGRhdGVNdWx0aXBsaWVyVGV4dFBvc2l0aW9uIiwib2Zmc2V0WSIsImRpc3BsYXlIZWlnaHQiLCJhbmltS2V5IiwiYW5pbXMiLCJjdXJyZW50QW5pbSIsInVwZGF0ZSIsIndhc09uR3JvdW5kIiwiY3VycmVudEtleSIsImFwcGx5UG93ZXJVcCIsInR5cGUiLCJsZW5ndGgiLCJwdXNoIiwidXNlTmV4dFBvd2VyVXAiLCJzaGlmdCIsImFjdGl2YXRlUG93ZXJVcCIsImFwcGx5T3JSZWZyZXNoVGltZWRFZmZlY3QiLCJvcHBvbmVudCIsImdldE9wcG9uZW50IiwidXBkYXRlUG93ZXJVcHMiLCJzcGVlZE5lZWRzUmVjYWxjIiwic2NvcmVOZWVkc1JlY2FsYyIsInNldFNwZWVkRWZmZWN0Iiwic2V0U2xvd0VmZmVjdCIsInNldFBhcmFseXplZCIsInJlY2FsY3VsYXRlTW92ZVNwZWVkIiwicmVjYWxjdWxhdGVTY29yZUVmZmVjdCIsInNldFRpbnQiLCJzZXRBbHBoYSIsInN0b3AiLCJ0d2VlbnMiLCJ0YXJnZXRzIiwiYWxwaGEiLCJ5b3lvIiwiZHVyYXRpb24iLCJyZXBlYXQiLCJyZWZyZXNoUG93ZXJVcFZpc3VhbHMiLCJhY3RpdmUiLCJtdWx0IiwibXVsdGlwbGllciIsIm1heCIsInNldFRleHQiLCJkdXJhdGlvbk1zIiwiY2xlYXJUaW50IiwicGxheWVycyIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsImZpbmQiLCJwIiwiQXBwbHlQb3dlclVwQ29tbWFuZCIsInBsYXllciIsInBvd2VyVXBUeXBlIiwic3RvcmVkIiwiZXhlY3V0ZSIsIlBvd2VyVXAiLCJpc0NvbGxlY3RlZCIsIl9kZXN0cm95ZWQiLCJfY29vbGRvd25VbnRpbCIsImZhZGVTdGFydCIsImxpZmV0aW1lIiwiX292ZXJsYXBzIiwiZmFkZVR3ZWVuIiwiX2xpZmV0aW1lVGltZXIiLCJzdGF0aWNJbWFnZSIsInJlZnJlc2hCb2R5IiwiZmFkZURlbGF5IiwibWluIiwiZmFkZUR1cmF0aW9uIiwiZGVsYXkiLCJmb3JFYWNoIiwiYyIsIm92ZXJsYXAiLCJjb2xsZWN0IiwiZGVsYXllZENhbGwiLCJkZXN0cm95IiwibG9nIiwiY21kIiwiY29tbWFuZFByb2Nlc3NvciIsInByb2Nlc3MiLCJ1cGRhdGVQbGF5ZXJJbnZlbnRvcnlVSSIsImlzQXJyYXkiLCJwb3dlclVwcyIsImZpbHRlciIsIkJhbGwiLCJzZXRCb3VuY2UiLCJzZXRDb2xsaWRlV29ybGRCb3VuZHMiLCJsYXN0VG91Y2hlZEJ5IiwidG91Y2hDb3VudCIsImNvdXJ0U2lkZSIsImlzQmFsbExpdmUiLCJuZXRYIiwibGFzdEhpdFRpbWUiLCJsYXN0SGl0UGxheWVySWQiLCJfZ2V0UmFuZG9tRmFjdG9yIiwicmFuZG9tIiwiaGl0IiwicGxheWVyRmFjaW5nRGlyZWN0aW9uIiwib25GYWx0YSIsInZlbG9jaXR5WCIsInZlbG9jaXR5WSIsInJlY2VpdmUiLCJzcGlrZSIsImJhc2VTcGVlZFgiLCJ2ZXJ0aWNhbFN0cmVuZ3RoIiwicmFuZG9tRmFjdG9yWCIsImNyb3NzTmV0Iiwib25Hcm91bmRlZCIsImJhbGxPbkxlZnQiLCJiYWxsT25SaWdodCIsIm9uUmFsbHlFbmQiLCJyZXNldFJhbGx5IiwiZmFsdGFUeXBlIiwiZmFsdGluZ1BsYXllciIsInNjb3JpbmdQbGF5ZXJJZCIsImV2ZW50cyIsImVtaXQiLCJfZ2V0U3VidGxlTnVkZ2UiLCJzcGF3blgiLCJzaWRlUGFkZGluZyIsIndvcmxkV2lkdGgiLCJvZmZzZXQiLCJzZXRTZXJ2ZVBvc2l0aW9uIiwic2NvcmluZ1BsYXllciIsImNsYW1wIiwidmFsdWUiLCJudWRnZVZlbG9jaXR5WCIsIm51ZGdlIiwiQ29tbWFuZFByb2Nlc3NvciIsIk1hcCIsImdhbWVTY2VuZSIsInNldFBsYXllcnMiLCJzZXRHYW1lU2NlbmUiLCJjb21tYW5kIiwiQ29tbWFuZCIsInNlcmlhbGl6ZSIsImdldFBsYXllciIsIk1vdmVQbGF5ZXJDb21tYW5kIiwiZGlyZWN0aW9uIiwicGxheWVySWQiLCJHYW1lX1NjZW5lIiwidGllbXBvVG90YWwiLCJ0aWVtcG9SZXN0YW50ZSIsInRpbWVyVGV4dCIsInRpbWVyRXZlbnQiLCJpbml0IiwiZGF0YSIsImlucHV0TWFwcGluZ3MiLCJwbGF5ZXIxIiwicGxheWVyMiIsInNlbGVjdGVkU2NlbmFyaW8iLCJiYWxsIiwic2NvcmVQMSIsInNjb3JlUDIiLCJzZXRzUDEiLCJzZXRzUDIiLCJtYXhTZXRzIiwiY3VycmVudFNldCIsImlzR29sZGVuUG9pbnQiLCJzcHJpdGVzaGVldCIsImZyYW1lV2lkdGgiLCJmcmFtZUhlaWdodCIsIndvcmxkSGVpZ2h0Iiwid2hpc3RsZSIsInBvaW50Iiwic2V0U2Nyb2xsRmFjdG9yIiwidGltZXJJY29uIiwic2V0RnJhbWUiLCJzZXRGcmFtZVdpZHRoIiwiZGlzcGxheVdpZHRoIiwic2V0RnJhbWVIZWlnaHQiLCJzZXRTY29yZVkiLCJyb3VuZCIsInNldFNjb3JlT2Zmc2V0WCIsInNldFNjb3JlRnJhbWVMZWZ0Iiwic2V0U2NvcmVGcmFtZVJpZ2h0Iiwic2V0U2NvcmVMZWZ0Iiwic2V0U2NvcmVSaWdodCIsInNldFdpbm5lclRleHQiLCJhZGRFdmVudCIsImNhbGxiYWNrIiwidXBkYXRlVGltZXIiLCJjYWxsYmFja1Njb3BlIiwicmVkIiwic3RhdGljU3ByaXRlIiwicmVkVGV4dHVyZSIsInRleHR1cmVzIiwiZ2V0U291cmNlSW1hZ2UiLCJzZXRPZmZzZXQiLCJ1cGRhdGVGcm9tR2FtZU9iamVjdCIsIl9jcmVhdGVBbmltYXRpb25zIiwicG9pbnRzTGVmdCIsInBvaW50c1JpZ2h0Iiwic2NvcmVGcmFtZUxlZnQiLCJzY29yZUZyYW1lUmlnaHQiLCJzY29yZUxlZnQiLCJyaWdodFNjb3JlIiwiZ3JvdW5kSGVpZ2h0IiwiZ3JvdW5kIiwicmVjdGFuZ2xlIiwiZXhpc3RpbmciLCJfY3JlYXRlUGxheWVycyIsIl9zZXR1cFBoeXNpY3NXb3JsZCIsIl9zZXR1cElucHV0TWFwcGluZ3MiLCJtYXhQb3dlclVwcyIsInBvd2VyVXBTcGF3bkNvbmZpZyIsIm1pbkRlbGF5TXMiLCJtYXhEZWxheU1zIiwid2VpZ2h0cyIsImNvb2xkb3duTXMiLCJwb3dlclVwTGFzdFNwYXduQXQiLCJpbnZlbnRvcnlVSSIsInNjaGVkdWxlUG93ZXJVcFNwYXduIiwiaW52ZW50b3J5RnJhbWVzIiwiX2NyZWF0ZUJhbGwiLCJfc2V0dXBCYWxsQ29sbGlzaW9ucyIsIl9zZXR1cEJhbGxFdmVudHMiLCJrZXlib2FyZCIsInBhdXNlIiwicGF1c2VkIiwibGF1bmNoIiwiQmV0d2VlbiIsIl9nZXRXZWlnaHRlZFBvd2VyVXBUeXBlIiwicG93ZXJVcCIsImVudHJpZXMiLCJ3ZWlnaHQiLCJjb29sZG93biIsImxhc3QiLCJ0b3RhbCIsInJlZHVjZSIsInN1bSIsInJvbGwiLCJfaGFuZGxlSW5wdXRGb3JBbGxQbGF5ZXJzIiwibWludXRvcyIsImZsb29yIiwic2VndW5kb3MiLCJmb3JtYXRvIiwidG9TdHJpbmciLCJwYWRTdGFydCIsIl9lbmRTZXQiLCJ1cGRhdGVTZXRTY29yZVVJIiwidWkiLCJpIiwiZnJhbWVzIiwiZ2VuZXJhdGVGcmFtZU51bWJlcnMiLCJlbmQiLCJmcmFtZVJhdGUiLCJyZXZlcnNlIiwiY2hhclAxIiwiY2hhcmFjdGVyIiwiY2hhclAyIiwicDEiLCJwMiIsInNldCIsImNvdXJ0Qm90dG9tIiwiY29sbGlkZXIiLCJsZWZ0S2V5IiwicmlnaHRLZXkiLCJqdW1wS2V5IiwicmVjZWl2ZUtleSIsInBvd2VyS2V5IiwibWFwIiwibGVmdEtleU9iaiIsImFkZEtleSIsIktleWJvYXJkIiwiS2V5Q29kZXMiLCJyaWdodEtleU9iaiIsImp1bXBLZXlPYmoiLCJyZWNlaXZlS2V5T2JqIiwicG93ZXJLZXlPYmoiLCJtYXBwaW5nIiwiaWRsZURpciIsImlzRG93biIsIkp1c3REb3duIiwicmVjZWl2ZURpciIsImp1bXBEaXIiLCJfb25CYWxsUGxheWVyQ29sbGlzaW9uIiwidmVsb2NpdHkiLCJzY29yZXJJZCIsInBvaW50c1RvQWRkIiwiX2NoZWNrV2luQ29uZGl0aW9uIiwiX2lzQmFsbEluSGl0Wm9uZSIsImJhbGxTcHJpdGUiLCJiYWxsWCIsImJhbGxZIiwiYm9keVRvcCIsImJvZHlIZWlnaHQiLCJib2R5Q2VudGVyWCIsInpvbmUiLCJmYWNpbmdSaWdodCIsInJlYWNoRm9yd2FyZCIsInJlYWNoQmFjayIsInBsYXllckRpcmVjdGlvbiIsIl9lbmRHYW1lIiwid2lubmVyIiwid29ybGQiLCJzY29yZURpZmYiLCJ3aW5uZXJMYWJlbCIsIl9yZXNldFNldCIsIlR1dG9yaWFsX1NjZW5lIiwicGFnZUluZGV4IiwibWFpblRpdGxlVGV4dCIsInBhZ2VzIiwidGl0bGUiLCJwYW5lbE1hcmdpbiIsInBhbmVsR2FwIiwibmF2WSIsInBhbmVsVG9wIiwicGFuZWxCb3R0b20iLCJwYW5lbEhlaWdodCIsInBhbmVsV2lkdGgiLCJsYXlvdXQiLCJzbGlkZUltYWdlIiwiX2ZpdEltYWdlIiwicGFnZUluZGljYXRvciIsInByZXYiLCJuZXh0IiwicmVuZGVyUGFnZSIsImltZyIsIm1heFciLCJtYXhIIiwiQ29uZmlndXJhdGlvbl9TY2VuZSIsIm11c2ljVm9sdW1lU2xpZGVyIiwic2Z4Vm9sdW1lU2xpZGVyIiwiZ2xvYmFsVm9sdW1lU2xpZGVyIiwiaGFzU2Z4IiwiaGFzTXVzaWMiLCJsZWdhY3lWb2x1bWUiLCJnZXRMZWdhY3lWb2x1bWUiLCJpbml0aWFsVm9sdW1lIiwic2V0SXRlbSIsImVuc3VyZVN0b3JlZEF1ZGlvU2V0dGluZ3MiLCJpbml0aWFsR2xvYmFsVm9sdW1lIiwiaW5pdGlhbE11c2ljVm9sdW1lIiwiaW5pdGlhbFNmeFZvbHVtZSIsInNlY3Rpb25HYXAiLCJsYWJlbFRvU2xpZGVyR2FwIiwiZ3JvdXBUb3BZIiwiZ2xvYmFsTGFiZWxZIiwiZ2xvYmFsU2xpZGVyWSIsIm11c2ljTGFiZWxZIiwibXVzaWNTbGlkZXJZIiwic2Z4TGFiZWxZIiwic2Z4U2xpZGVyWSIsImRvbSIsImNyZWF0ZUZyb21IVE1MIiwiYWRkTGlzdGVuZXIiLCJldmVudCIsInRhcmdldCIsIkhUTUxJbnB1dEVsZW1lbnQiLCJzZXRTdG9yZWRHbG9iYWxWb2x1bWUiLCJzZXRTdG9yZWRNdXNpY1ZvbHVtZSIsInNldFN0b3JlZFNmeFZvbHVtZSIsIkV2ZW50cyIsIlNIVVRET1dOIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwiQ3JlZGl0c19TY2VuZSIsIm5vbWJyZXNFcXVpcG8iLCJjYXJkV2lkdGgiLCJjYXJkSGVpZ2h0IiwiY2FyZFgiLCJjYXJkWSIsInNldFN0cm9rZVN0eWxlIiwic3RhcnRZIiwibm9tYnJlIiwiaXNIZWFkZXIiLCJsb2dvWCIsImxvZ29ZIiwiRW5kR2FtZV9TY2VuZSIsIm5hbWUiLCJ3aW5uZXJUZXh0IiwiTW9kZUdhbWVfU2NlbmUiLCJidXR0b25ZIiwic3BhY2luZyIsInN0YXJ0WCIsInN0YXJ0TW9kZSIsIm1vZGUiLCJQYXVzZV9TY2VuZSIsImJ1dHRvblN0YXJ0WSIsInJlbW92ZUFsbEtleXMiLCJTZWxlY3RQbGF5ZXJfU2NlbmUiLCJjdXJyZW50VHVybiIsInBsYXllcklucHV0cyIsInBsYXllcklucHV0RWxzIiwidHVyblRleHQiLCJpc0hvc3QiLCJjcmVhdGVMb2NhbFVJIiwiY3JlYXRlT25saW5lVUkiLCJlbmFibGVkIiwiYmlnSW1hZ2UiLCJiaWdGcmFtZSIsImZyYW1lIiwiY3JlYXRlUGxheWVyc1VJIiwiY3JlYXRlQ2hhcmFjdGVyTWluaWF0dXJlcyIsInVwZGF0ZVR1cm5UZXh0IiwiaGFuZGxlTmV4dCIsImZvbnRTdHlsZSIsImNyZWF0ZVBsYXllck9ubGluZVVJIiwicG9zaXRpb25zWCIsImlkeCIsImlucHV0RWwiLCJub2RlIiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwicmVwbGFjZSIsInNldEZpbHRlciIsIkZpbHRlck1vZGUiLCJORUFSRVNUIiwicG9zaXRpb25zIiwibWluaSIsIm9uTWluaUNsaWNrZWQiLCJjaGFyYWN0ZXJOYW1lIiwib3duZXJJbmRleCIsImZpbmRJbmRleCIsIm93bmVyIiwidGFyZ2V0SW5kZXgiLCJvdGhlciIsIm5hbWUxIiwidHJpbSIsInAxSGFzQ2hhciIsIm5hbWUyIiwicDJIYXNDaGFyIiwiZmxhc2hUdXJuVGV4dCIsIm1zIiwib2xkQ29sb3IiLCJzZXRDb2xvciIsInAxSGFzTmFtZSIsInAySGFzTmFtZSIsImFsbENoYXJzIiwiYWxsTmFtZXMiLCJ1bmRlZmluZWQiLCJTZWxlY3RTY2VuYXJpb19TY2VuZSIsInNlbGVjdGVkSW1hZ2UiLCJlc2NlbmFyaW9zIiwic2NlbmFyaW9CdXR0b25zIiwic2V0U2VsZWN0ZWRTY2VuYXJpbyIsImJvdG9uIiwidGV4dG8iLCJBbGlnbiIsIkluIiwiQ2VudGVyIiwiTG9iYnlfU2NlbmUiLCJpc1BsYXllclJlYWR5IiwiZnJhbWVZIiwidGFyZ2V0RnJhbWVXaWR0aCIsInRhcmdldEZyYW1lSGVpZ2h0IiwicDFTdGF0dXNUZXh0IiwicDJTdGF0dXNUZXh0IiwiYnRuTGlzdG8iLCJ0b2dnbGVSZWFkeSIsImJ0blZvbHZlciIsImhhbmRsZUJhY2siLCJlbW9qaSIsIm51ZXZvVGV4dG9Cb3RvbiIsInNldExhYmVsIiwiZGlzYWJsZUludGVyYWN0aXZlIiwidGFyZ2V0U2NlbmUiLCJMb2dnaW5nX1NjZW5lIiwiYXBpVXJsIiwiaXNSZWdpc3RlcmluZyIsInNhdmVkTmFtZSIsInNhdmVkUGFzcyIsInJlc3BvbnNlIiwicGFzc3dvcmQiLCJyZXNEYXRhIiwianNvbiIsIm9rIiwidGl0bGVUZXh0IiwibWFyY28iLCJ1c2VySW5wdXQiLCJjcmVhdGVIdG1sSW5wdXQiLCJwYXNzSW5wdXQiLCJtYWluQnRuIiwiaGFuZGxlU3VibWl0IiwidG9nZ2xlVGV4dCIsInRvZ2dsZU1vZGUiLCJwbGFjZWhvbGRlciIsImlzUGFzc3dvcmQiLCJ1c2VybmFtZVZhbHVlIiwicGFzc3dvcmRWYWx1ZSIsImFsZXJ0IiwiZW5kcG9pbnQiLCJ0b2tlbiIsImRvY3VtZW50IiwiZm9udHMiLCJQcm9taXNlIiwiYWxsIiwicmVhZHkiLCJwYXJlbnQiLCJkZWZhdWx0IiwiYXJjYWRlIiwiZ3Jhdml0eSIsImRlYnVnIiwiY3JlYXRlQ29udGFpbmVyIiwiY2FsbGJhY2tzIiwicHJlQm9vdCIsImJhY2tncm91bmRDb2xvciIsIndpbmRvdyIsImJsb2IiLCJCbG9iIiwibmF2aWdhdG9yIiwic2VuZEJlYWNvbiJdLCJzb3VyY2VSb290IjoiIn0=