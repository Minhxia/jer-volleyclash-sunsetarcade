(()=>{"use strict";var e={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},d:(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var i=e.n(t);const s="sfxVolume",a="musicVolume",r="globalVolume",o="volume";function n(e,t){const s=Number.parseFloat(e??String(t));return Number.isFinite(s)?i().Math.Clamp(s,0,1):t}function l(e,t,s=1){const a=localStorage.getItem(e);if(null!==a)return n(a,s);const r=t?localStorage.getItem(t):null;return null!==r?n(r,s):i().Math.Clamp(s,0,1)}function h(e=1){return l(s,o,e)}function c(e=1){return l(a,o,e)}function d(e=1){return l(r,null,e)}function p(e,t={}){let s=d(),a=h(),r=c();"number"==typeof t?(a=i().Math.Clamp(Number(t),0,1),r=a):(a=t.sfxVolume??a,r=t.musicVolume??r),e.sound.volume=s;const o=e.game.globals.music;o&&"setVolume"in o&&o.setVolume(r)}function m(e,t="sonidoClick"){e.sound.play(t,{volume:h()})}function u(e,{x:t,y:i,label:s,onClick:a,textureNormal:r="botonSinSeleccionar",textureHover:o="botonSeleccionado",scale:n=2,textStyle:l={},clickSoundKey:h="sonidoClick"}){const c=e.add.sprite(t,i,r).setScale(n).setInteractive({useHandCursor:!0}),d=e.add.text(t,i,s,l).setOrigin(.5),p=()=>c.setTexture(r),u=()=>c.setTexture(o);return c.on("pointerover",u),c.on("pointerout",p),c.on("pointerdown",()=>{u(),m(e,h)}),c.on("pointerup",e=>{c.getBounds().contains(e.x,e.y)?(u(),a?.()):p()}),{button:c,text:d}}function S(e,t){const{x:i,y:s,texture:a,onClick:r,scale:o=1,hoverScale:n=1.1,clickSoundKey:l="sonidoClick"}=t,h=e.add.sprite(i,s,a).setScale(o).setInteractive({useHandCursor:!0});return h.on("pointerover",()=>h.setScale(o*n)),h.on("pointerout",()=>h.setScale(o)),h.on("pointerdown",()=>{m(e,l)}),h.on("pointerup",e=>{h.getBounds().contains(e.x,e.y)&&r()}),h}class g extends i().Scene{constructor(){super("Menu_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.image("fondoMenuPrincipal","ASSETS/FONDOS/MENU_PRINCIPAL.png"),this.load.image("logoEmpresa","ASSETS/LOGO/logo_empresa.png"),this.load.audio("sonidoGeneral","ASSETS/SONIDO/SONIDO1.mp3"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){p(this),function(e,t,{loop:i=!0}={}){const s=c();let a=e.game.globals.music;a||(a=e.sound.add(t,{loop:i,volume:s}),e.game.globals.music=a),a&&"setVolume"in a&&a.setVolume(s);const r=()=>{if(a&&"play"in a&&(!("isPlaying"in a)||!a.isPlaying))try{a.play()}catch(e){console.warn("[Audio.js] No se ha podido reproducir todav?a la m?sica.",e)}};r(),e.input.once("pointerdown",async()=>{const t=e.sound.context;if(t&&"suspended"===t.state)try{await t.resume()}catch{}r()})}(this,"sonidoGeneral",{loop:!0});const e=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"},{width:t,height:i}=this.scale,s=t/2,a=s+s/2;this.add.image(0,0,"fondoMenuPrincipal").setOrigin(0).setDepth(-1).setDisplaySize(t,i),this.add.text(a,115,"Volley Clash",{...e,fontSize:"68px",color:"#ffffff"}).setOrigin(.5);const r=i/2-63,o={...e,fontSize:"28px",color:"#000000"};u(this,{x:a,y:r,label:"Jugar",onClick:()=>this.scene.start("ModeGame_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),u(this,{x:a,y:r+70,label:"Tutorial",onClick:()=>this.scene.start("Tutorial_Scene",{returnScene:"Menu_Scene"}),textStyle:o,clickSoundKey:"sonidoClick"}),u(this,{x:a,y:r+140,label:"Configuración",onClick:()=>this.scene.start("Configuration_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),u(this,{x:a,y:r+210,label:"Créditos",onClick:()=>this.scene.start("Credits_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),this.add.image(this.scale.width-20,this.scale.height-20,"logoEmpresa").setScale(.42).setOrigin(1,1)}}const f={velocidad:4e3,ralentizar:4e3,paralizar:2500,por2:4e3,por3:4e3};class y{constructor(e,t,i,s,a){this.scene=e,this.id=t,this.characterType=a,this.baseMoveSpeed=250,this.moveSpeed=this.baseMoveSpeed,this.jumpSpeed=275,this.activePowerUps={},this.isParalyzed=!1,this.paralysisTween=null,this.speedEffectActive=!1,this.slowEffectActive=!1,this.scoreMultiplier=1,this.multiplierText=this.scene.add.text(i,s-50,"",{fontFamily:"Arial",fontSize:"20px",color:"#ffffff",stroke:"#000000",strokeThickness:4}).setOrigin(.5,1).setDepth(20).setVisible(!1),this.powerUpInventory=[],this.isReceiving=!1,this.boundsLeft=0,this.boundsRight=960,this.boundsTop=0,this.boundsBottom=540;const r={characterA:{textureKey:"charA_move",startFrame:0,idleLeftAnim:"charA_idleLeft",idleRightAnim:"charA_idleRight",runLeftAnim:"charA_runLeft",runRightAnim:"charA_runRight",jumpLeftAnim:"charA_jumpLeft",jumpRightAnim:"charA_jumpRight",receiveLeftAnim:"charA_receiveLeft",receiveRightAnim:"charA_receiveRight"},characterB:{textureKey:"charB_move",startFrame:0,idleLeftAnim:"charB_idleLeft",idleRightAnim:"charB_idleRight",runLeftAnim:"charB_runLeft",runRightAnim:"charB_runRight",jumpLeftAnim:"charB_jumpLeft",jumpRightAnim:"charB_jumpRight",receiveLeftAnim:"charB_receiveLeft",receiveRightAnim:"charB_receiveRight"},characterC:{textureKey:"charC_move",startFrame:0,idleLeftAnim:"charC_idleLeft",idleRightAnim:"charC_idleRight",runLeftAnim:"charC_runLeft",runRightAnim:"charC_runRight",jumpLeftAnim:"charC_jumpLeft",jumpRightAnim:"charC_jumpRight",receiveLeftAnim:"charC_receiveLeft",receiveRightAnim:"charC_receiveRight"}};this.config=r[a]||r.characterA,this.sprite=this.scene.physics.add.sprite(i,s,this.config.textureKey,this.config.startFrame),this.sprite.setScale(2.5),this.sprite.body.setSize(.9*this.sprite.width,.9*this.sprite.height,!0),this.sprite.setData("player",this),this.facing="right",this.isOnGround=!1,this.isJumping=!1,this.jumpStartTime=0,this.sprite.on("animationcomplete",e=>{try{e.key!==this.config.receiveLeftAnim&&e.key!==this.config.receiveRightAnim||(this.isReceiving=!1)}catch(t){console.error(`Animation complete handler error for ${e.key}:`,t)}})}isGrounded(){const e=this.sprite.body;return!!e&&(e.blocked.down||e.touching.down)}isNearGround(e=12){const t=this.sprite.body;if(!t)return!1;if("number"!=typeof this.scene.groundY)return!1;const i=t.y+t.height;return Math.abs(i-this.scene.groundY)<=e}moveLeft(){this.isParalyzed||this.isReceiving||(this.sprite.setVelocityX(-this.moveSpeed),this.facing="left",this.playAnimation(this.config.runLeftAnim))}moveRight(){this.isParalyzed||this.isReceiving||(this.sprite.setVelocityX(this.moveSpeed),this.facing="right",this.playAnimation(this.config.runRightAnim))}jumpLeft(){this.isParalyzed||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!1,this.isJumping=!0,this.jumpStartTime=this.scene.time.now,this.sprite.setVelocityY(-this.jumpSpeed),this.facing="left",this.playAnimation(this.config.jumpLeftAnim),this.scene?.playSfx?.(this.scene?.sfx?.jump))}jumpRight(){this.isParalyzed||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!1,this.isJumping=!0,this.jumpStartTime=this.scene.time.now,this.sprite.setVelocityY(-this.jumpSpeed),this.facing="right",this.playAnimation(this.config.jumpRightAnim),this.scene?.playSfx?.(this.scene?.sfx?.jump))}receiveLeft(){this.isParalyzed||this.isReceiving||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!0,this.sprite.setVelocityX(0),this.facing="left",this.playAnimation(this.config.receiveLeftAnim))}receiveRight(){this.isParalyzed||this.isReceiving||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!0,this.sprite.setVelocityX(0),this.facing="right",this.playAnimation(this.config.receiveRightAnim))}idleLeft(){this.isReceiving||(this.sprite.setVelocityX(0),this.facing="left",this.playAnimation(this.config.idleLeftAnim))}idleRight(){this.isReceiving||(this.sprite.setVelocityX(0),this.facing="right",this.playAnimation(this.config.idleRightAnim))}setBounds(e,t,i,s){this.boundsLeft=e,this.boundsRight=t,this.boundsTop=i,this.boundsBottom=s}clampWithinBounds(){const e=this.sprite.width/2;this.sprite.x-e<this.boundsLeft&&(this.sprite.x=this.boundsLeft+e,this.sprite.setVelocityX(0)),this.sprite.x+e>this.boundsRight&&(this.sprite.x=this.boundsRight-e,this.sprite.setVelocityX(0))}setPosition(e,t){this.sprite&&(this.sprite.setPosition(e,t),this.sprite.setVelocity(0,0),this.updateMultiplierTextPosition())}updateMultiplierTextPosition(){if(!this.multiplierText||!this.sprite)return;const e=.6*(this.sprite.displayHeight||this.sprite.height||40);this.multiplierText.setPosition(this.sprite.x,this.sprite.y-e)}playAnimation(e){if(!e)return;if(!this.sprite.anims)return;if(this.isJumping&&e!==this.config.jumpLeftAnim&&e!==this.config.jumpRightAnim)return;const t=this.sprite.anims.currentAnim;this.sprite.anims.isPlaying&&t&&t.key===e||this.sprite.anims.play(e,!0)}update(){if(this.sprite.body){const e=this.isOnGround;this.isOnGround=this.isGrounded();const t=this.sprite.anims.currentAnim,i=t?t.key:null;this.isParalyzed&&this.sprite.setVelocityX(0),this.isReceiving&&i!==this.config.receiveLeftAnim&&i!==this.config.receiveRightAnim&&(this.isReceiving=!1),this.isJumping&&i&&i!==this.config.jumpLeftAnim&&i!==this.config.jumpRightAnim&&(this.isJumping=!1),this.isJumping&&this.scene.time.now-this.jumpStartTime>1500&&(this.isJumping=!1),this.isJumping&&!e&&this.isOnGround&&(this.isJumping=!1,"left"===this.facing?this.idleLeft():this.idleRight())}this.clampWithinBounds(),this.updateMultiplierTextPosition()}applyPowerUp(e){return!(this.powerUpInventory.length>=2||(this.powerUpInventory.push(e),0))}useNextPowerUp(){if(0===this.powerUpInventory.length)return;const e=this.powerUpInventory.shift();this.activatePowerUp(e)}activatePowerUp(e){switch(e){case"velocidad":this.applyOrRefreshTimedEffect("velocidad",f.velocidad);break;case"ralentizar":{const e=this.getOpponent();e&&e.applyOrRefreshTimedEffect("ralentizar",f.ralentizar);break}case"paralizar":{const e=this.getOpponent();e&&e.applyOrRefreshTimedEffect("paralizar",f.paralizar);break}case"por2":case"por3":this.applyOrRefreshTimedEffect(e,f[e])}}updatePowerUps(){const e=this.scene.time.now;let t=!1,i=!1;for(const s in this.activePowerUps)if(!(e<=this.activePowerUps[s]))switch(delete this.activePowerUps[s],s){case"velocidad":this.setSpeedEffect(!1),t=!0;break;case"ralentizar":this.setSlowEffect(!1),t=!0;break;case"paralizar":this.setParalyzed(!1);break;case"por2":case"por3":i=!0}t&&this.recalculateMoveSpeed(),i&&this.recalculateScoreEffect()}setParalyzed(e){this.isParalyzed=e,e?(this.sprite.setTint(16733525),this.sprite.setAlpha(1),this.paralysisTween&&(this.paralysisTween.stop(),this.paralysisTween=null),this.paralysisTween=this.scene.tweens.add({targets:this.sprite,alpha:.3,yoyo:!0,duration:200,repeat:-1}),this.sprite.setVelocityX(0)):(this.sprite.setAlpha(1),this.paralysisTween&&(this.paralysisTween.stop(),this.paralysisTween=null),this.refreshPowerUpVisuals())}setSpeedEffect(e){this.speedEffectActive=e,this.refreshPowerUpVisuals()}setSlowEffect(e){this.slowEffectActive=e,this.refreshPowerUpVisuals()}recalculateMoveSpeed(){let e=1;this.activePowerUps.velocidad&&(e*=1.5),this.activePowerUps.ralentizar&&(e*=.5),this.moveSpeed=this.baseMoveSpeed*e}recalculateScoreEffect(){let e=1;this.activePowerUps.por2&&(e=Math.max(e,2)),this.activePowerUps.por3&&(e=Math.max(e,3)),this.scoreMultiplier=e,this.multiplierText&&(this.scoreMultiplier>1?(this.multiplierText.setText("x"+this.scoreMultiplier),this.multiplierText.setVisible(!0)):this.multiplierText.setVisible(!1)),this.refreshPowerUpVisuals()}applyOrRefreshTimedEffect(e,t){const i=this.scene.time.now;this.activePowerUps[e]=i+t,"velocidad"===e&&this.setSpeedEffect(!0),"ralentizar"===e&&this.setSlowEffect(!0),"paralizar"===e&&this.setParalyzed(!0),"velocidad"!==e&&"ralentizar"!==e||this.recalculateMoveSpeed(),"por2"!==e&&"por3"!==e||this.recalculateScoreEffect()}refreshPowerUpVisuals(){this.isParalyzed||(this.slowEffectActive?this.sprite.setTint(5592575):this.speedEffectActive?this.sprite.setTint(16747520):this.scoreMultiplier>1?this.sprite.setTint(3329330):this.sprite.clearTint())}getOpponent(){return this.scene.players?Array.from(this.scene.players.values()).find(e=>e!==this):null}}class x{constructor(e,t){this.player=e,this.powerUpType=t,this.stored=!1}execute(){return this.stored=this.player.applyPowerUp(this.powerUpType),this.stored}}class T{constructor(e,t,i,s){this.scene=e,this.type=s,this.isCollected=!1,this._destroyed=!1,this._cooldownUntil=0,this.fadeStart=3e3,this.lifetime=5e3,this._overlaps=[],this.fadeTween=null,this._lifetimeTimer=null,this.sprite=e.physics.add.staticImage(t,i,s).setScale(1.2).setInteractive(),this.sprite.refreshBody&&this.sprite.refreshBody();const a=Math.max(0,Math.min(this.fadeStart,this.lifetime)),r=Math.max(0,this.lifetime-a);r>0&&(this.fadeTween=e.tweens.add({targets:this.sprite,alpha:0,delay:a,duration:r}));const o=e.players;o&&"function"==typeof o.forEach&&o.forEach(t=>{if(!t?.sprite)return;const i=e.physics.add.overlap(t.sprite,this.sprite,()=>this.collect(t),null,this);this._overlaps.push(i)}),this._lifetimeTimer=e.time.delayedCall(this.lifetime,()=>{this.destroy()})}collect(e){if(console.log("[PowerUp] overlap con",e.id,"tipo",this.type),this._destroyed)return;if(this.isCollected)return;const t=this.scene.time.now;if(this._cooldownUntil&&t<this._cooldownUntil)return;this.isCollected=!0;const i=new x(e,this.type);if(this.scene.commandProcessor.process(i),!i.stored)return this.isCollected=!1,void(this._cooldownUntil=t+300);this.destroy(),this.scene.updatePlayerInventoryUI?.(e)}destroy(){if(!this._destroyed){if(this._destroyed=!0,Array.isArray(this._overlaps)&&(this._overlaps.forEach(e=>{try{e.destroy()}catch{}}),this._overlaps=[]),this.fadeTween){try{this.fadeTween.stop()}catch{}this.fadeTween=null}if(this._lifetimeTimer&&(this._lifetimeTimer.remove(!1),this._lifetimeTimer=null),this.sprite){try{this.sprite.destroy()}catch{}this.sprite=null}Array.isArray(this.scene.powerUps)&&(this.scene.powerUps=this.scene.powerUps.filter(e=>e!==this))}}}class O{constructor(e,t,i){this.scene=e,this.players=null,this.commandProcessor=null,this.sprite=e.physics.add.sprite(t,i,"ball"),this.sprite.setScale(1),this.sprite.setBounce(.8),this.sprite.setCollideWorldBounds(!0),this.sprite.setData("ball",this),this.lastTouchedBy=null,this.touchCount=0,this.courtSide="left",this.isBallLive=!0,this.netX=480,this.lastHitTime=0,this.lastHitPlayerId=null}_getRandomFactor(e=.95,t=1.05){return e+(t-e)*Math.random()}hit(e,t,i,s=!1){if(!this.isBallLive)return;const a=this.scene.time.now;if(this.lastHitPlayerId===e.id&&a-this.lastHitTime<120)return;if(this.lastHitPlayerId=e.id,this.lastHitTime=a,this.lastTouchedBy===e.id?this.touchCount++:(this.touchCount=1,this.lastTouchedBy=e.id),this.touchCount>3)return void this.onFalta("toqueExcedido",e);let r,o;if(s?this.scene?.playSfx?.(this.scene?.sfx?.receive):i&&this.scene?.playSfx?.(this.scene?.sfx?.spike),s){const e=180,i=-350,s=this._getRandomFactor();r="left"===t?-e*s:e*s,o=i*this._getRandomFactor()}else if(i){const e=220,i=-150,s=this._getRandomFactor();r="left"===t?-e*s:e*s,o=i*this._getRandomFactor()}else{const e=180;r="left"===t?-e:e,o=-100}this.sprite.setVelocity(r,o),r>0?this.courtSide="right":r<0&&(this.courtSide="left")}crossNet(){this.touchCount=0,this.lastTouchedBy=null,this.courtSide="left"===this.courtSide?"right":"left"}onGrounded(){if(!this.isBallLive)return;const e=this.sprite.x<this.netX,t=this.sprite.x>this.netX;e?(this.onRallyEnd("player2"),this.resetRally("player2")):t&&(this.onRallyEnd("player1"),this.resetRally("player1"))}onFalta(e,t){if(!this.isBallLive)return;const i="player1"===t.id?"player2":"player1";this.onRallyEnd(i),this.resetRally(i)}onRallyEnd(e){this.isBallLive=!1,this.scene.events.emit("rallyConcluded",{scoringPlayerId:e,touchCount:this.touchCount,lastTouchedBy:this.lastTouchedBy})}_getSubtleNudge(e,t,i){const s=12*(Math.random()<.5?-1:1);return{spawnX:Math.max(t,Math.min(i-t,e+s)),velocityX:s}}setServePosition(e){const t=this.scene.worldWidth??this.scene.scale?.width??2*this.netX,i=(e,t,i)=>Math.max(t,Math.min(i,e));let s=this.netX,a=0;if("player1"===e||"player2"===e){const a=this.scene.players?.get?this.scene.players.get(e):null;s=a?.sprite?"player1"===e?i(a.sprite.x,60,this.netX-60):i(a.sprite.x,this.netX+60,t-60):"player1"===e?this.netX-100:this.netX+100}else{const e=this._getSubtleNudge(s,60,t);s=e.spawnX,a=e.velocityX}this.sprite.setPosition(s,100),this.sprite.setVelocity(a,0)}resetRally(e){this.isBallLive=!0,this.lastTouchedBy=null,this.touchCount=0,this.setServePosition(e),this.lastHitTime=0,this.lastHitPlayerId=null}update(){this.isBallLive&&(this.sprite.x<this.netX-20?this.courtSide="left":this.sprite.x>this.netX+20&&(this.courtSide="right"))}}class b{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class E{execute(){}serialize(){}getPlayer(){}}class A extends E{constructor(e,t){super(),this.player=e,this.direction=t}execute(){switch(this.direction){case"left":this.player.moveLeft();break;case"right":this.player.moveRight();break;case"jumpLeft":this.player.jumpLeft();break;case"jumpRight":this.player.jumpRight();break;case"receiveLeft":this.player.receiveLeft();break;case"receiveRight":this.player.receiveRight();break;case"idleLeft":this.player.idleLeft();break;default:this.player.idleRight()}}getPlayer(){return this.player.id}serialize(){return{type:"MovePlayerCommand",playerId:this.player.id,direction:this.direction}}}class _ extends i().Scene{tiempoTotal=60;tiempoRestante=this.tiempoTotal;timerText;timerEvent;constructor(){super("Game_Scene")}init(e){this.players=new Map,this.inputMappings=[],this.commandProcessor=new b,this.player1=e.player1,this.player2=e.player2,this.selectedScenario=e.selectedScenario,this.ball=null,this.scoreP1=0,this.scoreP2=0,this.setsP1=0,this.setsP2=0,this.maxSets=3,this.currentSet=1,this.isGoldenPoint=!1}preload(){this.load.spritesheet("charA_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_A/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charA_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_A/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.spritesheet("charB_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_B/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charB_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_B/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.spritesheet("charC_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_C/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charC_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_C/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.image("Gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("Playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("Jardin","ASSETS/FONDOS/JARDIN.png"),this.load.image("por2","ASSETS/ITEMS/POWER UPS/MULTIPLICADOR 2.png"),this.load.image("por3","ASSETS/ITEMS/POWER UPS/MULTIPLICADOR 3.png"),this.load.image("paralizar","ASSETS/ITEMS/POWER UPS/PARALIZADO.png"),this.load.image("ralentizar","ASSETS/ITEMS/POWER UPS/RELENTIZAR.png"),this.load.image("velocidad","ASSETS/ITEMS/POWER UPS/VELOCIDAD.png"),this.load.image("marcoPowerUp","ASSETS/JUEGO/Base_powerUp.png"),this.load.image("ball","ASSETS/ITEMS/PELOTAS/P_NORMAL.png"),this.load.image("red","ASSETS/JUEGO/RED.png"),this.load.image("reloj","ASSETS/JUEGO/TIMER.png"),this.load.image("marcoGeneral","ASSETS/JUEGO/MARCADOR_SET.png"),this.load.audio("sfx_silbato","ASSETS/SONIDO/Silbato_inicio_partido_1p4s.mp3"),this.load.audio("sfx_remate","ASSETS/SONIDO/Toque_pelota_remate_03s.mp3"),this.load.audio("sfx_recepcion","ASSETS/SONIDO/Toque_pelota_recepcion.mp3"),this.load.audio("sfx_salto","ASSETS/SONIDO/SonidoSalto_1p.mp3"),this.load.audio("sfx_punto","ASSETS/SONIDO/SonidoPunto.mp3")}create(){const{width:e,height:t}=this.scale;this.worldWidth=e,this.worldHeight=t;const i=this.game.globals.defaultTextStyle;this.sfx={whistle:"sfx_silbato",spike:"sfx_remate",receive:"sfx_recepcion",jump:"sfx_salto",point:"sfx_punto"},this.playSfx(this.sfx.whistle),this.timerText=this.add.text(this.scale.width/2,30,"",{...i,fontSize:"32px",color:"#ffffff"}).setOrigin(.5,0).setScrollFactor(0).setDepth(9999),this.timerIcon=this.add.image(this.scale.width/2,45,"reloj").setOrigin(.5).setScale(2).setScrollFactor(0).setDepth(9e3),this.setFrame=this.add.image(this.scale.width/2,120,"marcoGeneral").setOrigin(.5).setScale(1).setDepth(9998),this.setText=this.add.text(this.scale.width/2,120,`SET ${this.currentSet}`,{...i,fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setDepth(9999);const s=this.setFrame.displayWidth,a=this.setFrame.displayHeight,r=this.setFrame.y+Math.round(a/2)+13,o=Math.round(.22*s);this.setScoreFrameLeft=this.add.image(this.scale.width/2-o,r,"marcoGeneral").setOrigin(.5).setScale(.4,.38).setDepth(9998),this.setScoreFrameRight=this.add.image(this.scale.width/2+o,r,"marcoGeneral").setOrigin(.5).setScale(.4,.38).setDepth(9998),this.setScoreLeft=this.add.text(this.scale.width/2-o,r,`${this.setsP1}`,{...i,fontSize:"28px",color:"#ffffff"}).setOrigin(.5).setDepth(9999),this.setScoreRight=this.add.text(this.scale.width/2+o,r,`${this.setsP2}`,{...i,fontSize:"28px",color:"#ffffff"}).setOrigin(.5).setDepth(9999),this.setWinnerText=this.add.text(this.scale.width/2,205,"",{...i,fontSize:"28px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5).setDepth(9999).setVisible(!1),this.timerEvent=this.time.addEvent({delay:1e3,callback:this.updateTimer,callbackScope:this,loop:!0}),this.updateTimer(),this.add.image(e/2,t/2,this.selectedScenario).setOrigin(.5).setDisplaySize(e,t).setDepth(-1);const n=this.physics.add.staticSprite(e/2,t-160,"red").setScale(.6),l=this.textures.get("red").getSourceImage();n.body.setSize(.5*l.width,.5*l.height),n.body.setOffset(-n.body.width/2,-n.body.height/2),n.body.updateFromGameObject(),this.red=n,this._createAnimations(),this.pointsLeft=0,this.pointsRight=0,this.scoreFrameLeft=this.add.image(200,50,"marcoGeneral").setScale(.8,.55).setOrigin(.5),this.scoreFrameRight=this.add.image(this.worldWidth-200,50,"marcoGeneral").setScale(.8,.55).setOrigin(.5),this.scoreLeft=this.add.text(200,45,"0",{...i,fontSize:"40px",color:"#ffffffff"}).setOrigin(.5).setDepth(9999),this.rightScore=this.add.text(this.worldWidth-200,45,"0",{...i,fontSize:"40px",color:"#ffffffff"}).setOrigin(.5).setDepth(9999),this.groundHeight=20,this.groundY=this.worldHeight-90;const h=this.add.rectangle(this.worldWidth/2,this.groundY,this.worldWidth,20).setOrigin(.5,0).setVisible(!1);this.physics.add.existing(h,!0),this._createPlayers(),this._setupPhysicsWorld(h),this._setupInputMappings(),this.powerUps=[],this.maxPowerUps=2,this.powerUpSpawnConfig={minDelayMs:3500,maxDelayMs:7e3,weights:{velocidad:3,ralentizar:2,paralizar:1,por2:3,por3:2},cooldownMs:{paralizar:1e4}},this.powerUpLastSpawnAt={},this.inventoryUI={player1:[this.add.image(50,50,"por2").setScale(1.4).setVisible(!1).setDepth(1),this.add.image(110,50,"por2").setScale(1.4).setVisible(!1).setDepth(1)],player2:[this.add.image(this.worldWidth-110,50,"por2").setScale(1.4).setVisible(!1).setDepth(1),this.add.image(this.worldWidth-50,50,"por2").setScale(1.4).setVisible(!1).setDepth(1)]},this.schedulePowerUpSpawn(),this.inventoryFrames={player1:[this.add.image(50,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0),this.add.image(110,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0)],player2:[this.add.image(this.worldWidth-110,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0),this.add.image(this.worldWidth-50,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0)]},this._createBall(),this.ball.setServePosition(),this._setupBallCollisions(),this._setupBallEvents(),this.input.keyboard.on("keydown-ESC",()=>{this.scene.pause(),this.timerEvent.paused=!0,this.scene.launch("Pause_Scene")}),this.input.keyboard.on("keydown-F",()=>{const e=this.scoreP1>=this.scoreP2?"player1":"player2";this._endGame(e)}),this.events.on("resume",()=>{this.timerEvent.paused=!1})}schedulePowerUpSpawn(){const{minDelayMs:e,maxDelayMs:t}=this.powerUpSpawnConfig,s=i().Math.Between(e,t);this.time.delayedCall(s,()=>{if(this.powerUps.length<this.maxPowerUps){const e=i().Math.Between(80,this.worldWidth-80),t=i().Math.Between(this.worldHeight-220,this.worldHeight-120),s=this._getWeightedPowerUpType();if(s){const i=new T(this,e,t,s);this.powerUps.push(i),this.powerUpLastSpawnAt[s]=this.time.now}}this.schedulePowerUpSpawn()})}_getWeightedPowerUpType(){const{weights:e,cooldownMs:t}=this.powerUpSpawnConfig,s=this.time.now,a=Object.entries(e).filter(([e,i])=>{if(i<=0)return!1;const a=t?.[e];if(!a)return!0;const r=this.powerUpLastSpawnAt?.[e]||0;return s-r>=a});if(!a.length)return null;const r=a.reduce((e,[,t])=>e+t,0);let o=i().Math.Between(1,r);for(const[e,t]of a)if(o-=t,o<=0)return console.log("[Game_Scene] Power-up aleatorio: ",e),e;return a[a.length-1][0]}playSfx(e){e&&this.sound.play(e,{volume:h()})}update(){this._handleInputForAllPlayers(),this.players.forEach(e=>e.updatePowerUps()),this.ball&&(this.ball.update(),this.ball.isBallLive&&this.ball.sprite.y>this.groundY&&this.ball.onGrounded(),(this.ball.sprite.x<475&&"right"===this.ball.courtSide||this.ball.sprite.x>485&&"left"===this.ball.courtSide)&&this.ball.crossNet())}updateTimer(){this.tiempoRestante--;const e=Math.floor(this.tiempoRestante/60),t=this.tiempoRestante%60,i=`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`;this.timerText.setText(i),this.tiempoRestante<=0&&(this.timerEvent.paused=!0,console.log("FIN DEL TIEMPO"),this.scoreP1>this.scoreP2?this._endSet("player1"):this.scoreP2>this.scoreP1?this._endSet("player2"):(console.log("Empate en el set"),this.isGoldenPoint=!0,this.setWinnerText&&(this.setWinnerText.setText("EMPATE: punto de oro"),this.setWinnerText.setVisible(!0))))}updateSetScoreUI(){this.setScoreLeft&&this.setScoreLeft.setText(this.setsP1.toString()),this.setScoreRight&&this.setScoreRight.setText(this.setsP2.toString())}updatePlayerInventoryUI(e){const t=this.inventoryUI[e.id];for(let i=0;i<2;i++)e.powerUpInventory[i]?(t[i].setTexture(e.powerUpInventory[i]),t[i].setVisible(!0)):t[i].setVisible(!1)}_createAnimations(){this.anims.create({key:"charA_idleRight",frames:this.anims.generateFrameNumbers("charA_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charA_idleLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charA_receiveRight",frames:this.anims.generateFrameNumbers("charA_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charA_receiveLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charA_runRight",frames:this.anims.generateFrameNumbers("charA_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charA_runLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charA_jumpRight",frames:this.anims.generateFrameNumbers("charA_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charA_jumpLeft",frames:this.anims.generateFrameNumbers("charA_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charB_idleRight",frames:this.anims.generateFrameNumbers("charB_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charB_idleLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charB_receiveRight",frames:this.anims.generateFrameNumbers("charB_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charB_receiveLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charB_runRight",frames:this.anims.generateFrameNumbers("charB_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charB_runLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charB_jumpRight",frames:this.anims.generateFrameNumbers("charB_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charB_jumpLeft",frames:this.anims.generateFrameNumbers("charB_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charC_idleRight",frames:this.anims.generateFrameNumbers("charC_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charC_idleLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charC_receiveRight",frames:this.anims.generateFrameNumbers("charC_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charC_receiveLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charC_runRight",frames:this.anims.generateFrameNumbers("charC_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charC_runLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charC_jumpRight",frames:this.anims.generateFrameNumbers("charC_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charC_jumpLeft",frames:this.anims.generateFrameNumbers("charC_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0})}_createPlayers(){const e=this.player1.character,t=this.player2.character,i=new y(this,"player1",.25*this.worldWidth,this.groundY-100,e),s=new y(this,"player2",.75*this.worldWidth,this.groundY-100,t);this.players.set("player1",i),this.players.set("player2",s);const a=Math.floor(this.groundY);i.setBounds(80,455,50,a),s.setBounds(505,this.worldWidth-80,50,a),this.commandProcessor.setPlayers(this.players),this.commandProcessor.setGameScene(this),i.idleRight(),s.idleLeft()}_setupPhysicsWorld(e){this.players.forEach(t=>{this.physics.add.collider(t.sprite,e),this.physics.add.collider(t.sprite,this.red,()=>{console.log(`${t.id} tocó la red!`),t.sprite.setVelocityX(0)})})}_setupInputMappings(){this.inputMappings=[{playerId:"player1",leftKey:"A",rightKey:"D",jumpKey:"W",receiveKey:"S",powerKey:"E"},{playerId:"player2",leftKey:"J",rightKey:"L",jumpKey:"I",receiveKey:"K",powerKey:"O"}].map(e=>({playerId:e.playerId,leftKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.rightKey]),jumpKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.jumpKey]),receiveKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.receiveKey]),powerKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.powerKey])}))}_handleInputForAllPlayers(){this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);if(!t)return;if(t.isParalyzed){const e="left"===t.facing?"idleLeft":"idleRight";return void this.commandProcessor.process(new A(t,e))}let s;if(s=e.leftKeyObj.isDown?"left":e.rightKeyObj.isDown?"right":"left"===t.facing?"idleLeft":"idleRight",t.isJumping||this.commandProcessor.process(new A(t,s)),i().Input.Keyboard.JustDown(e.receiveKeyObj)){const e="left"===t.facing?"receiveLeft":"receiveRight";this.commandProcessor.process(new A(t,e))}if(i().Input.Keyboard.JustDown(e.jumpKeyObj)){const e="left"===t.facing?"jumpLeft":"jumpRight";this.commandProcessor.process(new A(t,e))}i().Input.Keyboard.JustDown(e.powerKeyObj)&&(t.useNextPowerUp(),this.updatePlayerInventoryUI(t))}),this.players.forEach(e=>e.update())}_createBall(){this.ball=new O(this,this.worldWidth/2,150)}_setupBallCollisions(){this.players.forEach(e=>{this.physics.add.overlap(this.ball.sprite,e.sprite,()=>this._onBallPlayerCollision(this.ball,e),null,this)}),this.physics.add.collider(this.ball.sprite,this.red,()=>{console.log("La pelota toca la red!"),this.ball.sprite.setVelocityX(.5*this.ball.sprite.body.velocity.x),this.ball.sprite.setVelocityY(.5*this.ball.sprite.body.velocity.y)}),this.worldHeight,this.ball.sprite.setCollideWorldBounds(!0),this.ball.sprite.setBounce(.8)}_setupBallEvents(){this.events.on("rallyConcluded",e=>{console.log(`Rally concluded: ${e.scoringPlayerId} scores!`);const t=e.scoringPlayerId,i=this.players.get(t),s=i&&i.scoreMultiplier||1;if("player1"===t?(this.pointsLeft+=s,this.scoreLeft.setText(this.pointsLeft.toString()),this.scoreP1+=s):"player2"===t&&(this.pointsRight+=s,this.rightScore.setText(this.pointsRight.toString()),this.scoreP2+=s),this.playSfx(this.sfx.point),this.isGoldenPoint)return this.isGoldenPoint=!1,void this._endSet(t);this._checkWinCondition()})}_isBallInHitZone(e,t,i,s){const a=t.sprite.body;if(!a)return!1;const r=e.x,o=e.y,n=a.y,l=a.height,h=a.x+.5*a.width,c=i?{top:-.1,bottom:.6}:s?{top:.35,bottom:.85}:{top:.25,bottom:.85};if(o<n+l*c.top||o>n+l*c.bottom)return!1;const d="right"===t.facing,p=s||i,m=a.width*(p?.9:.75),u=a.width*(p?.25:.15);return!(r<(d?h-u:h-m)||r>(d?h+m:h+u))}_onBallPlayerCollision(e,t){if(!e.isBallLive)return;const i=!t.sprite.body.blocked.down,s=t.isReceiving,a=t.facing;this._isBallInHitZone(e.sprite,t,i,s)&&e.hit(t,a,i,s)}_endGame(e){this.timerEvent&&(this.timerEvent.remove(!1),this.timerEvent=null),this.playSfx(this.sfx.whistle),this.physics&&this.physics.world&&this.physics.world.pause(),this.scene.start("EndGame_Scene",{winner:e,player1:this.player1,player2:this.player2})}_checkWinCondition(){const e=this.scoreP1-this.scoreP2;if(Math.max(this.scoreP1,this.scoreP2)<11||Math.abs(e)<2)return;const t=e>0?"player1":"player2";this._endSet(t)}_endSet(e){"player1"===e?this.setsP1++:"player2"===e&&this.setsP2++,console.log(`Set terminado. Score sets: P1=${this.setsP1}, P2=${this.setsP2}`),this.updateSetScoreUI();const t="player1"===e?"Jugador 1":"Jugador 2";this.setWinnerText.setText(`SET para ${t}`),this.setWinnerText.setVisible(!0),this.currentSet++,2===this.setsP1||2===this.setsP2?this.time.delayedCall(2e3,()=>{this._endGame(e)}):this.time.delayedCall(2e3,()=>{this.setWinnerText&&this.setWinnerText.setVisible(!1),this._resetSet()})}_resetSet(){this.isGoldenPoint=!1,this.setText.setText(`SET ${this.currentSet}`),this.tiempoRestante=this.tiempoTotal,this.timerEvent.paused=!1,this.updateTimer(),this.scoreP1=0,this.scoreP2=0,this.pointsLeft=0,this.pointsRight=0,this.scoreLeft.setText("0"),this.rightScore.setText("0"),this.ball.resetRally();const e=this.players.get("player1"),t=this.players.get("player2");e.setPosition(.25*this.worldWidth,.7*this.worldHeight),t.setPosition(.75*this.worldWidth,.7*this.worldHeight),e.idleRight(),t.idleLeft(),this.playSfx(this.sfx.whistle)}}class v extends i().Scene{constructor(){super("Tutorial_Scene"),this.pageIndex=0,this.returnScene="Menu_Scene"}init(e){this.returnScene=e?.returnScene??"Menu_Scene"}preload(){this.load.image("tut0_controles","ASSETS/TUTORIAL/TUT0_Controles.png"),this.load.image("tut1_set","ASSETS/TUTORIAL/TUT1_Set.png"),this.load.image("tut2_pelota","ASSETS/TUTORIAL/TUT2_Pelota.png"),this.load.image("tut3_powerup","ASSETS/TUTORIAL/TUT3_Powerup.png"),this.load.image("tut4_lista","ASSETS/TUTORIAL/TUT4_Lista.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png")}create(){const{width:e,height:t}=this.scale,i=e/2,s={...this.game.globals?.defaultTextStyle??{fontFamily:"VT323",fontSize:"20px",color:"#000000"}};p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.mainTitleText=this.add.text(i,.1*t,"Tutorial",{...s,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start(this.returnScene)}),this.pageIndex=0,this.pages=[{key:"tut0_controles",title:"Controles"},{key:"tut1_set",title:"Reglas básicas: set"},{key:"tut2_pelota",title:"Reglas básicas: pelota"},{key:"tut3_powerup",title:"Reglas básicas: power-ups"},{key:"tut4_lista",title:"Lista de power-ups"}];const a=Math.max(8,Math.round(.015*Math.min(e,t))),r=Math.max(6,Math.round(.012*t)),o=.91*t,n=this.mainTitleText.y+this.mainTitleText.height+r,l=o-r,h=Math.max(0,l-n),c=Math.max(0,e-2*a);this.layout={panelTop:n,panelHeight:h,panelWidth:c},this.slideImage=this.add.image(i,n+h/2,this.pages[0].key),this._fitImage(this.slideImage,c,h),this.pageIndicator=this.add.text(i,o+20,"",{...s,fontSize:"28px",color:"#000"}).setOrigin(.5);const d={...s,fontSize:"28px",color:"#000000"};u(this,{x:i-165,y:o+20,label:"Anterior",onClick:()=>this.prev(),textStyle:d,clickSoundKey:"sonidoClick"}),u(this,{x:i+165,y:o+20,label:"Siguiente",onClick:()=>this.next(),textStyle:d,clickSoundKey:"sonidoClick"}),this.renderPage()}_fitImage(e,t,i){const s=Math.min(t/e.width,i/e.height);e.setScale(s)}renderPage(){const e=this.pages[this.pageIndex];this.mainTitleText.setText(e.title??"Tutorial"),this.slideImage.setTexture(e.key),this._fitImage(this.slideImage,this.layout.panelWidth,this.layout.panelHeight),this.pageIndicator.setText(`${this.pageIndex+1} de ${this.pages.length}`)}next(){this.pageIndex<this.pages.length-1&&(this.pageIndex++,this.renderPage())}prev(){this.pageIndex>0&&(this.pageIndex--,this.renderPage())}}class I extends i().Scene{constructor(){super("Configuration_Scene"),this.musicVolumeSlider=null,this.sfxVolumeSlider=null,this.globalVolumeSlider=null}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,l=e/2,u=this.game.globals.defaultTextStyle;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(l,.1*t,"Configuración",{...u,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),function(e=1){const t=null!==localStorage.getItem(s),i=null!==localStorage.getItem(a);if(t&&i)return;const r=function(e=1){const t=localStorage.getItem(o);return null===t?null:n(t,e)}(e),l=r&&r>0?r:e;t||localStorage.setItem(s,String(l)),i||localStorage.setItem(a,String(l))}();const g=d(),f=c(),y=h();p(this);const x=.18*t,T=.05*t,O=t/2-(2*x+T)/2,b=O,E=b+T,A=O+x,_=A+T,v=O+2*x,I=v+T;this.add.text(l,b,"Volumen General",{...u,fontSize:"28px",color:"#000"}).setOrigin(.5),this.globalVolumeSlider=this.add.dom(l,E).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${g}" \n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>`),this.globalVolumeSlider.addListener("input"),this.globalVolumeSlider.on("input",e=>{e.target instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(r,String(t))}(e.target.value),p(this))}),this.add.text(l,A,"Volumen Música",{...u,fontSize:"28px",color:"#000"}).setOrigin(.5),this.musicVolumeSlider=this.add.dom(l,_).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${f}"\n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>\n            `),this.musicVolumeSlider.addListener("input"),this.musicVolumeSlider.on("input",e=>{const t=e.target;t instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(a,String(t))}(t.value),p(this))}),this.add.text(l,v,"Volumen Efectos",{...u,fontSize:"28px",color:"#000"}).setOrigin(.5),this.sfxVolumeSlider=this.add.dom(l,I).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${y}"\n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>\n            `),this.sfxVolumeSlider.addListener("input"),this.sfxVolumeSlider.on("input",e=>{const t=e.target;t instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(s,String(t))}(t.value),p(this))}),this.sfxVolumeSlider.addListener("change"),this.sfxVolumeSlider.on("change",e=>{m(this,"sonidoClick")}),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start("Menu_Scene")}),this.events.once(i().Scenes.Events.SHUTDOWN,()=>{this.musicVolumeSlider&&(this.musicVolumeSlider.removeAllListeners(),this.musicVolumeSlider.destroy(),this.musicVolumeSlider=null),this.sfxVolumeSlider&&(this.sfxVolumeSlider.removeAllListeners(),this.sfxVolumeSlider.destroy(),this.sfxVolumeSlider=null),this.globalVolumeSlider&&(this.globalVolumeSlider.removeAllListeners(),this.globalVolumeSlider.destroy(),this.globalVolumeSlider=null)})}}class w extends i().Scene{constructor(){super("Credits_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondoMenuPrincipal","ASSETS/FONDOS/MENU_PRINCIPAL.png"),this.load.image("logo","ASSETS/LOGO/logo_empresa.png"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"};this.add.image(0,0,"fondoMenuPrincipal").setOrigin(0).setDepth(-2).setDisplaySize(e,t),this.add.rectangle(0,0,e,t,0,.5).setOrigin(0).setDepth(-1);const s=["GRUPO 5 - SUNSET ARCADE","Sara Bueno Esteban","Antonio Morán Barrera","Cristine Nioka Tewo","Alvaro Ibáñez Montero"],a=.38*e,r=.46*t,o=.75*e,n=.46*t;this.add.rectangle(o,n,a,r,1118481,.7).setOrigin(.5).setStrokeStyle(2,16777215,.2);const l=n-36*(s.length-1)/2;s.forEach((e,t)=>{const s=0===t;this.add.text(o,l+36*t,e,{...i,fontFamily:"VT323",fontSize:s?"36px":"32px",color:s?"#f5d76e":"#ffffff"}).setOrigin(.5)}),this.add.text(o,.1*t,"Créditos",{...i,fontSize:"42px",color:"#ffffff"}).setOrigin(.5);const h=o,c=n+r/2+.16*t-3;this.add.image(h,c,"logo").setOrigin(.5).setScale(.7),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start("Menu_Scene")})}}class R extends i().Scene{constructor(){super("EndGame_Scene")}init(e){this.winner=e.winner,this.player1=e.player1,this.player2=e.player2}preload(){this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=this.game.globals.defaultTextStyle,s=this.player1.name,a=this.player2.name;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(e/2,.18*t,"¡Fin del partido!",{...i,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5);const r=.36*t,o=.52*t,n=.9*t,l=.2*e,h="player1"===this.winner?"Victoria de: "+s:"Victoria de: "+a;this.add.text(e/2,r,h,{...i,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5),this.winnerSpriteSlot=this.add.container(e/2-l,o),this.loserSpriteSlot=this.add.container(e/2+l,o),u(this,{x:e/2,y:n,label:"Menú Principal",onClick:()=>{this.scene.start("Menu_Scene")},textStyle:{...i,fontSize:"28px",color:"#000000"},clickSoundKey:"sonidoClick"})}}class C extends i().Scene{constructor(){super("ModeGame_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#000000"};p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,.18*t,"Modo de Juego",{...i,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5);const s=.5*t,a=Math.min(280,.3*e),r=e/2-a/2,o={...i,fontSize:"28px",color:"#000000"},n=e=>{this.registry.set("mode",e),console.log("Modo seleccionado:",e),this.scene.start("SelectPlayer_Scene",{mode:e})};u(this,{x:r,y:s,label:"Local",onClick:()=>n("local"),scale:2,textureNormal:"botonSinSeleccionar",textureHover:"botonSeleccionado",textStyle:o,clickSoundKey:"sonidoClick"});const l=u(this,{x:r+a,y:s,label:"Red",onClick:null,scale:2,textureNormal:"botonSinSeleccionar",textureHover:"botonSeleccionado",textStyle:o,clickSoundKey:"sonidoClick"});l.button.disableInteractive(),l.button.setAlpha(.5),l.text.setAlpha(.5),l.text.setAlign("center"),this.add.text(l.button.x,l.button.y+Math.round(.55*l.button.displayHeight)+12,"No disponible",{...o,fontFamily:"VT323",fontSize:"24px",color:"#ff0000"}).setOrigin(.5),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.scene.start("Menu_Scene")})}}class P extends i().Scene{constructor(){super("Pause_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const e=this.game.globals.defaultTextStyle,{width:t,height:i}=this.scale,s=t/2;this.add.rectangle(0,0,t,i,0,.88).setOrigin(0).setDepth(-1),this.add.text(s,.18*i,"Pausa",{...e,fontSize:"42px",color:"#ffffff"}).setOrigin(.5);const a={...e,fontSize:"28px",color:"#000000"},r=.46*i,o=.14*i;u(this,{x:s,y:r,label:"Continuar",textStyle:a,scale:2,onClick:()=>{this.scene.stop(),this.scene.resume("Game_Scene")}}),u(this,{x:s,y:r+o,label:"Tutorial",textStyle:a,scale:2,onClick:()=>{this.scene.start("Tutorial_Scene",{returnScene:"Pause_Scene"})}}),u(this,{x:s,y:r+2*o,label:"Menú Principal",textStyle:a,scale:2,onClick:()=>{const e=this.scene.get("Game_Scene");e&&(e.input.keyboard.removeAllListeners(),e.input.keyboard.removeAllKeys()),this.scene.stop("Game_Scene"),this.scene.start("Menu_Scene")}})}}class N extends i().Scene{constructor(){super("SelectPlayer_Scene"),this.players=[],this.currentTurn=0,this.playerInputs=[],this.playerInputEls=[],this.turnText=null}init(e){this.mode=this.registry.get("mode"),console.log("Modo de Juego:",this.mode),this.isHost=this.registry.get("isHost"),console.log("Host:",this.isHost)}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("marcoJugador","ASSETS/UI/MARCOS/VACIOS/MARCO_PERSONAJE_SELECCIONADO.png"),this.load.image("characterA","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_a.png"),this.load.image("characterB","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_b.png"),this.load.image("characterC","ASSETS/PERSONAJES/PERSONAJES_POSE/personaje_c.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){this.input.keyboard.removeAllKeys(!0),this.input.keyboard.removeAllListeners();const{width:e,height:t}=this.scale,s=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"};p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,50,"Selecciona Personaje",{...s,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),"local"===this.mode&&this.createLocalUI(e,t,s),"online"===this.mode&&this.createOnlineUI(e,t,s),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.scene.start("ModeGame_Scene")}),this.events.once(i().Scenes.Events.SHUTDOWN,()=>{this.playerInputs.forEach(e=>e?.destroy()),this.playerInputs=[],this.playerInputEls=[],this.input.keyboard.enabled=!0})}createLocalUI(e,t,i){this.players=[{name:"",character:null,color:43775,bigImage:null,bigFrame:null,frame:null},{name:"",character:null,color:16733525,bigImage:null,bigFrame:null,frame:null}],this.turnText=this.add.text(e/2,95,"TURNO: Jugador 1",{...i,fontFamily:"VT323",fontSize:"28px",color:"#000"}).setOrigin(.5),this.createPlayersUI(25),this.createCharacterMiniatures(0,25),this.updateTurnText(),u(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>this.handleNext(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...i,fontSize:"18px",color:"#000"},clickSoundKey:"sonidoClick"})}createOnlineUI(e,t,i){this.players=[{name:this.registry.get("username")||"JugadorX",character:null,color:43775,bigImage:null,bigFrame:null,frame:null}],this.add.text(e/2,140,`${this.players[0].name}`,{...i,fontSize:"28px",color:"#000",fontStyle:"bold"}).setOrigin(.5),this.turnText=this.add.text(e/2,130,"Ningún personaje seleccionado",{...i,fontSize:"18px",color:"#000"}).setOrigin(.5),this.createPlayerOnlineUI(40),this.createCharacterMiniatures(150,40),u(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>this.handleNext(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...i,fontSize:"18px",color:"#000"},clickSoundKey:"sonidoClick"})}createPlayersUI(e=0){const{width:t,height:s}=this.scale,a=this.game.globals.defaultTextStyle,r=[.25*t,.75*t];this.players.forEach((o,n)=>{const l=r[n];this.add.text(l,100+e,"Nombre:",{...a,fontSize:"24px",color:"#000"}).setOrigin(.5);const h=this.add.dom(l,140+e).createFromHTML(`\n                <input type="text" placeholder="Nombre jugador" maxlength="10"\n                style="\n                    width:150px;\n                    padding:6px;\n                    font-size:16px;\n                    font-family:${a.fontFamily};\n                    border-radius:12px;\n                    border: 6px solid #FFAA00;\n                    outline: none;\n                    text-align:center;\n                    background-color:#f0f0f0;\n                    transition: border-color 0.2s, box-shadow 0.2s;"\n                onfocus="this.style.borderColor='#FF8316'; this.style.boxShadow='0 0 5px #FF8316';"\n                onblur="this.style.borderColor='#FFAA00'; this.style.boxShadow='none';"\n                />\n            `),c=h.node.querySelector("input");c.addEventListener("focus",e=>{this.input.keyboard.enabled=!1,e.stopPropagation()}),c.addEventListener("blur",e=>{this.input.keyboard.enabled=!0,e.stopPropagation()}),c.addEventListener("keydown",e=>e.stopPropagation()),c.addEventListener("input",()=>{c.value=c.value.replace(/[^a-zA-ZÀ-ÿñÑ ]/g,""),this.updateTurnText()}),this.playerInputs[n]=h,this.playerInputEls[n]=c,o.bigImage=this.add.image(t*(.25+.5*n),.6*s+e,"characterA").setScale(1.2).setOrigin(.5).setVisible(!1),o.bigFrame=this.add.image(o.bigImage.x,o.bigImage.y,"marcoJugador").setScale(2.8).setOrigin(.5).setVisible(!0),o.bigFrame.texture.setFilter(i().Textures.FilterMode.NEAREST),o.frame=this.add.rectangle(0,0,60,120).setStrokeStyle(4,o.color).setVisible(!1)}),this.currentTurn=0,this.updateTurnText()}createPlayerOnlineUI(e=0){const{width:t,height:s}=this.scale,a=this.players[0],r=t/2;a.bigImage=this.add.image(r-150,.58*s+e,"characterA").setScale(1.2).setOrigin(.5).setVisible(!1),a.bigFrame=this.add.image(a.bigImage.x,a.bigImage.y,"marcoJugador").setScale(2.8).setOrigin(.5).setVisible(!0),a.bigFrame.texture.setFilter(i().Textures.FilterMode.NEAREST),a.frame=this.add.rectangle(0,0,60,120).setStrokeStyle(4,a.color).setVisible(!1)}createCharacterMiniatures(e,t){const{width:i,height:s}=this.scale,a=i/2-75,r=.5*s,o=[{x:a+e,y:r+t},{x:a+e+150,y:r+t},{x:a+e+75,y:r+t+75}];["characterA","characterB","characterC"].forEach((e,t)=>{const i=this.add.image(o[t].x,o[t].y,e).setInteractive({useHandCursor:!0}).setScale(.45).setData("characterName",e);i.on("pointerdown",()=>{m(this,"sonidoClick"),this.onMiniClicked(e,i)})})}onMiniClicked(e,t){if("online"===this.mode){const i=this.players[0];return i.character===e?(i.character=null,i.bigImage&&i.bigImage.setVisible(!1),i.frame&&i.frame.setVisible(!1)):(i.character=e,i.bigImage&&i.bigImage.setTexture(e).setVisible(!0),i.frame&&i.frame.setPosition(t.x,t.y).setVisible(!0)),void this.updateTurnText()}const i=this.players.findIndex(t=>t.character===e);if(-1!==i){const e=this.players[i];return e.character=null,e.bigImage&&e.bigImage.setVisible(!1),e.frame&&e.frame.setVisible(!1),this.currentTurn=i,void this.updateTurnText()}const s=this.players[0],a=this.players[1];let r=this.currentTurn;if(null==r)if(!s.character&&a.character)r=0;else if(!a.character&&s.character)r=1;else{if(s.character||a.character)return;r=0}const o=this.players[r],n=this.players[1-r];n.character!==e&&(o.character=e,o.bigImage&&o.bigImage.setTexture(e).setVisible(!0),o.frame&&o.frame.setPosition(t.x,t.y).setVisible(!0),n.character?this.currentTurn=null:this.currentTurn=1-r,this.updateTurnText())}handleNext(){if("local"===this.mode){const e=this.playerInputEls?.[0]?.value?.trim()??"",t=!!this.players?.[0]?.character,i=this.playerInputEls?.[1]?.value?.trim()??"",s=!!this.players?.[1]?.character;if(!(e.length>0&&i.length>0&&t&&s))return this.updateTurnText(),void this.flashTurnText("#b00000",900);this.players[0].name=e,this.players[1].name=i,this.scene.start("SelectScenario_Scene",{mode:this.mode,player1:this.players[0],player2:this.players[1]})}if("online"===this.mode){if(!this.players?.[0]?.character)return this.flashTurnText("#b00000",900),void this.turnText.setText("Debes elegir un personaje primero");this.registry.set("myCharacter",this.players[0].character),this.isHost?this.scene.start("SelectScenario_Scene",{mode:this.mode,player1:this.players[0],isHost:!0}):this.scene.start("Lobby_Scene",{mode:this.mode,player2:this.players[0],isHost:!1})}}flashTurnText(e="#b00000",t=900){if(!this.turnText)return;const i=this.turnText.style.color||"#000000";this.turnText.setColor(e),this.time.delayedCall(t,()=>{this.turnText.setColor(i),this.updateTurnText()})}updateTurnText(){if(this.turnText){if("local"===this.mode){const e=this.playerInputEls?.[0]?.value?.trim()??"",t=this.playerInputEls?.[1]?.value?.trim()??"",i=!!this.players?.[0]?.character,s=!!this.players?.[1]?.character,a=e.length>0,r=t.length>0,o=i&&s,n=a&&r;if(o&&n)return void this.turnText.setText("¡Listo para continuar!");if(o&&!n)return void(a||r?a?this.turnText.setText("Falta el nombre de Jugador 2"):this.turnText.setText("Falta el nombre de Jugador 1"):this.turnText.setText("Faltan los nombres de Jugador 1 y Jugador 2"));if(n&&!o)return void(i||s?i?this.turnText.setText("Falta el personaje de Jugador 2"):this.turnText.setText("Falta el personaje de Jugador 1"):this.turnText.setText("Faltan los personajes de Jugador 1 y Jugador 2"));if(null===this.currentTurn||void 0===this.currentTurn)return void this.turnText.setText("Completa nombres y personajes");this.turnText.setText(`TURNO: Jugador ${this.currentTurn+1}`)}"online"===this.mode&&(this.players?.[0]?.character?this.turnText.setText("Listo: el jugador tiene personaje"):this.turnText.setText("Ningún personaje seleccionado"))}}}class L extends i().Scene{constructor(){super("SelectScenario_Scene"),this.selectedScenario="Gym",this.mode="local"}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("Gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("Playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("Jardin","ASSETS/FONDOS/JARDIN.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3"),this.load.image("marco","/ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png")}init(e){this.player1=e.player1,this.player2=e.player2,this.mode=e.mode||"local",this.isHost=e.isHost||!1}create(){const{width:e,height:t}=this.scale,s=this.game.globals.defaultTextStyle;p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,50,"Selecciona Escenario",{...s,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),this.selectedScenario="Gym",this.selectedImage=this.add.image(e/2,240,this.selectedScenario).setScale(.5);const a=["Gym","Playa","Jardin"],r=e/2-200,o={},n=e=>{this.selectedScenario=e,this.selectedImage.setTexture(e).setScale(.5),a.forEach(t=>{o[t].setTexture(t===e?"botonSeleccionado":"botonSinSeleccionar")})};a.forEach((e,t)=>{const a=this.add.image(r+200*t,440,"botonSinSeleccionar").setInteractive({useHandCursor:!0}).setScale(1.75);o[e]=a;const l=this.add.text(0,0,e,{...s,fontSize:"28px",color:"#000"});i().Display.Align.In.Center(l,a),a.on("pointerover",()=>a.setTexture("botonSeleccionado")),a.on("pointerout",()=>{a.setTexture(this.selectedScenario===e?"botonSeleccionado":"botonSinSeleccionar")}),a.on("pointerdown",()=>m(this,"sonidoClick")),a.on("pointerup",t=>{a.getBounds().contains(t.x,t.y)&&n(e)})}),n(this.selectedScenario);const l=this.add.image(e/2,240,"marco").setOrigin(.5);l.texture.setFilter(i().Textures.FilterMode.NEAREST),l.setDisplaySize(500,300),u(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>{"local"===this.mode?this.scene.start("Game_Scene",{player1:this.player1,player2:this.player2,selectedScenario:this.selectedScenario,mode:this.mode,isHost:this.isHost}):this.scene.start("Lobby_Scene",{player1:this.player1,player2:this.player2,selectedScenario:this.selectedScenario,mode:this.mode,isHost:this.isHost})},scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...s,fontSize:"18px",color:"#000"},clickSoundKey:"sonidoClick"}),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>{this.scene.start("SelectPlayer_Scene",{mode:this.mode,isHost:this.isHost})}})}}(async()=>{document.fonts&&document.fonts.load&&(await Promise.all([document.fonts.load('20px "MiFuente"'),document.fonts.load('20px "VT323"')]),await document.fonts.ready);const e={defaultTextStyle:{fontFamily:"MiFuente",fontSize:"20px",color:"#ffffff"},music:null},t={type:i().AUTO,width:960,height:540,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{x:0,y:300},debug:!1}},dom:{createContainer:!0},callbacks:{preBoot:t=>{t.globals=e}},scene:[g,_,v,I,w,R,P,C,N,L],backgroundColor:"#8675f1"};new(i().Game)(t)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixjQUFlLGNBQ2ZMLFFBQVMsS0FDTDRCLEtBQUs3QyxNQUFNOEUsTUFBTSxxQkFBc0IsQ0FDbkMyZCxLQUFNNWYsS0FBSzRmLEtBQ1hhLE9BQVF6Z0IsS0FBS3lnQixXQUk3QixFQzVKSixXQUVRMEQsU0FBU0MsT0FBU0QsU0FBU0MsTUFBTW5rQixhQUMzQm9rQixRQUFRQyxJQUFJLENBQ2RILFNBQVNDLE1BQU1ua0IsS0FBSyxtQkFDcEJra0IsU0FBU0MsTUFBTW5rQixLQUFLLHdCQUVsQmtrQixTQUFTQyxNQUFNRyxPQUd6QixNQUFNM21CLEVBQVUsQ0FDWnlELGlCQUFrQixDQUFFQyxXQUFZLFdBQVlDLFNBQVUsT0FBUUMsTUFBTyxXQUNyRTlELE1BQU8sTUFHTG9ILEVBQVMsQ0FDWHdELEtBQU0sU0FDTjdHLE1BQU8sSUFDUEMsT0FBUSxJQUNSOGlCLE9BQVEsaUJBQ1J6ZixRQUFTLENBQ0wwZixRQUFTLFNBQ1RDLE9BQVEsQ0FDSkMsUUFBUyxDQUFFMW1CLEVBQUcsRUFBR0MsRUFBRyxLQUNwQjBtQixPQUFPLElBR2Z0SCxJQUFLLENBQ0R1SCxpQkFBaUIsR0FFckJDLFVBQVcsQ0FDUEMsUUFBVXBuQixJQUNOQSxFQUFLQyxRQUFVQSxJQUd2QlQsTUFBTyxDQUFDeUMsRUFBWTZRLEVBQVlnSyxFQUFnQnNCLEVBQXFCbUMsRUFBZVksRUFBZW1CLEVBQWFULEVBQWdCWSxFQUFvQnFELEdBQ3BKdUIsZ0JBQWlCLFdBR1IsSUFBSSxVQUFZbGdCLEVBQ2hDLEVBeENELEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby9leHRlcm5hbCB2YXIgXCJQaGFzZXJcIiIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9VSS9BdWRpby5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9VSS9CdXR0b25zLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9NZW51X1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0VudGl0aWVzL1BsYXllci5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9Db21tYW5kcy9BcHBseVBvd2VyVXBDb21tYW5kLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0VudGl0aWVzL1Bvd2VyVXAuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvRW50aXRpZXMvQmFsbC5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9Db21tYW5kcy9Db21tYW5kUHJvY2Vzc29yLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0NvbW1hbmRzL0NvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvQ29tbWFuZHMvTW92ZVBsYXllckNvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL0dhbWVfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL1R1dG9yaWFsX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9Db25maWd1cmF0aW9uX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9DcmVkaXRzX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9FbmRHYW1lX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9Nb2RlR2FtZV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvUGF1c2VfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL1NlbGVjdFBsYXllcl9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvU2VsZWN0U2NlbmFyaW9fU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFBoYXNlcjsiLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5jb25zdCBTRlhfVk9MVU1FX0tFWSA9ICdzZnhWb2x1bWUnO1xyXG5jb25zdCBNVVNJQ19WT0xVTUVfS0VZID0gJ211c2ljVm9sdW1lJztcclxuY29uc3QgR0xPQkFMX1ZPTFVNRV9LRVkgPSAnZ2xvYmFsVm9sdW1lJztcclxuY29uc3QgTEVHQUNZX1ZPTFVNRV9LRVkgPSAndm9sdW1lJztcclxuXHJcbmZ1bmN0aW9uIHBhcnNlU3RvcmVkVm9sdW1lKHJhdywgZGVmYXVsdFZhbHVlKSB7XHJcbiAgICBjb25zdCB2ID0gTnVtYmVyLnBhcnNlRmxvYXQocmF3ID8/IFN0cmluZyhkZWZhdWx0VmFsdWUpKTtcclxuXHJcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2KSkgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxuXHJcbiAgICByZXR1cm4gUGhhc2VyLk1hdGguQ2xhbXAodiwgMCwgMSk7XHJcbn1cclxuXHJcbi8vLy8gR2V0dGVycyZTZXR0ZXJzIC8vLy9cclxuLy8gT2J0aWVuZSBlbCB2b2x1bWVuIGFsbWFjZW5hZG8gY29uIHVuYSBjbGF2ZVxyXG5mdW5jdGlvbiBnZXRTdG9yZWRWb2x1bWVCeUtleShrZXksIGZhbGxiYWNrS2V5LCBkZWZhdWx0VmFsdWUgPSAxKSB7XHJcbiAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgaWYgKHJhdyAhPT0gbnVsbCkgcmV0dXJuIHBhcnNlU3RvcmVkVm9sdW1lKHJhdywgZGVmYXVsdFZhbHVlKTtcclxuXHJcbiAgICBjb25zdCBmYWxsYmFja1JhdyA9IGZhbGxiYWNrS2V5ID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZmFsbGJhY2tLZXkpIDogbnVsbDtcclxuICAgIGlmIChmYWxsYmFja1JhdyAhPT0gbnVsbCkgcmV0dXJuIHBhcnNlU3RvcmVkVm9sdW1lKGZhbGxiYWNrUmF3LCBkZWZhdWx0VmFsdWUpO1xyXG5cclxuICAgIHJldHVybiBQaGFzZXIuTWF0aC5DbGFtcChkZWZhdWx0VmFsdWUsIDAsIDEpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRMZWdhY3lWb2x1bWUoZGVmYXVsdFZhbHVlID0gMSkge1xyXG4gICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTEVHQUNZX1ZPTFVNRV9LRVkpO1xyXG4gICAgaWYgKHJhdyA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgcmV0dXJuIHBhcnNlU3RvcmVkVm9sdW1lKHJhdywgZGVmYXVsdFZhbHVlKTtcclxufVxyXG5cclxuLy8gQXNlZ3VyYSBxdWUgZXhpc3RhbiBsb3MgdmFsb3JlcyBkZSB2b2x1bWVuIGFsbWFjZW5hZG9zXHJcbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVTdG9yZWRBdWRpb1NldHRpbmdzKGRlZmF1bHRWYWx1ZSA9IDEpIHtcclxuICAgIGNvbnN0IGhhc1NmeCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNGWF9WT0xVTUVfS0VZKSAhPT0gbnVsbDtcclxuICAgIGNvbnN0IGhhc011c2ljID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTVVTSUNfVk9MVU1FX0tFWSkgIT09IG51bGw7XHJcblxyXG4gICAgaWYgKGhhc1NmeCAmJiBoYXNNdXNpYykgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGxlZ2FjeVZvbHVtZSA9IGdldExlZ2FjeVZvbHVtZShkZWZhdWx0VmFsdWUpO1xyXG4gICAgY29uc3QgaW5pdGlhbFZvbHVtZSA9IGxlZ2FjeVZvbHVtZSAmJiBsZWdhY3lWb2x1bWUgPiAwID8gbGVnYWN5Vm9sdW1lIDogZGVmYXVsdFZhbHVlO1xyXG5cclxuICAgIGlmICghaGFzU2Z4KSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTRlhfVk9MVU1FX0tFWSwgU3RyaW5nKGluaXRpYWxWb2x1bWUpKTtcclxuICAgIGlmICghaGFzTXVzaWMpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKE1VU0lDX1ZPTFVNRV9LRVksIFN0cmluZyhpbml0aWFsVm9sdW1lKSk7XHJcbn1cclxuXHJcbi8vIE9idGllbmUgZWwgdm9sdW1lbiBhbG1hY2VuYWRvIHBhcmEgbG9zIGVmZWN0b3MgZGUgc29uaWRvXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdG9yZWRTZnhWb2x1bWUoZGVmYXVsdFZhbHVlID0gMSkge1xyXG4gICAgcmV0dXJuIGdldFN0b3JlZFZvbHVtZUJ5S2V5KFNGWF9WT0xVTUVfS0VZLCBMRUdBQ1lfVk9MVU1FX0tFWSwgZGVmYXVsdFZhbHVlKTtcclxufVxyXG5cclxuLy8gT2J0aWVuZSBlbCB2b2x1bWVuIGFsbWFjZW5hZG8gcGFyYSBsYSBtw7pzaWNhXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdG9yZWRNdXNpY1ZvbHVtZShkZWZhdWx0VmFsdWUgPSAxKSB7XHJcbiAgICByZXR1cm4gZ2V0U3RvcmVkVm9sdW1lQnlLZXkoTVVTSUNfVk9MVU1FX0tFWSwgTEVHQUNZX1ZPTFVNRV9LRVksIGRlZmF1bHRWYWx1ZSk7XHJcbn1cclxuXHJcbi8vIE9idGllbmUgZWwgdm9sdW1lbiBnbG9iYWxcclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0b3JlZEdsb2JhbFZvbHVtZShkZWZhdWx0VmFsdWUgPSAxKSB7XHJcbiAgICByZXR1cm4gZ2V0U3RvcmVkVm9sdW1lQnlLZXkoR0xPQkFMX1ZPTFVNRV9LRVksIG51bGwsIGRlZmF1bHRWYWx1ZSk7XHJcbn1cclxuXHJcbi8vIEFsbWFjZW5hIGVsIHZvbHVtZW4gZ2xvYmFsXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRTdG9yZWRHbG9iYWxWb2x1bWUodm9sdW1lKSB7XHJcbiAgICBjb25zdCB2ID0gUGhhc2VyLk1hdGguQ2xhbXAoTnVtYmVyKHZvbHVtZSksIDAsIDEpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oR0xPQkFMX1ZPTFVNRV9LRVksIFN0cmluZyh2KSk7XHJcbiAgICByZXR1cm4gdjtcclxufVxyXG5cclxuLy8gQWxtYWNlbmEgZWwgdm9sdW1lbiBwYXJhIGxvcyBlZmVjdG9zIGRlIHNvbmlkb1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0U3RvcmVkU2Z4Vm9sdW1lKHZvbHVtZSkge1xyXG4gICAgY29uc3QgdiA9IFBoYXNlci5NYXRoLkNsYW1wKE51bWJlcih2b2x1bWUpLCAwLCAxKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNGWF9WT0xVTUVfS0VZLCBTdHJpbmcodikpO1xyXG5cclxuICAgIHJldHVybiB2O1xyXG59XHJcblxyXG4vLyBBbG1hY2VuYSBlbCB2b2x1bWVuIHBhcmEgbGEgbcO6c2ljYVxyXG5leHBvcnQgZnVuY3Rpb24gc2V0U3RvcmVkTXVzaWNWb2x1bWUodm9sdW1lKSB7XHJcbiAgICBjb25zdCB2ID0gUGhhc2VyLk1hdGguQ2xhbXAoTnVtYmVyKHZvbHVtZSksIDAsIDEpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oTVVTSUNfVk9MVU1FX0tFWSwgU3RyaW5nKHYpKTtcclxuXHJcbiAgICByZXR1cm4gdjtcclxufVxyXG4vLy8vLy8vLy9cclxuXHJcbi8vIEFwbGljYSBlbCB2b2x1bWVuIGFsIFNvdW5kTWFuYWdlciB5IGEgbGEgbcO6c2ljYSBnbG9iYWxcclxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5U3RvcmVkVm9sdW1lKHNjZW5lLCBvcHRpb25zID0ge30pIHtcclxuICAgIGxldCBnbG9iYWxWb2wgPSBnZXRTdG9yZWRHbG9iYWxWb2x1bWUoKTtcclxuICAgIGxldCBzZnhWb2x1bWUgPSBnZXRTdG9yZWRTZnhWb2x1bWUoKTtcclxuICAgIGxldCBtdXNpY1ZvbHVtZSA9IGdldFN0b3JlZE11c2ljVm9sdW1lKCk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHNmeFZvbHVtZSA9IFBoYXNlci5NYXRoLkNsYW1wKE51bWJlcihvcHRpb25zKSwgMCwgMSk7XHJcbiAgICAgICAgbXVzaWNWb2x1bWUgPSBzZnhWb2x1bWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNmeFZvbHVtZSA9IG9wdGlvbnMuc2Z4Vm9sdW1lID8/IHNmeFZvbHVtZTtcclxuICAgICAgICBtdXNpY1ZvbHVtZSA9IG9wdGlvbnMubXVzaWNWb2x1bWUgPz8gbXVzaWNWb2x1bWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2UgdXNhIGVsIHZvbHVtZW4gZ2xvYmFsIGNvbW8gbWFzdGVyXHJcbiAgICBzY2VuZS5zb3VuZC52b2x1bWUgPSBnbG9iYWxWb2w7XHJcblxyXG4gICAgY29uc3QgbXVzaWMgPSBzY2VuZS5nYW1lLmdsb2JhbHMubXVzaWM7XHJcbiAgICBpZiAobXVzaWMgJiYgJ3NldFZvbHVtZScgaW4gbXVzaWMpIHtcclxuICAgICAgICBtdXNpYy5zZXRWb2x1bWUobXVzaWNWb2x1bWUpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBSZXByb2R1Y2UgdW4gc29uaWRvIGRlIGNsaWNrXHJcbmV4cG9ydCBmdW5jdGlvbiBwbGF5Q2xpY2soc2NlbmUsIGtleSA9ICdzb25pZG9DbGljaycpIHtcclxuICAgIHNjZW5lLnNvdW5kLnBsYXkoa2V5LCB7IHZvbHVtZTogZ2V0U3RvcmVkU2Z4Vm9sdW1lKCkgfSk7XHJcbn1cclxuXHJcbi8vIFJlcHJvZHVjZSBsYSBtw7pzaWNhIGRlIGZvbmRvIGVuIGJ1Y2xlXHJcbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVMb29waW5nTXVzaWMoc2NlbmUsIHNvdW5kS2V5LCB7IGxvb3AgPSB0cnVlIH0gPSB7fSkge1xyXG4gICAgY29uc3Qgdm9sdW1lID0gZ2V0U3RvcmVkTXVzaWNWb2x1bWUoKTtcclxuICAgIGxldCBtdXNpYyA9IHNjZW5lLmdhbWUuZ2xvYmFscy5tdXNpYztcclxuICAgIGlmICghbXVzaWMpIHtcclxuICAgICAgICBtdXNpYyA9IHNjZW5lLnNvdW5kLmFkZChzb3VuZEtleSwgeyBsb29wLCB2b2x1bWUgfSk7XHJcbiAgICAgICAgc2NlbmUuZ2FtZS5nbG9iYWxzLm11c2ljID0gbXVzaWM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2UgYWN0dWFsaXphIHZvbHVtZW4gc2kgZWwgdGlwbyBsbyBzb3BvcnRhXHJcbiAgICBpZiAobXVzaWMgJiYgJ3NldFZvbHVtZScgaW4gbXVzaWMpIG11c2ljLnNldFZvbHVtZSh2b2x1bWUpO1xyXG5cclxuICAgIGNvbnN0IHRyeVBsYXkgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFtdXNpYyB8fCAhKCdwbGF5JyBpbiBtdXNpYykpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gbm8gc2UgcmVpbmljaWEgc2kgeWEgZXN0PyBzb25hbmRvXHJcbiAgICAgICAgaWYgKCdpc1BsYXlpbmcnIGluIG11c2ljICYmIG11c2ljLmlzUGxheWluZykgcmV0dXJuO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBtdXNpYy5wbGF5KCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0F1ZGlvLmpzXSBObyBzZSBoYSBwb2RpZG8gcmVwcm9kdWNpciB0b2Rhdj9hIGxhIG0/c2ljYS4nLCBlcnIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gcHJpbWVybyBzZSBpbnRlbnRhIHJlcHJvZHVjaXIgbmFkYSBtw6FzIGNhcmdhclxyXG4gICAgdHJ5UGxheSgpO1xyXG5cclxuICAgIC8vIHNpbm8sIHNlIHJlaW50ZW50YSB0cmFzIGxhIHByaW1lcmEgaW50ZXJhY2Npw7NuL2NsaWNrXHJcbiAgICBzY2VuZS5pbnB1dC5vbmNlKCdwb2ludGVyZG93bicsIGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCBjdHggPSBzY2VuZS5zb3VuZC5jb250ZXh0O1xyXG4gICAgICAgIGlmIChjdHggJiYgY3R4LnN0YXRlID09PSAnc3VzcGVuZGVkJykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgY3R4LnJlc3VtZSgpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIHsgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0cnlQbGF5KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbXVzaWM7XHJcbn1cclxuIiwiaW1wb3J0IHsgcGxheUNsaWNrIH0gZnJvbSAnLi9BdWRpby5qcyc7XHJcblxyXG4vLyBDcmVhIHVuIGJvdMOzbiBiYXNlIHBhcmEgbGEgVUlcclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVJQnV0dG9uKHNjZW5lLCB7XHJcbiAgICB4LCB5LFxyXG4gICAgbGFiZWwsXHJcbiAgICBvbkNsaWNrLFxyXG4gICAgdGV4dHVyZU5vcm1hbCA9ICdib3RvblNpblNlbGVjY2lvbmFyJyxcclxuICAgIHRleHR1cmVIb3ZlciA9ICdib3RvblNlbGVjY2lvbmFkbycsXHJcbiAgICBzY2FsZSA9IDIsXHJcbiAgICB0ZXh0U3R5bGUgPSB7fSxcclxuICAgIGNsaWNrU291bmRLZXkgPSAnc29uaWRvQ2xpY2snLFxyXG59KSB7XHJcbiAgICBjb25zdCBidXR0b24gPSBzY2VuZS5hZGQuc3ByaXRlKHgsIHksIHRleHR1cmVOb3JtYWwpXHJcbiAgICAgICAgLnNldFNjYWxlKHNjYWxlKVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgY29uc3QgdGV4dCA9IHNjZW5lLmFkZC50ZXh0KHgsIHksIGxhYmVsLCB0ZXh0U3R5bGUpLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIGV2ZW50b3MgZGVsIGJvdMOzblxyXG4gICAgY29uc3Qgc2V0Tm9ybWFsID0gKCkgPT4gYnV0dG9uLnNldFRleHR1cmUodGV4dHVyZU5vcm1hbCk7XHJcbiAgICBjb25zdCBzZXRIb3ZlciA9ICgpID0+IGJ1dHRvbi5zZXRUZXh0dXJlKHRleHR1cmVIb3Zlcik7XHJcblxyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsIHNldEhvdmVyKTtcclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcm91dCcsIHNldE5vcm1hbCk7XHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgIHNldEhvdmVyKCk7XHJcbiAgICAgICAgcGxheUNsaWNrKHNjZW5lLCBjbGlja1NvdW5kS2V5KTtcclxuICAgIH0pO1xyXG4gICAgLy8gc29sbyBzZSBsYW56YSBzaSBzZSBzdWVsdGEgZW5jaW1hXHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJ1cCcsIChwb2ludGVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5zaWRlID0gYnV0dG9uLmdldEJvdW5kcygpLmNvbnRhaW5zKHBvaW50ZXIueCwgcG9pbnRlci55KTtcclxuICAgICAgICBpZiAoIWluc2lkZSkgeyBcclxuICAgICAgICAgICAgc2V0Tm9ybWFsKCk7IFxyXG4gICAgICAgICAgICByZXR1cm47IFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0SG92ZXIoKTtcclxuICAgICAgICBvbkNsaWNrPy4oKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB7IGJ1dHRvbiwgdGV4dCB9O1xyXG59XHJcblxyXG4vLyBDcmVhIHVuIGJvdMOzbiBiYXNlIGNvbiB1biBpY29ubyAoY29tbyBlbCBkZSB2b2x2ZXIgYXRyw6FzKVxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSWNvbkJ1dHRvbihzY2VuZSwgb3B0aW9ucykge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICAgIHgsIHksXHJcbiAgICAgICAgdGV4dHVyZSxcclxuICAgICAgICBvbkNsaWNrLFxyXG4gICAgICAgIHNjYWxlID0gMSxcclxuICAgICAgICBob3ZlclNjYWxlID0gMS4xLFxyXG4gICAgICAgIGNsaWNrU291bmRLZXkgPSAnc29uaWRvQ2xpY2snLFxyXG4gICAgfSA9IG9wdGlvbnM7XHJcblxyXG4gICAgY29uc3QgYnV0dG9uID0gc2NlbmUuYWRkXHJcbiAgICAgICAgLnNwcml0ZSh4LCB5LCB0ZXh0dXJlKVxyXG4gICAgICAgIC5zZXRTY2FsZShzY2FsZSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgIC8vIGV2ZW50b3MgZGVsIGJvdMOzblxyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJ1dHRvbi5zZXRTY2FsZShzY2FsZSAqIGhvdmVyU2NhbGUpKTtcclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IGJ1dHRvbi5zZXRTY2FsZShzY2FsZSkpO1xyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICBwbGF5Q2xpY2soc2NlbmUsIGNsaWNrU291bmRLZXkpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBzb2xvIHNlIGxhbnphIHNpIHNlIHN1ZWx0YSBlbmNpbWFcclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcnVwJywgKHBvaW50ZXIpID0+IHtcclxuICAgICAgICBjb25zdCBpbnNpZGUgPSBidXR0b24uZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnRlci54LCBwb2ludGVyLnkpO1xyXG4gICAgICAgIGlmICghaW5zaWRlKSByZXR1cm47XHJcbiAgICAgICAgb25DbGljaygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGJ1dHRvbjtcclxufVxyXG4iLCIvLyBQYW50YWxsYSBkZWwgTWVuw7ogUHJpbmNpcGFsXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xuaW1wb3J0IHsgZW5zdXJlTG9vcGluZ011c2ljLCBhcHBseVN0b3JlZFZvbHVtZSB9IGZyb20gJy4uL1VJL0F1ZGlvLmpzJztcblxuZXhwb3J0IGNsYXNzIE1lbnVfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignTWVudV9TY2VuZScpO1xuICAgIH1cblxuICAgIHByZWxvYWQoKSB7XG4gICAgICAgIC8vIGJvdG9uZXNcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX0dfU0VMRUNDSU9OQURPLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9HLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvTWVudVByaW5jaXBhbCcsICdBU1NFVFMvRk9ORE9TL01FTlVfUFJJTkNJUEFMLnBuZycpO1xuXG4gICAgICAgIC8vIGxvZ29cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsb2dvRW1wcmVzYScsICdBU1NFVFMvTE9HTy9sb2dvX2VtcHJlc2EucG5nJyk7XG5cbiAgICAgICAgLy8gYXVkaW9cbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9HZW5lcmFsJywgJ0FTU0VUUy9TT05JRE8vU09OSURPMS5tcDMnKTtcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gbcO6c2ljYSBkZSBmb25kb1xuICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcbiAgICAgICAgZW5zdXJlTG9vcGluZ011c2ljKHRoaXMsICdzb25pZG9HZW5lcmFsJywgeyBsb29wOiB0cnVlIH0pO1xuXG4gICAgICAgIC8vIGVzdGlsbyBiYXNlIGRlbCB0ZXh0b1xuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzPy5kZWZhdWx0VGV4dFN0eWxlID8/IHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgLy8gbGF5b3V0XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcbiAgICAgICAgY29uc3QgcmlnaHRIYWxmWCA9IGNlbnRlclggKyAoY2VudGVyWCAvIDIpO1xuXG4gICAgICAgIC8vIGZvbmRvIGFqdXN0YWRvIGFsIGNhbnZhc1xuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvTWVudVByaW5jaXBhbCcpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpO1xuICAgICAgICBiYWNrZ3JvdW5kLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBcbiAgICAgICAgLy8gdMOtdHVsbyBkZWwganVlZ29cbiAgICAgICAgdGhpcy5hZGQudGV4dChyaWdodEhhbGZYLCAxMTUsICdWb2xsZXkgQ2xhc2gnLCB7XG4gICAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjhweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIC8vLy8gQk9UT05FUyAvLy8vXG4gICAgICAgIGNvbnN0IGZpcnN0QnV0dG9uWSA9IGhlaWdodCAvIDIgLSA2MztcbiAgICAgICAgY29uc3QgYnV0dG9uU3BhY2luZyA9IDcwO1xuICAgICAgICBjb25zdCBidXR0b25UZXh0U3R5bGUgPSB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzI4cHgnLCBjb2xvcjogJyMwMDAwMDAnIH07XG5cbiAgICAgICAgLy8gYm90w7NuIEp1Z2FyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHJpZ2h0SGFsZlgsXG4gICAgICAgICAgICB5OiBmaXJzdEJ1dHRvblksXG4gICAgICAgICAgICBsYWJlbDogJ0p1Z2FyJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01vZGVHYW1lX1NjZW5lJyksXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGJvdMOzbiBUdXRvcmlhbFxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiByaWdodEhhbGZYLFxuICAgICAgICAgICAgeTogZmlyc3RCdXR0b25ZICsgYnV0dG9uU3BhY2luZyxcbiAgICAgICAgICAgIGxhYmVsOiAnVHV0b3JpYWwnLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnVHV0b3JpYWxfU2NlbmUnLCB7IHJldHVyblNjZW5lOiAnTWVudV9TY2VuZScgfSksXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGJvdMOzbiBDb25maWd1cmFjacOzblxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiByaWdodEhhbGZYLFxuICAgICAgICAgICAgeTogZmlyc3RCdXR0b25ZICsgYnV0dG9uU3BhY2luZyAqIDIsXG4gICAgICAgICAgICBsYWJlbDogJ0NvbmZpZ3VyYWNpw7NuJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ0NvbmZpZ3VyYXRpb25fU2NlbmUnKSxcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYm90w7NuIENyw6lkaXRvc1xuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiByaWdodEhhbGZYLFxuICAgICAgICAgICAgeTogZmlyc3RCdXR0b25ZICsgYnV0dG9uU3BhY2luZyAqIDMsXG4gICAgICAgICAgICBsYWJlbDogJ0Nyw6lkaXRvcycsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdDcmVkaXRzX1NjZW5lJyksXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXG4gICAgICAgIH0pO1xuICAgICAgICAvLy8vLy8vLy9cblxuICAgICAgICAvLyBsb2dvIGRlIGxhIGVtcHJlc2FcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UodGhpcy5zY2FsZS53aWR0aCAtIDIwLCB0aGlzLnNjYWxlLmhlaWdodCAtIDIwLCAnbG9nb0VtcHJlc2EnKVxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNDIpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDEsIDEpO1xuICAgIH1cbn1cbiIsIi8vIENsYXNlIGRlIGxhIGVudGlkYWQgXCJwZXJzb25hamVcIiwgc2UgdGllbmUgZW4gY3VlbnRhIHF1ZSBzb24gMyBwZXJzb25hamVzIGRpc3RpbnRvc1xyXG5cclxuY29uc3QgUE9XRVJVUF9EVVJBVElPTl9NUyA9IHtcclxuICB2ZWxvY2lkYWQ6IDQwMDAsXHJcbiAgcmFsZW50aXphcjogNDAwMCxcclxuICBwYXJhbGl6YXI6IDI1MDAsXHJcbiAgcG9yMjogNDAwMCxcclxuICBwb3IzOiA0MDAwLFxyXG59O1xyXG5cclxuY29uc3QgU1BFRURfTVVMVCA9IHtcclxuICB2ZWxvY2lkYWQ6IDEuNSxcclxuICByYWxlbnRpemFyOiAwLjUsXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWVyIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHgsIHksIGNoYXJhY3RlclR5cGUpIHtcclxuICAgICAgICAvLyBJTklDSUFMSVpBQ0nDk05cclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkOyAgICAgICAgICAgICAgICAgICAgICAgLy8gaWRlbnRpZmljYWRvciBkZWwganVnYWRvciAoUDEsIFAyKVxyXG4gICAgICAgIHRoaXMuY2hhcmFjdGVyVHlwZSA9IGNoYXJhY3RlclR5cGU7IC8vIGluZGljYSBxdcOpIHBlcnNvbmFqZSBzZSBoYSBlbGVnaWRvXHJcblxyXG4gICAgICAgIC8vIHZlbG9jaWRhZCBkZSBtb3ZpbWllbnRvXHJcbiAgICAgICAgdGhpcy5iYXNlTW92ZVNwZWVkID0gMjUwO1xyXG4gICAgICAgIHRoaXMubW92ZVNwZWVkID0gdGhpcy5iYXNlTW92ZVNwZWVkO1xyXG5cclxuICAgICAgICB0aGlzLmp1bXBTcGVlZCA9IDI3NTsgICAvLyBmdWVyemEgZGUgc2FsdG9cclxuXHJcbiAgICAgICAgdGhpcy5hY3RpdmVQb3dlclVwcyA9IHt9OyAgIC8vIHBvd2VydXBzIGFjdGl2b3NcclxuXHJcbiAgICAgICAgLy8gZXN0YWRvcyBkZSBwb3dlci11cHNcclxuICAgICAgICB0aGlzLmlzUGFyYWx5emVkID0gZmFsc2U7ICAgICAgIC8vIHBhcmEgZWwgcG93ZXIgdXAgXCJwYXJhbGl6YXJcIlxyXG4gICAgICAgIHRoaXMucGFyYWx5c2lzVHdlZW4gPSBudWxsOyAgICAgLy8gYWwgcXVlZGFyc2UgcGFyYWxpemFkbyAtPiByb2pvXHJcbiAgICAgICAgdGhpcy5zcGVlZEVmZmVjdEFjdGl2ZSA9IGZhbHNlOyAvLyB2ZWxvY2lkYWQgLT4gY2lhbi92ZXJkZVxyXG4gICAgICAgIHRoaXMuc2xvd0VmZmVjdEFjdGl2ZSA9IGZhbHNlOyAgLy8gcmFsZW50aXphZG8gLT4gYXp1bFxyXG5cclxuICAgICAgICB0aGlzLnNjb3JlTXVsdGlwbGllciA9IDE7ICAgICAgIC8vIHBhcmEgcG9yMiAvIHBvcjNcclxuICAgICAgICAvLyB0ZXh0byBmbG90YW50ZSBwYXJhIG1vc3RyYXIgeDIgLyB4M1xyXG4gICAgICAgIHRoaXMubXVsdGlwbGllclRleHQgPSB0aGlzLnNjZW5lLmFkZC50ZXh0KHgsIHkgLSA1MCwgJycsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41LCAxKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMjApXHJcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnBvd2VyVXBJbnZlbnRvcnkgPSBbXTsgLy8gbcOheGltbyAyXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IGZhbHNlOyAgIC8vIGVzdGFkbyBkZSByZWNlcGNpw7NuXHJcblxyXG4gICAgICAgIC8vIGzDrW1pdGVzIGRlIG1vdmltaWVudG8gcGVyc29uYWxpemFkb3NcclxuICAgICAgICB0aGlzLmJvdW5kc0xlZnQgPSAwO1xyXG4gICAgICAgIHRoaXMuYm91bmRzUmlnaHQgPSA5NjA7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNUb3AgPSAwO1xyXG4gICAgICAgIHRoaXMuYm91bmRzQm90dG9tID0gNTQwO1xyXG5cclxuICAgICAgICAvLyBjb25maWd1cmFjacOzbiBkZSBsb3Mgc3ByaXRlcyB5IGxhcyBhbmltYWNpb25lcyBzZWfDum4gZWwgcGVyc29uYWplIGVsZWdpZG9cclxuICAgICAgICBjb25zdCBDSEFSQUNURVJfQ09ORklHID0ge1xyXG4gICAgICAgICAgICAvLyBlcXVpbGlicmFkbyB5IHNpbXDDoXRpY29cclxuICAgICAgICAgICAgY2hhcmFjdGVyQToge1xyXG4gICAgICAgICAgICAgICAgdGV4dHVyZUtleTogJ2NoYXJBX21vdmUnLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRGcmFtZTogMCxcclxuICAgICAgICAgICAgICAgIGlkbGVMZWZ0QW5pbTogJ2NoYXJBX2lkbGVMZWZ0JyxcclxuICAgICAgICAgICAgICAgIGlkbGVSaWdodEFuaW06ICdjaGFyQV9pZGxlUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgcnVuTGVmdEFuaW06ICdjaGFyQV9ydW5MZWZ0JyxcclxuICAgICAgICAgICAgICAgIHJ1blJpZ2h0QW5pbTogJ2NoYXJBX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIGp1bXBMZWZ0QW5pbTogJ2NoYXJBX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgICAgIGp1bXBSaWdodEFuaW06ICdjaGFyQV9qdW1wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZUxlZnRBbmltOiAnY2hhckFfcmVjZWl2ZUxlZnQnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZVJpZ2h0QW5pbTogJ2NoYXJBX3JlY2VpdmVSaWdodCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gcsOhcGlkbyB5IGNvbXBldGl0aXZvXHJcbiAgICAgICAgICAgIGNoYXJhY3RlckI6IHtcclxuICAgICAgICAgICAgICAgIHRleHR1cmVLZXk6ICdjaGFyQl9tb3ZlJyxcclxuICAgICAgICAgICAgICAgIHN0YXJ0RnJhbWU6IDAsXHJcbiAgICAgICAgICAgICAgICBpZGxlTGVmdEFuaW06ICdjaGFyQl9pZGxlTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBpZGxlUmlnaHRBbmltOiAnY2hhckJfaWRsZVJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHJ1bkxlZnRBbmltOiAnY2hhckJfcnVuTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBydW5SaWdodEFuaW06ICdjaGFyQl9ydW5SaWdodCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wTGVmdEFuaW06ICdjaGFyQl9qdW1wTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wUmlnaHRBbmltOiAnY2hhckJfanVtcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVMZWZ0QW5pbTogJ2NoYXJCX3JlY2VpdmVMZWZ0JyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVSaWdodEFuaW06ICdjaGFyQl9yZWNlaXZlUmlnaHQnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGRpdmVydGlkbyB5IGFsZ28gZGlzdHJhw61kb1xyXG4gICAgICAgICAgICBjaGFyYWN0ZXJDOiB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0dXJlS2V5OiAnY2hhckNfbW92ZScsXHJcbiAgICAgICAgICAgICAgICBzdGFydEZyYW1lOiAwLFxyXG4gICAgICAgICAgICAgICAgaWRsZUxlZnRBbmltOiAnY2hhckNfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICAgICAgaWRsZVJpZ2h0QW5pbTogJ2NoYXJDX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgICAgICBydW5MZWZ0QW5pbTogJ2NoYXJDX3J1bkxlZnQnLFxyXG4gICAgICAgICAgICAgICAgcnVuUmlnaHRBbmltOiAnY2hhckNfcnVuUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAganVtcExlZnRBbmltOiAnY2hhckNfanVtcExlZnQnLFxyXG4gICAgICAgICAgICAgICAganVtcFJpZ2h0QW5pbTogJ2NoYXJDX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlTGVmdEFuaW06ICdjaGFyQ19yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlUmlnaHRBbmltOiAnY2hhckNfcmVjZWl2ZVJpZ2h0J1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gc2kgdmllbmUgdW4gdGlwbyBkZSBwZXJzb25hamUgaW52w6FsaWRvLCBzZSB1c2EgY2hhcmFjdGVyQSBwb3IgZGVmZWN0b1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gQ0hBUkFDVEVSX0NPTkZJR1tjaGFyYWN0ZXJUeXBlXSB8fCBDSEFSQUNURVJfQ09ORklHLmNoYXJhY3RlckE7XHJcblxyXG4gICAgICAgIC8vIHNlIGNyZWEgZWwgc3ByaXRlIGbDrXNpY28gZGVsIGp1Z2Fkb3JcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKFxyXG4gICAgICAgICAgICB4LFxyXG4gICAgICAgICAgICB5LFxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy50ZXh0dXJlS2V5LFxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5zdGFydEZyYW1lXHJcbiAgICAgICAgKTtcclxuICAgICAgICAvLyBzZSBoYWNlIHVuIHBvY28gbcOhcyBncmFuZGVcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSgyLjUpO1xyXG4gICAgICAgIC8vIHNlIGFqdXN0YSBsYSBoaXRib3ggYWwgbnVldm8gdGFtYcOxbyBwYXJhIGxhcyBjb2xpc2lvbmVzLCBzZSByZWR1Y2VuXHJcbiAgICAgICAgLy90aGlzLnNwcml0ZS5ib2R5LnNldFNpemUodGhpcy5zcHJpdGUud2lkdGgsIHRoaXMuc3ByaXRlLmhlaWdodCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRTaXplKHRoaXMuc3ByaXRlLndpZHRoICogMC45LCB0aGlzLnNwcml0ZS5oZWlnaHQgKiAwLjksIHRydWUpO1xyXG5cclxuICAgICAgICAvLyBzZSBndWFyZGEgdW5hIHJlZmVyZW5jaWEgaGFjaWEgUGxheWVyIGRlbnRybyBkZWwgcHJvcGlvIHNwcml0ZVxyXG4gICAgICAgIC8vIChlcyDDunRpbCBzaSBlbiBjb2xpc2lvbmVzIHNlIHF1aWVyZSBhY2NlZGVyIGEgbGEgbMOzZ2ljYSlcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREYXRhKCdwbGF5ZXInLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gcGFyYSBjb250cm9sYXIgZGlyZWNjacOzbiBhY3R1YWxcclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcblxyXG4gICAgICAgIC8vIGVzdGFkbyBzaW1wbGU6IGVuIGVsIGFpcmUgbyBub1xyXG4gICAgICAgIHRoaXMuaXNPbkdyb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGZsYWcgcGFyYSBzYWJlciBzaSBlc3TDoSBlbiBhbmltYWNpw7NuIGRlIHNhbHRvXHJcbiAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICAvLyB0aW1lc3RhbXAgcGFyYSBkZXRlY3RhciBzaSBpc0p1bXBpbmcgc2UgcXVlZGEgc3R1Y2sgKHRpbWVvdXQgZGUgMSBzZWd1bmRvKVxyXG4gICAgICAgIHRoaXMuanVtcFN0YXJ0VGltZSA9IDA7XHJcblxyXG4gICAgICAgIC8vIGN1YW5kbyBzZSB0ZXJtaW5lIGxhIGFuaW1hY2nDs24gZGUgcmVjaWJpciwgc2UgZGVqYSBkZSBcImVzdGFyIHJlY2liaWVuZG9cIlxyXG4gICAgICAgIHRoaXMuc3ByaXRlLm9uKCdhbmltYXRpb25jb21wbGV0ZScsIChhbmltKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbS5rZXkgPT09IHRoaXMuY29uZmlnLnJlY2VpdmVMZWZ0QW5pbSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGFuaW0ua2V5ID09PSB0aGlzLmNvbmZpZy5yZWNlaXZlUmlnaHRBbmltXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZWwgc2FsdG8gdGVybWluYSBzZWfDum4gbGEgZsOtc2ljYSArIHVwZGF0ZSgpLCBubyBwb3IgbGEgYW5pbWFjacOzbi5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEFuaW1hdGlvbiBjb21wbGV0ZSBoYW5kbGVyIGVycm9yIGZvciAke2FuaW0ua2V5fTpgLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGVscGVyIHBhcmEgdmVyaWZpY2FyIHNpIGVzdMOhIGVuIGVsIHN1ZWxvIGRlIGZvcm1hIGZpYWJsZVxyXG4gICAgaXNHcm91bmRlZCgpIHtcclxuICAgICAgICBjb25zdCBib2R5ID0gdGhpcy5zcHJpdGUuYm9keTtcclxuICAgICAgICBpZiAoIWJvZHkpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gYmxvY2tlZC5kb3duIOKGkiBjb2xpc2lvbmVzIGNvbiBsw61taXRlcyBkZWwgbXVuZG9cclxuICAgICAgICAvLyB0b3VjaGluZy5kb3duIOKGkiBjb2xpc2lvbmVzIGNvbiBvdHJvcyBjdWVycG9zXHJcbiAgICAgICAgcmV0dXJuIGJvZHkuYmxvY2tlZC5kb3duIHx8IGJvZHkudG91Y2hpbmcuZG93bjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb21wcnVlYmEgc2kgbG9zIHBpZXMgZGVsIGp1Z2Fkb3IgZXN0w6FuIGNlcmNhIGRlbCBzdWVsb1xyXG4gICAgaXNOZWFyR3JvdW5kKHRocmVzaG9sZCA9IDEyKSB7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMuc3ByaXRlLmJvZHk7XHJcbiAgICAgICAgaWYgKCFib2R5KSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNjZW5lLmdyb3VuZFkgIT09ICdudW1iZXInKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHBhcnRlIGluZmVyaW9yIGRlbCBib2R5IChubyBkZWwgc3ByaXRlIGVzY2FsYWRvKVxyXG4gICAgICAgIGNvbnN0IGZlZXRZID0gYm9keS55ICsgYm9keS5oZWlnaHQ7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGZlZXRZIC0gdGhpcy5zY2VuZS5ncm91bmRZKSA8PSB0aHJlc2hvbGQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8vLyBBTklNQUNJT05FUyAvLy8vXHJcbiAgICAvLyBNb3ZpbWllbnRvIGRlbCBwZXJzb25hamUgaGFjaWEgbGEgaXpxdWllcmRhXHJcbiAgICBtb3ZlTGVmdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCB8fCB0aGlzLmlzUmVjZWl2aW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgtdGhpcy5tb3ZlU3BlZWQpO1xyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gJ2xlZnQnO1xyXG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5ydW5MZWZ0QW5pbSk7XHJcbiAgICB9XHJcbiAgICAvLyBNb3ZpbWllbnRvIGRlbCBwZXJzb25hamUgaGFjaWEgbGEgZGVyZWNoYVxyXG4gICAgbW92ZVJpZ2h0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkIHx8IHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKHRoaXMubW92ZVNwZWVkKTtcclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLnJ1blJpZ2h0QW5pbSk7XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIC8vIFNhbHRvL3JlbWF0ZSBkZWwgcGVyc29uYWplIGhhY2lhIGxhIGl6cXVpZXJkYVxyXG4gICAganVtcExlZnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNHcm91bmRlZCgpIHx8IHRoaXMuaXNOZWFyR3JvdW5kKDIwKSkge1xyXG4gICAgICAgICAgICAvLyBwb3Igc2kgdW5hIHJlY2VwY2nDs24gc2UgcXVlZMOzIGEgbWVkaWFzLCBzZSBjYW5jZWxhXHJcbiAgICAgICAgICAgIHRoaXMuaXNSZWNlaXZpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5qdW1wU3RhcnRUaW1lID0gdGhpcy5zY2VuZS50aW1lLm5vdztcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlZKC10aGlzLmp1bXBTcGVlZCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcuanVtcExlZnRBbmltKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZT8ucGxheVNmeD8uKHRoaXMuc2NlbmU/LnNmeD8uanVtcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gU2FsdG8vcmVtYXRlIGRlbCBwZXJzb25hamUgaGFjaWEgbGEgZGVyZWNoYVxyXG4gICAganVtcFJpZ2h0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzR3JvdW5kZWQoKSB8fCB0aGlzLmlzTmVhckdyb3VuZCgyMCkpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmp1bXBTdGFydFRpbWUgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVkoLXRoaXMuanVtcFNwZWVkKTtcclxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSAncmlnaHQnO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcuanVtcFJpZ2h0QW5pbSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmU/LnBsYXlTZng/Lih0aGlzLnNjZW5lPy5zZng/Lmp1bXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWNlcGNpw7NuIGRlbCBwZXJzb25hamUgcG9yIGxhIGl6cXVpZXJkYVxyXG4gICAgcmVjZWl2ZUxlZnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy5pc1JlY2VpdmluZykgcmV0dXJuOyAvLyBubyBzZSByZWluaWNpYSBzaSB5YSBlc3TDoSByZWNpYmllbmRvIFxyXG5cclxuICAgICAgICAvLyBzaSBlc3TDoSB0b2NhbmRvIGVsIHN1ZWxvLCByZWNpYmUgbGEgcGVsb3RhXHJcbiAgICAgICAgaWYgKHRoaXMuaXNHcm91bmRlZCgpIHx8IHRoaXMuaXNOZWFyR3JvdW5kKDIwKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9ICdsZWZ0JztcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLnJlY2VpdmVMZWZ0QW5pbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gUmVjZXBjacOzbiBkZWwgcGVyc29uYWplIHBvciBsYSBkZXJlY2hhXHJcbiAgICByZWNlaXZlUmlnaHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy5pc1JlY2VpdmluZykgcmV0dXJuOyAvLyBubyBzZSByZWluaWNpYSBzaSB5YSBlc3TDoSByZWNpYmllbmRvIFxyXG5cclxuICAgICAgICAvLyBzaSBlc3TDoSB0b2NhbmRvIGVsIHN1ZWxvLCByZWNpYmUgbGEgcGVsb3RhXHJcbiAgICAgICAgaWYgKHRoaXMuaXNHcm91bmRlZCgpIHx8IHRoaXMuaXNOZWFyR3JvdW5kKDIwKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5yZWNlaXZlUmlnaHRBbmltKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUGVyc29uYWplIGlkbGUgaXpkYVxyXG4gICAgaWRsZUxlZnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gc2llbXByZSBkZXRlbmVyIGxhIHZlbG9jaWRhZCBob3Jpem9udGFsIGFsIGVudHJhciBlbiBpZGxlXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gJ2xlZnQnO1xyXG4gICAgICAgIC8vIHJlcHJvZHVjaXIgbGEgYW5pbWFjacOzbiBkZSBpZGxlXHJcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLmlkbGVMZWZ0QW5pbSk7XHJcbiAgICB9XHJcbiAgICAvLyBQZXJzb25hamUgaWRsZSBkY2hhXHJcbiAgICBpZGxlUmlnaHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gc2llbXByZSBkZXRlbmVyIGxhIHZlbG9jaWRhZCBob3Jpem9udGFsIGFsIGVudHJhciBlbiBpZGxlXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gJ3JpZ2h0JztcclxuICAgICAgICAvLyByZXByb2R1Y2lyIGxhIGFuaW1hY2nDs24gZGUgaWRsZVxyXG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5pZGxlUmlnaHRBbmltKTtcclxuICAgIH1cclxuICAgIC8vLy8vLy8vXHJcblxyXG4gICAgLy8gRXN0YWJsZWNlciBsb3MgbMOtbWl0ZXMgZGUgbW92aW1pZW50byBkZWwganVnYWRvciAocGFyYSBjb25maW5hciBhIGxhIGNhbmNoYSlcclxuICAgIHNldEJvdW5kcyhsZWZ0LCByaWdodCwgdG9wLCBib3R0b20pIHtcclxuICAgICAgICB0aGlzLmJvdW5kc0xlZnQgPSBsZWZ0O1xyXG4gICAgICAgIHRoaXMuYm91bmRzUmlnaHQgPSByaWdodDtcclxuICAgICAgICB0aGlzLmJvdW5kc1RvcCA9IHRvcDtcclxuICAgICAgICB0aGlzLmJvdW5kc0JvdHRvbSA9IGJvdHRvbTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNYW50ZW5lciBlbCBqdWdhZG9yIGRlbnRybyBkZSBsb3MgbMOtbWl0ZXNcclxuICAgIGNsYW1wV2l0aGluQm91bmRzKCkge1xyXG4gICAgICAgIGNvbnN0IGhhbGZXaWR0aCA9IHRoaXMuc3ByaXRlLndpZHRoIC8gMjtcclxuICAgICAgICAvLyBsaW1pdGFyIHBvc2ljacOzbiBob3Jpem9udGFsIChYKVxyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS54IC0gaGFsZldpZHRoIDwgdGhpcy5ib3VuZHNMZWZ0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnggPSB0aGlzLmJvdW5kc0xlZnQgKyBoYWxmV2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLnggKyBoYWxmV2lkdGggPiB0aGlzLmJvdW5kc1JpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnggPSB0aGlzLmJvdW5kc1JpZ2h0IC0gaGFsZldpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE1vdmVyIGVsIGp1Z2Fkb3IgYSB1bmEgcG9zaWNpw7NuIGNvbmNyZXRhICh5IGRldGVuZXJsbylcclxuICAgIC8vIChzZSBsbGFtYSBhbCBjYW1iaWFyIGRlIHNldHMpXHJcbiAgICBzZXRQb3NpdGlvbih4LCB5KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNwcml0ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRQb3NpdGlvbih4LCB5KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTsgLy8gcG9yIHNpIHZlbsOtYSBjb24gdmVsb2NpZGFkXHJcblxyXG4gICAgICAgIC8vIGFjdHVhbGl6YXIgdGFtYmnDqW4gbGEgcG9zaWNpw7NuIGRlbCB0ZXh0byB4Mi94M1xyXG4gICAgICAgIHRoaXMudXBkYXRlTXVsdGlwbGllclRleHRQb3NpdGlvbigpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB1cGRhdGVNdWx0aXBsaWVyVGV4dFBvc2l0aW9uKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tdWx0aXBsaWVyVGV4dCB8fCAhdGhpcy5zcHJpdGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gYWx0dXJhIOKAnHZpc3VhbOKAnSBkZWwgc3ByaXRlIHBhcmEgY29sb2NhciBlbCB0ZXh0byBlbmNpbWEgZGUgbGEgY2FiZXphXHJcbiAgICAgICAgY29uc3QgZGlzcGxheUggPSB0aGlzLnNwcml0ZS5kaXNwbGF5SGVpZ2h0IHx8IHRoaXMuc3ByaXRlLmhlaWdodCB8fCA0MDtcclxuICAgICAgICBjb25zdCBvZmZzZXRZID0gZGlzcGxheUggKiAwLjY7IC8vIGFqdXN0YSBzaSBxdWllcmVzIG3DoXMgYXJyaWJhL2FiYWpvXHJcblxyXG4gICAgICAgIHRoaXMubXVsdGlwbGllclRleHQuc2V0UG9zaXRpb24oXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLngsXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnkgLSBvZmZzZXRZXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXByb2R1Y2UgdW5hIGFuaW1hY2nDs24gc2kgZXhpc3RlIChzb2xvIHNpIG5vIGVzdMOhIHlhIHJlcHJvZHVjacOpbmRvc2UpXHJcbiAgICBwbGF5QW5pbWF0aW9uKGFuaW1LZXkpIHtcclxuICAgICAgICBpZiAoIWFuaW1LZXkpIHJldHVybjtcclxuICAgICAgICBpZiAoIXRoaXMuc3ByaXRlLmFuaW1zKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIHNpIGVzdGFtb3MgZW4gc2FsdG8sIGlnbm9yYXIgY3VhbHF1aWVyIGFuaW1hY2nDs24gcXVlIG5vIHNlYSBkZSBzYWx0b1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgJiZcclxuICAgICAgICAgICAgYW5pbUtleSAhPT0gdGhpcy5jb25maWcuanVtcExlZnRBbmltICYmXHJcbiAgICAgICAgICAgIGFuaW1LZXkgIT09IHRoaXMuY29uZmlnLmp1bXBSaWdodEFuaW1cclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY3VycmVudEFuaW0gPSB0aGlzLnNwcml0ZS5hbmltcy5jdXJyZW50QW5pbTtcclxuICAgICAgICBpZiAodGhpcy5zcHJpdGUuYW5pbXMuaXNQbGF5aW5nICYmIGN1cnJlbnRBbmltICYmIGN1cnJlbnRBbmltLmtleSA9PT0gYW5pbUtleSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5wbGF5KGFuaW1LZXksIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdHVhbGl6YXIgZmxhZ3MgY29tbyBpc09uR3JvdW5kIChzZSBsbGFtYSBhIGVzdG8gZGVzZGUgbGEgZXNjZW5hLCBlbiBjYWRhIGZyYW1lKVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS5ib2R5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHdhc09uR3JvdW5kID0gdGhpcy5pc09uR3JvdW5kO1xyXG4gICAgICAgICAgICB0aGlzLmlzT25Hcm91bmQgPSB0aGlzLmlzR3JvdW5kZWQoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBbmltID0gdGhpcy5zcHJpdGUuYW5pbXMuY3VycmVudEFuaW07XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRLZXkgPSBjdXJyZW50QW5pbSA/IGN1cnJlbnRBbmltLmtleSA6IG51bGw7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApOyAvLyBwb3Igc2kgYWNhc29cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gZmFpbHNhZmUgcmVjZXBjacOzbjogc2kgZWwgZmxhZyBkaWNlIFwicmVjaWJpZW5kb1wiIHBlcm8gbGEgYW5pbWFjacOzbiBubyBsbyBlc1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50S2V5ICE9PSB0aGlzLmNvbmZpZy5yZWNlaXZlTGVmdEFuaW0gJiZcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRLZXkgIT09IHRoaXMuY29uZmlnLnJlY2VpdmVSaWdodEFuaW1cclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGZhaWxzYWZlIHNhbHRvOiBzaSBpc0p1bXBpbmcgZXMgdHJ1ZSBwZXJvIGxhIGFuaW1hY2nDs24gYWN0dWFsIE5PIGVzIGRlIHNhbHRvXHJcbiAgICAgICAgICAgIC8vICh5IGhheSBhbmltYWNpw7NuKSwgc2UgYXN1bWUgcXVlIHRlcm1pbsOzXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50S2V5ICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50S2V5ICE9PSB0aGlzLmNvbmZpZy5qdW1wTGVmdEFuaW0gJiZcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRLZXkgIT09IHRoaXMuY29uZmlnLmp1bXBSaWdodEFuaW1cclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB0aW1lb3V0IGRlIHNhbHRvIHBvciBzZWd1cmlkYWRcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNKdW1waW5nICYmICh0aGlzLnNjZW5lLnRpbWUubm93IC0gdGhpcy5qdW1wU3RhcnRUaW1lID4gMTUwMCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGF0ZXJyaXphamUgcmVhbFxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0p1bXBpbmcgJiYgIXdhc09uR3JvdW5kICYmIHRoaXMuaXNPbkdyb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZGxlTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkbGVSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2xhbXBXaXRoaW5Cb3VuZHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVNdWx0aXBsaWVyVGV4dFBvc2l0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXNvIGRlIGxvcyBwb3dlci11cHNcclxuICAgIGFwcGx5UG93ZXJVcCh0eXBlKSB7XHJcbiAgICAgICAgLy8gaW52ZW50YXJpbyBtw6F4aW1vIGRlIDJcclxuICAgICAgICBpZiAodGhpcy5wb3dlclVwSW52ZW50b3J5Lmxlbmd0aCA+PSAyKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMucG93ZXJVcEludmVudG9yeS5wdXNoKHR5cGUpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHVzZU5leHRQb3dlclVwKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBvd2VyVXBJbnZlbnRvcnkubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLnBvd2VyVXBJbnZlbnRvcnkuc2hpZnQoKTtcclxuICAgICAgICB0aGlzLmFjdGl2YXRlUG93ZXJVcCh0eXBlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3RpdmEgZWwgZWZlY3RvIGRlbCBwb3dlci11cFxyXG4gICAgYWN0aXZhdGVQb3dlclVwKHR5cGUpIHtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAndmVsb2NpZGFkJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlPclJlZnJlc2hUaW1lZEVmZmVjdCgndmVsb2NpZGFkJywgUE9XRVJVUF9EVVJBVElPTl9NUy52ZWxvY2lkYWQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3JhbGVudGl6YXInOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcHBvbmVudCA9IHRoaXMuZ2V0T3Bwb25lbnQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChvcHBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wcG9uZW50LmFwcGx5T3JSZWZyZXNoVGltZWRFZmZlY3QoJ3JhbGVudGl6YXInLCBQT1dFUlVQX0RVUkFUSU9OX01TLnJhbGVudGl6YXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSAncGFyYWxpemFyJzoge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3Bwb25lbnQgPSB0aGlzLmdldE9wcG9uZW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAob3Bwb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHBvbmVudC5hcHBseU9yUmVmcmVzaFRpbWVkRWZmZWN0KCdwYXJhbGl6YXInLCBQT1dFUlVQX0RVUkFUSU9OX01TLnBhcmFsaXphcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlICdwb3IyJzpcclxuICAgICAgICAgICAgY2FzZSAncG9yMyc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5T3JSZWZyZXNoVGltZWRFZmZlY3QodHlwZSwgUE9XRVJVUF9EVVJBVElPTl9NU1t0eXBlXSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWN0dWFsaXphIGxvcyBwb3dlci11cHNcclxuICAgIHVwZGF0ZVBvd2VyVXBzKCkge1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcblxyXG4gICAgICAgIGxldCBzcGVlZE5lZWRzUmVjYWxjID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IHNjb3JlTmVlZHNSZWNhbGMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gc2UgcmV2aXNhbiB0b2RvcyBsb3MgcG93ZXItdXBzIGFjdGl2b3NcclxuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgaW4gdGhpcy5hY3RpdmVQb3dlclVwcykge1xyXG4gICAgICAgICAgICBpZiAobm93IDw9IHRoaXMuYWN0aXZlUG93ZXJVcHNbdHlwZV0pIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYWN0aXZlUG93ZXJVcHNbdHlwZV07XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3ZlbG9jaWRhZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTcGVlZEVmZmVjdChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BlZWROZWVkc1JlY2FsYyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyYWxlbnRpemFyJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNsb3dFZmZlY3QoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkTmVlZHNSZWNhbGMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncGFyYWxpemFyJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFBhcmFseXplZChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdwb3IyJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3BvcjMnOlxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3JlTmVlZHNSZWNhbGMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc3BlZWROZWVkc1JlY2FsYykgdGhpcy5yZWNhbGN1bGF0ZU1vdmVTcGVlZCgpO1xyXG4gICAgICAgIGlmIChzY29yZU5lZWRzUmVjYWxjKSB0aGlzLnJlY2FsY3VsYXRlU2NvcmVFZmZlY3QoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8vLyBFRkVDVE9TIFZJU1VBTEVTIERFIExPUyBQT1dFUi1VUFMgLy8vL1xyXG4gICAgLy8gcGFyYWxpemFyIC0+IHJvam8gKyBwYXJwYWRlb1xyXG4gICAgc2V0UGFyYWx5emVkKGlzUGFyYWx5emVkKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhcmFseXplZCA9IGlzUGFyYWx5emVkO1xyXG5cclxuICAgICAgICBpZiAoaXNQYXJhbHl6ZWQpIHtcclxuICAgICAgICAgICAgLy8gZmVlZGJhY2sgdmlzdWFsOiByb2pvICsgcGFycGFkZW9cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VGludCgweGZmNTU1NSk7ICAgLy8gcm9qaXpvXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgLy8gcG9yIHNpIHlhIGhhYsOtYSB1biB0d2VlbiBhbnRlcmlvclxyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbHlzaXNUd2Vlbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2Vlbi5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFseXNpc1R3ZWVuID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2VlbiA9IHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRzOiB0aGlzLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIGFscGhhOiAwLjMsXHJcbiAgICAgICAgICAgICAgICB5b3lvOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMCxcclxuICAgICAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBzZWd1cmlkYWQgZXh0cmE6IHF1ZSBzZSBxdWVkZSBxdWlldG8gaG9yaXpvbnRhbG1lbnRlXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gcXVpdGFyIHNvbG8gZWwgZWZlY3RvIGRlIHBhcnBhZGVvLCBlbCBjb2xvciBzZSByZWNhbGN1bGFcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbHlzaXNUd2Vlbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2Vlbi5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFseXNpc1R3ZWVuID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVm9sdmVtb3MgYSBhcGxpY2FyIGVsIGNvbG9yIGRlIG90cm9zIHBvd2VyLXVwcyBhY3Rpdm9zIChzaSBsb3MgaGF5KVxyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hQb3dlclVwVmlzdWFscygpO1xyXG4gICAgICAgIH1cclxuICAgIH0gICAgXHJcblxyXG4gICAgLy8gdmVsb2NpZGFkIC0+IG5hcmFuamFcclxuICAgIHNldFNwZWVkRWZmZWN0KGFjdGl2ZSkge1xyXG4gICAgICAgIHRoaXMuc3BlZWRFZmZlY3RBY3RpdmUgPSBhY3RpdmU7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoUG93ZXJVcFZpc3VhbHMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByYWxlbnRpemFyIC0+IGF6dWxcclxuICAgIHNldFNsb3dFZmZlY3QoYWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5zbG93RWZmZWN0QWN0aXZlID0gYWN0aXZlO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFBvd2VyVXBWaXN1YWxzKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFJlY2FsY3VsYSBsYSB2ZWxvY2lkYWQgZGUgbW92aW1pZW50byBzZWfDum4gbG9zIHBvd2VyLXVwcyBxdWUgZXN0w6luIGFjdGl2b3NcclxuICAgIHJlY2FsY3VsYXRlTW92ZVNwZWVkKCkge1xyXG4gICAgICAgIGxldCBtdWx0ID0gMTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlUG93ZXJVcHMudmVsb2NpZGFkKSBtdWx0ICo9IFNQRUVEX01VTFQudmVsb2NpZGFkO1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVBvd2VyVXBzLnJhbGVudGl6YXIpIG11bHQgKj0gU1BFRURfTVVMVC5yYWxlbnRpemFyO1xyXG5cclxuICAgICAgICB0aGlzLm1vdmVTcGVlZCA9IHRoaXMuYmFzZU1vdmVTcGVlZCAqIG11bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVjYWxjdWxhIGVsIG11bHRpcGxpY2Fkb3IgZGUgcHVudHVhY2nDs24gZW4gZnVuY2nDs24gZGUgcG9yMi9wb3IzIGFjdGl2b3NcclxuICAgIHJlY2FsY3VsYXRlU2NvcmVFZmZlY3QoKSB7XHJcbiAgICAgICAgbGV0IG11bHRpcGxpZXIgPSAxO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5hY3RpdmVQb3dlclVwc1sncG9yMiddKSB7XHJcbiAgICAgICAgICAgIG11bHRpcGxpZXIgPSBNYXRoLm1heChtdWx0aXBsaWVyLCAyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlUG93ZXJVcHNbJ3BvcjMnXSkge1xyXG4gICAgICAgICAgICBtdWx0aXBsaWVyID0gTWF0aC5tYXgobXVsdGlwbGllciwgMyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNjb3JlTXVsdGlwbGllciA9IG11bHRpcGxpZXI7XHJcblxyXG4gICAgICAgIC8vIGZlZWRiYWNrIHZpc3VhbCBjb24gdGV4dG8geDIgLyB4M1xyXG4gICAgICAgIGlmICh0aGlzLm11bHRpcGxpZXJUZXh0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjb3JlTXVsdGlwbGllciA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlwbGllclRleHQuc2V0VGV4dCgneCcgKyB0aGlzLnNjb3JlTXVsdGlwbGllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpcGxpZXJUZXh0LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpcGxpZXJUZXh0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBtYW50ZW5lciBsb3MgY29sb3JlcyBxdWUgeWEgc2UgdGVuw61hblxyXG4gICAgICAgIHRoaXMucmVmcmVzaFBvd2VyVXBWaXN1YWxzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXBsaWNhIG8gYWN0dWFsaXphIGxhIGR1cmFjacOzbiBkZSB1biBwb3dlci11cFxyXG4gICAgYXBwbHlPclJlZnJlc2hUaW1lZEVmZmVjdCh0eXBlLCBkdXJhdGlvbk1zKSB7XHJcbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5zY2VuZS50aW1lLm5vdztcclxuICAgICAgICB0aGlzLmFjdGl2ZVBvd2VyVXBzW3R5cGVdID0gbm93ICsgZHVyYXRpb25NcztcclxuXHJcbiAgICAgICAgLy8gc2UgYWN0aXZhIGVsIGZlZWRiYWNrL2VzdGFkb1xyXG4gICAgICAgIGlmICh0eXBlID09PSAndmVsb2NpZGFkJykgdGhpcy5zZXRTcGVlZEVmZmVjdCh0cnVlKTtcclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3JhbGVudGl6YXInKSB0aGlzLnNldFNsb3dFZmZlY3QodHJ1ZSk7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdwYXJhbGl6YXInKSB0aGlzLnNldFBhcmFseXplZCh0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gc2UgcmVjYWxjdWxhbiBsb3MgZWZlY3RvcyBzaSBlcyBuZWNlc2FyaW9cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3ZlbG9jaWRhZCcgfHwgdHlwZSA9PT0gJ3JhbGVudGl6YXInKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjYWxjdWxhdGVNb3ZlU3BlZWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdwb3IyJyB8fCB0eXBlID09PSAncG9yMycpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWNhbGN1bGF0ZVNjb3JlRWZmZWN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIERlY2lkZSBxdcOpIHRpbnRlIG1vc3RyYXIgc2Vnw7puIGVsIGVzdGFkbyBhY3R1YWxcclxuICAgIHJlZnJlc2hQb3dlclVwVmlzdWFscygpIHtcclxuICAgICAgICAvLyBzaSBlc3TDoSBwYXJhbGl6YWRvLCBsYSBwYXLDoWxpc2lzIG1hbmRhIChjb2xvciAgcm9qbyArIHBhcnBhZGVvKVxyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBoYXNlciBzb2xvIHBlcm1pdGUgdW4gY29sb3IgYSBsYSB2ZXogcG9yIHNwcml0ZSwgcG9yIGVzbyBsYVxyXG4gICAgICAgIC8vIHByaW9yaWRhZCB2aXN1YWwgZXM6IHJhbGVudGl6YXIgPiB2ZWxvY2lkYWQgPiBtdWx0aXBsaWNhZG9yXHJcbiAgICAgICAgaWYgKHRoaXMuc2xvd0VmZmVjdEFjdGl2ZSkge1xyXG4gICAgICAgICAgICAvLyBhenVsIG9zY3VybyBwYXJhIHJhbGVudGl6YXJcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VGludCgweDU1NTVmZik7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNwZWVkRWZmZWN0QWN0aXZlKSB7XHJcbiAgICAgICAgICAgIC8vIG5hcmFuamEgcGFyYSB2ZWxvY2lkYWRcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VGludCgweGZmOGMwMCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNjb3JlTXVsdGlwbGllciA+IDEpIHtcclxuICAgICAgICAgICAgLy8gdmVyZGUgcGFyYSB4MiAvIHgzXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHgzMmNkMzIpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHNpbiBlZmVjdG9zXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLmNsZWFyVGludCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vLy8vLy9cclxuXHJcbiAgICBnZXRPcHBvbmVudCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc2NlbmUucGxheWVycykgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5zY2VuZS5wbGF5ZXJzLnZhbHVlcygpKS5maW5kKHAgPT4gcCAhPT0gdGhpcyk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEFwcGx5UG93ZXJVcENvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKHBsYXllciwgcG93ZXJVcFR5cGUpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XG4gICAgICAgIHRoaXMucG93ZXJVcFR5cGUgPSBwb3dlclVwVHlwZTtcbiAgICAgICAgdGhpcy5zdG9yZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBleGVjdXRlKCkge1xuICAgICAgICB0aGlzLnN0b3JlZCA9IHRoaXMucGxheWVyLmFwcGx5UG93ZXJVcCh0aGlzLnBvd2VyVXBUeXBlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmVkO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFwcGx5UG93ZXJVcENvbW1hbmQgfSBmcm9tIFwiLi4vQ29tbWFuZHMvQXBwbHlQb3dlclVwQ29tbWFuZFwiO1xuXG5leHBvcnQgY2xhc3MgUG93ZXJVcCB7XG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHksIHR5cGUpIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuXG4gICAgICAgIHRoaXMuaXNDb2xsZWN0ZWQgPSBmYWxzZTsgICAvLyBwYXJhIGV2aXRhciByZWNvZ2VyIHZhcmlhcyB2ZWNlc1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTsgICAgLy8gcGFyYSBldml0YXIgZGVzdHJ1aXIgdmFyaWFzIHZlY2VzXG4gICAgICAgIHRoaXMuX2Nvb2xkb3duVW50aWwgPSAwOyAgICAvLyB0aWVtcG8gaGFzdGEgZWwgcXVlIG5vIHNlIHB1ZWRlIHJlY29nZXJcblxuICAgICAgICB0aGlzLmZhZGVTdGFydCA9IDMwMDA7ICAgICAgLy8gbXMgaGFzdGEgZW1wZXphciBhIGRlc3ZhbmVjZXJzZVxuICAgICAgICB0aGlzLmxpZmV0aW1lID0gNTAwMDsgICAgICAgLy8gbXMgZGUgdmlkYSB0b3RhbFxuXG4gICAgICAgIHRoaXMuX292ZXJsYXBzID0gW107ICAgICAgICAvLyBjb2xsaWRlcnMgb3ZlcmxhcHNcbiAgICAgICAgdGhpcy5mYWRlVHdlZW4gPSBudWxsOyAgICAgIC8vIHR3ZWVuIGRlIGZhZGVcbiAgICAgICAgdGhpcy5fbGlmZXRpbWVUaW1lciA9IG51bGw7IC8vIHRpbWVyIGRlIHZpZGFcblxuICAgICAgICB0aGlzLnNwcml0ZSA9IHNjZW5lLnBoeXNpY3MuYWRkLnN0YXRpY0ltYWdlKHgsIHksIHR5cGUpXG4gICAgICAgICAgICAuc2V0U2NhbGUoMS4yKVxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKCk7XG5cbiAgICAgICAgLy8gc2UgYWN0dWFsaXphIGVsIGJvZHkgdHJhcyBlbCBlc2NhbGFkb1xuICAgICAgICBpZiAodGhpcy5zcHJpdGUucmVmcmVzaEJvZHkpIHRoaXMuc3ByaXRlLnJlZnJlc2hCb2R5KCk7XG5cbiAgICAgICAgLy8gc2UgZ3VhcmRhIGVsIHR3ZWVuIHBhcmEgcG9kZXIgcGFyYXJsbyBlbiBkZXN0cm95XG4gICAgICAgIGNvbnN0IGZhZGVEZWxheSA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMuZmFkZVN0YXJ0LCB0aGlzLmxpZmV0aW1lKSk7XG4gICAgICAgIGNvbnN0IGZhZGVEdXJhdGlvbiA9IE1hdGgubWF4KDAsIHRoaXMubGlmZXRpbWUgLSBmYWRlRGVsYXkpO1xuXG4gICAgICAgIGlmIChmYWRlRHVyYXRpb24gPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmZhZGVUd2VlbiA9IHNjZW5lLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuc3ByaXRlLFxuICAgICAgICAgICAgICAgIGFscGhhOiAwLFxuICAgICAgICAgICAgICAgIGRlbGF5OiBmYWRlRGVsYXksXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGZhZGVEdXJhdGlvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvdmVybGFwcyBjb24gbG9zIGp1Z2Fkb3Jlc1xuICAgICAgICBjb25zdCBwbGF5ZXJzID0gc2NlbmUucGxheWVycztcbiAgICAgICAgaWYgKHBsYXllcnMgJiYgdHlwZW9mIHBsYXllcnMuZm9yRWFjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFwbGF5ZXI/LnNwcml0ZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYyA9IHNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAoXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB0aGlzLmNvbGxlY3QocGxheWVyKSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5fb3ZlcmxhcHMucHVzaChjKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGltZXIgZGUgdmlkYVxuICAgICAgICB0aGlzLl9saWZldGltZVRpbWVyID0gc2NlbmUudGltZS5kZWxheWVkQ2FsbCh0aGlzLmxpZmV0aW1lLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUmVjb2dlIGVsIHBvd2VyLXVwXG4gICAgY29sbGVjdChwbGF5ZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tQb3dlclVwXSBvdmVybGFwIGNvbicsIHBsYXllci5pZCwgJ3RpcG8nLCB0aGlzLnR5cGUpO1xuXG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMuaXNDb2xsZWN0ZWQpIHJldHVybjtcblxuICAgICAgICAvLyBzaSBlbCBpbnZlbnRhcmlvIGVzdMOhIGxsZW5vIHkgZWwganVnYWRvciBzZSBxdWVkYSBlbmNpbWEsIHNlIGV2aXRhIGVsIHNwYW1cbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5zY2VuZS50aW1lLm5vdztcbiAgICAgICAgaWYgKHRoaXMuX2Nvb2xkb3duVW50aWwgJiYgbm93IDwgdGhpcy5fY29vbGRvd25VbnRpbCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuaXNDb2xsZWN0ZWQgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IGNtZCA9IG5ldyBBcHBseVBvd2VyVXBDb21tYW5kKHBsYXllciwgdGhpcy50eXBlKTtcbiAgICAgICAgdGhpcy5zY2VuZS5jb21tYW5kUHJvY2Vzc29yLnByb2Nlc3MoY21kKTtcblxuICAgICAgICAvLyBzaSBOTyBzZSBwdWVkZSBndWFyZGFyIHBvcnF1ZSBlbCBpbnZlbnRhcmlvIGVzdMOhIGxsZW5vLCBOTyBzZSBkZXN0cnV5ZVxuICAgICAgICBpZiAoIWNtZC5zdG9yZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNDb2xsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2Nvb2xkb3duVW50aWwgPSBub3cgKyAzMDA7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5zY2VuZS51cGRhdGVQbGF5ZXJJbnZlbnRvcnlVST8uKHBsYXllcik7XG4gICAgfVxuXG4gICAgLy8gRGVzdHJ1eWUgZWwgcG93ZXItdXBcbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG5cbiAgICAgICAgLy8gY29sbGlkZXJzIG92ZXJsYXBzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX292ZXJsYXBzKSkge1xuICAgICAgICAgICAgdGhpcy5fb3ZlcmxhcHMuZm9yRWFjaChjID0+IHtcbiAgICAgICAgICAgICAgICB0cnkgeyBjLmRlc3Ryb3koKTsgfSBjYXRjaCB7fVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9vdmVybGFwcyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdHdlZW5cbiAgICAgICAgaWYgKHRoaXMuZmFkZVR3ZWVuKSB7XG4gICAgICAgICAgICB0cnkgeyB0aGlzLmZhZGVUd2Vlbi5zdG9wKCk7IH0gY2F0Y2gge31cbiAgICAgICAgICAgIHRoaXMuZmFkZVR3ZWVuID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRpbWVyXG4gICAgICAgIGlmICh0aGlzLl9saWZldGltZVRpbWVyKSB7XG4gICAgICAgICAgICB0aGlzLl9saWZldGltZVRpbWVyLnJlbW92ZShmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLl9saWZldGltZVRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNwcml0ZVxuICAgICAgICBpZiAodGhpcy5zcHJpdGUpIHtcbiAgICAgICAgICAgIHRyeSB7IHRoaXMuc3ByaXRlLmRlc3Ryb3koKTsgfSBjYXRjaCB7fVxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmluYWxtZW50ZSwgc2UgcXVpdGEgZGVsIGFycmF5XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuc2NlbmUucG93ZXJVcHMpKSB7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBvd2VyVXBzID0gdGhpcy5zY2VuZS5wb3dlclVwcy5maWx0ZXIocCA9PiBwICE9PSB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBCYWxsIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5KSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBzY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgJ2JhbGwnKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSgxLjApO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldEJvdW5jZSgwLjgpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREYXRhKCdiYWxsJywgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIHNlZ3VpbWllbnRvIGRlbCBlc3RhZG8gZGVsIHJhbGx5XHJcbiAgICAgICAgdGhpcy5sYXN0VG91Y2hlZEJ5ID0gbnVsbDsgICAgICAvLyBpZCBkZWwganVnYWRvciAoJ3BsYXllcjEnIG8gJ3BsYXllcjInKVxyXG4gICAgICAgIHRoaXMudG91Y2hDb3VudCA9IDA7ICAgICAgICAgICAgLy8gdG9xdWVzIGVuIGVsIHJhbGx5IGFjdHVhbCBwb3IgbGFkbyBkZSBsYSBjYW5jaGFcclxuICAgICAgICB0aGlzLmNvdXJ0U2lkZSA9ICdsZWZ0JzsgICAgICAgIC8vIGxhZG8gZGUgbGEgY2FuY2hhIGRvbmRlIGVzdMOhIGxhIHBlbG90YVxyXG4gICAgICAgIHRoaXMuaXNCYWxsTGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIHBvc2ljacOzbiBkZSBsYSByZWQgKGhhcmRjb2RlYWRvIHBhcmEgYW5jaG8gZGUgOTYwcHgpXHJcbiAgICAgICAgdGhpcy5uZXRYID0gNDgwO1xyXG5cclxuICAgICAgICAvLyBwYXJhIGV2aXRhciB0b3F1ZXMgbcO6bHRpcGxlcyBwb3IgZXN0YXIgcGVnYWRhIHkgcXVlIFwiZGVzYXBhcmV6Y2FcIlxyXG4gICAgICAgIHRoaXMubGFzdEhpdFRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMubGFzdEhpdFBsYXllcklkID0gbnVsbDtcclxuXHRcdFxyXG4gICAgICAgIC8vdGhpcy5pc0ZpcnN0U2VydmUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdlbmVyYSB1biBuw7ptZXJvIGFsZWF0b3JpbyBwYXJhIHZhcmlhciBsZXZlbWVudGUgbGEgdmVsb2NpZGFkIGRlIGxhIHBlbG90YVxyXG4gICAgX2dldFJhbmRvbUZhY3RvcihtaW4gPSAwLjk1LCBtYXggPSAxLjA1KSB7XHJcbiAgICAgICAgcmV0dXJuIG1pbiArIChtYXggLSBtaW4pICogTWF0aC5yYW5kb20oKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZSBsbGFtYSBjdWFuZG8gdW4ganVnYWRvciBnb2xwZWEgbGEgcGVsb3RhXHJcbiAgICBoaXQocGxheWVyLCBwbGF5ZXJGYWNpbmdEaXJlY3Rpb24sIGlzSnVtcGluZywgaXNSZWNlaXZpbmcgPSBmYWxzZSkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0JhbGxMaXZlKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcblxyXG4gICAgICAgIC8vIHNpIGVzIGVsIG1pc21vIGp1Z2Fkb3IgeSBoYSBwYXNhZG8gbXV5IHBvY28gdGllbXBvLFxyXG4gICAgICAgIC8vIGlnbm9yYW1vcyBlc2UgXCJ0b3F1ZVwiIHBhcmEgbm8gc3VtYXIgbcOhcyBnb2xwZXNcclxuICAgICAgICBpZiAodGhpcy5sYXN0SGl0UGxheWVySWQgPT09IHBsYXllci5pZCAmJiAobm93IC0gdGhpcy5sYXN0SGl0VGltZSkgPCAxMjApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gcmVnaXN0cmFtb3MgZXN0ZSBudWV2byBnb2xwZSB2w6FsaWRvXHJcbiAgICAgICAgdGhpcy5sYXN0SGl0UGxheWVySWQgPSBwbGF5ZXIuaWQ7XHJcbiAgICAgICAgdGhpcy5sYXN0SGl0VGltZSA9IG5vdztcclxuXHJcbiAgICAgICAgLy8gc2UgaW5jcmVtZW50YSBlbCBjb250YWRvciBkZSB0b3F1ZXMgc2kgZWwgbWlzbW8ganVnYWRvciBjb250aW7DumEsIHNlIHJlaW5pY2lhIHNpIGVzIGVsIG90cm9cclxuICAgICAgICBpZiAodGhpcy5sYXN0VG91Y2hlZEJ5ID09PSBwbGF5ZXIuaWQpIHtcclxuICAgICAgICAgICAgdGhpcy50b3VjaENvdW50Kys7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy50b3VjaENvdW50ID0gMTtcclxuICAgICAgICAgICAgdGhpcy5sYXN0VG91Y2hlZEJ5ID0gcGxheWVyLmlkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy50b3VjaENvdW50ID4gMykge1xyXG4gICAgICAgICAgICB0aGlzLm9uRmFsdGEoJ3RvcXVlRXhjZWRpZG8nLCBwbGF5ZXIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHNlIHJlcHJvZHVjZSBlbCBlZmVjdG8gZGUgc29uaWRvIHNlZ8O6biBlbCB0aXBvIGRlIGdvbHBlXHJcbiAgICAgICAgaWYgKGlzUmVjZWl2aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmU/LnBsYXlTZng/Lih0aGlzLnNjZW5lPy5zZng/LnJlY2VpdmUpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNKdW1waW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmU/LnBsYXlTZng/Lih0aGlzLnNjZW5lPy5zZng/LnNwaWtlKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvLyBzZSBjYWxjdWxhIHZlbG9jaWRhZCBkZSBsYSBwZWxvdGEgc2Vnw7puIGxhIGRpcmVjY2nDs24gZGVsIGp1Z2Fkb3IgeSBzaSBlc3TDoSBzYWx0YW5kby9yZWNpYmllbmRvXHJcbiAgICAgICAgbGV0IHZlbG9jaXR5WCwgdmVsb2NpdHlZO1xyXG5cclxuICAgICAgICBpZiAoaXNSZWNlaXZpbmcpIHtcclxuICAgICAgICAgICAgLy8gcmVjZXBjacOzbjogcGFyw6Fib2xhIGxhcmdhIHkgYW5jaGEgKHRyYXllY3RvcmlhIGRlZmVuc2l2YSlcclxuICAgICAgICAgICAgLy8gbWVub3IgdmVsb2NpZGFkIGhvcml6b250YWwsIG1heW9yIHZlbG9jaWRhZCB2ZXJ0aWNhbCBwYXJhIGVsIGFyY29cclxuICAgICAgICAgICAgY29uc3QgYmFzZVNwZWVkWCA9IDE4MDtcclxuICAgICAgICAgICAgY29uc3QgdmVydGljYWxTdHJlbmd0aCA9IC0zNTA7IC8vIGNvbXBvbmVudGUgdmVydGljYWwgbWF5b3IgcGFyYSBlbCBhcmNvXHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmRvbUZhY3RvclggPSB0aGlzLl9nZXRSYW5kb21GYWN0b3IoKTtcclxuICAgICAgICAgICAgY29uc3QgcmFuZG9tRmFjdG9yWSA9IHRoaXMuX2dldFJhbmRvbUZhY3RvcigpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHBsYXllckZhY2luZ0RpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSAtYmFzZVNwZWVkWCAqIHJhbmRvbUZhY3Rvclg7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSBiYXNlU3BlZWRYICogcmFuZG9tRmFjdG9yWDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2ZWxvY2l0eVkgPSB2ZXJ0aWNhbFN0cmVuZ3RoICogcmFuZG9tRmFjdG9yWTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzSnVtcGluZykge1xyXG4gICAgICAgICAgICAvLyBzYWx0by9hdGFxdWU6IGhvcml6b250YWwgZnVlcnRlLCB2ZXJ0aWNhbCBkw6liaWwgKHJlbWF0ZS9zbWFzaClcclxuICAgICAgICAgICAgLy8gYWx0YSB2ZWxvY2lkYWQgaG9yaXpvbnRhbCwgYmFqYSB2ZWxvY2lkYWQgdmVydGljYWwgcGFyYSB0cmF5ZWN0b3JpYSBwbGFuYVxyXG4gICAgICAgICAgICBjb25zdCBiYXNlU3BlZWRYID0gMjIwO1xyXG4gICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbFN0cmVuZ3RoID0gLTE1MDsgLy8gY29tcG9uZW50ZSB2ZXJ0aWNhbCBiYWpvIHBhcmEgYXRhcXVlIHBsYW5vXHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmRvbUZhY3RvclggPSB0aGlzLl9nZXRSYW5kb21GYWN0b3IoKTtcclxuICAgICAgICAgICAgY29uc3QgcmFuZG9tRmFjdG9yWSA9IHRoaXMuX2dldFJhbmRvbUZhY3RvcigpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHBsYXllckZhY2luZ0RpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSAtYmFzZVNwZWVkWCAqIHJhbmRvbUZhY3Rvclg7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSBiYXNlU3BlZWRYICogcmFuZG9tRmFjdG9yWDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2ZWxvY2l0eVkgPSB2ZXJ0aWNhbFN0cmVuZ3RoICogcmFuZG9tRmFjdG9yWTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBnb2xwZSByZWd1bGFyIGRlc2RlIGVsIHN1ZWxvXHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2VTcGVlZFggPSAxODA7XHJcblxyXG4gICAgICAgICAgICBpZiAocGxheWVyRmFjaW5nRGlyZWN0aW9uID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5WCA9IC1iYXNlU3BlZWRYO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlYID0gYmFzZVNwZWVkWDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2ZWxvY2l0eVkgPSAtMTAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHkodmVsb2NpdHlYLCB2ZWxvY2l0eVkpO1xyXG5cclxuICAgICAgICAvLyBzZSBhY3R1YWxpemFyIGVsIGxhZG8gZGUgbGEgY2FuY2hhIHNlZ8O6biBsYSBkaXJlY2Npw7NuIGRlIGxhIHZlbG9jaWRhZFxyXG4gICAgICAgIGlmICh2ZWxvY2l0eVggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY291cnRTaWRlID0gJ3JpZ2h0JztcclxuICAgICAgICB9IGVsc2UgaWYgKHZlbG9jaXR5WCA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAnbGVmdCc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlIGxsYW1hIGN1YW5kbyBsYSBwZWxvdGEgY3J1emEgbGEgcmVkXHJcbiAgICBjcm9zc05ldCgpIHtcclxuICAgICAgICAvLyBzZSByZWluaWNpYSBlbCBjb250YWRvciBkZSB0b3F1ZXMgcGFyYSBlbCBudWV2byBsYWRvIGRlIGNhbmNoYVxyXG4gICAgICAgIHRoaXMudG91Y2hDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5sYXN0VG91Y2hlZEJ5ID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gc2UgY2FtYmlhIGRlIGxhZG8gZGUgY2FuY2hhXHJcbiAgICAgICAgdGhpcy5jb3VydFNpZGUgPSB0aGlzLmNvdXJ0U2lkZSA9PT0gJ2xlZnQnID8gJ3JpZ2h0JyA6ICdsZWZ0JztcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZSBsbGFtYSBjdWFuZG8gbGEgcGVsb3RhIHRvY2EgZWwgc3VlbG9cclxuICAgIG9uR3JvdW5kZWQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQmFsbExpdmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgYmFsbE9uTGVmdCA9IHRoaXMuc3ByaXRlLnggPCB0aGlzLm5ldFg7XHJcbiAgICAgICAgY29uc3QgYmFsbE9uUmlnaHQgPSB0aGlzLnNwcml0ZS54ID4gdGhpcy5uZXRYO1xyXG5cclxuICAgICAgICAvLyBkZXRlcm1pbmFyIHF1acOpbiBhbm90YVxyXG4gICAgICAgIGlmIChiYWxsT25MZWZ0KSB7XHJcbiAgICAgICAgICAgIHRoaXMub25SYWxseUVuZCgncGxheWVyMicpOyAvLyBwbGF5ZXIyIGFub3RhXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRSYWxseSgncGxheWVyMicpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYmFsbE9uUmlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5vblJhbGx5RW5kKCdwbGF5ZXIxJyk7IC8vIHBsYXllcjEgYW5vdGFcclxuICAgICAgICAgICAgdGhpcy5yZXNldFJhbGx5KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSAgICBcclxuXHJcbiAgICAvLyBTZSBsbGFtYSBjdWFuZG8gb2N1cnJlIHVuYSBmYWx0YSAoZGVtYXNpYWRvcyB0b3F1ZXMsIHBlbG90YSBmdWVyYSBkZSBsw61taXRlcywgZXRjLilcclxuICAgIG9uRmFsdGEoZmFsdGFUeXBlLCBmYWx0aW5nUGxheWVyKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQmFsbExpdmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gc2UgZGV0ZXJtaW5hciBlbCBqdWdhZG9yIHF1ZSBhbm90YSAob3B1ZXN0byBhbCBxdWUgY29tZXRpw7MgZmFsdGEpXHJcbiAgICAgICAgY29uc3Qgc2NvcmluZ1BsYXllcklkID0gZmFsdGluZ1BsYXllci5pZCA9PT0gJ3BsYXllcjEnID8gJ3BsYXllcjInIDogJ3BsYXllcjEnO1xyXG5cclxuICAgICAgICB0aGlzLm9uUmFsbHlFbmQoc2NvcmluZ1BsYXllcklkKTtcclxuICAgICAgICB0aGlzLnJlc2V0UmFsbHkoc2NvcmluZ1BsYXllcklkKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZSBsbGFtYSBjdWFuZG8gZmluYWxpemEgdW4gcmFsbHkgKGFsZ3VpZW4gYW5vdGEpXHJcbiAgICBvblJhbGx5RW5kKHNjb3JpbmdQbGF5ZXJJZCkge1xyXG4gICAgICAgIHRoaXMuaXNCYWxsTGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBzZSBsYW56YSB1biBldmVudG8gcGFyYSBxdWUgR2FtZV9TY2VuZSBtYW5lamUgbGEgcHVudHVhY2nDs25cclxuICAgICAgICB0aGlzLnNjZW5lLmV2ZW50cy5lbWl0KCdyYWxseUNvbmNsdWRlZCcsIHtcclxuICAgICAgICAgICAgc2NvcmluZ1BsYXllcklkOiBzY29yaW5nUGxheWVySWQsXHJcbiAgICAgICAgICAgIHRvdWNoQ291bnQ6IHRoaXMudG91Y2hDb3VudCxcclxuICAgICAgICAgICAgbGFzdFRvdWNoZWRCeTogdGhpcy5sYXN0VG91Y2hlZEJ5XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRW1wdWpvbiBzdXRpbCBhbCBzYXF1ZSBwYXJhIGV2aXRhciBxdWUgY2FpZ2Egc29icmUgbGEgcmVkXHJcbiAgICBfZ2V0U3VidGxlTnVkZ2Uoc3Bhd25YLCBzaWRlUGFkZGluZywgd29ybGRXaWR0aCkge1xyXG4gICAgICAgIGNvbnN0IHNpZ24gPSBNYXRoLnJhbmRvbSgpIDwgMC41ID8gLTEgOiAxO1xyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHNpZ24gKiAxMjtcclxuICAgICAgICBjb25zdCBjbGFtcGVkWCA9IE1hdGgubWF4KHNpZGVQYWRkaW5nLCBNYXRoLm1pbih3b3JsZFdpZHRoIC0gc2lkZVBhZGRpbmcsIHNwYXduWCArIG9mZnNldCkpO1xyXG5cclxuICAgICAgICByZXR1cm4geyBzcGF3blg6IGNsYW1wZWRYLCB2ZWxvY2l0eVg6IG9mZnNldCB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbG9jYSBsYSBwZWxvdGEgcGFyYSBlbCBzYXF1ZSBzaW4gcmVpbmljaWFyIGVsIHJhbGx5XHJcbiAgICBzZXRTZXJ2ZVBvc2l0aW9uKHNjb3JpbmdQbGF5ZXIpIHtcclxuICAgICAgICBjb25zdCBzcGF3blkgPSAxMDA7XHJcbiAgICAgICAgY29uc3Qgc2lkZVBhZGRpbmcgPSA2MDtcclxuICAgICAgICBjb25zdCB3b3JsZFdpZHRoID0gdGhpcy5zY2VuZS53b3JsZFdpZHRoID8/IHRoaXMuc2NlbmUuc2NhbGU/LndpZHRoID8/IHRoaXMubmV0WCAqIDI7XHJcbiAgICAgICAgY29uc3QgY2xhbXAgPSAodmFsdWUsIG1pbiwgbWF4KSA9PiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgdmFsdWUpKTtcclxuXHJcbiAgICAgICAgbGV0IHNwYXduWCA9IHRoaXMubmV0WDtcclxuICAgICAgICBsZXQgbnVkZ2VWZWxvY2l0eVggPSAwO1xyXG5cclxuICAgICAgICBjb25zdCBoYXNTY29yaW5nUGxheWVyID0gc2NvcmluZ1BsYXllciA9PT0gJ3BsYXllcjEnIHx8IHNjb3JpbmdQbGF5ZXIgPT09ICdwbGF5ZXIyJztcclxuXHJcbiAgICAgICAgaWYgKGhhc1Njb3JpbmdQbGF5ZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5zY2VuZS5wbGF5ZXJzPy5nZXQgPyB0aGlzLnNjZW5lLnBsYXllcnMuZ2V0KHNjb3JpbmdQbGF5ZXIpIDogbnVsbDtcclxuICAgICAgICAgICAgaWYgKHBsYXllcj8uc3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2NvcmluZ1BsYXllciA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Bhd25YID0gY2xhbXAocGxheWVyLnNwcml0ZS54LCBzaWRlUGFkZGluZywgdGhpcy5uZXRYIC0gc2lkZVBhZGRpbmcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzcGF3blggPSBjbGFtcChwbGF5ZXIuc3ByaXRlLngsIHRoaXMubmV0WCArIHNpZGVQYWRkaW5nLCB3b3JsZFdpZHRoIC0gc2lkZVBhZGRpbmcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3Bhd25YID0gc2NvcmluZ1BsYXllciA9PT0gJ3BsYXllcjEnID8gdGhpcy5uZXRYIC0gMTAwIDogdGhpcy5uZXRYICsgMTAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBudWRnZSA9IHRoaXMuX2dldFN1YnRsZU51ZGdlKHNwYXduWCwgc2lkZVBhZGRpbmcsIHdvcmxkV2lkdGgpO1xyXG4gICAgICAgICAgICBzcGF3blggPSBudWRnZS5zcGF3blg7XHJcbiAgICAgICAgICAgIG51ZGdlVmVsb2NpdHlYID0gbnVkZ2UudmVsb2NpdHlYO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0UG9zaXRpb24oc3Bhd25YLCBzcGF3blkpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5KG51ZGdlVmVsb2NpdHlYLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWluaWNpYSBlbCBlc3RhZG8gZGVsIHJhbGx5IHkgcmVwb3NpY2lvbmEgbGEgcGVsb3RhIHBhcmEgZWwgc2FxdWVcclxuICAgIHJlc2V0UmFsbHkoc2NvcmluZ1BsYXllcikge1xyXG4gICAgICAgIHRoaXMuaXNCYWxsTGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5sYXN0VG91Y2hlZEJ5ID0gbnVsbDtcclxuICAgICAgICB0aGlzLnRvdWNoQ291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuc2V0U2VydmVQb3NpdGlvbihzY29yaW5nUGxheWVyKTtcclxuXHJcbiAgICAgICAgLy8gbGltcGlhciBpbmZvIGRlIMO6bHRpbW8gZ29scGVcclxuICAgICAgICB0aGlzLmxhc3RIaXRUaW1lID0gMDtcclxuICAgICAgICB0aGlzLmxhc3RIaXRQbGF5ZXJJZCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIEFjdHVhbGl6YSBlbCBlc3RhZG8gZGUgbGEgcGVsb3RhIGNhZGEgZnJhbWUgKHNlIHJhc3RyZWEgZWwgbGFkbyBkZSBsYSBjYW5jaGEgc2Vnw7puIGxhIHBvc2ljacOzbilcclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgbGFkbyBkZSBjYW5jaGEgc2Vnw7puIHBvc2ljacOzbiBhY3R1YWxcclxuICAgICAgICBpZiAodGhpcy5zcHJpdGUueCA8IHRoaXMubmV0WCAtIDIwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY291cnRTaWRlID0gJ2xlZnQnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zcHJpdGUueCA+IHRoaXMubmV0WCArIDIwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY291cnRTaWRlID0gJ3JpZ2h0JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIENvbW1hbmRQcm9jZXNzb3Ige1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXRQbGF5ZXJzKHBsYXllcnMpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBwbGF5ZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEdhbWVTY2VuZShnYW1lU2NlbmUpIHtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IGdhbWVTY2VuZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm9jZXNzKGNvbW1hbmQpIHtcclxuICAgICAgICBjb21tYW5kLmV4ZWN1dGUoKTtcclxuICAgICAgICAvLyBTZW50IG92ZXIgdGhlIHdlYnNvY2tldFxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIENvbW1hbmQge1xyXG4gICAgXHJcbiAgICBleGVjdXRlKCkge31cclxuXHJcbiAgICBzZXJpYWxpemUoKSB7fVxyXG5cclxuICAgIGdldFBsYXllcigpIHt9XHJcbn0iLCIvLyBDbGFzZSBxdWUgc2UgZW5jYXJnYSBkZSBsYSBsw7NnaWNhIGRlbCBtb3ZpbWllbnRvIGRlbCBwZXJzb25hamVcclxuXHJcbmltcG9ydCB7IENvbW1hbmQgfSBmcm9tICcuL0NvbW1hbmQuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdmVQbGF5ZXJDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihwbGF5ZXIsIGRpcmVjdGlvbikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7ICAgICAgIC8vIGluc3RhbmNpYSBkZWwgcGVyc29uYWplXHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb247IC8vIGRpcmVjY2nDs24gZGUgbW92bWllbnRvXHJcbiAgICB9XHJcblxyXG4gICAgZXhlY3V0ZSgpIHtcclxuICAgICAgICAgc3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAvLyBjb3JyZXIgaGFjaWEgbGEgaXpkYVxyXG4gICAgICAgICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLm1vdmVMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gY29ycmVyIGhhY2lhIGxhIGRjaGFcclxuICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIubW92ZVJpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gc2FsdGFyL3JlbWF0YXIgYSBsYSBpemRhXHJcbiAgICAgICAgICAgIGNhc2UgJ2p1bXBMZWZ0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmp1bXBMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gc2FsdGFyL3JlbWF0YSBhIGxhIGRjaGFcclxuICAgICAgICAgICAgY2FzZSAnanVtcFJpZ2h0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmp1bXBSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIHJlY2liaXIgcG9yIGxhIGl6ZGFcclxuICAgICAgICAgICAgY2FzZSAncmVjZWl2ZUxlZnQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIucmVjZWl2ZUxlZnQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyByZWNpYmlyIHBvciBsYSBkY2hhXHJcbiAgICAgICAgICAgIGNhc2UgJ3JlY2VpdmVSaWdodCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5yZWNlaXZlUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBwYXJhZG8sIGlkbGUgaXpkYVxyXG4gICAgICAgICAgICBjYXNlICdpZGxlTGVmdCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5pZGxlTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIHBhcmFkbywgaWRsZSBkY2hhICh5IGNhc28gcG9yIGRlZmVjdG8pXHJcbiAgICAgICAgICAgIC8vY2FzZSAnaWRsZVJpZ2h0JzpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmlkbGVSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHBhcmEgZWwgbW9kbyBFTiBSRURcclxuICAgIGdldFBsYXllcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXIuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2VyaWFsaXplKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6ICdNb3ZlUGxheWVyQ29tbWFuZCcsXHJcbiAgICAgICAgICAgIHBsYXllcklkOiB0aGlzLnBsYXllci5pZCxcclxuICAgICAgICAgICAgZGlyZWN0aW9uOiB0aGlzLmRpcmVjdGlvblxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gQ2xhc2UgZGUgbGEgZXNjZW5hIGRlIGp1ZWdvXHJcblxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gJy4uL0VudGl0aWVzL1BsYXllci5qcyc7XHJcbmltcG9ydCB7IFBvd2VyVXAgfSBmcm9tICcuLi9FbnRpdGllcy9Qb3dlclVwLmpzJztcclxuaW1wb3J0IHsgQmFsbCB9IGZyb20gJy4uL0VudGl0aWVzL0JhbGwuanMnO1xyXG5pbXBvcnQgeyBDb21tYW5kUHJvY2Vzc29yIH0gZnJvbSAnLi4vQ29tbWFuZHMvQ29tbWFuZFByb2Nlc3Nvci5qcyc7XHJcbmltcG9ydCB7IE1vdmVQbGF5ZXJDb21tYW5kIH0gZnJvbSAnLi4vQ29tbWFuZHMvTW92ZVBsYXllckNvbW1hbmQuanMnO1xyXG5pbXBvcnQgeyBnZXRTdG9yZWRTZnhWb2x1bWUgfSBmcm9tICcuLi9VSS9BdWRpby5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICB0aWVtcG9Ub3RhbCA9IDYwOyAvLyBwYXJhIDIgbWluIHBvbmVyIDEyMCBzZWd1bmRvc1xyXG4gICAgdGllbXBvUmVzdGFudGUgPSB0aGlzLnRpZW1wb1RvdGFsO1xyXG4gICAgdGltZXJUZXh0O1xyXG4gICAgdGltZXJFdmVudDtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxID0gZGF0YS5wbGF5ZXIxO1xyXG4gICAgICAgIHRoaXMucGxheWVyMiA9IGRhdGEucGxheWVyMjtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkU2NlbmFyaW8gPSBkYXRhLnNlbGVjdGVkU2NlbmFyaW87XHJcbiAgICAgICAgdGhpcy5iYWxsID0gbnVsbDtcclxuICAgICAgICB0aGlzLnNjb3JlUDEgPSAwO1xyXG4gICAgICAgIHRoaXMuc2NvcmVQMiA9IDA7XHJcbiAgICAgICAgdGhpcy5zZXRzUDEgPSAwO1xyXG4gICAgICAgIHRoaXMuc2V0c1AyID0gMDtcclxuICAgICAgICB0aGlzLm1heFNldHMgPSAzOyAvLyBtZWpvciBkZSAzXHJcbiAgICAgICAgdGhpcy5jdXJyZW50U2V0ID0gMTsgLy8gc2V0IGFjdHVhbFxyXG4gICAgICAgIHRoaXMuaXNHb2xkZW5Qb2ludCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gY2hhcmFjdGVyQVxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJBX21vdmUnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0EvQU5JTUFDSU9ORVNfQ09SUkVSX1JFQ0lCSVIucG5nJyxcclxuICAgICAgICAgICAgeyBmcmFtZVdpZHRoOiAyOSwgZnJhbWVIZWlnaHQ6IDQ0IH1cclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJBX2p1bXAnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0EvQU5JTUFDSU9OX1JFTUFURS5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDMyLCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy8gY2hhcmFjdGVyQlxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJCX21vdmUnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0IvQU5JTUFDSU9ORVNfQ09SUkVSX1JFQ0lCSVIucG5nJyxcclxuICAgICAgICAgICAgeyBmcmFtZVdpZHRoOiAyOSwgZnJhbWVIZWlnaHQ6IDQ0IH1cclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJCX2p1bXAnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0IvQU5JTUFDSU9OX1JFTUFURS5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDMyLCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy8gY2hhcmFjdGVyQ1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJDX21vdmUnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0MvQU5JTUFDSU9ORVNfQ09SUkVSX1JFQ0lCSVIucG5nJyxcclxuICAgICAgICAgICAgeyBmcmFtZVdpZHRoOiAyOSwgZnJhbWVIZWlnaHQ6IDQ0IH1cclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJDX2p1bXAnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0MvQU5JTUFDSU9OX1JFTUFURS5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDMyLCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIEVzY2VuYXJpb3NcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0d5bScsICdBU1NFVFMvRk9ORE9TL0dJTU5BU0lPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGxheWEnLCAnQVNTRVRTL0ZPTkRPUy9QTEFZQS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0phcmRpbicsICdBU1NFVFMvRk9ORE9TL0pBUkRJTi5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gUG93ZXJVcHNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvcjInLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9NVUxUSVBMSUNBRE9SIDIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb3IzJywgJ0FTU0VUUy9JVEVNUy9QT1dFUiBVUFMvTVVMVElQTElDQURPUiAzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGFyYWxpemFyJywgJ0FTU0VUUy9JVEVNUy9QT1dFUiBVUFMvUEFSQUxJWkFETy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3JhbGVudGl6YXInLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9SRUxFTlRJWkFSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndmVsb2NpZGFkJywgJ0FTU0VUUy9JVEVNUy9QT1dFUiBVUFMvVkVMT0NJREFELnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWFyY29Qb3dlclVwJywgJ0FTU0VUUy9KVUVHTy9CYXNlX3Bvd2VyVXAucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFBlbG90YVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYmFsbCcsICdBU1NFVFMvSVRFTVMvUEVMT1RBUy9QX05PUk1BTC5wbmcnKTtcclxuICAgICAgICAvLyBSZWRcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3JlZCcsICdBU1NFVFMvSlVFR08vUkVELnBuZycpO1xyXG4gICAgICAgIC8vIENyb27Ds21ldHJvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdyZWxvaicsICdBU1NFVFMvSlVFR08vVElNRVIucG5nJyk7XHJcbiAgICAgICAgLy8gTWFyY29cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hcmNvR2VuZXJhbCcsICdBU1NFVFMvSlVFR08vTUFSQ0FET1JfU0VULnBuZycpOyAgICAgICAgXHJcblxyXG4gICAgICAgIC8vIEVmZWN0b3MgZGUgc29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZnhfc2lsYmF0bycsICdBU1NFVFMvU09OSURPL1NpbGJhdG9faW5pY2lvX3BhcnRpZG9fMXA0cy5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeF9yZW1hdGUnLCAnQVNTRVRTL1NPTklETy9Ub3F1ZV9wZWxvdGFfcmVtYXRlXzAzcy5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeF9yZWNlcGNpb24nLCAnQVNTRVRTL1NPTklETy9Ub3F1ZV9wZWxvdGFfcmVjZXBjaW9uLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4X3NhbHRvJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvU2FsdG9fMXAubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZnhfcHVudG8nLCAnQVNTRVRTL1NPTklETy9Tb25pZG9QdW50by5tcDMnKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIHNlIGd1YXJkYW4gbGFzIGRpbWVuc2lvbmVzXHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIHRoaXMud29ybGRXaWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMud29ybGRIZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlO1xyXG5cclxuICAgICAgICAvLyBzZSBkZWZpbmVuIGxvcyBlZmVjdG9zIGRlIHNvbmlkb1xyXG4gICAgICAgIHRoaXMuc2Z4ID0ge1xyXG4gICAgICAgICAgICB3aGlzdGxlOiAnc2Z4X3NpbGJhdG8nLFxyXG4gICAgICAgICAgICBzcGlrZTogJ3NmeF9yZW1hdGUnLFxyXG4gICAgICAgICAgICByZWNlaXZlOiAnc2Z4X3JlY2VwY2lvbicsXHJcbiAgICAgICAgICAgIGp1bXA6ICdzZnhfc2FsdG8nLFxyXG4gICAgICAgICAgICBwb2ludDogJ3NmeF9wdW50bydcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIHNlIHJlcHJvZHVjZSBlbCBzaWxiYXRvIGRlIGluaWNpbyBkZSBwYXJ0aWRvXHJcbiAgICAgICAgdGhpcy5wbGF5U2Z4KHRoaXMuc2Z4LndoaXN0bGUpO1xyXG5cclxuICAgICAgICAvLyBDcm9uw7NtZXRyb1xyXG4gICAgICAgIHRoaXMudGltZXJUZXh0ID0gdGhpcy5hZGQudGV4dCh0aGlzLnNjYWxlLndpZHRoIC8gMiwgMzAsIFwiXCIsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41LCAwKVxyXG4gICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAuc2V0RGVwdGgoOTk5OSk7XHJcblxyXG4gICAgICAgIHRoaXMudGltZXJJY29uID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5zY2FsZS53aWR0aCAvIDIsIDQ1LCAncmVsb2onKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDIpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgLnNldERlcHRoKDkwMDApOyAvLyBkZWJham8gZGVsIHRleHRvXHJcblxyXG4gICAgICAgIC8vIG1hcmNvIGRlIHNldFxyXG4gICAgICAgIHRoaXMuc2V0RnJhbWUgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLnNjYWxlLndpZHRoIC8gMiwgMTIwLCAnbWFyY29HZW5lcmFsJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoOTk5OCk7XHJcblxyXG4gICAgICAgIC8vIHRleHRvIGRlbCBzZXQgYWN0dWFsXHJcbiAgICAgICAgdGhpcy5zZXRUZXh0ID0gdGhpcy5hZGQudGV4dCh0aGlzLnNjYWxlLndpZHRoIC8gMiwgMTIwLCBgU0VUICR7dGhpcy5jdXJyZW50U2V0fWAsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXREZXB0aCg5OTk5KTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2V0RnJhbWVXaWR0aCA9IHRoaXMuc2V0RnJhbWUuZGlzcGxheVdpZHRoO1xyXG4gICAgICAgIGNvbnN0IHNldEZyYW1lSGVpZ2h0ID0gdGhpcy5zZXRGcmFtZS5kaXNwbGF5SGVpZ2h0O1xyXG4gICAgICAgIGNvbnN0IHNldFNjb3JlWSA9IHRoaXMuc2V0RnJhbWUueSArIE1hdGgucm91bmQoc2V0RnJhbWVIZWlnaHQgLyAyKSArIDEzO1xyXG4gICAgICAgIGNvbnN0IHNldFNjb3JlT2Zmc2V0WCA9IE1hdGgucm91bmQoc2V0RnJhbWVXaWR0aCAqIDAuMjIpO1xyXG4gICAgICAgIGNvbnN0IHNldFNjb3JlRnJhbWVTY2FsZVggPSAwLjQ7XHJcbiAgICAgICAgY29uc3Qgc2V0U2NvcmVGcmFtZVNjYWxlWSA9IDAuMzg7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U2NvcmVGcmFtZUxlZnQgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLnNjYWxlLndpZHRoIC8gMiAtIHNldFNjb3JlT2Zmc2V0WCwgc2V0U2NvcmVZLCAnbWFyY29HZW5lcmFsJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZShzZXRTY29yZUZyYW1lU2NhbGVYLCBzZXRTY29yZUZyYW1lU2NhbGVZKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoOTk5OCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U2NvcmVGcmFtZVJpZ2h0ID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5zY2FsZS53aWR0aCAvIDIgKyBzZXRTY29yZU9mZnNldFgsIHNldFNjb3JlWSwgJ21hcmNvR2VuZXJhbCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoc2V0U2NvcmVGcmFtZVNjYWxlWCwgc2V0U2NvcmVGcmFtZVNjYWxlWSlcclxuICAgICAgICAgICAgLnNldERlcHRoKDk5OTgpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFNjb3JlTGVmdCA9IHRoaXMuYWRkLnRleHQodGhpcy5zY2FsZS53aWR0aCAvIDIgLSBzZXRTY29yZU9mZnNldFgsIHNldFNjb3JlWSwgYCR7dGhpcy5zZXRzUDF9YCwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldERlcHRoKDk5OTkpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFNjb3JlUmlnaHQgPSB0aGlzLmFkZC50ZXh0KHRoaXMuc2NhbGUud2lkdGggLyAyICsgc2V0U2NvcmVPZmZzZXRYLCBzZXRTY29yZVksIGAke3RoaXMuc2V0c1AyfWAsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXREZXB0aCg5OTk5KTtcclxuXHJcbiAgICAgICAgLy8gdGV4dG8gcGFyYSBtb3N0cmFyIGVsIGdhbmFkb3IgZGVsIHNldFxyXG4gICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dCA9IHRoaXMuYWRkLnRleHQodGhpcy5zY2FsZS53aWR0aCAvIDIsIDIwNSwgJycsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDNcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXREZXB0aCg5OTk5KVxyXG4gICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy8gaW5pY2lhciBlbCBjb250YWRvciBwYXJhIGVsIGNyb27Ds21ldHJvXHJcbiAgICAgICAgdGhpcy50aW1lckV2ZW50ID0gdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDEwMDAsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLnVwZGF0ZVRpbWVyLFxyXG4gICAgICAgICAgICBjYWxsYmFja1Njb3BlOiB0aGlzLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlVGltZXIoKTtcclxuXHJcbiAgICAgICAgLy8gRk9ORE8gREVMIEVTQ0VOQVJJTyBTRUxFQ0NJT05BRE9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSh3aWR0aCAvIDIsIGhlaWdodCAvIDIsIHRoaXMuc2VsZWN0ZWRTY2VuYXJpbylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpOyBcclxuXHJcbiAgICAgICAgLy8gUmVkXHJcbiAgICAgICAgY29uc3QgcmVkID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUod2lkdGggLyAyLCBoZWlnaHQgLSAxNjAsICdyZWQnKS5zZXRTY2FsZSgwLjYpO1xyXG5cclxuICAgICAgICBjb25zdCByZWRUZXh0dXJlID0gdGhpcy50ZXh0dXJlcy5nZXQoJ3JlZCcpLmdldFNvdXJjZUltYWdlKCk7XHJcbiAgICAgICAgcmVkLmJvZHkuc2V0U2l6ZShyZWRUZXh0dXJlLndpZHRoICogMC41LCByZWRUZXh0dXJlLmhlaWdodCAqIDAuNSk7IC8vIG11bHRpcGxpY2FyIHBvciBlbCBzY2FsZVxyXG4gICAgICAgIHJlZC5ib2R5LnNldE9mZnNldCgtcmVkLmJvZHkud2lkdGgvMiwgLXJlZC5ib2R5LmhlaWdodC8yKTtcclxuICAgICAgICByZWQuYm9keS51cGRhdGVGcm9tR2FtZU9iamVjdCgpO1xyXG4gICAgICAgIHRoaXMucmVkID0gcmVkO1xyXG5cclxuICAgICAgICB0aGlzLl9jcmVhdGVBbmltYXRpb25zKCk7XHJcblxyXG4gICAgICAgIC8vUFVOVFVBQ0lPTiBERSBMT1MgSlVHQURPUkVTXHJcbiAgICAgICAgLy8gTWFyY29zIGRlIHB1bnR1YWNpw7NuXHJcbiAgICAgICAgdGhpcy5wb2ludHNMZWZ0ID0gMDtcclxuICAgICAgICB0aGlzLnBvaW50c1JpZ2h0ID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5zY29yZUZyYW1lTGVmdCA9IHRoaXMuYWRkLmltYWdlKDIwMCwgNTAsICdtYXJjb0dlbmVyYWwnKS5zZXRTY2FsZSgwLjgsIDAuNTUpLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuc2NvcmVGcmFtZVJpZ2h0ID0gdGhpcy5hZGQuaW1hZ2UodGhpcy53b3JsZFdpZHRoIC0gMjAwLCA1MCwgJ21hcmNvR2VuZXJhbCcpLnNldFNjYWxlKDAuOCwgMC41NSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NvcmVMZWZ0ID0gdGhpcy5hZGQudGV4dCgyMDAsIDQ1LCAnMCcsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDk5OTkpO1xyXG5cclxuICAgICAgICB0aGlzLnJpZ2h0U2NvcmUgPSB0aGlzLmFkZC50ZXh0KHRoaXMud29ybGRXaWR0aCAtIDIwMCwgNDUsICcwJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoOTk5OSk7XHJcblxyXG4gICAgICAgIC8vIHN1ZWxvIGRlIHBydWViYTogY3JlYXIgdW4gY3VlcnBvIGVzdMOhdGljbyByZWN0YW5ndWxhciBpbnZpc2libGVcclxuICAgICAgICAvLyBDb25maWd1cmFibGU6IGFsdHVyYSB5IGRlc3BsYXphbWllbnRvIGRlc2RlIGVsIGZvbmRvIChgZ3JvdW5kT2Zmc2V0YClcclxuICAgICAgICBjb25zdCBncm91bmRIZWlnaHQgPSAyMDtcclxuICAgICAgICBjb25zdCBncm91bmRPZmZzZXQgPSA5MDsgLy8gZWxldmFyIGVsIHN1ZWxvIDEwMHB4IGRlc2RlIGVsIGZvbmRvXHJcbiAgICAgICAgdGhpcy5ncm91bmRIZWlnaHQgPSBncm91bmRIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5ncm91bmRZID0gdGhpcy53b3JsZEhlaWdodCAtIGdyb3VuZE9mZnNldDtcclxuXHJcbiAgICAgICAgY29uc3QgZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKFxyXG4gICAgICAgICAgICB0aGlzLndvcmxkV2lkdGggLyAyLFxyXG4gICAgICAgICAgICB0aGlzLmdyb3VuZFksXHJcbiAgICAgICAgICAgIHRoaXMud29ybGRXaWR0aCxcclxuICAgICAgICAgICAgZ3JvdW5kSGVpZ2h0XHJcbiAgICAgICAgKS5zZXRPcmlnaW4oMC41LCAwKS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAvLyBhw7FhZGlyIHVuIGN1ZXJwbyBmw61zaWNvIGVzdMOhdGljbyBhbCByZWN0w6FuZ3Vsb1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcoZ3JvdW5kLCB0cnVlKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBwcmltZXJvIHNlIGNyZWFuIGxvcyBqdWdhZG9yZXNcclxuICAgICAgICB0aGlzLl9jcmVhdGVQbGF5ZXJzKCk7XHJcbiAgICAgICAgLy8gZGVzcHXDqXMsIHNlIG1vbnRhbiBsYXMgY29saXNpb25lcyBjb24gZWwgc3VlbG8sIHJlZCwgZXRjLlxyXG4gICAgICAgIC8vIG1vbnRhciBjb2xpc2lvbmVzIGbDrXNpY2FzIGVudHJlIGp1Z2Fkb3JlcyB5IHN1ZWxvIHBhcmEgcXVlIGJvZHkuYmxvY2tlZC5kb3duIGZ1bmNpb25lXHJcbiAgICAgICAgdGhpcy5fc2V0dXBQaHlzaWNzV29ybGQoZ3JvdW5kKTtcclxuICAgICAgICAvLyBwb3Igw7psdGltbywgc2UgYXNpZ25hbiBsYXMgdGVjbGFzXHJcbiAgICAgICAgdGhpcy5fc2V0dXBJbnB1dE1hcHBpbmdzKCk7XHJcblxyXG4gICAgICAgIC8vIHBvd2VydXBzXHJcbiAgICAgICAgdGhpcy5wb3dlclVwcyA9IFtdO1xyXG4gICAgICAgIHRoaXMubWF4UG93ZXJVcHMgPSAyO1xyXG4gICAgICAgIC8vIGxhIGFwYXJpY2nDs24gZGUgcG93ZXItdXBzIHNvbiBtZW5vcyBmcmVjdWVudGVzIHkgY29uIHBlc29zLCBwYXJhIHF1ZSB1bm9zIHNhbGdhblxyXG4gICAgICAgIC8vIG3DoXMgcXVlIG90cm9zIChwb3IgZWplbXBsbywgc2UgcmVkdWNlIGxhIGFwYXJpY2nDs24gZGUgcGFyYWxpemFyKVxyXG4gICAgICAgIHRoaXMucG93ZXJVcFNwYXduQ29uZmlnID0ge1xyXG4gICAgICAgICAgICAvLyBlbnRyZSAzLjUgeSA3IHNlZ3VuZG9zXHJcbiAgICAgICAgICAgIG1pbkRlbGF5TXM6IDM1MDAsXHJcbiAgICAgICAgICAgIG1heERlbGF5TXM6IDcwMDAsXHJcbiAgICAgICAgICAgIHdlaWdodHM6IHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaWRhZDogMyxcclxuICAgICAgICAgICAgICAgIHJhbGVudGl6YXI6IDIsXHJcbiAgICAgICAgICAgICAgICBwYXJhbGl6YXI6IDEsXHJcbiAgICAgICAgICAgICAgICBwb3IyOiAzLFxyXG4gICAgICAgICAgICAgICAgcG9yMzogMlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb29sZG93bk1zOiB7XHJcbiAgICAgICAgICAgICAgICAvLyBwYXJhIGV2aXRhciBxdWUgc2FsZ2FuIG11eSBzZWd1aWRvcyB5IHVuIGp1Z2Fkb3Igbm8gcHVlZGEgbW92ZXJzZVxyXG4gICAgICAgICAgICAgICAgLy8gZHVyYW50ZSBtdWNobyB0aWVtcG9cclxuICAgICAgICAgICAgICAgIHBhcmFsaXphcjogMTAwMDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5wb3dlclVwTGFzdFNwYXduQXQgPSB7fTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnZlbnRvcnlVSSA9IHtcclxuICAgICAgICAgICAgcGxheWVyMTogW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNTAsIDUwLCAncG9yMicpLnNldFNjYWxlKDEuNCkuc2V0VmlzaWJsZShmYWxzZSkuc2V0RGVwdGgoMSksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSgxMTAsIDUwLCAncG9yMicpLnNldFNjYWxlKDEuNCkuc2V0VmlzaWJsZShmYWxzZSkuc2V0RGVwdGgoMSlcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgcGxheWVyMjogW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UodGhpcy53b3JsZFdpZHRoIC0gMTEwLCA1MCwgJ3BvcjInKS5zZXRTY2FsZSgxLjQpLnNldFZpc2libGUoZmFsc2UpLnNldERlcHRoKDEpLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UodGhpcy53b3JsZFdpZHRoIC0gNTAsIDUwLCAncG9yMicpLnNldFNjYWxlKDEuNCkuc2V0VmlzaWJsZShmYWxzZSkuc2V0RGVwdGgoMSlcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVQb3dlclVwU3Bhd24oKTtcclxuXHJcbiAgICAgICAgLy8gTWFyY29zIGRlbCBpbnZlbnRhcmlvXHJcbiAgICAgICAgdGhpcy5pbnZlbnRvcnlGcmFtZXMgPSB7XHJcbiAgICAgICAgICAgIHBsYXllcjE6IFtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKDUwLCA1MCwgJ21hcmNvUG93ZXJVcCcpLnNldFNjYWxlKDEpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDApLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMTEwLCA1MCwgJ21hcmNvUG93ZXJVcCcpLnNldFNjYWxlKDEpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDApXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHBsYXllcjI6IFtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKHRoaXMud29ybGRXaWR0aCAtIDExMCwgNTAsICdtYXJjb1Bvd2VyVXAnKS5zZXRTY2FsZSgxKS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgwKSxcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKHRoaXMud29ybGRXaWR0aCAtIDUwLCA1MCwgJ21hcmNvUG93ZXJVcCcpLnNldFNjYWxlKDEpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDApXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBpbmljaWFsaXphY2nDs24gZGUgbGEgcGVsb3RhXHJcbiAgICAgICAgdGhpcy5fY3JlYXRlQmFsbCgpO1xyXG4gICAgICAgIC8vIGVtcHVqw7NuIHN1dMOtbCBwYXJhIGV2aXRhciBxdWUgc2UgcXVlZGUgc29icmUgbGEgcmVkIGFsIGluaWNpb1xyXG4gICAgICAgIHRoaXMuYmFsbC5zZXRTZXJ2ZVBvc2l0aW9uKCk7XHJcbiAgICAgICAgLy8gY29sbGlkZXJzIGRlIGxhIHBlbG90YVxyXG4gICAgICAgIHRoaXMuX3NldHVwQmFsbENvbGxpc2lvbnMoKTtcclxuICAgICAgICAvLyBldmVudG9zIGRlIGxhIHBlbG90YVxyXG4gICAgICAgIHRoaXMuX3NldHVwQmFsbEV2ZW50cygpO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKFwia2V5ZG93bi1FU0NcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBzZSBkZXRpZW5lIGVsIGdhbWUgbG9vcFxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudC5wYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaChcIlBhdXNlX1NjZW5lXCIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBhY2Nlc28gZGlyZWN0byBhIGxhIGVzY2VuYSBkZSBmaW4gZGUgcGFydGlkYVxyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oXCJrZXlkb3duLUZcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB3aW5uZXIgPSB0aGlzLnNjb3JlUDEgPj0gdGhpcy5zY29yZVAyID8gXCJwbGF5ZXIxXCIgOiBcInBsYXllcjJcIjtcclxuICAgICAgICAgICAgdGhpcy5fZW5kR2FtZSh3aW5uZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdyZXN1bWUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudC5wYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZW5lcmEgdW4gbnVldm8gcG93ZXItdXAgZW4gdW5hIHBvc2ljacOzbiBhbGVhdG9yaWEgY2FkYSBjaWVydG8gdGllbXBvXHJcbiAgICBzY2hlZHVsZVBvd2VyVXBTcGF3bigpIHtcclxuICAgICAgICBjb25zdCB7IG1pbkRlbGF5TXMsIG1heERlbGF5TXMgfSA9IHRoaXMucG93ZXJVcFNwYXduQ29uZmlnO1xyXG4gICAgICAgIGNvbnN0IGRlbGF5ID0gUGhhc2VyLk1hdGguQmV0d2VlbihtaW5EZWxheU1zLCBtYXhEZWxheU1zKTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKGRlbGF5LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBvd2VyVXBzLmxlbmd0aCA8IHRoaXMubWF4UG93ZXJVcHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKDgwLCB0aGlzLndvcmxkV2lkdGggLSA4MCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gUGhhc2VyLk1hdGguQmV0d2Vlbih0aGlzLndvcmxkSGVpZ2h0IC0gMjIwLCB0aGlzLndvcmxkSGVpZ2h0IC0gMTIwKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gdGhpcy5fZ2V0V2VpZ2h0ZWRQb3dlclVwVHlwZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3dlclVwID0gbmV3IFBvd2VyVXAodGhpcywgeCwgeSwgdHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3dlclVwcy5wdXNoKHBvd2VyVXApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG93ZXJVcExhc3RTcGF3bkF0W3R5cGVdID0gdGhpcy50aW1lLm5vdztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVBvd2VyVXBTcGF3bigpOyAvLyByZWN1cnNpdm9cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBPYnRpZW5lIHVuIHRpcG8gZGUgcG93ZXItdXAgYmFzYWRvIGVuIGxvcyBwZXNvcyBjb25maWd1cmFkb3MgYW50ZXJpb3JtZW50ZVxyXG4gICAgX2dldFdlaWdodGVkUG93ZXJVcFR5cGUoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3ZWlnaHRzLCBjb29sZG93bk1zIH0gPSB0aGlzLnBvd2VyVXBTcGF3bkNvbmZpZztcclxuXHJcbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy50aW1lLm5vdztcclxuICAgICAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMod2VpZ2h0cykuZmlsdGVyKChbdHlwZSwgd2VpZ2h0XSkgPT4ge1xyXG4gICAgICAgICAgICAvLyBzZSBmaWx0cmFuIGxvcyB0aXBvcyBxdWUgbm8gc2UgcHVlZGVuIHVzYXJcclxuICAgICAgICAgICAgLy8gc2kgZWwgcGVzbyBlcyAwXHJcbiAgICAgICAgICAgIGlmICh3ZWlnaHQgPD0gMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAvLyBzaSB0b2RhdsOtYSBlc3TDoSBlbiBjb29sZG93biBkZXNkZSBsYSDDumx0aW1hIGFwYXJpY2nDs25cclxuICAgICAgICAgICAgY29uc3QgY29vbGRvd24gPSBjb29sZG93bk1zPy5bdHlwZV07XHJcbiAgICAgICAgICAgIGlmICghY29vbGRvd24pIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0ID0gdGhpcy5wb3dlclVwTGFzdFNwYXduQXQ/Llt0eXBlXSB8fCAwO1xyXG4gICAgICAgICAgICByZXR1cm4gbm93IC0gbGFzdCA+PSBjb29sZG93bjtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gc2kgbm8gcXVlZGEgbmluZ8O6biB0aXBvIGRpc3BvbmlibGUsIHNlIGRldnVlbHZlIG51bGxcclxuICAgICAgICBpZiAoIWVudHJpZXMubGVuZ3RoKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gc2Ugc3VtYW4gdG9kb3MgbG9zIHBlc29zLCBzZSBlbGlnZSB1biBuw7ptZXJvIGFsZWF0b3JpbyBlbnRyZSAxIHkgZXNhIHN1bWFcclxuICAgICAgICBjb25zdCB0b3RhbCA9IGVudHJpZXMucmVkdWNlKChzdW0sIFssIHdlaWdodF0pID0+IHN1bSArIHdlaWdodCwgMCk7XHJcbiAgICAgICAgbGV0IHJvbGwgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKDEsIHRvdGFsKTtcclxuICAgICAgICAvLyBzZSB2YW4gcmVzdGFuZG8gcGVzb3MgaGFzdGEgcXVlIGVsIGNvbnRhZG9yIGNhZSBlbiB1biB0aXBvXHJcbiAgICAgICAgZm9yIChjb25zdCBbdHlwZSwgd2VpZ2h0XSBvZiBlbnRyaWVzKSB7XHJcbiAgICAgICAgICAgIHJvbGwgLT0gd2VpZ2h0O1xyXG4gICAgICAgICAgICAvLyBzZSBkZXZ1ZWx2ZSBlbCB0aXBvXHJcbiAgICAgICAgICAgIGlmIChyb2xsIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbR2FtZV9TY2VuZV0gUG93ZXItdXAgYWxlYXRvcmlvOiAnLCB0eXBlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzaSBwb3IgYWxndW5hIHJhesOzbiBubyBjYWUgZW4gbmluZ3Vubywgc2UgZGV2dWVsdmUgZWwgw7psdGltbyB0aXBvIHbDoWxpZG9cclxuICAgICAgICByZXR1cm4gZW50cmllc1tlbnRyaWVzLmxlbmd0aCAtIDFdWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlcHJvZHVjZSB1biBlZmVjdG8gZGUgc29uaWRvXHJcbiAgICBwbGF5U2Z4KGtleSkge1xyXG4gICAgICAgIGlmICgha2V5KSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuc291bmQucGxheShrZXksIHsgdm9sdW1lOiBnZXRTdG9yZWRTZnhWb2x1bWUoKSB9KTtcclxuICAgIH0gICAgXHJcblxyXG4gICAgLy8gQnVjbGUgcHJpbmNpcGFsIGRlbCBqdWVnb1xyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIC8vIHNlIHByb2Nlc2FuIGxvcyBpbnB1dHMgZGUgbG9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUlucHV0Rm9yQWxsUGxheWVycygpO1xyXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YW4gbG9zIHBvd2VyLXVwc1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiBwbGF5ZXIudXBkYXRlUG93ZXJVcHMoKSk7XHJcbiAgICAgICAgLy8gc2UgYWN0dWFsaXphIGVsIGVzdGFkbyBkZSBsYSBwZWxvdGFcclxuICAgICAgICBpZiAodGhpcy5iYWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmFsbC51cGRhdGUoKTtcclxuICAgICAgICAgICAgLy8gdmVyaWZpY2FyIHNpIGxhIHBlbG90YSBnb2xwZWEgZWwgc3VlbG8gKGNvbXBhcmFyIGNvbiBsYSBwb3NpY2nDs24gZGVsIHN1ZWxvKVxyXG4gICAgICAgICAgICAvLyBncm91bmRZIGVzIGxhIHBhcnRlIHN1cGVyaW9yIGRlbCBzdWVsb1xyXG4gICAgICAgICAgICBpZiAodGhpcy5iYWxsLmlzQmFsbExpdmUgJiYgdGhpcy5iYWxsLnNwcml0ZS55ID4gdGhpcy5ncm91bmRZKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhbGwub25Hcm91bmRlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHZlcmlmaWNhciBzaSBsYSBwZWxvdGEgY3J1emEgbGEgcmVkIChyZWQgZXN0w6EgZW4geCA9IDQ4MClcclxuICAgICAgICAgICAgaWYgKHRoaXMuYmFsbC5zcHJpdGUueCA8IDQ3NSAmJiB0aGlzLmJhbGwuY291cnRTaWRlID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhbGwuY3Jvc3NOZXQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmJhbGwuc3ByaXRlLnggPiA0ODUgJiYgdGhpcy5iYWxsLmNvdXJ0U2lkZSA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhbGwuY3Jvc3NOZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3R1YWxpemEgZWwgdGVtcG9yaXphZG9yIGNhZGEgc2VndW5kb1xyXG4gICAgdXBkYXRlVGltZXIoKSB7XHJcbiAgICAgICAgdGhpcy50aWVtcG9SZXN0YW50ZS0tO1xyXG5cclxuICAgICAgICAvLyBGb3JtYXRvXHJcbiAgICAgICAgY29uc3QgbWludXRvcyA9IE1hdGguZmxvb3IodGhpcy50aWVtcG9SZXN0YW50ZSAvIDYwKTtcclxuICAgICAgICBjb25zdCBzZWd1bmRvcyA9IHRoaXMudGllbXBvUmVzdGFudGUgJSA2MDtcclxuICAgICAgICBjb25zdCBmb3JtYXRvID0gYCR7bWludXRvcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7c2VndW5kb3MudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWA7XHJcblxyXG4gICAgICAgIHRoaXMudGltZXJUZXh0LnNldFRleHQoZm9ybWF0byk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRpZW1wb1Jlc3RhbnRlIDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lckV2ZW50LnBhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRklOIERFTCBUSUVNUE9cIik7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zY29yZVAxID4gdGhpcy5zY29yZVAyKSB0aGlzLl9lbmRTZXQoXCJwbGF5ZXIxXCIpO1xyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnNjb3JlUDIgPiB0aGlzLnNjb3JlUDEpIHRoaXMuX2VuZFNldChcInBsYXllcjJcIik7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFbXBhdGUgZW4gZWwgc2V0XCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0dvbGRlblBvaW50ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldFdpbm5lclRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFdpbm5lclRleHQuc2V0VGV4dCgnRU1QQVRFOiBwdW50byBkZSBvcm8nKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFdpbm5lclRleHQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVTZXRTY29yZVVJKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNldFNjb3JlTGVmdCkgdGhpcy5zZXRTY29yZUxlZnQuc2V0VGV4dCh0aGlzLnNldHNQMS50b1N0cmluZygpKTtcclxuICAgICAgICBpZiAodGhpcy5zZXRTY29yZVJpZ2h0KSB0aGlzLnNldFNjb3JlUmlnaHQuc2V0VGV4dCh0aGlzLnNldHNQMi50b1N0cmluZygpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3R1YWxpemEgbGEgVUkgZGVsIGludmVudGFyaW8gZGUgcG93ZXItdXBzIGRlIHVuIGp1Z2Fkb3JcclxuICAgIHVwZGF0ZVBsYXllckludmVudG9yeVVJKHBsYXllcikge1xyXG4gICAgICAgIGNvbnN0IHVpID0gdGhpcy5pbnZlbnRvcnlVSVtwbGF5ZXIuaWRdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLnBvd2VyVXBJbnZlbnRvcnlbaV0pIHtcclxuICAgICAgICAgICAgICAgIHVpW2ldLnNldFRleHR1cmUocGxheWVyLnBvd2VyVXBJbnZlbnRvcnlbaV0pO1xyXG4gICAgICAgICAgICAgICAgdWlbaV0uc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHVpW2ldLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLy8vIE3DiVRPRE9TIEFVWElMSUFSRVMgLy8vL1xyXG4gICAgLy8gQ3JlYSBsYXMgYW5pbWFjaW9uZXMgZGUgbG9zIDMgcGVyc29uYWplc1xyXG4gICAgX2NyZWF0ZUFuaW1hdGlvbnMoKSB7XHJcbiAgICAgICAgLy8vLyBDaGFyYWN0ZXJBIC8vLy9cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfbW92ZScsIHsgc3RhcnQ6IDAsIGVuZDogMSB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX21vdmUnLCB7IHN0YXJ0OiAyMCwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9yZWNlaXZlUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX21vdmUnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfbW92ZScsIHsgc3RhcnQ6IDExLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9tb3ZlJywgeyBzdGFydDogMjIsIGVuZDogMzIgfSksIC8vIGZpbGEgMlxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDIyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9ydW5MZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9tb3ZlJywgeyBzdGFydDogMzMsIGVuZDogNDMgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDNcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfanVtcCcsIHsgc3RhcnQ6IDAsIGVuZDogMTIgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9qdW1wJywgeyBzdGFydDogMTMsIGVuZDogMjUgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDFcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8vLy8vLy9cclxuXHJcbiAgICAgICAgLy8vLyBDaGFyYWN0ZXJCIC8vLy9cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDAsIGVuZDogMSB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX21vdmUnLCB7IHN0YXJ0OiAyMCwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTsgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfcmVjZWl2ZVJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9tb3ZlJywgeyBzdGFydDogMCwgZW5kOiAxMCB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfcmVjZWl2ZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX21vdmUnLCB7IHN0YXJ0OiAxMSwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMVxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9ydW5SaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDIyLCBlbmQ6IDMyIH0pLCAvLyBmaWxhIDJcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfcnVuTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDMzLCBlbmQ6IDQzIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAzXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMjIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9qdW1wUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX2p1bXAnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEyIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9qdW1wTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfanVtcCcsIHsgc3RhcnQ6IDEzLCBlbmQ6IDI1IH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vLy8vLy8vXHJcblxyXG4gICAgICAgIC8vLy8gQ2hhcmFjdGVyQyAvLy8vXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19pZGxlUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX21vdmUnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX2lkbGVMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19tb3ZlJywgeyBzdGFydDogMjAsIGVuZDogMjEgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA1LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7ICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfcmVjZWl2ZVJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19tb3ZlJywgeyBzdGFydDogMCwgZW5kOiAxMCB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfcmVjZWl2ZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX21vdmUnLCB7IHN0YXJ0OiAxMSwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMVxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19ydW5SaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfbW92ZScsIHsgc3RhcnQ6IDIyLCBlbmQ6IDMyIH0pLCAvLyBmaWxhIDJcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfcnVuTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfbW92ZScsIHsgc3RhcnQ6IDMzLCBlbmQ6IDQzIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAzXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMjIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19qdW1wUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX2p1bXAnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEyIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19qdW1wTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfanVtcCcsIHsgc3RhcnQ6IDEzLCBlbmQ6IDI1IH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vLy8vLy8vXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3JlYSBsb3MgcGVyc29uYWplcyBkZSBjYWRhIGp1Z2Fkb3JcclxuICAgIF9jcmVhdGVQbGF5ZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IGNoYXJQMSA9IHRoaXMucGxheWVyMS5jaGFyYWN0ZXI7XHJcbiAgICAgICAgY29uc3QgY2hhclAyID0gdGhpcy5wbGF5ZXIyLmNoYXJhY3RlcjtcclxuXHJcbiAgICAgICAgY29uc3QgcDEgPSBuZXcgUGxheWVyKFxyXG4gICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAncGxheWVyMScsXHJcbiAgICAgICAgICAgIHRoaXMud29ybGRXaWR0aCAqIDAuMjUsICAgLy8gaXpxdWllcmRhXHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kWSAtIDEwMCwgICAgICAgIC8vIGFycmliYSBkZWwgc3VlbG8gKG3DoXMgbWFyZ2VuKVxyXG4gICAgICAgICAgICBjaGFyUDFcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCBwMiA9IG5ldyBQbGF5ZXIoXHJcbiAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgdGhpcy53b3JsZFdpZHRoICogMC43NSwgICAvLyBkZXJlY2hhXHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kWSAtIDEwMCwgICAgICAgIC8vIGFycmliYSBkZWwgc3VlbG8gKG3DoXMgbWFyZ2VuKVxyXG4gICAgICAgICAgICBjaGFyUDJcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgcDEpO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjInLCBwMik7XHJcblxyXG4gICAgICAgIC8vIHNlIGVzdGFibGVjZW4gbG9zIGzDrW1pdGVzIGRlIGxhIGNhbmNoYSBwYXJhIGNhZGEganVnYWRvclxyXG4gICAgICAgIGNvbnN0IGNvdXJ0VG9wID0gNTA7XHJcbiAgICAgICAgLy8gYWxpbmVhciBlbCBsw61taXRlIGluZmVyaW9yIGp1c3RvIHBvciBlbmNpbWEgZGVsIHN1ZWxvXHJcbiAgICAgICAgLy8gY29tbyBlbCBncm91bmQgYWhvcmEgdGllbmUgb3JpZ2luIGVuICgwLjUsIDApLCBncm91bmRZIGVzIGxhIHBhcnRlIHN1cGVyaW9yXHJcbiAgICAgICAgY29uc3QgY291cnRCb3R0b20gPSBNYXRoLmZsb29yKHRoaXMuZ3JvdW5kWSk7XHJcbiAgICAgICAgY29uc3QgY291cnRJbnRlcmlvck1hcmdpbiA9IDI1O1xyXG4gICAgICAgIGNvbnN0IGNvdXJ0RXh0ZXJpb3J0TWFyZ2luID0gODA7XHJcblxyXG4gICAgICAgIC8vIHBsYXllcjEgKGl6cXVpZXJkYSk6XHJcbiAgICAgICAgcDEuc2V0Qm91bmRzKGNvdXJ0RXh0ZXJpb3J0TWFyZ2luLCA0ODAgLSBjb3VydEludGVyaW9yTWFyZ2luLCBjb3VydFRvcCwgY291cnRCb3R0b20pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHBsYXllcjIgKGRlcmVjaGEpOlxyXG4gICAgICAgIHAyLnNldEJvdW5kcyg0ODAgKyBjb3VydEludGVyaW9yTWFyZ2luLCB0aGlzLndvcmxkV2lkdGggLSBjb3VydEV4dGVyaW9ydE1hcmdpbiwgY291cnRUb3AsIGNvdXJ0Qm90dG9tKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnNldFBsYXllcnModGhpcy5wbGF5ZXJzKTtcclxuICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3Iuc2V0R2FtZVNjZW5lKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBwb3IgZGVmZWN0bywgYW5pbWFjacOzbiBpZGxlXHJcbiAgICAgICAgcDEuaWRsZVJpZ2h0KCk7XHJcbiAgICAgICAgcDIuaWRsZUxlZnQoKTtcclxuICAgIH0gICAgXHJcblxyXG4gICAgLy8gQ3JlYSBlbCBzdWVsbywgbGEgcmVkLCBsb3MgbMOtbWl0ZXMsIGV0Yy5cclxuICAgIF9zZXR1cFBoeXNpY3NXb3JsZChncm91bmQpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICAvLyBjb2xpc2nDs24ganVnYWRvci1zdWVsb1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIGdyb3VuZCk7XHJcblxyXG4gICAgICAgICAgICAvLyBjb2xpc2nDs24ganVnYWRvci1yZWRcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLnJlZCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYCR7cGxheWVyLmlkfSB0b2PDsyBsYSByZWQhYCk7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXNpZ25hIGxvcyBjb250cm9sZXMvdGVjbGFzIGRlIGNhZGEganVnYWRvclxyXG4gICAgX3NldHVwSW5wdXRNYXBwaW5ncygpIHtcclxuICAgICAgICBjb25zdCBpbnB1dENvbmZpZyA9IFtcclxuICAgICAgICAgICAgLy8ganVnYWRvciAxXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnQScsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleTogJ0QnLFxyXG4gICAgICAgICAgICAgICAganVtcEtleTogJ1cnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZUtleTogJ1MnLFxyXG4gICAgICAgICAgICAgICAgcG93ZXJLZXk6ICdFJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyBqdWdhZG9yIDJcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdKJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnTCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wS2V5OiAnSScsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlS2V5OiAnSycsXHJcbiAgICAgICAgICAgICAgICBwb3dlcktleTogJ08nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBpbnB1dENvbmZpZy5tYXAoY29uZmlnID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiBjb25maWcucGxheWVySWQsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShcclxuICAgICAgICAgICAgICAgICAgICBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmxlZnRLZXldXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFxyXG4gICAgICAgICAgICAgICAgICAgIFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucmlnaHRLZXldXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAganVtcEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoXHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5qdW1wS2V5XVxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFxyXG4gICAgICAgICAgICAgICAgICAgIFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucmVjZWl2ZUtleV1cclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICBwb3dlcktleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoXHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5wb3dlcktleV1cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQcm9jZXNhIGVsIGlucHV0IGRlIGxvcyBkb3MganVnYWRvcmVzXHJcbiAgICBfaGFuZGxlSW5wdXRGb3JBbGxQbGF5ZXJzKCkge1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncy5mb3JFYWNoKG1hcHBpbmcgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KG1hcHBpbmcucGxheWVySWQpO1xyXG4gICAgICAgICAgICBpZiAoIXBsYXllcikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgLy8gc2kgZXN0w6EgcGFyYWxpemFkbywgc2UgZGVqYSBlbiBpZGxlXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNQYXJhbHl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlkbGVEaXIgPSAocGxheWVyLmZhY2luZyA9PT0gJ2xlZnQnKSA/ICdpZGxlTGVmdCcgOiAnaWRsZVJpZ2h0JztcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlUGxheWVyQ29tbWFuZChwbGF5ZXIsIGlkbGVEaXIpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZGlyZWN0aW9uO1xyXG5cclxuICAgICAgICAgICAgLy8gbW92aW1pZW50byBob3Jpem9udGFsIG5vcm1hbFxyXG4gICAgICAgICAgICBpZiAobWFwcGluZy5sZWZ0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG1hcHBpbmcucmlnaHRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAncmlnaHQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIG5vIHNlIHB1bHNhIG5hZGEsIGFzw60gcXVlIHNlIHF1ZWRhIGlkbGUgc2Vnw7puIGhhY2lhIGTDs25kZSBtaXJhYmFcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAocGxheWVyLmZhY2luZyA9PT0gJ2xlZnQnKSA/ICdpZGxlTGVmdCc6ICdpZGxlUmlnaHQnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBzZSBhcGxpY2EgbW92aW1pZW50by9pZGxlIFNPTE8gc2kgbm8gZXN0w6Egc2FsdGFuZG9cclxuICAgICAgICAgICAgLy8gc2kgZXN0w6Egc2FsdGFuZG8sIG5vIHNlIHByb2Nlc2EgZWwgbW92aW1pZW50byBwYXJhIG5vIHNvYnJlc2NyaWJpciBsYSBhbmltYWNpw7NuXHJcbiAgICAgICAgICAgIGlmICghcGxheWVyLmlzSnVtcGluZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVQbGF5ZXJDb21tYW5kKHBsYXllciwgZGlyZWN0aW9uKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gcmVjZXBjacOzblxyXG4gICAgICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKG1hcHBpbmcucmVjZWl2ZUtleU9iaikpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlY2VpdmVEaXIgPSAocGxheWVyLmZhY2luZyA9PT0gJ2xlZnQnKSA/ICdyZWNlaXZlTGVmdCcgOiAncmVjZWl2ZVJpZ2h0JztcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlUGxheWVyQ29tbWFuZChwbGF5ZXIsIHJlY2VpdmVEaXIpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBzYWx0by9yZW1hdGVcclxuICAgICAgICAgICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bihtYXBwaW5nLmp1bXBLZXlPYmopKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBqdW1wRGlyID0gKHBsYXllci5mYWNpbmcgPT09ICdsZWZ0JykgPyAnanVtcExlZnQnIDogJ2p1bXBSaWdodCc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IucHJvY2VzcyhcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTW92ZVBsYXllckNvbW1hbmQocGxheWVyLCBqdW1wRGlyKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUG93ZXJVcHNcclxuICAgICAgICAgICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bihtYXBwaW5nLnBvd2VyS2V5T2JqKSkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnVzZU5leHRQb3dlclVwKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBsYXllckludmVudG9yeVVJKHBsYXllcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gc2UgYWN0dWFsaXphIGVsIGVzdGFkbyBkZSBsb3MganVnYWRvcmVzIChzdWVsbywgZXRjLilcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4gcGxheWVyLnVwZGF0ZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhIGxhIHBlbG90YVxyXG4gICAgX2NyZWF0ZUJhbGwoKSB7XHJcbiAgICAgICAgdGhpcy5iYWxsID0gbmV3IEJhbGwodGhpcywgdGhpcy53b3JsZFdpZHRoIC8gMiwgMTUwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb25maWd1cmEgbGFzIGNvbGlzaW9uZXMgZGUgbGEgcGVsb3RhXHJcbiAgICBfc2V0dXBCYWxsQ29sbGlzaW9ucygpIHtcclxuICAgICAgICAvLyBjb2xpc2lvbmVzIGRlIGxhIHBlbG90YSBjb24gbG9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgKCkgPT4gdGhpcy5fb25CYWxsUGxheWVyQ29sbGlzaW9uKHRoaXMuYmFsbCwgcGxheWVyKSxcclxuICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGNvbGlzacOzbiBwZWxvdGEtcmVkXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmJhbGwuc3ByaXRlLCB0aGlzLnJlZCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBFc3RvIHNlIGRpc3BhcmEgYWwgdG9jYXIgbGEgcmVkXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMYSBwZWxvdGEgdG9jYSBsYSByZWQhJyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBQb3IgZWplbXBsbywgc2UgcHVlZGUgZnJlbmFyIGxhIHBlbG90YTpcclxuICAgICAgICAgICAgdGhpcy5iYWxsLnNwcml0ZS5zZXRWZWxvY2l0eVgodGhpcy5iYWxsLnNwcml0ZS5ib2R5LnZlbG9jaXR5LnggKiAwLjUpO1xyXG4gICAgICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLnNldFZlbG9jaXR5WSh0aGlzLmJhbGwuc3ByaXRlLmJvZHkudmVsb2NpdHkueSAqIDAuNSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGNvbGlzacOzbiBkZSBsYSBwZWxvdGEgY29uIGVsIHN1ZWxvIChkaXNwYXJhIHB1bnR1YWNpw7NuKVxyXG4gICAgICAgIGNvbnN0IGdyb3VuZFkgPSB0aGlzLndvcmxkSGVpZ2h0IC0gMTA7XHJcbiAgICAgICAgdGhpcy5iYWxsLnNwcml0ZS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5iYWxsLnNwcml0ZS5zZXRCb3VuY2UoMC44KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb25maWd1cmEgbG9zIGV2ZW50IGxpc3RlbmVycyBkZSBsYSBwZWxvdGFcclxuICAgIF9zZXR1cEJhbGxFdmVudHMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3JhbGx5Q29uY2x1ZGVkJywgKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYFJhbGx5IGNvbmNsdWRlZDogJHtkYXRhLnNjb3JpbmdQbGF5ZXJJZH0gc2NvcmVzIWApO1xyXG4gICAgICAgICAgICBjb25zdCBzY29yZXJJZCA9IGRhdGEuc2NvcmluZ1BsYXllcklkO1xyXG5cclxuICAgICAgICAgICAgLy8gc2UgY29nZSBlbCBwbGF5ZXIgcXVlIGhhIGFub3RhZG9cclxuICAgICAgICAgICAgY29uc3Qgc2NvcmluZ1BsYXllciA9IHRoaXMucGxheWVycy5nZXQoc2NvcmVySWQpO1xyXG4gICAgICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gc2NvcmluZ1BsYXllciA/IChzY29yaW5nUGxheWVyLnNjb3JlTXVsdGlwbGllciB8fCAxKSA6IDE7XHJcblxyXG4gICAgICAgICAgICAvLyAxIHB1bnRvIGJhc2UgKiBtdWx0aXBsaWNhZG9yXHJcbiAgICAgICAgICAgIGNvbnN0IHBvaW50c1RvQWRkID0gbXVsdGlwbGllcjtcclxuXHJcbiAgICAgICAgICAgIGlmIChzY29yZXJJZCA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBtYXJjYWRvciB2aXN1YWxcclxuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzTGVmdCArPSBwb2ludHNUb0FkZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVMZWZ0LnNldFRleHQodGhpcy5wb2ludHNMZWZ0LnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHB1bnRvcyBkZWwgc2V0IChwYXJhIGzDs2dpY2EgZGUgc2V0cylcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVQMSArPSBwb2ludHNUb0FkZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzY29yZXJJZCA9PT0gJ3BsYXllcjInKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50c1JpZ2h0ICs9IHBvaW50c1RvQWRkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodFNjb3JlLnNldFRleHQodGhpcy5wb2ludHNSaWdodC50b1N0cmluZygpKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjb3JlUDIgKz0gcG9pbnRzVG9BZGQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gc2UgcmVwcm9kdWNlIGVsIGVmZWN0byBkZSBzb25pZG8gZGUgcHVudG9cclxuICAgICAgICAgICAgdGhpcy5wbGF5U2Z4KHRoaXMuc2Z4LnBvaW50KTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzR29sZGVuUG9pbnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNHb2xkZW5Qb2ludCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW5kU2V0KHNjb3JlcklkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIGNvbmRpY2nDs24gZGUgMTEgcHVudG9zIGNvbiAyIGRlIGRpZmVyZW5jaWFcclxuICAgICAgICAgICAgdGhpcy5fY2hlY2tXaW5Db25kaXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBWZXJpZmljYSBzaSBsYSBwZWxvdGEgZXN0w6EgZW4gbGEgem9uYSB2w6FsaWRhIHBhcmEgZ29scGVhcmxhXHJcbiAgICBfaXNCYWxsSW5IaXRab25lKGJhbGxTcHJpdGUsIHBsYXllciwgaXNKdW1waW5nLCBpc1JlY2VpdmluZykge1xyXG4gICAgICAgIGNvbnN0IGJvZHkgPSBwbGF5ZXIuc3ByaXRlLmJvZHk7XHJcbiAgICAgICAgaWYgKCFib2R5KSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIGNvbnN0IGJhbGxYID0gYmFsbFNwcml0ZS54O1xyXG4gICAgICAgIGNvbnN0IGJhbGxZID0gYmFsbFNwcml0ZS55O1xyXG4gICAgICAgIGNvbnN0IGJvZHlUb3AgPSBib2R5Lnk7XHJcbiAgICAgICAgY29uc3QgYm9keUhlaWdodCA9IGJvZHkuaGVpZ2h0O1xyXG4gICAgICAgIGNvbnN0IGJvZHlDZW50ZXJYID0gYm9keS54ICsgYm9keS53aWR0aCAqIDAuNTtcclxuXHJcbiAgICAgICAgY29uc3Qgem9uZSA9IGlzSnVtcGluZ1xyXG4gICAgICAgICAgICA/IHsgdG9wOiAtMC4xLCBib3R0b206IDAuNiB9XHJcbiAgICAgICAgICAgIDogKGlzUmVjZWl2aW5nID8geyB0b3A6IDAuMzUsIGJvdHRvbTogMC44NSB9IDogeyB0b3A6IDAuMjUsIGJvdHRvbTogMC44NSB9KTtcclxuXHJcbiAgICAgICAgY29uc3Qgem9uZVRvcCA9IGJvZHlUb3AgKyBib2R5SGVpZ2h0ICogem9uZS50b3A7XHJcbiAgICAgICAgY29uc3Qgem9uZUJvdHRvbSA9IGJvZHlUb3AgKyBib2R5SGVpZ2h0ICogem9uZS5ib3R0b207XHJcblxyXG4gICAgICAgIGlmIChiYWxsWSA8IHpvbmVUb3AgfHwgYmFsbFkgPiB6b25lQm90dG9tKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGZhY2luZ1JpZ2h0ID0gcGxheWVyLmZhY2luZyA9PT0gJ3JpZ2h0JztcclxuICAgICAgICBjb25zdCB3aWRlSGl0ID0gaXNSZWNlaXZpbmcgfHwgaXNKdW1waW5nO1xyXG4gICAgICAgIGNvbnN0IHJlYWNoRm9yd2FyZCA9IGJvZHkud2lkdGggKiAod2lkZUhpdCA/IDAuOSA6IDAuNzUpO1xyXG4gICAgICAgIGNvbnN0IHJlYWNoQmFjayA9IGJvZHkud2lkdGggKiAod2lkZUhpdCA/IDAuMjUgOiAwLjE1KTtcclxuICAgICAgICBjb25zdCBtaW5YID0gZmFjaW5nUmlnaHQgPyBib2R5Q2VudGVyWCAtIHJlYWNoQmFjayA6IGJvZHlDZW50ZXJYIC0gcmVhY2hGb3J3YXJkO1xyXG4gICAgICAgIGNvbnN0IG1heFggPSBmYWNpbmdSaWdodCA/IGJvZHlDZW50ZXJYICsgcmVhY2hGb3J3YXJkIDogYm9keUNlbnRlclggKyByZWFjaEJhY2s7XHJcblxyXG4gICAgICAgIGlmIChiYWxsWCA8IG1pblggfHwgYmFsbFggPiBtYXhYKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1hbmVqYSBjb2xpc2nDs24gZW50cmUgcGVsb3RhIHkganVnYWRvclxyXG4gICAgX29uQmFsbFBsYXllckNvbGxpc2lvbihiYWxsLCBwbGF5ZXIpIHtcclxuICAgICAgICBpZiAoIWJhbGwuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBpc0p1bXBpbmcgPSAhcGxheWVyLnNwcml0ZS5ib2R5LmJsb2NrZWQuZG93bjtcclxuICAgICAgICBjb25zdCBpc1JlY2VpdmluZyA9IHBsYXllci5pc1JlY2VpdmluZztcclxuICAgICAgICBjb25zdCBwbGF5ZXJEaXJlY3Rpb24gPSBwbGF5ZXIuZmFjaW5nO1xyXG5cclxuICAgICAgICBpZiAoIXRoaXMuX2lzQmFsbEluSGl0Wm9uZShiYWxsLnNwcml0ZSwgcGxheWVyLCBpc0p1bXBpbmcsIGlzUmVjZWl2aW5nKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBiYWxsLmhpdChwbGF5ZXIsIHBsYXllckRpcmVjdGlvbiwgaXNKdW1waW5nLCBpc1JlY2VpdmluZyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29udHJvbGEgZWwgZmluYWwgZGVsIGp1ZWdvXHJcbiAgICBfZW5kR2FtZSh3aW5uZXIpIHtcclxuICAgICAgICAvLyBzZSBwYXJhIGVsIHRpbWVyIGRlbCBzZXRcclxuICAgICAgICBpZiAodGhpcy50aW1lckV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudC5yZW1vdmUoZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gc2lsYmF0byBkZSBmaW5hbCBkZSBwYXJ0aWRvXHJcbiAgICAgICAgdGhpcy5wbGF5U2Z4KHRoaXMuc2Z4LndoaXN0bGUpO1xyXG5cclxuICAgICAgICAvLyBzZSBkZXRpZW5lIGxhIGbDrXNpY2EgZGUgZXN0YSBlc2NlbmEgYW50ZXMgZGUgc2FsaXJcclxuICAgICAgICBpZiAodGhpcy5waHlzaWNzICYmIHRoaXMucGh5c2ljcy53b3JsZCkge1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3Mud29ybGQucGF1c2UoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoXCJFbmRHYW1lX1NjZW5lXCIsIHtcclxuICAgICAgICAgICAgd2lubmVyOiB3aW5uZXIsXHJcbiAgICAgICAgICAgIHBsYXllcjE6IHRoaXMucGxheWVyMSxcclxuICAgICAgICAgICAgcGxheWVyMjogdGhpcy5wbGF5ZXIyLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFZlcmlmaWNhIHNpIGFsZ8O6biBqdWdhZG9yIGhhIGdhbmFkbyBlbCBzZXRcclxuICAgIF9jaGVja1dpbkNvbmRpdGlvbigpIHtcclxuICAgICAgICBjb25zdCBtaW5Qb2ludHMgPSAxMTsgICAvLyBwdW50b3MgbcOtbmltb3MgcGFyYSBnYW5hclxyXG4gICAgICAgIGNvbnN0IG1pbkRpZmYgPSAyOyAgICAgIC8vIGRpZmVyZW5jaWEgbcOtbmltYSBkZSBwdW50b3MgcGFyYSBnYW5hclxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGRpZmVyZW5jaWEgZGUgcHVudG9zXHJcbiAgICAgICAgY29uc3Qgc2NvcmVEaWZmID0gdGhpcy5zY29yZVAxIC0gdGhpcy5zY29yZVAyO1xyXG4gICAgICAgIGNvbnN0IG1heFNjb3JlID0gTWF0aC5tYXgodGhpcy5zY29yZVAxLCB0aGlzLnNjb3JlUDIpO1xyXG5cclxuICAgICAgICAvLyBzaSBubyBzZSBjdW1wbGUgYWxndW5hIGRlIGxhcyBjb25kaWNpb25lcywgbm8gc2UgdGVybWluYSBlbCBzZXRcclxuICAgICAgICBpZiAobWF4U2NvcmUgPCBtaW5Qb2ludHMgfHwgTWF0aC5hYnMoc2NvcmVEaWZmKSA8IG1pbkRpZmYpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gc2lubywgc2UgZGV0ZXJtaW5hIGVsIGdhbmFkb3IgZGVsIHNldFxyXG4gICAgICAgIGNvbnN0IHdpbm5lciA9IHNjb3JlRGlmZiA+IDAgPyBcInBsYXllcjFcIiA6IFwicGxheWVyMlwiO1xyXG4gICAgICAgIHRoaXMuX2VuZFNldCh3aW5uZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbnRyb2xhIGVsIGZpbmFsIGRlIHVuIHNldFxyXG4gICAgX2VuZFNldCh3aW5uZXIpIHtcclxuICAgICAgICAvLyBhY3R1YWxpemFyIHNldHMgZ2FuYWRvc1xyXG4gICAgICAgIGlmICh3aW5uZXIgPT09ICdwbGF5ZXIxJykgdGhpcy5zZXRzUDErKztcclxuICAgICAgICBlbHNlIGlmICh3aW5uZXIgPT09ICdwbGF5ZXIyJykgdGhpcy5zZXRzUDIrKztcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coYFNldCB0ZXJtaW5hZG8uIFNjb3JlIHNldHM6IFAxPSR7dGhpcy5zZXRzUDF9LCBQMj0ke3RoaXMuc2V0c1AyfWApO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZVNldFNjb3JlVUkoKTtcclxuXHJcbiAgICAgICAgLy8gbW9zdHJhciBtZW5zYWplIGRlIGdhbmFkb3IgZGUgc2V0XHJcbiAgICAgICAgY29uc3Qgd2lubmVyTGFiZWwgPSAod2lubmVyID09PSAncGxheWVyMScpID8gJ0p1Z2Fkb3IgMScgOiAnSnVnYWRvciAyJztcclxuICAgICAgICB0aGlzLnNldFdpbm5lclRleHQuc2V0VGV4dChgU0VUIHBhcmEgJHt3aW5uZXJMYWJlbH1gKTtcclxuICAgICAgICB0aGlzLnNldFdpbm5lclRleHQuc2V0VmlzaWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gQXZhbnphciBuw7ptZXJvIGRlIHNldFxyXG4gICAgICAgIHRoaXMuY3VycmVudFNldCsrO1xyXG5cclxuICAgICAgICBjb25zdCBtYXRjaE92ZXIgPSAodGhpcy5zZXRzUDEgPT09IDIgfHwgdGhpcy5zZXRzUDIgPT09IDIpO1xyXG5cclxuICAgICAgICBpZiAobWF0Y2hPdmVyKSB7XHJcbiAgICAgICAgICAgIC8vIMO6bHRpbW8gc2V0OiBtb3N0cmFtb3MgZWwgbWVuc2FqZSAycyB5IGx1ZWdvIHBhc2Ftb3MgYSBsYSBlc2NlbmEgZmluYWxcclxuICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDIwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIChzaSBxdWllcmVzLCBhcXXDrSBwb2Ryw61hcyBvY3VsdGFyIGVsIHRleHRvKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW5kR2FtZSh3aW5uZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBzZXQgaW50ZXJtZWRpbzogbW9zdHJhbW9zIGVsIG1lbnNhamUgMnMsIGxvIG9jdWx0YW1vcyB5IHJlaW5pY2lhbW9zIGVsIHNldFxyXG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0V2lubmVyVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2V0U2V0KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWluaWNpYSBlbCBlc3RhZG8gcGFyYSB1biBudWV2byBzZXRcclxuICAgIF9yZXNldFNldCgpIHtcclxuICAgICAgICB0aGlzLmlzR29sZGVuUG9pbnQgPSBmYWxzZTtcclxuICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgdGV4dG8gZGVsIHNldCBhY3R1YWxcclxuICAgICAgICB0aGlzLnNldFRleHQuc2V0VGV4dChgU0VUICR7dGhpcy5jdXJyZW50U2V0fWApO1xyXG5cclxuICAgICAgICAvLyBzZSByZWluaWNpYSBlbCB0aWVtcG9cclxuICAgICAgICB0aGlzLnRpZW1wb1Jlc3RhbnRlID0gdGhpcy50aWVtcG9Ub3RhbDtcclxuICAgICAgICB0aGlzLnRpbWVyRXZlbnQucGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lcigpO1xyXG5cclxuICAgICAgICAvLyBzZSByZWluaWNpYSBsYSBwdW50dWFjacOzbiBkZWwgc2V0IChsw7NnaWNhKVxyXG4gICAgICAgIHRoaXMuc2NvcmVQMSA9IDA7XHJcbiAgICAgICAgdGhpcy5zY29yZVAyID0gMDtcclxuXHJcbiAgICAgICAgLy8gc2UgcmVpbmljaWEgZWwgbWFyY2Fkb3IgdmlzdWFsIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5wb2ludHNMZWZ0ID0gMDtcclxuICAgICAgICB0aGlzLnBvaW50c1JpZ2h0ID0gMDtcclxuICAgICAgICB0aGlzLnNjb3JlTGVmdC5zZXRUZXh0KCcwJyk7XHJcbiAgICAgICAgdGhpcy5yaWdodFNjb3JlLnNldFRleHQoJzAnKTtcclxuXHJcbiAgICAgICAgLy8gc2UgcmVpbmljaWEgbGEgcGVsb3RhXHJcbiAgICAgICAgdGhpcy5iYWxsLnJlc2V0UmFsbHkoKTtcclxuXHJcbiAgICAgICAgLy8gc2UgcmVwb3NpY2lvbmFuIGxvcyBqdWdhZG9yZXMgYSBzdXMgcG9zaWNpb25lcyBpbmljaWFsZXNcclxuICAgICAgICBjb25zdCBwMSA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKTtcclxuICAgICAgICBjb25zdCBwMiA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKTtcclxuXHJcbiAgICAgICAgcDEuc2V0UG9zaXRpb24odGhpcy53b3JsZFdpZHRoICogMC4yNSwgdGhpcy53b3JsZEhlaWdodCAqIDAuNyk7XHJcbiAgICAgICAgcDIuc2V0UG9zaXRpb24odGhpcy53b3JsZFdpZHRoICogMC43NSwgdGhpcy53b3JsZEhlaWdodCAqIDAuNyk7XHJcblxyXG4gICAgICAgIHAxLmlkbGVSaWdodCgpO1xyXG4gICAgICAgIHAyLmlkbGVMZWZ0KCk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheVNmeCh0aGlzLnNmeC53aGlzdGxlKTtcclxuICAgIH1cclxufVxyXG4iLCIvLyBQYW50YWxsYSBkZSBUdXRvcmlhbFxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGFwcGx5U3RvcmVkVm9sdW1lLCBwbGF5Q2xpY2sgfSBmcm9tICcuLi9VSS9BdWRpby5qcyc7XHJcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uLCBjcmVhdGVJY29uQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgVHV0b3JpYWxfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1R1dG9yaWFsX1NjZW5lJyk7XHJcblxyXG4gICAgICAgIC8vIHVuIMO6bmljbyB0dXRvcmlhbCBjb24gcMOhZ2luYXNcclxuICAgICAgICB0aGlzLnBhZ2VJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5yZXR1cm5TY2VuZSA9ICdNZW51X1NjZW5lJztcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICAvLyBlc2NlbmEgZGVzZGUgbGEgcXVlIHNlIGFicmnDsyBlbCB0dXRvcmlhbCwgcGFyYSByZWFudWRhcmxhXHJcbiAgICAgICAgdGhpcy5yZXR1cm5TY2VuZSA9IGRhdGE/LnJldHVyblNjZW5lID8/ICdNZW51X1NjZW5lJztcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIGltw6FnZW5lcyBkZWwgdHV0b3JpYWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dDBfY29udHJvbGVzJywgJ0FTU0VUUy9UVVRPUklBTC9UVVQwX0NvbnRyb2xlcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dDFfc2V0JywgJ0FTU0VUUy9UVVRPUklBTC9UVVQxX1NldC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dDJfcGVsb3RhJywgJ0FTU0VUUy9UVVRPUklBTC9UVVQyX1BlbG90YS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dDNfcG93ZXJ1cCcsICdBU1NFVFMvVFVUT1JJQUwvVFVUM19Qb3dlcnVwLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0NF9saXN0YScsICdBU1NFVFMvVFVUT1JJQUwvVFVUNF9MaXN0YS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gZm9uZG8geSB1aVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvRkxFQ0hBX1ZPTFZFUi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XHJcblxyXG4gICAgICAgIGNvbnN0IHN0eWxlID0ge1xyXG4gICAgICAgICAgICAuLi4odGhpcy5nYW1lLmdsb2JhbHM/LmRlZmF1bHRUZXh0U3R5bGUgPz8ge1xyXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ1ZUMzIzJyxcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5pbWFnZSgwLCAwLCAnZm9uZG8nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSlcclxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyB0w610dWxvXHJcbiAgICAgICAgdGhpcy5tYWluVGl0bGVUZXh0ID0gdGhpcy5hZGRcclxuICAgICAgICAgICAgLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC4xLCAnVHV0b3JpYWwnLCB7XHJcbiAgICAgICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnNDJweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZicsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIFZvbHZlciBhdHLDoXNcclxuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogd2lkdGggKiAwLjA2LFxyXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjA4LFxyXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxyXG4gICAgICAgICAgICBzY2FsZTogMSxcclxuICAgICAgICAgICAgaG92ZXJTY2FsZTogMS4xLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KHRoaXMucmV0dXJuU2NlbmUpLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBjb250ZW5pZG8gZGVsIHR1dG9yaWFsIChzbGlkZXMpXHJcbiAgICAgICAgdGhpcy5wYWdlSW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMucGFnZXMgPSBbXHJcbiAgICAgICAgICAgIHsga2V5OiAndHV0MF9jb250cm9sZXMnLCB0aXRsZTogJ0NvbnRyb2xlcycgfSxcclxuICAgICAgICAgICAgeyBrZXk6ICd0dXQxX3NldCcsIHRpdGxlOiAnUmVnbGFzIGLDoXNpY2FzOiBzZXQnIH0sXHJcbiAgICAgICAgICAgIHsga2V5OiAndHV0Ml9wZWxvdGEnLCB0aXRsZTogJ1JlZ2xhcyBiw6FzaWNhczogcGVsb3RhJyB9LFxyXG4gICAgICAgICAgICB7IGtleTogJ3R1dDNfcG93ZXJ1cCcsIHRpdGxlOiAnUmVnbGFzIGLDoXNpY2FzOiBwb3dlci11cHMnIH0sXHJcbiAgICAgICAgICAgIHsga2V5OiAndHV0NF9saXN0YScsIHRpdGxlOiAnTGlzdGEgZGUgcG93ZXItdXBzJyB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgLy8gcGFuZWwgcGFyYSBsYXMgaW3DoWdlbmVzXHJcbiAgICAgICAgY29uc3QgcGFuZWxNYXJnaW4gPSBNYXRoLm1heCg4LCBNYXRoLnJvdW5kKE1hdGgubWluKHdpZHRoLCBoZWlnaHQpICogMC4wMTUpKTtcclxuICAgICAgICBjb25zdCBwYW5lbEdhcCA9IE1hdGgubWF4KDYsIE1hdGgucm91bmQoaGVpZ2h0ICogMC4wMTIpKTtcclxuICAgICAgICBjb25zdCBuYXZZID0gaGVpZ2h0ICogMC45MTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFuZWxUb3AgPSB0aGlzLm1haW5UaXRsZVRleHQueSArIHRoaXMubWFpblRpdGxlVGV4dC5oZWlnaHQgKyBwYW5lbEdhcDtcclxuICAgICAgICBjb25zdCBwYW5lbEJvdHRvbSA9IG5hdlkgLSBwYW5lbEdhcDtcclxuICAgICAgICBjb25zdCBwYW5lbEhlaWdodCA9IE1hdGgubWF4KDAsIHBhbmVsQm90dG9tIC0gcGFuZWxUb3ApO1xyXG4gICAgICAgIGNvbnN0IHBhbmVsV2lkdGggPSBNYXRoLm1heCgwLCB3aWR0aCAtIHBhbmVsTWFyZ2luICogMik7XHJcblxyXG4gICAgICAgIHRoaXMubGF5b3V0ID0ge1xyXG4gICAgICAgICAgICBwYW5lbFRvcCxcclxuICAgICAgICAgICAgcGFuZWxIZWlnaHQsXHJcbiAgICAgICAgICAgIHBhbmVsV2lkdGgsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gaW1hZ2VuIGRlIGxhIHBhZ2luYVxyXG4gICAgICAgIHRoaXMuc2xpZGVJbWFnZSA9IHRoaXMuYWRkLmltYWdlKFxyXG4gICAgICAgICAgICBjZW50ZXJYLFxyXG4gICAgICAgICAgICBwYW5lbFRvcCArIHBhbmVsSGVpZ2h0IC8gMixcclxuICAgICAgICAgICAgdGhpcy5wYWdlc1swXS5rZXlcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuX2ZpdEltYWdlKHRoaXMuc2xpZGVJbWFnZSwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyBpbmRpY2Fkb3IgZGUgcGFnaW5hXHJcbiAgICAgICAgdGhpcy5wYWdlSW5kaWNhdG9yID0gdGhpcy5hZGQudGV4dChjZW50ZXJYLCBuYXZZICsgMjAsICcnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEJPVE9ORVMgREUgTkFWRUdBQ0nDk05cclxuICAgICAgICBjb25zdCBidXR0b25UZXh0U3R5bGUgPSB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzI4cHgnLCBjb2xvcjogJyMwMDAwMDAnIH07XHJcbiAgICAgICAgLy8gYm90w7NuIEFudGVyaW9yXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBjZW50ZXJYIC0gMTY1LFxyXG4gICAgICAgICAgICB5OiBuYXZZICsgMjAsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnQW50ZXJpb3InLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnByZXYoKSxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gYm90w7NuIFNpZ3VpZW50ZVxyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogY2VudGVyWCArIDE2NSxcclxuICAgICAgICAgICAgeTogbmF2WSArIDIwLFxyXG4gICAgICAgICAgICBsYWJlbDogJ1NpZ3VpZW50ZScsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMubmV4dCgpLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXJQYWdlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2ZpdEltYWdlKGltZywgbWF4VywgbWF4SCkge1xyXG4gICAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4obWF4VyAvIGltZy53aWR0aCwgbWF4SCAvIGltZy5oZWlnaHQpO1xyXG4gICAgICAgIGltZy5zZXRTY2FsZShzY2FsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUGFnZSgpIHtcclxuICAgICAgICBjb25zdCBwID0gdGhpcy5wYWdlc1t0aGlzLnBhZ2VJbmRleF07XHJcbiAgICAgICAgdGhpcy5tYWluVGl0bGVUZXh0LnNldFRleHQocC50aXRsZSA/PyAnVHV0b3JpYWwnKTtcclxuICAgICAgICB0aGlzLnNsaWRlSW1hZ2Uuc2V0VGV4dHVyZShwLmtleSk7XHJcbiAgICAgICAgdGhpcy5fZml0SW1hZ2UodGhpcy5zbGlkZUltYWdlLCB0aGlzLmxheW91dC5wYW5lbFdpZHRoLCB0aGlzLmxheW91dC5wYW5lbEhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5wYWdlSW5kaWNhdG9yLnNldFRleHQoYCR7dGhpcy5wYWdlSW5kZXggKyAxfSBkZSAke3RoaXMucGFnZXMubGVuZ3RofWApO1xyXG4gICAgfVxyXG5cclxuICAgIG5leHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGFnZUluZGV4IDwgdGhpcy5wYWdlcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZUluZGV4Kys7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUGFnZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcmV2KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhZ2VJbmRleCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5wYWdlSW5kZXgtLTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJQYWdlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG4iLCIvLyBQYW50YWxsYSBkZSBDb25maWd1cmFjacOzblxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGVuc3VyZVN0b3JlZEF1ZGlvU2V0dGluZ3MsIGdldFN0b3JlZE11c2ljVm9sdW1lLCBnZXRTdG9yZWRTZnhWb2x1bWUsIGdldFN0b3JlZEdsb2JhbFZvbHVtZSwgc2V0U3RvcmVkTXVzaWNWb2x1bWUsIHNldFN0b3JlZFNmeFZvbHVtZSwgc2V0U3RvcmVkR2xvYmFsVm9sdW1lLCBhcHBseVN0b3JlZFZvbHVtZSwgcGxheUNsaWNrIH0gZnJvbSAnLi4vVUkvQXVkaW8uanMnO1xyXG5pbXBvcnQgeyBjcmVhdGVJY29uQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29uZmlndXJhdGlvbl9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29uZmlndXJhdGlvbl9TY2VuZScpO1xyXG5cclxuICAgICAgICB0aGlzLm11c2ljVm9sdW1lU2xpZGVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5nbG9iYWxWb2x1bWVTbGlkZXIgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gaW3DoWdlbmVzIGZvbmRvIHkgdWlcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0ZMRUNIQV9WT0xWRVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIHNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlO1xyXG5cclxuICAgICAgICAvLyBGb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAgICAgLnNldERlcHRoKC0xKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGhlaWdodCAqIDAuMSwgJ0NvbmZpZ3VyYWNpw7NuJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vLy8gVk9MVU1FTkVTIC8vLy9cclxuICAgICAgICBlbnN1cmVTdG9yZWRBdWRpb1NldHRpbmdzKCk7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbEdsb2JhbFZvbHVtZSA9IGdldFN0b3JlZEdsb2JhbFZvbHVtZSgpO1xyXG4gICAgICAgIGNvbnN0IGluaXRpYWxNdXNpY1ZvbHVtZSA9IGdldFN0b3JlZE11c2ljVm9sdW1lKCk7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbFNmeFZvbHVtZSA9IGdldFN0b3JlZFNmeFZvbHVtZSgpO1xyXG5cclxuICAgICAgICAvLyBzZSBhcGxpY2EgZWwgdm9sdW1lbiBuYWRhIG1hcyBjYXJnYXJcclxuICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gbGF5b3V0IGRlIGxvcyBzbGlkZXJzXHJcbiAgICAgICAgY29uc3Qgc2VjdGlvbnMgPSAzO1xyXG4gICAgICAgIGNvbnN0IHNlY3Rpb25HYXAgPSBoZWlnaHQgKiAwLjE4O1xyXG4gICAgICAgIGNvbnN0IGxhYmVsVG9TbGlkZXJHYXAgPSBoZWlnaHQgKiAwLjA1O1xyXG4gICAgICAgIGNvbnN0IGdyb3VwSGVpZ2h0ID0gKHNlY3Rpb25zIC0gMSkgKiBzZWN0aW9uR2FwICsgbGFiZWxUb1NsaWRlckdhcDtcclxuICAgICAgICBjb25zdCBncm91cFRvcFkgPSAoaGVpZ2h0IC8gMikgLSAoZ3JvdXBIZWlnaHQgLyAyKTtcclxuXHJcbiAgICAgICAgY29uc3QgZ2xvYmFsTGFiZWxZID0gZ3JvdXBUb3BZO1xyXG4gICAgICAgIGNvbnN0IGdsb2JhbFNsaWRlclkgPSBnbG9iYWxMYWJlbFkgKyBsYWJlbFRvU2xpZGVyR2FwO1xyXG4gICAgICAgIGNvbnN0IG11c2ljTGFiZWxZID0gZ3JvdXBUb3BZICsgc2VjdGlvbkdhcDtcclxuICAgICAgICBjb25zdCBtdXNpY1NsaWRlclkgPSBtdXNpY0xhYmVsWSArIGxhYmVsVG9TbGlkZXJHYXA7XHJcbiAgICAgICAgY29uc3Qgc2Z4TGFiZWxZID0gZ3JvdXBUb3BZICsgKHNlY3Rpb25HYXAgKiAyKTtcclxuICAgICAgICBjb25zdCBzZnhTbGlkZXJZID0gc2Z4TGFiZWxZICsgbGFiZWxUb1NsaWRlckdhcDtcclxuXHJcbiAgICAgICAgLy8gU3VidMOtdHVsbyBnbG9iYWxcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGdsb2JhbExhYmVsWSwgJ1ZvbHVtZW4gR2VuZXJhbCcsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsIFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLCBcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBiYXJyYSBkZSB2b2x1bWVuIChnbG9iYWwpXHJcbiAgICAgICAgdGhpcy5nbG9iYWxWb2x1bWVTbGlkZXIgPSB0aGlzLmFkZC5kb20oY2VudGVyWCwgZ2xvYmFsU2xpZGVyWSlcclxuICAgICAgICAgICAgLmNyZWF0ZUZyb21IVE1MKGA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD1cIjFcIiBzdGVwPVwiMC4wMVwiIHZhbHVlPVwiJHtpbml0aWFsR2xvYmFsVm9sdW1lfVwiIFxyXG4gICAgICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDoyMjBweDsgaGVpZ2h0OjIwcHg7IGFjY2VudC1jb2xvcjojMDBhYWZmOyBib3JkZXItcmFkaXVzOjVweDtcIi8+YCk7XHJcblxyXG4gICAgICAgIHRoaXMuZ2xvYmFsVm9sdW1lU2xpZGVyLmFkZExpc3RlbmVyKCdpbnB1dCcpO1xyXG4gICAgICAgIHRoaXMuZ2xvYmFsVm9sdW1lU2xpZGVyLm9uKCdpbnB1dCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIShldmVudC50YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSkgcmV0dXJuO1xyXG4gICAgICAgICAgICBzZXRTdG9yZWRHbG9iYWxWb2x1bWUoZXZlbnQudGFyZ2V0LnZhbHVlKTtcclxuICAgICAgICAgICAgYXBwbHlTdG9yZWRWb2x1bWUodGhpcyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyBTdWJ0w610dWxvIGRlIG3DunNpY2FcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIG11c2ljTGFiZWxZLCAnVm9sdW1lbiBNw7pzaWNhJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBiYXJyYSBkZSB2b2x1bWVuIChtw7pzaWNhKVxyXG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIgPSB0aGlzLmFkZFxyXG4gICAgICAgICAgICAuZG9tKGNlbnRlclgsIG11c2ljU2xpZGVyWSlcclxuICAgICAgICAgICAgLmNyZWF0ZUZyb21IVE1MKGA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD1cIjFcIiBzdGVwPVwiMC4wMVwiIHZhbHVlPVwiJHtpbml0aWFsTXVzaWNWb2x1bWV9XCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6MjIwcHg7IGhlaWdodDoyMHB4OyBhY2NlbnQtY29sb3I6IzAwYWFmZjsgYm9yZGVyLXJhZGl1czo1cHg7XCIvPlxyXG4gICAgICAgICAgICBgKTtcclxuXHJcbiAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZVNsaWRlci5hZGRMaXN0ZW5lcignaW5wdXQnKTtcclxuICAgICAgICB0aGlzLm11c2ljVm9sdW1lU2xpZGVyLm9uKCdpbnB1dCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBzZXRTdG9yZWRNdXNpY1ZvbHVtZSh0YXJnZXQudmFsdWUpO1xyXG4gICAgICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gU3VidMOtdHVsbyBkZSBlZmVjdG9zXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBzZnhMYWJlbFksICdWb2x1bWVuIEVmZWN0b3MnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGJhcnJhIGRlIHZvbHVtZW4gKGVmZWN0b3MpXHJcbiAgICAgICAgdGhpcy5zZnhWb2x1bWVTbGlkZXIgPSB0aGlzLmFkZFxyXG4gICAgICAgICAgICAuZG9tKGNlbnRlclgsIHNmeFNsaWRlclkpXHJcbiAgICAgICAgICAgIC5jcmVhdGVGcm9tSFRNTChgPGlucHV0IHR5cGU9XCJyYW5nZVwiIG1pbj1cIjBcIiBtYXg9XCIxXCIgc3RlcD1cIjAuMDFcIiB2YWx1ZT1cIiR7aW5pdGlhbFNmeFZvbHVtZX1cIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDoyMjBweDsgaGVpZ2h0OjIwcHg7IGFjY2VudC1jb2xvcjojMDBhYWZmOyBib3JkZXItcmFkaXVzOjVweDtcIi8+XHJcbiAgICAgICAgICAgIGApO1xyXG5cclxuICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlci5hZGRMaXN0ZW5lcignaW5wdXQnKTtcclxuICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlci5vbignaW5wdXQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgICAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgc2V0U3RvcmVkU2Z4Vm9sdW1lKHRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlci5hZGRMaXN0ZW5lcignY2hhbmdlJyk7XHJcbiAgICAgICAgdGhpcy5zZnhWb2x1bWVTbGlkZXIub24oJ2NoYW5nZScsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBzZSByZXByb2R1Y2UgYWwgc29sdGFyIHBhcmEgZGFyIGZlZWRiYWNrXHJcbiAgICAgICAgICAgIHBsYXlDbGljayh0aGlzLCAnc29uaWRvQ2xpY2snKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLy8vLy8vL1xyXG5cclxuICAgICAgICAvLyBib3TDs24gVm9sdmVyIGF0csOhc1xyXG4gICAgICAgIGNyZWF0ZUljb25CdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuMDYsXHJcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXHJcbiAgICAgICAgICAgIHRleHR1cmU6ICdib3RvblZvbHZlcicsXHJcbiAgICAgICAgICAgIHNjYWxlOiAxLFxyXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gc2UgbGltcGlhIGVsIHNsaWRlciBhbCBzYWxpciBkZSBsYSBlc2NlbmFcclxuICAgICAgICAvLyAoYXPDrSBzZSBldml0YSBxdWUgc2UgYWN1bXVsZW4gc2kgZW50cmFzIHkgc2FsZXMgdmFyaWFzIHZlY2VzKVxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uY2UoUGhhc2VyLlNjZW5lcy5FdmVudHMuU0hVVERPV04sICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubXVzaWNWb2x1bWVTbGlkZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11c2ljVm9sdW1lU2xpZGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNmeFZvbHVtZVNsaWRlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZnhWb2x1bWVTbGlkZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlciA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2xvYmFsVm9sdW1lU2xpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbFZvbHVtZVNsaWRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsVm9sdW1lU2xpZGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsVm9sdW1lU2xpZGVyID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIFBhbnRhbGxhIGRlIENyw6lkaXRvc1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNyZWF0ZUljb25CdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDcmVkaXRzX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDcmVkaXRzX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBpbcOhZ2VuZXMgZm9uZG8geSB1aVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvRkxFQ0hBX1ZPTFZFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvTWVudVByaW5jaXBhbCcsICdBU1NFVFMvRk9ORE9TL01FTlVfUFJJTkNJUEFMLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbG9nbycsICdBU1NFVFMvTE9HTy9sb2dvX2VtcHJlc2EucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjbycsICdBU1NFVFMvVUkvTUFSQ09TL1ZBQ0lPUy9NQVJDT1NfRVNDRU5BUklPLnBuZycpXHJcblxyXG4gICAgICAgIC8vIHNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XHJcblxyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHM/LmRlZmF1bHRUZXh0U3R5bGUgPz8ge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvTWVudVByaW5jaXBhbCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAgICAgLnNldERlcHRoKC0yKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIGNhcGEgb3NjdXJhIHBvciBlbmNpbWEgZGVsIGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQsIDB4MDAwMDAwLCAwLjUwKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSk7XHJcblxyXG4gICAgICAgIC8vIG5vbWJyZSB5IG1pZW1icm9zIGRlbCBlcXVpcG9cclxuICAgICAgICBjb25zdCBub21icmVzRXF1aXBvID0gW1xyXG4gICAgICAgICAgICAnR1JVUE8gNSAtIFNVTlNFVCBBUkNBREUnLFxyXG4gICAgICAgICAgICAnU2FyYSBCdWVubyBFc3RlYmFuJyxcclxuICAgICAgICAgICAgJ0FudG9uaW8gTW9yw6FuIEJhcnJlcmEnLFxyXG4gICAgICAgICAgICAnQ3Jpc3RpbmUgTmlva2EgVGV3bycsXHJcbiAgICAgICAgICAgICdBbHZhcm8gSWLDocOxZXogTW9udGVybycsXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgLy90YXJqZXRhIGRvbmRlIHNlIG11ZXN0cmEgZWwgbm9tYnJlIGRlbCBlcXVpcG8geSBsb3MgbWllbWJyb3NcclxuICAgICAgICBjb25zdCBjYXJkV2lkdGggPSB3aWR0aCAqIDAuMzg7XHJcbiAgICAgICAgY29uc3QgY2FyZEhlaWdodCA9IGhlaWdodCAqIDAuNDY7XHJcbiAgICAgICAgY29uc3QgY2FyZFggPSB3aWR0aCAqIDAuNzU7XHJcbiAgICAgICAgY29uc3QgY2FyZFkgPSBoZWlnaHQgKiAwLjQ2O1xyXG5cclxuICAgICAgICBjb25zdCBjYXJkID0gdGhpcy5hZGRcclxuICAgICAgICAgICAgLnJlY3RhbmdsZShjYXJkWCwgY2FyZFksIGNhcmRXaWR0aCwgY2FyZEhlaWdodCwgMHgxMTExMTEsIDAuNylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIGNhcmQuc2V0U3Ryb2tlU3R5bGUoMiwgMHhmZmZmZmYsIDAuMik7XHJcblxyXG4gICAgICAgIGNvbnN0IGxpbmVTcGFjaW5nID0gMzY7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRZID0gY2FyZFkgLSAoKG5vbWJyZXNFcXVpcG8ubGVuZ3RoIC0gMSkgKiBsaW5lU3BhY2luZykgLyAyO1xyXG5cclxuICAgICAgICBub21icmVzRXF1aXBvLmZvckVhY2goKG5vbWJyZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpc0hlYWRlciA9IGkgPT09IDA7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkXHJcbiAgICAgICAgICAgICAgICAudGV4dChjYXJkWCwgc3RhcnRZICsgaSAqIGxpbmVTcGFjaW5nLCBub21icmUsIHtcclxuICAgICAgICAgICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnVlQzMjMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBpc0hlYWRlciA/ICczNnB4JyA6ICczMnB4JyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogaXNIZWFkZXIgPyAnI2Y1ZDc2ZScgOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAvLyB0w610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjYXJkWCwgaGVpZ2h0ICogMC4xLCAnQ3LDqWRpdG9zJywge1xyXG4gICAgICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzQycHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGxvZ28gZW1wcmVzYVxyXG4gICAgICAgIGNvbnN0IGxvZ29YID0gY2FyZFg7XHJcbiAgICAgICAgY29uc3QgbG9nb1kgPSBjYXJkWSArIChjYXJkSGVpZ2h0IC8gMikgKyBoZWlnaHQgKiAwLjE2IC0gMztcclxuICAgICAgICB0aGlzLmFkZFxyXG4gICAgICAgICAgICAuaW1hZ2UobG9nb1gsIGxvZ29ZLCAnbG9nbycpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIFZvbHZlciBhdHLDoXNcclxuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogd2lkdGggKiAwLjA2LFxyXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjA4LFxyXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxyXG4gICAgICAgICAgICBzY2FsZTogMSxcclxuICAgICAgICAgICAgaG92ZXJTY2FsZTogMS4xLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyksXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLy9QYW50YWxsYSBkZSBGaW5cclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVuZEdhbWVfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0VuZEdhbWVfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLndpbm5lciA9IGRhdGEud2lubmVyO1xyXG4gICAgICAgIHRoaXMucGxheWVyMSA9IGRhdGEucGxheWVyMTtcclxuICAgICAgICB0aGlzLnBsYXllcjIgPSBkYXRhLnBsYXllcjI7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIGltw6FnZW5lcyBmb25kbyB5IHVpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX0dfU0VMRUNDSU9OQURPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW5TZWxlY2Npb25hcicsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX0cucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIHNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7IFxyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7XHJcblxyXG4gICAgICAgIGNvbnN0IGNoYXJQMSA9IHRoaXMucGxheWVyMS5uYW1lO1xyXG4gICAgICAgIGNvbnN0IGNoYXJQMiA9IHRoaXMucGxheWVyMi5uYW1lO1xyXG5cclxuICAgICAgICAvLyBGb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpLnNldE9yaWdpbigwKS5zZXREZXB0aCgtMSk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0ICogMC4xOCwgXCLCoUZpbiBkZWwgcGFydGlkbyFcIiwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHdpbm5lclRleHRZID0gaGVpZ2h0ICogMC4zNjtcclxuICAgICAgICBjb25zdCBzcHJpdGVSb3dZID0gaGVpZ2h0ICogMC41MjtcclxuICAgICAgICBjb25zdCBidXR0b25ZID0gaGVpZ2h0ICogMC45MDtcclxuICAgICAgICBjb25zdCBzcHJpdGVPZmZzZXRYID0gd2lkdGggKiAwLjI7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIGluZGljYW5kbyBlbCBnYW5hZG9yXHJcbiAgICAgICAgY29uc3Qgd2lubmVyVGV4dCA9XHJcbiAgICAgICAgICAgIHRoaXMud2lubmVyID09PSBcInBsYXllcjFcIlxyXG4gICAgICAgICAgICAgICAgPyBcIlZpY3RvcmlhIGRlOiBcIiArIGNoYXJQMVxyXG4gICAgICAgICAgICAgICAgOiBcIlZpY3RvcmlhIGRlOiBcIiArIGNoYXJQMjtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIHdpbm5lclRleHRZLCB3aW5uZXJUZXh0LCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gSHVlY29zIHBhcmEgc3ByaXRlcyBkZSBnYW5hZG9yIHkgcGVyZGVkb3IgKGFuaW1hY2lvbmVzIGZ1dHVyYXMpXHJcbiAgICAgICAgdGhpcy53aW5uZXJTcHJpdGVTbG90ID0gdGhpcy5hZGQuY29udGFpbmVyKHdpZHRoIC8gMiAtIHNwcml0ZU9mZnNldFgsIHNwcml0ZVJvd1kpO1xyXG4gICAgICAgIHRoaXMubG9zZXJTcHJpdGVTbG90ID0gdGhpcy5hZGQuY29udGFpbmVyKHdpZHRoIC8gMiArIHNwcml0ZU9mZnNldFgsIHNwcml0ZVJvd1kpO1xyXG5cclxuXHJcbiAgICAgICAgLy8gYm90w7NuIHBhcmEgdm9sdmVyIGFsIG1lbsO6IHByaW5jaXBhbFxyXG4gICAgICAgIGNvbnN0IGJ1dHRvblRleHRTdHlsZSA9IHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxyXG4gICAgICAgICAgICB5OiBidXR0b25ZLFxyXG4gICAgICAgICAgICBsYWJlbDogJ01lbsO6IFByaW5jaXBhbCcsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gUGFudGFsbGEgcGFyYSBlbGVnaXIgTW9kbyBkZSBKdWVnb1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uLCBjcmVhdGVJY29uQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XHJcbmltcG9ydCB7IGFwcGx5U3RvcmVkVm9sdW1lIH0gZnJvbSAnLi4vVUkvQXVkaW8uanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vZGVHYW1lX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNb2RlR2FtZV9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gYm90b25lc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fU0VMRUNDSU9ORE8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX1NJTl9TRUxFQ0NJT05BUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0ZMRUNIQV9WT0xWRVIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIHNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG5cclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzPy5kZWZhdWx0VGV4dFN0eWxlID8/IHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzZSBhcGxpY2EgZWwgdm9sdW1lblxyXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAgICAgLnNldERlcHRoKC0xKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIHTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZFxyXG4gICAgICAgICAgICAudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAqIDAuMTgsICdNb2RvIGRlIEp1ZWdvJywge1xyXG4gICAgICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzQycHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gbGF5b3V0XHJcbiAgICAgICAgY29uc3QgYnV0dG9uWSA9IGhlaWdodCAqIDAuNTtcclxuICAgICAgICBjb25zdCBzcGFjaW5nID0gTWF0aC5taW4oMjgwLCB3aWR0aCAqIDAuMyk7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRYID0gd2lkdGggLyAyIC0gc3BhY2luZyAvIDI7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1dHRvblRleHRTdHlsZSA9IHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3RhcnRNb2RlID0gKG1vZGUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ21vZGUnLCBtb2RlKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ01vZG8gc2VsZWNjaW9uYWRvOicsIG1vZGUpO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RQbGF5ZXJfU2NlbmUnLCB7IG1vZGU6IG1vZGUgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIExPQ0FMXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBzdGFydFgsXHJcbiAgICAgICAgICAgIHk6IGJ1dHRvblksXHJcbiAgICAgICAgICAgIGxhYmVsOiAnTG9jYWwnLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBzdGFydE1vZGUoJ2xvY2FsJyksXHJcbiAgICAgICAgICAgIHNjYWxlOiAyLFxyXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW5TZWxlY2Npb25hcicsXHJcbiAgICAgICAgICAgIHRleHR1cmVIb3ZlcjogJ2JvdG9uU2VsZWNjaW9uYWRvJyxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBSRURcclxuICAgICAgICBjb25zdCByZWRCdXR0b24gPSBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHN0YXJ0WCArIHNwYWNpbmcsXHJcbiAgICAgICAgICAgIHk6IGJ1dHRvblksXHJcbiAgICAgICAgICAgIGxhYmVsOiAnUmVkJyxcclxuICAgICAgICAgICAgb25DbGljazogbnVsbCxcclxuICAgICAgICAgICAgc2NhbGU6IDIsXHJcbiAgICAgICAgICAgIHRleHR1cmVOb3JtYWw6ICdib3RvblNpblNlbGVjY2lvbmFyJyxcclxuICAgICAgICAgICAgdGV4dHVyZUhvdmVyOiAnYm90b25TZWxlY2Npb25hZG8nLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmVkQnV0dG9uLmJ1dHRvbi5kaXNhYmxlSW50ZXJhY3RpdmUoKTtcclxuICAgICAgICByZWRCdXR0b24uYnV0dG9uLnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgcmVkQnV0dG9uLnRleHQuc2V0QWxwaGEoMC41KTtcclxuICAgICAgICByZWRCdXR0b24udGV4dC5zZXRBbGlnbignY2VudGVyJyk7XHJcblxyXG4gICAgICAgIC8vIHRleHRvIFwiTm8gZGlzcG9uaWJsZVwiIGRlYmFqbyBkZWwgYm90w7NuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChcclxuICAgICAgICAgICAgcmVkQnV0dG9uLmJ1dHRvbi54LFxyXG4gICAgICAgICAgICByZWRCdXR0b24uYnV0dG9uLnkgKyBNYXRoLnJvdW5kKHJlZEJ1dHRvbi5idXR0b24uZGlzcGxheUhlaWdodCAqIDAuNTUpICsgMTIsXHJcbiAgICAgICAgICAgICdObyBkaXNwb25pYmxlJyxcclxuICAgICAgICAgICAgeyAuLi5idXR0b25UZXh0U3R5bGUsIGZvbnRGYW1pbHk6ICdWVDMyMycsIGZvbnRTaXplOiAnMjRweCcsIGNvbG9yOiAnI2ZmMDAwMCcgfVxyXG4gICAgICAgICkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiB2b2x2ZXJcclxuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogd2lkdGggKiAwLjA2LFxyXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjA4LFxyXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxyXG4gICAgICAgICAgICBzY2FsZTogMSxcclxuICAgICAgICAgICAgaG92ZXJTY2FsZTogMS4xLFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyksXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuIiwiLy9QYW50YWxsYSBkZSBQYXVzYVxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1BhdXNlX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBJbcOhZ2VuZXMgZm9uZG8geSB1aVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvVk9MVkVSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9HX1NFTEVDQ0lPTkFETy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9HLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBTb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHMuZGVmYXVsdFRleHRTdHlsZTsgXHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0LCAweDAwMDAwMCwgMC44OClcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjE4LCAnUGF1c2EnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1dHRvblRleHRTdHlsZSA9IHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBidXR0b25TdGFydFkgPSBoZWlnaHQgKiAwLjQ2O1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvblNwYWNpbmcgPSBoZWlnaHQgKiAwLjE0O1xyXG5cclxuICAgICAgICAvLyBib3TDs24gQ29udGludWFyXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBjZW50ZXJYLFxyXG4gICAgICAgICAgICB5OiBidXR0b25TdGFydFksXHJcbiAgICAgICAgICAgIGxhYmVsOiAnQ29udGludWFyJyxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIHNjYWxlOiAyLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKCdHYW1lX1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gYm90b24gVHV0b3JpYWxcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IGNlbnRlclgsXHJcbiAgICAgICAgICAgIHk6IGJ1dHRvblN0YXJ0WSArIGJ1dHRvblNwYWNpbmcsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnVHV0b3JpYWwnLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgc2NhbGU6IDIsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1R1dG9yaWFsX1NjZW5lJywgeyByZXR1cm5TY2VuZTogJ1BhdXNlX1NjZW5lJyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gTWVuw7ogUHJpbmNpcGFsXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBjZW50ZXJYLFxyXG4gICAgICAgICAgICB5OiBidXR0b25TdGFydFkgKyBidXR0b25TcGFjaW5nICogMixcclxuICAgICAgICAgICAgbGFiZWw6ICdNZW7DuiBQcmluY2lwYWwnLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgc2NhbGU6IDIsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVTY2VuZSA9IHRoaXMuc2NlbmUuZ2V0KCdHYW1lX1NjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZVNjZW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZVNjZW5lLmlucHV0LmtleWJvYXJkLnJlbW92ZUFsbExpc3RlbmVycygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWVTY2VuZS5pbnB1dC5rZXlib2FyZC5yZW1vdmVBbGxLZXlzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCdHYW1lX1NjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCIvLyBQYW50YWxsYSBkZSBTZWxlY2Npw7NuIGRlIGp1Z2Fkb3JcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcbmltcG9ydCB7IGFwcGx5U3RvcmVkVm9sdW1lLCBwbGF5Q2xpY2sgfSBmcm9tICcuLi9VSS9BdWRpby5qcyc7XG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiwgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xuXG5leHBvcnQgY2xhc3MgU2VsZWN0UGxheWVyX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ1NlbGVjdFBsYXllcl9TY2VuZScpO1xuXG4gICAgICAgIHRoaXMucGxheWVycyA9IFtdO1xuICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gMDsgICAgLy8gdHVybm9zOiAwIC0+IGp1Z2Fkb3IxLCAxIC0+IGp1Z2Fkb3IyLCBudWxsIC0+IGFtYm9zIGxpc3Rvc1xuICAgICAgICB0aGlzLnBsYXllcklucHV0cyA9IFtdO1xuICAgICAgICB0aGlzLnBsYXllcklucHV0RWxzID0gW107XG4gICAgICAgIHRoaXMudHVyblRleHQgPSBudWxsO1xuICAgIH1cblxuICAgIGluaXQoZGF0YSkge1xuICAgICAgICB0aGlzLm1vZGUgPSB0aGlzLnJlZ2lzdHJ5LmdldCgnbW9kZScpO1xuICAgICAgICBjb25zb2xlLmxvZygnTW9kbyBkZSBKdWVnbzonLCB0aGlzLm1vZGUpO1xuICAgICAgICB0aGlzLmlzSG9zdCA9IHRoaXMucmVnaXN0cnkuZ2V0KCdpc0hvc3QnKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0hvc3Q6JywgdGhpcy5pc0hvc3QpO1xuICAgIH1cblxuICAgIHByZWxvYWQoKSB7XG4gICAgICAgIC8vIGJvdG9uZXNcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9TRUxFQ0NJT05ETy5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX1NJTl9TRUxFQ0NJT05BUi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9WT0xWRVIucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW1wbGUnLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9TSU5TRUxFQ0NJT05BUi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFLnBuZycpO1xuXG4gICAgICAgIC8vIGZvbmRvXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hcmNvSnVnYWRvcicsICdBU1NFVFMvVUkvTUFSQ09TL1ZBQ0lPUy9NQVJDT19QRVJTT05BSkVfU0VMRUNDSU9OQURPLnBuZycpO1xuXG4gICAgICAgIC8vIHBlcnNvbmFqZXNcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjaGFyYWN0ZXJBJywgJ0FTU0VUUy9QRVJTT05BSkVTL1BFUlNPTkFKRVNfUE9TRS9wZXJzb25hamVzX2EucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2hhcmFjdGVyQicsICdBU1NFVFMvUEVSU09OQUpFUy9QRVJTT05BSkVTX1BPU0UvcGVyc29uYWplc19iLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NoYXJhY3RlckMnLCAnQVNTRVRTL1BFUlNPTkFKRVMvUEVSU09OQUpFU19QT1NFL3BlcnNvbmFqZV9jLnBuZycpO1xuXG4gICAgICAgIC8vIHNvbmlkb1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XG4gICAgfVxuXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBzZSBsaW1waWFuIHRvZGFzIGxhcyB0ZWNsYXMgY2FwdHVyYWRhcyBwb3Igb3RyYXMgZXNjZW5hc1xuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLnJlbW92ZUFsbEtleXModHJ1ZSk7XG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHM/LmRlZmF1bHRUZXh0U3R5bGUgPz8ge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHNlIGFwbGljYSBlbCB2b2x1bWVuXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xuXG4gICAgICAgIC8vIEZvbmRvXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgLy8gVMOtdHVsb1xuICAgICAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgNTAsICdTZWxlY2Npb25hIFBlcnNvbmFqZScsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgICAgZm9udFNpemU6ICc0MnB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBzZWfDum4gZWwgbW9kbyBzZSBjcmVhIHVuYSBVSSB1IG90cmFcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ2xvY2FsJykge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVMb2NhbFVJKHdpZHRoLCBoZWlnaHQsIHN0eWxlKTtcbiAgICAgICAgfSBcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ29ubGluZScpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlT25saW5lVUkod2lkdGgsIGhlaWdodCwgc3R5bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQm90w7NuIHZvbHZlclxuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxuICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTW9kZUdhbWVfU2NlbmUnKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gc2UgbGltcGlhIERPTSBhbCBzYWxpclxuICAgICAgICB0aGlzLmV2ZW50cy5vbmNlKFBoYXNlci5TY2VuZXMuRXZlbnRzLlNIVVRET1dOLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsYXllcklucHV0cy5mb3JFYWNoKChkb20pID0+IGRvbT8uZGVzdHJveSgpKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRzID0gW107XG4gICAgICAgICAgICB0aGlzLnBsYXllcklucHV0RWxzID0gW107XG4gICAgICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVMb2NhbFVJKHdpZHRoLCBoZWlnaHQsIHN0eWxlKSB7XG4gICAgICAgIC8vIERhdG9zIGRlIGxvcyBqdWdhZG9yZXNcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gW1xuICAgICAgICAgICAgeyBuYW1lOiAnJywgY2hhcmFjdGVyOiBudWxsLCBjb2xvcjogMHgwMGFhZmYsIGJpZ0ltYWdlOiBudWxsLCBiaWdGcmFtZTogbnVsbCwgZnJhbWU6IG51bGwgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJycsIGNoYXJhY3RlcjogbnVsbCwgY29sb3I6IDB4ZmY1NTU1LCBiaWdJbWFnZTogbnVsbCwgYmlnRnJhbWU6IG51bGwsIGZyYW1lOiBudWxsIH0sXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gVGV4dG8gZGUgdHVybm9cbiAgICAgICAgdGhpcy50dXJuVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCA5NSwgJ1RVUk5POiBKdWdhZG9yIDEnLCB7XG4gICAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdWVDMyMycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMDAwJyxcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uT2Zmc2V0WSA9IDI1O1xuXG4gICAgICAgIC8vIFVJIGp1Z2Fkb3JlcyArIG1pbmlhdHVyYXNcbiAgICAgICAgdGhpcy5jcmVhdGVQbGF5ZXJzVUkoc2VsZWN0aW9uT2Zmc2V0WSk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ2hhcmFjdGVyTWluaWF0dXJlcygwLCBzZWxlY3Rpb25PZmZzZXRZKTtcbiAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xuXG4gICAgICAgIC8vIEJvdMOzbiBTaWd1aWVudGVcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxuICAgICAgICAgICAgeTogNTAwLFxuICAgICAgICAgICAgbGFiZWw6ICdTaWd1aWVudGUnLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5oYW5kbGVOZXh0KCksXG4gICAgICAgICAgICBzY2FsZTogMS41LFxuICAgICAgICAgICAgdGV4dHVyZU5vcm1hbDogJ2JvdG9uU2ltcGxlJyxcbiAgICAgICAgICAgIHRleHR1cmVIb3ZlcjogJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJyxcbiAgICAgICAgICAgIHRleHRTdHlsZTogeyAuLi5zdHlsZSwgZm9udFNpemU6ICcxOHB4JywgY29sb3I6ICcjMDAwJyB9LFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJ1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVPbmxpbmVVSSh3aWR0aCwgaGVpZ2h0LCBzdHlsZSkge1xuICAgICAgICAvLyBEYXRvcyBkZWwganVnYWRvclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBbXG4gICAgICAgICAgICB7IG5hbWU6IHRoaXMucmVnaXN0cnkuZ2V0KCd1c2VybmFtZScpIHx8ICdKdWdhZG9yWCcsIGNoYXJhY3RlcjogbnVsbCwgY29sb3I6IDB4MDBhYWZmLCBiaWdJbWFnZTogbnVsbCwgYmlnRnJhbWU6IG51bGwsIGZyYW1lOiBudWxsIH1cbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBzZWxlY3Rpb25PZmZzZXRZID0gNDA7XG5cbiAgICAgICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDEwMCArIHNlbGVjdGlvbk9mZnNldFksIGAke3RoaXMucGxheWVyc1swXS5uYW1lfWAsIHsgXG4gICAgICAgICAgICAuLi5zdHlsZSwgZm9udFNpemU6ICcyOHB4JywgY29sb3I6ICcjMDAwJywgZm9udFN0eWxlOiAnYm9sZCcgXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuICAgICAgICBcbiAgICAgICAgLy8gVGV4dG8gZGUgdHVybm8gKEVzdGFkbyBlbiBlc3RlIGNhc28sIHBlcm8gY29uIGVsIG1pc21vIG5vbWJyZSBwYXJhIG1hbnRlcm5lciBsYSBtaXNtYSBmdW5jaW9uYWxpZGFkKVxuICAgICAgICB0aGlzLnR1cm5UZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDEzMCwgJ05pbmfDum4gcGVyc29uYWplIHNlbGVjY2lvbmFkbycsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlLCBmb250U2l6ZTogJzE4cHgnLCBjb2xvcjogJyMwMDAnLFxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBVSSBqdWdhZG9yZXMgKyBtaW5pYXR1cmFzXG4gICAgICAgIHRoaXMuY3JlYXRlUGxheWVyT25saW5lVUkoc2VsZWN0aW9uT2Zmc2V0WSk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ2hhcmFjdGVyTWluaWF0dXJlcygxNTAsIHNlbGVjdGlvbk9mZnNldFkpO1xuXG4gICAgICAgIC8vIEJvdMOzbiBTaWd1aWVudGVcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxuICAgICAgICAgICAgeTogNTAwLFxuICAgICAgICAgICAgbGFiZWw6ICdTaWd1aWVudGUnLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5oYW5kbGVOZXh0KCksXG4gICAgICAgICAgICBzY2FsZTogMS41LFxuICAgICAgICAgICAgdGV4dHVyZU5vcm1hbDogJ2JvdG9uU2ltcGxlJyxcbiAgICAgICAgICAgIHRleHR1cmVIb3ZlcjogJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJyxcbiAgICAgICAgICAgIHRleHRTdHlsZTogeyAuLi5zdHlsZSwgZm9udFNpemU6ICcxOHB4JywgY29sb3I6ICcjMDAwJyB9LFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYSBsYSBVSSBkZSBzZWxlY2Npw7NuIGRlIGp1Z2Fkb3Jlc1xuICAgIGNyZWF0ZVBsYXllcnNVSShvZmZzZXRZID0gMCkge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHMuZGVmYXVsdFRleHRTdHlsZTtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbnNYID0gW3dpZHRoICogMC4yNSwgd2lkdGggKiAwLjc1XTtcblxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaCgocGxheWVyLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHggPSBwb3NpdGlvbnNYW2lkeF07XG5cbiAgICAgICAgICAgIC8vIExhYmVsIG5vbWJyZVxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dCh4LCAxMDAgKyBvZmZzZXRZLCAnTm9tYnJlOicsIHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMjRweCcsIGNvbG9yOiAnIzAwMCcgfSlcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgICAgIC8vIElucHV0IG5vbWJyZVxuICAgICAgICAgICAgY29uc3QgZG9tID0gdGhpcy5hZGQuZG9tKHgsIDE0MCArIG9mZnNldFkpLmNyZWF0ZUZyb21IVE1MKGBcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIk5vbWJyZSBqdWdhZG9yXCIgbWF4bGVuZ3RoPVwiMTBcIlxuICAgICAgICAgICAgICAgIHN0eWxlPVwiXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOjE1MHB4O1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOjZweDtcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOjE2cHg7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiR7c3R5bGUuZm9udEZhbWlseX07XG4gICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6MTJweDtcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiA2cHggc29saWQgI0ZGQUEwMDtcbiAgICAgICAgICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjpjZW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6I2YwZjBmMDtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMnMsIGJveC1zaGFkb3cgMC4ycztcIlxuICAgICAgICAgICAgICAgIG9uZm9jdXM9XCJ0aGlzLnN0eWxlLmJvcmRlckNvbG9yPScjRkY4MzE2JzsgdGhpcy5zdHlsZS5ib3hTaGFkb3c9JzAgMCA1cHggI0ZGODMxNic7XCJcbiAgICAgICAgICAgICAgICBvbmJsdXI9XCJ0aGlzLnN0eWxlLmJvcmRlckNvbG9yPScjRkZBQTAwJzsgdGhpcy5zdHlsZS5ib3hTaGFkb3c9J25vbmUnO1wiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgICAgICBjb25zdCBpbnB1dEVsID0gLyoqIEB0eXBlIHtIVE1MSW5wdXRFbGVtZW50fSAqLyAoZG9tLm5vZGUucXVlcnlTZWxlY3RvcignaW5wdXQnKSk7XG5cbiAgICAgICAgICAgIC8vIHBhcmEgcXVlIGVsIHRlY2xhZG8gbm8gaW50ZXJmaWVyYSBjb24gUGhhc2VyXG4gICAgICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCkpO1xuXG4gICAgICAgICAgICAvLyBMZXRyYXMgKyBlc3BhY2lvc1xuICAgICAgICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpbnB1dEVsLnZhbHVlID0gaW5wdXRFbC52YWx1ZS5yZXBsYWNlKC9bXmEtekEtWsOALcO/w7HDkSBdL2csICcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dHNbaWR4XSA9IGRvbTtcbiAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRFbHNbaWR4XSA9IGlucHV0RWw7XG5cbiAgICAgICAgICAgIC8vIOKAnFNsb3TigJ0gZ3JhbmRlICsgbWFyY29cbiAgICAgICAgICAgIHBsYXllci5iaWdJbWFnZSA9IHRoaXMuYWRkLmltYWdlKHdpZHRoICogKDAuMjUgKyAwLjUgKiBpZHgpLCBoZWlnaHQgKiAwLjYgKyBvZmZzZXRZLCAnY2hhcmFjdGVyQScpXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEuMilcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAgICAgICAgIHBsYXllci5iaWdGcmFtZSA9IHRoaXMuYWRkLmltYWdlKHBsYXllci5iaWdJbWFnZS54LCBwbGF5ZXIuYmlnSW1hZ2UueSwgJ21hcmNvSnVnYWRvcicpXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDIuOClcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgICAgICAuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgIHBsYXllci5iaWdGcmFtZS50ZXh0dXJlLnNldEZpbHRlcihQaGFzZXIuVGV4dHVyZXMuRmlsdGVyTW9kZS5ORUFSRVNUKTtcblxuICAgICAgICAgICAgLy8gTWFyY28gc29icmUgbWluaWF0dXJhIChyZWN0w6FuZ3VsbylcbiAgICAgICAgICAgIHBsYXllci5mcmFtZSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCA2MCwgMTIwKVxuICAgICAgICAgICAgICAgIC5zZXRTdHJva2VTdHlsZSg0LCBwbGF5ZXIuY29sb3IpXG4gICAgICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBUdXJubyBlbXBpZXphIGVuIGp1Z2Fkb3IgMVxuICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gMDtcbiAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xuICAgIH1cblxuICAgIGNyZWF0ZVBsYXllck9ubGluZVVJKG9mZnNldFkgPSAwKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcblxuICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLnBsYXllcnNbMF07XG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XG5cbiAgICAgICAgLy8g4oCcU2xvdOKAnSBncmFuZGUgKyBtYXJjb1xuICAgICAgICBwbGF5ZXIuYmlnSW1hZ2UgPSB0aGlzLmFkZC5pbWFnZShjZW50ZXJYIC0gMTUwLCBoZWlnaHQgKiAwLjU4ICsgb2Zmc2V0WSwgJ2NoYXJhY3RlckEnKVxuICAgICAgICAgICAgLnNldFNjYWxlKDEuMilcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xuXG4gICAgICAgIHBsYXllci5iaWdGcmFtZSA9IHRoaXMuYWRkLmltYWdlKHBsYXllci5iaWdJbWFnZS54LCBwbGF5ZXIuYmlnSW1hZ2UueSwgJ21hcmNvSnVnYWRvcicpXG4gICAgICAgICAgICAuc2V0U2NhbGUoMi44KVxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgcGxheWVyLmJpZ0ZyYW1lLnRleHR1cmUuc2V0RmlsdGVyKFBoYXNlci5UZXh0dXJlcy5GaWx0ZXJNb2RlLk5FQVJFU1QpO1xuXG4gICAgICAgIC8vIE1hcmNvIHNvYnJlIG1pbmlhdHVyYSAocmVjdMOhbmd1bG8pXG4gICAgICAgIHBsYXllci5mcmFtZSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCA2MCwgMTIwKVxuICAgICAgICAgICAgLnNldFN0cm9rZVN0eWxlKDQsIHBsYXllci5jb2xvcilcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhIGxhcyBtaW5pYXR1cmFzIGRlIGxvcyBwZXJzb25hamVzIHNlbGVjY2lvbmFibGVzXG4gICAgY3JlYXRlQ2hhcmFjdGVyTWluaWF0dXJlcyh4LCB5KSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcblxuICAgICAgICBjb25zdCBwZXJzb25hamVzID0gWydjaGFyYWN0ZXJBJywgJ2NoYXJhY3RlckInLCAnY2hhcmFjdGVyQyddO1xuICAgICAgICBjb25zdCBzcGFjaW5nID0gMTUwO1xuICAgICAgICBjb25zdCBzdGFydFggPSB3aWR0aCAvIDIgLSBzcGFjaW5nIC8gMjtcbiAgICAgICAgY29uc3Qgc3RhcnRZID0gaGVpZ2h0ICogMC41O1xuXG4gICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IFtcbiAgICAgICAgICAgIHsgeDogc3RhcnRYICsgeCwgeTogc3RhcnRZICsgeSB9LFxuICAgICAgICAgICAgeyB4OiBzdGFydFggKyB4ICsgc3BhY2luZywgeTogc3RhcnRZICsgeSB9LFxuICAgICAgICAgICAgeyB4OiBzdGFydFggKyB4ICsgc3BhY2luZyAvIDIsIHk6IHN0YXJ0WSArIHkgKyBzcGFjaW5nIC8gMiB9LFxuICAgICAgICBdO1xuXG4gICAgICAgIHBlcnNvbmFqZXMuZm9yRWFjaCgobm9tYnJlLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtaW5pID0gdGhpcy5hZGQuaW1hZ2UocG9zaXRpb25zW2ldLngsIHBvc2l0aW9uc1tpXS55LCBub21icmUpXG4gICAgICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjQ1KVxuICAgICAgICAgICAgICAgIC5zZXREYXRhKCdjaGFyYWN0ZXJOYW1lJywgbm9tYnJlKTtcblxuICAgICAgICAgICAgbWluaS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcGxheUNsaWNrKHRoaXMsICdzb25pZG9DbGljaycpO1xuICAgICAgICAgICAgICAgIHRoaXMub25NaW5pQ2xpY2tlZChub21icmUsIG1pbmkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEzDs2dpY2EgYWwgaGFjZXIgY2xpY2sgc29icmUgdW5hIG1pbmlhdHVyYSAocGVyc29uYWplKVxuICAgIG9uTWluaUNsaWNrZWQoY2hhcmFjdGVyTmFtZSwgbWluaSkge1xuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnb25saW5lJykge1xuICAgICAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wbGF5ZXJzWzBdO1xuXG4gICAgICAgICAgICAvLyBTaSBlbCBwZXJzb25hamUgeWEgZXMgZWwgc2VsZWNjaW9uYWRvLCBzZSBkZXNlbGVjY2lvbmFcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuY2hhcmFjdGVyID09PSBjaGFyYWN0ZXJOYW1lKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyLmNoYXJhY3RlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5iaWdJbWFnZSkgcGxheWVyLmJpZ0ltYWdlLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuZnJhbWUpIHBsYXllci5mcmFtZS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gU2kgZXMgdW5vIG51ZXZvLCBzZSBzZWxlY2Npb25hICh5IGF1dG9tw6F0aWNhbWVudGUgZGVzbWFyY2EgZWwgYW50ZXJpb3Igc2kgbG8gaHViaWVyYSlcbiAgICAgICAgICAgICAgICBwbGF5ZXIuY2hhcmFjdGVyID0gY2hhcmFjdGVyTmFtZTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmJpZ0ltYWdlKSBwbGF5ZXIuYmlnSW1hZ2Uuc2V0VGV4dHVyZShjaGFyYWN0ZXJOYW1lKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuZnJhbWUpIHBsYXllci5mcmFtZS5zZXRQb3NpdGlvbihtaW5pLngsIG1pbmkueSkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcbiAgICAgICAgICAgIHJldHVybjsgLy8gU2FsaW1vcyBwYXJhIG5vIGVqZWN1dGFyIGxhIGzDs2dpY2EgZGUgdHVybm9zIGRlbCBtb2RvIGxvY2FsXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvd25lckluZGV4ID0gdGhpcy5wbGF5ZXJzLmZpbmRJbmRleChwID0+IHAuY2hhcmFjdGVyID09PSBjaGFyYWN0ZXJOYW1lKTtcblxuICAgICAgICAvLyBzaSBlbCBwZXJzb25hamUgeWEgcGVydGVuZWNlIGEgYWxndWllbiwgc2UgZGVzZWxlY2Npb25hIHNpZW1wcmVcbiAgICAgICAgaWYgKG93bmVySW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBjb25zdCBvd25lciA9IHRoaXMucGxheWVyc1tvd25lckluZGV4XTtcblxuICAgICAgICAgICAgb3duZXIuY2hhcmFjdGVyID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKG93bmVyLmJpZ0ltYWdlKSBvd25lci5iaWdJbWFnZS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChvd25lci5mcmFtZSkgb3duZXIuZnJhbWUuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAgICAgICAgIC8vIEVsIHR1cm5vIHBhc2EgYSBlc2UganVnYWRvciBwYXJhIHF1ZSBlbGlqYSBpbm1lZGlhdGFtZW50ZSBvdHJvXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gb3duZXJJbmRleDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpIGVsIHBlcnNvbmFqZSBubyBwZXJ0ZW5lY2UgYSBuYWRpZSwgbG8gYXNpZ25hbW9zIHNlZ8O6biBlbCB0dXJubyAobyBzZWfDum4gcXVpw6luIGZhbHRlKVxuICAgICAgICBjb25zdCBwMSA9IHRoaXMucGxheWVyc1swXTtcbiAgICAgICAgY29uc3QgcDIgPSB0aGlzLnBsYXllcnNbMV07XG5cbiAgICAgICAgbGV0IHRhcmdldEluZGV4ID0gdGhpcy5jdXJyZW50VHVybjtcblxuICAgICAgICAvLyBzaSBjdXJyZW50VHVybiBlcyBudWxsIChhbWJvcyB5YSB0ZW7DrWFuKSwgbm8gc2UgZGVqYSByZWVtcGxhemFyIHNpbiBkZXNlbGVjY2lvbmFyIGFudGVzLFxuICAgICAgICAvLyBwZXJvIHNpIHVubyBlc3TDoSB2YWPDrW8sIHNlIGVsaWdlIGF1dG9tw6F0aWNhbWVudGUgZWwgdmFjw61vXG4gICAgICAgIGlmICh0YXJnZXRJbmRleCA9PT0gbnVsbCB8fCB0YXJnZXRJbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoIXAxLmNoYXJhY3RlciAmJiBwMi5jaGFyYWN0ZXIpIHRhcmdldEluZGV4ID0gMDtcbiAgICAgICAgICAgIGVsc2UgaWYgKCFwMi5jaGFyYWN0ZXIgJiYgcDEuY2hhcmFjdGVyKSB0YXJnZXRJbmRleCA9IDE7XG4gICAgICAgICAgICBlbHNlIGlmICghcDEuY2hhcmFjdGVyICYmICFwMi5jaGFyYWN0ZXIpIHRhcmdldEluZGV4ID0gMDtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGFtYm9zIHRpZW5lbiBwZXJzb25hamU6IHBhcmEgY2FtYmlhciwgcHJpbWVybyBkZXNlbGVjY2lvbmEgdW5vIChjbGljayBlbiBzdSBtaW5pKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMucGxheWVyc1t0YXJnZXRJbmRleF07XG4gICAgICAgIGNvbnN0IG90aGVyID0gdGhpcy5wbGF5ZXJzWzEgLSB0YXJnZXRJbmRleF07XG5cbiAgICAgICAgLy8gbm8gc2UgcGVybWl0ZSBlc2NvZ2VyIHVubyBxdWUgdGVuZ2EgZWwgb3Ryb1xuICAgICAgICBpZiAob3RoZXIuY2hhcmFjdGVyID09PSBjaGFyYWN0ZXJOYW1lKSByZXR1cm47XG5cbiAgICAgICAgLy8gQXNpZ25hciBwZXJzb25hamVcbiAgICAgICAgdGFyZ2V0LmNoYXJhY3RlciA9IGNoYXJhY3Rlck5hbWU7XG5cbiAgICAgICAgaWYgKHRhcmdldC5iaWdJbWFnZSkgdGFyZ2V0LmJpZ0ltYWdlLnNldFRleHR1cmUoY2hhcmFjdGVyTmFtZSkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgaWYgKHRhcmdldC5mcmFtZSkgdGFyZ2V0LmZyYW1lLnNldFBvc2l0aW9uKG1pbmkueCwgbWluaS55KS5zZXRWaXNpYmxlKHRydWUpO1xuXG4gICAgICAgIC8vIHR1cm5vOiBzaSBlbCBvdHJvIGHDum4gbm8gZWxpZ2nDsywgcGFzYSBhbCBvdHJvOyBzaSB5YSBlbGlnacOzLCBxdWVkYSBlbiBudWxsIChhbWJvcyBsaXN0b3MpXG4gICAgICAgIGlmICghb3RoZXIuY2hhcmFjdGVyKSB0aGlzLmN1cnJlbnRUdXJuID0gMSAtIHRhcmdldEluZGV4O1xuICAgICAgICBlbHNlIHRoaXMuY3VycmVudFR1cm4gPSBudWxsO1xuXG4gICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcbiAgICB9XG5cbiAgICAvLyBDb250cm9sYSBxdWUgcGFzYSBhbCBoYWNlciBjbGljayBlbiBlbCBib3TDs24gU2lndWllbnRlXG4gICAgaGFuZGxlTmV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ2xvY2FsJykge1xuICAgICAgICAgICAgIGNvbnN0IG5hbWUxID0gdGhpcy5wbGF5ZXJJbnB1dEVscz8uWzBdPy52YWx1ZT8udHJpbSgpID8/ICcnO1xuICAgICAgICAgICAgY29uc3QgcDFIYXNDaGFyID0gISF0aGlzLnBsYXllcnM/LlswXT8uY2hhcmFjdGVyO1xuXG4gICAgICAgICAgICBjb25zdCBuYW1lMiA9IHRoaXMucGxheWVySW5wdXRFbHM/LlsxXT8udmFsdWU/LnRyaW0oKSA/PyAnJztcbiAgICAgICAgICAgIGNvbnN0IHAySGFzQ2hhciA9ICEhdGhpcy5wbGF5ZXJzPy5bMV0/LmNoYXJhY3RlcjtcblxuICAgICAgICAgICAgY29uc3QgcmVhZHkgPSAobmFtZTEubGVuZ3RoID4gMCkgJiYgKG5hbWUyLmxlbmd0aCA+IDApICYmIHAxSGFzQ2hhciAmJiBwMkhhc0NoYXI7XG5cbiAgICAgICAgICAgIGlmICghcmVhZHkpIHtcbiAgICAgICAgICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgdGV4dG8gZGUgYXJyaWJhICh0dXJuVGV4dCkgY29uIGVsIG1lbnNhamUgZXNwZWPDrWZpY29cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XG5cbiAgICAgICAgICAgICAgICAvLyBzZSBkZXN0YWNhIGVsIG1lbnNhamUgZW4gcm9qbyBkdXJhbnRlIDFzXG4gICAgICAgICAgICAgICAgdGhpcy5mbGFzaFR1cm5UZXh0KCcjYjAwMDAwJywgOTAwKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2UgZ3VhcmRhbiBub21icmVzXG4gICAgICAgICAgICB0aGlzLnBsYXllcnNbMF0ubmFtZSA9IG5hbWUxO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzWzFdLm5hbWUgPSBuYW1lMjtcblxuICAgICAgICAgICAgLy8gc2UgcGFzYSBhIGxhIHNpZ3VpZW50ZSBlc2NlbmFcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NlbGVjdFNjZW5hcmlvX1NjZW5lJywge1xuICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLnBsYXllcnNbMF0sXG4gICAgICAgICAgICAgICAgcGxheWVyMjogdGhpcy5wbGF5ZXJzWzFdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnb25saW5lJykge1xuICAgICAgICAgICAgY29uc3QgcDFIYXNDaGFyID0gISF0aGlzLnBsYXllcnM/LlswXT8uY2hhcmFjdGVyO1xuXG4gICAgICAgICAgICBpZiAoIXAxSGFzQ2hhcikge1xuICAgICAgICAgICAgICAgIC8vIHNvbG8gc2UgYXZpc2Egc2kgbm8gaGEgZWxlZ2lkbyBwZXJzb25hamVcbiAgICAgICAgICAgICAgICB0aGlzLmZsYXNoVHVyblRleHQoJyNiMDAwMDAnLCA5MDApO1xuICAgICAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRGViZXMgZWxlZ2lyIHVuIHBlcnNvbmFqZSBwcmltZXJvJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LnNldCgnbXlDaGFyYWN0ZXInLCB0aGlzLnBsYXllcnNbMF0uY2hhcmFjdGVyKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNIb3N0KSB7XG4gICAgICAgICAgICAgICAgLy8gU295IGVsIGFkbWluOiBwdWVkbyBwYXNhciBhIGVsZWdpciBlc2NlbmFyaW9cbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RTY2VuYXJpb19TY2VuZScsIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLnBsYXllcnNbMF0sXG4gICAgICAgICAgICAgICAgICAgIGlzSG9zdDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAvLyBObyBwYXNhbW9zIHBsYXllcjIgcG9ycXVlIHNlIHVuaXLDoSBlbiByZWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTG9iYnlfU2NlbmUnLCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyMjogdGhpcy5wbGF5ZXJzWzBdLFxuICAgICAgICAgICAgICAgICAgICBpc0hvc3Q6IGZhbHNlIFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFjZSBwYXJwYWRlYXIgZWwgdGV4dG8gZGUgdHVybm8gY29uIHVuIGNvbG9yIHJvam8gZHVyYW50ZSB1bm9zIG1pbGlzZWd1bmRvc1xuICAgIGZsYXNoVHVyblRleHQoY29sb3IgPSAnI2IwMDAwMCcsIG1zID0gOTAwKSB7XG4gICAgICAgIGlmICghdGhpcy50dXJuVGV4dCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IG9sZENvbG9yID0gdGhpcy50dXJuVGV4dC5zdHlsZS5jb2xvciB8fCAnIzAwMDAwMCc7XG4gICAgICAgIHRoaXMudHVyblRleHQuc2V0Q29sb3IoY29sb3IpO1xuXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbChtcywgKCkgPT4ge1xuICAgICAgICAgICAgLy8gdnVlbHZlIGFsIGNvbG9yIG5vcm1hbCB5IHJlZnJlc2NhIGVsIHRleHRvIHBvciBzaSBjYW1iacOzIGFsZ29cbiAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0Q29sb3Iob2xkQ29sb3IpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBY3R1YWxpemEgZWwgdGV4dG8gZGUgdHVybm8vZXN0YWRvIGFjdHVhbFxuICAgIHVwZGF0ZVR1cm5UZXh0KCkge1xuICAgICAgICBpZiAoIXRoaXMudHVyblRleHQpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnbG9jYWwnKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lMSA9IHRoaXMucGxheWVySW5wdXRFbHM/LlswXT8udmFsdWU/LnRyaW0oKSA/PyAnJztcbiAgICAgICAgICAgIGNvbnN0IG5hbWUyID0gdGhpcy5wbGF5ZXJJbnB1dEVscz8uWzFdPy52YWx1ZT8udHJpbSgpID8/ICcnO1xuXG4gICAgICAgICAgICBjb25zdCBwMUhhc0NoYXIgPSAhIXRoaXMucGxheWVycz8uWzBdPy5jaGFyYWN0ZXI7XG4gICAgICAgICAgICBjb25zdCBwMkhhc0NoYXIgPSAhIXRoaXMucGxheWVycz8uWzFdPy5jaGFyYWN0ZXI7XG5cbiAgICAgICAgICAgIGNvbnN0IHAxSGFzTmFtZSA9IG5hbWUxLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICBjb25zdCBwMkhhc05hbWUgPSBuYW1lMi5sZW5ndGggPiAwO1xuXG4gICAgICAgICAgICBjb25zdCBhbGxDaGFycyA9IHAxSGFzQ2hhciAmJiBwMkhhc0NoYXI7XG4gICAgICAgICAgICBjb25zdCBhbGxOYW1lcyA9IHAxSGFzTmFtZSAmJiBwMkhhc05hbWU7XG5cbiAgICAgICAgICAgIC8vIHNpIHRvZG8gZXN0w6EgY29tcGxldG9cbiAgICAgICAgICAgIGlmIChhbGxDaGFycyAmJiBhbGxOYW1lcykge1xuICAgICAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0VGV4dCgnwqFMaXN0byBwYXJhIGNvbnRpbnVhciEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNpIGZhbHRhbiBOT01CUkVTICh5IHlhIGVzdMOhbiBsb3MgcGVyc29uYWplcyksIGVzcGVjaWZpY2EgcXVpw6luXG4gICAgICAgICAgICBpZiAoYWxsQ2hhcnMgJiYgIWFsbE5hbWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwMUhhc05hbWUgJiYgIXAySGFzTmFtZSkgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YW4gbG9zIG5vbWJyZXMgZGUgSnVnYWRvciAxIHkgSnVnYWRvciAyJyk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXAxSGFzTmFtZSkgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YSBlbCBub21icmUgZGUgSnVnYWRvciAxJyk7XG4gICAgICAgICAgICAgICAgZWxzZSB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0ZhbHRhIGVsIG5vbWJyZSBkZSBKdWdhZG9yIDInKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNpIGZhbHRhbiBQRVJTT05BSkVTICh5IHlhIGVzdMOhbiBsb3Mgbm9tYnJlcyksIGVzcGVjaWZpY2EgcXVpw6luXG4gICAgICAgICAgICBpZiAoYWxsTmFtZXMgJiYgIWFsbENoYXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwMUhhc0NoYXIgJiYgIXAySGFzQ2hhcikgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YW4gbG9zIHBlcnNvbmFqZXMgZGUgSnVnYWRvciAxIHkgSnVnYWRvciAyJyk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXAxSGFzQ2hhcikgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YSBlbCBwZXJzb25hamUgZGUgSnVnYWRvciAxJyk7XG4gICAgICAgICAgICAgICAgZWxzZSB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0ZhbHRhIGVsIHBlcnNvbmFqZSBkZSBKdWdhZG9yIDInKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNpIGZhbHRhbiBjb3NhcyBtaXh0YXMgKG5vbWJyZXMgeSBwZXJzb25hamVzKVxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFR1cm4gPT09IG51bGwgfHwgdGhpcy5jdXJyZW50VHVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdDb21wbGV0YSBub21icmVzIHkgcGVyc29uYWplcycpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy50dXJuVGV4dC5zZXRUZXh0KGBUVVJOTzogSnVnYWRvciAke3RoaXMuY3VycmVudFR1cm4gKyAxfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ29ubGluZScpIHtcbiAgICBcbiAgICAgICAgICAgIGNvbnN0IHAxSGFzQ2hhciA9ICEhdGhpcy5wbGF5ZXJzPy5bMF0/LmNoYXJhY3RlcjtcblxuICAgICAgICAgICAgaWYgKCFwMUhhc0NoYXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ05pbmfDum4gcGVyc29uYWplIHNlbGVjY2lvbmFkbycpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0xpc3RvOiBlbCBqdWdhZG9yIHRpZW5lIHBlcnNvbmFqZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy9QYW50YWxsYSBkZSBTZWxlY2Npb24gZGUgZXNjZW5hcmlvXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XG5pbXBvcnQgeyBhcHBseVN0b3JlZFZvbHVtZSwgcGxheUNsaWNrIH0gZnJvbSAnLi4vVUkvQXVkaW8uanMnO1xuaW1wb3J0IHsgY3JlYXRlVUlCdXR0b24sIGNyZWF0ZUljb25CdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcblxuZXhwb3J0IGNsYXNzIFNlbGVjdFNjZW5hcmlvX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ1NlbGVjdFNjZW5hcmlvX1NjZW5lJyk7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyA9ICdHeW0nO1xuICAgICAgICB0aGlzLm1vZGUgPSAnbG9jYWwnO1xuICAgIH1cblxuICAgIHByZWxvYWQoKSB7XG4gICAgICAgIC8vIEJvdG9uZXNcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9TSU5TRUxFQ0NJT05BUi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9GTEVDSEFfVk9MVkVSLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfU0lOU0VMRUNDSU9OQVIucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRS5wbmcnKTtcblxuICAgICAgICAvLyBGb25kb1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcblxuICAgICAgICAvLyBFc2NlbmFyaW9zXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnR3ltJywgJ0FTU0VUUy9GT05ET1MvR0lNTkFTSU8ucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGxheWEnLCAnQVNTRVRTL0ZPTkRPUy9QTEFZQS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdKYXJkaW4nLCAnQVNTRVRTL0ZPTkRPUy9KQVJESU4ucG5nJyk7XG5cbiAgICAgICAgLy8gU29uaWRvXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcblxuICAgICAgICAvLyBNYXJjb1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hcmNvJywgJy9BU1NFVFMvVUkvTUFSQ09TL1ZBQ0lPUy9NQVJDT1NfRVNDRU5BUklPLnBuZycpXG4gICAgfVxuXG4gICAgaW5pdChkYXRhKSB7XG4gICAgICAgIHRoaXMucGxheWVyMSA9IGRhdGEucGxheWVyMTtcbiAgICAgICAgdGhpcy5wbGF5ZXIyID0gZGF0YS5wbGF5ZXIyO1xuICAgICAgICB0aGlzLm1vZGUgPSBkYXRhLm1vZGUgfHwgJ2xvY2FsJztcbiAgICAgICAgdGhpcy5pc0hvc3QgPSBkYXRhLmlzSG9zdCB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlO1xuXG4gICAgICAgIC8vIHNlIGFwbGljYSBlbCB2b2x1bWVuXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xuXG4gICAgICAgIC8vIEZvbmRvXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgLy8gVMOtdHVsb1xuICAgICAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgNTAsICdTZWxlY2Npb25hIEVzY2VuYXJpbycsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgICAgZm9udFNpemU6ICc0MnB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBJbWFnZW4gZGVsIGVzY2VuYXJpbyBzZWxlY2Npb25hZG9cbiAgICAgICAgdGhpcy5zZWxlY3RlZFNjZW5hcmlvID0gJ0d5bSc7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJbWFnZSA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgMjQwLCB0aGlzLnNlbGVjdGVkU2NlbmFyaW8pLnNldFNjYWxlKDAuNSk7XG5cbiAgICAgICAgLy8gRXNjZW5hcmlvcyAoYm90b25lcylcbiAgICAgICAgY29uc3QgZXNjZW5hcmlvcyA9IFsnR3ltJywgJ1BsYXlhJywgJ0phcmRpbiddO1xuICAgICAgICBjb25zdCBzcGFjaW5nID0gMjAwO1xuICAgICAgICBjb25zdCBzdGFydFggPSB3aWR0aCAvIDIgLSBzcGFjaW5nO1xuXG4gICAgICAgIGNvbnN0IHNjZW5hcmlvQnV0dG9ucyA9IHt9O1xuXG4gICAgICAgIC8vIGZ1bmNpw7NuIHBhcmEgc2VsZWNjaW9uYXIgZXNjZW5hcmlvXG4gICAgICAgIGNvbnN0IHNldFNlbGVjdGVkU2NlbmFyaW8gPSAobm9tYnJlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkU2NlbmFyaW8gPSBub21icmU7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW1hZ2Uuc2V0VGV4dHVyZShub21icmUpLnNldFNjYWxlKDAuNSk7XG5cbiAgICAgICAgICAgIC8vIHNlIGRlamEgbWFyY2FkbyBlbCBzZWxlY2Npb25hZG9cbiAgICAgICAgICAgIGVzY2VuYXJpb3MuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgc2NlbmFyaW9CdXR0b25zW2tleV0uc2V0VGV4dHVyZShrZXkgPT09IG5vbWJyZSA/ICdib3RvblNlbGVjY2lvbmFkbycgOiAnYm90b25TaW5TZWxlY2Npb25hcicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZXNjZW5hcmlvcy5mb3JFYWNoKChub21icmUsIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvdG9uID0gdGhpcy5hZGQuaW1hZ2Uoc3RhcnRYICsgaSAqIHNwYWNpbmcsIDQ0MCwgJ2JvdG9uU2luU2VsZWNjaW9uYXInKVxuICAgICAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMS43NSk7XG5cbiAgICAgICAgICAgIHNjZW5hcmlvQnV0dG9uc1tub21icmVdID0gYm90b247XG5cbiAgICAgICAgICAgIC8vIHRleHRvIGVuIGVsIGNlbnRyb1xuICAgICAgICAgICAgY29uc3QgdGV4dG8gPSB0aGlzLmFkZC50ZXh0KDAsIDAsIG5vbWJyZSwgeyAuLi5zdHlsZSwgZm9udFNpemU6ICcyOHB4JywgY29sb3I6ICcjMDAwJyB9KTtcbiAgICAgICAgICAgIFBoYXNlci5EaXNwbGF5LkFsaWduLkluLkNlbnRlcih0ZXh0bywgYm90b24pO1xuXG4gICAgICAgICAgICAvLyBob3ZlclxuICAgICAgICAgICAgYm90b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gYm90b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKSk7XG4gICAgICAgICAgICBib3Rvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBib3Rvbi5zZXRUZXh0dXJlKHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyA9PT0gbm9tYnJlID8gJ2JvdG9uU2VsZWNjaW9uYWRvJyA6ICdib3RvblNpblNlbGVjY2lvbmFyJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gY2xpY2s6IHNvbmlkbyArIHNlbGVjY2lvbmFyXG4gICAgICAgICAgICBib3Rvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiBwbGF5Q2xpY2sodGhpcywgJ3Nvbmlkb0NsaWNrJykpO1xuICAgICAgICAgICAgYm90b24ub24oJ3BvaW50ZXJ1cCcsIChwb2ludGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5zaWRlID0gYm90b24uZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnRlci54LCBwb2ludGVyLnkpO1xuICAgICAgICAgICAgICAgIGlmICghaW5zaWRlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRTY2VuYXJpbyhub21icmUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHNlIG1hcmNhIGVsIGVzY2VuYXJpbyBwb3IgZGVmZWN0byB2aXN1YWxtZW50ZVxuICAgICAgICBzZXRTZWxlY3RlZFNjZW5hcmlvKHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyk7XG5cbiAgICAgICAgLy8gTWFyY29cbiAgICAgICAgY29uc3QgZnJhbWVZID0gMjQwOyAvLyBZIGRlIGxhIGltYWdlbiBkZWwgZXNjZW5hcmlvXG4gICAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyLCBmcmFtZVksICdtYXJjbycpLnNldE9yaWdpbigwLjUpO1xuICAgICAgICBmcmFtZS50ZXh0dXJlLnNldEZpbHRlcihQaGFzZXIuVGV4dHVyZXMuRmlsdGVyTW9kZS5ORUFSRVNUKTtcblxuICAgICAgICAvLyBBanVzdGUgZGVsIHRhbWHDsW8gZGVsIG1hcmNvXG4gICAgICAgIGNvbnN0IHRhcmdldEZyYW1lV2lkdGggPSA1MDA7IFxuICAgICAgICBjb25zdCB0YXJnZXRGcmFtZUhlaWdodCA9IDMwMDtcbiAgICAgICAgZnJhbWUuc2V0RGlzcGxheVNpemUodGFyZ2V0RnJhbWVXaWR0aCwgdGFyZ2V0RnJhbWVIZWlnaHQpO1xuXG4gICAgICAgIC8vIGJvdMOzbiBTaWd1aWVudGVcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxuICAgICAgICAgICAgeTogNTAwLFxuICAgICAgICAgICAgbGFiZWw6ICdTaWd1aWVudGUnLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdsb2NhbCcpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lX1NjZW5lJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyMTogdGhpcy5wbGF5ZXIxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyMjogdGhpcy5wbGF5ZXIyLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRTY2VuYXJpbzogdGhpcy5zZWxlY3RlZFNjZW5hcmlvLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNIb3N0OiB0aGlzLmlzSG9zdFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdMb2JieV9TY2VuZScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcjE6IHRoaXMucGxheWVyMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcjI6IHRoaXMucGxheWVyMixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkU2NlbmFyaW86IHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSG9zdDogdGhpcy5pc0hvc3RcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjYWxlOiAxLjUsXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW1wbGUnLFxuICAgICAgICAgICAgdGV4dHVyZUhvdmVyOiAnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLFxuICAgICAgICAgICAgdGV4dFN0eWxlOiB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzE4cHgnLCBjb2xvcjogJyMwMDAnIH0sXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBib3TDs24gVm9sdmVyIGF0csOhc1xuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxuICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NlbGVjdFBsYXllcl9TY2VuZScsIHsgXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgICAgICAgICAgICAgaXNIb3N0OiB0aGlzLmlzSG9zdFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59IiwiLy8gQmFzZSBkZWwganVlZ28sIGVzdHJ1Y3R1cmEgeSBhY2Nlc28gYSB0b2RvcyBsb3MgYXJjaGl2b3NcclxuaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IE1lbnVfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvTWVudV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBHYW1lX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0dhbWVfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgVHV0b3JpYWxfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvVHV0b3JpYWxfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgQ29uZmlndXJhdGlvbl9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9Db25maWd1cmF0aW9uX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IENyZWRpdHNfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvQ3JlZGl0c19TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBFbmRHYW1lX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0VuZEdhbWVfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgTW9kZUdhbWVfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvTW9kZUdhbWVfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgUGF1c2VfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvUGF1c2VfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgU2VsZWN0UGxheWVyX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL1NlbGVjdFBsYXllcl9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBTZWxlY3RTY2VuYXJpb19TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9TZWxlY3RTY2VuYXJpb19TY2VuZS5qc1wiO1xyXG5cclxuKGFzeW5jICgpID0+IHtcclxuICAgIC8vIGZhbGxiYWNrIHBhcmEgZXZpdGFyIHByb2JsZW1hcyBjb24gbGFzIGZ1ZW50ZXMgcGVyc29uYWxpemFkYXNcclxuICAgIGlmIChkb2N1bWVudC5mb250cyAmJiBkb2N1bWVudC5mb250cy5sb2FkKSB7XHJcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgICAgICBkb2N1bWVudC5mb250cy5sb2FkKCcyMHB4IFwiTWlGdWVudGVcIicpLFxyXG4gICAgICAgICAgICBkb2N1bWVudC5mb250cy5sb2FkKCcyMHB4IFwiVlQzMjNcIicpXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgYXdhaXQgZG9jdW1lbnQuZm9udHMucmVhZHk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZ2xvYmFscyA9IHtcclxuICAgICAgICBkZWZhdWx0VGV4dFN0eWxlOiB7IGZvbnRGYW1pbHk6ICdNaUZ1ZW50ZScsIGZvbnRTaXplOiAnMjBweCcsIGNvbG9yOiAnI2ZmZmZmZicgfSxcclxuICAgICAgICBtdXNpYzogbnVsbFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICAgICAgd2lkdGg6IDk2MCxcclxuICAgICAgICBoZWlnaHQ6IDU0MCxcclxuICAgICAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXHJcbiAgICAgICAgcGh5c2ljczoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgICAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgICAgICBncmF2aXR5OiB7IHg6IDAsIHk6IDMwMCB9LFxyXG4gICAgICAgICAgICAgICAgZGVidWc6IGZhbHNlIC8vIHBvbmVyIGEgdHJ1ZSBwYXJhIHZlciBsYXMgbMOtbmVhcyBkZSBsb3MgY3VlcnBvcyBmw61zaWNvc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkb206IHtcclxuICAgICAgICAgICAgY3JlYXRlQ29udGFpbmVyOiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjYWxsYmFja3M6IHtcclxuICAgICAgICAgICAgcHJlQm9vdDogKGdhbWUpID0+IHtcclxuICAgICAgICAgICAgICAgIGdhbWUuZ2xvYmFscyA9IGdsb2JhbHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHNjZW5lOiBbTWVudV9TY2VuZSwgR2FtZV9TY2VuZSwgVHV0b3JpYWxfU2NlbmUsIENvbmZpZ3VyYXRpb25fU2NlbmUsIENyZWRpdHNfU2NlbmUsIEVuZEdhbWVfU2NlbmUsIFBhdXNlX1NjZW5lLCBNb2RlR2FtZV9TY2VuZSwgU2VsZWN0UGxheWVyX1NjZW5lLCBTZWxlY3RTY2VuYXJpb19TY2VuZV0sXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzg2NzVmMScsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGdhbWUgPSBuZXcgUGhhc2VyLkdhbWUoY29uZmlnKTtcclxufSkoKTtcclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGUiLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiUGhhc2VyIiwiU0ZYX1ZPTFVNRV9LRVkiLCJNVVNJQ19WT0xVTUVfS0VZIiwiR0xPQkFMX1ZPTFVNRV9LRVkiLCJMRUdBQ1lfVk9MVU1FX0tFWSIsInBhcnNlU3RvcmVkVm9sdW1lIiwicmF3IiwiZGVmYXVsdFZhbHVlIiwidiIsIk51bWJlciIsInBhcnNlRmxvYXQiLCJTdHJpbmciLCJpc0Zpbml0ZSIsIkNsYW1wIiwiZ2V0U3RvcmVkVm9sdW1lQnlLZXkiLCJmYWxsYmFja0tleSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJmYWxsYmFja1JhdyIsImdldFN0b3JlZFNmeFZvbHVtZSIsImdldFN0b3JlZE11c2ljVm9sdW1lIiwiZ2V0U3RvcmVkR2xvYmFsVm9sdW1lIiwiYXBwbHlTdG9yZWRWb2x1bWUiLCJzY2VuZSIsIm9wdGlvbnMiLCJnbG9iYWxWb2wiLCJzZnhWb2x1bWUiLCJtdXNpY1ZvbHVtZSIsInNvdW5kIiwidm9sdW1lIiwibXVzaWMiLCJnYW1lIiwiZ2xvYmFscyIsInNldFZvbHVtZSIsInBsYXlDbGljayIsInBsYXkiLCJjcmVhdGVVSUJ1dHRvbiIsIngiLCJ5IiwibGFiZWwiLCJvbkNsaWNrIiwidGV4dHVyZU5vcm1hbCIsInRleHR1cmVIb3ZlciIsInNjYWxlIiwidGV4dFN0eWxlIiwiY2xpY2tTb3VuZEtleSIsImJ1dHRvbiIsImFkZCIsInNwcml0ZSIsInNldFNjYWxlIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwidGV4dCIsInNldE9yaWdpbiIsInNldE5vcm1hbCIsInNldFRleHR1cmUiLCJzZXRIb3ZlciIsIm9uIiwicG9pbnRlciIsImdldEJvdW5kcyIsImNvbnRhaW5zIiwiY3JlYXRlSWNvbkJ1dHRvbiIsInRleHR1cmUiLCJob3ZlclNjYWxlIiwiTWVudV9TY2VuZSIsImNvbnN0cnVjdG9yIiwic3VwZXIiLCJwcmVsb2FkIiwidGhpcyIsImxvYWQiLCJpbWFnZSIsImF1ZGlvIiwiY3JlYXRlIiwic291bmRLZXkiLCJsb29wIiwidHJ5UGxheSIsImlzUGxheWluZyIsImVyciIsImNvbnNvbGUiLCJ3YXJuIiwiaW5wdXQiLCJvbmNlIiwiYXN5bmMiLCJjdHgiLCJjb250ZXh0Iiwic3RhdGUiLCJyZXN1bWUiLCJlbnN1cmVMb29waW5nTXVzaWMiLCJzdHlsZSIsImRlZmF1bHRUZXh0U3R5bGUiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJjb2xvciIsIndpZHRoIiwiaGVpZ2h0IiwiY2VudGVyWCIsInJpZ2h0SGFsZlgiLCJzZXREZXB0aCIsInNldERpc3BsYXlTaXplIiwiZmlyc3RCdXR0b25ZIiwiYnV0dG9uVGV4dFN0eWxlIiwic3RhcnQiLCJyZXR1cm5TY2VuZSIsImJ1dHRvblNwYWNpbmciLCJQT1dFUlVQX0RVUkFUSU9OX01TIiwidmVsb2NpZGFkIiwicmFsZW50aXphciIsInBhcmFsaXphciIsInBvcjIiLCJwb3IzIiwiUGxheWVyIiwiaWQiLCJjaGFyYWN0ZXJUeXBlIiwiYmFzZU1vdmVTcGVlZCIsIm1vdmVTcGVlZCIsImp1bXBTcGVlZCIsImFjdGl2ZVBvd2VyVXBzIiwiaXNQYXJhbHl6ZWQiLCJwYXJhbHlzaXNUd2VlbiIsInNwZWVkRWZmZWN0QWN0aXZlIiwic2xvd0VmZmVjdEFjdGl2ZSIsInNjb3JlTXVsdGlwbGllciIsIm11bHRpcGxpZXJUZXh0Iiwic3Ryb2tlIiwic3Ryb2tlVGhpY2tuZXNzIiwic2V0VmlzaWJsZSIsInBvd2VyVXBJbnZlbnRvcnkiLCJpc1JlY2VpdmluZyIsImJvdW5kc0xlZnQiLCJib3VuZHNSaWdodCIsImJvdW5kc1RvcCIsImJvdW5kc0JvdHRvbSIsIkNIQVJBQ1RFUl9DT05GSUciLCJjaGFyYWN0ZXJBIiwidGV4dHVyZUtleSIsInN0YXJ0RnJhbWUiLCJpZGxlTGVmdEFuaW0iLCJpZGxlUmlnaHRBbmltIiwicnVuTGVmdEFuaW0iLCJydW5SaWdodEFuaW0iLCJqdW1wTGVmdEFuaW0iLCJqdW1wUmlnaHRBbmltIiwicmVjZWl2ZUxlZnRBbmltIiwicmVjZWl2ZVJpZ2h0QW5pbSIsImNoYXJhY3RlckIiLCJjaGFyYWN0ZXJDIiwiY29uZmlnIiwicGh5c2ljcyIsImJvZHkiLCJzZXRTaXplIiwic2V0RGF0YSIsImZhY2luZyIsImlzT25Hcm91bmQiLCJpc0p1bXBpbmciLCJqdW1wU3RhcnRUaW1lIiwiYW5pbSIsImVycm9yIiwiaXNHcm91bmRlZCIsImJsb2NrZWQiLCJkb3duIiwidG91Y2hpbmciLCJpc05lYXJHcm91bmQiLCJ0aHJlc2hvbGQiLCJncm91bmRZIiwiZmVldFkiLCJNYXRoIiwiYWJzIiwibW92ZUxlZnQiLCJzZXRWZWxvY2l0eVgiLCJwbGF5QW5pbWF0aW9uIiwibW92ZVJpZ2h0IiwianVtcExlZnQiLCJ0aW1lIiwibm93Iiwic2V0VmVsb2NpdHlZIiwicGxheVNmeCIsInNmeCIsImp1bXAiLCJqdW1wUmlnaHQiLCJyZWNlaXZlTGVmdCIsInJlY2VpdmVSaWdodCIsImlkbGVMZWZ0IiwiaWRsZVJpZ2h0Iiwic2V0Qm91bmRzIiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwiY2xhbXBXaXRoaW5Cb3VuZHMiLCJoYWxmV2lkdGgiLCJzZXRQb3NpdGlvbiIsInNldFZlbG9jaXR5IiwidXBkYXRlTXVsdGlwbGllclRleHRQb3NpdGlvbiIsIm9mZnNldFkiLCJkaXNwbGF5SGVpZ2h0IiwiYW5pbUtleSIsImFuaW1zIiwiY3VycmVudEFuaW0iLCJ1cGRhdGUiLCJ3YXNPbkdyb3VuZCIsImN1cnJlbnRLZXkiLCJhcHBseVBvd2VyVXAiLCJ0eXBlIiwibGVuZ3RoIiwicHVzaCIsInVzZU5leHRQb3dlclVwIiwic2hpZnQiLCJhY3RpdmF0ZVBvd2VyVXAiLCJhcHBseU9yUmVmcmVzaFRpbWVkRWZmZWN0Iiwib3Bwb25lbnQiLCJnZXRPcHBvbmVudCIsInVwZGF0ZVBvd2VyVXBzIiwic3BlZWROZWVkc1JlY2FsYyIsInNjb3JlTmVlZHNSZWNhbGMiLCJzZXRTcGVlZEVmZmVjdCIsInNldFNsb3dFZmZlY3QiLCJzZXRQYXJhbHl6ZWQiLCJyZWNhbGN1bGF0ZU1vdmVTcGVlZCIsInJlY2FsY3VsYXRlU2NvcmVFZmZlY3QiLCJzZXRUaW50Iiwic2V0QWxwaGEiLCJzdG9wIiwidHdlZW5zIiwidGFyZ2V0cyIsImFscGhhIiwieW95byIsImR1cmF0aW9uIiwicmVwZWF0IiwicmVmcmVzaFBvd2VyVXBWaXN1YWxzIiwiYWN0aXZlIiwibXVsdCIsIm11bHRpcGxpZXIiLCJtYXgiLCJzZXRUZXh0IiwiZHVyYXRpb25NcyIsImNsZWFyVGludCIsInBsYXllcnMiLCJBcnJheSIsImZyb20iLCJ2YWx1ZXMiLCJmaW5kIiwicCIsIkFwcGx5UG93ZXJVcENvbW1hbmQiLCJwbGF5ZXIiLCJwb3dlclVwVHlwZSIsInN0b3JlZCIsImV4ZWN1dGUiLCJQb3dlclVwIiwiaXNDb2xsZWN0ZWQiLCJfZGVzdHJveWVkIiwiX2Nvb2xkb3duVW50aWwiLCJmYWRlU3RhcnQiLCJsaWZldGltZSIsIl9vdmVybGFwcyIsImZhZGVUd2VlbiIsIl9saWZldGltZVRpbWVyIiwic3RhdGljSW1hZ2UiLCJyZWZyZXNoQm9keSIsImZhZGVEZWxheSIsIm1pbiIsImZhZGVEdXJhdGlvbiIsImRlbGF5IiwiZm9yRWFjaCIsImMiLCJvdmVybGFwIiwiY29sbGVjdCIsImRlbGF5ZWRDYWxsIiwiZGVzdHJveSIsImxvZyIsImNtZCIsImNvbW1hbmRQcm9jZXNzb3IiLCJwcm9jZXNzIiwidXBkYXRlUGxheWVySW52ZW50b3J5VUkiLCJpc0FycmF5IiwicmVtb3ZlIiwicG93ZXJVcHMiLCJmaWx0ZXIiLCJCYWxsIiwic2V0Qm91bmNlIiwic2V0Q29sbGlkZVdvcmxkQm91bmRzIiwibGFzdFRvdWNoZWRCeSIsInRvdWNoQ291bnQiLCJjb3VydFNpZGUiLCJpc0JhbGxMaXZlIiwibmV0WCIsImxhc3RIaXRUaW1lIiwibGFzdEhpdFBsYXllcklkIiwiX2dldFJhbmRvbUZhY3RvciIsInJhbmRvbSIsImhpdCIsInBsYXllckZhY2luZ0RpcmVjdGlvbiIsIm9uRmFsdGEiLCJ2ZWxvY2l0eVgiLCJ2ZWxvY2l0eVkiLCJyZWNlaXZlIiwic3Bpa2UiLCJiYXNlU3BlZWRYIiwidmVydGljYWxTdHJlbmd0aCIsInJhbmRvbUZhY3RvclgiLCJjcm9zc05ldCIsIm9uR3JvdW5kZWQiLCJiYWxsT25MZWZ0IiwiYmFsbE9uUmlnaHQiLCJvblJhbGx5RW5kIiwicmVzZXRSYWxseSIsImZhbHRhVHlwZSIsImZhbHRpbmdQbGF5ZXIiLCJzY29yaW5nUGxheWVySWQiLCJldmVudHMiLCJlbWl0IiwiX2dldFN1YnRsZU51ZGdlIiwic3Bhd25YIiwic2lkZVBhZGRpbmciLCJ3b3JsZFdpZHRoIiwib2Zmc2V0Iiwic2V0U2VydmVQb3NpdGlvbiIsInNjb3JpbmdQbGF5ZXIiLCJjbGFtcCIsInZhbHVlIiwibnVkZ2VWZWxvY2l0eVgiLCJudWRnZSIsIkNvbW1hbmRQcm9jZXNzb3IiLCJNYXAiLCJnYW1lU2NlbmUiLCJzZXRQbGF5ZXJzIiwic2V0R2FtZVNjZW5lIiwiY29tbWFuZCIsIkNvbW1hbmQiLCJzZXJpYWxpemUiLCJnZXRQbGF5ZXIiLCJNb3ZlUGxheWVyQ29tbWFuZCIsImRpcmVjdGlvbiIsInBsYXllcklkIiwiR2FtZV9TY2VuZSIsInRpZW1wb1RvdGFsIiwidGllbXBvUmVzdGFudGUiLCJ0aW1lclRleHQiLCJ0aW1lckV2ZW50IiwiaW5pdCIsImRhdGEiLCJpbnB1dE1hcHBpbmdzIiwicGxheWVyMSIsInBsYXllcjIiLCJzZWxlY3RlZFNjZW5hcmlvIiwiYmFsbCIsInNjb3JlUDEiLCJzY29yZVAyIiwic2V0c1AxIiwic2V0c1AyIiwibWF4U2V0cyIsImN1cnJlbnRTZXQiLCJpc0dvbGRlblBvaW50Iiwic3ByaXRlc2hlZXQiLCJmcmFtZVdpZHRoIiwiZnJhbWVIZWlnaHQiLCJ3b3JsZEhlaWdodCIsIndoaXN0bGUiLCJwb2ludCIsInNldFNjcm9sbEZhY3RvciIsInRpbWVySWNvbiIsInNldEZyYW1lIiwic2V0RnJhbWVXaWR0aCIsImRpc3BsYXlXaWR0aCIsInNldEZyYW1lSGVpZ2h0Iiwic2V0U2NvcmVZIiwicm91bmQiLCJzZXRTY29yZU9mZnNldFgiLCJzZXRTY29yZUZyYW1lTGVmdCIsInNldFNjb3JlRnJhbWVSaWdodCIsInNldFNjb3JlTGVmdCIsInNldFNjb3JlUmlnaHQiLCJzZXRXaW5uZXJUZXh0IiwiYWRkRXZlbnQiLCJjYWxsYmFjayIsInVwZGF0ZVRpbWVyIiwiY2FsbGJhY2tTY29wZSIsInJlZCIsInN0YXRpY1Nwcml0ZSIsInJlZFRleHR1cmUiLCJ0ZXh0dXJlcyIsImdldFNvdXJjZUltYWdlIiwic2V0T2Zmc2V0IiwidXBkYXRlRnJvbUdhbWVPYmplY3QiLCJfY3JlYXRlQW5pbWF0aW9ucyIsInBvaW50c0xlZnQiLCJwb2ludHNSaWdodCIsInNjb3JlRnJhbWVMZWZ0Iiwic2NvcmVGcmFtZVJpZ2h0Iiwic2NvcmVMZWZ0IiwicmlnaHRTY29yZSIsImdyb3VuZEhlaWdodCIsImdyb3VuZCIsInJlY3RhbmdsZSIsImV4aXN0aW5nIiwiX2NyZWF0ZVBsYXllcnMiLCJfc2V0dXBQaHlzaWNzV29ybGQiLCJfc2V0dXBJbnB1dE1hcHBpbmdzIiwibWF4UG93ZXJVcHMiLCJwb3dlclVwU3Bhd25Db25maWciLCJtaW5EZWxheU1zIiwibWF4RGVsYXlNcyIsIndlaWdodHMiLCJjb29sZG93bk1zIiwicG93ZXJVcExhc3RTcGF3bkF0IiwiaW52ZW50b3J5VUkiLCJzY2hlZHVsZVBvd2VyVXBTcGF3biIsImludmVudG9yeUZyYW1lcyIsIl9jcmVhdGVCYWxsIiwiX3NldHVwQmFsbENvbGxpc2lvbnMiLCJfc2V0dXBCYWxsRXZlbnRzIiwia2V5Ym9hcmQiLCJwYXVzZSIsInBhdXNlZCIsImxhdW5jaCIsIndpbm5lciIsIl9lbmRHYW1lIiwiQmV0d2VlbiIsIl9nZXRXZWlnaHRlZFBvd2VyVXBUeXBlIiwicG93ZXJVcCIsImVudHJpZXMiLCJ3ZWlnaHQiLCJjb29sZG93biIsImxhc3QiLCJ0b3RhbCIsInJlZHVjZSIsInN1bSIsInJvbGwiLCJfaGFuZGxlSW5wdXRGb3JBbGxQbGF5ZXJzIiwibWludXRvcyIsImZsb29yIiwic2VndW5kb3MiLCJmb3JtYXRvIiwidG9TdHJpbmciLCJwYWRTdGFydCIsIl9lbmRTZXQiLCJ1cGRhdGVTZXRTY29yZVVJIiwidWkiLCJpIiwiZnJhbWVzIiwiZ2VuZXJhdGVGcmFtZU51bWJlcnMiLCJlbmQiLCJmcmFtZVJhdGUiLCJyZXZlcnNlIiwiY2hhclAxIiwiY2hhcmFjdGVyIiwiY2hhclAyIiwicDEiLCJwMiIsInNldCIsImNvdXJ0Qm90dG9tIiwiY29sbGlkZXIiLCJsZWZ0S2V5IiwicmlnaHRLZXkiLCJqdW1wS2V5IiwicmVjZWl2ZUtleSIsInBvd2VyS2V5IiwibWFwIiwibGVmdEtleU9iaiIsImFkZEtleSIsIktleWJvYXJkIiwiS2V5Q29kZXMiLCJyaWdodEtleU9iaiIsImp1bXBLZXlPYmoiLCJyZWNlaXZlS2V5T2JqIiwicG93ZXJLZXlPYmoiLCJtYXBwaW5nIiwiaWRsZURpciIsImlzRG93biIsIkp1c3REb3duIiwicmVjZWl2ZURpciIsImp1bXBEaXIiLCJfb25CYWxsUGxheWVyQ29sbGlzaW9uIiwidmVsb2NpdHkiLCJzY29yZXJJZCIsInBvaW50c1RvQWRkIiwiX2NoZWNrV2luQ29uZGl0aW9uIiwiX2lzQmFsbEluSGl0Wm9uZSIsImJhbGxTcHJpdGUiLCJiYWxsWCIsImJhbGxZIiwiYm9keVRvcCIsImJvZHlIZWlnaHQiLCJib2R5Q2VudGVyWCIsInpvbmUiLCJmYWNpbmdSaWdodCIsIndpZGVIaXQiLCJyZWFjaEZvcndhcmQiLCJyZWFjaEJhY2siLCJwbGF5ZXJEaXJlY3Rpb24iLCJ3b3JsZCIsInNjb3JlRGlmZiIsIndpbm5lckxhYmVsIiwiX3Jlc2V0U2V0IiwiVHV0b3JpYWxfU2NlbmUiLCJwYWdlSW5kZXgiLCJtYWluVGl0bGVUZXh0IiwicGFnZXMiLCJ0aXRsZSIsInBhbmVsTWFyZ2luIiwicGFuZWxHYXAiLCJuYXZZIiwicGFuZWxUb3AiLCJwYW5lbEJvdHRvbSIsInBhbmVsSGVpZ2h0IiwicGFuZWxXaWR0aCIsImxheW91dCIsInNsaWRlSW1hZ2UiLCJfZml0SW1hZ2UiLCJwYWdlSW5kaWNhdG9yIiwicHJldiIsIm5leHQiLCJyZW5kZXJQYWdlIiwiaW1nIiwibWF4VyIsIm1heEgiLCJDb25maWd1cmF0aW9uX1NjZW5lIiwibXVzaWNWb2x1bWVTbGlkZXIiLCJzZnhWb2x1bWVTbGlkZXIiLCJnbG9iYWxWb2x1bWVTbGlkZXIiLCJoYXNTZngiLCJoYXNNdXNpYyIsImxlZ2FjeVZvbHVtZSIsImdldExlZ2FjeVZvbHVtZSIsImluaXRpYWxWb2x1bWUiLCJzZXRJdGVtIiwiZW5zdXJlU3RvcmVkQXVkaW9TZXR0aW5ncyIsImluaXRpYWxHbG9iYWxWb2x1bWUiLCJpbml0aWFsTXVzaWNWb2x1bWUiLCJpbml0aWFsU2Z4Vm9sdW1lIiwic2VjdGlvbkdhcCIsImxhYmVsVG9TbGlkZXJHYXAiLCJncm91cFRvcFkiLCJnbG9iYWxMYWJlbFkiLCJnbG9iYWxTbGlkZXJZIiwibXVzaWNMYWJlbFkiLCJtdXNpY1NsaWRlclkiLCJzZnhMYWJlbFkiLCJzZnhTbGlkZXJZIiwiZG9tIiwiY3JlYXRlRnJvbUhUTUwiLCJhZGRMaXN0ZW5lciIsImV2ZW50IiwidGFyZ2V0IiwiSFRNTElucHV0RWxlbWVudCIsInNldFN0b3JlZEdsb2JhbFZvbHVtZSIsInNldFN0b3JlZE11c2ljVm9sdW1lIiwic2V0U3RvcmVkU2Z4Vm9sdW1lIiwiRXZlbnRzIiwiU0hVVERPV04iLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJDcmVkaXRzX1NjZW5lIiwibm9tYnJlc0VxdWlwbyIsImNhcmRXaWR0aCIsImNhcmRIZWlnaHQiLCJjYXJkWCIsImNhcmRZIiwic2V0U3Ryb2tlU3R5bGUiLCJzdGFydFkiLCJub21icmUiLCJpc0hlYWRlciIsImxvZ29YIiwibG9nb1kiLCJFbmRHYW1lX1NjZW5lIiwibmFtZSIsIndpbm5lclRleHRZIiwic3ByaXRlUm93WSIsImJ1dHRvblkiLCJzcHJpdGVPZmZzZXRYIiwid2lubmVyVGV4dCIsIndpbm5lclNwcml0ZVNsb3QiLCJjb250YWluZXIiLCJsb3NlclNwcml0ZVNsb3QiLCJNb2RlR2FtZV9TY2VuZSIsInNwYWNpbmciLCJzdGFydFgiLCJzdGFydE1vZGUiLCJtb2RlIiwicmVnaXN0cnkiLCJyZWRCdXR0b24iLCJkaXNhYmxlSW50ZXJhY3RpdmUiLCJzZXRBbGlnbiIsIlBhdXNlX1NjZW5lIiwiYnV0dG9uU3RhcnRZIiwicmVtb3ZlQWxsS2V5cyIsIlNlbGVjdFBsYXllcl9TY2VuZSIsImN1cnJlbnRUdXJuIiwicGxheWVySW5wdXRzIiwicGxheWVySW5wdXRFbHMiLCJ0dXJuVGV4dCIsImlzSG9zdCIsImNyZWF0ZUxvY2FsVUkiLCJjcmVhdGVPbmxpbmVVSSIsImVuYWJsZWQiLCJiaWdJbWFnZSIsImJpZ0ZyYW1lIiwiZnJhbWUiLCJjcmVhdGVQbGF5ZXJzVUkiLCJjcmVhdGVDaGFyYWN0ZXJNaW5pYXR1cmVzIiwidXBkYXRlVHVyblRleHQiLCJoYW5kbGVOZXh0IiwiZm9udFN0eWxlIiwiY3JlYXRlUGxheWVyT25saW5lVUkiLCJwb3NpdGlvbnNYIiwiaWR4IiwiaW5wdXRFbCIsIm5vZGUiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJyZXBsYWNlIiwic2V0RmlsdGVyIiwiRmlsdGVyTW9kZSIsIk5FQVJFU1QiLCJwb3NpdGlvbnMiLCJtaW5pIiwib25NaW5pQ2xpY2tlZCIsImNoYXJhY3Rlck5hbWUiLCJvd25lckluZGV4IiwiZmluZEluZGV4Iiwib3duZXIiLCJ0YXJnZXRJbmRleCIsIm90aGVyIiwibmFtZTEiLCJ0cmltIiwicDFIYXNDaGFyIiwibmFtZTIiLCJwMkhhc0NoYXIiLCJmbGFzaFR1cm5UZXh0IiwibXMiLCJvbGRDb2xvciIsInNldENvbG9yIiwicDFIYXNOYW1lIiwicDJIYXNOYW1lIiwiYWxsQ2hhcnMiLCJhbGxOYW1lcyIsInVuZGVmaW5lZCIsIlNlbGVjdFNjZW5hcmlvX1NjZW5lIiwic2VsZWN0ZWRJbWFnZSIsImVzY2VuYXJpb3MiLCJzY2VuYXJpb0J1dHRvbnMiLCJzZXRTZWxlY3RlZFNjZW5hcmlvIiwiYm90b24iLCJ0ZXh0byIsIkFsaWduIiwiSW4iLCJDZW50ZXIiLCJkb2N1bWVudCIsImZvbnRzIiwiUHJvbWlzZSIsImFsbCIsInJlYWR5IiwicGFyZW50IiwiZGVmYXVsdCIsImFyY2FkZSIsImdyYXZpdHkiLCJkZWJ1ZyIsImNyZWF0ZUNvbnRhaW5lciIsImNhbGxiYWNrcyIsInByZUJvb3QiLCJiYWNrZ3JvdW5kQ29sb3IiXSwic291cmNlUm9vdCI6IiJ9