(()=>{"use strict";var e={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},d:(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var i=e.n(t);const s="sfxVolume",a="musicVolume",r="volume";function o(e,t){const s=Number.parseFloat(e??String(t));return Number.isFinite(s)?i().Math.Clamp(s,0,1):t}function n(e,t,s=1){const a=localStorage.getItem(e);if(null!==a)return o(a,s);const r=t?localStorage.getItem(t):null;return null!==r?o(r,s):i().Math.Clamp(s,0,1)}function l(e=1){return n(s,r,e)}function h(e=1){return n(a,r,e)}function c(e,t={}){let s=l(),a=h();"number"==typeof t?(s=i().Math.Clamp(Number(t),0,1),a=s):(s=t.sfxVolume??s,a=t.musicVolume??a),e.sound.volume=1;const r=e.game.globals.music;r&&"setVolume"in r&&r.setVolume(a)}function d(e,t="sonidoClick"){e.sound.play(t,{volume:l()})}function p(e,{x:t,y:i,label:s,onClick:a,textureNormal:r="botonSinSeleccionar",textureHover:o="botonSeleccionado",scale:n=2,textStyle:l={},clickSoundKey:h="sonidoClick"}){const c=e.add.sprite(t,i,r).setScale(n).setInteractive({useHandCursor:!0}),p=e.add.text(t,i,s,l).setOrigin(.5),S=()=>c.setTexture(r),m=()=>c.setTexture(o);return c.on("pointerover",m),c.on("pointerout",S),c.on("pointerdown",()=>{m(),d(e,h)}),c.on("pointerup",e=>{c.getBounds().contains(e.x,e.y)?(m(),a?.()):S()}),{button:c,text:p}}function S(e,t){const{x:i,y:s,texture:a,onClick:r,scale:o=1,hoverScale:n=1.1,clickSoundKey:l="sonidoClick"}=t,h=e.add.sprite(i,s,a).setScale(o).setInteractive({useHandCursor:!0});return h.on("pointerover",()=>h.setScale(o*n)),h.on("pointerout",()=>h.setScale(o)),h.on("pointerdown",()=>{d(e,l)}),h.on("pointerup",e=>{h.getBounds().contains(e.x,e.y)&&r()}),h}class m extends i().Scene{constructor(){super("Menu_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.image("fondoMenuPrincipal","ASSETS/FONDOS/MENU_PRINCIPAL.png"),this.load.image("logoEmpresa","ASSETS/LOGO/logo_empresa.png"),this.load.audio("sonidoGeneral","ASSETS/SONIDO/SONIDO1.mp3"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){!function(e,t,{loop:i=!0}={}){const s=h();let a=e.game.globals.music;a||(a=e.sound.add(t,{loop:i,volume:s}),e.game.globals.music=a),a&&"setVolume"in a&&a.setVolume(s);const r=()=>{if(a&&"play"in a&&(!("isPlaying"in a)||!a.isPlaying))try{a.play()}catch(e){console.warn("[Audio.js] No se ha podido reproducir todav?a la m?sica.",e)}};r(),e.input.once("pointerdown",async()=>{const t=e.sound.context;if(t&&"suspended"===t.state)try{await t.resume()}catch{}r()})}(this,"sonidoGeneral",{loop:!0});const e=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"},{width:t,height:i}=this.scale,s=t/2,a=s+s/2;this.add.image(0,0,"fondoMenuPrincipal").setOrigin(0).setDepth(-1).setDisplaySize(t,i),this.add.text(a,100,"Volley Clash",{...e,fontSize:"68px",color:"#ffffff"}).setOrigin(.5);const r=i/2-60,o={...e,fontSize:"28px",color:"#000000"};p(this,{x:a,y:r,label:"Jugar",onClick:()=>this.scene.start("ModeGame_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),p(this,{x:a,y:r+70,label:"Tutorial",onClick:()=>this.scene.start("Tutorial_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),p(this,{x:a,y:r+140,label:"Configuración",onClick:()=>this.scene.start("Configuration_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),p(this,{x:a,y:r+210,label:"Créditos",onClick:()=>this.scene.start("Credits_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),p(this,{x:t-100,y:50,label:"Cerrar Sesión",onClick:()=>{this.handleLogout()},textStyle:o,clickSoundKey:"sonidoClick"}),this.add.image(this.scale.width-20,this.scale.height-20,"logoEmpresa").setScale(.5).setOrigin(1,1)}async handleLogout(){const e=this.registry.get("username");await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})}),localStorage.removeItem("voley_username"),localStorage.removeItem("voley_session_token"),this.registry.remove("username"),this.registry.remove("userToken"),this.registry.remove("isHost"),this.scene.start("Logging_Scene")}}const u={velocidad:4e3,ralentizar:3500,paralizar:2e3,por2:4e3,por3:3500};class g{constructor(e,t,i,s,a){this.scene=e,this.id=t,this.characterType=a,this.baseMoveSpeed=250,this.moveSpeed=this.baseMoveSpeed,this.jumpSpeed=275,this.activePowerUps={},this.isParalyzed=!1,this.paralysisTween=null,this.speedEffectActive=!1,this.slowEffectActive=!1,this.scoreMultiplier=1,this.multiplierText=this.scene.add.text(i,s-50,"",{fontFamily:"Arial",fontSize:"20px",color:"#ffffff",stroke:"#000000",strokeThickness:4}).setOrigin(.5,1).setDepth(20).setVisible(!1),this.powerUpInventory=[],this.isReceiving=!1,this.boundsLeft=0,this.boundsRight=960,this.boundsTop=0,this.boundsBottom=540;const r={characterA:{textureKey:"charA_move",startFrame:0,idleLeftAnim:"charA_idleLeft",idleRightAnim:"charA_idleRight",runLeftAnim:"charA_runLeft",runRightAnim:"charA_runRight",jumpLeftAnim:"charA_jumpLeft",jumpRightAnim:"charA_jumpRight",receiveLeftAnim:"charA_receiveLeft",receiveRightAnim:"charA_receiveRight"},characterB:{textureKey:"charB_move",startFrame:0,idleLeftAnim:"charB_idleLeft",idleRightAnim:"charB_idleRight",runLeftAnim:"charB_runLeft",runRightAnim:"charB_runRight",jumpLeftAnim:"charB_jumpLeft",jumpRightAnim:"charB_jumpRight",receiveLeftAnim:"charB_receiveLeft",receiveRightAnim:"charB_receiveRight"},characterC:{textureKey:"charC_move",startFrame:0,idleLeftAnim:"charC_idleLeft",idleRightAnim:"charC_idleRight",runLeftAnim:"charC_runLeft",runRightAnim:"charC_runRight",jumpLeftAnim:"charC_jumpLeft",jumpRightAnim:"charC_jumpRight",receiveLeftAnim:"charC_receiveLeft",receiveRightAnim:"charC_receiveRight"}};this.config=r[a]||r.characterA,this.sprite=this.scene.physics.add.sprite(i,s,this.config.textureKey,this.config.startFrame),this.sprite.setScale(2.5),this.sprite.body.setSize(.9*this.sprite.width,.9*this.sprite.height,!0),this.sprite.setData("player",this),this.facing="right",this.isOnGround=!1,this.isJumping=!1,this.jumpStartTime=0,this.sprite.on("animationcomplete",e=>{try{e.key!==this.config.receiveLeftAnim&&e.key!==this.config.receiveRightAnim||(this.isReceiving=!1)}catch(t){console.error(`Animation complete handler error for ${e.key}:`,t)}})}isGrounded(){const e=this.sprite.body;return!!e&&(e.blocked.down||e.touching.down)}isNearGround(e=12){const t=this.sprite.body;if(!t)return!1;if("number"!=typeof this.scene.groundY)return!1;const i=t.y+t.height;return Math.abs(i-this.scene.groundY)<=e}moveLeft(){this.isParalyzed||this.isReceiving||(this.sprite.setVelocityX(-this.moveSpeed),this.facing="left",this.playAnimation(this.config.runLeftAnim))}moveRight(){this.isParalyzed||this.isReceiving||(this.sprite.setVelocityX(this.moveSpeed),this.facing="right",this.playAnimation(this.config.runRightAnim))}jumpLeft(){this.isParalyzed||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!1,this.isJumping=!0,this.jumpStartTime=this.scene.time.now,this.sprite.setVelocityY(-this.jumpSpeed),this.facing="left",this.playAnimation(this.config.jumpLeftAnim),this.scene?.playSfx?.(this.scene?.sfx?.jump))}jumpRight(){this.isParalyzed||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!1,this.isJumping=!0,this.jumpStartTime=this.scene.time.now,this.sprite.setVelocityY(-this.jumpSpeed),this.facing="right",this.playAnimation(this.config.jumpRightAnim),this.scene?.playSfx?.(this.scene?.sfx?.jump))}receiveLeft(){this.isParalyzed||this.isReceiving||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!0,this.sprite.setVelocityX(0),this.facing="left",this.playAnimation(this.config.receiveLeftAnim))}receiveRight(){this.isParalyzed||this.isReceiving||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!0,this.sprite.setVelocityX(0),this.facing="right",this.playAnimation(this.config.receiveRightAnim))}idleLeft(){this.isReceiving||(this.sprite.setVelocityX(0),this.facing="left",this.playAnimation(this.config.idleLeftAnim))}idleRight(){this.isReceiving||(this.sprite.setVelocityX(0),this.facing="right",this.playAnimation(this.config.idleRightAnim))}setBounds(e,t,i,s){this.boundsLeft=e,this.boundsRight=t,this.boundsTop=i,this.boundsBottom=s}clampWithinBounds(){const e=this.sprite.width/2;this.sprite.x-e<this.boundsLeft&&(this.sprite.x=this.boundsLeft+e,this.sprite.setVelocityX(0)),this.sprite.x+e>this.boundsRight&&(this.sprite.x=this.boundsRight-e,this.sprite.setVelocityX(0))}setPosition(e,t){this.sprite&&(this.sprite.setPosition(e,t),this.sprite.setVelocity(0,0),this.updateMultiplierTextPosition())}updateMultiplierTextPosition(){if(!this.multiplierText||!this.sprite)return;const e=.6*(this.sprite.displayHeight||this.sprite.height||40);this.multiplierText.setPosition(this.sprite.x,this.sprite.y-e)}playAnimation(e){if(!e)return;if(!this.sprite.anims)return;if(this.isJumping&&e!==this.config.jumpLeftAnim&&e!==this.config.jumpRightAnim)return;const t=this.sprite.anims.currentAnim;this.sprite.anims.isPlaying&&t&&t.key===e||this.sprite.anims.play(e,!0)}update(){if(this.sprite.body){const e=this.isOnGround;this.isOnGround=this.isGrounded();const t=this.sprite.anims.currentAnim,i=t?t.key:null;this.isParalyzed&&this.sprite.setVelocityX(0),this.isReceiving&&i!==this.config.receiveLeftAnim&&i!==this.config.receiveRightAnim&&(this.isReceiving=!1),this.isJumping&&i&&i!==this.config.jumpLeftAnim&&i!==this.config.jumpRightAnim&&(this.isJumping=!1),this.isJumping&&this.scene.time.now-this.jumpStartTime>1500&&(this.isJumping=!1),this.isJumping&&!e&&this.isOnGround&&(this.isJumping=!1,"left"===this.facing?this.idleLeft():this.idleRight())}this.clampWithinBounds(),this.updateMultiplierTextPosition()}applyPowerUp(e){return!(this.powerUpInventory.length>=2||(this.powerUpInventory.push(e),0))}useNextPowerUp(){if(0===this.powerUpInventory.length)return;const e=this.powerUpInventory.shift();this.activatePowerUp(e)}activatePowerUp(e){switch(e){case"velocidad":this.applyOrRefreshTimedEffect("velocidad",u.velocidad);break;case"ralentizar":{const e=this.getOpponent();e&&e.applyOrRefreshTimedEffect("ralentizar",u.ralentizar);break}case"paralizar":{const e=this.getOpponent();e&&e.applyOrRefreshTimedEffect("paralizar",u.paralizar);break}case"por2":case"por3":this.applyOrRefreshTimedEffect(e,u[e])}}updatePowerUps(){const e=this.scene.time.now;let t=!1,i=!1;for(const s in this.activePowerUps)if(!(e<=this.activePowerUps[s]))switch(delete this.activePowerUps[s],s){case"velocidad":this.setSpeedEffect(!1),t=!0;break;case"ralentizar":this.setSlowEffect(!1),t=!0;break;case"paralizar":this.setParalyzed(!1);break;case"por2":case"por3":i=!0}t&&this.recalculateMoveSpeed(),i&&this.recalculateScoreEffect()}setParalyzed(e){this.isParalyzed=e,e?(this.sprite.setTint(16733525),this.sprite.setAlpha(1),this.paralysisTween&&(this.paralysisTween.stop(),this.paralysisTween=null),this.paralysisTween=this.scene.tweens.add({targets:this.sprite,alpha:.3,yoyo:!0,duration:200,repeat:-1}),this.sprite.setVelocityX(0)):(this.sprite.setAlpha(1),this.paralysisTween&&(this.paralysisTween.stop(),this.paralysisTween=null),this.refreshPowerUpVisuals())}setSpeedEffect(e){this.speedEffectActive=e,this.refreshPowerUpVisuals()}setSlowEffect(e){this.slowEffectActive=e,this.refreshPowerUpVisuals()}recalculateMoveSpeed(){let e=1;this.activePowerUps.velocidad&&(e*=1.5),this.activePowerUps.ralentizar&&(e*=.5),this.moveSpeed=this.baseMoveSpeed*e}recalculateScoreEffect(){let e=1;this.activePowerUps.por2&&(e=Math.max(e,2)),this.activePowerUps.por3&&(e=Math.max(e,3)),this.scoreMultiplier=e,this.multiplierText&&(this.scoreMultiplier>1?(this.multiplierText.setText("x"+this.scoreMultiplier),this.multiplierText.setVisible(!0)):this.multiplierText.setVisible(!1)),this.refreshPowerUpVisuals()}applyOrRefreshTimedEffect(e,t){const i=this.scene.time.now;this.activePowerUps[e]=i+t,"velocidad"===e&&this.setSpeedEffect(!0),"ralentizar"===e&&this.setSlowEffect(!0),"paralizar"===e&&this.setParalyzed(!0),"velocidad"!==e&&"ralentizar"!==e||this.recalculateMoveSpeed(),"por2"!==e&&"por3"!==e||this.recalculateScoreEffect()}refreshPowerUpVisuals(){this.isParalyzed||(this.slowEffectActive?this.sprite.setTint(5592575):this.speedEffectActive?this.sprite.setTint(5636061):this.scoreMultiplier>1?this.sprite.setTint(16768341):this.sprite.clearTint())}getOpponent(){return this.scene.players?Array.from(this.scene.players.values()).find(e=>e!==this):null}}class y{constructor(e,t){this.player=e,this.powerUpType=t,this.stored=!1}execute(){return this.stored=this.player.applyPowerUp(this.powerUpType),this.stored}}class f{constructor(e,t,i,s){this.scene=e,this.type=s,this.isCollected=!1,this._destroyed=!1,this._cooldownUntil=0,this.fadeStart=3e3,this.lifetime=5e3,this._overlaps=[],this.fadeTween=null,this._lifetimeTimer=null,this.sprite=e.physics.add.staticImage(t,i,s).setScale(1.2).setInteractive(),this.sprite.refreshBody&&this.sprite.refreshBody();const a=Math.max(0,Math.min(this.fadeStart,this.lifetime)),r=Math.max(0,this.lifetime-a);r>0&&(this.fadeTween=e.tweens.add({targets:this.sprite,alpha:0,delay:a,duration:r}));const o=e.players;o&&"function"==typeof o.forEach&&o.forEach(t=>{if(!t?.sprite)return;const i=e.physics.add.overlap(t.sprite,this.sprite,()=>this.collect(t),null,this);this._overlaps.push(i)}),this._lifetimeTimer=e.time.delayedCall(this.lifetime,()=>{this.destroy()})}collect(e){if(console.log("[PowerUp] overlap con",e.id,"tipo",this.type),this._destroyed)return;if(this.isCollected)return;const t=this.scene.time.now;if(this._cooldownUntil&&t<this._cooldownUntil)return;this.isCollected=!0;const i=new y(e,this.type);if(this.scene.commandProcessor.process(i),!i.stored)return this.isCollected=!1,void(this._cooldownUntil=t+300);this.destroy(),this.scene.updatePlayerInventoryUI?.(e)}destroy(){if(!this._destroyed){if(this._destroyed=!0,Array.isArray(this._overlaps)&&(this._overlaps.forEach(e=>{try{e.destroy()}catch{}}),this._overlaps=[]),this.fadeTween){try{this.fadeTween.stop()}catch{}this.fadeTween=null}if(this._lifetimeTimer&&(this._lifetimeTimer.remove(!1),this._lifetimeTimer=null),this.sprite){try{this.sprite.destroy()}catch{}this.sprite=null}Array.isArray(this.scene.powerUps)&&(this.scene.powerUps=this.scene.powerUps.filter(e=>e!==this))}}}class T{constructor(e,t,i){this.scene=e,this.players=null,this.commandProcessor=null,this.sprite=e.physics.add.sprite(t,i,"ball"),this.sprite.setScale(1),this.sprite.setBounce(.8),this.sprite.setCollideWorldBounds(!0),this.sprite.setData("ball",this),this.lastTouchedBy=null,this.touchCount=0,this.courtSide="left",this.isBallLive=!0,this.netX=480,this.lastHitTime=0,this.lastHitPlayerId=null}hit(e,t,i,s=!1){if(!this.isBallLive)return;const a=this.scene.time.now;if(this.lastHitPlayerId===e.id&&a-this.lastHitTime<120)return;if(this.lastHitPlayerId=e.id,this.lastHitTime=a,this.lastTouchedBy===e.id?this.touchCount++:(this.touchCount=1,this.lastTouchedBy=e.id),this.touchCount>3)return void this.onFalta("toqueExcedido",e);let r,o;if(s?this.scene?.playSfx?.(this.scene?.sfx?.receive):i&&this.scene?.playSfx?.(this.scene?.sfx?.spike),s){const e=160;r="left"===t?-e:e,o=-310}else if(i){const e=190;r="left"===t?-e:e,o=-140}else{const e=180;r="left"===t?-e:e,o=-100}this.sprite.setVelocity(r,o),r>0?this.courtSide="right":r<0&&(this.courtSide="left")}crossNet(){this.touchCount=0,this.lastTouchedBy=null,this.courtSide="left"===this.courtSide?"right":"left"}onGrounded(){if(!this.isBallLive)return;const e=this.sprite.x<this.netX,t=this.sprite.x>this.netX;e?(this.onRallyEnd("player2"),this.resetRally("player2")):t&&(this.onRallyEnd("player1"),this.resetRally("player1"))}onFalta(e,t){if(!this.isBallLive)return;const i="player1"===t.id?"player2":"player1";this.onRallyEnd(i),this.resetRally(i)}onRallyEnd(e){this.isBallLive=!1,this.scene.events.emit("rallyConcluded",{scoringPlayerId:e,touchCount:this.touchCount,lastTouchedBy:this.lastTouchedBy})}_getSubtleNudge(e,t,i){const s=12*(Math.random()<.5?-1:1);return{spawnX:Math.max(t,Math.min(i-t,e+s)),velocityX:s}}setServePosition(e){const t=this.scene.worldWidth??this.scene.scale?.width??2*this.netX,i=(e,t,i)=>Math.max(t,Math.min(i,e));let s=this.netX,a=0;if("player1"===e||"player2"===e){const a=this.scene.players?.get?this.scene.players.get(e):null;s=a?.sprite?"player1"===e?i(a.sprite.x,60,this.netX-60):i(a.sprite.x,this.netX+60,t-60):"player1"===e?this.netX-100:this.netX+100}else{const e=this._getSubtleNudge(s,60,t);s=e.spawnX,a=e.velocityX}this.sprite.setPosition(s,100),this.sprite.setVelocity(a,0)}resetRally(e){this.isBallLive=!0,this.lastTouchedBy=null,this.touchCount=0,this.setServePosition(e),this.lastHitTime=0,this.lastHitPlayerId=null}update(){this.isBallLive&&(this.sprite.x<this.netX-20?this.courtSide="left":this.sprite.x>this.netX+20&&(this.courtSide="right"))}}class x{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class O{execute(){}serialize(){}getPlayer(){}}class E extends O{constructor(e,t){super(),this.player=e,this.direction=t}execute(){switch(this.direction){case"left":this.player.moveLeft();break;case"right":this.player.moveRight();break;case"jumpLeft":this.player.jumpLeft();break;case"jumpRight":this.player.jumpRight();break;case"receiveLeft":this.player.receiveLeft();break;case"receiveRight":this.player.receiveRight();break;case"idleLeft":this.player.idleLeft();break;default:this.player.idleRight()}}getPlayer(){return this.player.id}serialize(){return{type:"MovePlayerCommand",playerId:this.player.id,direction:this.direction}}}class A extends i().Scene{tiempoTotal=60;tiempoRestante=this.tiempoTotal;timerText;timerEvent;constructor(){super("Game_Scene")}init(e){this.players=new Map,this.inputMappings=[],this.commandProcessor=new x,this.player1=e.player1,this.player2=e.player2,this.selectedScenario=e.selectedScenario,this.ball=null,this.scoreP1=0,this.scoreP2=0,this.setsP1=0,this.setsP2=0,this.maxSets=3,this.currentSet=1}preload(){this.load.spritesheet("charA_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_A/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charA_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_A/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.spritesheet("charB_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_B/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charB_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_B/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.spritesheet("charC_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_C/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charC_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_C/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.image("Gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("Playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("Jardin","ASSETS/FONDOS/JARDIN.png"),this.load.image("por2","ASSETS/ITEMS/POWER UPS/MULTIPLICADOR 2.png"),this.load.image("por3","ASSETS/ITEMS/POWER UPS/MULTIPLICADOR 3.png"),this.load.image("paralizar","ASSETS/ITEMS/POWER UPS/PARALIZADO.png"),this.load.image("ralentizar","ASSETS/ITEMS/POWER UPS/RELENTIZAR.png"),this.load.image("velocidad","ASSETS/ITEMS/POWER UPS/VELOCIDAD.png"),this.load.image("marcoPowerUp","ASSETS/JUEGO/Base_powerUp.png"),this.load.image("ball","ASSETS/ITEMS/PELOTAS/P_NORMAL.png"),this.load.image("red","ASSETS/JUEGO/RED.png"),this.load.image("reloj","ASSETS/JUEGO/TIMER.png"),this.load.image("marcoGeneral","ASSETS/JUEGO/MARCADOR_SET.png"),this.load.audio("sfx_silbato","ASSETS/SONIDO/Silbato_inicio_partido_1p4s.mp3"),this.load.audio("sfx_remate","ASSETS/SONIDO/Toque_pelota_remate_03s.mp3"),this.load.audio("sfx_recepcion","ASSETS/SONIDO/Toque_pelota_recepcion.mp3"),this.load.audio("sfx_salto","ASSETS/SONIDO/SonidoSalto_1p.mp3"),this.load.audio("sfx_punto","ASSETS/SONIDO/SonidoPunto.mp3")}create(){const{width:e,height:t}=this.scale;this.worldWidth=e,this.worldHeight=t;const i=this.game.globals.defaultTextStyle;this.sfx={whistle:"sfx_silbato",spike:"sfx_remate",receive:"sfx_recepcion",jump:"sfx_salto",point:"sfx_punto"},this.playSfx(this.sfx.whistle),this.timerText=this.add.text(this.scale.width/2,30,"",{...i,fontSize:"32px",color:"#ffffff"}).setOrigin(.5,0).setScrollFactor(0).setDepth(9999),this.timerIcon=this.add.image(this.scale.width/2,45,"reloj").setOrigin(.5).setScale(2).setScrollFactor(0).setDepth(9e3),this.setFrame=this.add.image(this.scale.width/2,120,"marcoGeneral").setOrigin(.5).setScale(1).setDepth(9998),this.setText=this.add.text(this.scale.width/2,120,`SET ${this.currentSet}`,{...i,fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setDepth(9999),this.setWinnerText=this.add.text(this.scale.width/2,185,"",{...i,fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5).setDepth(9999).setVisible(!1),this.timerEvent=this.time.addEvent({delay:1e3,callback:this.updateTimer,callbackScope:this,loop:!0}),this.updateTimer(),this.add.image(e/2,t/2,this.selectedScenario).setOrigin(.5).setDisplaySize(e,t).setDepth(-1);const s=this.physics.add.staticSprite(e/2,t-160,"red").setScale(.6),a=this.textures.get("red").getSourceImage();s.body.setSize(.5*a.width,.5*a.height),s.body.setOffset(-s.body.width/2,-s.body.height/2),s.body.updateFromGameObject(),this.red=s,this._createAnimations(),this.pointsLeft=0,this.pointsRight=0,this.scoreFrameLeft=this.add.image(200,50,"marcoGeneral").setScale(.8,.55).setOrigin(.5),this.scoreFrameRight=this.add.image(this.worldWidth-200,50,"marcoGeneral").setScale(.8,.55).setOrigin(.5),this.scoreLeft=this.add.text(200,45,"0",{...i,fontSize:"40px",color:"#ffffffff"}).setOrigin(.5).setDepth(9999),this.rightScore=this.add.text(this.worldWidth-200,45,"0",{...i,fontSize:"40px",color:"#ffffffff"}).setOrigin(.5).setDepth(9999),this.groundHeight=20,this.groundY=this.worldHeight-90;const r=this.add.rectangle(this.worldWidth/2,this.groundY,this.worldWidth,20).setOrigin(.5,0).setVisible(!1);this.physics.add.existing(r,!0),this._createPlayers(),this._setupPhysicsWorld(r),this._setupInputMappings(),this.powerUps=[],this.maxPowerUps=2,this.powerUpSpawnConfig={minDelayMs:3500,maxDelayMs:8e3,weights:{velocidad:3,ralentizar:2,paralizar:1,por2:3,por3:2},cooldownMs:{paralizar:12e3}},this.powerUpLastSpawnAt={},this.inventoryUI={player1:[this.add.image(50,50,"por2").setScale(1.4).setVisible(!1).setDepth(1),this.add.image(110,50,"por2").setScale(1.4).setVisible(!1).setDepth(1)],player2:[this.add.image(this.worldWidth-110,50,"por2").setScale(1.4).setVisible(!1).setDepth(1),this.add.image(this.worldWidth-50,50,"por2").setScale(1.4).setVisible(!1).setDepth(1)]},this.schedulePowerUpSpawn(),this.inventoryFrames={player1:[this.add.image(50,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0),this.add.image(110,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0)],player2:[this.add.image(this.worldWidth-110,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0),this.add.image(this.worldWidth-50,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0)]},this._createBall(),this.ball.setServePosition(),this._setupBallCollisions(),this._setupBallEvents(),this.input.keyboard.on("keydown-ESC",()=>{this.scene.pause(),this.timerEvent.paused=!0,this.scene.launch("Pause_Scene")}),this.events.on("resume",()=>{this.timerEvent.paused=!1})}schedulePowerUpSpawn(){const{minDelayMs:e,maxDelayMs:t}=this.powerUpSpawnConfig,s=i().Math.Between(e,t);this.time.delayedCall(s,()=>{if(this.powerUps.length<this.maxPowerUps){const e=i().Math.Between(80,this.worldWidth-80),t=i().Math.Between(this.worldHeight-220,this.worldHeight-120),s=this._getWeightedPowerUpType();if(s){const i=new f(this,e,t,s);this.powerUps.push(i),this.powerUpLastSpawnAt[s]=this.time.now}}this.schedulePowerUpSpawn()})}_getWeightedPowerUpType(){const{weights:e,cooldownMs:t}=this.powerUpSpawnConfig,s=this.time.now,a=Object.entries(e).filter(([e,i])=>{if(i<=0)return!1;const a=t?.[e];if(!a)return!0;const r=this.powerUpLastSpawnAt?.[e]||0;return s-r>=a});if(!a.length)return null;const r=a.reduce((e,[,t])=>e+t,0);let o=i().Math.Between(1,r);for(const[e,t]of a)if(o-=t,o<=0)return console.log("[Game_Scene] Power-up aleatorio: ",e),e;return a[a.length-1][0]}playSfx(e){e&&this.sound.play(e,{volume:l()})}update(){this._handleInputForAllPlayers(),this.players.forEach(e=>e.updatePowerUps()),this.ball&&(this.ball.update(),this.ball.isBallLive&&this.ball.sprite.y>this.groundY&&this.ball.onGrounded(),(this.ball.sprite.x<475&&"right"===this.ball.courtSide||this.ball.sprite.x>485&&"left"===this.ball.courtSide)&&this.ball.crossNet())}updateTimer(){this.tiempoRestante--;const e=Math.floor(this.tiempoRestante/60),t=this.tiempoRestante%60,i=`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`;this.timerText.setText(i),this.tiempoRestante<=0&&(this.timerEvent.paused=!0,console.log("FIN DEL TIEMPO"),this.scoreP1>this.scoreP2?this._endSet("player1"):this.scoreP2>this.scoreP1?this._endSet("player2"):(console.log("Empate en el set"),this._resetSet()))}updatePlayerInventoryUI(e){const t=this.inventoryUI[e.id];for(let i=0;i<2;i++)e.powerUpInventory[i]?(t[i].setTexture(e.powerUpInventory[i]),t[i].setVisible(!0)):t[i].setVisible(!1)}_createAnimations(){this.anims.create({key:"charA_idleRight",frames:this.anims.generateFrameNumbers("charA_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charA_idleLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charA_receiveRight",frames:this.anims.generateFrameNumbers("charA_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charA_receiveLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charA_runRight",frames:this.anims.generateFrameNumbers("charA_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charA_runLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charA_jumpRight",frames:this.anims.generateFrameNumbers("charA_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charA_jumpLeft",frames:this.anims.generateFrameNumbers("charA_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charB_idleRight",frames:this.anims.generateFrameNumbers("charB_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charB_idleLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charB_receiveRight",frames:this.anims.generateFrameNumbers("charB_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charB_receiveLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charB_runRight",frames:this.anims.generateFrameNumbers("charB_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charB_runLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charB_jumpRight",frames:this.anims.generateFrameNumbers("charB_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charB_jumpLeft",frames:this.anims.generateFrameNumbers("charB_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charC_idleRight",frames:this.anims.generateFrameNumbers("charC_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charC_idleLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charC_receiveRight",frames:this.anims.generateFrameNumbers("charC_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charC_receiveLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charC_runRight",frames:this.anims.generateFrameNumbers("charC_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charC_runLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charC_jumpRight",frames:this.anims.generateFrameNumbers("charC_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charC_jumpLeft",frames:this.anims.generateFrameNumbers("charC_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0})}_createPlayers(){const e=this.player1.character,t=this.player2.character,i=new g(this,"player1",.25*this.worldWidth,this.groundY-100,e),s=new g(this,"player2",.75*this.worldWidth,this.groundY-100,t);this.players.set("player1",i),this.players.set("player2",s);const a=Math.floor(this.groundY);i.setBounds(80,455,50,a),s.setBounds(505,this.worldWidth-80,50,a),this.commandProcessor.setPlayers(this.players),this.commandProcessor.setGameScene(this),i.idleRight(),s.idleLeft()}_setupPhysicsWorld(e){this.players.forEach(t=>{this.physics.add.collider(t.sprite,e),this.physics.add.collider(t.sprite,this.red,()=>{console.log(`${t.id} tocó la red!`),t.sprite.setVelocityX(0)})})}_setupInputMappings(){this.inputMappings=[{playerId:"player1",leftKey:"A",rightKey:"D",jumpKey:"W",receiveKey:"S",powerKey:"E"},{playerId:"player2",leftKey:"J",rightKey:"L",jumpKey:"I",receiveKey:"K",powerKey:"O"}].map(e=>({playerId:e.playerId,leftKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.rightKey]),jumpKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.jumpKey]),receiveKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.receiveKey]),powerKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.powerKey])}))}_handleInputForAllPlayers(){this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);if(!t)return;if(t.isParalyzed){const e="left"===t.facing?"idleLeft":"idleRight";return void this.commandProcessor.process(new E(t,e))}let s;if(s=e.leftKeyObj.isDown?"left":e.rightKeyObj.isDown?"right":"left"===t.facing?"idleLeft":"idleRight",t.isJumping||this.commandProcessor.process(new E(t,s)),i().Input.Keyboard.JustDown(e.receiveKeyObj)){const e="left"===t.facing?"receiveLeft":"receiveRight";this.commandProcessor.process(new E(t,e))}if(i().Input.Keyboard.JustDown(e.jumpKeyObj)){const e="left"===t.facing?"jumpLeft":"jumpRight";this.commandProcessor.process(new E(t,e))}i().Input.Keyboard.JustDown(e.powerKeyObj)&&(t.useNextPowerUp(),this.updatePlayerInventoryUI(t))}),this.players.forEach(e=>e.update())}_createBall(){this.ball=new T(this,this.worldWidth/2,150)}_setupBallCollisions(){this.players.forEach(e=>{this.physics.add.overlap(this.ball.sprite,e.sprite,()=>this._onBallPlayerCollision(this.ball,e),null,this)}),this.physics.add.collider(this.ball.sprite,this.red,()=>{console.log("La pelota toca la red!"),this.ball.sprite.setVelocityX(.5*this.ball.sprite.body.velocity.x),this.ball.sprite.setVelocityY(.5*this.ball.sprite.body.velocity.y)}),this.worldHeight,this.ball.sprite.setCollideWorldBounds(!0),this.ball.sprite.setBounce(.8)}_setupBallEvents(){this.events.on("rallyConcluded",e=>{console.log(`Rally concluded: ${e.scoringPlayerId} scores!`);const t=e.scoringPlayerId,i=this.players.get(t),s=i&&i.scoreMultiplier||1;"player1"===t?(this.pointsLeft+=s,this.scoreLeft.setText(this.pointsLeft.toString()),this.scoreP1+=s):"player2"===t&&(this.pointsRight+=s,this.rightScore.setText(this.pointsRight.toString()),this.scoreP2+=s),this.playSfx(this.sfx.point),this._checkWinCondition()})}_onBallPlayerCollision(e,t){if(!e.isBallLive)return;const i=!t.sprite.body.blocked.down,s=t.isReceiving,a=t.facing;e.hit(t,a,i,s)}_endGame(e){this.timerEvent&&(this.timerEvent.remove(!1),this.timerEvent=null),this.physics&&this.physics.world&&this.physics.world.pause(),this.scene.start("EndGame_Scene",{winner:e,player1:this.player1,player2:this.player2})}_checkWinCondition(){const e=this.scoreP1-this.scoreP2;if(Math.max(this.scoreP1,this.scoreP2)<11||Math.abs(e)<2)return;const t=e>0?"player1":"player2";this._endSet(t)}_endSet(e){"player1"===e?this.setsP1++:"player2"===e&&this.setsP2++,console.log(`Set terminado. Score sets: P1=${this.setsP1}, P2=${this.setsP2}`);const t="player1"===e?"Jugador 1":"Jugador 2";this.setWinnerText.setText(`Set para ${t}`),this.setWinnerText.setVisible(!0),this.currentSet++,2===this.setsP1||2===this.setsP2?this.time.delayedCall(2e3,()=>{this._endGame(e)}):this.time.delayedCall(2e3,()=>{this.setWinnerText&&this.setWinnerText.setVisible(!1),this._resetSet()})}_resetSet(){this.setText.setText(`SET ${this.currentSet}`),this.tiempoRestante=this.tiempoTotal,this.timerEvent.paused=!1,this.updateTimer(),this.scoreP1=0,this.scoreP2=0,this.pointsLeft=0,this.pointsRight=0,this.scoreLeft.setText("0"),this.rightScore.setText("0"),this.ball.resetRally();const e=this.players.get("player1"),t=this.players.get("player2");e.setPosition(.25*this.worldWidth,.7*this.worldHeight),t.setPosition(.75*this.worldWidth,.7*this.worldHeight),e.idleRight(),t.idleLeft(),this.playSfx(this.sfx.whistle)}}class b extends i().Scene{constructor(){super("Tutorial_Scene"),this.pageIndex=0,this.returnScene="Menu_Scene"}init(e){this.returnScene=e?.returnScene??"Menu_Scene"}preload(){this.load.image("tut0_controles","ASSETS/TUTORIAL/TUT0_Controles.png"),this.load.image("tut1_set","ASSETS/TUTORIAL/TUT1_Set.png"),this.load.image("tut2_pelota","ASSETS/TUTORIAL/TUT2_Pelota.png"),this.load.image("tut3_powerup","ASSETS/TUTORIAL/TUT3_Powerup.png"),this.load.image("tut4_lista","ASSETS/TUTORIAL/TUT4_Lista.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png")}create(){const{width:e,height:t}=this.scale,i=e/2,s={...this.game.globals?.defaultTextStyle??{fontFamily:"VT323",fontSize:"20px",color:"#000000"}};c(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.mainTitleText=this.add.text(i,.1*t,"Tutorial",{...s,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start("Menu_Scene")}),this.pageIndex=0,this.pages=[{key:"tut0_controles",title:"Controles"},{key:"tut1_set",title:"Reglas básicas: set"},{key:"tut2_pelota",title:"Reglas básicas: pelota"},{key:"tut3_powerup",title:"Reglas básicas: power-ups"},{key:"tut4_lista",title:"Lista de power-ups"}];const a=Math.max(8,Math.round(.015*Math.min(e,t))),r=Math.max(6,Math.round(.012*t)),o=.91*t,n=this.mainTitleText.y+this.mainTitleText.height+r,l=o-r,h=Math.max(0,l-n),d=Math.max(0,e-2*a);this.layout={panelTop:n,panelHeight:h,panelWidth:d},this.slideImage=this.add.image(i,n+h/2,this.pages[0].key),this._fitImage(this.slideImage,d,h),this.pageIndicator=this.add.text(i,o+20,"",{...s,fontSize:"28px",color:"#000"}).setOrigin(.5);const m={...s,fontSize:"28px",color:"#000000"};p(this,{x:i-165,y:o+20,label:"Anterior",onClick:()=>this.prev(),textStyle:m,clickSoundKey:"sonidoClick"}),p(this,{x:i+165,y:o+20,label:"Siguiente",onClick:()=>this.next(),textStyle:m,clickSoundKey:"sonidoClick"}),this.renderPage()}_fitImage(e,t,i){const s=Math.min(t/e.width,i/e.height);e.setScale(s)}renderPage(){const e=this.pages[this.pageIndex];this.mainTitleText.setText(e.title??"Tutorial"),this.slideImage.setTexture(e.key),this._fitImage(this.slideImage,this.layout.panelWidth,this.layout.panelHeight),this.pageIndicator.setText(`${this.pageIndex+1} de ${this.pages.length}`)}next(){this.pageIndex<this.pages.length-1&&(this.pageIndex++,this.renderPage())}prev(){this.pageIndex>0&&(this.pageIndex--,this.renderPage())}}class v extends i().Scene{constructor(){super("Configuration_Scene"),this.musicVolumeSlider=null,this.sfxVolumeSlider=null}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("derTeclas","ASSETS/UI/CONTROLES/der.png"),this.load.image("izqTeclas","ASSETS/UI/CONTROLES/izq.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,n=e/2,d=this.game.globals.defaultTextStyle;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(n,.1*t,"Configuración",{...d,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5),this.add.text(n,.2*t,"Volumen de la música",{...d,fontSize:"24px",color:"#000"}).setOrigin(.5),function(e=1){const t=null!==localStorage.getItem(s),i=null!==localStorage.getItem(a);if(t&&i)return;const n=function(e=1){const t=localStorage.getItem(r);return null===t?null:o(t,e)}(e),l=n&&n>0?n:e;t||localStorage.setItem(s,String(l)),i||localStorage.setItem(a,String(l))}();const p=h(),m=l();c(this),this.musicVolumeSlider=this.add.dom(n,.26*t).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${p}"\n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>\n            `),this.musicVolumeSlider.addListener("input"),this.musicVolumeSlider.on("input",e=>{const t=e.target;t instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(a,String(t))}(t.value),c(this))}),this.add.text(n,.32*t,"Volumen de efectos",{...d,fontSize:"24px",color:"#000"}).setOrigin(.5),this.sfxVolumeSlider=this.add.dom(n,.38*t).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${m}"\n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>\n            `),this.sfxVolumeSlider.addListener("input"),this.sfxVolumeSlider.on("input",e=>{const t=e.target;t instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(s,String(t))}(t.value),c(this))}),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start("Menu_Scene")});const u=this.add.graphics();u.lineStyle(3,0,1),u.beginPath(),u.moveTo(.1*e,.46*t),u.lineTo(.9*e,.46*t),u.strokePath(),this.add.text(n,.52*t,"Controles",{...d,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5),this.add.image(e/2+200,380,"derTeclas").setScale(.35).setOrigin(.5),this.add.image(e/2-200,380,"izqTeclas").setScale(.35).setOrigin(.5),this.events.once(i().Scenes.Events.SHUTDOWN,()=>{this.musicVolumeSlider&&(this.musicVolumeSlider.removeAllListeners(),this.musicVolumeSlider.destroy(),this.musicVolumeSlider=null),this.sfxVolumeSlider&&(this.sfxVolumeSlider.removeAllListeners(),this.sfxVolumeSlider.destroy(),this.sfxVolumeSlider=null)})}}class _ extends i().Scene{constructor(){super("Credits_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("logo","ASSETS/LOGO/logo_empresa.png"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=e/2,s=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#000000"};this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(i,.15*t,"Créditos",{...s,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5);const a=["GRUPO 5 - SUNSET ARCADE","Sara Bueno Esteban","Antonio Morán Barrera","Cristine Nioka Tewo","Álvaro Ibáñez Montero"],r=.42*t,o=this.add.image(i,r,"marco").setOrigin(.5),n=.45*e/o.width;o.setScale(n);const l=r-30*(a.length-1)/2;a.forEach((e,t)=>{const a=0===t;this.add.text(i,l+30*t,e,{...s,fontSize:a?"22px":"20px",color:"#000000"}).setOrigin(.5)}),this.add.image(i,.78*t,"logo").setOrigin(.5).setScale(.6),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start("Menu_Scene")})}}class I extends i().Scene{constructor(){super("EndGame_Scene")}init(e){this.winner=e.winner,this.player1=e.player1,this.player2=e.player2}preload(){this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=this.game.globals.defaultTextStyle,s=this.player1.name,a=this.player2.name;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(e/2,.18*t,"¡FIN DEL PARTIDO!",{...i,fontSize:"64px",color:"#5f0000ff"}).setOrigin(.5);const r="player1"===this.winner?"Ganador: "+s:"Ganador: "+a;this.add.text(e/2,.4*t,r,{...i,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5),p(this,{x:e/2,y:.6*t,label:"Volver a inicio",textStyle:{...i,fontSize:"26px",color:"#000000"},scale:3,onClick:()=>{this.scene.start("Menu_Scene")}})}}class R extends i().Scene{constructor(){super("ModeGame_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#000000"};c(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,.18*t,"Modo de Juego",{...i,fontSize:"40px",color:"#000000",fontStyle:"bold"}).setOrigin(.5);const s=.5*t,a=Math.min(280,.3*e),r=e/2-a/2,o={...i,fontSize:"24px",color:"#000000"},n=e=>{this.registry.set("mode",e),console.log("Modo seleccionado:",e),this.scene.start("SelectPlayer_Scene",{mode:e})};p(this,{x:r,y:s,label:"Local",onClick:()=>n("local"),scale:2,textureNormal:"botonSinSeleccionar",textureHover:"botonSeleccionado",textStyle:o,clickSoundKey:"sonidoClick"}),p(this,{x:r+a,y:s,label:"Red",onClick:()=>n("online"),scale:2,textureNormal:"botonSinSeleccionar",textureHover:"botonSeleccionado",textStyle:o,clickSoundKey:"sonidoClick"}),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.scene.start("Menu_Scene")})}}class C extends i().Scene{constructor(){super("Pause_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const e=this.game.globals.defaultTextStyle,{width:t,height:i}=this.scale,s=t/2;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(s,.18*i,"PAUSA",{...e,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5);const a={...e,fontSize:"20px",color:"#000000"};p(this,{x:s,y:.52*i,label:"Continuar",textStyle:a,scale:2,onClick:()=>{this.scene.stop(),this.scene.resume("Game_Scene")}}),p(this,{x:s,y:.66*i,label:"Menú Principal",textStyle:a,scale:2,onClick:()=>{const e=this.scene.get("Game_Scene");e&&(e.input.keyboard.removeAllListeners(),e.input.keyboard.removeAllKeys()),this.scene.stop("Game_Scene"),this.scene.start("Menu_Scene")}})}}class N extends i().Scene{constructor(){super("SelectPlayer_Scene"),this.players=[],this.currentTurn=0,this.playerInputs=[],this.playerInputEls=[],this.turnText=null}init(e){this.mode=this.registry.get("mode"),console.log("Modo de Juego:",this.mode),this.isHost=this.registry.get("isHost"),console.log("Host:",this.isHost)}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("marcoJugador","ASSETS/UI/MARCOS/VACIOS/MARCO_PERSONAJE_SELECCIONADO.png"),this.load.image("characterA","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_a.png"),this.load.image("characterB","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_b.png"),this.load.image("characterC","ASSETS/PERSONAJES/PERSONAJES_POSE/personaje_c.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){this.input.keyboard.removeAllKeys(!0),this.input.keyboard.removeAllListeners();const{width:e,height:t}=this.scale,s=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"};c(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,50,"Selecciona Personaje",{...s,fontSize:"40px",color:"#000",fontStyle:"bold"}).setOrigin(.5),"local"===this.mode&&this.createLocalUI(e,t,s),"online"===this.mode&&this.createOnlineUI(e,t,s),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.scene.start("ModeGame_Scene")}),this.events.once(i().Scenes.Events.SHUTDOWN,()=>{this.playerInputs.forEach(e=>e?.destroy()),this.playerInputs=[],this.playerInputEls=[],this.input.keyboard.enabled=!0})}createLocalUI(e,t,i){this.players=[{name:"",character:null,color:43775,bigImage:null,bigFrame:null,frame:null},{name:"",character:null,color:16733525,bigImage:null,bigFrame:null,frame:null}],this.turnText=this.add.text(e/2,90,"Turno: Jugador 1",{...i,fontSize:"18px",color:"#000"}).setOrigin(.5),this.createPlayersUI(),this.createCharacterMiniatures(0,0),this.updateTurnText(),p(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>this.handleNext(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...i,fontSize:"14px",color:"#000"},clickSoundKey:"sonidoClick"})}createOnlineUI(e,t,i){this.players=[{name:this.registry.get("username")||"JugadorX",character:null,color:43775,bigImage:null,bigFrame:null,frame:null}],this.add.text(e/2,100,`${this.players[0].name}`,{...i,fontSize:"28px",color:"#000",fontStyle:"bold"}).setOrigin(.5),this.turnText=this.add.text(e/2,130,"Ningún personaje seleccionado",{...i,fontSize:"18px",color:"#000"}).setOrigin(.5),this.createPlayerOnlineUI(),this.createCharacterMiniatures(150,0),p(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>this.handleNext(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...i,fontSize:"14px",color:"#000"},clickSoundKey:"sonidoClick"})}createPlayersUI(){const{width:e,height:t}=this.scale,s=this.game.globals.defaultTextStyle,a=[.25*e,.75*e];this.players.forEach((r,o)=>{const n=a[o];this.add.text(n,100,"Nombre:",{...s,fontSize:"24px",color:"#000"}).setOrigin(.5);const l=this.add.dom(n,140).createFromHTML(`\n                <input type="text" placeholder="Nombre jugador" maxlength="10"\n                style="\n                    width:150px;\n                    padding:6px;\n                    font-size:16px;\n                    font-family:${s.fontFamily};\n                    border-radius:12px;\n                    border: 6px solid #FFAA00;\n                    outline: none;\n                    text-align:center;\n                    background-color:#f0f0f0;\n                    transition: border-color 0.2s, box-shadow 0.2s;"\n                onfocus="this.style.borderColor='#FF8316'; this.style.boxShadow='0 0 5px #FF8316';"\n                onblur="this.style.borderColor='#FFAA00'; this.style.boxShadow='none';"\n                />\n            `),h=l.node.querySelector("input");h.addEventListener("focus",e=>{this.input.keyboard.enabled=!1,e.stopPropagation()}),h.addEventListener("blur",e=>{this.input.keyboard.enabled=!0,e.stopPropagation()}),h.addEventListener("keydown",e=>e.stopPropagation()),h.addEventListener("input",()=>{h.value=h.value.replace(/[^a-zA-ZÀ-ÿñÑ ]/g,""),this.updateTurnText()}),this.playerInputs[o]=l,this.playerInputEls[o]=h,r.bigImage=this.add.image(e*(.25+.5*o),.6*t,"characterA").setScale(1.2).setOrigin(.5).setVisible(!1),r.bigFrame=this.add.image(r.bigImage.x,r.bigImage.y,"marcoJugador").setScale(2.8).setOrigin(.5).setVisible(!0),r.bigFrame.texture.setFilter(i().Textures.FilterMode.NEAREST),r.frame=this.add.rectangle(0,0,60,120).setStrokeStyle(4,r.color).setVisible(!1)}),this.currentTurn=0,this.updateTurnText()}createPlayerOnlineUI(){const{width:e,height:t}=this.scale,s=this.players[0],a=e/2;s.bigImage=this.add.image(a-150,.58*t,"characterA").setScale(1.2).setOrigin(.5).setVisible(!1),s.bigFrame=this.add.image(s.bigImage.x,s.bigImage.y,"marcoJugador").setScale(2.8).setOrigin(.5).setVisible(!0),s.bigFrame.texture.setFilter(i().Textures.FilterMode.NEAREST),s.frame=this.add.rectangle(0,0,60,120).setStrokeStyle(4,s.color).setVisible(!1)}createCharacterMiniatures(e,t){const{width:i,height:s}=this.scale,a=i/2-75,r=.5*s,o=[{x:a+e,y:r+t},{x:a+e+150,y:r+t},{x:a+e+75,y:r+t+75}];["characterA","characterB","characterC"].forEach((e,t)=>{const i=this.add.image(o[t].x,o[t].y,e).setInteractive({useHandCursor:!0}).setScale(.45).setData("characterName",e);i.on("pointerdown",()=>{d(this,"sonidoClick"),this.onMiniClicked(e,i)})})}onMiniClicked(e,t){if("online"===this.mode){const i=this.players[0];return i.character===e?(i.character=null,i.bigImage&&i.bigImage.setVisible(!1),i.frame&&i.frame.setVisible(!1)):(i.character=e,i.bigImage&&i.bigImage.setTexture(e).setVisible(!0),i.frame&&i.frame.setPosition(t.x,t.y).setVisible(!0)),void this.updateTurnText()}const i=this.players.findIndex(t=>t.character===e);if(-1!==i){const e=this.players[i];return e.character=null,e.bigImage&&e.bigImage.setVisible(!1),e.frame&&e.frame.setVisible(!1),this.currentTurn=i,void this.updateTurnText()}const s=this.players[0],a=this.players[1];let r=this.currentTurn;if(null==r)if(!s.character&&a.character)r=0;else if(!a.character&&s.character)r=1;else{if(s.character||a.character)return;r=0}const o=this.players[r],n=this.players[1-r];n.character!==e&&(o.character=e,o.bigImage&&o.bigImage.setTexture(e).setVisible(!0),o.frame&&o.frame.setPosition(t.x,t.y).setVisible(!0),n.character?this.currentTurn=null:this.currentTurn=1-r,this.updateTurnText())}handleNext(){if("local"===this.mode){const e=this.playerInputEls?.[0]?.value?.trim()??"",t=!!this.players?.[0]?.character,i=this.playerInputEls?.[1]?.value?.trim()??"",s=!!this.players?.[1]?.character;if(!(e.length>0&&i.length>0&&t&&s))return this.updateTurnText(),void this.flashTurnText("#b00000",900);this.players[0].name=e,this.players[1].name=i,this.scene.start("SelectScenario_Scene",{mode:this.mode,player1:this.players[0],player2:this.players[1]})}if("online"===this.mode){if(!this.players?.[0]?.character)return this.flashTurnText("#b00000",900),void this.turnText.setText("Debes elegir un personaje primero");this.registry.set("myCharacter",this.players[0].character),this.isHost?this.scene.start("SelectScenario_Scene",{mode:this.mode,player1:this.players[0],isHost:!0}):this.scene.start("Lobby_Scene",{mode:this.mode,player2:this.players[0],isHost:!1})}}flashTurnText(e="#b00000",t=900){if(!this.turnText)return;const i=this.turnText.style.color||"#000000";this.turnText.setColor(e),this.time.delayedCall(t,()=>{this.turnText.setColor(i),this.updateTurnText()})}updateTurnText(){if(this.turnText){if("local"===this.mode){const e=this.playerInputEls?.[0]?.value?.trim()??"",t=this.playerInputEls?.[1]?.value?.trim()??"",i=!!this.players?.[0]?.character,s=!!this.players?.[1]?.character,a=e.length>0,r=t.length>0,o=i&&s,n=a&&r;if(o&&n)return void this.turnText.setText("Listo: ambos jugadores tienen nombre y personaje");if(o&&!n)return void(a||r?a?this.turnText.setText("Falta el nombre del Jugador 2"):this.turnText.setText("Falta el nombre del Jugador 1"):this.turnText.setText("Faltan los nombres de Jugador 1 y Jugador 2"));if(n&&!o)return void(i||s?i?this.turnText.setText("Falta el personaje del Jugador 2"):this.turnText.setText("Falta el personaje del Jugador 1"):this.turnText.setText("Faltan los personajes del Jugador 1 y Jugador 2"));if(null===this.currentTurn||void 0===this.currentTurn)return void this.turnText.setText("Completa nombres y personajes");this.turnText.setText(`Turno: Jugador ${this.currentTurn+1}`)}"online"===this.mode&&(this.players?.[0]?.character?this.turnText.setText("Listo: el jugador tiene personaje"):this.turnText.setText("Ningún personaje seleccionado"))}}}class w extends i().Scene{constructor(){super("SelectScenario_Scene"),this.selectedScenario="Gym",this.mode="local"}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("Gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("Playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("Jardin","ASSETS/FONDOS/JARDIN.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3"),this.load.image("marco","/ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO")}init(e){this.player1=e.player1,this.player2=e.player2,this.mode=e.mode||"local",this.isHost=e.isHost||!1}create(){const{width:e,height:t}=this.scale,s=this.game.globals.defaultTextStyle;c(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,50,"Selecciona Escenario",{...s,fontSize:"40px",color:"#000",fontStyle:"bold"}).setOrigin(.5),this.selectedScenario="Gym",this.selectedImage=this.add.image(e/2,240,this.selectedScenario).setScale(.5);const a=["Gym","Playa","Jardin"],r=e/2-200,o={},n=e=>{this.selectedScenario=e,this.selectedImage.setTexture(e).setScale(.5),a.forEach(t=>{o[t].setTexture(t===e?"botonSeleccionado":"botonSinSeleccionar")})};a.forEach((e,t)=>{const a=this.add.image(r+200*t,440,"botonSinSeleccionar").setInteractive({useHandCursor:!0}).setScale(1.75);o[e]=a;const l=this.add.text(0,0,e,{...s,fontSize:"24px",color:"#000"});i().Display.Align.In.Center(l,a),a.on("pointerover",()=>a.setTexture("botonSeleccionado")),a.on("pointerout",()=>{a.setTexture(this.selectedScenario===e?"botonSeleccionado":"botonSinSeleccionar")}),a.on("pointerdown",()=>d(this,"sonidoClick")),a.on("pointerup",t=>{a.getBounds().contains(t.x,t.y)&&n(e)})}),n(this.selectedScenario);const l=this.add.image(e/2,240,"marco").setOrigin(.5);l.texture.setFilter(i().Textures.FilterMode.NEAREST),l.setDisplaySize(500,300),p(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>{"local"===this.mode?this.scene.start("Game_Scene",{player1:this.player1,player2:this.player2,selectedScenario:this.selectedScenario,mode:this.mode,isHost:this.isHost}):this.scene.start("Lobby_Scene",{player1:this.player1,player2:this.player2,selectedScenario:this.selectedScenario,mode:this.mode,isHost:this.isHost})},scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...s,fontSize:"12px",color:"#000"},clickSoundKey:"sonidoClick"}),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>{this.scene.start("SelectPlayer_Scene",{mode:this.mode,isHost:this.isHost})}})}}class P extends i().Scene{constructor(){super("Lobby_Scene"),this.isPlayerReady=!1}init(e){this.mode=e.mode,this.isHost=e.isHost,this.player1=e.player1,this.player2=e.player2,console.log("Lobby iniciado como:",this.isHost?"Host":"Invitado")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const e=this.game.globals.defaultTextStyle,{width:t,height:s}=this.scale,a=t/2;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(a,.18*s,"LOBBY",{...e,fontSize:"40px",color:"#000",fontStyle:"bold"}).setOrigin(.5);const r=.48*s,o=this.add.image(a,r,"marco").setOrigin(.5);o.texture.setFilter(i().Textures.FilterMode.NEAREST);const n=.3*t,l=.3*s;o.setDisplaySize(n,l);const h=r-40;this.add.text(a,h,"ESTADO DE JUGADORES",{...e,fontSize:"22px",color:"#000000",fontStyle:"bold"}).setOrigin(.5);const c=this.isHost?this.player1?.name||"Tú":this.player1?.name||"Admin...";this.p1StatusText=this.add.text(a,r,`${c} --- ❌`,{...e,fontSize:"20px",color:"#000000"}).setOrigin(.5);const d=this.isHost?this.player2?.name||"Esperando...":this.player2?.name||"Tú";this.p2StatusText=this.add.text(a,r+40,`${d} --- ❌`,{...e,fontSize:"20px",color:"#000000"}).setOrigin(.5),this.btnListo=p(this,{x:a,y:.75*s,label:"Listo?",onClick:()=>this.toggleReady(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...e,fontSize:"14px",color:"#000"},clickSoundKey:"sonidoClick"}),this.btnVolver=S(this,{x:.06*t,y:.08*s,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.handleBack()})}toggleReady(){this.isPlayerReady=!this.isPlayerReady;const e=this.isPlayerReady?"✅":"❌";this.isHost?this.p1StatusText.setText(`${this.player1.name} --- ${e}`):this.p2StatusText.setText(`${this.player2.name} --- ${e}`);const t=this.isPlayerReady?"CANCELAR":"LISTO?";this.btnListo.setLabel?this.btnListo.setLabel(t):this.btnListo.text&&this.btnListo.text.setText(t),this.isPlayerReady?(this.btnVolver.disableInteractive(),this.btnVolver.setAlpha(.3)):(this.btnVolver.setInteractive(),this.btnVolver.setAlpha(1))}handleBack(){const e=this.isHost?"SelectScenario_Scene":"SelectPlayer_Scene",t=this.isHost?{mode:this.mode,player1:this.player1,isHost:!0}:{mode:this.mode,isHost:!1};this.scene.start(e,t)}}class L extends i().Scene{constructor(){super("Logging_Scene"),this.isPlayerReady=!1,this.apiUrl="/api",this.isRegistering=!1}async init(e){const t=localStorage.getItem("voley_username"),i=localStorage.getItem("voley_password");if(t&&i){console.log("Intentando auto-login para:",t);try{const e=await fetch(`${this.apiUrl}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:i})}),s=await e.json();e.ok&&(this.registry.set("username",s.username),this.registry.set("isHost",s.isHost),this.scene.start("Menu_Scene"))}catch(e){console.error("Auto-login fallido")}}}preload(){this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png")}create(){const{width:e,height:t}=this.scale,s=e/2,a=this.game.globals?.defaultTextStyle??{fontFamily:"Arial"};this.add.image(0,0,"fondo").setOrigin(0).setDisplaySize(e,t).setDepth(-1),this.titleText=this.add.text(s,60,"INICIAR SESIÓN",{...a,fontSize:"36px",color:"#000",fontStyle:"bold"}).setOrigin(.5);const r=this.add.image(s,.52*t,"marco").setOrigin(.5);r.setDisplaySize(.4*e,.65*t),r.texture.setFilter(i().Textures.FilterMode.NEAREST),this.add.text(s,.28*t,"Usuario:",{...a,fontSize:"20px",color:"#000"}).setOrigin(.5),this.userInput=this.createHtmlInput(s,.35*t,"Nombre de usuario",a),this.add.text(s,.45*t,"Contraseña:",{...a,fontSize:"20px",color:"#000"}).setOrigin(.5),this.passInput=this.createHtmlInput(s,.52*t,"********",a,!0),this.mainBtn=p(this,{x:s,y:.65*t,label:"ENTRAR",onClick:()=>this.handleSubmit(),scale:1.6,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...a,fontSize:"14px",color:"#000"},clickSoundKey:"sonidoClick"}),this.toggleText=this.add.text(s,.75*t,"¿Aún no tienes cuenta? Regístrate aquí",{...a,fontSize:"16px",color:"#0000EE",fontStyle:"italic"}).setOrigin(.5).setInteractive({useHandCursor:!0}),this.toggleText.on("pointerdown",()=>this.toggleMode())}createHtmlInput(e,t,i,s,a=!1){const r=a?"password":"text",o=this.add.dom(e,t).createFromHTML(`\n            <input type="${r}" placeholder="${i}" \n            style="width:180px; padding:8px; font-size:16px; font-family:${s.fontFamily}; \n            border-radius:12px; border: 6px solid #FFAA00; text-align:center; outline:none;" />\n        `).node.querySelector("input");return o.addEventListener("focus",()=>this.input.keyboard.enabled=!1),o.addEventListener("blur",()=>this.input.keyboard.enabled=!0),o}toggleMode(){this.isRegistering=!this.isRegistering,this.titleText.setText(this.isRegistering?"REGISTRARSE":"INICIAR SESIÓN"),this.mainBtn.text.setText(this.isRegistering?"CREAR CUENTA":"ENTRAR"),this.toggleText.setText(this.isRegistering?"¿Ya tienes cuenta? Inicia sesión":"¿Aún no tienes cuenta? Regístrate aquí")}async handleSubmit(){const e=this.userInput.value.trim(),t=this.passInput.value.trim();if(e.length<3)return void alert("Usuario demasiado corto");if(t.length<3)return void alert("Contraseña demasiado corta");const i=this.isRegistering?"/register":"/login";try{const s=await fetch(`${this.apiUrl}${i}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),a=await s.json();s.ok?this.isRegistering?(alert("¡Registro completado con éxito! Ahora puedes iniciar sesión."),this.toggleMode(),this.userInput.value="",this.passInput.value=""):(this.registry.set("username",e),this.registry.set("userToken",a.token),this.registry.set("isHost",a.isHost),localStorage.setItem("voley_session_token",a.token),localStorage.setItem("voley_username",e),console.log(`Login correcto. Usuario: ${e} | Host: ${a.isHost}`),this.scene.start("Menu_Scene")):alert(a.error||"Error en la autenticación")}catch(e){console.error("Error conectando a la API:",e),alert("No se pudo conectar con el servidor.")}}}(async()=>{document.fonts&&document.fonts.load&&(await Promise.all([document.fonts.load('20px "MiFuente"'),document.fonts.load('20px "VT323"')]),await document.fonts.ready);const e={defaultTextStyle:{fontFamily:"MiFuente",fontSize:"20px",color:"#ffffff"},music:null},t={type:i().AUTO,width:960,height:540,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{x:0,y:300},debug:!1}},dom:{createContainer:!0},callbacks:{preBoot:t=>{t.globals=e}},scene:[L,m,A,b,v,_,I,C,R,N,w,P],backgroundColor:"#8675f1"},s=new(i().Game)(t);window.addEventListener("beforeunload",()=>{const e=s.registry.get("username");if(e){const t=JSON.stringify({username:e}),i=new Blob([t],{type:"application/json"});navigator.sendBeacon("/api/logout",i)}})})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVNELFNBQVNDLE1BQU12a0IsYUFDM0J3a0IsUUFBUUMsSUFBSSxDQUNkSCxTQUFTQyxNQUFNdmtCLEtBQUssbUJBQ3BCc2tCLFNBQVNDLE1BQU12a0IsS0FBSyx3QkFFbEJza0IsU0FBU0MsTUFBTUcsT0FHekIsTUFBTS9tQixFQUFVLENBQ1p5RCxpQkFBa0IsQ0FBRUMsV0FBWSxXQUFZQyxTQUFVLE9BQVFDLE1BQU8sV0FDckU5RCxNQUFPLE1BR0w4SCxFQUFTLENBQ1h1RCxLQUFNLFNBQ050SCxNQUFPLElBQ1BDLE9BQVEsSUFDUmtqQixPQUFRLGlCQUNSbmYsUUFBUyxDQUNMb2YsUUFBUyxTQUNUQyxPQUFRLENBQ0pDLFFBQVMsQ0FBQzltQixFQUFHLEVBQUdDLEVBQUcsS0FDbkI4bUIsT0FBTyxJQUdmdEosSUFBSyxDQUNEdUosaUJBQWlCLEdBRXJCQyxVQUFXLENBQ1BDLFFBQVV4bkIsSUFDTkEsRUFBS0MsUUFBVUEsSUFHdkJSLE1BQU8sQ0FBQ3lsQixFQUFlampCLEVBQVlrUixFQUFZd0ksRUFBZ0J3QixFQUFxQitCLEVBQWVPLEVBQWVVLEVBQWFQLEVBQWdCUyxFQUFvQm9ELEVBQXNCVSxHQUN6THNELGdCQUFnQixXQUdkem5CLEVBQU0sSUFBSSxVQUFZNkgsR0FFNUI2ZixPQUFPaEcsaUJBQWlCLGVBQWdCLEtBQ3BDLE1BQU1qZCxFQUFXekUsRUFBSzBFLFNBQVM1RyxJQUFJLFlBQ25DLEdBQUkyRyxFQUFVLENBQ1YsTUFBTWdQLEVBQU8xTyxLQUFLQyxVQUFVLENBQUVQLGFBQ3hCa2pCLEVBQU8sSUFBSUMsS0FBSyxDQUFDblUsR0FBTyxDQUFFckksS0FBTSxxQkFDdEN5YyxVQUFVQyxXQUFXLGNBQWVILEVBQ3hDLEdBRVAsRUFqREQsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL2V4dGVybmFsIHZhciBcIlBoYXNlclwiIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1VJL0F1ZGlvLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1VJL0J1dHRvbnMuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL01lbnVfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvRW50aXRpZXMvUGxheWVyLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0NvbW1hbmRzL0FwcGx5UG93ZXJVcENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvRW50aXRpZXMvUG93ZXJVcC5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9FbnRpdGllcy9CYWxsLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0NvbW1hbmRzL0NvbW1hbmRQcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvQ29tbWFuZHMvQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9Db21tYW5kcy9Nb3ZlUGxheWVyQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvR2FtZV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvVHV0b3JpYWxfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL0NvbmZpZ3VyYXRpb25fU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL0NyZWRpdHNfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL0VuZEdhbWVfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL01vZGVHYW1lX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9QYXVzZV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvU2VsZWN0UGxheWVyX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9TZWxlY3RTY2VuYXJpb19TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvTG9iYnlfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL0xvZ2dpbmdfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFBoYXNlcjsiLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5jb25zdCBTRlhfVk9MVU1FX0tFWSA9ICdzZnhWb2x1bWUnO1xyXG5jb25zdCBNVVNJQ19WT0xVTUVfS0VZID0gJ211c2ljVm9sdW1lJztcclxuY29uc3QgTEVHQUNZX1ZPTFVNRV9LRVkgPSAndm9sdW1lJztcclxuXHJcbmZ1bmN0aW9uIHBhcnNlU3RvcmVkVm9sdW1lKHJhdywgZGVmYXVsdFZhbHVlKSB7XHJcbiAgICBjb25zdCB2ID0gTnVtYmVyLnBhcnNlRmxvYXQocmF3ID8/IFN0cmluZyhkZWZhdWx0VmFsdWUpKTtcclxuXHJcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2KSkgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxuXHJcbiAgICByZXR1cm4gUGhhc2VyLk1hdGguQ2xhbXAodiwgMCwgMSk7XHJcbn1cclxuXHJcbi8vLy8gR2V0dGVycyZTZXR0ZXJzIC8vLy9cclxuLy8gT2J0aWVuZSBlbCB2b2x1bWVuIGFsbWFjZW5hZG8gY29uIHVuYSBjbGF2ZVxyXG5mdW5jdGlvbiBnZXRTdG9yZWRWb2x1bWVCeUtleShrZXksIGZhbGxiYWNrS2V5LCBkZWZhdWx0VmFsdWUgPSAxKSB7XHJcbiAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgaWYgKHJhdyAhPT0gbnVsbCkgcmV0dXJuIHBhcnNlU3RvcmVkVm9sdW1lKHJhdywgZGVmYXVsdFZhbHVlKTtcclxuXHJcbiAgICBjb25zdCBmYWxsYmFja1JhdyA9IGZhbGxiYWNrS2V5ID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZmFsbGJhY2tLZXkpIDogbnVsbDtcclxuICAgIGlmIChmYWxsYmFja1JhdyAhPT0gbnVsbCkgcmV0dXJuIHBhcnNlU3RvcmVkVm9sdW1lKGZhbGxiYWNrUmF3LCBkZWZhdWx0VmFsdWUpO1xyXG5cclxuICAgIHJldHVybiBQaGFzZXIuTWF0aC5DbGFtcChkZWZhdWx0VmFsdWUsIDAsIDEpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRMZWdhY3lWb2x1bWUoZGVmYXVsdFZhbHVlID0gMSkge1xyXG4gICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTEVHQUNZX1ZPTFVNRV9LRVkpO1xyXG4gICAgaWYgKHJhdyA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgcmV0dXJuIHBhcnNlU3RvcmVkVm9sdW1lKHJhdywgZGVmYXVsdFZhbHVlKTtcclxufVxyXG5cclxuLy8gQXNlZ3VyYSBxdWUgZXhpc3RhbiBsb3MgdmFsb3JlcyBkZSB2b2x1bWVuIGFsbWFjZW5hZG9zXHJcbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVTdG9yZWRBdWRpb1NldHRpbmdzKGRlZmF1bHRWYWx1ZSA9IDEpIHtcclxuICAgIGNvbnN0IGhhc1NmeCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNGWF9WT0xVTUVfS0VZKSAhPT0gbnVsbDtcclxuICAgIGNvbnN0IGhhc011c2ljID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTVVTSUNfVk9MVU1FX0tFWSkgIT09IG51bGw7XHJcblxyXG4gICAgaWYgKGhhc1NmeCAmJiBoYXNNdXNpYykgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGxlZ2FjeVZvbHVtZSA9IGdldExlZ2FjeVZvbHVtZShkZWZhdWx0VmFsdWUpO1xyXG4gICAgY29uc3QgaW5pdGlhbFZvbHVtZSA9IGxlZ2FjeVZvbHVtZSAmJiBsZWdhY3lWb2x1bWUgPiAwID8gbGVnYWN5Vm9sdW1lIDogZGVmYXVsdFZhbHVlO1xyXG5cclxuICAgIGlmICghaGFzU2Z4KSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTRlhfVk9MVU1FX0tFWSwgU3RyaW5nKGluaXRpYWxWb2x1bWUpKTtcclxuICAgIGlmICghaGFzTXVzaWMpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKE1VU0lDX1ZPTFVNRV9LRVksIFN0cmluZyhpbml0aWFsVm9sdW1lKSk7XHJcbn1cclxuXHJcbi8vIE9idGllbmUgZWwgdm9sdW1lbiBhbG1hY2VuYWRvIHBhcmEgbG9zIGVmZWN0b3MgZGUgc29uaWRvXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdG9yZWRTZnhWb2x1bWUoZGVmYXVsdFZhbHVlID0gMSkge1xyXG4gICAgcmV0dXJuIGdldFN0b3JlZFZvbHVtZUJ5S2V5KFNGWF9WT0xVTUVfS0VZLCBMRUdBQ1lfVk9MVU1FX0tFWSwgZGVmYXVsdFZhbHVlKTtcclxufVxyXG5cclxuLy8gT2J0aWVuZSBlbCB2b2x1bWVuIGFsbWFjZW5hZG8gcGFyYSBsYSBtw7pzaWNhXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdG9yZWRNdXNpY1ZvbHVtZShkZWZhdWx0VmFsdWUgPSAxKSB7XHJcbiAgICByZXR1cm4gZ2V0U3RvcmVkVm9sdW1lQnlLZXkoTVVTSUNfVk9MVU1FX0tFWSwgTEVHQUNZX1ZPTFVNRV9LRVksIGRlZmF1bHRWYWx1ZSk7XHJcbn1cclxuXHJcbi8vIEFsbWFjZW5hIGVsIHZvbHVtZW4gcGFyYSBsb3MgZWZlY3RvcyBkZSBzb25pZG9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFN0b3JlZFNmeFZvbHVtZSh2b2x1bWUpIHtcclxuICAgIGNvbnN0IHYgPSBQaGFzZXIuTWF0aC5DbGFtcChOdW1iZXIodm9sdW1lKSwgMCwgMSk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTRlhfVk9MVU1FX0tFWSwgU3RyaW5nKHYpKTtcclxuXHJcbiAgICByZXR1cm4gdjtcclxufVxyXG5cclxuLy8gQWxtYWNlbmEgZWwgdm9sdW1lbiBwYXJhIGxhIG3DunNpY2FcclxuZXhwb3J0IGZ1bmN0aW9uIHNldFN0b3JlZE11c2ljVm9sdW1lKHZvbHVtZSkge1xyXG4gICAgY29uc3QgdiA9IFBoYXNlci5NYXRoLkNsYW1wKE51bWJlcih2b2x1bWUpLCAwLCAxKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKE1VU0lDX1ZPTFVNRV9LRVksIFN0cmluZyh2KSk7XHJcblxyXG4gICAgcmV0dXJuIHY7XHJcbn1cclxuLy8vLy8vLy8vXHJcblxyXG4vLyBBcGxpY2EgZWwgdm9sdW1lbiBhbCBTb3VuZE1hbmFnZXIgeSBhIGxhIG3DunNpY2EgZ2xvYmFsXHJcbmV4cG9ydCBmdW5jdGlvbiBhcHBseVN0b3JlZFZvbHVtZShzY2VuZSwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICBsZXQgc2Z4Vm9sdW1lID0gZ2V0U3RvcmVkU2Z4Vm9sdW1lKCk7XHJcbiAgICBsZXQgbXVzaWNWb2x1bWUgPSBnZXRTdG9yZWRNdXNpY1ZvbHVtZSgpO1xyXG5cclxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICBzZnhWb2x1bWUgPSBQaGFzZXIuTWF0aC5DbGFtcChOdW1iZXIob3B0aW9ucyksIDAsIDEpO1xyXG4gICAgICAgIG11c2ljVm9sdW1lID0gc2Z4Vm9sdW1lO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBzZnhWb2x1bWUgPSBvcHRpb25zLnNmeFZvbHVtZSA/PyBzZnhWb2x1bWU7XHJcbiAgICAgICAgbXVzaWNWb2x1bWUgPSBvcHRpb25zLm11c2ljVm9sdW1lID8/IG11c2ljVm9sdW1lO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1hbnRlbmVyIGVsIHNvdW5kIG1hbmFnZXIgZW4gMSBwYXJhIHF1ZSBtdXNpY2EgeSBlZmVjdG9zIHNlYW4gaW5kZXBlbmRpZW50ZXMuXHJcbiAgICBzY2VuZS5zb3VuZC52b2x1bWUgPSAxO1xyXG5cclxuICAgIGNvbnN0IG11c2ljID0gc2NlbmUuZ2FtZS5nbG9iYWxzLm11c2ljO1xyXG4gICAgaWYgKG11c2ljICYmICdzZXRWb2x1bWUnIGluIG11c2ljKSB7XHJcbiAgICAgICAgbXVzaWMuc2V0Vm9sdW1lKG11c2ljVm9sdW1lKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gUmVwcm9kdWNlIHVuIHNvbmlkbyBkZSBjbGlja1xyXG5leHBvcnQgZnVuY3Rpb24gcGxheUNsaWNrKHNjZW5lLCBrZXkgPSAnc29uaWRvQ2xpY2snKSB7XHJcbiAgICBzY2VuZS5zb3VuZC5wbGF5KGtleSwgeyB2b2x1bWU6IGdldFN0b3JlZFNmeFZvbHVtZSgpIH0pO1xyXG59XHJcblxyXG4vLyBSZXByb2R1Y2UgbGEgbcO6c2ljYSBkZSBmb25kbyBlbiBidWNsZVxyXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlTG9vcGluZ011c2ljKHNjZW5lLCBzb3VuZEtleSwgeyBsb29wID0gdHJ1ZSB9ID0ge30pIHtcclxuICAgIGNvbnN0IHZvbHVtZSA9IGdldFN0b3JlZE11c2ljVm9sdW1lKCk7XHJcblxyXG4gICAgbGV0IG11c2ljID0gc2NlbmUuZ2FtZS5nbG9iYWxzLm11c2ljO1xyXG4gICAgaWYgKCFtdXNpYykge1xyXG4gICAgICAgIG11c2ljID0gc2NlbmUuc291bmQuYWRkKHNvdW5kS2V5LCB7IGxvb3AsIHZvbHVtZSB9KTtcclxuICAgICAgICBzY2VuZS5nYW1lLmdsb2JhbHMubXVzaWMgPSBtdXNpYztcclxuICAgIH1cclxuXHJcbiAgICAvLyBzZSBhY3R1YWxpemEgdm9sdW1lbiBzaSBlbCB0aXBvIGxvIHNvcG9ydGFcclxuICAgIGlmIChtdXNpYyAmJiAnc2V0Vm9sdW1lJyBpbiBtdXNpYykgbXVzaWMuc2V0Vm9sdW1lKHZvbHVtZSk7XHJcblxyXG4gICAgY29uc3QgdHJ5UGxheSA9ICgpID0+IHtcclxuICAgICAgICBpZiAoIW11c2ljIHx8ICEoJ3BsYXknIGluIG11c2ljKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBubyBzZSByZWluaWNpYSBzaSB5YSBlc3Q/IHNvbmFuZG9cclxuICAgICAgICBpZiAoJ2lzUGxheWluZycgaW4gbXVzaWMgJiYgbXVzaWMuaXNQbGF5aW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIG11c2ljLnBsYXkoKTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbQXVkaW8uanNdIE5vIHNlIGhhIHBvZGlkbyByZXByb2R1Y2lyIHRvZGF2P2EgbGEgbT9zaWNhLicsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBwcmltZXJvIHNlIGludGVudGEgcmVwcm9kdWNpciBuYWRhIG3DoXMgY2FyZ2FyXHJcbiAgICB0cnlQbGF5KCk7XHJcblxyXG4gICAgLy8gc2lubywgc2UgcmVpbnRlbnRhIHRyYXMgbGEgcHJpbWVyYSBpbnRlcmFjY2nDs24vY2xpY2tcclxuICAgIHNjZW5lLmlucHV0Lm9uY2UoJ3BvaW50ZXJkb3duJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGN0eCA9IHNjZW5lLnNvdW5kLmNvbnRleHQ7XHJcbiAgICAgICAgaWYgKGN0eCAmJiBjdHguc3RhdGUgPT09ICdzdXNwZW5kZWQnKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBjdHgucmVzdW1lKCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggeyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeVBsYXkoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBtdXNpYztcclxufVxyXG4iLCJpbXBvcnQgeyBwbGF5Q2xpY2sgfSBmcm9tICcuL0F1ZGlvLmpzJztcclxuXHJcbi8vIENyZWEgdW4gYm90w7NuIGJhc2UgcGFyYSBsYSBVSVxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVUlCdXR0b24oc2NlbmUsIHtcclxuICAgIHgsIHksXHJcbiAgICBsYWJlbCxcclxuICAgIG9uQ2xpY2ssXHJcbiAgICB0ZXh0dXJlTm9ybWFsID0gJ2JvdG9uU2luU2VsZWNjaW9uYXInLFxyXG4gICAgdGV4dHVyZUhvdmVyID0gJ2JvdG9uU2VsZWNjaW9uYWRvJyxcclxuICAgIHNjYWxlID0gMixcclxuICAgIHRleHRTdHlsZSA9IHt9LFxyXG4gICAgY2xpY2tTb3VuZEtleSA9ICdzb25pZG9DbGljaycsXHJcbn0pIHtcclxuICAgIGNvbnN0IGJ1dHRvbiA9IHNjZW5lLmFkZC5zcHJpdGUoeCwgeSwgdGV4dHVyZU5vcm1hbClcclxuICAgICAgICAuc2V0U2NhbGUoc2NhbGUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICBjb25zdCB0ZXh0ID0gc2NlbmUuYWRkLnRleHQoeCwgeSwgbGFiZWwsIHRleHRTdHlsZSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gZXZlbnRvcyBkZWwgYm90w7NuXHJcbiAgICBjb25zdCBzZXROb3JtYWwgPSAoKSA9PiBidXR0b24uc2V0VGV4dHVyZSh0ZXh0dXJlTm9ybWFsKTtcclxuICAgIGNvbnN0IHNldEhvdmVyID0gKCkgPT4gYnV0dG9uLnNldFRleHR1cmUodGV4dHVyZUhvdmVyKTtcclxuXHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJvdmVyJywgc2V0SG92ZXIpO1xyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVyb3V0Jywgc2V0Tm9ybWFsKTtcclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgc2V0SG92ZXIoKTtcclxuICAgICAgICBwbGF5Q2xpY2soc2NlbmUsIGNsaWNrU291bmRLZXkpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBzb2xvIHNlIGxhbnphIHNpIHNlIHN1ZWx0YSBlbmNpbWFcclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcnVwJywgKHBvaW50ZXIpID0+IHtcclxuICAgICAgICBjb25zdCBpbnNpZGUgPSBidXR0b24uZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnRlci54LCBwb2ludGVyLnkpO1xyXG4gICAgICAgIGlmICghaW5zaWRlKSB7IFxyXG4gICAgICAgICAgICBzZXROb3JtYWwoKTsgXHJcbiAgICAgICAgICAgIHJldHVybjsgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRIb3ZlcigpO1xyXG4gICAgICAgIG9uQ2xpY2s/LigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHsgYnV0dG9uLCB0ZXh0IH07XHJcbn1cclxuXHJcbi8vIENyZWEgdW4gYm90w7NuIGJhc2UgY29uIHVuIGljb25vIChjb21vIGVsIGRlIHZvbHZlciBhdHLDoXMpXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJY29uQnV0dG9uKHNjZW5lLCBvcHRpb25zKSB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgICAgeCwgeSxcclxuICAgICAgICB0ZXh0dXJlLFxyXG4gICAgICAgIG9uQ2xpY2ssXHJcbiAgICAgICAgc2NhbGUgPSAxLFxyXG4gICAgICAgIGhvdmVyU2NhbGUgPSAxLjEsXHJcbiAgICAgICAgY2xpY2tTb3VuZEtleSA9ICdzb25pZG9DbGljaycsXHJcbiAgICB9ID0gb3B0aW9ucztcclxuXHJcbiAgICBjb25zdCBidXR0b24gPSBzY2VuZS5hZGRcclxuICAgICAgICAuc3ByaXRlKHgsIHksIHRleHR1cmUpXHJcbiAgICAgICAgLnNldFNjYWxlKHNjYWxlKVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgLy8gZXZlbnRvcyBkZWwgYm90w7NuXHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gYnV0dG9uLnNldFNjYWxlKHNjYWxlICogaG92ZXJTY2FsZSkpO1xyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYnV0dG9uLnNldFNjYWxlKHNjYWxlKSk7XHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgIHBsYXlDbGljayhzY2VuZSwgY2xpY2tTb3VuZEtleSk7XHJcbiAgICB9KTtcclxuICAgIC8vIHNvbG8gc2UgbGFuemEgc2kgc2Ugc3VlbHRhIGVuY2ltYVxyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVydXAnLCAocG9pbnRlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluc2lkZSA9IGJ1dHRvbi5nZXRCb3VuZHMoKS5jb250YWlucyhwb2ludGVyLngsIHBvaW50ZXIueSk7XHJcbiAgICAgICAgaWYgKCFpbnNpZGUpIHJldHVybjtcclxuICAgICAgICBvbkNsaWNrKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gYnV0dG9uO1xyXG59XHJcbiIsIi8vIFBhbnRhbGxhIGRlbCBNZW7DuiBQcmluY2lwYWxcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5pbXBvcnQgeyBlbnN1cmVMb29waW5nTXVzaWMgfSBmcm9tICcuLi9VSS9BdWRpby5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVudV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTWVudV9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gYm90b25lc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9HX1NFTEVDQ0lPTkFETy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9HLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9NZW51UHJpbmNpcGFsJywgJ0FTU0VUUy9GT05ET1MvTUVOVV9QUklOQ0lQQUwucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGxvZ29cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2xvZ29FbXByZXNhJywgJ0FTU0VUUy9MT0dPL2xvZ29fZW1wcmVzYS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gYXVkaW9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0dlbmVyYWwnLCAnQVNTRVRTL1NPTklETy9TT05JRE8xLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gbcO6c2ljYSBkZSBmb25kb1xyXG4gICAgICAgIGVuc3VyZUxvb3BpbmdNdXNpYyh0aGlzLCAnc29uaWRvR2VuZXJhbCcsIHsgbG9vcDogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgLy8gZXN0aWxvIGJhc2UgZGVsIHRleHRvXHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscz8uZGVmYXVsdFRleHRTdHlsZSA/PyB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGxheW91dFxyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xyXG4gICAgICAgIGNvbnN0IHJpZ2h0SGFsZlggPSBjZW50ZXJYICsgKGNlbnRlclggLyAyKTtcclxuXHJcbiAgICAgICAgLy8gZm9uZG8gYWp1c3RhZG8gYWwgY2FudmFzXHJcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZCA9IHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kb01lbnVQcmluY2lwYWwnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSk7XHJcbiAgICAgICAgYmFja2dyb3VuZC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyB0w610dWxvIGRlbCBqdWVnb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQocmlnaHRIYWxmWCwgMTAwLCAnVm9sbGV5IENsYXNoJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc2OHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLy8vIEJPVE9ORVMgLy8vL1xyXG4gICAgICAgIGNvbnN0IGZpcnN0QnV0dG9uWSA9IGhlaWdodCAvIDIgLSA2MDtcclxuICAgICAgICBjb25zdCBidXR0b25TcGFjaW5nID0gNzA7XHJcbiAgICAgICAgY29uc3QgYnV0dG9uVGV4dFN0eWxlID0geyAuLi5zdHlsZSwgZm9udFNpemU6ICcyOHB4JywgY29sb3I6ICcjMDAwMDAwJyB9O1xyXG5cclxuICAgICAgICAvLyBib3TDs24gSnVnYXJcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHJpZ2h0SGFsZlgsXHJcbiAgICAgICAgICAgIHk6IGZpcnN0QnV0dG9uWSxcclxuICAgICAgICAgICAgbGFiZWw6ICdKdWdhcicsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01vZGVHYW1lX1NjZW5lJyksXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gVHV0b3JpYWxcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHJpZ2h0SGFsZlgsXHJcbiAgICAgICAgICAgIHk6IGZpcnN0QnV0dG9uWSArIGJ1dHRvblNwYWNpbmcsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnVHV0b3JpYWwnLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdUdXRvcmlhbF9TY2VuZScpLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIENvbmZpZ3VyYWNpw7NuXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiByaWdodEhhbGZYLFxyXG4gICAgICAgICAgICB5OiBmaXJzdEJ1dHRvblkgKyBidXR0b25TcGFjaW5nICogMixcclxuICAgICAgICAgICAgbGFiZWw6ICdDb25maWd1cmFjacOzbicsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ0NvbmZpZ3VyYXRpb25fU2NlbmUnKSxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBDcsOpZGl0b3NcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHJpZ2h0SGFsZlgsXHJcbiAgICAgICAgICAgIHk6IGZpcnN0QnV0dG9uWSArIGJ1dHRvblNwYWNpbmcgKiAzLFxyXG4gICAgICAgICAgICBsYWJlbDogJ0Nyw6lkaXRvcycsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ0NyZWRpdHNfU2NlbmUnKSxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBkZSBjZXJyYXIgc2VzacOzblxyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogd2lkdGggLSAxMDAsXHJcbiAgICAgICAgICAgIHk6IDUwLFxyXG4gICAgICAgICAgICBsYWJlbDogJ0NlcnJhciBTZXNpw7NuJyxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4geyB0aGlzLmhhbmRsZUxvZ291dCgpIH0sXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vLy8vLy8vL1xyXG5cclxuICAgICAgICAvLyBsb2dvIGRlIGxhIGVtcHJlc2FcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSh0aGlzLnNjYWxlLndpZHRoIC0gMjAsIHRoaXMuc2NhbGUuaGVpZ2h0IC0gMjAsICdsb2dvRW1wcmVzYScpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgaGFuZGxlTG9nb3V0KCkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lID0gdGhpcy5yZWdpc3RyeS5nZXQoJ3VzZXJuYW1lJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQXZpc2FyIGFsIHNlcnZpZG9yIHBhcmEgcXVlIGRlamUgbGlicmUgZWwgcHVlc3RvIGRlIEhvc3RcclxuICAgICAgICBhd2FpdCBmZXRjaCgnL2FwaS9sb2dvdXQnLCB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBMaW1waWFyIGxvY2FsXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZvbGV5X3VzZXJuYW1lJyk7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZvbGV5X3Nlc3Npb25fdG9rZW4nKTtcclxuXHJcbiAgICAgICAgLy8gTGltcGlhciByZWdpc3RyeVxyXG4gICAgICAgIHRoaXMucmVnaXN0cnkucmVtb3ZlKCd1c2VybmFtZScpO1xyXG4gICAgICAgIHRoaXMucmVnaXN0cnkucmVtb3ZlKCd1c2VyVG9rZW4nKTtcclxuICAgICAgICB0aGlzLnJlZ2lzdHJ5LnJlbW92ZSgnaXNIb3N0Jyk7XHJcblxyXG4gICAgICAgIC8vIFZvbHZlciBhIGxhIHBhbnRhbGxhIGRlIGxvZ2luXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTG9nZ2luZ19TY2VuZScpO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIENsYXNlIGRlIGxhIGVudGlkYWQgXCJwZXJzb25hamVcIiwgc2UgdGllbmUgZW4gY3VlbnRhIHF1ZSBzb24gMyBwZXJzb25hamVzIGRpc3RpbnRvc1xyXG5cclxuY29uc3QgUE9XRVJVUF9EVVJBVElPTl9NUyA9IHtcclxuICB2ZWxvY2lkYWQ6IDQwMDAsXHJcbiAgcmFsZW50aXphcjogMzUwMCxcclxuICBwYXJhbGl6YXI6IDIwMDAsXHJcbiAgcG9yMjogNDAwMCxcclxuICBwb3IzOiAzNTAwLFxyXG59O1xyXG5cclxuY29uc3QgU1BFRURfTVVMVCA9IHtcclxuICB2ZWxvY2lkYWQ6IDEuNSxcclxuICByYWxlbnRpemFyOiAwLjUsXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWVyIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHgsIHksIGNoYXJhY3RlclR5cGUpIHtcclxuICAgICAgICAvLyBJTklDSUFMSVpBQ0nDk05cclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkOyAgICAgICAgICAgICAgICAgICAgICAgLy8gaWRlbnRpZmljYWRvciBkZWwganVnYWRvciAoUDEsIFAyKVxyXG4gICAgICAgIHRoaXMuY2hhcmFjdGVyVHlwZSA9IGNoYXJhY3RlclR5cGU7IC8vIGluZGljYSBxdcOpIHBlcnNvbmFqZSBzZSBoYSBlbGVnaWRvXHJcblxyXG4gICAgICAgIC8vIHZlbG9jaWRhZCBkZSBtb3ZpbWllbnRvXHJcbiAgICAgICAgdGhpcy5iYXNlTW92ZVNwZWVkID0gMjUwO1xyXG4gICAgICAgIHRoaXMubW92ZVNwZWVkID0gdGhpcy5iYXNlTW92ZVNwZWVkO1xyXG5cclxuICAgICAgICB0aGlzLmp1bXBTcGVlZCA9IDI3NTsgICAvLyBmdWVyemEgZGUgc2FsdG9cclxuXHJcbiAgICAgICAgdGhpcy5hY3RpdmVQb3dlclVwcyA9IHt9OyAgIC8vIHBvd2VydXBzIGFjdGl2b3NcclxuXHJcbiAgICAgICAgLy8gZXN0YWRvcyBkZSBwb3dlci11cHNcclxuICAgICAgICB0aGlzLmlzUGFyYWx5emVkID0gZmFsc2U7ICAgICAgIC8vIHBhcmEgZWwgcG93ZXIgdXAgXCJwYXJhbGl6YXJcIlxyXG4gICAgICAgIHRoaXMucGFyYWx5c2lzVHdlZW4gPSBudWxsOyAgICAgLy8gYWwgcXVlZGFyc2UgcGFyYWxpemFkbyAtPiByb2pvXHJcbiAgICAgICAgdGhpcy5zcGVlZEVmZmVjdEFjdGl2ZSA9IGZhbHNlOyAvLyB2ZWxvY2lkYWQgLT4gY2lhbi92ZXJkZVxyXG4gICAgICAgIHRoaXMuc2xvd0VmZmVjdEFjdGl2ZSA9IGZhbHNlOyAgLy8gcmFsZW50aXphZG8gLT4gYXp1bFxyXG5cclxuICAgICAgICB0aGlzLnNjb3JlTXVsdGlwbGllciA9IDE7ICAgICAgIC8vIHBhcmEgcG9yMiAvIHBvcjNcclxuICAgICAgICAvLyB0ZXh0byBmbG90YW50ZSBwYXJhIG1vc3RyYXIgeDIgLyB4M1xyXG4gICAgICAgIHRoaXMubXVsdGlwbGllclRleHQgPSB0aGlzLnNjZW5lLmFkZC50ZXh0KHgsIHkgLSA1MCwgJycsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41LCAxKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMjApXHJcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnBvd2VyVXBJbnZlbnRvcnkgPSBbXTsgLy8gbcOheGltbyAyXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IGZhbHNlOyAgIC8vIGVzdGFkbyBkZSByZWNlcGNpw7NuXHJcblxyXG4gICAgICAgIC8vIGzDrW1pdGVzIGRlIG1vdmltaWVudG8gcGVyc29uYWxpemFkb3NcclxuICAgICAgICB0aGlzLmJvdW5kc0xlZnQgPSAwO1xyXG4gICAgICAgIHRoaXMuYm91bmRzUmlnaHQgPSA5NjA7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNUb3AgPSAwO1xyXG4gICAgICAgIHRoaXMuYm91bmRzQm90dG9tID0gNTQwO1xyXG5cclxuICAgICAgICAvLyBjb25maWd1cmFjacOzbiBkZSBsb3Mgc3ByaXRlcyB5IGxhcyBhbmltYWNpb25lcyBzZWfDum4gZWwgcGVyc29uYWplIGVsZWdpZG9cclxuICAgICAgICBjb25zdCBDSEFSQUNURVJfQ09ORklHID0ge1xyXG4gICAgICAgICAgICAvLyBlcXVpbGlicmFkbyB5IHNpbXDDoXRpY29cclxuICAgICAgICAgICAgY2hhcmFjdGVyQToge1xyXG4gICAgICAgICAgICAgICAgdGV4dHVyZUtleTogJ2NoYXJBX21vdmUnLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRGcmFtZTogMCxcclxuICAgICAgICAgICAgICAgIGlkbGVMZWZ0QW5pbTogJ2NoYXJBX2lkbGVMZWZ0JyxcclxuICAgICAgICAgICAgICAgIGlkbGVSaWdodEFuaW06ICdjaGFyQV9pZGxlUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgcnVuTGVmdEFuaW06ICdjaGFyQV9ydW5MZWZ0JyxcclxuICAgICAgICAgICAgICAgIHJ1blJpZ2h0QW5pbTogJ2NoYXJBX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIGp1bXBMZWZ0QW5pbTogJ2NoYXJBX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgICAgIGp1bXBSaWdodEFuaW06ICdjaGFyQV9qdW1wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZUxlZnRBbmltOiAnY2hhckFfcmVjZWl2ZUxlZnQnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZVJpZ2h0QW5pbTogJ2NoYXJBX3JlY2VpdmVSaWdodCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gcsOhcGlkbyB5IGNvbXBldGl0aXZvXHJcbiAgICAgICAgICAgIGNoYXJhY3RlckI6IHtcclxuICAgICAgICAgICAgICAgIHRleHR1cmVLZXk6ICdjaGFyQl9tb3ZlJyxcclxuICAgICAgICAgICAgICAgIHN0YXJ0RnJhbWU6IDAsXHJcbiAgICAgICAgICAgICAgICBpZGxlTGVmdEFuaW06ICdjaGFyQl9pZGxlTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBpZGxlUmlnaHRBbmltOiAnY2hhckJfaWRsZVJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHJ1bkxlZnRBbmltOiAnY2hhckJfcnVuTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBydW5SaWdodEFuaW06ICdjaGFyQl9ydW5SaWdodCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wTGVmdEFuaW06ICdjaGFyQl9qdW1wTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wUmlnaHRBbmltOiAnY2hhckJfanVtcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVMZWZ0QW5pbTogJ2NoYXJCX3JlY2VpdmVMZWZ0JyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVSaWdodEFuaW06ICdjaGFyQl9yZWNlaXZlUmlnaHQnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGRpdmVydGlkbyB5IGFsZ28gZGlzdHJhw61kb1xyXG4gICAgICAgICAgICBjaGFyYWN0ZXJDOiB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0dXJlS2V5OiAnY2hhckNfbW92ZScsXHJcbiAgICAgICAgICAgICAgICBzdGFydEZyYW1lOiAwLFxyXG4gICAgICAgICAgICAgICAgaWRsZUxlZnRBbmltOiAnY2hhckNfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICAgICAgaWRsZVJpZ2h0QW5pbTogJ2NoYXJDX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgICAgICBydW5MZWZ0QW5pbTogJ2NoYXJDX3J1bkxlZnQnLFxyXG4gICAgICAgICAgICAgICAgcnVuUmlnaHRBbmltOiAnY2hhckNfcnVuUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAganVtcExlZnRBbmltOiAnY2hhckNfanVtcExlZnQnLFxyXG4gICAgICAgICAgICAgICAganVtcFJpZ2h0QW5pbTogJ2NoYXJDX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlTGVmdEFuaW06ICdjaGFyQ19yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlUmlnaHRBbmltOiAnY2hhckNfcmVjZWl2ZVJpZ2h0J1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gc2kgdmllbmUgdW4gdGlwbyBkZSBwZXJzb25hamUgaW52w6FsaWRvLCBzZSB1c2EgY2hhcmFjdGVyQSBwb3IgZGVmZWN0b1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gQ0hBUkFDVEVSX0NPTkZJR1tjaGFyYWN0ZXJUeXBlXSB8fCBDSEFSQUNURVJfQ09ORklHLmNoYXJhY3RlckE7XHJcblxyXG4gICAgICAgIC8vIHNlIGNyZWEgZWwgc3ByaXRlIGbDrXNpY28gZGVsIGp1Z2Fkb3JcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKFxyXG4gICAgICAgICAgICB4LFxyXG4gICAgICAgICAgICB5LFxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy50ZXh0dXJlS2V5LFxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5zdGFydEZyYW1lXHJcbiAgICAgICAgKTtcclxuICAgICAgICAvLyBzZSBoYWNlIHVuIHBvY28gbcOhcyBncmFuZGVcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSgyLjUpO1xyXG4gICAgICAgIC8vIHNlIGFqdXN0YSBsYSBoaXRib3ggYWwgbnVldm8gdGFtYcOxbyBwYXJhIGxhcyBjb2xpc2lvbmVzLCBzZSByZWR1Y2VuXHJcbiAgICAgICAgLy90aGlzLnNwcml0ZS5ib2R5LnNldFNpemUodGhpcy5zcHJpdGUud2lkdGgsIHRoaXMuc3ByaXRlLmhlaWdodCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRTaXplKHRoaXMuc3ByaXRlLndpZHRoICogMC45LCB0aGlzLnNwcml0ZS5oZWlnaHQgKiAwLjksIHRydWUpO1xyXG5cclxuICAgICAgICAvLyBzZSBndWFyZGEgdW5hIHJlZmVyZW5jaWEgaGFjaWEgUGxheWVyIGRlbnRybyBkZWwgcHJvcGlvIHNwcml0ZVxyXG4gICAgICAgIC8vIChlcyDDunRpbCBzaSBlbiBjb2xpc2lvbmVzIHNlIHF1aWVyZSBhY2NlZGVyIGEgbGEgbMOzZ2ljYSlcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREYXRhKCdwbGF5ZXInLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gcGFyYSBjb250cm9sYXIgZGlyZWNjacOzbiBhY3R1YWxcclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcblxyXG4gICAgICAgIC8vIGVzdGFkbyBzaW1wbGU6IGVuIGVsIGFpcmUgbyBub1xyXG4gICAgICAgIHRoaXMuaXNPbkdyb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGZsYWcgcGFyYSBzYWJlciBzaSBlc3TDoSBlbiBhbmltYWNpw7NuIGRlIHNhbHRvXHJcbiAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICAvLyB0aW1lc3RhbXAgcGFyYSBkZXRlY3RhciBzaSBpc0p1bXBpbmcgc2UgcXVlZGEgc3R1Y2sgKHRpbWVvdXQgZGUgMSBzZWd1bmRvKVxyXG4gICAgICAgIHRoaXMuanVtcFN0YXJ0VGltZSA9IDA7XHJcblxyXG4gICAgICAgIC8vIGN1YW5kbyBzZSB0ZXJtaW5lIGxhIGFuaW1hY2nDs24gZGUgcmVjaWJpciwgc2UgZGVqYSBkZSBcImVzdGFyIHJlY2liaWVuZG9cIlxyXG4gICAgICAgIHRoaXMuc3ByaXRlLm9uKCdhbmltYXRpb25jb21wbGV0ZScsIChhbmltKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbS5rZXkgPT09IHRoaXMuY29uZmlnLnJlY2VpdmVMZWZ0QW5pbSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGFuaW0ua2V5ID09PSB0aGlzLmNvbmZpZy5yZWNlaXZlUmlnaHRBbmltXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZWwgc2FsdG8gdGVybWluYSBzZWfDum4gbGEgZsOtc2ljYSArIHVwZGF0ZSgpLCBubyBwb3IgbGEgYW5pbWFjacOzbi5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEFuaW1hdGlvbiBjb21wbGV0ZSBoYW5kbGVyIGVycm9yIGZvciAke2FuaW0ua2V5fTpgLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGVscGVyIHBhcmEgdmVyaWZpY2FyIHNpIGVzdMOhIGVuIGVsIHN1ZWxvIGRlIGZvcm1hIGZpYWJsZVxyXG4gICAgaXNHcm91bmRlZCgpIHtcclxuICAgICAgICBjb25zdCBib2R5ID0gdGhpcy5zcHJpdGUuYm9keTtcclxuICAgICAgICBpZiAoIWJvZHkpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gYmxvY2tlZC5kb3duIOKGkiBjb2xpc2lvbmVzIGNvbiBsw61taXRlcyBkZWwgbXVuZG9cclxuICAgICAgICAvLyB0b3VjaGluZy5kb3duIOKGkiBjb2xpc2lvbmVzIGNvbiBvdHJvcyBjdWVycG9zXHJcbiAgICAgICAgcmV0dXJuIGJvZHkuYmxvY2tlZC5kb3duIHx8IGJvZHkudG91Y2hpbmcuZG93bjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb21wcnVlYmEgc2kgbG9zIHBpZXMgZGVsIGp1Z2Fkb3IgZXN0w6FuIGNlcmNhIGRlbCBzdWVsb1xyXG4gICAgaXNOZWFyR3JvdW5kKHRocmVzaG9sZCA9IDEyKSB7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMuc3ByaXRlLmJvZHk7XHJcbiAgICAgICAgaWYgKCFib2R5KSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNjZW5lLmdyb3VuZFkgIT09ICdudW1iZXInKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHBhcnRlIGluZmVyaW9yIGRlbCBib2R5IChubyBkZWwgc3ByaXRlIGVzY2FsYWRvKVxyXG4gICAgICAgIGNvbnN0IGZlZXRZID0gYm9keS55ICsgYm9keS5oZWlnaHQ7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGZlZXRZIC0gdGhpcy5zY2VuZS5ncm91bmRZKSA8PSB0aHJlc2hvbGQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8vLyBBTklNQUNJT05FUyAvLy8vXHJcbiAgICAvLyBNb3ZpbWllbnRvIGRlbCBwZXJzb25hamUgaGFjaWEgbGEgaXpxdWllcmRhXHJcbiAgICBtb3ZlTGVmdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCB8fCB0aGlzLmlzUmVjZWl2aW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgtdGhpcy5tb3ZlU3BlZWQpO1xyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gJ2xlZnQnO1xyXG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5ydW5MZWZ0QW5pbSk7XHJcbiAgICB9XHJcbiAgICAvLyBNb3ZpbWllbnRvIGRlbCBwZXJzb25hamUgaGFjaWEgbGEgZGVyZWNoYVxyXG4gICAgbW92ZVJpZ2h0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkIHx8IHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKHRoaXMubW92ZVNwZWVkKTtcclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLnJ1blJpZ2h0QW5pbSk7XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIC8vIFNhbHRvL3JlbWF0ZSBkZWwgcGVyc29uYWplIGhhY2lhIGxhIGl6cXVpZXJkYVxyXG4gICAganVtcExlZnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNHcm91bmRlZCgpIHx8IHRoaXMuaXNOZWFyR3JvdW5kKDIwKSkge1xyXG4gICAgICAgICAgICAvLyBwb3Igc2kgdW5hIHJlY2VwY2nDs24gc2UgcXVlZMOzIGEgbWVkaWFzLCBzZSBjYW5jZWxhXHJcbiAgICAgICAgICAgIHRoaXMuaXNSZWNlaXZpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5qdW1wU3RhcnRUaW1lID0gdGhpcy5zY2VuZS50aW1lLm5vdztcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlZKC10aGlzLmp1bXBTcGVlZCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcuanVtcExlZnRBbmltKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZT8ucGxheVNmeD8uKHRoaXMuc2NlbmU/LnNmeD8uanVtcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gU2FsdG8vcmVtYXRlIGRlbCBwZXJzb25hamUgaGFjaWEgbGEgZGVyZWNoYVxyXG4gICAganVtcFJpZ2h0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzR3JvdW5kZWQoKSB8fCB0aGlzLmlzTmVhckdyb3VuZCgyMCkpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmp1bXBTdGFydFRpbWUgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVkoLXRoaXMuanVtcFNwZWVkKTtcclxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSAncmlnaHQnO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcuanVtcFJpZ2h0QW5pbSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmU/LnBsYXlTZng/Lih0aGlzLnNjZW5lPy5zZng/Lmp1bXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWNlcGNpw7NuIGRlbCBwZXJzb25hamUgcG9yIGxhIGl6cXVpZXJkYVxyXG4gICAgcmVjZWl2ZUxlZnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy5pc1JlY2VpdmluZykgcmV0dXJuOyAvLyBubyBzZSByZWluaWNpYSBzaSB5YSBlc3TDoSByZWNpYmllbmRvIFxyXG5cclxuICAgICAgICAvLyBzaSBlc3TDoSB0b2NhbmRvIGVsIHN1ZWxvLCByZWNpYmUgbGEgcGVsb3RhXHJcbiAgICAgICAgaWYgKHRoaXMuaXNHcm91bmRlZCgpIHx8IHRoaXMuaXNOZWFyR3JvdW5kKDIwKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9ICdsZWZ0JztcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLnJlY2VpdmVMZWZ0QW5pbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gUmVjZXBjacOzbiBkZWwgcGVyc29uYWplIHBvciBsYSBkZXJlY2hhXHJcbiAgICByZWNlaXZlUmlnaHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy5pc1JlY2VpdmluZykgcmV0dXJuOyAvLyBubyBzZSByZWluaWNpYSBzaSB5YSBlc3TDoSByZWNpYmllbmRvIFxyXG5cclxuICAgICAgICAvLyBzaSBlc3TDoSB0b2NhbmRvIGVsIHN1ZWxvLCByZWNpYmUgbGEgcGVsb3RhXHJcbiAgICAgICAgaWYgKHRoaXMuaXNHcm91bmRlZCgpIHx8IHRoaXMuaXNOZWFyR3JvdW5kKDIwKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5yZWNlaXZlUmlnaHRBbmltKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUGVyc29uYWplIGlkbGUgaXpkYVxyXG4gICAgaWRsZUxlZnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gc2llbXByZSBkZXRlbmVyIGxhIHZlbG9jaWRhZCBob3Jpem9udGFsIGFsIGVudHJhciBlbiBpZGxlXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gJ2xlZnQnO1xyXG4gICAgICAgIC8vIHJlcHJvZHVjaXIgbGEgYW5pbWFjacOzbiBkZSBpZGxlXHJcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLmlkbGVMZWZ0QW5pbSk7XHJcbiAgICB9XHJcbiAgICAvLyBQZXJzb25hamUgaWRsZSBkY2hhXHJcbiAgICBpZGxlUmlnaHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gc2llbXByZSBkZXRlbmVyIGxhIHZlbG9jaWRhZCBob3Jpem9udGFsIGFsIGVudHJhciBlbiBpZGxlXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gJ3JpZ2h0JztcclxuICAgICAgICAvLyByZXByb2R1Y2lyIGxhIGFuaW1hY2nDs24gZGUgaWRsZVxyXG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5pZGxlUmlnaHRBbmltKTtcclxuICAgIH1cclxuICAgIC8vLy8vLy8vXHJcblxyXG4gICAgLy8gRXN0YWJsZWNlciBsb3MgbMOtbWl0ZXMgZGUgbW92aW1pZW50byBkZWwganVnYWRvciAocGFyYSBjb25maW5hciBhIGxhIGNhbmNoYSlcclxuICAgIHNldEJvdW5kcyhsZWZ0LCByaWdodCwgdG9wLCBib3R0b20pIHtcclxuICAgICAgICB0aGlzLmJvdW5kc0xlZnQgPSBsZWZ0O1xyXG4gICAgICAgIHRoaXMuYm91bmRzUmlnaHQgPSByaWdodDtcclxuICAgICAgICB0aGlzLmJvdW5kc1RvcCA9IHRvcDtcclxuICAgICAgICB0aGlzLmJvdW5kc0JvdHRvbSA9IGJvdHRvbTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNYW50ZW5lciBlbCBqdWdhZG9yIGRlbnRybyBkZSBsb3MgbMOtbWl0ZXNcclxuICAgIGNsYW1wV2l0aGluQm91bmRzKCkge1xyXG4gICAgICAgIGNvbnN0IGhhbGZXaWR0aCA9IHRoaXMuc3ByaXRlLndpZHRoIC8gMjtcclxuICAgICAgICAvLyBsaW1pdGFyIHBvc2ljacOzbiBob3Jpem9udGFsIChYKVxyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS54IC0gaGFsZldpZHRoIDwgdGhpcy5ib3VuZHNMZWZ0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnggPSB0aGlzLmJvdW5kc0xlZnQgKyBoYWxmV2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLnggKyBoYWxmV2lkdGggPiB0aGlzLmJvdW5kc1JpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnggPSB0aGlzLmJvdW5kc1JpZ2h0IC0gaGFsZldpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE1vdmVyIGVsIGp1Z2Fkb3IgYSB1bmEgcG9zaWNpw7NuIGNvbmNyZXRhICh5IGRldGVuZXJsbylcclxuICAgIC8vIChzZSBsbGFtYSBhbCBjYW1iaWFyIGRlIHNldHMpXHJcbiAgICBzZXRQb3NpdGlvbih4LCB5KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNwcml0ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRQb3NpdGlvbih4LCB5KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTsgLy8gcG9yIHNpIHZlbsOtYSBjb24gdmVsb2NpZGFkXHJcblxyXG4gICAgICAgIC8vIGFjdHVhbGl6YXIgdGFtYmnDqW4gbGEgcG9zaWNpw7NuIGRlbCB0ZXh0byB4Mi94M1xyXG4gICAgICAgIHRoaXMudXBkYXRlTXVsdGlwbGllclRleHRQb3NpdGlvbigpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB1cGRhdGVNdWx0aXBsaWVyVGV4dFBvc2l0aW9uKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tdWx0aXBsaWVyVGV4dCB8fCAhdGhpcy5zcHJpdGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gYWx0dXJhIOKAnHZpc3VhbOKAnSBkZWwgc3ByaXRlIHBhcmEgY29sb2NhciBlbCB0ZXh0byBlbmNpbWEgZGUgbGEgY2FiZXphXHJcbiAgICAgICAgY29uc3QgZGlzcGxheUggPSB0aGlzLnNwcml0ZS5kaXNwbGF5SGVpZ2h0IHx8IHRoaXMuc3ByaXRlLmhlaWdodCB8fCA0MDtcclxuICAgICAgICBjb25zdCBvZmZzZXRZID0gZGlzcGxheUggKiAwLjY7IC8vIGFqdXN0YSBzaSBxdWllcmVzIG3DoXMgYXJyaWJhL2FiYWpvXHJcblxyXG4gICAgICAgIHRoaXMubXVsdGlwbGllclRleHQuc2V0UG9zaXRpb24oXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLngsXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnkgLSBvZmZzZXRZXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXByb2R1Y2UgdW5hIGFuaW1hY2nDs24gc2kgZXhpc3RlIChzb2xvIHNpIG5vIGVzdMOhIHlhIHJlcHJvZHVjacOpbmRvc2UpXHJcbiAgICBwbGF5QW5pbWF0aW9uKGFuaW1LZXkpIHtcclxuICAgICAgICBpZiAoIWFuaW1LZXkpIHJldHVybjtcclxuICAgICAgICBpZiAoIXRoaXMuc3ByaXRlLmFuaW1zKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIHNpIGVzdGFtb3MgZW4gc2FsdG8sIGlnbm9yYXIgY3VhbHF1aWVyIGFuaW1hY2nDs24gcXVlIG5vIHNlYSBkZSBzYWx0b1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgJiZcclxuICAgICAgICAgICAgYW5pbUtleSAhPT0gdGhpcy5jb25maWcuanVtcExlZnRBbmltICYmXHJcbiAgICAgICAgICAgIGFuaW1LZXkgIT09IHRoaXMuY29uZmlnLmp1bXBSaWdodEFuaW1cclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY3VycmVudEFuaW0gPSB0aGlzLnNwcml0ZS5hbmltcy5jdXJyZW50QW5pbTtcclxuICAgICAgICBpZiAodGhpcy5zcHJpdGUuYW5pbXMuaXNQbGF5aW5nICYmIGN1cnJlbnRBbmltICYmIGN1cnJlbnRBbmltLmtleSA9PT0gYW5pbUtleSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5wbGF5KGFuaW1LZXksIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdHVhbGl6YXIgZmxhZ3MgY29tbyBpc09uR3JvdW5kIChzZSBsbGFtYSBhIGVzdG8gZGVzZGUgbGEgZXNjZW5hLCBlbiBjYWRhIGZyYW1lKVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS5ib2R5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHdhc09uR3JvdW5kID0gdGhpcy5pc09uR3JvdW5kO1xyXG4gICAgICAgICAgICB0aGlzLmlzT25Hcm91bmQgPSB0aGlzLmlzR3JvdW5kZWQoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBbmltID0gdGhpcy5zcHJpdGUuYW5pbXMuY3VycmVudEFuaW07XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRLZXkgPSBjdXJyZW50QW5pbSA/IGN1cnJlbnRBbmltLmtleSA6IG51bGw7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApOyAvLyBwb3Igc2kgYWNhc29cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gZmFpbHNhZmUgcmVjZXBjacOzbjogc2kgZWwgZmxhZyBkaWNlIFwicmVjaWJpZW5kb1wiIHBlcm8gbGEgYW5pbWFjacOzbiBubyBsbyBlc1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50S2V5ICE9PSB0aGlzLmNvbmZpZy5yZWNlaXZlTGVmdEFuaW0gJiZcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRLZXkgIT09IHRoaXMuY29uZmlnLnJlY2VpdmVSaWdodEFuaW1cclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGZhaWxzYWZlIHNhbHRvOiBzaSBpc0p1bXBpbmcgZXMgdHJ1ZSBwZXJvIGxhIGFuaW1hY2nDs24gYWN0dWFsIE5PIGVzIGRlIHNhbHRvXHJcbiAgICAgICAgICAgIC8vICh5IGhheSBhbmltYWNpw7NuKSwgc2UgYXN1bWUgcXVlIHRlcm1pbsOzXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50S2V5ICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50S2V5ICE9PSB0aGlzLmNvbmZpZy5qdW1wTGVmdEFuaW0gJiZcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRLZXkgIT09IHRoaXMuY29uZmlnLmp1bXBSaWdodEFuaW1cclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB0aW1lb3V0IGRlIHNhbHRvIHBvciBzZWd1cmlkYWRcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNKdW1waW5nICYmICh0aGlzLnNjZW5lLnRpbWUubm93IC0gdGhpcy5qdW1wU3RhcnRUaW1lID4gMTUwMCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGF0ZXJyaXphamUgcmVhbFxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0p1bXBpbmcgJiYgIXdhc09uR3JvdW5kICYmIHRoaXMuaXNPbkdyb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZGxlTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkbGVSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2xhbXBXaXRoaW5Cb3VuZHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVNdWx0aXBsaWVyVGV4dFBvc2l0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXNvIGRlIGxvcyBwb3dlci11cHNcclxuICAgIGFwcGx5UG93ZXJVcCh0eXBlKSB7XHJcbiAgICAgICAgLy8gaW52ZW50YXJpbyBtw6F4aW1vIGRlIDJcclxuICAgICAgICBpZiAodGhpcy5wb3dlclVwSW52ZW50b3J5Lmxlbmd0aCA+PSAyKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMucG93ZXJVcEludmVudG9yeS5wdXNoKHR5cGUpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHVzZU5leHRQb3dlclVwKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBvd2VyVXBJbnZlbnRvcnkubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLnBvd2VyVXBJbnZlbnRvcnkuc2hpZnQoKTtcclxuICAgICAgICB0aGlzLmFjdGl2YXRlUG93ZXJVcCh0eXBlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3RpdmEgZWwgZWZlY3RvIGRlbCBwb3dlci11cFxyXG4gICAgYWN0aXZhdGVQb3dlclVwKHR5cGUpIHtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAndmVsb2NpZGFkJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlPclJlZnJlc2hUaW1lZEVmZmVjdCgndmVsb2NpZGFkJywgUE9XRVJVUF9EVVJBVElPTl9NUy52ZWxvY2lkYWQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3JhbGVudGl6YXInOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcHBvbmVudCA9IHRoaXMuZ2V0T3Bwb25lbnQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChvcHBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wcG9uZW50LmFwcGx5T3JSZWZyZXNoVGltZWRFZmZlY3QoJ3JhbGVudGl6YXInLCBQT1dFUlVQX0RVUkFUSU9OX01TLnJhbGVudGl6YXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSAncGFyYWxpemFyJzoge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3Bwb25lbnQgPSB0aGlzLmdldE9wcG9uZW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAob3Bwb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHBvbmVudC5hcHBseU9yUmVmcmVzaFRpbWVkRWZmZWN0KCdwYXJhbGl6YXInLCBQT1dFUlVQX0RVUkFUSU9OX01TLnBhcmFsaXphcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlICdwb3IyJzpcclxuICAgICAgICAgICAgY2FzZSAncG9yMyc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5T3JSZWZyZXNoVGltZWRFZmZlY3QodHlwZSwgUE9XRVJVUF9EVVJBVElPTl9NU1t0eXBlXSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWN0dWFsaXphIGxvcyBwb3dlci11cHNcclxuICAgIHVwZGF0ZVBvd2VyVXBzKCkge1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcblxyXG4gICAgICAgIGxldCBzcGVlZE5lZWRzUmVjYWxjID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IHNjb3JlTmVlZHNSZWNhbGMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gc2UgcmV2aXNhbiB0b2RvcyBsb3MgcG93ZXItdXBzIGFjdGl2b3NcclxuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgaW4gdGhpcy5hY3RpdmVQb3dlclVwcykge1xyXG4gICAgICAgICAgICBpZiAobm93IDw9IHRoaXMuYWN0aXZlUG93ZXJVcHNbdHlwZV0pIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYWN0aXZlUG93ZXJVcHNbdHlwZV07XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3ZlbG9jaWRhZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTcGVlZEVmZmVjdChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BlZWROZWVkc1JlY2FsYyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyYWxlbnRpemFyJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNsb3dFZmZlY3QoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkTmVlZHNSZWNhbGMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncGFyYWxpemFyJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFBhcmFseXplZChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdwb3IyJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3BvcjMnOlxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3JlTmVlZHNSZWNhbGMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc3BlZWROZWVkc1JlY2FsYykgdGhpcy5yZWNhbGN1bGF0ZU1vdmVTcGVlZCgpO1xyXG4gICAgICAgIGlmIChzY29yZU5lZWRzUmVjYWxjKSB0aGlzLnJlY2FsY3VsYXRlU2NvcmVFZmZlY3QoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8vLyBFRkVDVE9TIFZJU1VBTEVTIERFIExPUyBQT1dFUi1VUFMgLy8vL1xyXG4gICAgc2V0UGFyYWx5emVkKGlzUGFyYWx5emVkKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhcmFseXplZCA9IGlzUGFyYWx5emVkO1xyXG5cclxuICAgICAgICBpZiAoaXNQYXJhbHl6ZWQpIHtcclxuICAgICAgICAgICAgLy8gZmVlZGJhY2sgdmlzdWFsOiByb2pvICsgcGFycGFkZW9cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VGludCgweGZmNTU1NSk7ICAgLy8gcm9qaXpvXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgLy8gcG9yIHNpIHlhIGhhYsOtYSB1biB0d2VlbiBhbnRlcmlvclxyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbHlzaXNUd2Vlbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2Vlbi5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFseXNpc1R3ZWVuID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2VlbiA9IHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRzOiB0aGlzLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIGFscGhhOiAwLjMsXHJcbiAgICAgICAgICAgICAgICB5b3lvOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMCxcclxuICAgICAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBzZWd1cmlkYWQgZXh0cmE6IHF1ZSBzZSBxdWVkZSBxdWlldG8gaG9yaXpvbnRhbG1lbnRlXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gcXVpdGFyIHNvbG8gZWwgZWZlY3RvIGRlIHBhcnBhZGVvLCBlbCBjb2xvciBzZSByZWNhbGN1bGFcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbHlzaXNUd2Vlbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2Vlbi5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFseXNpc1R3ZWVuID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVm9sdmVtb3MgYSBhcGxpY2FyIGVsIGNvbG9yIGRlIG90cm9zIHBvd2VyLXVwcyBhY3Rpdm9zIChzaSBsb3MgaGF5KVxyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hQb3dlclVwVmlzdWFscygpO1xyXG4gICAgICAgIH1cclxuICAgIH0gICAgXHJcblxyXG4gICAgLy8gdmVsb2NpZGFkIC0+IGNpYW4vdmVyZGVcclxuICAgIHNldFNwZWVkRWZmZWN0KGFjdGl2ZSkge1xyXG4gICAgICAgIHRoaXMuc3BlZWRFZmZlY3RBY3RpdmUgPSBhY3RpdmU7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoUG93ZXJVcFZpc3VhbHMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByYWxlbnRpemFyIC0+IGF6dWxcclxuICAgIHNldFNsb3dFZmZlY3QoYWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5zbG93RWZmZWN0QWN0aXZlID0gYWN0aXZlO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFBvd2VyVXBWaXN1YWxzKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFJlY2FsY3VsYSBsYSB2ZWxvY2lkYWQgZGUgbW92aW1pZW50byBzZWfDum4gbG9zIHBvd2VyLXVwcyBxdWUgZXN0w6luIGFjdGl2b3NcclxuICAgIHJlY2FsY3VsYXRlTW92ZVNwZWVkKCkge1xyXG4gICAgICAgIGxldCBtdWx0ID0gMTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlUG93ZXJVcHMudmVsb2NpZGFkKSBtdWx0ICo9IFNQRUVEX01VTFQudmVsb2NpZGFkO1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVBvd2VyVXBzLnJhbGVudGl6YXIpIG11bHQgKj0gU1BFRURfTVVMVC5yYWxlbnRpemFyO1xyXG5cclxuICAgICAgICB0aGlzLm1vdmVTcGVlZCA9IHRoaXMuYmFzZU1vdmVTcGVlZCAqIG11bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVjYWxjdWxhIGVsIG11bHRpcGxpY2Fkb3IgZGUgcHVudHVhY2nDs24gZW4gZnVuY2nDs24gZGUgcG9yMi9wb3IzIGFjdGl2b3NcclxuICAgIHJlY2FsY3VsYXRlU2NvcmVFZmZlY3QoKSB7XHJcbiAgICAgICAgbGV0IG11bHRpcGxpZXIgPSAxO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5hY3RpdmVQb3dlclVwc1sncG9yMiddKSB7XHJcbiAgICAgICAgICAgIG11bHRpcGxpZXIgPSBNYXRoLm1heChtdWx0aXBsaWVyLCAyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlUG93ZXJVcHNbJ3BvcjMnXSkge1xyXG4gICAgICAgICAgICBtdWx0aXBsaWVyID0gTWF0aC5tYXgobXVsdGlwbGllciwgMyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNjb3JlTXVsdGlwbGllciA9IG11bHRpcGxpZXI7XHJcblxyXG4gICAgICAgIC8vIGZlZWRiYWNrIHZpc3VhbCBjb24gdGV4dG8geDIgLyB4M1xyXG4gICAgICAgIGlmICh0aGlzLm11bHRpcGxpZXJUZXh0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjb3JlTXVsdGlwbGllciA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlwbGllclRleHQuc2V0VGV4dCgneCcgKyB0aGlzLnNjb3JlTXVsdGlwbGllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpcGxpZXJUZXh0LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpcGxpZXJUZXh0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBtYW50ZW5lciBsb3MgY29sb3JlcyBxdWUgeWEgc2UgdGVuw61hblxyXG4gICAgICAgIHRoaXMucmVmcmVzaFBvd2VyVXBWaXN1YWxzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXBsaWNhIG8gYWN0dWFsaXphIGxhIGR1cmFjacOzbiBkZSB1biBwb3dlci11cFxyXG4gICAgYXBwbHlPclJlZnJlc2hUaW1lZEVmZmVjdCh0eXBlLCBkdXJhdGlvbk1zKSB7XHJcbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5zY2VuZS50aW1lLm5vdztcclxuICAgICAgICB0aGlzLmFjdGl2ZVBvd2VyVXBzW3R5cGVdID0gbm93ICsgZHVyYXRpb25NcztcclxuXHJcbiAgICAgICAgLy8gc2UgYWN0aXZhIGVsIGZlZWRiYWNrL2VzdGFkb1xyXG4gICAgICAgIGlmICh0eXBlID09PSAndmVsb2NpZGFkJykgdGhpcy5zZXRTcGVlZEVmZmVjdCh0cnVlKTtcclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3JhbGVudGl6YXInKSB0aGlzLnNldFNsb3dFZmZlY3QodHJ1ZSk7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdwYXJhbGl6YXInKSB0aGlzLnNldFBhcmFseXplZCh0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gc2UgcmVjYWxjdWxhbiBsb3MgZWZlY3RvcyBzaSBlcyBuZWNlc2FyaW9cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3ZlbG9jaWRhZCcgfHwgdHlwZSA9PT0gJ3JhbGVudGl6YXInKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjYWxjdWxhdGVNb3ZlU3BlZWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdwb3IyJyB8fCB0eXBlID09PSAncG9yMycpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWNhbGN1bGF0ZVNjb3JlRWZmZWN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIERlY2lkZSBxdcOpIHRpbnRlIG1vc3RyYXIgc2Vnw7puIGVsIGVzdGFkbyBhY3R1YWxcclxuICAgIHJlZnJlc2hQb3dlclVwVmlzdWFscygpIHtcclxuICAgICAgICAvLyBzaSBlc3TDoSBwYXJhbGl6YWRvLCBsYSBwYXLDoWxpc2lzIG1hbmRhIChjb2xvciAgcm9qbyArIHBhcnBhZGVvKVxyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBoYXNlciBzb2xvIHBlcm1pdGUgdW4gY29sb3IvdGludCBhIGxhIHZleiBwb3Igc3ByaXRlLCBwb3IgZXNvIGxhXHJcbiAgICAgICAgLy8gcHJpb3JpZGFkIHZpc3VhbCBlczogcmFsZW50aXphZG8gPiB2ZWxvY2lkYWQgPiBtdWx0aXBsaWNhZG9yXHJcbiAgICAgICAgaWYgKHRoaXMuc2xvd0VmZmVjdEFjdGl2ZSkge1xyXG4gICAgICAgICAgICAvLyBhenVsIG9zY3VybyBwYXJhIFwicGVzYWRvIC8gbGVudG9cIlxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4NTU1NWZmKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3BlZWRFZmZlY3RBY3RpdmUpIHtcclxuICAgICAgICAgICAgLy8gY2lhbi92ZXJkZSBwYXJhIFwicsOhcGlkb1wiXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHg1NWZmZGQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zY29yZU11bHRpcGxpZXIgPiAxKSB7XHJcbiAgICAgICAgICAgIC8vIGRvcmFkbyBwYXJhIFwieDIgLyB4MyBwdW50b3NcIlxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4ZmZkZDU1KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBzaW4gZWZlY3Rvc1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5jbGVhclRpbnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLy8vLy8vXHJcblxyXG4gICAgZ2V0T3Bwb25lbnQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNjZW5lLnBsYXllcnMpIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuc2NlbmUucGxheWVycy52YWx1ZXMoKSkuZmluZChwID0+IHAgIT09IHRoaXMpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBBcHBseVBvd2VyVXBDb21tYW5kIHtcclxuICAgIGNvbnN0cnVjdG9yKHBsYXllciwgcG93ZXJVcFR5cGUpIHtcclxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcclxuICAgICAgICB0aGlzLnBvd2VyVXBUeXBlID0gcG93ZXJVcFR5cGU7XHJcbiAgICAgICAgdGhpcy5zdG9yZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCkge1xyXG4gICAgICAgIHRoaXMuc3RvcmVkID0gdGhpcy5wbGF5ZXIuYXBwbHlQb3dlclVwKHRoaXMucG93ZXJVcFR5cGUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlZDtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBBcHBseVBvd2VyVXBDb21tYW5kIH0gZnJvbSBcIi4uL0NvbW1hbmRzL0FwcGx5UG93ZXJVcENvbW1hbmRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3dlclVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5LCB0eXBlKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcblxyXG4gICAgICAgIHRoaXMuaXNDb2xsZWN0ZWQgPSBmYWxzZTsgICAvLyBwYXJhIGV2aXRhciByZWNvZ2VyIHZhcmlhcyB2ZWNlc1xyXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlOyAgICAvLyBwYXJhIGV2aXRhciBkZXN0cnVpciB2YXJpYXMgdmVjZXNcclxuICAgICAgICB0aGlzLl9jb29sZG93blVudGlsID0gMDsgICAgLy8gdGllbXBvIGhhc3RhIGVsIHF1ZSBubyBzZSBwdWVkZSByZWNvZ2VyXHJcblxyXG4gICAgICAgIHRoaXMuZmFkZVN0YXJ0ID0gMzAwMDsgICAgICAvLyBtcyBoYXN0YSBlbXBlemFyIGEgZGVzdmFuZWNlcnNlXHJcbiAgICAgICAgdGhpcy5saWZldGltZSA9IDUwMDA7ICAgICAgIC8vIG1zIGRlIHZpZGEgdG90YWxcclxuXHJcbiAgICAgICAgdGhpcy5fb3ZlcmxhcHMgPSBbXTsgICAgICAgIC8vIGNvbGxpZGVycyBvdmVybGFwc1xyXG4gICAgICAgIHRoaXMuZmFkZVR3ZWVuID0gbnVsbDsgICAgICAvLyB0d2VlbiBkZSBmYWRlXHJcbiAgICAgICAgdGhpcy5fbGlmZXRpbWVUaW1lciA9IG51bGw7IC8vIHRpbWVyIGRlIHZpZGFcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBzY2VuZS5waHlzaWNzLmFkZC5zdGF0aWNJbWFnZSh4LCB5LCB0eXBlKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMS4yKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICAgICAgLy8gc2UgYWN0dWFsaXphIGVsIGJvZHkgdHJhcyBlbCBlc2NhbGFkb1xyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS5yZWZyZXNoQm9keSkgdGhpcy5zcHJpdGUucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy8gc2UgZ3VhcmRhIGVsIHR3ZWVuIHBhcmEgcG9kZXIgcGFyYXJsbyBlbiBkZXN0cm95XHJcbiAgICAgICAgY29uc3QgZmFkZURlbGF5ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odGhpcy5mYWRlU3RhcnQsIHRoaXMubGlmZXRpbWUpKTtcclxuICAgICAgICBjb25zdCBmYWRlRHVyYXRpb24gPSBNYXRoLm1heCgwLCB0aGlzLmxpZmV0aW1lIC0gZmFkZURlbGF5KTtcclxuXHJcbiAgICAgICAgaWYgKGZhZGVEdXJhdGlvbiA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5mYWRlVHdlZW4gPSBzY2VuZS50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgYWxwaGE6IDAsXHJcbiAgICAgICAgICAgICAgICBkZWxheTogZmFkZURlbGF5LFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGZhZGVEdXJhdGlvblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIG92ZXJsYXBzIGNvbiBsb3MganVnYWRvcmVzXHJcbiAgICAgICAgY29uc3QgcGxheWVycyA9IHNjZW5lLnBsYXllcnM7XHJcbiAgICAgICAgaWYgKHBsYXllcnMgJiYgdHlwZW9mIHBsYXllcnMuZm9yRWFjaCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBwbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghcGxheWVyPy5zcHJpdGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gc2NlbmUucGh5c2ljcy5hZGQub3ZlcmxhcChcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHRoaXMuY29sbGVjdChwbGF5ZXIpLFxyXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX292ZXJsYXBzLnB1c2goYyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdGltZXIgZGUgdmlkYVxyXG4gICAgICAgIHRoaXMuX2xpZmV0aW1lVGltZXIgPSBzY2VuZS50aW1lLmRlbGF5ZWRDYWxsKHRoaXMubGlmZXRpbWUsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVjb2dlIGVsIHBvd2VyLXVwXHJcbiAgICBjb2xsZWN0KHBsYXllcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbUG93ZXJVcF0gb3ZlcmxhcCBjb24nLCBwbGF5ZXIuaWQsICd0aXBvJywgdGhpcy50eXBlKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLmlzQ29sbGVjdGVkKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIHNpIGVsIGludmVudGFyaW8gZXN0w6EgbGxlbm8geSBlbCBqdWdhZG9yIHNlIHF1ZWRhIGVuY2ltYSwgc2UgZXZpdGEgZWwgc3BhbVxyXG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Nvb2xkb3duVW50aWwgJiYgbm93IDwgdGhpcy5fY29vbGRvd25VbnRpbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLmlzQ29sbGVjdGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgY29uc3QgY21kID0gbmV3IEFwcGx5UG93ZXJVcENvbW1hbmQocGxheWVyLCB0aGlzLnR5cGUpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuY29tbWFuZFByb2Nlc3Nvci5wcm9jZXNzKGNtZCk7XHJcblxyXG4gICAgICAgIC8vIHNpIE5PIHNlIHB1ZWRlIGd1YXJkYXIgcG9ycXVlIGVsIGludmVudGFyaW8gZXN0w6EgbGxlbm8sIE5PIHNlIGRlc3RydXllXHJcbiAgICAgICAgaWYgKCFjbWQuc3RvcmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNDb2xsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5fY29vbGRvd25VbnRpbCA9IG5vdyArIDMwMDtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS51cGRhdGVQbGF5ZXJJbnZlbnRvcnlVST8uKHBsYXllcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGVzdHJ1eWUgZWwgcG93ZXItdXBcclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIGNvbGxpZGVycyBvdmVybGFwc1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX292ZXJsYXBzKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9vdmVybGFwcy5mb3JFYWNoKGMgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHsgYy5kZXN0cm95KCk7IH0gY2F0Y2gge31cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuX292ZXJsYXBzID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyB0d2VlblxyXG4gICAgICAgIGlmICh0aGlzLmZhZGVUd2Vlbikge1xyXG4gICAgICAgICAgICB0cnkgeyB0aGlzLmZhZGVUd2Vlbi5zdG9wKCk7IH0gY2F0Y2gge31cclxuICAgICAgICAgICAgdGhpcy5mYWRlVHdlZW4gPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdGltZXJcclxuICAgICAgICBpZiAodGhpcy5fbGlmZXRpbWVUaW1lcikge1xyXG4gICAgICAgICAgICB0aGlzLl9saWZldGltZVRpbWVyLnJlbW92ZShmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpZmV0aW1lVGltZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gc3ByaXRlXHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlKSB7XHJcbiAgICAgICAgICAgIHRyeSB7IHRoaXMuc3ByaXRlLmRlc3Ryb3koKTsgfSBjYXRjaCB7fVxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBmaW5hbG1lbnRlLCBzZSBxdWl0YSBkZWwgYXJyYXlcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnNjZW5lLnBvd2VyVXBzKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBvd2VyVXBzID0gdGhpcy5zY2VuZS5wb3dlclVwcy5maWx0ZXIocCA9PiBwICE9PSB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEJhbGwge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHkpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IgPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnYmFsbCcpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKDEuMCk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0Qm91bmNlKDAuOCk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERhdGEoJ2JhbGwnLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gc2VndWltaWVudG8gZGVsIGVzdGFkbyBkZWwgcmFsbHlcclxuICAgICAgICB0aGlzLmxhc3RUb3VjaGVkQnkgPSBudWxsOyAgICAgIC8vIGlkIGRlbCBqdWdhZG9yICgncGxheWVyMScgbyAncGxheWVyMicpXHJcbiAgICAgICAgdGhpcy50b3VjaENvdW50ID0gMDsgICAgICAgICAgICAvLyB0b3F1ZXMgZW4gZWwgcmFsbHkgYWN0dWFsIHBvciBsYWRvIGRlIGxhIGNhbmNoYVxyXG4gICAgICAgIHRoaXMuY291cnRTaWRlID0gJ2xlZnQnOyAgICAgICAgLy8gbGFkbyBkZSBsYSBjYW5jaGEgZG9uZGUgZXN0w6EgbGEgcGVsb3RhXHJcbiAgICAgICAgdGhpcy5pc0JhbGxMaXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gcG9zaWNpw7NuIGRlIGxhIHJlZCAoaGFyZGNvZGVhZG8gcGFyYSBhbmNobyBkZSA5NjBweClcclxuICAgICAgICB0aGlzLm5ldFggPSA0ODA7XHJcblxyXG4gICAgICAgIC8vIHBhcmEgZXZpdGFyIHRvcXVlcyBtw7psdGlwbGVzIHBvciBlc3RhciBwZWdhZGEgeSBxdWUgXCJkZXNhcGFyZXpjYVwiXHJcbiAgICAgICAgdGhpcy5sYXN0SGl0VGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5sYXN0SGl0UGxheWVySWQgPSBudWxsO1xyXG5cdFx0XHJcbiAgICAgICAgLy90aGlzLmlzRmlyc3RTZXJ2ZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2UgbGxhbWEgY3VhbmRvIHVuIGp1Z2Fkb3IgZ29scGVhIGxhIHBlbG90YVxyXG4gICAgaGl0KHBsYXllciwgcGxheWVyRmFjaW5nRGlyZWN0aW9uLCBpc0p1bXBpbmcsIGlzUmVjZWl2aW5nID0gZmFsc2UpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBub3cgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG5cclxuICAgICAgICAvLyBzaSBlcyBlbCBtaXNtbyBqdWdhZG9yIHkgaGEgcGFzYWRvIG11eSBwb2NvIHRpZW1wbyxcclxuICAgICAgICAvLyBpZ25vcmFtb3MgZXNlIFwidG9xdWVcIiBwYXJhIG5vIHN1bWFyIG3DoXMgZ29scGVzXHJcbiAgICAgICAgaWYgKHRoaXMubGFzdEhpdFBsYXllcklkID09PSBwbGF5ZXIuaWQgJiYgKG5vdyAtIHRoaXMubGFzdEhpdFRpbWUpIDwgMTIwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdHJhbW9zIGVzdGUgbnVldm8gZ29scGUgdsOhbGlkb1xyXG4gICAgICAgIHRoaXMubGFzdEhpdFBsYXllcklkID0gcGxheWVyLmlkO1xyXG4gICAgICAgIHRoaXMubGFzdEhpdFRpbWUgPSBub3c7XHJcblxyXG4gICAgICAgIC8vIHNlIGluY3JlbWVudGEgZWwgY29udGFkb3IgZGUgdG9xdWVzIHNpIGVsIG1pc21vIGp1Z2Fkb3IgY29udGluw7phLCBzZSByZWluaWNpYSBzaSBlcyBlbCBvdHJvXHJcbiAgICAgICAgaWYgKHRoaXMubGFzdFRvdWNoZWRCeSA9PT0gcGxheWVyLmlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG91Y2hDb3VudCsrO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudG91Y2hDb3VudCA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdFRvdWNoZWRCeSA9IHBsYXllci5pZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudG91Y2hDb3VudCA+IDMpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkZhbHRhKCd0b3F1ZUV4Y2VkaWRvJywgcGxheWVyKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzZSByZXByb2R1Y2UgZWwgZWZlY3RvIGRlIHNvbmlkbyBzZWfDum4gZWwgdGlwbyBkZSBnb2xwZVxyXG4gICAgICAgIGlmIChpc1JlY2VpdmluZykge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lPy5wbGF5U2Z4Py4odGhpcy5zY2VuZT8uc2Z4Py5yZWNlaXZlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzSnVtcGluZykge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lPy5wbGF5U2Z4Py4odGhpcy5zY2VuZT8uc2Z4Py5zcGlrZSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8gc2UgY2FsY3VsYSB2ZWxvY2lkYWQgZGUgbGEgcGVsb3RhIHNlZ8O6biBsYSBkaXJlY2Npw7NuIGRlbCBqdWdhZG9yIHkgc2kgZXN0w6Egc2FsdGFuZG8vcmVjaWJpZW5kb1xyXG4gICAgICAgIGxldCB2ZWxvY2l0eVgsIHZlbG9jaXR5WTtcclxuXHJcbiAgICAgICAgaWYgKGlzUmVjZWl2aW5nKSB7XHJcbiAgICAgICAgICAgIC8vIHJlY2VwY2nDs246IHBhcsOhYm9sYSBsYXJnYSB5IGFuY2hhICh0cmF5ZWN0b3JpYSBkZWZlbnNpdmEpXHJcbiAgICAgICAgICAgIC8vIG1lbm9yIHZlbG9jaWRhZCBob3Jpem9udGFsLCBtYXlvciB2ZWxvY2lkYWQgdmVydGljYWwgcGFyYSBlbCBhcmNvXHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2VTcGVlZFggPSAxNjA7XHJcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsU3RyZW5ndGggPSAtMzEwOyAvLyBjb21wb25lbnRlIHZlcnRpY2FsIG1heW9yIHBhcmEgZWwgYXJjb1xyXG5cclxuICAgICAgICAgICAgaWYgKHBsYXllckZhY2luZ0RpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSAtYmFzZVNwZWVkWDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5WCA9IGJhc2VTcGVlZFg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmVsb2NpdHlZID0gdmVydGljYWxTdHJlbmd0aDtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzSnVtcGluZykge1xyXG4gICAgICAgICAgICAvLyBzYWx0by9hdGFxdWU6IGhvcml6b250YWwgZnVlcnRlLCB2ZXJ0aWNhbCBkw6liaWwgKHJlbWF0ZS9zbWFzaClcclxuICAgICAgICAgICAgLy8gYWx0YSB2ZWxvY2lkYWQgaG9yaXpvbnRhbCwgYmFqYSB2ZWxvY2lkYWQgdmVydGljYWwgcGFyYSB0cmF5ZWN0b3JpYSBwbGFuYVxyXG4gICAgICAgICAgICBjb25zdCBiYXNlU3BlZWRYID0gMTkwO1xyXG4gICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbFN0cmVuZ3RoID0gLTE0MDsgLy8gY29tcG9uZW50ZSB2ZXJ0aWNhbCBiYWpvIHBhcmEgYXRhcXVlIHBsYW5vXHJcblxyXG4gICAgICAgICAgICBpZiAocGxheWVyRmFjaW5nRGlyZWN0aW9uID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5WCA9IC1iYXNlU3BlZWRYO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlYID0gYmFzZVNwZWVkWDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2ZWxvY2l0eVkgPSB2ZXJ0aWNhbFN0cmVuZ3RoO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGdvbHBlIHJlZ3VsYXIgZGVzZGUgZWwgc3VlbG9cclxuICAgICAgICAgICAgY29uc3QgYmFzZVNwZWVkWCA9IDE4MDtcclxuXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXJGYWNpbmdEaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlYID0gLWJhc2VTcGVlZFg7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSBiYXNlU3BlZWRYO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZlbG9jaXR5WSA9IC0xMDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eSh2ZWxvY2l0eVgsIHZlbG9jaXR5WSk7XHJcblxyXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YXIgZWwgbGFkbyBkZSBsYSBjYW5jaGEgc2Vnw7puIGxhIGRpcmVjY2nDs24gZGUgbGEgdmVsb2NpZGFkXHJcbiAgICAgICAgaWYgKHZlbG9jaXR5WCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAncmlnaHQnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodmVsb2NpdHlYIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvdXJ0U2lkZSA9ICdsZWZ0JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2UgbGxhbWEgY3VhbmRvIGxhIHBlbG90YSBjcnV6YSBsYSByZWRcclxuICAgIGNyb3NzTmV0KCkge1xyXG4gICAgICAgIC8vIHNlIHJlaW5pY2lhIGVsIGNvbnRhZG9yIGRlIHRvcXVlcyBwYXJhIGVsIG51ZXZvIGxhZG8gZGUgY2FuY2hhXHJcbiAgICAgICAgdGhpcy50b3VjaENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLmxhc3RUb3VjaGVkQnkgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBzZSBjYW1iaWEgZGUgbGFkbyBkZSBjYW5jaGFcclxuICAgICAgICB0aGlzLmNvdXJ0U2lkZSA9IHRoaXMuY291cnRTaWRlID09PSAnbGVmdCcgPyAncmlnaHQnIDogJ2xlZnQnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlIGxsYW1hIGN1YW5kbyBsYSBwZWxvdGEgdG9jYSBlbCBzdWVsb1xyXG4gICAgb25Hcm91bmRlZCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBiYWxsT25MZWZ0ID0gdGhpcy5zcHJpdGUueCA8IHRoaXMubmV0WDtcclxuICAgICAgICBjb25zdCBiYWxsT25SaWdodCA9IHRoaXMuc3ByaXRlLnggPiB0aGlzLm5ldFg7XHJcblxyXG4gICAgICAgIC8vIGRldGVybWluYXIgcXVpw6luIGFub3RhXHJcbiAgICAgICAgaWYgKGJhbGxPbkxlZnQpIHtcclxuICAgICAgICAgICAgdGhpcy5vblJhbGx5RW5kKCdwbGF5ZXIyJyk7IC8vIHBsYXllcjIgYW5vdGFcclxuICAgICAgICAgICAgdGhpcy5yZXNldFJhbGx5KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChiYWxsT25SaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uUmFsbHlFbmQoJ3BsYXllcjEnKTsgLy8gcGxheWVyMSBhbm90YVxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0UmFsbHkoJ3BsYXllcjEnKTtcclxuICAgICAgICB9XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIC8vIFNlIGxsYW1hIGN1YW5kbyBvY3VycmUgdW5hIGZhbHRhIChkZW1hc2lhZG9zIHRvcXVlcywgcGVsb3RhIGZ1ZXJhIGRlIGzDrW1pdGVzLCBldGMuKVxyXG4gICAgb25GYWx0YShmYWx0YVR5cGUsIGZhbHRpbmdQbGF5ZXIpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBzZSBkZXRlcm1pbmFyIGVsIGp1Z2Fkb3IgcXVlIGFub3RhIChvcHVlc3RvIGFsIHF1ZSBjb21ldGnDsyBmYWx0YSlcclxuICAgICAgICBjb25zdCBzY29yaW5nUGxheWVySWQgPSBmYWx0aW5nUGxheWVyLmlkID09PSAncGxheWVyMScgPyAncGxheWVyMicgOiAncGxheWVyMSc7XHJcblxyXG4gICAgICAgIHRoaXMub25SYWxseUVuZChzY29yaW5nUGxheWVySWQpO1xyXG4gICAgICAgIHRoaXMucmVzZXRSYWxseShzY29yaW5nUGxheWVySWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlIGxsYW1hIGN1YW5kbyBmaW5hbGl6YSB1biByYWxseSAoYWxndWllbiBhbm90YSlcclxuICAgIG9uUmFsbHlFbmQoc2NvcmluZ1BsYXllcklkKSB7XHJcbiAgICAgICAgdGhpcy5pc0JhbGxMaXZlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHNlIGxhbnphIHVuIGV2ZW50byBwYXJhIHF1ZSBHYW1lX1NjZW5lIG1hbmVqZSBsYSBwdW50dWFjacOzblxyXG4gICAgICAgIHRoaXMuc2NlbmUuZXZlbnRzLmVtaXQoJ3JhbGx5Q29uY2x1ZGVkJywge1xyXG4gICAgICAgICAgICBzY29yaW5nUGxheWVySWQ6IHNjb3JpbmdQbGF5ZXJJZCxcclxuICAgICAgICAgICAgdG91Y2hDb3VudDogdGhpcy50b3VjaENvdW50LFxyXG4gICAgICAgICAgICBsYXN0VG91Y2hlZEJ5OiB0aGlzLmxhc3RUb3VjaGVkQnlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFbXB1am9uIHN1dGlsIGFsIHNhcXVlIHBhcmEgZXZpdGFyIHF1ZSBjYWlnYSBzb2JyZSBsYSByZWRcclxuICAgIF9nZXRTdWJ0bGVOdWRnZShzcGF3blgsIHNpZGVQYWRkaW5nLCB3b3JsZFdpZHRoKSB7XHJcbiAgICAgICAgY29uc3Qgc2lnbiA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyAtMSA6IDE7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gc2lnbiAqIDEyO1xyXG4gICAgICAgIGNvbnN0IGNsYW1wZWRYID0gTWF0aC5tYXgoc2lkZVBhZGRpbmcsIE1hdGgubWluKHdvcmxkV2lkdGggLSBzaWRlUGFkZGluZywgc3Bhd25YICsgb2Zmc2V0KSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IHNwYXduWDogY2xhbXBlZFgsIHZlbG9jaXR5WDogb2Zmc2V0IH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29sb2NhIGxhIHBlbG90YSBwYXJhIGVsIHNhcXVlIHNpbiByZWluaWNpYXIgZWwgcmFsbHlcclxuICAgIHNldFNlcnZlUG9zaXRpb24oc2NvcmluZ1BsYXllcikge1xyXG4gICAgICAgIGNvbnN0IHNwYXduWSA9IDEwMDtcclxuICAgICAgICBjb25zdCBzaWRlUGFkZGluZyA9IDYwO1xyXG4gICAgICAgIGNvbnN0IHdvcmxkV2lkdGggPSB0aGlzLnNjZW5lLndvcmxkV2lkdGggPz8gdGhpcy5zY2VuZS5zY2FsZT8ud2lkdGggPz8gdGhpcy5uZXRYICogMjtcclxuICAgICAgICBjb25zdCBjbGFtcCA9ICh2YWx1ZSwgbWluLCBtYXgpID0+IE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB2YWx1ZSkpO1xyXG5cclxuICAgICAgICBsZXQgc3Bhd25YID0gdGhpcy5uZXRYO1xyXG4gICAgICAgIGxldCBudWRnZVZlbG9jaXR5WCA9IDA7XHJcblxyXG4gICAgICAgIGNvbnN0IGhhc1Njb3JpbmdQbGF5ZXIgPSBzY29yaW5nUGxheWVyID09PSAncGxheWVyMScgfHwgc2NvcmluZ1BsYXllciA9PT0gJ3BsYXllcjInO1xyXG5cclxuICAgICAgICBpZiAoaGFzU2NvcmluZ1BsYXllcikge1xyXG4gICAgICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLnNjZW5lLnBsYXllcnM/LmdldCA/IHRoaXMuc2NlbmUucGxheWVycy5nZXQoc2NvcmluZ1BsYXllcikgOiBudWxsO1xyXG4gICAgICAgICAgICBpZiAocGxheWVyPy5zcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzY29yaW5nUGxheWVyID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgICAgICAgICBzcGF3blggPSBjbGFtcChwbGF5ZXIuc3ByaXRlLngsIHNpZGVQYWRkaW5nLCB0aGlzLm5ldFggLSBzaWRlUGFkZGluZyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwYXduWCA9IGNsYW1wKHBsYXllci5zcHJpdGUueCwgdGhpcy5uZXRYICsgc2lkZVBhZGRpbmcsIHdvcmxkV2lkdGggLSBzaWRlUGFkZGluZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzcGF3blggPSBzY29yaW5nUGxheWVyID09PSAncGxheWVyMScgPyB0aGlzLm5ldFggLSAxMDAgOiB0aGlzLm5ldFggKyAxMDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG51ZGdlID0gdGhpcy5fZ2V0U3VidGxlTnVkZ2Uoc3Bhd25YLCBzaWRlUGFkZGluZywgd29ybGRXaWR0aCk7XHJcbiAgICAgICAgICAgIHNwYXduWCA9IG51ZGdlLnNwYXduWDtcclxuICAgICAgICAgICAgbnVkZ2VWZWxvY2l0eVggPSBudWRnZS52ZWxvY2l0eVg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRQb3NpdGlvbihzcGF3blgsIHNwYXduWSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHkobnVkZ2VWZWxvY2l0eVgsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlaW5pY2lhIGVsIGVzdGFkbyBkZWwgcmFsbHkgeSByZXBvc2ljaW9uYSBsYSBwZWxvdGEgcGFyYSBlbCBzYXF1ZVxyXG4gICAgcmVzZXRSYWxseShzY29yaW5nUGxheWVyKSB7XHJcbiAgICAgICAgdGhpcy5pc0JhbGxMaXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxhc3RUb3VjaGVkQnkgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudG91Y2hDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5zZXRTZXJ2ZVBvc2l0aW9uKHNjb3JpbmdQbGF5ZXIpO1xyXG5cclxuICAgICAgICAvLyBsaW1waWFyIGluZm8gZGUgw7psdGltbyBnb2xwZVxyXG4gICAgICAgIHRoaXMubGFzdEhpdFRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMubGFzdEhpdFBsYXllcklkID0gbnVsbDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gQWN0dWFsaXphIGVsIGVzdGFkbyBkZSBsYSBwZWxvdGEgY2FkYSBmcmFtZSAoc2UgcmFzdHJlYSBlbCBsYWRvIGRlIGxhIGNhbmNoYSBzZWfDum4gbGEgcG9zaWNpw7NuKVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0JhbGxMaXZlKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YSBlbCBsYWRvIGRlIGNhbmNoYSBzZWfDum4gcG9zaWNpw7NuIGFjdHVhbFxyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS54IDwgdGhpcy5uZXRYIC0gMjApIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAnbGVmdCc7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNwcml0ZS54ID4gdGhpcy5uZXRYICsgMjApIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAncmlnaHQnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQ29tbWFuZFByb2Nlc3NvciB7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldFBsYXllcnMocGxheWVycykge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IHBsYXllcnM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0R2FtZVNjZW5lKGdhbWVTY2VuZSkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gZ2FtZVNjZW5lO1xyXG4gICAgfVxyXG5cclxuICAgIHByb2Nlc3MoY29tbWFuZCkge1xyXG4gICAgICAgIGNvbW1hbmQuZXhlY3V0ZSgpO1xyXG4gICAgICAgIC8vIFNlbnQgb3ZlciB0aGUgd2Vic29ja2V0XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQ29tbWFuZCB7XHJcbiAgICBcclxuICAgIGV4ZWN1dGUoKSB7fVxyXG5cclxuICAgIHNlcmlhbGl6ZSgpIHt9XHJcblxyXG4gICAgZ2V0UGxheWVyKCkge31cclxufSIsIi8vIENsYXNlIHF1ZSBzZSBlbmNhcmdhIGRlIGxhIGzDs2dpY2EgZGVsIG1vdmltaWVudG8gZGVsIHBlcnNvbmFqZVxyXG5cclxuaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gJy4vQ29tbWFuZC5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTW92ZVBsYXllckNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcclxuICAgIGNvbnN0cnVjdG9yKHBsYXllciwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjsgICAgICAgLy8gaW5zdGFuY2lhIGRlbCBwZXJzb25hamVcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjsgLy8gZGlyZWNjacOzbiBkZSBtb3ZtaWVudG9cclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCkge1xyXG4gICAgICAgICBzd2l0Y2ggKHRoaXMuZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIGNvcnJlciBoYWNpYSBsYSBpemRhXHJcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIubW92ZUxlZnQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBjb3JyZXIgaGFjaWEgbGEgZGNoYVxyXG4gICAgICAgICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5tb3ZlUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBzYWx0YXIvcmVtYXRhciBhIGxhIGl6ZGFcclxuICAgICAgICAgICAgY2FzZSAnanVtcExlZnQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuanVtcExlZnQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBzYWx0YXIvcmVtYXRhIGEgbGEgZGNoYVxyXG4gICAgICAgICAgICBjYXNlICdqdW1wUmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuanVtcFJpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gcmVjaWJpciBwb3IgbGEgaXpkYVxyXG4gICAgICAgICAgICBjYXNlICdyZWNlaXZlTGVmdCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5yZWNlaXZlTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIHJlY2liaXIgcG9yIGxhIGRjaGFcclxuICAgICAgICAgICAgY2FzZSAncmVjZWl2ZVJpZ2h0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnJlY2VpdmVSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIHBhcmFkbywgaWRsZSBpemRhXHJcbiAgICAgICAgICAgIGNhc2UgJ2lkbGVMZWZ0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmlkbGVMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gcGFyYWRvLCBpZGxlIGRjaGEgKHkgY2FzbyBwb3IgZGVmZWN0bylcclxuICAgICAgICAgICAgLy9jYXNlICdpZGxlUmlnaHQnOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuaWRsZVJpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcGFyYSBlbCBtb2RvIEVOIFJFRFxyXG4gICAgZ2V0UGxheWVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYXllci5pZDtcclxuICAgIH1cclxuXHJcbiAgICBzZXJpYWxpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogJ01vdmVQbGF5ZXJDb21tYW5kJyxcclxuICAgICAgICAgICAgcGxheWVySWQ6IHRoaXMucGxheWVyLmlkLFxyXG4gICAgICAgICAgICBkaXJlY3Rpb246IHRoaXMuZGlyZWN0aW9uXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4iLCIvLyBDbGFzZSBkZSBsYSBlc2NlbmEgZGUganVlZ29cclxuXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi4vRW50aXRpZXMvUGxheWVyLmpzJztcclxuaW1wb3J0IHsgUG93ZXJVcCB9IGZyb20gJy4uL0VudGl0aWVzL1Bvd2VyVXAuanMnO1xyXG5pbXBvcnQgeyBCYWxsIH0gZnJvbSAnLi4vRW50aXRpZXMvQmFsbC5qcyc7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9Db21tYW5kcy9Db21tYW5kUHJvY2Vzc29yLmpzJztcclxuaW1wb3J0IHsgTW92ZVBsYXllckNvbW1hbmQgfSBmcm9tICcuLi9Db21tYW5kcy9Nb3ZlUGxheWVyQ29tbWFuZC5qcyc7XHJcbmltcG9ydCB7IGdldFN0b3JlZFNmeFZvbHVtZSB9IGZyb20gJy4uL1VJL0F1ZGlvLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIHRpZW1wb1RvdGFsID0gNjA7IC8vIHBhcmEgMiBtaW4gcG9uZXIgMTIwIHNlZ3VuZG9zXHJcbiAgICB0aWVtcG9SZXN0YW50ZSA9IHRoaXMudGllbXBvVG90YWw7XHJcbiAgICB0aW1lclRleHQ7XHJcbiAgICB0aW1lckV2ZW50O1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0dhbWVfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gW107XHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuICAgICAgICB0aGlzLnBsYXllcjEgPSBkYXRhLnBsYXllcjE7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIyID0gZGF0YS5wbGF5ZXIyO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyA9IGRhdGEuc2VsZWN0ZWRTY2VuYXJpbztcclxuICAgICAgICB0aGlzLmJhbGwgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2NvcmVQMSA9IDA7XHJcbiAgICAgICAgdGhpcy5zY29yZVAyID0gMDtcclxuICAgICAgICB0aGlzLnNldHNQMSA9IDA7XHJcbiAgICAgICAgdGhpcy5zZXRzUDIgPSAwO1xyXG4gICAgICAgIHRoaXMubWF4U2V0cyA9IDM7IC8vIG1lam9yIGRlIDNcclxuICAgICAgICB0aGlzLmN1cnJlbnRTZXQgPSAxOyAvLyBzZXQgYWN0dWFsXHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBjaGFyYWN0ZXJBXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckFfbW92ZScsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQS9BTklNQUNJT05FU19DT1JSRVJfUkVDSUJJUi5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDI5LCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckFfanVtcCcsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQS9BTklNQUNJT05fUkVNQVRFLnBuZycsXHJcbiAgICAgICAgICAgIHsgZnJhbWVXaWR0aDogMzIsIGZyYW1lSGVpZ2h0OiA0NCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICAvLyBjaGFyYWN0ZXJCXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckJfbW92ZScsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQi9BTklNQUNJT05FU19DT1JSRVJfUkVDSUJJUi5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDI5LCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckJfanVtcCcsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQi9BTklNQUNJT05fUkVNQVRFLnBuZycsXHJcbiAgICAgICAgICAgIHsgZnJhbWVXaWR0aDogMzIsIGZyYW1lSGVpZ2h0OiA0NCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICAvLyBjaGFyYWN0ZXJDXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckNfbW92ZScsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQy9BTklNQUNJT05FU19DT1JSRVJfUkVDSUJJUi5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDI5LCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckNfanVtcCcsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQy9BTklNQUNJT05fUkVNQVRFLnBuZycsXHJcbiAgICAgICAgICAgIHsgZnJhbWVXaWR0aDogMzIsIGZyYW1lSGVpZ2h0OiA0NCB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gRXNjZW5hcmlvc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnR3ltJywgJ0FTU0VUUy9GT05ET1MvR0lNTkFTSU8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQbGF5YScsICdBU1NFVFMvRk9ORE9TL1BMQVlBLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSmFyZGluJywgJ0FTU0VUUy9GT05ET1MvSkFSRElOLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBQb3dlclVwc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9yMicsICdBU1NFVFMvSVRFTVMvUE9XRVIgVVBTL01VTFRJUExJQ0FET1IgMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvcjMnLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9NVUxUSVBMSUNBRE9SIDMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYXJhbGl6YXInLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9QQVJBTElaQURPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncmFsZW50aXphcicsICdBU1NFVFMvSVRFTVMvUE9XRVIgVVBTL1JFTEVOVElaQVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd2ZWxvY2lkYWQnLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9WRUxPQ0lEQUQucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjb1Bvd2VyVXAnLCAnQVNTRVRTL0pVRUdPL0Jhc2VfcG93ZXJVcC5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gUGVsb3RhXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdiYWxsJywgJ0FTU0VUUy9JVEVNUy9QRUxPVEFTL1BfTk9STUFMLnBuZycpO1xyXG4gICAgICAgIC8vIFJlZFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncmVkJywgJ0FTU0VUUy9KVUVHTy9SRUQucG5nJyk7XHJcbiAgICAgICAgLy8gQ3JvbsOzbWV0cm9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3JlbG9qJywgJ0FTU0VUUy9KVUVHTy9USU1FUi5wbmcnKTtcclxuICAgICAgICAvLyBNYXJjb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWFyY29HZW5lcmFsJywgJ0FTU0VUUy9KVUVHTy9NQVJDQURPUl9TRVQucG5nJyk7ICAgICAgICBcclxuXHJcbiAgICAgICAgLy8gRWZlY3RvcyBkZSBzb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeF9zaWxiYXRvJywgJ0FTU0VUUy9TT05JRE8vU2lsYmF0b19pbmljaW9fcGFydGlkb18xcDRzLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4X3JlbWF0ZScsICdBU1NFVFMvU09OSURPL1RvcXVlX3BlbG90YV9yZW1hdGVfMDNzLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4X3JlY2VwY2lvbicsICdBU1NFVFMvU09OSURPL1RvcXVlX3BlbG90YV9yZWNlcGNpb24ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZnhfc2FsdG8nLCAnQVNTRVRTL1NPTklETy9Tb25pZG9TYWx0b18xcC5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeF9wdW50bycsICdBU1NFVFMvU09OSURPL1Nvbmlkb1B1bnRvLm1wMycpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gc2UgZ3VhcmRhbiBsYXMgZGltZW5zaW9uZXNcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgdGhpcy53b3JsZFdpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy53b3JsZEhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7XHJcblxyXG4gICAgICAgIC8vIHNlIGRlZmluZW4gbG9zIGVmZWN0b3MgZGUgc29uaWRvXHJcbiAgICAgICAgdGhpcy5zZnggPSB7XHJcbiAgICAgICAgICAgIHdoaXN0bGU6ICdzZnhfc2lsYmF0bycsXHJcbiAgICAgICAgICAgIHNwaWtlOiAnc2Z4X3JlbWF0ZScsXHJcbiAgICAgICAgICAgIHJlY2VpdmU6ICdzZnhfcmVjZXBjaW9uJyxcclxuICAgICAgICAgICAganVtcDogJ3NmeF9zYWx0bycsXHJcbiAgICAgICAgICAgIHBvaW50OiAnc2Z4X3B1bnRvJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gc2UgcmVwcm9kdWNlIGVsIHNpbGJhdG8gZGUgaW5pY2lvIGRlIHBhcnRpZG9cclxuICAgICAgICB0aGlzLnBsYXlTZngodGhpcy5zZngud2hpc3RsZSk7XHJcblxyXG4gICAgICAgIC8vIENyb27Ds21ldHJvXHJcbiAgICAgICAgdGhpcy50aW1lclRleHQgPSB0aGlzLmFkZC50ZXh0KHRoaXMuc2NhbGUud2lkdGggLyAyLCAzMCwgXCJcIiwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUsIDApXHJcbiAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgIC5zZXREZXB0aCg5OTk5KTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lckljb24gPSB0aGlzLmFkZC5pbWFnZSh0aGlzLnNjYWxlLndpZHRoIC8gMiwgNDUsICdyZWxvaicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMilcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoOTAwMCk7IC8vIGRlYmFqbyBkZWwgdGV4dG9cclxuXHJcbiAgICAgICAgLy8gbWFyY28gZGUgc2V0XHJcbiAgICAgICAgdGhpcy5zZXRGcmFtZSA9IHRoaXMuYWRkLmltYWdlKHRoaXMuc2NhbGUud2lkdGggLyAyLCAxMjAsICdtYXJjb0dlbmVyYWwnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCg5OTk4KTtcclxuXHJcbiAgICAgICAgLy8gdGV4dG8gZGVsIHNldCBhY3R1YWxcclxuICAgICAgICB0aGlzLnNldFRleHQgPSB0aGlzLmFkZC50ZXh0KHRoaXMuc2NhbGUud2lkdGggLyAyLCAxMjAsIGBTRVQgJHt0aGlzLmN1cnJlbnRTZXR9YCwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldERlcHRoKDk5OTkpO1xyXG5cclxuICAgICAgICAvLyB0ZXh0byBwYXJhIG1vc3RyYXIgZWwgZ2FuYWRvciBkZWwgc2V0XHJcbiAgICAgICAgdGhpcy5zZXRXaW5uZXJUZXh0ID0gdGhpcy5hZGQudGV4dCh0aGlzLnNjYWxlLndpZHRoIC8gMiwgMTg1LCAnJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogM1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldERlcHRoKDk5OTkpXHJcbiAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgICAgICAvLyBpbmljaWFyIGVsIGNvbnRhZG9yIHBhcmEgZWwgY3JvbsOzbWV0cm9cclxuICAgICAgICB0aGlzLnRpbWVyRXZlbnQgPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogMTAwMCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMudXBkYXRlVGltZXIsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrU2NvcGU6IHRoaXMsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lcigpO1xyXG5cclxuICAgICAgICAvLyBGT05ETyBERUwgRVNDRU5BUklPIFNFTEVDQ0lPTkFET1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiwgdGhpcy5zZWxlY3RlZFNjZW5hcmlvKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSk7IFxyXG5cclxuICAgICAgICAvLyBSZWRcclxuICAgICAgICBjb25zdCByZWQgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSh3aWR0aCAvIDIsIGhlaWdodCAtIDE2MCwgJ3JlZCcpLnNldFNjYWxlKDAuNik7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlZFRleHR1cmUgPSB0aGlzLnRleHR1cmVzLmdldCgncmVkJykuZ2V0U291cmNlSW1hZ2UoKTtcclxuICAgICAgICByZWQuYm9keS5zZXRTaXplKHJlZFRleHR1cmUud2lkdGggKiAwLjUsIHJlZFRleHR1cmUuaGVpZ2h0ICogMC41KTsgLy8gbXVsdGlwbGljYXIgcG9yIGVsIHNjYWxlXHJcbiAgICAgICAgcmVkLmJvZHkuc2V0T2Zmc2V0KC1yZWQuYm9keS53aWR0aC8yLCAtcmVkLmJvZHkuaGVpZ2h0LzIpO1xyXG4gICAgICAgIHJlZC5ib2R5LnVwZGF0ZUZyb21HYW1lT2JqZWN0KCk7XHJcbiAgICAgICAgdGhpcy5yZWQgPSByZWQ7XHJcblxyXG4gICAgICAgIHRoaXMuX2NyZWF0ZUFuaW1hdGlvbnMoKTtcclxuXHJcbiAgICAgICAgLy9QVU5UVUFDSU9OIERFIExPUyBKVUdBRE9SRVNcclxuICAgICAgICAvLyBNYXJjb3MgZGUgcHVudHVhY2nDs25cclxuICAgICAgICB0aGlzLnBvaW50c0xlZnQgPSAwO1xyXG4gICAgICAgIHRoaXMucG9pbnRzUmlnaHQgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLnNjb3JlRnJhbWVMZWZ0ID0gdGhpcy5hZGQuaW1hZ2UoMjAwLCA1MCwgJ21hcmNvR2VuZXJhbCcpLnNldFNjYWxlKDAuOCwgMC41NSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy5zY29yZUZyYW1lUmlnaHQgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLndvcmxkV2lkdGggLSAyMDAsIDUwLCAnbWFyY29HZW5lcmFsJykuc2V0U2NhbGUoMC44LCAwLjU1KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5zY29yZUxlZnQgPSB0aGlzLmFkZC50ZXh0KDIwMCwgNDUsICcwJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoOTk5OSk7XHJcblxyXG4gICAgICAgIHRoaXMucmlnaHRTY29yZSA9IHRoaXMuYWRkLnRleHQodGhpcy53b3JsZFdpZHRoIC0gMjAwLCA0NSwgJzAnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCg5OTk5KTtcclxuXHJcbiAgICAgICAgLy8gc3VlbG8gZGUgcHJ1ZWJhOiBjcmVhciB1biBjdWVycG8gZXN0w6F0aWNvIHJlY3Rhbmd1bGFyIGludmlzaWJsZVxyXG4gICAgICAgIC8vIENvbmZpZ3VyYWJsZTogYWx0dXJhIHkgZGVzcGxhemFtaWVudG8gZGVzZGUgZWwgZm9uZG8gKGBncm91bmRPZmZzZXRgKVxyXG4gICAgICAgIGNvbnN0IGdyb3VuZEhlaWdodCA9IDIwO1xyXG4gICAgICAgIGNvbnN0IGdyb3VuZE9mZnNldCA9IDkwOyAvLyBlbGV2YXIgZWwgc3VlbG8gMTAwcHggZGVzZGUgZWwgZm9uZG9cclxuICAgICAgICB0aGlzLmdyb3VuZEhlaWdodCA9IGdyb3VuZEhlaWdodDtcclxuICAgICAgICB0aGlzLmdyb3VuZFkgPSB0aGlzLndvcmxkSGVpZ2h0IC0gZ3JvdW5kT2Zmc2V0O1xyXG5cclxuICAgICAgICBjb25zdCBncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoXHJcbiAgICAgICAgICAgIHRoaXMud29ybGRXaWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kWSxcclxuICAgICAgICAgICAgdGhpcy53b3JsZFdpZHRoLFxyXG4gICAgICAgICAgICBncm91bmRIZWlnaHRcclxuICAgICAgICApLnNldE9yaWdpbigwLjUsIDApLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIC8vIGHDsWFkaXIgdW4gY3VlcnBvIGbDrXNpY28gZXN0w6F0aWNvIGFsIHJlY3TDoW5ndWxvXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyhncm91bmQsIHRydWUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHByaW1lcm8gc2UgY3JlYW4gbG9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMuX2NyZWF0ZVBsYXllcnMoKTtcclxuICAgICAgICAvLyBkZXNwdcOpcywgc2UgbW9udGFuIGxhcyBjb2xpc2lvbmVzIGNvbiBlbCBzdWVsbywgcmVkLCBldGMuXHJcbiAgICAgICAgLy8gbW9udGFyIGNvbGlzaW9uZXMgZsOtc2ljYXMgZW50cmUganVnYWRvcmVzIHkgc3VlbG8gcGFyYSBxdWUgYm9keS5ibG9ja2VkLmRvd24gZnVuY2lvbmVcclxuICAgICAgICB0aGlzLl9zZXR1cFBoeXNpY3NXb3JsZChncm91bmQpO1xyXG4gICAgICAgIC8vIHBvciDDumx0aW1vLCBzZSBhc2lnbmFuIGxhcyB0ZWNsYXNcclxuICAgICAgICB0aGlzLl9zZXR1cElucHV0TWFwcGluZ3MoKTtcclxuXHJcbiAgICAgICAgLy8gcG93ZXJ1cHNcclxuICAgICAgICB0aGlzLnBvd2VyVXBzID0gW107XHJcbiAgICAgICAgdGhpcy5tYXhQb3dlclVwcyA9IDI7XHJcbiAgICAgICAgLy8gbGEgYXBhcmljacOzbiBkZSBwb3dlci11cHMgc29uIG1lbm9zIGZyZWN1ZW50ZXMgeSBjb24gcGVzb3MsIHBhcmEgcXVlIHVub3Mgc2FsZ2FuXHJcbiAgICAgICAgLy8gbcOhcyBxdWUgb3Ryb3MgKHBvciBlamVtcGxvLCBzZSByZWR1Y2UgbGEgYXBhcmljacOzbiBkZSBwYXJhbGl6YXIpXHJcbiAgICAgICAgdGhpcy5wb3dlclVwU3Bhd25Db25maWcgPSB7XHJcbiAgICAgICAgICAgIC8vIGVudHJlIDMuNSB5IDggc2VndW5kb3NcclxuICAgICAgICAgICAgbWluRGVsYXlNczogMzUwMCxcclxuICAgICAgICAgICAgbWF4RGVsYXlNczogODAwMCxcclxuICAgICAgICAgICAgd2VpZ2h0czoge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpZGFkOiAzLFxyXG4gICAgICAgICAgICAgICAgcmFsZW50aXphcjogMixcclxuICAgICAgICAgICAgICAgIHBhcmFsaXphcjogMSxcclxuICAgICAgICAgICAgICAgIHBvcjI6IDMsXHJcbiAgICAgICAgICAgICAgICBwb3IzOiAyXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvb2xkb3duTXM6IHtcclxuICAgICAgICAgICAgICAgIHBhcmFsaXphcjogMTIwMDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5wb3dlclVwTGFzdFNwYXduQXQgPSB7fTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnZlbnRvcnlVSSA9IHtcclxuICAgICAgICAgICAgcGxheWVyMTogW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNTAsIDUwLCAncG9yMicpLnNldFNjYWxlKDEuNCkuc2V0VmlzaWJsZShmYWxzZSkuc2V0RGVwdGgoMSksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSgxMTAsIDUwLCAncG9yMicpLnNldFNjYWxlKDEuNCkuc2V0VmlzaWJsZShmYWxzZSkuc2V0RGVwdGgoMSlcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgcGxheWVyMjogW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UodGhpcy53b3JsZFdpZHRoIC0gMTEwLCA1MCwgJ3BvcjInKS5zZXRTY2FsZSgxLjQpLnNldFZpc2libGUoZmFsc2UpLnNldERlcHRoKDEpLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UodGhpcy53b3JsZFdpZHRoIC0gNTAsIDUwLCAncG9yMicpLnNldFNjYWxlKDEuNCkuc2V0VmlzaWJsZShmYWxzZSkuc2V0RGVwdGgoMSlcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVQb3dlclVwU3Bhd24oKTtcclxuXHJcbiAgICAgICAgLy8gTWFyY29zIGRlbCBpbnZlbnRhcmlvXHJcbiAgICAgICAgdGhpcy5pbnZlbnRvcnlGcmFtZXMgPSB7XHJcbiAgICAgICAgICAgIHBsYXllcjE6IFtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKDUwLCA1MCwgJ21hcmNvUG93ZXJVcCcpLnNldFNjYWxlKDEpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDApLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMTEwLCA1MCwgJ21hcmNvUG93ZXJVcCcpLnNldFNjYWxlKDEpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDApXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHBsYXllcjI6IFtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKHRoaXMud29ybGRXaWR0aCAtIDExMCwgNTAsICdtYXJjb1Bvd2VyVXAnKS5zZXRTY2FsZSgxKS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgwKSxcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKHRoaXMud29ybGRXaWR0aCAtIDUwLCA1MCwgJ21hcmNvUG93ZXJVcCcpLnNldFNjYWxlKDEpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDApXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBpbmljaWFsaXphY2nDs24gZGUgbGEgcGVsb3RhXHJcbiAgICAgICAgdGhpcy5fY3JlYXRlQmFsbCgpO1xyXG4gICAgICAgIC8vIGVtcHVqb24gc3V0aWwgcGFyYSBldml0YXIgcXVlIHNlIHF1ZWRlIHNvYnJlIGxhIHJlZCBhbCBpbmljaW9cclxuICAgICAgICB0aGlzLmJhbGwuc2V0U2VydmVQb3NpdGlvbigpO1xyXG4gICAgICAgIC8vIGNvbGxpZGVycyBkZSBsYSBwZWxvdGFcclxuICAgICAgICB0aGlzLl9zZXR1cEJhbGxDb2xsaXNpb25zKCk7XHJcbiAgICAgICAgLy8gZXZlbnRvcyBkZSBsYSBwZWxvdGFcclxuICAgICAgICB0aGlzLl9zZXR1cEJhbGxFdmVudHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5vbihcImtleWRvd24tRVNDXCIsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpOyAgICAgICAgICAgICAgIC8vIGRldGllbmUgZWwgZ2FtZSBsb29wXHJcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudC5wYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaChcIlBhdXNlX1NjZW5lXCIpOyAvLyBtdWVzdHJhIGxhIGVzY2VuYSBkZSBwYXVzYVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdyZXN1bWUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudC5wYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZW5lcmEgdW4gbnVldm8gcG93ZXItdXAgZW4gdW5hIHBvc2ljacOzbiBhbGVhdG9yaWEgY2FkYSBjaWVydG8gdGllbXBvXHJcbiAgICBzY2hlZHVsZVBvd2VyVXBTcGF3bigpIHtcclxuICAgICAgICBjb25zdCB7IG1pbkRlbGF5TXMsIG1heERlbGF5TXMgfSA9IHRoaXMucG93ZXJVcFNwYXduQ29uZmlnO1xyXG4gICAgICAgIGNvbnN0IGRlbGF5ID0gUGhhc2VyLk1hdGguQmV0d2VlbihtaW5EZWxheU1zLCBtYXhEZWxheU1zKTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKGRlbGF5LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBvd2VyVXBzLmxlbmd0aCA8IHRoaXMubWF4UG93ZXJVcHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKDgwLCB0aGlzLndvcmxkV2lkdGggLSA4MCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gUGhhc2VyLk1hdGguQmV0d2Vlbih0aGlzLndvcmxkSGVpZ2h0IC0gMjIwLCB0aGlzLndvcmxkSGVpZ2h0IC0gMTIwKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gdGhpcy5fZ2V0V2VpZ2h0ZWRQb3dlclVwVHlwZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3dlclVwID0gbmV3IFBvd2VyVXAodGhpcywgeCwgeSwgdHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3dlclVwcy5wdXNoKHBvd2VyVXApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG93ZXJVcExhc3RTcGF3bkF0W3R5cGVdID0gdGhpcy50aW1lLm5vdztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVBvd2VyVXBTcGF3bigpOyAvLyBzaWd1aWVudGUgY29uIG51ZXZvIGRlbGF5IHJhbmRvbVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9idGllbmUgdW4gdGlwbyBkZSBwb3dlci11cCBiYXNhZG8gZW4gbG9zIHBlc29zIGNvbmZpZ3VyYWRvcyBhbnRlcmlvcm1lbnRlXHJcbiAgICBfZ2V0V2VpZ2h0ZWRQb3dlclVwVHlwZSgpIHtcclxuICAgICAgICBjb25zdCB7IHdlaWdodHMsIGNvb2xkb3duTXMgfSA9IHRoaXMucG93ZXJVcFNwYXduQ29uZmlnO1xyXG5cclxuICAgICAgICBjb25zdCBub3cgPSB0aGlzLnRpbWUubm93O1xyXG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyh3ZWlnaHRzKS5maWx0ZXIoKFt0eXBlLCB3ZWlnaHRdKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHNlIGZpbHRyYW4gbG9zIHRpcG9zIHF1ZSBubyBzZSBwdWVkZW4gdXNhclxyXG4gICAgICAgICAgICAvLyBzaSBlbCBwZXNvIGVzIDBcclxuICAgICAgICAgICAgaWYgKHdlaWdodCA8PSAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIHNpIHRvZGF2w61hIGVzdMOhIGVuIGNvb2xkb3duIGRlc2RlIGxhIMO6bHRpbWEgYXBhcmljacOzblxyXG4gICAgICAgICAgICBjb25zdCBjb29sZG93biA9IGNvb2xkb3duTXM/Llt0eXBlXTtcclxuICAgICAgICAgICAgaWYgKCFjb29sZG93bikgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzLnBvd2VyVXBMYXN0U3Bhd25BdD8uW3R5cGVdIHx8IDA7XHJcbiAgICAgICAgICAgIHJldHVybiBub3cgLSBsYXN0ID49IGNvb2xkb3duO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzaSBubyBxdWVkYSBuaW5nw7puIHRpcG8gZGlzcG9uaWJsZSwgc2UgZGV2dWVsdmUgbnVsbFxyXG4gICAgICAgIGlmICghZW50cmllcy5sZW5ndGgpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICAvLyBzZSBzdW1hbiB0b2RvcyBsb3MgcGVzb3MsIHNlIGVsaWdlIHVuIG7Dum1lcm8gYWxlYXRvcmlvIGVudHJlIDEgeSBlc2Egc3VtYVxyXG4gICAgICAgIGNvbnN0IHRvdGFsID0gZW50cmllcy5yZWR1Y2UoKHN1bSwgWywgd2VpZ2h0XSkgPT4gc3VtICsgd2VpZ2h0LCAwKTtcclxuICAgICAgICBsZXQgcm9sbCA9IFBoYXNlci5NYXRoLkJldHdlZW4oMSwgdG90YWwpO1xyXG4gICAgICAgIC8vIHNlIHZhbiByZXN0YW5kbyBwZXNvcyBoYXN0YSBxdWUgZWwgY29udGFkb3IgY2FlIGVuIHVuIHRpcG9cclxuICAgICAgICBmb3IgKGNvbnN0IFt0eXBlLCB3ZWlnaHRdIG9mIGVudHJpZXMpIHtcclxuICAgICAgICAgICAgcm9sbCAtPSB3ZWlnaHQ7XHJcbiAgICAgICAgICAgIC8vIHNlIGRldnVlbHZlIGVsIHRpcG9cclxuICAgICAgICAgICAgaWYgKHJvbGwgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tHYW1lX1NjZW5lXSBQb3dlci11cCBhbGVhdG9yaW86ICcsIHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNpIHBvciBhbGd1bmEgcmF6w7NuIG5vIGNhZSBlbiBuaW5ndW5vLCBzZSBkZXZ1ZWx2ZSBlbCDDumx0aW1vIHRpcG8gdsOhbGlkb1xyXG4gICAgICAgIHJldHVybiBlbnRyaWVzW2VudHJpZXMubGVuZ3RoIC0gMV1bMF07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVwcm9kdWNlIHVuIGVmZWN0byBkZSBzb25pZG9cclxuICAgIHBsYXlTZngoa2V5KSB7XHJcbiAgICAgICAgaWYgKCFrZXkpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5zb3VuZC5wbGF5KGtleSwgeyB2b2x1bWU6IGdldFN0b3JlZFNmeFZvbHVtZSgpIH0pO1xyXG4gICAgfSAgICBcclxuXHJcbiAgICAvLyBCdWNsZSBwcmluY2lwYWwgZGVsIGp1ZWdvXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgLy8gc2UgcHJvY2VzYW4gbG9zIGlucHV0cyBkZSBsb3MganVnYWRvcmVzXHJcbiAgICAgICAgdGhpcy5faGFuZGxlSW5wdXRGb3JBbGxQbGF5ZXJzKCk7XHJcbiAgICAgICAgLy8gc2UgYWN0dWFsaXphbiBsb3MgcG93ZXItdXBzXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHBsYXllci51cGRhdGVQb3dlclVwcygpKTtcclxuICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgZXN0YWRvIGRlIGxhIHBlbG90YVxyXG4gICAgICAgIGlmICh0aGlzLmJhbGwpIHtcclxuICAgICAgICAgICAgdGhpcy5iYWxsLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAvLyB2ZXJpZmljYXIgc2kgbGEgcGVsb3RhIGdvbHBlYSBlbCBzdWVsbyAoY29tcGFyYXIgY29uIGxhIHBvc2ljacOzbiBkZWwgc3VlbG8pXHJcbiAgICAgICAgICAgIC8vIGdyb3VuZFkgZXMgbGEgcGFydGUgc3VwZXJpb3IgZGVsIHN1ZWxvXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJhbGwuaXNCYWxsTGl2ZSAmJiB0aGlzLmJhbGwuc3ByaXRlLnkgPiB0aGlzLmdyb3VuZFkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5vbkdyb3VuZGVkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdmVyaWZpY2FyIHNpIGxhIHBlbG90YSBjcnV6YSBsYSByZWQgKHJlZCBlc3TDoSBlbiB4ID0gNDgwKVxyXG4gICAgICAgICAgICBpZiAodGhpcy5iYWxsLnNwcml0ZS54IDwgNDc1ICYmIHRoaXMuYmFsbC5jb3VydFNpZGUgPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5jcm9zc05ldCgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYmFsbC5zcHJpdGUueCA+IDQ4NSAmJiB0aGlzLmJhbGwuY291cnRTaWRlID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5jcm9zc05ldCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdHVhbGl6YSBlbCB0ZW1wb3JpemFkb3IgY2FkYSBzZWd1bmRvXHJcbiAgICB1cGRhdGVUaW1lcigpIHtcclxuICAgICAgICB0aGlzLnRpZW1wb1Jlc3RhbnRlLS07XHJcblxyXG4gICAgICAgIC8vIEZvcm1hdG9cclxuICAgICAgICBjb25zdCBtaW51dG9zID0gTWF0aC5mbG9vcih0aGlzLnRpZW1wb1Jlc3RhbnRlIC8gNjApO1xyXG4gICAgICAgIGNvbnN0IHNlZ3VuZG9zID0gdGhpcy50aWVtcG9SZXN0YW50ZSAlIDYwO1xyXG4gICAgICAgIGNvbnN0IGZvcm1hdG8gPSBgJHttaW51dG9zLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06JHtzZWd1bmRvcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lclRleHQuc2V0VGV4dChmb3JtYXRvKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudGllbXBvUmVzdGFudGUgPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQucGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJGSU4gREVMIFRJRU1QT1wiKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjb3JlUDEgPiB0aGlzLnNjb3JlUDIpIHRoaXMuX2VuZFNldChcInBsYXllcjFcIik7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc2NvcmVQMiA+IHRoaXMuc2NvcmVQMSkgdGhpcy5fZW5kU2V0KFwicGxheWVyMlwiKTtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVtcGF0ZSBlbiBlbCBzZXRcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNldFNldCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdHVhbGl6YSBsYSBVSSBkZWwgaW52ZW50YXJpbyBkZSBwb3dlci11cHMgZGUgdW4ganVnYWRvclxyXG4gICAgdXBkYXRlUGxheWVySW52ZW50b3J5VUkocGxheWVyKSB7XHJcbiAgICAgICAgY29uc3QgdWkgPSB0aGlzLmludmVudG9yeVVJW3BsYXllci5pZF07XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIucG93ZXJVcEludmVudG9yeVtpXSkge1xyXG4gICAgICAgICAgICAgICAgdWlbaV0uc2V0VGV4dHVyZShwbGF5ZXIucG93ZXJVcEludmVudG9yeVtpXSk7XHJcbiAgICAgICAgICAgICAgICB1aVtpXS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdWlbaV0uc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vLy8gTcOJVE9ET1MgQVVYSUxJQVJFUyAvLy8vXHJcbiAgICAvLyBDcmVhIGxhcyBhbmltYWNpb25lcyBkZSBsb3MgMyBwZXJzb25hamVzXHJcbiAgICBfY3JlYXRlQW5pbWF0aW9ucygpIHtcclxuICAgICAgICAvLy8vIENoYXJhY3RlckEgLy8vL1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfaWRsZVJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9tb3ZlJywgeyBzdGFydDogMCwgZW5kOiAxIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA1LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9pZGxlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfbW92ZScsIHsgc3RhcnQ6IDIwLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX3JlY2VpdmVSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfbW92ZScsIHsgc3RhcnQ6IDAsIGVuZDogMTAgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX3JlY2VpdmVMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9tb3ZlJywgeyBzdGFydDogMTEsIGVuZDogMjEgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDFcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfcnVuUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX21vdmUnLCB7IHN0YXJ0OiAyMiwgZW5kOiAzMiB9KSwgLy8gZmlsYSAyXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMjIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX3J1bkxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX21vdmUnLCB7IHN0YXJ0OiAzMywgZW5kOiA0MyB9KS5yZXZlcnNlKCksIC8vIGZpbGEgM1xyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDIyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfanVtcFJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9qdW1wJywgeyBzdGFydDogMCwgZW5kOiAxMiB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfanVtcExlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX2p1bXAnLCB7IHN0YXJ0OiAxMywgZW5kOiAyNSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMVxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLy8vLy8vL1xyXG5cclxuICAgICAgICAvLy8vIENoYXJhY3RlckIgLy8vL1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfaWRsZVJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9tb3ZlJywgeyBzdGFydDogMCwgZW5kOiAxIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA1LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9pZGxlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDIwLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pOyAgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9yZWNlaXZlUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX21vdmUnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDExLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9tb3ZlJywgeyBzdGFydDogMjIsIGVuZDogMzIgfSksIC8vIGZpbGEgMlxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDIyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9ydW5MZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9tb3ZlJywgeyBzdGFydDogMzMsIGVuZDogNDMgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDNcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfanVtcCcsIHsgc3RhcnQ6IDAsIGVuZDogMTIgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9qdW1wJywgeyBzdGFydDogMTMsIGVuZDogMjUgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDFcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8vLy8vLy9cclxuXHJcbiAgICAgICAgLy8vLyBDaGFyYWN0ZXJDIC8vLy9cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfbW92ZScsIHsgc3RhcnQ6IDAsIGVuZDogMSB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX21vdmUnLCB7IHN0YXJ0OiAyMCwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTsgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19yZWNlaXZlUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX21vdmUnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfbW92ZScsIHsgc3RhcnQ6IDExLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19tb3ZlJywgeyBzdGFydDogMjIsIGVuZDogMzIgfSksIC8vIGZpbGEgMlxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDIyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19ydW5MZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19tb3ZlJywgeyBzdGFydDogMzMsIGVuZDogNDMgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDNcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfanVtcCcsIHsgc3RhcnQ6IDAsIGVuZDogMTIgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19qdW1wJywgeyBzdGFydDogMTMsIGVuZDogMjUgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDFcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8vLy8vLy9cclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhIGxvcyBwZXJzb25hamVzIGRlIGNhZGEganVnYWRvclxyXG4gICAgX2NyZWF0ZVBsYXllcnMoKSB7XHJcbiAgICAgICAgY29uc3QgY2hhclAxID0gdGhpcy5wbGF5ZXIxLmNoYXJhY3RlcjtcclxuICAgICAgICBjb25zdCBjaGFyUDIgPSB0aGlzLnBsYXllcjIuY2hhcmFjdGVyO1xyXG5cclxuICAgICAgICBjb25zdCBwMSA9IG5ldyBQbGF5ZXIoXHJcbiAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgdGhpcy53b3JsZFdpZHRoICogMC4yNSwgICAvLyBpenF1aWVyZGFcclxuICAgICAgICAgICAgdGhpcy5ncm91bmRZIC0gMTAwLCAgICAgICAgLy8gYXJyaWJhIGRlbCBzdWVsbyAobcOhcyBtYXJnZW4pXHJcbiAgICAgICAgICAgIGNoYXJQMVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IHAyID0gbmV3IFBsYXllcihcclxuICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgJ3BsYXllcjInLFxyXG4gICAgICAgICAgICB0aGlzLndvcmxkV2lkdGggKiAwLjc1LCAgIC8vIGRlcmVjaGFcclxuICAgICAgICAgICAgdGhpcy5ncm91bmRZIC0gMTAwLCAgICAgICAgLy8gYXJyaWJhIGRlbCBzdWVsbyAobcOhcyBtYXJnZW4pXHJcbiAgICAgICAgICAgIGNoYXJQMlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCBwMSk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIHAyKTtcclxuXHJcbiAgICAgICAgLy8gc2UgZXN0YWJsZWNlbiBsb3MgbMOtbWl0ZXMgZGUgbGEgY2FuY2hhIHBhcmEgY2FkYSBqdWdhZG9yXHJcbiAgICAgICAgY29uc3QgY291cnRUb3AgPSA1MDtcclxuICAgICAgICAvLyBhbGluZWFyIGVsIGzDrW1pdGUgaW5mZXJpb3IganVzdG8gcG9yIGVuY2ltYSBkZWwgc3VlbG9cclxuICAgICAgICAvLyBjb21vIGVsIGdyb3VuZCBhaG9yYSB0aWVuZSBvcmlnaW4gZW4gKDAuNSwgMCksIGdyb3VuZFkgZXMgbGEgcGFydGUgc3VwZXJpb3JcclxuICAgICAgICBjb25zdCBjb3VydEJvdHRvbSA9IE1hdGguZmxvb3IodGhpcy5ncm91bmRZKTtcclxuICAgICAgICBjb25zdCBjb3VydEludGVyaW9yTWFyZ2luID0gMjU7XHJcbiAgICAgICAgY29uc3QgY291cnRFeHRlcmlvcnRNYXJnaW4gPSA4MDtcclxuXHJcbiAgICAgICAgLy8gcGxheWVyMSAoaXpxdWllcmRhKTpcclxuICAgICAgICBwMS5zZXRCb3VuZHMoY291cnRFeHRlcmlvcnRNYXJnaW4sIDQ4MCAtIGNvdXJ0SW50ZXJpb3JNYXJnaW4sIGNvdXJ0VG9wLCBjb3VydEJvdHRvbSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gcGxheWVyMiAoZGVyZWNoYSk6XHJcbiAgICAgICAgcDIuc2V0Qm91bmRzKDQ4MCArIGNvdXJ0SW50ZXJpb3JNYXJnaW4sIHRoaXMud29ybGRXaWR0aCAtIGNvdXJ0RXh0ZXJpb3J0TWFyZ2luLCBjb3VydFRvcCwgY291cnRCb3R0b20pO1xyXG5cclxuICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3Iuc2V0UGxheWVycyh0aGlzLnBsYXllcnMpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5zZXRHYW1lU2NlbmUodGhpcyk7XHJcblxyXG4gICAgICAgIC8vIHBvciBkZWZlY3RvLCBhbmltYWNpw7NuIGlkbGVcclxuICAgICAgICBwMS5pZGxlUmlnaHQoKTtcclxuICAgICAgICBwMi5pZGxlTGVmdCgpO1xyXG4gICAgfSAgICBcclxuXHJcbiAgICAvLyBDcmVhIGVsIHN1ZWxvLCBsYSByZWQsIGxvcyBsw61taXRlcywgZXRjLlxyXG4gICAgX3NldHVwUGh5c2ljc1dvcmxkKGdyb3VuZCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNvbGlzacOzbiBqdWdhZG9yLXN1ZWxvXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLnNwcml0ZSwgZ3JvdW5kKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbGlzacOzbiBqdWdhZG9yLXJlZFxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMucmVkLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgJHtwbGF5ZXIuaWR9IHRvY8OzIGxhIHJlZCFgKTtcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBc2lnbmEgbG9zIGNvbnRyb2xlcy90ZWNsYXMgZGUgY2FkYSBqdWdhZG9yXHJcbiAgICBfc2V0dXBJbnB1dE1hcHBpbmdzKCkge1xyXG4gICAgICAgIGNvbnN0IGlucHV0Q29uZmlnID0gW1xyXG4gICAgICAgICAgICAvLyBqdWdhZG9yIDFcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdBJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnRCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wS2V5OiAnVycsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlS2V5OiAnUycsXHJcbiAgICAgICAgICAgICAgICBwb3dlcktleTogJ0UnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGp1Z2Fkb3IgMlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjInLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0onLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdMJyxcclxuICAgICAgICAgICAgICAgIGp1bXBLZXk6ICdJJyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVLZXk6ICdLJyxcclxuICAgICAgICAgICAgICAgIHBvd2VyS2V5OiAnTydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IGlucHV0Q29uZmlnLm1hcChjb25maWcgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6IGNvbmZpZy5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFxyXG4gICAgICAgICAgICAgICAgICAgIFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcubGVmdEtleV1cclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICByaWdodEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoXHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yaWdodEtleV1cclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICBqdW1wS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShcclxuICAgICAgICAgICAgICAgICAgICBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmp1bXBLZXldXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZUtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoXHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yZWNlaXZlS2V5XVxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIHBvd2VyS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShcclxuICAgICAgICAgICAgICAgICAgICBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnBvd2VyS2V5XVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByb2Nlc2EgZWwgaW5wdXQgZGUgbG9zIGRvcyBqdWdhZG9yZXNcclxuICAgIF9oYW5kbGVJbnB1dEZvckFsbFBsYXllcnMoKSB7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzLmZvckVhY2gobWFwcGluZyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMucGxheWVycy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgIGlmICghcGxheWVyKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAvLyBzaSBlc3TDoSBwYXJhbGl6YWRvLCBzZSBkZWphIGVuIGlkbGVcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc1BhcmFseXplZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaWRsZURpciA9IChwbGF5ZXIuZmFjaW5nID09PSAnbGVmdCcpID8gJ2lkbGVMZWZ0JyA6ICdpZGxlUmlnaHQnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVQbGF5ZXJDb21tYW5kKHBsYXllciwgaWRsZURpcilcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBkaXJlY3Rpb247XHJcblxyXG4gICAgICAgICAgICAvLyBtb3ZpbWllbnRvIGhvcml6b250YWwgbm9ybWFsXHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLmxlZnRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnbGVmdCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobWFwcGluZy5yaWdodEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbm8gc2UgcHVsc2EgbmFkYSwgYXPDrSBxdWUgc2UgcXVlZGEgaWRsZSBzZWfDum4gaGFjaWEgZMOzbmRlIG1pcmFiYVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IChwbGF5ZXIuZmFjaW5nID09PSAnbGVmdCcpID8gJ2lkbGVMZWZ0JzogJ2lkbGVSaWdodCc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNlIGFwbGljYSBtb3ZpbWllbnRvL2lkbGUgU09MTyBzaSBubyBlc3TDoSBzYWx0YW5kb1xyXG4gICAgICAgICAgICAvLyBzaSBlc3TDoSBzYWx0YW5kbywgbm8gc2UgcHJvY2VzYSBlbCBtb3ZpbWllbnRvIHBhcmEgbm8gc29icmVzY3JpYmlyIGxhIGFuaW1hY2nDs25cclxuICAgICAgICAgICAgaWYgKCFwbGF5ZXIuaXNKdW1waW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IucHJvY2VzcyhcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTW92ZVBsYXllckNvbW1hbmQocGxheWVyLCBkaXJlY3Rpb24pXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyByZWNlcGNpw7NuXHJcbiAgICAgICAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24obWFwcGluZy5yZWNlaXZlS2V5T2JqKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVjZWl2ZURpciA9IChwbGF5ZXIuZmFjaW5nID09PSAnbGVmdCcpID8gJ3JlY2VpdmVMZWZ0JyA6ICdyZWNlaXZlUmlnaHQnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVQbGF5ZXJDb21tYW5kKHBsYXllciwgcmVjZWl2ZURpcilcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNhbHRvL3JlbWF0ZVxyXG4gICAgICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKG1hcHBpbmcuanVtcEtleU9iaikpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGp1bXBEaXIgPSAocGxheWVyLmZhY2luZyA9PT0gJ2xlZnQnKSA/ICdqdW1wTGVmdCcgOiAnanVtcFJpZ2h0JztcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlUGxheWVyQ29tbWFuZChwbGF5ZXIsIGp1bXBEaXIpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBQb3dlclVwc1xyXG4gICAgICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKG1hcHBpbmcucG93ZXJLZXlPYmopKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIudXNlTmV4dFBvd2VyVXAoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGxheWVySW52ZW50b3J5VUkocGxheWVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgZXN0YWRvIGRlIGxvcyBqdWdhZG9yZXMgKHN1ZWxvLCBldGMuKVxyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiBwbGF5ZXIudXBkYXRlKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWEgbGEgcGVsb3RhXHJcbiAgICBfY3JlYXRlQmFsbCgpIHtcclxuICAgICAgICB0aGlzLmJhbGwgPSBuZXcgQmFsbCh0aGlzLCB0aGlzLndvcmxkV2lkdGggLyAyLCAxNTApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbmZpZ3VyYSBsYXMgY29saXNpb25lcyBkZSBsYSBwZWxvdGFcclxuICAgIF9zZXR1cEJhbGxDb2xsaXNpb25zKCkge1xyXG4gICAgICAgIC8vIGNvbGlzaW9uZXMgZGUgbGEgcGVsb3RhIGNvbiBsb3MganVnYWRvcmVzXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICAoKSA9PiB0aGlzLl9vbkJhbGxQbGF5ZXJDb2xsaXNpb24odGhpcy5iYWxsLCBwbGF5ZXIpLFxyXG4gICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgIHRoaXNcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gY29saXNpw7NuIHBlbG90YS1yZWRcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuYmFsbC5zcHJpdGUsIHRoaXMucmVkLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEVzdG8gc2UgZGlzcGFyYSBhbCB0b2NhciBsYSByZWRcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xhIHBlbG90YSB0b2NhIGxhIHJlZCEnKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFBvciBlamVtcGxvLCBzZSBwdWVkZSBmcmVuYXIgbGEgcGVsb3RhOlxyXG4gICAgICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLnNldFZlbG9jaXR5WCh0aGlzLmJhbGwuc3ByaXRlLmJvZHkudmVsb2NpdHkueCAqIDAuNSk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFsbC5zcHJpdGUuc2V0VmVsb2NpdHlZKHRoaXMuYmFsbC5zcHJpdGUuYm9keS52ZWxvY2l0eS55ICogMC41KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gY29saXNpw7NuIGRlIGxhIHBlbG90YSBjb24gZWwgc3VlbG8gKGRpc3BhcmEgcHVudHVhY2nDs24pXHJcbiAgICAgICAgY29uc3QgZ3JvdW5kWSA9IHRoaXMud29ybGRIZWlnaHQgLSAxMDtcclxuICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLnNldEJvdW5jZSgwLjgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbmZpZ3VyYSBsb3MgZXZlbnQgbGlzdGVuZXJzIGRlIGxhIHBlbG90YVxyXG4gICAgX3NldHVwQmFsbEV2ZW50cygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigncmFsbHlDb25jbHVkZWQnLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUmFsbHkgY29uY2x1ZGVkOiAke2RhdGEuc2NvcmluZ1BsYXllcklkfSBzY29yZXMhYCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjb3JlcklkID0gZGF0YS5zY29yaW5nUGxheWVySWQ7XHJcblxyXG4gICAgICAgICAgICAvLyBzZSBjb2dlIGVsIHBsYXllciBxdWUgaGEgYW5vdGFkb1xyXG4gICAgICAgICAgICBjb25zdCBzY29yaW5nUGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldChzY29yZXJJZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBzY29yaW5nUGxheWVyID8gKHNjb3JpbmdQbGF5ZXIuc2NvcmVNdWx0aXBsaWVyIHx8IDEpIDogMTtcclxuXHJcbiAgICAgICAgICAgIC8vIDEgcHVudG8gYmFzZSAqIG11bHRpcGxpY2Fkb3JcclxuICAgICAgICAgICAgY29uc3QgcG9pbnRzVG9BZGQgPSBtdWx0aXBsaWVyO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNjb3JlcklkID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgICAgIC8vIG1hcmNhZG9yIHZpc3VhbFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludHNMZWZ0ICs9IHBvaW50c1RvQWRkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZUxlZnQuc2V0VGV4dCh0aGlzLnBvaW50c0xlZnQudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcHVudG9zIGRlbCBzZXQgKHBhcmEgbMOzZ2ljYSBkZSBzZXRzKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZVAxICs9IHBvaW50c1RvQWRkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNjb3JlcklkID09PSAncGxheWVyMicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzUmlnaHQgKz0gcG9pbnRzVG9BZGQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0U2NvcmUuc2V0VGV4dCh0aGlzLnBvaW50c1JpZ2h0LnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVQMiArPSBwb2ludHNUb0FkZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBzZSByZXByb2R1Y2UgZWwgZWZlY3RvIGRlIHNvbmlkbyBkZSBwdW50b1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlTZngodGhpcy5zZngucG9pbnQpO1xyXG5cclxuICAgICAgICAgICAgLy8gY29uZGljacOzbiBkZSAxMSBwdW50b3MgY29uIDIgZGUgZGlmZXJlbmNpYVxyXG4gICAgICAgICAgICB0aGlzLl9jaGVja1dpbkNvbmRpdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1hbmVqYSBjb2xpc2nDs24gZW50cmUgcGVsb3RhIHkganVnYWRvclxyXG4gICAgX29uQmFsbFBsYXllckNvbGxpc2lvbihiYWxsLCBwbGF5ZXIpIHtcclxuICAgICAgICBpZiAoIWJhbGwuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBpc0p1bXBpbmcgPSAhcGxheWVyLnNwcml0ZS5ib2R5LmJsb2NrZWQuZG93bjtcclxuICAgICAgICBjb25zdCBpc1JlY2VpdmluZyA9IHBsYXllci5pc1JlY2VpdmluZztcclxuICAgICAgICBjb25zdCBwbGF5ZXJEaXJlY3Rpb24gPSBwbGF5ZXIuZmFjaW5nO1xyXG5cclxuICAgICAgICBiYWxsLmhpdChwbGF5ZXIsIHBsYXllckRpcmVjdGlvbiwgaXNKdW1waW5nLCBpc1JlY2VpdmluZyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29udHJvbGEgZWwgZmluYWwgZGVsIGp1ZWdvXHJcbiAgICBfZW5kR2FtZSh3aW5uZXIpIHtcclxuICAgICAgICAvLyBzZSBwYXJhIGVsIHRpbWVyIGRlbCBzZXRcclxuICAgICAgICBpZiAodGhpcy50aW1lckV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudC5yZW1vdmUoZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gc2UgZGV0aWVuZSBsYSBmw61zaWNhIGRlIGVzdGEgZXNjZW5hIGFudGVzIGRlIHNhbGlyXHJcbiAgICAgICAgaWYgKHRoaXMucGh5c2ljcyAmJiB0aGlzLnBoeXNpY3Mud29ybGQpIHtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLndvcmxkLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KFwiRW5kR2FtZV9TY2VuZVwiLCB7XHJcbiAgICAgICAgICAgIHdpbm5lcjogd2lubmVyLFxyXG4gICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLnBsYXllcjEsXHJcbiAgICAgICAgICAgIHBsYXllcjI6IHRoaXMucGxheWVyMixcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBWZXJpZmljYSBzaSBhbGfDum4ganVnYWRvciBoYSBnYW5hZG8gZWwgc2V0XHJcbiAgICBfY2hlY2tXaW5Db25kaXRpb24oKSB7XHJcbiAgICAgICAgY29uc3QgbWluUG9pbnRzID0gMTE7ICAgLy8gcHVudG9zIG3DrW5pbW9zIHBhcmEgZ2FuYXJcclxuICAgICAgICBjb25zdCBtaW5EaWZmID0gMjsgICAgICAvLyBkaWZlcmVuY2lhIG3DrW5pbWEgZGUgcHVudG9zIHBhcmEgZ2FuYXJcclxuICAgICAgICBcclxuICAgICAgICAvLyBkaWZlcmVuY2lhIGRlIHB1bnRvc1xyXG4gICAgICAgIGNvbnN0IHNjb3JlRGlmZiA9IHRoaXMuc2NvcmVQMSAtIHRoaXMuc2NvcmVQMjtcclxuICAgICAgICBjb25zdCBtYXhTY29yZSA9IE1hdGgubWF4KHRoaXMuc2NvcmVQMSwgdGhpcy5zY29yZVAyKTtcclxuXHJcbiAgICAgICAgLy8gc2kgbm8gc2UgY3VtcGxlIGFsZ3VuYSBkZSBsYXMgY29uZGljaW9uZXMsIG5vIHNlIHRlcm1pbmEgZWwgc2V0XHJcbiAgICAgICAgaWYgKG1heFNjb3JlIDwgbWluUG9pbnRzIHx8IE1hdGguYWJzKHNjb3JlRGlmZikgPCBtaW5EaWZmKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNpbm8sIHNlIGRldGVybWluYSBlbCBnYW5hZG9yIGRlbCBzZXRcclxuICAgICAgICBjb25zdCB3aW5uZXIgPSBzY29yZURpZmYgPiAwID8gXCJwbGF5ZXIxXCIgOiBcInBsYXllcjJcIjtcclxuICAgICAgICB0aGlzLl9lbmRTZXQod2lubmVyKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb250cm9sYSBlbCBmaW5hbCBkZSB1biBzZXRcclxuICAgIF9lbmRTZXQod2lubmVyKSB7XHJcbiAgICAgICAgLy8gYWN0dWFsaXphciBzZXRzIGdhbmFkb3NcclxuICAgICAgICBpZiAod2lubmVyID09PSAncGxheWVyMScpIHRoaXMuc2V0c1AxKys7XHJcbiAgICAgICAgZWxzZSBpZiAod2lubmVyID09PSAncGxheWVyMicpIHRoaXMuc2V0c1AyKys7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGBTZXQgdGVybWluYWRvLiBTY29yZSBzZXRzOiBQMT0ke3RoaXMuc2V0c1AxfSwgUDI9JHt0aGlzLnNldHNQMn1gKTtcclxuXHJcbiAgICAgICAgLy8gbW9zdHJhciBtZW5zYWplIGRlIGdhbmFkb3IgZGUgc2V0XHJcbiAgICAgICAgY29uc3Qgd2lubmVyTGFiZWwgPSAod2lubmVyID09PSAncGxheWVyMScpID8gJ0p1Z2Fkb3IgMScgOiAnSnVnYWRvciAyJztcclxuICAgICAgICB0aGlzLnNldFdpbm5lclRleHQuc2V0VGV4dChgU2V0IHBhcmEgJHt3aW5uZXJMYWJlbH1gKTtcclxuICAgICAgICB0aGlzLnNldFdpbm5lclRleHQuc2V0VmlzaWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gQXZhbnphciBuw7ptZXJvIGRlIHNldFxyXG4gICAgICAgIHRoaXMuY3VycmVudFNldCsrO1xyXG5cclxuICAgICAgICBjb25zdCBtYXRjaE92ZXIgPSAodGhpcy5zZXRzUDEgPT09IDIgfHwgdGhpcy5zZXRzUDIgPT09IDIpO1xyXG5cclxuICAgICAgICBpZiAobWF0Y2hPdmVyKSB7XHJcbiAgICAgICAgICAgIC8vIMO6bHRpbW8gc2V0OiBtb3N0cmFtb3MgZWwgbWVuc2FqZSAycyB5IGx1ZWdvIHBhc2Ftb3MgYSBsYSBlc2NlbmEgZmluYWxcclxuICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDIwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIChzaSBxdWllcmVzLCBhcXXDrSBwb2Ryw61hcyBvY3VsdGFyIGVsIHRleHRvKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW5kR2FtZSh3aW5uZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBzZXQgaW50ZXJtZWRpbzogbW9zdHJhbW9zIGVsIG1lbnNhamUgMnMsIGxvIG9jdWx0YW1vcyB5IHJlaW5pY2lhbW9zIGVsIHNldFxyXG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0V2lubmVyVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2V0U2V0KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWluaWNpYSBlbCBlc3RhZG8gcGFyYSB1biBudWV2byBzZXRcclxuICAgIF9yZXNldFNldCgpIHtcclxuICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgdGV4dG8gZGVsIHNldCBhY3R1YWxcclxuICAgICAgICB0aGlzLnNldFRleHQuc2V0VGV4dChgU0VUICR7dGhpcy5jdXJyZW50U2V0fWApO1xyXG5cclxuICAgICAgICAvLyBzZSByZWluaWNpYSBlbCB0aWVtcG9cclxuICAgICAgICB0aGlzLnRpZW1wb1Jlc3RhbnRlID0gdGhpcy50aWVtcG9Ub3RhbDtcclxuICAgICAgICB0aGlzLnRpbWVyRXZlbnQucGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lcigpO1xyXG5cclxuICAgICAgICAvLyBzZSByZWluaWNpYSBsYSBwdW50dWFjacOzbiBkZWwgc2V0IChsw7NnaWNhKVxyXG4gICAgICAgIHRoaXMuc2NvcmVQMSA9IDA7XHJcbiAgICAgICAgdGhpcy5zY29yZVAyID0gMDtcclxuXHJcbiAgICAgICAgLy8gc2UgcmVpbmljaWEgZWwgbWFyY2Fkb3IgdmlzdWFsIGVuIHBhbnRhbGxhXHJcbiAgICAgICAgdGhpcy5wb2ludHNMZWZ0ID0gMDtcclxuICAgICAgICB0aGlzLnBvaW50c1JpZ2h0ID0gMDtcclxuICAgICAgICB0aGlzLnNjb3JlTGVmdC5zZXRUZXh0KCcwJyk7XHJcbiAgICAgICAgdGhpcy5yaWdodFNjb3JlLnNldFRleHQoJzAnKTtcclxuXHJcbiAgICAgICAgLy8gc2UgcmVpbmljaWEgbGEgcGVsb3RhXHJcbiAgICAgICAgdGhpcy5iYWxsLnJlc2V0UmFsbHkoKTtcclxuXHJcbiAgICAgICAgLy8gc2UgcmVwb3NpY2lvbmFuIGxvcyBqdWdhZG9yZXMgYSBzdXMgcG9zaWNpb25lcyBpbmljaWFsZXNcclxuICAgICAgICBjb25zdCBwMSA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjEnKTtcclxuICAgICAgICBjb25zdCBwMiA9IHRoaXMucGxheWVycy5nZXQoJ3BsYXllcjInKTtcclxuXHJcbiAgICAgICAgcDEuc2V0UG9zaXRpb24odGhpcy53b3JsZFdpZHRoICogMC4yNSwgdGhpcy53b3JsZEhlaWdodCAqIDAuNyk7XHJcbiAgICAgICAgcDIuc2V0UG9zaXRpb24odGhpcy53b3JsZFdpZHRoICogMC43NSwgdGhpcy53b3JsZEhlaWdodCAqIDAuNyk7XHJcblxyXG4gICAgICAgIHAxLmlkbGVSaWdodCgpO1xyXG4gICAgICAgIHAyLmlkbGVMZWZ0KCk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheVNmeCh0aGlzLnNmeC53aGlzdGxlKTtcclxuICAgIH1cclxufVxyXG4iLCIvLyBQYW50YWxsYSBkZSBUdXRvcmlhbFxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGFwcGx5U3RvcmVkVm9sdW1lLCBwbGF5Q2xpY2sgfSBmcm9tICcuLi9VSS9BdWRpby5qcyc7XHJcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uLCBjcmVhdGVJY29uQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgVHV0b3JpYWxfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1R1dG9yaWFsX1NjZW5lJyk7XHJcblxyXG4gICAgICAgIC8vIHVuIMO6bmljbyB0dXRvcmlhbCBjb24gcMOhZ2luYXNcclxuICAgICAgICB0aGlzLnBhZ2VJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5yZXR1cm5TY2VuZSA9ICdNZW51X1NjZW5lJztcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICAvLyBlc2NlbmEgZGVzZGUgbGEgcXVlIHNlIGFicmnDsyBlbCB0dXRvcmlhbCwgcGFyYSByZWFudWRhcmxhXHJcbiAgICAgICAgdGhpcy5yZXR1cm5TY2VuZSA9IGRhdGE/LnJldHVyblNjZW5lID8/ICdNZW51X1NjZW5lJztcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIGltw6FnZW5lcyBkZWwgdHV0b3JpYWxcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dDBfY29udHJvbGVzJywgJ0FTU0VUUy9UVVRPUklBTC9UVVQwX0NvbnRyb2xlcy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dDFfc2V0JywgJ0FTU0VUUy9UVVRPUklBTC9UVVQxX1NldC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dDJfcGVsb3RhJywgJ0FTU0VUUy9UVVRPUklBTC9UVVQyX1BlbG90YS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dDNfcG93ZXJ1cCcsICdBU1NFVFMvVFVUT1JJQUwvVFVUM19Qb3dlcnVwLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0NF9saXN0YScsICdBU1NFVFMvVFVUT1JJQUwvVFVUNF9MaXN0YS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gZm9uZG8geSB1aVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvRkxFQ0hBX1ZPTFZFUi5wbmcnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XHJcblxyXG4gICAgICAgIGNvbnN0IHN0eWxlID0ge1xyXG4gICAgICAgICAgICAuLi4odGhpcy5nYW1lLmdsb2JhbHM/LmRlZmF1bHRUZXh0U3R5bGUgPz8ge1xyXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseTogJ1ZUMzIzJyxcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5pbWFnZSgwLCAwLCAnZm9uZG8nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSlcclxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyB0w610dWxvXHJcbiAgICAgICAgdGhpcy5tYWluVGl0bGVUZXh0ID0gdGhpcy5hZGRcclxuICAgICAgICAgICAgLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC4xLCAnVHV0b3JpYWwnLCB7XHJcbiAgICAgICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnNDJweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZicsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIFZvbHZlciBhdHLDoXNcclxuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogd2lkdGggKiAwLjA2LFxyXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjA4LFxyXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxyXG4gICAgICAgICAgICBzY2FsZTogMSxcclxuICAgICAgICAgICAgaG92ZXJTY2FsZTogMS4xLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyksXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGNvbnRlbmlkbyBkZWwgdHV0b3JpYWwgKHNsaWRlcyBvIHDDoWdpbmFzKVxyXG4gICAgICAgIHRoaXMucGFnZUluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLnBhZ2VzID0gW1xyXG4gICAgICAgICAgICB7IGtleTogJ3R1dDBfY29udHJvbGVzJywgdGl0bGU6ICdDb250cm9sZXMnIH0sXHJcbiAgICAgICAgICAgIHsga2V5OiAndHV0MV9zZXQnLCB0aXRsZTogJ1JlZ2xhcyBiw6FzaWNhczogc2V0JyB9LFxyXG4gICAgICAgICAgICB7IGtleTogJ3R1dDJfcGVsb3RhJywgdGl0bGU6ICdSZWdsYXMgYsOhc2ljYXM6IHBlbG90YScgfSxcclxuICAgICAgICAgICAgeyBrZXk6ICd0dXQzX3Bvd2VydXAnLCB0aXRsZTogJ1JlZ2xhcyBiw6FzaWNhczogcG93ZXItdXBzJyB9LFxyXG4gICAgICAgICAgICB7IGtleTogJ3R1dDRfbGlzdGEnLCB0aXRsZTogJ0xpc3RhIGRlIHBvd2VyLXVwcycgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIC8vIHBhbmVsIHBhcmEgaW1hZ2VuZXM6IG1heGltbyB0YW1hbm8gY29uIG1hcmdlbmVzXHJcbiAgICAgICAgY29uc3QgcGFuZWxNYXJnaW4gPSBNYXRoLm1heCg4LCBNYXRoLnJvdW5kKE1hdGgubWluKHdpZHRoLCBoZWlnaHQpICogMC4wMTUpKTtcclxuICAgICAgICBjb25zdCBwYW5lbEdhcCA9IE1hdGgubWF4KDYsIE1hdGgucm91bmQoaGVpZ2h0ICogMC4wMTIpKTtcclxuICAgICAgICBjb25zdCBuYXZZID0gaGVpZ2h0ICogMC45MTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFuZWxUb3AgPSB0aGlzLm1haW5UaXRsZVRleHQueSArIHRoaXMubWFpblRpdGxlVGV4dC5oZWlnaHQgKyBwYW5lbEdhcDtcclxuICAgICAgICBjb25zdCBwYW5lbEJvdHRvbSA9IG5hdlkgLSBwYW5lbEdhcDtcclxuICAgICAgICBjb25zdCBwYW5lbEhlaWdodCA9IE1hdGgubWF4KDAsIHBhbmVsQm90dG9tIC0gcGFuZWxUb3ApO1xyXG4gICAgICAgIGNvbnN0IHBhbmVsV2lkdGggPSBNYXRoLm1heCgwLCB3aWR0aCAtIHBhbmVsTWFyZ2luICogMik7XHJcblxyXG4gICAgICAgIHRoaXMubGF5b3V0ID0ge1xyXG4gICAgICAgICAgICBwYW5lbFRvcCxcclxuICAgICAgICAgICAgcGFuZWxIZWlnaHQsXHJcbiAgICAgICAgICAgIHBhbmVsV2lkdGgsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gaW1hZ2VuIGRlIGxhIHBhZ2luYVxyXG4gICAgICAgIHRoaXMuc2xpZGVJbWFnZSA9IHRoaXMuYWRkLmltYWdlKFxyXG4gICAgICAgICAgICBjZW50ZXJYLFxyXG4gICAgICAgICAgICBwYW5lbFRvcCArIHBhbmVsSGVpZ2h0IC8gMixcclxuICAgICAgICAgICAgdGhpcy5wYWdlc1swXS5rZXlcclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMuX2ZpdEltYWdlKHRoaXMuc2xpZGVJbWFnZSwgcGFuZWxXaWR0aCwgcGFuZWxIZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyBpbmRpY2Fkb3IgZGUgcGFnaW5hXHJcbiAgICAgICAgdGhpcy5wYWdlSW5kaWNhdG9yID0gdGhpcy5hZGQudGV4dChjZW50ZXJYLCBuYXZZICsgMjAsICcnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEJPVE9ORVMgREUgTkFWRUdBQ0nDk05cclxuICAgICAgICBjb25zdCBidXR0b25UZXh0U3R5bGUgPSB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzI4cHgnLCBjb2xvcjogJyMwMDAwMDAnIH07XHJcbiAgICAgICAgLy8gYm90w7NuIEFudGVyaW9yXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBjZW50ZXJYIC0gMTY1LFxyXG4gICAgICAgICAgICB5OiBuYXZZICsgMjAsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnQW50ZXJpb3InLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnByZXYoKSxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gYm90w7NuIFNpZ3VpZW50ZVxyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogY2VudGVyWCArIDE2NSxcclxuICAgICAgICAgICAgeTogbmF2WSArIDIwLFxyXG4gICAgICAgICAgICBsYWJlbDogJ1NpZ3VpZW50ZScsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMubmV4dCgpLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXJQYWdlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgX2ZpdEltYWdlKGltZywgbWF4VywgbWF4SCkge1xyXG4gICAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4obWF4VyAvIGltZy53aWR0aCwgbWF4SCAvIGltZy5oZWlnaHQpO1xyXG4gICAgICAgIGltZy5zZXRTY2FsZShzY2FsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyUGFnZSgpIHtcclxuICAgICAgICBjb25zdCBwID0gdGhpcy5wYWdlc1t0aGlzLnBhZ2VJbmRleF07XHJcbiAgICAgICAgdGhpcy5tYWluVGl0bGVUZXh0LnNldFRleHQocC50aXRsZSA/PyAnVHV0b3JpYWwnKTtcclxuICAgICAgICB0aGlzLnNsaWRlSW1hZ2Uuc2V0VGV4dHVyZShwLmtleSk7XHJcbiAgICAgICAgdGhpcy5fZml0SW1hZ2UodGhpcy5zbGlkZUltYWdlLCB0aGlzLmxheW91dC5wYW5lbFdpZHRoLCB0aGlzLmxheW91dC5wYW5lbEhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5wYWdlSW5kaWNhdG9yLnNldFRleHQoYCR7dGhpcy5wYWdlSW5kZXggKyAxfSBkZSAke3RoaXMucGFnZXMubGVuZ3RofWApO1xyXG4gICAgfVxyXG5cclxuICAgIG5leHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGFnZUluZGV4IDwgdGhpcy5wYWdlcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZUluZGV4Kys7XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUGFnZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcmV2KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhZ2VJbmRleCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5wYWdlSW5kZXgtLTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJQYWdlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxufVxyXG4iLCIvLyBQYW50YWxsYSBkZSBDb25maWd1cmFjacOzblxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGVuc3VyZVN0b3JlZEF1ZGlvU2V0dGluZ3MsIGdldFN0b3JlZE11c2ljVm9sdW1lLCBnZXRTdG9yZWRTZnhWb2x1bWUsIHNldFN0b3JlZE11c2ljVm9sdW1lLCBzZXRTdG9yZWRTZnhWb2x1bWUsIGFwcGx5U3RvcmVkVm9sdW1lIH0gZnJvbSAnLi4vVUkvQXVkaW8uanMnO1xyXG5pbXBvcnQgeyBjcmVhdGVJY29uQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29uZmlndXJhdGlvbl9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29uZmlndXJhdGlvbl9TY2VuZScpO1xyXG5cclxuICAgICAgICB0aGlzLm11c2ljVm9sdW1lU2xpZGVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlciA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBpbcOhZ2VuZXMgZm9uZG8geSB1aVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvRkxFQ0hBX1ZPTFZFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gY29udHJvbGVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdkZXJUZWNsYXMnLCAnQVNTRVRTL1VJL0NPTlRST0xFUy9kZXIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdpenFUZWNsYXMnLCAnQVNTRVRTL1VJL0NPTlRST0xFUy9penEucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIHNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlO1xyXG5cclxuICAgICAgICAvLyBGb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAgICAgLnNldERlcHRoKC0xKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG8gZGUgbGEgZXNjZW5hXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjEsICdDb25maWd1cmFjacOzbicsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBTdWJ0aXR1bG8gZGUgbXVzaWNhXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjIsICdWb2x1bWVuIGRlIGxhIG3DunNpY2EnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vLy8gVk9MVU1FTkVTIC8vLy9cclxuICAgICAgICBlbnN1cmVTdG9yZWRBdWRpb1NldHRpbmdzKCk7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbE11c2ljVm9sdW1lID0gZ2V0U3RvcmVkTXVzaWNWb2x1bWUoKTtcclxuICAgICAgICBjb25zdCBpbml0aWFsU2Z4Vm9sdW1lID0gZ2V0U3RvcmVkU2Z4Vm9sdW1lKCk7XHJcblxyXG4gICAgICAgIC8vIHNlIGFwbGljYSBlbCB2b2x1bWVuIG5hZGEgbWFzIGNhcmdhclxyXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBiYXJyYSBkZSB2b2x1bWVuIChtdXNpY2EpXHJcbiAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZVNsaWRlciA9IHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5kb20oY2VudGVyWCwgaGVpZ2h0ICogMC4yNilcclxuICAgICAgICAgICAgLmNyZWF0ZUZyb21IVE1MKGA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD1cIjFcIiBzdGVwPVwiMC4wMVwiIHZhbHVlPVwiJHtpbml0aWFsTXVzaWNWb2x1bWV9XCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6MjIwcHg7IGhlaWdodDoyMHB4OyBhY2NlbnQtY29sb3I6IzAwYWFmZjsgYm9yZGVyLXJhZGl1czo1cHg7XCIvPlxyXG4gICAgICAgICAgICBgKTtcclxuXHJcbiAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZVNsaWRlci5hZGRMaXN0ZW5lcignaW5wdXQnKTtcclxuICAgICAgICB0aGlzLm11c2ljVm9sdW1lU2xpZGVyLm9uKCdpbnB1dCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBzZXRTdG9yZWRNdXNpY1ZvbHVtZSh0YXJnZXQudmFsdWUpO1xyXG4gICAgICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gU3VidGl0dWxvIGRlIGVmZWN0b3NcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGhlaWdodCAqIDAuMzIsICdWb2x1bWVuIGRlIGVmZWN0b3MnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGJhcnJhIGRlIHZvbHVtZW4gKGVmZWN0b3MpXHJcbiAgICAgICAgdGhpcy5zZnhWb2x1bWVTbGlkZXIgPSB0aGlzLmFkZFxyXG4gICAgICAgICAgICAuZG9tKGNlbnRlclgsIGhlaWdodCAqIDAuMzgpXHJcbiAgICAgICAgICAgIC5jcmVhdGVGcm9tSFRNTChgPGlucHV0IHR5cGU9XCJyYW5nZVwiIG1pbj1cIjBcIiBtYXg9XCIxXCIgc3RlcD1cIjAuMDFcIiB2YWx1ZT1cIiR7aW5pdGlhbFNmeFZvbHVtZX1cIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDoyMjBweDsgaGVpZ2h0OjIwcHg7IGFjY2VudC1jb2xvcjojMDBhYWZmOyBib3JkZXItcmFkaXVzOjVweDtcIi8+XHJcbiAgICAgICAgICAgIGApO1xyXG5cclxuICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlci5hZGRMaXN0ZW5lcignaW5wdXQnKTtcclxuICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlci5vbignaW5wdXQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgICAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgc2V0U3RvcmVkU2Z4Vm9sdW1lKHRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vLy8vLy8vXHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBWb2x2ZXIgYXRyw6FzXHJcbiAgICAgICAgY3JlYXRlSWNvbkJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcclxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC4wOCxcclxuICAgICAgICAgICAgdGV4dHVyZTogJ2JvdG9uVm9sdmVyJyxcclxuICAgICAgICAgICAgc2NhbGU6IDEsXHJcbiAgICAgICAgICAgIGhvdmVyU2NhbGU6IDEuMSxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWVudV9TY2VuZScpLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBTZXBhcmFkb3IgdmlzdWFsXHJcbiAgICAgICAgY29uc3QgbGluZSA9IHRoaXMuYWRkLmdyYXBoaWNzKCk7XHJcbiAgICAgICAgICAgIGxpbmUubGluZVN0eWxlKDMsIDB4MDAwMDAwLCAxKTsgLy8gZ3Jvc29yLCBjb2xvciwgYWxwaGFcclxuICAgICAgICAgICAgbGluZS5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgbGluZS5tb3ZlVG8od2lkdGggKiAwLjEsIGhlaWdodCAqIDAuNDYpOyAgIC8vIGluaWNpbyAoMjAlIGRlbCBhbmNobylcclxuICAgICAgICAgICAgbGluZS5saW5lVG8od2lkdGggKiAwLjksIGhlaWdodCAqIDAuNDYpOyAgIC8vIGZpbmFsICg4MCUgZGVsIGFuY2hvKVxyXG4gICAgICAgICAgICBsaW5lLnN0cm9rZVBhdGgoKTtcclxuXHJcbiAgICAgICAgLy8gQ29udHJvbGVzXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjUyLCAnQ29udHJvbGVzJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBzZXBhcmF0aW9uID0gNDAwO1xyXG5cclxuICAgICAgICAvLyBNaW5pLXR1dG9yaWFsXHJcbiAgICAgICAgLy8gVEVDTEFTIERFUkVDSEFcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSh3aWR0aCAvIDIgKyBzZXBhcmF0aW9uIC8gMiwgMzgwLCAnZGVyVGVjbGFzJylcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMzUpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICAvLyBURUNMQVMgSVpRVUlFUkRBXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyIC0gc2VwYXJhdGlvbiAvIDIsIDM4MCwgJ2l6cVRlY2xhcycpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjM1KVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIHNlIGxpbXBpYSBlbCBzbGlkZXIgYWwgc2FsaXIgZGUgbGEgZXNjZW5hXHJcbiAgICAgICAgLy8gKGFzw60gc2UgZXZpdGEgcXVlIHNlIGFjdW11bGVuIHNpIGVudHJhcyB5IHNhbGVzIHZhcmlhcyB2ZWNlcylcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbmNlKFBoYXNlci5TY2VuZXMuRXZlbnRzLlNIVVRET1dOLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm11c2ljVm9sdW1lU2xpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11c2ljVm9sdW1lU2xpZGVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZVNsaWRlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11c2ljVm9sdW1lU2xpZGVyID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5zZnhWb2x1bWVTbGlkZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZnhWb2x1bWVTbGlkZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZnhWb2x1bWVTbGlkZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gUGFudGFsbGEgZGUgQ3LDqWRpdG9zXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWRpdHNfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NyZWRpdHNfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIGltw6FnZW5lcyBmb25kbyB5IHVpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9GTEVDSEFfVk9MVkVSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbG9nbycsICdBU1NFVFMvTE9HTy9sb2dvX2VtcHJlc2EucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjbycsJ0FTU0VUUy9VSS9NQVJDT1MvVkFDSU9TL01BUkNPU19FU0NFTkFSSU8ucG5nJylcclxuXHJcbiAgICAgICAgLy8gc29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcclxuXHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscz8uZGVmYXVsdFRleHRTdHlsZSA/PyB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gZm9uZG9cclxuICAgICAgICB0aGlzLmFkZFxyXG4gICAgICAgICAgICAuaW1hZ2UoMCwgMCwgJ2ZvbmRvJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpXHJcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gdMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC50ZXh0KGNlbnRlclgsIGhlaWdodCAqIDAuMTUsICdDcsOpZGl0b3MnLCB7XHJcbiAgICAgICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZicsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gbm9tYnJlcyBkZWwgZXF1aXBvXHJcbiAgICAgICAgY29uc3Qgbm9tYnJlc0VxdWlwbyA9IFtcclxuICAgICAgICAgICAgJ0dSVVBPIDUgLSBTVU5TRVQgQVJDQURFJyxcclxuICAgICAgICAgICAgJ1NhcmEgQnVlbm8gRXN0ZWJhbicsXHJcbiAgICAgICAgICAgICdBbnRvbmlvIE1vcsOhbiBCYXJyZXJhJyxcclxuICAgICAgICAgICAgJ0NyaXN0aW5lIE5pb2thIFRld28nLFxyXG4gICAgICAgICAgICAnw4FsdmFybyBJYsOhw7FleiBNb250ZXJvJyxcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICAvLyBtYXJjbyBjZW50cmFkb1xyXG4gICAgICAgIGNvbnN0IGZyYW1lWSA9IGhlaWdodCAqIDAuNDI7XHJcbiAgICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLmFkZC5pbWFnZShjZW50ZXJYLCBmcmFtZVksICdtYXJjbycpLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBlc2NhbGEgZGVsIG1hcmNvIHNlZ8O6biBsYSByZXNvbHVjacOzblxyXG4gICAgICAgIGNvbnN0IHRhcmdldEZyYW1lV2lkdGggPSB3aWR0aCAqIDAuNDU7XHJcbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0YXJnZXRGcmFtZVdpZHRoIC8gZnJhbWUud2lkdGg7XHJcbiAgICAgICAgZnJhbWUuc2V0U2NhbGUoc2NhbGUpO1xyXG5cclxuICAgICAgICAvLyB0ZXh0b3MgZGVudHJvIGRlbCBtYXJjbyBjZW50cmFkb3MgdmVydGljYWxtZW50ZVxyXG4gICAgICAgIGNvbnN0IGxpbmVTcGFjaW5nID0gMzA7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRZID0gZnJhbWVZIC0gKChub21icmVzRXF1aXBvLmxlbmd0aCAtIDEpICogbGluZVNwYWNpbmcpIC8gMjtcclxuXHJcbiAgICAgICAgbm9tYnJlc0VxdWlwby5mb3JFYWNoKChub21icmUsIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXNIZWFkZXIgPSBpID09PSAwO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFxyXG4gICAgICAgICAgICAgICAgLnRleHQoY2VudGVyWCwgc3RhcnRZICsgaSAqIGxpbmVTcGFjaW5nLCBub21icmUsIHtcclxuICAgICAgICAgICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogaXNIZWFkZXIgPyAnMjJweCcgOiAnMjBweCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGxvZ28gZW1wcmVzYVxyXG4gICAgICAgIHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5pbWFnZShjZW50ZXJYLCBoZWlnaHQgKiAwLjc4LCAnbG9nbycpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC42KTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIFZvbHZlciBhdHLDoXNcclxuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogd2lkdGggKiAwLjA2LFxyXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjA4LFxyXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxyXG4gICAgICAgICAgICBzY2FsZTogMSxcclxuICAgICAgICAgICAgaG92ZXJTY2FsZTogMS4xLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyksXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLy9QYW50YWxsYSBkZSBGaW5cclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVuZEdhbWVfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0VuZEdhbWVfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLndpbm5lciA9IGRhdGEud2lubmVyO1xyXG4gICAgICAgIHRoaXMucGxheWVyMSA9IGRhdGEucGxheWVyMTtcclxuICAgICAgICB0aGlzLnBsYXllcjIgPSBkYXRhLnBsYXllcjI7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIGltw6FnZW5lcyBmb25kbyB5IHVpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX0dfU0VMRUNDSU9OQURPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW5TZWxlY2Npb25hcicsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX0cucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIHNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7IFxyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7XHJcblxyXG4gICAgICAgIGNvbnN0IGNoYXJQMSA9IHRoaXMucGxheWVyMS5uYW1lO1xyXG4gICAgICAgIGNvbnN0IGNoYXJQMiA9IHRoaXMucGxheWVyMi5uYW1lO1xyXG5cclxuICAgICAgICAvLyBGb25kbyAoY29sb3IgY3JlbWEpXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvJykuc2V0T3JpZ2luKDApLnNldERlcHRoKC0xKTtcclxuXHJcbiAgICAgICAgLy8gVMOtdHVsbyBwcmluY2lwYWxcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0ICogMC4xOCwgXCLCoUZJTiBERUwgUEFSVElETyFcIiwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc2NHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIGRlbCBnYW5hZG9yXHJcbiAgICAgICAgY29uc3Qgd2lubmVyVGV4dCA9XHJcbiAgICAgICAgICAgIHRoaXMud2lubmVyID09PSBcInBsYXllcjFcIlxyXG4gICAgICAgICAgICAgICAgPyBcIkdhbmFkb3I6IFwiICsgY2hhclAxXHJcbiAgICAgICAgICAgICAgICA6IFwiR2FuYWRvcjogXCIgKyBjaGFyUDI7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgKiAwLjQwLCB3aW5uZXJUZXh0LCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIHBhcmEgdm9sdmVyIGFsIG1lbsO6IHByaW5jaXBhbFxyXG4gICAgICAgIGNvbnN0IGJ1dHRvblRleHRTdHlsZSA9IHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjZweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxyXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjYwLFxyXG4gICAgICAgICAgICBsYWJlbDogJ1ZvbHZlciBhIGluaWNpbycsXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxyXG4gICAgICAgICAgICBzY2FsZTogMyxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudV9TY2VuZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCIvLyBQYW50YWxsYSBwYXJhIGVsZWdpciBNb2RvIGRlIEp1ZWdvXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY3JlYXRlVUlCdXR0b24sIGNyZWF0ZUljb25CdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcclxuaW1wb3J0IHsgYXBwbHlTdG9yZWRWb2x1bWUgfSBmcm9tICcuLi9VSS9BdWRpby5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTW9kZUdhbWVfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ01vZGVHYW1lX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBib3RvbmVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9TRUxFQ0NJT05ETy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fU0lOX1NFTEVDQ0lPTkFSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvRkxFQ0hBX1ZPTFZFUi5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gc29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscz8uZGVmYXVsdFRleHRTdHlsZSA/PyB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gc2UgYXBsaWNhIGVsIHZvbHVtZW5cclxuICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSlcclxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyB0w610dWxvXHJcbiAgICAgICAgdGhpcy5hZGRcclxuICAgICAgICAgICAgLnRleHQod2lkdGggLyAyLCBoZWlnaHQgKiAwLjE4LCAnTW9kbyBkZSBKdWVnbycsIHtcclxuICAgICAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBsYXlvdXRcclxuICAgICAgICBjb25zdCBidXR0b25ZID0gaGVpZ2h0ICogMC41O1xyXG4gICAgICAgIGNvbnN0IHNwYWNpbmcgPSBNYXRoLm1pbigyODAsIHdpZHRoICogMC4zKTtcclxuICAgICAgICBjb25zdCBzdGFydFggPSB3aWR0aCAvIDIgLSBzcGFjaW5nIC8gMjtcclxuXHJcbiAgICAgICAgY29uc3QgYnV0dG9uVGV4dFN0eWxlID0ge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBzdGFydE1vZGUgPSAobW9kZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LnNldCgnbW9kZScsIG1vZGUpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTW9kbyBzZWxlY2Npb25hZG86JywgbW9kZSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NlbGVjdFBsYXllcl9TY2VuZScsIHsgbW9kZTogbW9kZSB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gTE9DQUxcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHN0YXJ0WCxcclxuICAgICAgICAgICAgeTogYnV0dG9uWSxcclxuICAgICAgICAgICAgbGFiZWw6ICdMb2NhbCcsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHN0YXJ0TW9kZSgnbG9jYWwnKSxcclxuICAgICAgICAgICAgc2NhbGU6IDIsXHJcbiAgICAgICAgICAgIHRleHR1cmVOb3JtYWw6ICdib3RvblNpblNlbGVjY2lvbmFyJyxcclxuICAgICAgICAgICAgdGV4dHVyZUhvdmVyOiAnYm90b25TZWxlY2Npb25hZG8nLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIFJFRFxyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogc3RhcnRYICsgc3BhY2luZyxcclxuICAgICAgICAgICAgeTogYnV0dG9uWSxcclxuICAgICAgICAgICAgbGFiZWw6ICdSZWQnLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBzdGFydE1vZGUoJ29ubGluZScpLFxyXG4gICAgICAgICAgICBzY2FsZTogMixcclxuICAgICAgICAgICAgdGV4dHVyZU5vcm1hbDogJ2JvdG9uU2luU2VsZWNjaW9uYXInLFxyXG4gICAgICAgICAgICB0ZXh0dXJlSG92ZXI6ICdib3RvblNlbGVjY2lvbmFkbycsXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gdm9sdmVyXHJcbiAgICAgICAgY3JlYXRlSWNvbkJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcclxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC4wOCxcclxuICAgICAgICAgICAgdGV4dHVyZTogJ2JvdG9uVm9sdmVyJyxcclxuICAgICAgICAgICAgc2NhbGU6IDEsXHJcbiAgICAgICAgICAgIGhvdmVyU2NhbGU6IDEuMSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWVudV9TY2VuZScpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vUGFudGFsbGEgZGUgUGF1c2FcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhdXNlX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdQYXVzZV9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gSW3DoWdlbmVzIGZvbmRvIHkgdWlcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL1ZPTFZFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfR19TRUxFQ0NJT05BRE8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfRy5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gU29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7IFxyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKS5zZXRPcmlnaW4oMCkuc2V0RGVwdGgoLTEpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjE4LCAnUEFVU0EnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgYnV0dG9uVGV4dFN0eWxlID0ge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBDb250aW51YXJcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IGNlbnRlclgsXHJcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuNTIsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnQ29udGludWFyJyxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIHNjYWxlOiAyLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKCdHYW1lX1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIE1lbsO6IFByaW5jaXBhbFxyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogY2VudGVyWCxcclxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC42NixcclxuICAgICAgICAgICAgbGFiZWw6ICdNZW7DuiBQcmluY2lwYWwnLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgc2NhbGU6IDIsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVTY2VuZSA9IHRoaXMuc2NlbmUuZ2V0KCdHYW1lX1NjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZVNjZW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZVNjZW5lLmlucHV0LmtleWJvYXJkLnJlbW92ZUFsbExpc3RlbmVycygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWVTY2VuZS5pbnB1dC5rZXlib2FyZC5yZW1vdmVBbGxLZXlzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCdHYW1lX1NjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIi8vUGFudGFsbGEgZGUgU2VsZWNjaW9uIGRlIGp1Z2Fkb3JcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBhcHBseVN0b3JlZFZvbHVtZSwgcGxheUNsaWNrIH0gZnJvbSAnLi4vVUkvQXVkaW8uanMnO1xyXG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiwgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdFBsYXllcl9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignU2VsZWN0UGxheWVyX1NjZW5lJyk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSAwOyAgICAgICAvLyAwIC0+IGp1Z2Fkb3IxLCAxIC0+IGp1Z2Fkb3IyLCBudWxsIC0+IGFtYm9zIGNvbXBsZXRvc1xyXG4gICAgICAgIHRoaXMucGxheWVySW5wdXRzID0gW107ICAgICAvLyBET01FbGVtZW50cyBQaGFzZXJcclxuICAgICAgICB0aGlzLnBsYXllcklucHV0RWxzID0gW107ICAgLy8gSFRNTElucHV0RWxlbWVudFxyXG4gICAgICAgIHRoaXMudHVyblRleHQgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMubW9kZSA9IHRoaXMucmVnaXN0cnkuZ2V0KCdtb2RlJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ01vZG8gZGUgSnVlZ286JywgdGhpcy5tb2RlKTtcclxuICAgICAgICB0aGlzLmlzSG9zdCA9IHRoaXMucmVnaXN0cnkuZ2V0KCdpc0hvc3QnKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnSG9zdDonLCB0aGlzLmlzSG9zdCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBib3RvbmVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9TRUxFQ0NJT05ETy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fU0lOX1NFTEVDQ0lPTkFSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvVk9MVkVSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW1wbGUnLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9TSU5TRUxFQ0NJT05BUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0UucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjb0p1Z2Fkb3InLCAnQVNTRVRTL1VJL01BUkNPUy9WQUNJT1MvTUFSQ09fUEVSU09OQUpFX1NFTEVDQ0lPTkFETy5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gcGVyc29uYWplc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2hhcmFjdGVyQScsICdBU1NFVFMvUEVSU09OQUpFUy9QRVJTT05BSkVTX1BPU0UvcGVyc29uYWplc19hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2hhcmFjdGVyQicsICdBU1NFVFMvUEVSU09OQUpFUy9QRVJTT05BSkVTX1BPU0UvcGVyc29uYWplc19iLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2hhcmFjdGVyQycsICdBU1NFVFMvUEVSU09OQUpFUy9QRVJTT05BSkVTX1BPU0UvcGVyc29uYWplX2MucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIHNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gc2UgbGltcGlhbiB0b2RhcyBsYXMgdGVjbGFzIGNhcHR1cmFkYXMgcG9yIG90cmFzIGVzY2VuYXNcclxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLnJlbW92ZUFsbEtleXModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG5cclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzPy5kZWZhdWx0VGV4dFN0eWxlID8/IHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzZSBhcGxpY2EgZWwgdm9sdW1lblxyXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBGb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAgICAgLnNldERlcHRoKC0xKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgNTAsICdTZWxlY2Npb25hIFBlcnNvbmFqZScsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsIGZvbnRTaXplOiAnNDBweCcsIGNvbG9yOiAnIzAwMCcsIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBTZWd1biBlbCBtb2RvIHNlIGNyZWEgdW5hIFVJIHUgb3RyYVxyXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdsb2NhbCcpIHtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVMb2NhbFVJKHdpZHRoLCBoZWlnaHQsIHN0eWxlKTtcclxuICAgICAgICB9IFxyXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdvbmxpbmUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlT25saW5lVUkod2lkdGgsIGhlaWdodCwgc3R5bGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gQm90w7NuIHZvbHZlclxyXG4gICAgICAgIGNyZWF0ZUljb25CdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuMDYsXHJcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXHJcbiAgICAgICAgICAgIHRleHR1cmU6ICdib3RvblZvbHZlcicsXHJcbiAgICAgICAgICAgIHNjYWxlOiAxLFxyXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01vZGVHYW1lX1NjZW5lJyksXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHNlIGxpbXBpYSBET00gYWwgc2FsaXJcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbmNlKFBoYXNlci5TY2VuZXMuRXZlbnRzLlNIVVRET1dOLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRzLmZvckVhY2goKGRvbSkgPT4gZG9tPy5kZXN0cm95KCkpO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcklucHV0cyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcklucHV0RWxzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQuZW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlTG9jYWxVSSh3aWR0aCwgaGVpZ2h0LCBzdHlsZSkge1xyXG4gICAgICAgIC8vIERhdG9zIGRlIGxvcyBqdWdhZG9yZXNcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBbXHJcbiAgICAgICAgICAgIHsgbmFtZTogJycsIGNoYXJhY3RlcjogbnVsbCwgY29sb3I6IDB4MDBhYWZmLCBiaWdJbWFnZTogbnVsbCwgYmlnRnJhbWU6IG51bGwsIGZyYW1lOiBudWxsIH0sXHJcbiAgICAgICAgICAgIHsgbmFtZTogJycsIGNoYXJhY3RlcjogbnVsbCwgY29sb3I6IDB4ZmY1NTU1LCBiaWdJbWFnZTogbnVsbCwgYmlnRnJhbWU6IG51bGwsIGZyYW1lOiBudWxsIH0sXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gZGUgdHVybm9cclxuICAgICAgICB0aGlzLnR1cm5UZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDkwLCAnVHVybm86IEp1Z2Fkb3IgMScsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsIGZvbnRTaXplOiAnMThweCcsIGNvbG9yOiAnIzAwMCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIFVJIGp1Z2Fkb3JlcyArIG1pbmlhdHVyYXNcclxuICAgICAgICB0aGlzLmNyZWF0ZVBsYXllcnNVSSgpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQ2hhcmFjdGVyTWluaWF0dXJlcygwLCAwKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBTaWd1aWVudGVcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoIC8gMixcclxuICAgICAgICAgICAgeTogNTAwLFxyXG4gICAgICAgICAgICBsYWJlbDogJ1NpZ3VpZW50ZScsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuaGFuZGxlTmV4dCgpLFxyXG4gICAgICAgICAgICBzY2FsZTogMS41LFxyXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW1wbGUnLFxyXG4gICAgICAgICAgICB0ZXh0dXJlSG92ZXI6ICdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogeyAuLi5zdHlsZSwgZm9udFNpemU6ICcxNHB4JywgY29sb3I6ICcjMDAwJyB9LFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlT25saW5lVUkod2lkdGgsIGhlaWdodCwgc3R5bGUpIHtcclxuICAgICAgICAvLyBEYXRvcyBkZWwganVnYWRvclxyXG4gICAgICAgIHRoaXMucGxheWVycyA9IFtcclxuICAgICAgICAgICAgeyBuYW1lOiB0aGlzLnJlZ2lzdHJ5LmdldCgndXNlcm5hbWUnKSB8fCAnSnVnYWRvclgnLCBjaGFyYWN0ZXI6IG51bGwsIGNvbG9yOiAweDAwYWFmZiwgYmlnSW1hZ2U6IG51bGwsIGJpZ0ZyYW1lOiBudWxsLCBmcmFtZTogbnVsbCB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDEwMCwgYCR7dGhpcy5wbGF5ZXJzWzBdLm5hbWV9YCwgeyBcclxuICAgICAgICAgICAgLi4uc3R5bGUsIGZvbnRTaXplOiAnMjhweCcsIGNvbG9yOiAnIzAwMCcsIGZvbnRTdHlsZTogJ2JvbGQnIFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFRleHRvIGRlIHR1cm5vIChFc3RhZG8gZW4gZXN0ZSBjYXNvLCBwZXJvIGNvbiBlbCBtaXNtbyBub21icmUgcGFyYSBtYW50ZXJuZXIgbGEgbWlzbWEgZnVuY2lvbmFsaWRhZClcclxuICAgICAgICB0aGlzLnR1cm5UZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDEzMCwgJ05pbmfDum4gcGVyc29uYWplIHNlbGVjY2lvbmFkbycsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsIGZvbnRTaXplOiAnMThweCcsIGNvbG9yOiAnIzAwMCcsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIFVJIGp1Z2Fkb3JlcyArIG1pbmlhdHVyYXNcclxuICAgICAgICB0aGlzLmNyZWF0ZVBsYXllck9ubGluZVVJKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVDaGFyYWN0ZXJNaW5pYXR1cmVzKDE1MCwgMCk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBTaWd1aWVudGVcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoIC8gMixcclxuICAgICAgICAgICAgeTogNTAwLFxyXG4gICAgICAgICAgICBsYWJlbDogJ1NpZ3VpZW50ZScsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuaGFuZGxlTmV4dCgpLFxyXG4gICAgICAgICAgICBzY2FsZTogMS41LFxyXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW1wbGUnLFxyXG4gICAgICAgICAgICB0ZXh0dXJlSG92ZXI6ICdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogeyAuLi5zdHlsZSwgZm9udFNpemU6ICcxNHB4JywgY29sb3I6ICcjMDAwJyB9LFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWEgbGEgVUkgZGUgc2VsZWNjacOzbiBkZSBqdWdhZG9yZXNcclxuICAgIGNyZWF0ZVBsYXllcnNVSSgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlO1xyXG5cclxuICAgICAgICBjb25zdCBwb3NpdGlvbnNYID0gW3dpZHRoICogMC4yNSwgd2lkdGggKiAwLjc1XTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2goKHBsYXllciwgaWR4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHggPSBwb3NpdGlvbnNYW2lkeF07XHJcblxyXG4gICAgICAgICAgICAvLyBMYWJlbCBub21icmVcclxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dCh4LCAxMDAsICdOb21icmU6JywgeyAuLi5zdHlsZSwgZm9udFNpemU6ICcyNHB4JywgY29sb3I6ICcjMDAwJyB9KVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAgICAgLy8gSW5wdXQgbm9tYnJlXHJcbiAgICAgICAgICAgIGNvbnN0IGRvbSA9IHRoaXMuYWRkLmRvbSh4LCAxNDApLmNyZWF0ZUZyb21IVE1MKGBcclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiTm9tYnJlIGp1Z2Fkb3JcIiBtYXhsZW5ndGg9XCIxMFwiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIlxyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOjE1MHB4O1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6NnB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZToxNnB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiR7c3R5bGUuZm9udEZhbWlseX07XHJcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czoxMnB4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogNnB4IHNvbGlkICNGRkFBMDA7XHJcbiAgICAgICAgICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcclxuICAgICAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOmNlbnRlcjtcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiNmMGYwZjA7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMnMsIGJveC1zaGFkb3cgMC4ycztcIlxyXG4gICAgICAgICAgICAgICAgb25mb2N1cz1cInRoaXMuc3R5bGUuYm9yZGVyQ29sb3I9JyNGRjgzMTYnOyB0aGlzLnN0eWxlLmJveFNoYWRvdz0nMCAwIDVweCAjRkY4MzE2JztcIlxyXG4gICAgICAgICAgICAgICAgb25ibHVyPVwidGhpcy5zdHlsZS5ib3JkZXJDb2xvcj0nI0ZGQUEwMCc7IHRoaXMuc3R5bGUuYm94U2hhZG93PSdub25lJztcIlxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgYCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBpbnB1dEVsID0gLyoqIEB0eXBlIHtIVE1MSW5wdXRFbGVtZW50fSAqLyAoZG9tLm5vZGUucXVlcnlTZWxlY3RvcignaW5wdXQnKSk7XHJcblxyXG4gICAgICAgICAgICAvLyBwYXJhIHF1ZSBlbCB0ZWNsYWRvIG5vIGludGVyZmllcmEgY29uIFBoYXNlclxyXG4gICAgICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQuZW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpKTtcclxuXHJcbiAgICAgICAgICAgIC8vIExldHJhcyArIGVzcGFjaW9zXHJcbiAgICAgICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpbnB1dEVsLnZhbHVlID0gaW5wdXRFbC52YWx1ZS5yZXBsYWNlKC9bXmEtekEtWsOALcO/w7HDkSBdL2csICcnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBsYXllcklucHV0c1tpZHhdID0gZG9tO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcklucHV0RWxzW2lkeF0gPSBpbnB1dEVsO1xyXG5cclxuICAgICAgICAgICAgLy8g4oCcU2xvdOKAnSBncmFuZGUgKyBtYXJjb1xyXG4gICAgICAgICAgICBwbGF5ZXIuYmlnSW1hZ2UgPSB0aGlzLmFkZC5pbWFnZSh3aWR0aCAqICgwLjI1ICsgMC41ICogaWR4KSwgaGVpZ2h0ICogMC42LCAnY2hhcmFjdGVyQScpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMS4yKVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICBwbGF5ZXIuYmlnRnJhbWUgPSB0aGlzLmFkZC5pbWFnZShwbGF5ZXIuYmlnSW1hZ2UueCwgcGxheWVyLmJpZ0ltYWdlLnksICdtYXJjb0p1Z2Fkb3InKVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDIuOClcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIHBsYXllci5iaWdGcmFtZS50ZXh0dXJlLnNldEZpbHRlcihQaGFzZXIuVGV4dHVyZXMuRmlsdGVyTW9kZS5ORUFSRVNUKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE1hcmNvIHNvYnJlIG1pbmlhdHVyYSAocmVjdMOhbmd1bG8pXHJcbiAgICAgICAgICAgIHBsYXllci5mcmFtZSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCA2MCwgMTIwKVxyXG4gICAgICAgICAgICAgICAgLnNldFN0cm9rZVN0eWxlKDQsIHBsYXllci5jb2xvcilcclxuICAgICAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVHVybm8gZW1waWV6YSBlbiBqdWdhZG9yIDFcclxuICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gMDtcclxuICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlUGxheWVyT25saW5lVUkoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG5cclxuICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLnBsYXllcnNbMF07XHJcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcclxuXHJcbiAgICAgICAgLy8g4oCcU2xvdOKAnSBncmFuZGUgKyBtYXJjb1xyXG4gICAgICAgIHBsYXllci5iaWdJbWFnZSA9IHRoaXMuYWRkLmltYWdlKGNlbnRlclggLSAxNTAsIGhlaWdodCAqIDAuNTgsICdjaGFyYWN0ZXJBJylcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEuMilcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgcGxheWVyLmJpZ0ZyYW1lID0gdGhpcy5hZGQuaW1hZ2UocGxheWVyLmJpZ0ltYWdlLngsIHBsYXllci5iaWdJbWFnZS55LCAnbWFyY29KdWdhZG9yJylcclxuICAgICAgICAgICAgLnNldFNjYWxlKDIuOClcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgIHBsYXllci5iaWdGcmFtZS50ZXh0dXJlLnNldEZpbHRlcihQaGFzZXIuVGV4dHVyZXMuRmlsdGVyTW9kZS5ORUFSRVNUKTtcclxuXHJcbiAgICAgICAgLy8gTWFyY28gc29icmUgbWluaWF0dXJhIChyZWN0w6FuZ3VsbylcclxuICAgICAgICBwbGF5ZXIuZnJhbWUgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgNjAsIDEyMClcclxuICAgICAgICAgICAgLnNldFN0cm9rZVN0eWxlKDQsIHBsYXllci5jb2xvcilcclxuICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWEgbGFzIG1pbmlhdHVyYXMgZGUgbG9zIHBlcnNvbmFqZXMgc2VsZWNjaW9uYWJsZXNcclxuICAgIGNyZWF0ZUNoYXJhY3Rlck1pbmlhdHVyZXMoeCwgeSkge1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuXHJcbiAgICAgICAgY29uc3QgcGVyc29uYWplcyA9IFsnY2hhcmFjdGVyQScsICdjaGFyYWN0ZXJCJywgJ2NoYXJhY3RlckMnXTtcclxuICAgICAgICBjb25zdCBzcGFjaW5nID0gMTUwO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0WCA9IHdpZHRoIC8gMiAtIHNwYWNpbmcgLyAyO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0WSA9IGhlaWdodCAqIDAuNTtcclxuXHJcbiAgICAgICAgY29uc3QgcG9zaXRpb25zID0gW1xyXG4gICAgICAgICAgICB7IHg6IHN0YXJ0WCArIHgsIHk6IHN0YXJ0WSArIHkgfSxcclxuICAgICAgICAgICAgeyB4OiBzdGFydFggKyB4ICsgc3BhY2luZywgeTogc3RhcnRZICsgeSB9LFxyXG4gICAgICAgICAgICB7IHg6IHN0YXJ0WCArIHggKyBzcGFjaW5nIC8gMiwgeTogc3RhcnRZICsgeSArIHNwYWNpbmcgLyAyIH0sXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgcGVyc29uYWplcy5mb3JFYWNoKChub21icmUsIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbWluaSA9IHRoaXMuYWRkLmltYWdlKHBvc2l0aW9uc1tpXS54LCBwb3NpdGlvbnNbaV0ueSwgbm9tYnJlKVxyXG4gICAgICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDAuNDUpXHJcbiAgICAgICAgICAgICAgICAuc2V0RGF0YSgnY2hhcmFjdGVyTmFtZScsIG5vbWJyZSk7XHJcblxyXG4gICAgICAgICAgICBtaW5pLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHBsYXlDbGljayh0aGlzLCAnc29uaWRvQ2xpY2snKTtcclxuICAgICAgICAgICAgICAgIHRoaXMub25NaW5pQ2xpY2tlZChub21icmUsIG1pbmkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBMw7NnaWNhIGFsIGhhY2VyIGNsaWNrIHNvYnJlIHVuYSBtaW5pYXR1cmEgKHBlcnNvbmFqZSlcclxuICAgIG9uTWluaUNsaWNrZWQoY2hhcmFjdGVyTmFtZSwgbWluaSkge1xyXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdvbmxpbmUnKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMucGxheWVyc1swXTtcclxuXHJcbiAgICAgICAgICAgIC8vIFNpIGVsIHBlcnNvbmFqZSB5YSBlcyBlbCBzZWxlY2Npb25hZG8sIHNlIGRlc2VsZWNjaW9uYVxyXG4gICAgICAgICAgICBpZiAocGxheWVyLmNoYXJhY3RlciA9PT0gY2hhcmFjdGVyTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLmNoYXJhY3RlciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmJpZ0ltYWdlKSBwbGF5ZXIuYmlnSW1hZ2Uuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmZyYW1lKSBwbGF5ZXIuZnJhbWUuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTaSBlcyB1bm8gbnVldm8sIHNlIHNlbGVjY2lvbmEgKHkgYXV0b23DoXRpY2FtZW50ZSBkZXNtYXJjYSBlbCBhbnRlcmlvciBzaSBsbyBodWJpZXJhKVxyXG4gICAgICAgICAgICAgICAgcGxheWVyLmNoYXJhY3RlciA9IGNoYXJhY3Rlck5hbWU7XHJcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmJpZ0ltYWdlKSBwbGF5ZXIuYmlnSW1hZ2Uuc2V0VGV4dHVyZShjaGFyYWN0ZXJOYW1lKS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5mcmFtZSkgcGxheWVyLmZyYW1lLnNldFBvc2l0aW9uKG1pbmkueCwgbWluaS55KS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcclxuICAgICAgICAgICAgcmV0dXJuOyAvLyBTYWxpbW9zIHBhcmEgbm8gZWplY3V0YXIgbGEgbMOzZ2ljYSBkZSB0dXJub3MgZGVsIG1vZG8gbG9jYWxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG93bmVySW5kZXggPSB0aGlzLnBsYXllcnMuZmluZEluZGV4KHAgPT4gcC5jaGFyYWN0ZXIgPT09IGNoYXJhY3Rlck5hbWUpO1xyXG5cclxuICAgICAgICAvLyBzaSBlbCBwZXJzb25hamUgeWEgcGVydGVuZWNlIGEgYWxndWllbiwgc2UgZGVzZWxlY2Npb25hIHNpZW1wcmVcclxuICAgICAgICBpZiAob3duZXJJbmRleCAhPT0gLTEpIHtcclxuICAgICAgICAgICAgY29uc3Qgb3duZXIgPSB0aGlzLnBsYXllcnNbb3duZXJJbmRleF07XHJcblxyXG4gICAgICAgICAgICBvd25lci5jaGFyYWN0ZXIgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYgKG93bmVyLmJpZ0ltYWdlKSBvd25lci5iaWdJbWFnZS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgaWYgKG93bmVyLmZyYW1lKSBvd25lci5mcmFtZS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIEVsIHR1cm5vIHBhc2EgYSBlc2UganVnYWRvciBwYXJhIHF1ZSBlbGlqYSBpbm1lZGlhdGFtZW50ZSBvdHJvXHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSBvd25lckluZGV4O1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNpIGVsIHBlcnNvbmFqZSBubyBwZXJ0ZW5lY2UgYSBuYWRpZSwgbG8gYXNpZ25hbW9zIHNlZ8O6biBlbCB0dXJubyAobyBzZWfDum4gcXVpw6luIGZhbHRlKVxyXG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5wbGF5ZXJzWzBdO1xyXG4gICAgICAgIGNvbnN0IHAyID0gdGhpcy5wbGF5ZXJzWzFdO1xyXG5cclxuICAgICAgICBsZXQgdGFyZ2V0SW5kZXggPSB0aGlzLmN1cnJlbnRUdXJuO1xyXG5cclxuICAgICAgICAvLyBzaSBjdXJyZW50VHVybiBlcyBudWxsIChhbWJvcyB5YSB0ZW7DrWFuKSwgbm8gc2UgZGVqYSByZWVtcGxhemFyIHNpbiBkZXNlbGVjY2lvbmFyIGFudGVzLFxyXG4gICAgICAgIC8vIHBlcm8gc2kgdW5vIGVzdMOhIHZhY8Otbywgc2UgZWxpZ2UgYXV0b23DoXRpY2FtZW50ZSBlbCB2YWPDrW9cclxuICAgICAgICBpZiAodGFyZ2V0SW5kZXggPT09IG51bGwgfHwgdGFyZ2V0SW5kZXggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBpZiAoIXAxLmNoYXJhY3RlciAmJiBwMi5jaGFyYWN0ZXIpIHRhcmdldEluZGV4ID0gMDtcclxuICAgICAgICAgICAgZWxzZSBpZiAoIXAyLmNoYXJhY3RlciAmJiBwMS5jaGFyYWN0ZXIpIHRhcmdldEluZGV4ID0gMTtcclxuICAgICAgICAgICAgZWxzZSBpZiAoIXAxLmNoYXJhY3RlciAmJiAhcDIuY2hhcmFjdGVyKSB0YXJnZXRJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gYW1ib3MgdGllbmVuIHBlcnNvbmFqZTogcGFyYSBjYW1iaWFyLCBwcmltZXJvIGRlc2VsZWNjaW9uYSB1bm8gKGNsaWNrIGVuIHN1IG1pbmkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMucGxheWVyc1t0YXJnZXRJbmRleF07XHJcbiAgICAgICAgY29uc3Qgb3RoZXIgPSB0aGlzLnBsYXllcnNbMSAtIHRhcmdldEluZGV4XTtcclxuXHJcbiAgICAgICAgLy8gbm8gc2UgcGVybWl0ZSBlc2NvZ2VyIHVubyBxdWUgdGVuZ2EgZWwgb3Ryb1xyXG4gICAgICAgIGlmIChvdGhlci5jaGFyYWN0ZXIgPT09IGNoYXJhY3Rlck5hbWUpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gQXNpZ25hciBwZXJzb25hamVcclxuICAgICAgICB0YXJnZXQuY2hhcmFjdGVyID0gY2hhcmFjdGVyTmFtZTtcclxuXHJcbiAgICAgICAgaWYgKHRhcmdldC5iaWdJbWFnZSkgdGFyZ2V0LmJpZ0ltYWdlLnNldFRleHR1cmUoY2hhcmFjdGVyTmFtZSkuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICBpZiAodGFyZ2V0LmZyYW1lKSB0YXJnZXQuZnJhbWUuc2V0UG9zaXRpb24obWluaS54LCBtaW5pLnkpLnNldFZpc2libGUodHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vIHR1cm5vOiBzaSBlbCBvdHJvIGHDum4gbm8gZWxpZ2nDsywgcGFzYSBhbCBvdHJvOyBzaSB5YSBlbGlnacOzLCBxdWVkYSBlbiBudWxsIChhbWJvcyBsaXN0b3MpXHJcbiAgICAgICAgaWYgKCFvdGhlci5jaGFyYWN0ZXIpIHRoaXMuY3VycmVudFR1cm4gPSAxIC0gdGFyZ2V0SW5kZXg7XHJcbiAgICAgICAgZWxzZSB0aGlzLmN1cnJlbnRUdXJuID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbnRyb2xhIHF1ZSBwYXNhIGFsIGhhY2VyIGNsaWNrIGVuIGVsIGJvdMOzbiBTaWd1aWVudGVcclxuICAgIGhhbmRsZU5leHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ2xvY2FsJykge1xyXG4gICAgICAgICAgICAgY29uc3QgbmFtZTEgPSB0aGlzLnBsYXllcklucHV0RWxzPy5bMF0/LnZhbHVlPy50cmltKCkgPz8gJyc7XHJcbiAgICAgICAgICAgIGNvbnN0IHAxSGFzQ2hhciA9ICEhdGhpcy5wbGF5ZXJzPy5bMF0/LmNoYXJhY3RlcjtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUyID0gdGhpcy5wbGF5ZXJJbnB1dEVscz8uWzFdPy52YWx1ZT8udHJpbSgpID8/ICcnO1xyXG4gICAgICAgICAgICBjb25zdCBwMkhhc0NoYXIgPSAhIXRoaXMucGxheWVycz8uWzFdPy5jaGFyYWN0ZXI7XHJcblxyXG4gICAgICAgICAgICBjb25zdCByZWFkeSA9IChuYW1lMS5sZW5ndGggPiAwKSAmJiAobmFtZTIubGVuZ3RoID4gMCkgJiYgcDFIYXNDaGFyICYmIHAySGFzQ2hhcjtcclxuXHJcbiAgICAgICAgICAgIGlmICghcmVhZHkpIHtcclxuICAgICAgICAgICAgICAgIC8vIHNlIGFjdHVhbGl6YSBlbCB0ZXh0byBkZSBhcnJpYmEgKHR1cm5UZXh0KSBjb24gZWwgbWVuc2FqZSBlc3BlY8OtZmljb1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHNlIGRlc3RhY2EgZWwgbWVuc2FqZSBlbiByb2pvIGR1cmFudGUgMXNcclxuICAgICAgICAgICAgICAgIHRoaXMuZmxhc2hUdXJuVGV4dCgnI2IwMDAwMCcsIDkwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBzZSBndWFyZGFuIG5vbWJyZXNcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzWzBdLm5hbWUgPSBuYW1lMTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzWzFdLm5hbWUgPSBuYW1lMjtcclxuXHJcbiAgICAgICAgICAgIC8vIHNlIHBhc2EgYSBsYSBzaWd1aWVudGUgZXNjZW5hXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NlbGVjdFNjZW5hcmlvX1NjZW5lJywge1xyXG4gICAgICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxyXG4gICAgICAgICAgICAgICAgcGxheWVyMTogdGhpcy5wbGF5ZXJzWzBdLFxyXG4gICAgICAgICAgICAgICAgcGxheWVyMjogdGhpcy5wbGF5ZXJzWzFdLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdvbmxpbmUnKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHAxSGFzQ2hhciA9ICEhdGhpcy5wbGF5ZXJzPy5bMF0/LmNoYXJhY3RlcjtcclxuXHJcbiAgICAgICAgICAgIGlmICghcDFIYXNDaGFyKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTb2xvIGF2aXNhbW9zIHNpIG5vIGhhIGVsZWdpZG8gcGVyc29uYWplXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZsYXNoVHVyblRleHQoJyNiMDAwMDAnLCA5MDApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdEZWJlcyBlbGVnaXIgdW4gcGVyc29uYWplIHByaW1lcm8nKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ215Q2hhcmFjdGVyJywgdGhpcy5wbGF5ZXJzWzBdLmNoYXJhY3Rlcik7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0hvc3QpIHtcclxuICAgICAgICAgICAgICAgIC8vIFNveSBlbCBhZG1pbjogcHVlZG8gcGFzYXIgYSBlbGVnaXIgZXNjZW5hcmlvXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RTY2VuYXJpb19TY2VuZScsIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RlOiB0aGlzLm1vZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyMTogdGhpcy5wbGF5ZXJzWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzSG9zdDogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIHBhc2Ftb3MgcGxheWVyMiBwb3JxdWUgc2UgdW5pcsOhIGVuIHJlZFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdMb2JieV9TY2VuZScsIHtcclxuICAgICAgICAgICAgICAgICAgICBtb2RlOiB0aGlzLm1vZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyMjogdGhpcy5wbGF5ZXJzWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzSG9zdDogZmFsc2UgXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBIYWNlIHBhcnBhZGVhciBlbCB0ZXh0byBkZSB0dXJubyBjb24gdW4gY29sb3Igcm9qbyBkdXJhbnRlIHVub3MgbWlsaXNlZ3VuZG9zXHJcbiAgICBmbGFzaFR1cm5UZXh0KGNvbG9yID0gJyNiMDAwMDAnLCBtcyA9IDkwMCkge1xyXG4gICAgICAgIGlmICghdGhpcy50dXJuVGV4dCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBvbGRDb2xvciA9IHRoaXMudHVyblRleHQuc3R5bGUuY29sb3IgfHwgJyMwMDAwMDAnO1xyXG4gICAgICAgIHRoaXMudHVyblRleHQuc2V0Q29sb3IoY29sb3IpO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwobXMsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gdnVlbHZlIGFsIGNvbG9yIG5vcm1hbCB5IHJlZnJlc2NhIGVsIHRleHRvIHBvciBzaSBjYW1iacOzIGFsZ29cclxuICAgICAgICAgICAgdGhpcy50dXJuVGV4dC5zZXRDb2xvcihvbGRDb2xvcik7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3R1YWxpemEgZWwgdGV4dG8gZGUgdHVybm8vZXN0YWRvIGFjdHVhbFxyXG4gICAgdXBkYXRlVHVyblRleHQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnR1cm5UZXh0KSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdsb2NhbCcpIHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZTEgPSB0aGlzLnBsYXllcklucHV0RWxzPy5bMF0/LnZhbHVlPy50cmltKCkgPz8gJyc7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUyID0gdGhpcy5wbGF5ZXJJbnB1dEVscz8uWzFdPy52YWx1ZT8udHJpbSgpID8/ICcnO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcDFIYXNDaGFyID0gISF0aGlzLnBsYXllcnM/LlswXT8uY2hhcmFjdGVyO1xyXG4gICAgICAgICAgICBjb25zdCBwMkhhc0NoYXIgPSAhIXRoaXMucGxheWVycz8uWzFdPy5jaGFyYWN0ZXI7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBwMUhhc05hbWUgPSBuYW1lMS5sZW5ndGggPiAwO1xyXG4gICAgICAgICAgICBjb25zdCBwMkhhc05hbWUgPSBuYW1lMi5sZW5ndGggPiAwO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYWxsQ2hhcnMgPSBwMUhhc0NoYXIgJiYgcDJIYXNDaGFyO1xyXG4gICAgICAgICAgICBjb25zdCBhbGxOYW1lcyA9IHAxSGFzTmFtZSAmJiBwMkhhc05hbWU7XHJcblxyXG4gICAgICAgICAgICAvLyBzaSB0b2RvIGVzdMOhIGNvbXBsZXRvXHJcbiAgICAgICAgICAgIGlmIChhbGxDaGFycyAmJiBhbGxOYW1lcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdMaXN0bzogYW1ib3MganVnYWRvcmVzIHRpZW5lbiBub21icmUgeSBwZXJzb25hamUnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gc2kgZmFsdGFuIE5PTUJSRVMgKHkgeWEgZXN0w6FuIGxvcyBwZXJzb25hamVzKSwgZXNwZWNpZmljYSBxdWnDqW5cclxuICAgICAgICAgICAgaWYgKGFsbENoYXJzICYmICFhbGxOYW1lcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwMUhhc05hbWUgJiYgIXAySGFzTmFtZSkgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YW4gbG9zIG5vbWJyZXMgZGUgSnVnYWRvciAxIHkgSnVnYWRvciAyJyk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICghcDFIYXNOYW1lKSB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0ZhbHRhIGVsIG5vbWJyZSBkZWwgSnVnYWRvciAxJyk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRmFsdGEgZWwgbm9tYnJlIGRlbCBKdWdhZG9yIDInKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gc2kgZmFsdGFuIFBFUlNPTkFKRVMgKHkgeWEgZXN0w6FuIGxvcyBub21icmVzKSwgZXNwZWNpZmljYSBxdWnDqW5cclxuICAgICAgICAgICAgaWYgKGFsbE5hbWVzICYmICFhbGxDaGFycykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwMUhhc0NoYXIgJiYgIXAySGFzQ2hhcikgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YW4gbG9zIHBlcnNvbmFqZXMgZGVsIEp1Z2Fkb3IgMSB5IEp1Z2Fkb3IgMicpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXAxSGFzQ2hhcikgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YSBlbCBwZXJzb25hamUgZGVsIEp1Z2Fkb3IgMScpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0ZhbHRhIGVsIHBlcnNvbmFqZSBkZWwgSnVnYWRvciAyJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNpIGZhbHRhbiBjb3NhcyBtaXh0YXMgKG5vbWJyZXMgeSBwZXJzb25hamVzKVxyXG4gICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50VHVybiA9PT0gbnVsbCB8fCB0aGlzLmN1cnJlbnRUdXJuID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0VGV4dCgnQ29tcGxldGEgbm9tYnJlcyB5IHBlcnNvbmFqZXMnKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy50dXJuVGV4dC5zZXRUZXh0KGBUdXJubzogSnVnYWRvciAke3RoaXMuY3VycmVudFR1cm4gKyAxfWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ29ubGluZScpIHtcclxuICAgIFxyXG4gICAgICAgICAgICBjb25zdCBwMUhhc0NoYXIgPSAhIXRoaXMucGxheWVycz8uWzBdPy5jaGFyYWN0ZXI7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXAxSGFzQ2hhcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdOaW5nw7puIHBlcnNvbmFqZSBzZWxlY2Npb25hZG8nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0VGV4dCgnTGlzdG86IGVsIGp1Z2Fkb3IgdGllbmUgcGVyc29uYWplJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvL1BhbnRhbGxhIGRlIFNlbGVjY2lvbiBkZSBlc2NlbmFyaW9cclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBhcHBseVN0b3JlZFZvbHVtZSwgcGxheUNsaWNrIH0gZnJvbSAnLi4vVUkvQXVkaW8uanMnO1xyXG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiwgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdFNjZW5hcmlvX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdTZWxlY3RTY2VuYXJpb19TY2VuZScpO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyA9ICdHeW0nO1xyXG4gICAgICAgIHRoaXMubW9kZSA9ICdsb2NhbCc7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBCb3RvbmVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW5TZWxlY2Npb25hcicsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX1NJTlNFTEVDQ0lPTkFSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvRkxFQ0hBX1ZPTFZFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfU0lOU0VMRUNDSU9OQVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBGb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBFc2NlbmFyaW9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdHeW0nLCAnQVNTRVRTL0ZPTkRPUy9HSU1OQVNJTy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BsYXlhJywgJ0FTU0VUUy9GT05ET1MvUExBWUEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdKYXJkaW4nLCAnQVNTRVRTL0ZPTkRPUy9KQVJESU4ucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcclxuXHJcbiAgICAgICAgLy8gTWFyY29cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hcmNvJywgJy9BU1NFVFMvVUkvTUFSQ09TL1ZBQ0lPUy9NQVJDT1NfRVNDRU5BUklPJylcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLnBsYXllcjEgPSBkYXRhLnBsYXllcjE7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIyID0gZGF0YS5wbGF5ZXIyO1xyXG4gICAgICAgIHRoaXMubW9kZSA9IGRhdGEubW9kZSB8fCAnbG9jYWwnO1xyXG4gICAgICAgIHRoaXMuaXNIb3N0ID0gZGF0YS5pc0hvc3QgfHwgZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7XHJcblxyXG4gICAgICAgIC8vIHNlIGFwbGljYSBlbCB2b2x1bWVuXHJcbiAgICAgICAgYXBwbHlTdG9yZWRWb2x1bWUodGhpcyk7XHJcblxyXG4gICAgICAgIC8vIEZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpXHJcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gVMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCA1MCwgJ1NlbGVjY2lvbmEgRXNjZW5hcmlvJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gSW1hZ2VuIGRlbCBlc2NlbmFyaW8gc2VsZWNjaW9uYWRvXHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFNjZW5hcmlvID0gJ0d5bSc7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZEltYWdlID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyLCAyNDAsIHRoaXMuc2VsZWN0ZWRTY2VuYXJpbykuc2V0U2NhbGUoMC41KTtcclxuXHJcbiAgICAgICAgLy8gRXNjZW5hcmlvcyAoYm90b25lcylcclxuICAgICAgICBjb25zdCBlc2NlbmFyaW9zID0gWydHeW0nLCAnUGxheWEnLCAnSmFyZGluJ107XHJcbiAgICAgICAgY29uc3Qgc3BhY2luZyA9IDIwMDtcclxuICAgICAgICBjb25zdCBzdGFydFggPSB3aWR0aCAvIDIgLSBzcGFjaW5nO1xyXG5cclxuICAgICAgICBjb25zdCBzY2VuYXJpb0J1dHRvbnMgPSB7fTtcclxuXHJcbiAgICAgICAgLy8gZnVuY2nDs24gcGFyYSBzZWxlY2Npb25hciBlc2NlbmFyaW9cclxuICAgICAgICBjb25zdCBzZXRTZWxlY3RlZFNjZW5hcmlvID0gKG5vbWJyZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkU2NlbmFyaW8gPSBub21icmU7XHJcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbWFnZS5zZXRUZXh0dXJlKG5vbWJyZSkuc2V0U2NhbGUoMC41KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNlIGRlamEgbWFyY2FkbyBlbCBzZWxlY2Npb25hZG9cclxuICAgICAgICAgICAgZXNjZW5hcmlvcy5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIHNjZW5hcmlvQnV0dG9uc1trZXldLnNldFRleHR1cmUoa2V5ID09PSBub21icmUgPyAnYm90b25TZWxlY2Npb25hZG8nIDogJ2JvdG9uU2luU2VsZWNjaW9uYXInKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZXNjZW5hcmlvcy5mb3JFYWNoKChub21icmUsIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYm90b24gPSB0aGlzLmFkZC5pbWFnZShzdGFydFggKyBpICogc3BhY2luZywgNDQwLCAnYm90b25TaW5TZWxlY2Npb25hcicpXHJcbiAgICAgICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMS43NSk7XHJcblxyXG4gICAgICAgICAgICBzY2VuYXJpb0J1dHRvbnNbbm9tYnJlXSA9IGJvdG9uO1xyXG5cclxuICAgICAgICAgICAgLy8gdGV4dG8gZW4gZWwgY2VudHJvXHJcbiAgICAgICAgICAgIGNvbnN0IHRleHRvID0gdGhpcy5hZGQudGV4dCgwLCAwLCBub21icmUsIHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMjRweCcsIGNvbG9yOiAnIzAwMCcgfSk7XHJcbiAgICAgICAgICAgIFBoYXNlci5EaXNwbGF5LkFsaWduLkluLkNlbnRlcih0ZXh0bywgYm90b24pO1xyXG5cclxuICAgICAgICAgICAgLy8gaG92ZXJcclxuICAgICAgICAgICAgYm90b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gYm90b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKSk7XHJcbiAgICAgICAgICAgIGJvdG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgYm90b24uc2V0VGV4dHVyZSh0aGlzLnNlbGVjdGVkU2NlbmFyaW8gPT09IG5vbWJyZSA/ICdib3RvblNlbGVjY2lvbmFkbycgOiAnYm90b25TaW5TZWxlY2Npb25hcicpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNsaWNrOiBzb25pZG8gKyBzZWxlY2Npb25hclxyXG4gICAgICAgICAgICBib3Rvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiBwbGF5Q2xpY2sodGhpcywgJ3Nvbmlkb0NsaWNrJykpO1xyXG4gICAgICAgICAgICBib3Rvbi5vbigncG9pbnRlcnVwJywgKHBvaW50ZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGluc2lkZSA9IGJvdG9uLmdldEJvdW5kcygpLmNvbnRhaW5zKHBvaW50ZXIueCwgcG9pbnRlci55KTtcclxuICAgICAgICAgICAgICAgIGlmICghaW5zaWRlKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFNjZW5hcmlvKG5vbWJyZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzZSBtYXJjYSBlbCBlc2NlbmFyaW8gcG9yIGRlZmVjdG8gdmlzdWFsbWVudGVcclxuICAgICAgICBzZXRTZWxlY3RlZFNjZW5hcmlvKHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyk7XHJcblxyXG4gICAgICAgIC8vIE1hcmNvXHJcbiAgICAgICAgY29uc3QgZnJhbWVZID0gMjQwOyAvLyBZIGRlIGxhIGltYWdlbiBkZWwgZXNjZW5hcmlvXHJcbiAgICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLmFkZC5pbWFnZSh3aWR0aCAvIDIsIGZyYW1lWSwgJ21hcmNvJykuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgZnJhbWUudGV4dHVyZS5zZXRGaWx0ZXIoUGhhc2VyLlRleHR1cmVzLkZpbHRlck1vZGUuTkVBUkVTVCk7XHJcblxyXG4gICAgICAgIC8vIEFqdXN0ZSBkZWwgdGFtYcOxbyBkZWwgbWFyY29cclxuICAgICAgICBjb25zdCB0YXJnZXRGcmFtZVdpZHRoID0gNTAwOyBcclxuICAgICAgICBjb25zdCB0YXJnZXRGcmFtZUhlaWdodCA9IDMwMDtcclxuICAgICAgICBmcmFtZS5zZXREaXNwbGF5U2l6ZSh0YXJnZXRGcmFtZVdpZHRoLCB0YXJnZXRGcmFtZUhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBTaWd1aWVudGVcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoIC8gMixcclxuICAgICAgICAgICAgeTogNTAwLFxyXG4gICAgICAgICAgICBsYWJlbDogJ1NpZ3VpZW50ZScsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdsb2NhbCcpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVfU2NlbmUnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcjE6IHRoaXMucGxheWVyMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyMjogdGhpcy5wbGF5ZXIyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFNjZW5hcmlvOiB0aGlzLnNlbGVjdGVkU2NlbmFyaW8sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNIb3N0OiB0aGlzLmlzSG9zdFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdMb2JieV9TY2VuZScsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyMTogdGhpcy5wbGF5ZXIxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIyOiB0aGlzLnBsYXllcjIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkU2NlbmFyaW86IHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0hvc3Q6IHRoaXMuaXNIb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNjYWxlOiAxLjUsXHJcbiAgICAgICAgICAgIHRleHR1cmVOb3JtYWw6ICdib3RvblNpbXBsZScsXHJcbiAgICAgICAgICAgIHRleHR1cmVIb3ZlcjogJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJyxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzEycHgnLCBjb2xvcjogJyMwMDAnIH0sXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBWb2x2ZXIgYXRyw6FzXHJcbiAgICAgICAgY3JlYXRlSWNvbkJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcclxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC4wOCxcclxuICAgICAgICAgICAgdGV4dHVyZTogJ2JvdG9uVm9sdmVyJyxcclxuICAgICAgICAgICAgc2NhbGU6IDEsXHJcbiAgICAgICAgICAgIGhvdmVyU2NhbGU6IDEuMSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnU2VsZWN0UGxheWVyX1NjZW5lJywgeyBcclxuICAgICAgICAgICAgICAgICAgICBtb2RlOiB0aGlzLm1vZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNIb3N0OiB0aGlzLmlzSG9zdFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIi8vUGFudGFsbGEgZGUgTG9iYnlcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiwgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIExvYmJ5X1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdMb2JieV9TY2VuZScpO1xyXG4gICAgICAgIHRoaXMuaXNQbGF5ZXJSZWFkeSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIC8vIFJlY3VwZXJhbW9zIGVsIG1vZG8sIGVsIHJvbCB5IGxvcyBkYXRvcyBkZSBqdWdhZG9yXHJcbiAgICAgICAgdGhpcy5tb2RlID0gZGF0YS5tb2RlO1xyXG4gICAgICAgIHRoaXMuaXNIb3N0ID0gZGF0YS5pc0hvc3Q7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxID0gZGF0YS5wbGF5ZXIxOyAvLyBTaSBlcyBIb3N0XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIyID0gZGF0YS5wbGF5ZXIyOyAvLyBTaSBlcyBJbnZpdGFkb1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdMb2JieSBpbmljaWFkbyBjb21vOicsIHRoaXMuaXNIb3N0ID8gJ0hvc3QnIDogJ0ludml0YWRvJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBJbcOhZ2VuZXMgZm9uZG8geSB1aVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvVk9MVkVSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWFyY28nLCdBU1NFVFMvVUkvTUFSQ09TL1ZBQ0lPUy9NQVJDT1NfRVNDRU5BUklPLnBuZycpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZScsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX1NJTlNFTEVDQ0lPTkFSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gU29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7IFxyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKS5zZXRPcmlnaW4oMCkuc2V0RGVwdGgoLTEpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjE4LCAnTE9CQlknLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLCBmb250U2l6ZTogJzQwcHgnLCBjb2xvcjogJyMwMDAnLCBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBGaWx0cm8gZGVsIG1hcmNvXHJcbiAgICAgICAgY29uc3QgZnJhbWVZID0gaGVpZ2h0ICogMC40ODtcclxuICAgICAgICBjb25zdCBmcmFtZSA9IHRoaXMuYWRkLmltYWdlKGNlbnRlclgsIGZyYW1lWSwgJ21hcmNvJykuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgZnJhbWUudGV4dHVyZS5zZXRGaWx0ZXIoUGhhc2VyLlRleHR1cmVzLkZpbHRlck1vZGUuTkVBUkVTVCk7XHJcblxyXG4gICAgICAgIC8vIEVzY2FsYSBkZWwgbWFyY29cclxuICAgICAgICBjb25zdCB0YXJnZXRGcmFtZVdpZHRoID0gd2lkdGggKiAwLjM7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0RnJhbWVIZWlnaHQgPSBoZWlnaHQgKiAwLjM7XHJcbiAgICAgICAgZnJhbWUuc2V0RGlzcGxheVNpemUodGFyZ2V0RnJhbWVXaWR0aCwgdGFyZ2V0RnJhbWVIZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyBDb25maWd1cmFjacOzbiBkZSBub21icmVzIHkgZXN0YWRvc1xyXG4gICAgICAgIGNvbnN0IGxpbmVTcGFjaW5nID0gNDA7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRZID0gZnJhbWVZIC0gbGluZVNwYWNpbmc7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG8vRW5jYWJlemFkbyBkZWwgTG9iYnkgKGRlbnRybyBkZWwgbWFyY28gYXJyaWJhKVxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgc3RhcnRZLCBcIkVTVEFETyBERSBKVUdBRE9SRVNcIiwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gSnVnYWRvciAxXHJcbiAgICAgICAgY29uc3QgbmFtZTEgPSB0aGlzLmlzSG9zdCA/ICh0aGlzLnBsYXllcjE/Lm5hbWUgfHwgJ1TDuicpIDogKHRoaXMucGxheWVyMT8ubmFtZSB8fCAnQWRtaW4uLi4nKTtcclxuICAgICAgICB0aGlzLnAxU3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQoY2VudGVyWCwgZnJhbWVZLCBgJHtuYW1lMX0gLS0tIOKdjGAsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gSnVnYWRvciAyXHJcbiAgICAgICAgY29uc3QgbmFtZTIgPSAhdGhpcy5pc0hvc3QgPyAodGhpcy5wbGF5ZXIyPy5uYW1lIHx8ICdUw7onKSA6ICh0aGlzLnBsYXllcjI/Lm5hbWUgfHwgJ0VzcGVyYW5kby4uLicpO1xyXG4gICAgICAgIHRoaXMucDJTdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dChjZW50ZXJYLCBmcmFtZVkgKyBsaW5lU3BhY2luZywgYCR7bmFtZTJ9IC0tLSDinYxgLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBMaXN0b1xyXG4gICAgICAgIHRoaXMuYnRuTGlzdG8gPSBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IGNlbnRlclgsXHJcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuNzUsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnTGlzdG8/JyxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy50b2dnbGVSZWFkeSgpLFxyXG4gICAgICAgICAgICBzY2FsZTogMS41LFxyXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW1wbGUnLFxyXG4gICAgICAgICAgICB0ZXh0dXJlSG92ZXI6ICdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogeyAuLi5zdHlsZSwgZm9udFNpemU6ICcxNHB4JywgY29sb3I6ICcjMDAwJyB9LFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBWb2x2ZXJcclxuICAgICAgICB0aGlzLmJ0blZvbHZlciA9IGNyZWF0ZUljb25CdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuMDYsXHJcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXHJcbiAgICAgICAgICAgIHRleHR1cmU6ICdib3RvblZvbHZlcicsXHJcbiAgICAgICAgICAgIHNjYWxlOiAxLFxyXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuaGFuZGxlQmFjaygpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlUmVhZHkoKSB7XHJcbiAgICAgICAgdGhpcy5pc1BsYXllclJlYWR5ID0gIXRoaXMuaXNQbGF5ZXJSZWFkeTtcclxuICAgICAgICBjb25zdCBlbW9qaSA9IHRoaXMuaXNQbGF5ZXJSZWFkeSA/ICfinIUnIDogJ+KdjCc7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQWN0dWFsaXphbW9zIHZpc3VhbG1lbnRlIE5VRVNUUk8gZXN0YWRvXHJcbiAgICAgICAgaWYgKHRoaXMuaXNIb3N0KSB7XHJcbiAgICAgICAgICAgIHRoaXMucDFTdGF0dXNUZXh0LnNldFRleHQoYCR7dGhpcy5wbGF5ZXIxLm5hbWV9IC0tLSAke2Vtb2ppfWApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucDJTdGF0dXNUZXh0LnNldFRleHQoYCR7dGhpcy5wbGF5ZXIyLm5hbWV9IC0tLSAke2Vtb2ppfWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbnVldm9UZXh0b0JvdG9uID0gdGhpcy5pc1BsYXllclJlYWR5ID8gJ0NBTkNFTEFSJyA6ICdMSVNUTz8nO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0aGlzLmJ0bkxpc3RvLnNldExhYmVsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuTGlzdG8uc2V0TGFiZWwobnVldm9UZXh0b0JvdG9uKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYnRuTGlzdG8udGV4dCkge1xyXG4gICAgICAgICAgICB0aGlzLmJ0bkxpc3RvLnRleHQuc2V0VGV4dChudWV2b1RleHRvQm90b24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBCbG9xdWVhci9EZXNibG9xdWVhciBib3TDs24gdm9sdmVyXHJcbiAgICAgICAgaWYgKHRoaXMuaXNQbGF5ZXJSZWFkeSkge1xyXG4gICAgICAgICAgICB0aGlzLmJ0blZvbHZlci5kaXNhYmxlSW50ZXJhY3RpdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5idG5Wb2x2ZXIuc2V0QWxwaGEoMC4zKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmJ0blZvbHZlci5zZXRJbnRlcmFjdGl2ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLmJ0blZvbHZlci5zZXRBbHBoYSgxKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFxdcOtIGVzIGRvbmRlIGVudmlhIGFsIHNlcnZpZG9yXHJcbiAgICAgICAgLy8gc29ja2V0LmVtaXQoJ3BsYXllcl9yZWFkeV9zdGF0dXMnLCB0aGlzLmlzUGxheWVyUmVhZHkpO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZUJhY2soKSB7XHJcbiAgICAgICAgY29uc3QgdGFyZ2V0U2NlbmUgPSB0aGlzLmlzSG9zdCA/ICdTZWxlY3RTY2VuYXJpb19TY2VuZScgOiAnU2VsZWN0UGxheWVyX1NjZW5lJztcclxuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy5pc0hvc3QgPyB7IG1vZGU6IHRoaXMubW9kZSwgcGxheWVyMTogdGhpcy5wbGF5ZXIxLCBpc0hvc3Q6IHRydWUgfSA6IHsgbW9kZTogdGhpcy5tb2RlLCBpc0hvc3Q6IGZhbHNlIH07XHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydCh0YXJnZXRTY2VuZSwgZGF0YSk7XHJcbiAgICB9XHJcbn0iLCIvL1BhbnRhbGxhIGRlIExvZ2dpbmdcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiwgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIExvZ2dpbmdfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0xvZ2dpbmdfU2NlbmUnKTtcclxuICAgICAgICB0aGlzLmlzUGxheWVyUmVhZHkgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmFwaVVybCA9ICcvYXBpJztcclxuICAgICAgICB0aGlzLmlzUmVnaXN0ZXJpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBpbml0KGRhdGEpIHtcclxuICAgICAgICBjb25zdCBzYXZlZE5hbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndm9sZXlfdXNlcm5hbWUnKTtcclxuICAgICAgICBjb25zdCBzYXZlZFBhc3MgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndm9sZXlfcGFzc3dvcmQnKTsgLy8gR3VhcmRhIGxhIHBhc3MgKG8gdW4gdG9rZW4pIHBhcmEgcmUtbG9ndWVhclxyXG5cclxuICAgICAgICBpZiAoc2F2ZWROYW1lICYmIHNhdmVkUGFzcykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkludGVudGFuZG8gYXV0by1sb2dpbiBwYXJhOlwiLCBzYXZlZE5hbWUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gRW4gbHVnYXIgZGUgZW50cmFyIGRpcmVjdG8sIHByZWd1bnRhbW9zIGFsIHNlcnZpZG9yIHBhcmEgcXVlIG5vcyBhc2lnbmUgSG9zdC9JbnZpdGFkb1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLmFwaVVybH0vbG9naW5gLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZTogc2F2ZWROYW1lLCBwYXNzd29yZDogc2F2ZWRQYXNzIH0pXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc0RhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ3VzZXJuYW1lJywgcmVzRGF0YS51c2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ2lzSG9zdCcsIHJlc0RhdGEuaXNIb3N0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBdXRvLWxvZ2luIGZhbGxpZG9cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBib3RvbmVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZScsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX1NJTlNFTEVDQ0lPTkFSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0ZMRUNIQV9WT0xWRVIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIHNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBtYXJjb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWFyY28nLCdBU1NFVFMvVUkvTUFSQ09TL1ZBQ0lPUy9NQVJDT1NfRVNDRU5BUklPLnBuZycpXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHM/LmRlZmF1bHRUZXh0U3R5bGUgPz8geyBmb250RmFtaWx5OiAnQXJpYWwnIH07XHJcblxyXG4gICAgICAgIC8vIEZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvJykuc2V0T3JpZ2luKDApLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpLnNldERlcHRoKC0xKTtcclxuXHJcbiAgICAgICAgLy8gVGl0dWxvXHJcbiAgICAgICAgdGhpcy50aXRsZVRleHQgPSB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIDYwLCAnSU5JQ0lBUiBTRVNJw5NOJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSwgZm9udFNpemU6ICczNnB4JywgY29sb3I6ICcjMDAwJywgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gTWFyY29cclxuICAgICAgICBjb25zdCBtYXJjbyA9IHRoaXMuYWRkLmltYWdlKGNlbnRlclgsIGhlaWdodCAqIDAuNTIsICdtYXJjbycpLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIG1hcmNvLnNldERpc3BsYXlTaXplKHdpZHRoICogMC40LCBoZWlnaHQgKiAwLjY1KTtcclxuICAgICAgICBtYXJjby50ZXh0dXJlLnNldEZpbHRlcihQaGFzZXIuVGV4dHVyZXMuRmlsdGVyTW9kZS5ORUFSRVNUKTsgLy8gU29sbyBhIGVzdGEgaW5zdGFuY2lhXHJcblxyXG4gICAgICAgIC8vIElOUFVUU1xyXG4gICAgICAgIC8vIFVzdWFyaW9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGhlaWdodCAqIDAuMjgsICdVc3VhcmlvOicsIHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMjBweCcsIGNvbG9yOiAnIzAwMCcgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy51c2VySW5wdXQgPSB0aGlzLmNyZWF0ZUh0bWxJbnB1dChjZW50ZXJYLCBoZWlnaHQgKiAwLjM1LCAnTm9tYnJlIGRlIHVzdWFyaW8nLCBzdHlsZSk7XHJcblxyXG4gICAgICAgIC8vIENvbnRyYXNlw7FhXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjQ1LCAnQ29udHJhc2XDsWE6JywgeyAuLi5zdHlsZSwgZm9udFNpemU6ICcyMHB4JywgY29sb3I6ICcjMDAwJyB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB0aGlzLnBhc3NJbnB1dCA9IHRoaXMuY3JlYXRlSHRtbElucHV0KGNlbnRlclgsIGhlaWdodCAqIDAuNTIsICcqKioqKioqKicsIHN0eWxlLCB0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gLS0tIEJPVE9ORVMgLS0tXHJcbiAgICAgICAgLy8gQm90w7NuIFByaW5jaXBhbFxyXG4gICAgICAgIHRoaXMubWFpbkJ0biA9IGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogY2VudGVyWCxcclxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC42NSxcclxuICAgICAgICAgICAgbGFiZWw6ICdFTlRSQVInLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLmhhbmRsZVN1Ym1pdCgpLFxyXG4gICAgICAgICAgICBzY2FsZTogMS42LFxyXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW1wbGUnLFxyXG4gICAgICAgICAgICB0ZXh0dXJlSG92ZXI6ICdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogeyAuLi5zdHlsZSwgZm9udFNpemU6ICcxNHB4JywgY29sb3I6ICcjMDAwJyB9LFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFRleHRvIHBhcmEgYWx0ZXJuYXIgZW50cmUgTG9naW4geSBSZWdpc3Ryb1xyXG4gICAgICAgIHRoaXMudG9nZ2xlVGV4dCA9IHRoaXMuYWRkLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC43NSwgJ8K/QcO6biBubyB0aWVuZXMgY3VlbnRhPyBSZWfDrXN0cmF0ZSBhcXXDrScsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsIGZvbnRTaXplOiAnMTZweCcsIGNvbG9yOiAnIzAwMDBFRScsIGZvbnRTdHlsZTogJ2l0YWxpYydcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIHRoaXMudG9nZ2xlVGV4dC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB0aGlzLnRvZ2dsZU1vZGUoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlSHRtbElucHV0KHgsIHksIHBsYWNlaG9sZGVyLCBzdHlsZSwgaXNQYXNzd29yZCA9IGZhbHNlKSB7XHJcbiAgICAgICAgY29uc3QgdHlwZSA9IGlzUGFzc3dvcmQgPyAncGFzc3dvcmQnIDogJ3RleHQnO1xyXG4gICAgICAgIGNvbnN0IGRvbSA9IHRoaXMuYWRkLmRvbSh4LCB5KS5jcmVhdGVGcm9tSFRNTChgXHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiJHt0eXBlfVwiIHBsYWNlaG9sZGVyPVwiJHtwbGFjZWhvbGRlcn1cIiBcclxuICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDoxODBweDsgcGFkZGluZzo4cHg7IGZvbnQtc2l6ZToxNnB4OyBmb250LWZhbWlseToke3N0eWxlLmZvbnRGYW1pbHl9OyBcclxuICAgICAgICAgICAgYm9yZGVyLXJhZGl1czoxMnB4OyBib3JkZXI6IDZweCBzb2xpZCAjRkZBQTAwOyB0ZXh0LWFsaWduOmNlbnRlcjsgb3V0bGluZTpub25lO1wiIC8+XHJcbiAgICAgICAgYCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGlucHV0RWwgPSBkb20ubm9kZS5xdWVyeVNlbGVjdG9yKCdpbnB1dCcpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB0aGlzLmlucHV0LmtleWJvYXJkLmVuYWJsZWQgPSBmYWxzZSk7XHJcbiAgICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKCkgPT4gdGhpcy5pbnB1dC5rZXlib2FyZC5lbmFibGVkID0gdHJ1ZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGlucHV0RWw7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlTW9kZSgpIHtcclxuICAgICAgICB0aGlzLmlzUmVnaXN0ZXJpbmcgPSAhdGhpcy5pc1JlZ2lzdGVyaW5nO1xyXG4gICAgICAgIHRoaXMudGl0bGVUZXh0LnNldFRleHQodGhpcy5pc1JlZ2lzdGVyaW5nID8gJ1JFR0lTVFJBUlNFJyA6ICdJTklDSUFSIFNFU0nDk04nKTtcclxuICAgICAgICB0aGlzLm1haW5CdG4udGV4dC5zZXRUZXh0KHRoaXMuaXNSZWdpc3RlcmluZyA/ICdDUkVBUiBDVUVOVEEnIDogJ0VOVFJBUicpO1xyXG4gICAgICAgIHRoaXMudG9nZ2xlVGV4dC5zZXRUZXh0KHRoaXMuaXNSZWdpc3RlcmluZyA/ICfCv1lhIHRpZW5lcyBjdWVudGE/IEluaWNpYSBzZXNpw7NuJyA6ICfCv0HDum4gbm8gdGllbmVzIGN1ZW50YT8gUmVnw61zdHJhdGUgYXF1w60nKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBoYW5kbGVTdWJtaXQoKSB7XHJcbiAgICAgICAgLy8gT2J0ZW5lbW9zIGxvcyB2YWxvcmVzIGRlIGxvcyBlbGVtZW50b3MgSFRNTCByZWFsZXNcclxuICAgICAgICBjb25zdCB1c2VybmFtZVZhbHVlID0gdGhpcy51c2VySW5wdXQudmFsdWUudHJpbSgpO1xyXG4gICAgICAgIGNvbnN0IHBhc3N3b3JkVmFsdWUgPSB0aGlzLnBhc3NJbnB1dC52YWx1ZS50cmltKCk7XHJcblxyXG4gICAgICAgIGlmICh1c2VybmFtZVZhbHVlLmxlbmd0aCA8IDMpIHtcclxuICAgICAgICAgICAgYWxlcnQoXCJVc3VhcmlvIGRlbWFzaWFkbyBjb3J0b1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHBhc3N3b3JkVmFsdWUubGVuZ3RoIDwgMykge1xyXG4gICAgICAgICAgICBhbGVydChcIkNvbnRyYXNlw7FhIGRlbWFzaWFkbyBjb3J0YVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZW5kcG9pbnQgPSB0aGlzLmlzUmVnaXN0ZXJpbmcgPyAnL3JlZ2lzdGVyJyA6ICcvbG9naW4nO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuYXBpVXJsfSR7ZW5kcG9pbnR9YCwge1xyXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lVmFsdWUsIFxyXG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFZhbHVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzUmVnaXN0ZXJpbmcpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBTaSBlcyByZWdpc3RybywgTk8gZW50cmFtb3MgYWwganVlZ29cclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIsKhUmVnaXN0cm8gY29tcGxldGFkbyBjb24gw6l4aXRvISBBaG9yYSBwdWVkZXMgaW5pY2lhciBzZXNpw7NuLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZU1vZGUoKTsgLy8gQ2FtYmlvIGEgbW9kbyBsb2dpbiBhdXRvbcOhdGljYW1lbnRlXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VySW5wdXQudmFsdWUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFzc0lucHV0LnZhbHVlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9naW46IEd1YXJkYW1vcyBkYXRvcyBlbiBlbCByZWdpc3RyeVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KCd1c2VybmFtZScsIHVzZXJuYW1lVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KCd1c2VyVG9rZW4nLCBkYXRhLnRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LnNldCgnaXNIb3N0JywgZGF0YS5pc0hvc3QpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBQZXJzaXN0ZW5jaWEgbG9jYWwgcGFyYSBhdXRvLWxvZ2luXHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ZvbGV5X3Nlc3Npb25fdG9rZW4nLCBkYXRhLnRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndm9sZXlfdXNlcm5hbWUnLCB1c2VybmFtZVZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYExvZ2luIGNvcnJlY3RvLiBVc3VhcmlvOiAke3VzZXJuYW1lVmFsdWV9IHwgSG9zdDogJHtkYXRhLmlzSG9zdH1gKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydChkYXRhLmVycm9yIHx8ICdFcnJvciBlbiBsYSBhdXRlbnRpY2FjacOzbicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjb25lY3RhbmRvIGEgbGEgQVBJOlwiLCBlcnIpO1xyXG4gICAgICAgICAgICBhbGVydChcIk5vIHNlIHB1ZG8gY29uZWN0YXIgY29uIGVsIHNlcnZpZG9yLlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCIvLyBCYXNlIGRlbCBqdWVnbywgZXN0cnVjdHVyYSB5IGFjY2VzbyBhIHRvZG9zIGxvcyBhcmNoaXZvc1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgTWVudV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9NZW51X1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IEdhbWVfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvR2FtZV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBUdXRvcmlhbF9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9UdXRvcmlhbF9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBDb25maWd1cmF0aW9uX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0NvbmZpZ3VyYXRpb25fU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgQ3JlZGl0c19TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9DcmVkaXRzX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IEVuZEdhbWVfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvRW5kR2FtZV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBNb2RlR2FtZV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9Nb2RlR2FtZV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBQYXVzZV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9QYXVzZV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBTZWxlY3RQbGF5ZXJfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvU2VsZWN0UGxheWVyX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFNlbGVjdFNjZW5hcmlvX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL1NlbGVjdFNjZW5hcmlvX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IExvYmJ5X1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0xvYmJ5X1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IExvZ2dpbmdfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvTG9nZ2luZ19TY2VuZS5qc1wiO1xyXG5cclxuKGFzeW5jICgpID0+IHtcclxuICAgIC8vIGZhbGxiYWNrIHBhcmEgZXZpdGFyIHByb2JsZW1hcyBjb24gbGFzIGZ1ZW50ZXMgcGVyc29uYWxpemFkYXNcclxuICAgIGlmIChkb2N1bWVudC5mb250cyAmJiBkb2N1bWVudC5mb250cy5sb2FkKSB7XHJcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgICAgICBkb2N1bWVudC5mb250cy5sb2FkKCcyMHB4IFwiTWlGdWVudGVcIicpLFxyXG4gICAgICAgICAgICBkb2N1bWVudC5mb250cy5sb2FkKCcyMHB4IFwiVlQzMjNcIicpXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgYXdhaXQgZG9jdW1lbnQuZm9udHMucmVhZHk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZ2xvYmFscyA9IHtcclxuICAgICAgICBkZWZhdWx0VGV4dFN0eWxlOiB7IGZvbnRGYW1pbHk6ICdNaUZ1ZW50ZScsIGZvbnRTaXplOiAnMjBweCcsIGNvbG9yOiAnI2ZmZmZmZicgfSxcclxuICAgICAgICBtdXNpYzogbnVsbFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICAgICAgd2lkdGg6IDk2MCxcclxuICAgICAgICBoZWlnaHQ6IDU0MCxcclxuICAgICAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXHJcbiAgICAgICAgcGh5c2ljczoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgICAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgICAgICBncmF2aXR5OiB7eDogMCwgeTogMzAwfSxcclxuICAgICAgICAgICAgICAgIGRlYnVnOiBmYWxzZSAvLyBwb25lciBhIHRydWUgcGFyYSB2ZXIgbGFzIGzDrW5lYXMgZGUgbG9zIGN1ZXJwb3MgZsOtc2ljb3NcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZG9tOiB7XHJcbiAgICAgICAgICAgIGNyZWF0ZUNvbnRhaW5lcjogdHJ1ZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2FsbGJhY2tzOiB7XHJcbiAgICAgICAgICAgIHByZUJvb3Q6IChnYW1lKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBnYW1lLmdsb2JhbHMgPSBnbG9iYWxzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzY2VuZTogW0xvZ2dpbmdfU2NlbmUsIE1lbnVfU2NlbmUsIEdhbWVfU2NlbmUsIFR1dG9yaWFsX1NjZW5lLCBDb25maWd1cmF0aW9uX1NjZW5lLCBDcmVkaXRzX1NjZW5lLCBFbmRHYW1lX1NjZW5lLCBQYXVzZV9TY2VuZSwgTW9kZUdhbWVfU2NlbmUsIFNlbGVjdFBsYXllcl9TY2VuZSwgU2VsZWN0U2NlbmFyaW9fU2NlbmUsIExvYmJ5X1NjZW5lXSxcclxuICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6JyM4Njc1ZjEnLFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBnYW1lID1uZXcgUGhhc2VyLkdhbWUoY29uZmlnKTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lID0gZ2FtZS5yZWdpc3RyeS5nZXQoJ3VzZXJuYW1lJyk7XHJcbiAgICAgICAgaWYgKHVzZXJuYW1lKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnN0cmluZ2lmeSh7IHVzZXJuYW1lIH0pO1xyXG4gICAgICAgICAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2RhdGFdLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KTtcclxuICAgICAgICAgICAgbmF2aWdhdG9yLnNlbmRCZWFjb24oJy9hcGkvbG9nb3V0JywgYmxvYik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pKCk7XHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlBoYXNlciIsIlNGWF9WT0xVTUVfS0VZIiwiTVVTSUNfVk9MVU1FX0tFWSIsIkxFR0FDWV9WT0xVTUVfS0VZIiwicGFyc2VTdG9yZWRWb2x1bWUiLCJyYXciLCJkZWZhdWx0VmFsdWUiLCJ2IiwiTnVtYmVyIiwicGFyc2VGbG9hdCIsIlN0cmluZyIsImlzRmluaXRlIiwiQ2xhbXAiLCJnZXRTdG9yZWRWb2x1bWVCeUtleSIsImZhbGxiYWNrS2V5IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImZhbGxiYWNrUmF3IiwiZ2V0U3RvcmVkU2Z4Vm9sdW1lIiwiZ2V0U3RvcmVkTXVzaWNWb2x1bWUiLCJhcHBseVN0b3JlZFZvbHVtZSIsInNjZW5lIiwib3B0aW9ucyIsInNmeFZvbHVtZSIsIm11c2ljVm9sdW1lIiwic291bmQiLCJ2b2x1bWUiLCJtdXNpYyIsImdhbWUiLCJnbG9iYWxzIiwic2V0Vm9sdW1lIiwicGxheUNsaWNrIiwicGxheSIsImNyZWF0ZVVJQnV0dG9uIiwieCIsInkiLCJsYWJlbCIsIm9uQ2xpY2siLCJ0ZXh0dXJlTm9ybWFsIiwidGV4dHVyZUhvdmVyIiwic2NhbGUiLCJ0ZXh0U3R5bGUiLCJjbGlja1NvdW5kS2V5IiwiYnV0dG9uIiwiYWRkIiwic3ByaXRlIiwic2V0U2NhbGUiLCJzZXRJbnRlcmFjdGl2ZSIsInVzZUhhbmRDdXJzb3IiLCJ0ZXh0Iiwic2V0T3JpZ2luIiwic2V0Tm9ybWFsIiwic2V0VGV4dHVyZSIsInNldEhvdmVyIiwib24iLCJwb2ludGVyIiwiZ2V0Qm91bmRzIiwiY29udGFpbnMiLCJjcmVhdGVJY29uQnV0dG9uIiwidGV4dHVyZSIsImhvdmVyU2NhbGUiLCJNZW51X1NjZW5lIiwiY29uc3RydWN0b3IiLCJzdXBlciIsInByZWxvYWQiLCJ0aGlzIiwibG9hZCIsImltYWdlIiwiYXVkaW8iLCJjcmVhdGUiLCJzb3VuZEtleSIsImxvb3AiLCJ0cnlQbGF5IiwiaXNQbGF5aW5nIiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJpbnB1dCIsIm9uY2UiLCJhc3luYyIsImN0eCIsImNvbnRleHQiLCJzdGF0ZSIsInJlc3VtZSIsImVuc3VyZUxvb3BpbmdNdXNpYyIsInN0eWxlIiwiZGVmYXVsdFRleHRTdHlsZSIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsImNvbG9yIiwid2lkdGgiLCJoZWlnaHQiLCJjZW50ZXJYIiwicmlnaHRIYWxmWCIsInNldERlcHRoIiwic2V0RGlzcGxheVNpemUiLCJmaXJzdEJ1dHRvblkiLCJidXR0b25UZXh0U3R5bGUiLCJzdGFydCIsImJ1dHRvblNwYWNpbmciLCJoYW5kbGVMb2dvdXQiLCJ1c2VybmFtZSIsInJlZ2lzdHJ5IiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZW1vdmVJdGVtIiwicmVtb3ZlIiwiUE9XRVJVUF9EVVJBVElPTl9NUyIsInZlbG9jaWRhZCIsInJhbGVudGl6YXIiLCJwYXJhbGl6YXIiLCJwb3IyIiwicG9yMyIsIlBsYXllciIsImlkIiwiY2hhcmFjdGVyVHlwZSIsImJhc2VNb3ZlU3BlZWQiLCJtb3ZlU3BlZWQiLCJqdW1wU3BlZWQiLCJhY3RpdmVQb3dlclVwcyIsImlzUGFyYWx5emVkIiwicGFyYWx5c2lzVHdlZW4iLCJzcGVlZEVmZmVjdEFjdGl2ZSIsInNsb3dFZmZlY3RBY3RpdmUiLCJzY29yZU11bHRpcGxpZXIiLCJtdWx0aXBsaWVyVGV4dCIsInN0cm9rZSIsInN0cm9rZVRoaWNrbmVzcyIsInNldFZpc2libGUiLCJwb3dlclVwSW52ZW50b3J5IiwiaXNSZWNlaXZpbmciLCJib3VuZHNMZWZ0IiwiYm91bmRzUmlnaHQiLCJib3VuZHNUb3AiLCJib3VuZHNCb3R0b20iLCJDSEFSQUNURVJfQ09ORklHIiwiY2hhcmFjdGVyQSIsInRleHR1cmVLZXkiLCJzdGFydEZyYW1lIiwiaWRsZUxlZnRBbmltIiwiaWRsZVJpZ2h0QW5pbSIsInJ1bkxlZnRBbmltIiwicnVuUmlnaHRBbmltIiwianVtcExlZnRBbmltIiwianVtcFJpZ2h0QW5pbSIsInJlY2VpdmVMZWZ0QW5pbSIsInJlY2VpdmVSaWdodEFuaW0iLCJjaGFyYWN0ZXJCIiwiY2hhcmFjdGVyQyIsImNvbmZpZyIsInBoeXNpY3MiLCJzZXRTaXplIiwic2V0RGF0YSIsImZhY2luZyIsImlzT25Hcm91bmQiLCJpc0p1bXBpbmciLCJqdW1wU3RhcnRUaW1lIiwiYW5pbSIsImVycm9yIiwiaXNHcm91bmRlZCIsImJsb2NrZWQiLCJkb3duIiwidG91Y2hpbmciLCJpc05lYXJHcm91bmQiLCJ0aHJlc2hvbGQiLCJncm91bmRZIiwiZmVldFkiLCJNYXRoIiwiYWJzIiwibW92ZUxlZnQiLCJzZXRWZWxvY2l0eVgiLCJwbGF5QW5pbWF0aW9uIiwibW92ZVJpZ2h0IiwianVtcExlZnQiLCJ0aW1lIiwibm93Iiwic2V0VmVsb2NpdHlZIiwicGxheVNmeCIsInNmeCIsImp1bXAiLCJqdW1wUmlnaHQiLCJyZWNlaXZlTGVmdCIsInJlY2VpdmVSaWdodCIsImlkbGVMZWZ0IiwiaWRsZVJpZ2h0Iiwic2V0Qm91bmRzIiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwiY2xhbXBXaXRoaW5Cb3VuZHMiLCJoYWxmV2lkdGgiLCJzZXRQb3NpdGlvbiIsInNldFZlbG9jaXR5IiwidXBkYXRlTXVsdGlwbGllclRleHRQb3NpdGlvbiIsIm9mZnNldFkiLCJkaXNwbGF5SGVpZ2h0IiwiYW5pbUtleSIsImFuaW1zIiwiY3VycmVudEFuaW0iLCJ1cGRhdGUiLCJ3YXNPbkdyb3VuZCIsImN1cnJlbnRLZXkiLCJhcHBseVBvd2VyVXAiLCJ0eXBlIiwibGVuZ3RoIiwicHVzaCIsInVzZU5leHRQb3dlclVwIiwic2hpZnQiLCJhY3RpdmF0ZVBvd2VyVXAiLCJhcHBseU9yUmVmcmVzaFRpbWVkRWZmZWN0Iiwib3Bwb25lbnQiLCJnZXRPcHBvbmVudCIsInVwZGF0ZVBvd2VyVXBzIiwic3BlZWROZWVkc1JlY2FsYyIsInNjb3JlTmVlZHNSZWNhbGMiLCJzZXRTcGVlZEVmZmVjdCIsInNldFNsb3dFZmZlY3QiLCJzZXRQYXJhbHl6ZWQiLCJyZWNhbGN1bGF0ZU1vdmVTcGVlZCIsInJlY2FsY3VsYXRlU2NvcmVFZmZlY3QiLCJzZXRUaW50Iiwic2V0QWxwaGEiLCJzdG9wIiwidHdlZW5zIiwidGFyZ2V0cyIsImFscGhhIiwieW95byIsImR1cmF0aW9uIiwicmVwZWF0IiwicmVmcmVzaFBvd2VyVXBWaXN1YWxzIiwiYWN0aXZlIiwibXVsdCIsIm11bHRpcGxpZXIiLCJtYXgiLCJzZXRUZXh0IiwiZHVyYXRpb25NcyIsImNsZWFyVGludCIsInBsYXllcnMiLCJBcnJheSIsImZyb20iLCJ2YWx1ZXMiLCJmaW5kIiwicCIsIkFwcGx5UG93ZXJVcENvbW1hbmQiLCJwbGF5ZXIiLCJwb3dlclVwVHlwZSIsInN0b3JlZCIsImV4ZWN1dGUiLCJQb3dlclVwIiwiaXNDb2xsZWN0ZWQiLCJfZGVzdHJveWVkIiwiX2Nvb2xkb3duVW50aWwiLCJmYWRlU3RhcnQiLCJsaWZldGltZSIsIl9vdmVybGFwcyIsImZhZGVUd2VlbiIsIl9saWZldGltZVRpbWVyIiwic3RhdGljSW1hZ2UiLCJyZWZyZXNoQm9keSIsImZhZGVEZWxheSIsIm1pbiIsImZhZGVEdXJhdGlvbiIsImRlbGF5IiwiZm9yRWFjaCIsImMiLCJvdmVybGFwIiwiY29sbGVjdCIsImRlbGF5ZWRDYWxsIiwiZGVzdHJveSIsImxvZyIsImNtZCIsImNvbW1hbmRQcm9jZXNzb3IiLCJwcm9jZXNzIiwidXBkYXRlUGxheWVySW52ZW50b3J5VUkiLCJpc0FycmF5IiwicG93ZXJVcHMiLCJmaWx0ZXIiLCJCYWxsIiwic2V0Qm91bmNlIiwic2V0Q29sbGlkZVdvcmxkQm91bmRzIiwibGFzdFRvdWNoZWRCeSIsInRvdWNoQ291bnQiLCJjb3VydFNpZGUiLCJpc0JhbGxMaXZlIiwibmV0WCIsImxhc3RIaXRUaW1lIiwibGFzdEhpdFBsYXllcklkIiwiaGl0IiwicGxheWVyRmFjaW5nRGlyZWN0aW9uIiwib25GYWx0YSIsInZlbG9jaXR5WCIsInZlbG9jaXR5WSIsInJlY2VpdmUiLCJzcGlrZSIsImJhc2VTcGVlZFgiLCJjcm9zc05ldCIsIm9uR3JvdW5kZWQiLCJiYWxsT25MZWZ0IiwiYmFsbE9uUmlnaHQiLCJvblJhbGx5RW5kIiwicmVzZXRSYWxseSIsImZhbHRhVHlwZSIsImZhbHRpbmdQbGF5ZXIiLCJzY29yaW5nUGxheWVySWQiLCJldmVudHMiLCJlbWl0IiwiX2dldFN1YnRsZU51ZGdlIiwic3Bhd25YIiwic2lkZVBhZGRpbmciLCJ3b3JsZFdpZHRoIiwib2Zmc2V0IiwicmFuZG9tIiwic2V0U2VydmVQb3NpdGlvbiIsInNjb3JpbmdQbGF5ZXIiLCJjbGFtcCIsInZhbHVlIiwibnVkZ2VWZWxvY2l0eVgiLCJudWRnZSIsIkNvbW1hbmRQcm9jZXNzb3IiLCJNYXAiLCJnYW1lU2NlbmUiLCJzZXRQbGF5ZXJzIiwic2V0R2FtZVNjZW5lIiwiY29tbWFuZCIsIkNvbW1hbmQiLCJzZXJpYWxpemUiLCJnZXRQbGF5ZXIiLCJNb3ZlUGxheWVyQ29tbWFuZCIsImRpcmVjdGlvbiIsInBsYXllcklkIiwiR2FtZV9TY2VuZSIsInRpZW1wb1RvdGFsIiwidGllbXBvUmVzdGFudGUiLCJ0aW1lclRleHQiLCJ0aW1lckV2ZW50IiwiaW5pdCIsImRhdGEiLCJpbnB1dE1hcHBpbmdzIiwicGxheWVyMSIsInBsYXllcjIiLCJzZWxlY3RlZFNjZW5hcmlvIiwiYmFsbCIsInNjb3JlUDEiLCJzY29yZVAyIiwic2V0c1AxIiwic2V0c1AyIiwibWF4U2V0cyIsImN1cnJlbnRTZXQiLCJzcHJpdGVzaGVldCIsImZyYW1lV2lkdGgiLCJmcmFtZUhlaWdodCIsIndvcmxkSGVpZ2h0Iiwid2hpc3RsZSIsInBvaW50Iiwic2V0U2Nyb2xsRmFjdG9yIiwidGltZXJJY29uIiwic2V0RnJhbWUiLCJzZXRXaW5uZXJUZXh0IiwiYWRkRXZlbnQiLCJjYWxsYmFjayIsInVwZGF0ZVRpbWVyIiwiY2FsbGJhY2tTY29wZSIsInJlZCIsInN0YXRpY1Nwcml0ZSIsInJlZFRleHR1cmUiLCJ0ZXh0dXJlcyIsImdldFNvdXJjZUltYWdlIiwic2V0T2Zmc2V0IiwidXBkYXRlRnJvbUdhbWVPYmplY3QiLCJfY3JlYXRlQW5pbWF0aW9ucyIsInBvaW50c0xlZnQiLCJwb2ludHNSaWdodCIsInNjb3JlRnJhbWVMZWZ0Iiwic2NvcmVGcmFtZVJpZ2h0Iiwic2NvcmVMZWZ0IiwicmlnaHRTY29yZSIsImdyb3VuZEhlaWdodCIsImdyb3VuZCIsInJlY3RhbmdsZSIsImV4aXN0aW5nIiwiX2NyZWF0ZVBsYXllcnMiLCJfc2V0dXBQaHlzaWNzV29ybGQiLCJfc2V0dXBJbnB1dE1hcHBpbmdzIiwibWF4UG93ZXJVcHMiLCJwb3dlclVwU3Bhd25Db25maWciLCJtaW5EZWxheU1zIiwibWF4RGVsYXlNcyIsIndlaWdodHMiLCJjb29sZG93bk1zIiwicG93ZXJVcExhc3RTcGF3bkF0IiwiaW52ZW50b3J5VUkiLCJzY2hlZHVsZVBvd2VyVXBTcGF3biIsImludmVudG9yeUZyYW1lcyIsIl9jcmVhdGVCYWxsIiwiX3NldHVwQmFsbENvbGxpc2lvbnMiLCJfc2V0dXBCYWxsRXZlbnRzIiwia2V5Ym9hcmQiLCJwYXVzZSIsInBhdXNlZCIsImxhdW5jaCIsIkJldHdlZW4iLCJfZ2V0V2VpZ2h0ZWRQb3dlclVwVHlwZSIsInBvd2VyVXAiLCJlbnRyaWVzIiwid2VpZ2h0IiwiY29vbGRvd24iLCJsYXN0IiwidG90YWwiLCJyZWR1Y2UiLCJzdW0iLCJyb2xsIiwiX2hhbmRsZUlucHV0Rm9yQWxsUGxheWVycyIsIm1pbnV0b3MiLCJmbG9vciIsInNlZ3VuZG9zIiwiZm9ybWF0byIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJfZW5kU2V0IiwiX3Jlc2V0U2V0IiwidWkiLCJpIiwiZnJhbWVzIiwiZ2VuZXJhdGVGcmFtZU51bWJlcnMiLCJlbmQiLCJmcmFtZVJhdGUiLCJyZXZlcnNlIiwiY2hhclAxIiwiY2hhcmFjdGVyIiwiY2hhclAyIiwicDEiLCJwMiIsInNldCIsImNvdXJ0Qm90dG9tIiwiY29sbGlkZXIiLCJsZWZ0S2V5IiwicmlnaHRLZXkiLCJqdW1wS2V5IiwicmVjZWl2ZUtleSIsInBvd2VyS2V5IiwibWFwIiwibGVmdEtleU9iaiIsImFkZEtleSIsIktleWJvYXJkIiwiS2V5Q29kZXMiLCJyaWdodEtleU9iaiIsImp1bXBLZXlPYmoiLCJyZWNlaXZlS2V5T2JqIiwicG93ZXJLZXlPYmoiLCJtYXBwaW5nIiwiaWRsZURpciIsImlzRG93biIsIkp1c3REb3duIiwicmVjZWl2ZURpciIsImp1bXBEaXIiLCJfb25CYWxsUGxheWVyQ29sbGlzaW9uIiwidmVsb2NpdHkiLCJzY29yZXJJZCIsInBvaW50c1RvQWRkIiwiX2NoZWNrV2luQ29uZGl0aW9uIiwicGxheWVyRGlyZWN0aW9uIiwiX2VuZEdhbWUiLCJ3aW5uZXIiLCJ3b3JsZCIsInNjb3JlRGlmZiIsIndpbm5lckxhYmVsIiwiVHV0b3JpYWxfU2NlbmUiLCJwYWdlSW5kZXgiLCJyZXR1cm5TY2VuZSIsIm1haW5UaXRsZVRleHQiLCJwYWdlcyIsInRpdGxlIiwicGFuZWxNYXJnaW4iLCJyb3VuZCIsInBhbmVsR2FwIiwibmF2WSIsInBhbmVsVG9wIiwicGFuZWxCb3R0b20iLCJwYW5lbEhlaWdodCIsInBhbmVsV2lkdGgiLCJsYXlvdXQiLCJzbGlkZUltYWdlIiwiX2ZpdEltYWdlIiwicGFnZUluZGljYXRvciIsInByZXYiLCJuZXh0IiwicmVuZGVyUGFnZSIsImltZyIsIm1heFciLCJtYXhIIiwiQ29uZmlndXJhdGlvbl9TY2VuZSIsIm11c2ljVm9sdW1lU2xpZGVyIiwic2Z4Vm9sdW1lU2xpZGVyIiwiaGFzU2Z4IiwiaGFzTXVzaWMiLCJsZWdhY3lWb2x1bWUiLCJnZXRMZWdhY3lWb2x1bWUiLCJpbml0aWFsVm9sdW1lIiwic2V0SXRlbSIsImVuc3VyZVN0b3JlZEF1ZGlvU2V0dGluZ3MiLCJpbml0aWFsTXVzaWNWb2x1bWUiLCJpbml0aWFsU2Z4Vm9sdW1lIiwiZG9tIiwiY3JlYXRlRnJvbUhUTUwiLCJhZGRMaXN0ZW5lciIsImV2ZW50IiwidGFyZ2V0IiwiSFRNTElucHV0RWxlbWVudCIsInNldFN0b3JlZE11c2ljVm9sdW1lIiwic2V0U3RvcmVkU2Z4Vm9sdW1lIiwibGluZSIsImdyYXBoaWNzIiwibGluZVN0eWxlIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlUGF0aCIsInNlcGFyYXRpb24iLCJFdmVudHMiLCJTSFVURE9XTiIsInJlbW92ZUFsbExpc3RlbmVycyIsIkNyZWRpdHNfU2NlbmUiLCJub21icmVzRXF1aXBvIiwiZnJhbWVZIiwiZnJhbWUiLCJzdGFydFkiLCJub21icmUiLCJpc0hlYWRlciIsIkVuZEdhbWVfU2NlbmUiLCJuYW1lIiwid2lubmVyVGV4dCIsIk1vZGVHYW1lX1NjZW5lIiwiZm9udFN0eWxlIiwiYnV0dG9uWSIsInNwYWNpbmciLCJzdGFydFgiLCJzdGFydE1vZGUiLCJtb2RlIiwiUGF1c2VfU2NlbmUiLCJyZW1vdmVBbGxLZXlzIiwiU2VsZWN0UGxheWVyX1NjZW5lIiwiY3VycmVudFR1cm4iLCJwbGF5ZXJJbnB1dHMiLCJwbGF5ZXJJbnB1dEVscyIsInR1cm5UZXh0IiwiaXNIb3N0IiwiY3JlYXRlTG9jYWxVSSIsImNyZWF0ZU9ubGluZVVJIiwiZW5hYmxlZCIsImJpZ0ltYWdlIiwiYmlnRnJhbWUiLCJjcmVhdGVQbGF5ZXJzVUkiLCJjcmVhdGVDaGFyYWN0ZXJNaW5pYXR1cmVzIiwidXBkYXRlVHVyblRleHQiLCJoYW5kbGVOZXh0IiwiY3JlYXRlUGxheWVyT25saW5lVUkiLCJwb3NpdGlvbnNYIiwiaWR4IiwiaW5wdXRFbCIsIm5vZGUiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJyZXBsYWNlIiwic2V0RmlsdGVyIiwiRmlsdGVyTW9kZSIsIk5FQVJFU1QiLCJzZXRTdHJva2VTdHlsZSIsInBvc2l0aW9ucyIsIm1pbmkiLCJvbk1pbmlDbGlja2VkIiwiY2hhcmFjdGVyTmFtZSIsIm93bmVySW5kZXgiLCJmaW5kSW5kZXgiLCJvd25lciIsInRhcmdldEluZGV4Iiwib3RoZXIiLCJuYW1lMSIsInRyaW0iLCJwMUhhc0NoYXIiLCJuYW1lMiIsInAySGFzQ2hhciIsImZsYXNoVHVyblRleHQiLCJtcyIsIm9sZENvbG9yIiwic2V0Q29sb3IiLCJwMUhhc05hbWUiLCJwMkhhc05hbWUiLCJhbGxDaGFycyIsImFsbE5hbWVzIiwidW5kZWZpbmVkIiwiU2VsZWN0U2NlbmFyaW9fU2NlbmUiLCJzZWxlY3RlZEltYWdlIiwiZXNjZW5hcmlvcyIsInNjZW5hcmlvQnV0dG9ucyIsInNldFNlbGVjdGVkU2NlbmFyaW8iLCJib3RvbiIsInRleHRvIiwiQWxpZ24iLCJJbiIsIkNlbnRlciIsIkxvYmJ5X1NjZW5lIiwiaXNQbGF5ZXJSZWFkeSIsInRhcmdldEZyYW1lV2lkdGgiLCJ0YXJnZXRGcmFtZUhlaWdodCIsInAxU3RhdHVzVGV4dCIsInAyU3RhdHVzVGV4dCIsImJ0bkxpc3RvIiwidG9nZ2xlUmVhZHkiLCJidG5Wb2x2ZXIiLCJoYW5kbGVCYWNrIiwiZW1vamkiLCJudWV2b1RleHRvQm90b24iLCJzZXRMYWJlbCIsImRpc2FibGVJbnRlcmFjdGl2ZSIsInRhcmdldFNjZW5lIiwiTG9nZ2luZ19TY2VuZSIsImFwaVVybCIsImlzUmVnaXN0ZXJpbmciLCJzYXZlZE5hbWUiLCJzYXZlZFBhc3MiLCJyZXNwb25zZSIsInBhc3N3b3JkIiwicmVzRGF0YSIsImpzb24iLCJvayIsInRpdGxlVGV4dCIsIm1hcmNvIiwidXNlcklucHV0IiwiY3JlYXRlSHRtbElucHV0IiwicGFzc0lucHV0IiwibWFpbkJ0biIsImhhbmRsZVN1Ym1pdCIsInRvZ2dsZVRleHQiLCJ0b2dnbGVNb2RlIiwicGxhY2Vob2xkZXIiLCJpc1Bhc3N3b3JkIiwidXNlcm5hbWVWYWx1ZSIsInBhc3N3b3JkVmFsdWUiLCJhbGVydCIsImVuZHBvaW50IiwidG9rZW4iLCJkb2N1bWVudCIsImZvbnRzIiwiUHJvbWlzZSIsImFsbCIsInJlYWR5IiwicGFyZW50IiwiZGVmYXVsdCIsImFyY2FkZSIsImdyYXZpdHkiLCJkZWJ1ZyIsImNyZWF0ZUNvbnRhaW5lciIsImNhbGxiYWNrcyIsInByZUJvb3QiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ3aW5kb3ciLCJibG9iIiwiQmxvYiIsIm5hdmlnYXRvciIsInNlbmRCZWFjb24iXSwic291cmNlUm9vdCI6IiJ9