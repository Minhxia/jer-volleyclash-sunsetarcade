(()=>{"use strict";var e={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},d:(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var i=e.n(t);const s="sfxVolume",a="musicVolume",r="globalVolume",o="volume";function n(e,t){const s=Number.parseFloat(e??String(t));return Number.isFinite(s)?i().Math.Clamp(s,0,1):t}function l(e,t,s=1){const a=localStorage.getItem(e);if(null!==a)return n(a,s);const r=t?localStorage.getItem(t):null;return null!==r?n(r,s):i().Math.Clamp(s,0,1)}function h(e=1){return l(s,o,e)}function c(e=1){return l(a,o,e)}function d(e=1){return l(r,null,e)}function p(e,t={}){let s=d(),a=h(),r=c();"number"==typeof t?(a=i().Math.Clamp(Number(t),0,1),r=a):(a=t.sfxVolume??a,r=t.musicVolume??r),e.sound.volume=s;const o=e.game.globals.music;o&&"setVolume"in o&&o.setVolume(r)}function S(e,t="sonidoClick"){e.sound.play(t,{volume:h()})}function m(e,{x:t,y:i,label:s,onClick:a,textureNormal:r="botonSinSeleccionar",textureHover:o="botonSeleccionado",scale:n=2,textStyle:l={},clickSoundKey:h="sonidoClick"}){const c=e.add.sprite(t,i,r).setScale(n).setInteractive({useHandCursor:!0}),d=e.add.text(t,i,s,l).setOrigin(.5),p=()=>c.setTexture(r),m=()=>c.setTexture(o);return c.on("pointerover",m),c.on("pointerout",p),c.on("pointerdown",()=>{m(),S(e,h)}),c.on("pointerup",e=>{c.getBounds().contains(e.x,e.y)?(m(),a?.()):p()}),{button:c,text:d}}function u(e,t){const{x:i,y:s,texture:a,onClick:r,scale:o=1,hoverScale:n=1.1,clickSoundKey:l="sonidoClick"}=t,h=e.add.sprite(i,s,a).setScale(o).setInteractive({useHandCursor:!0});return h.on("pointerover",()=>h.setScale(o*n)),h.on("pointerout",()=>h.setScale(o)),h.on("pointerdown",()=>{S(e,l)}),h.on("pointerup",e=>{h.getBounds().contains(e.x,e.y)&&r()}),h}class g extends i().Scene{constructor(){super("Menu_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.image("fondoMenuPrincipal","ASSETS/FONDOS/MENU_PRINCIPAL.png"),this.load.image("logoEmpresa","ASSETS/LOGO/logo_empresa.png"),this.load.audio("sonidoGeneral","ASSETS/SONIDO/SONIDO1.mp3"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){p(this),function(e,t,{loop:i=!0}={}){const s=c();let a=e.game.globals.music;a||(a=e.sound.add(t,{loop:i,volume:s}),e.game.globals.music=a),a&&"setVolume"in a&&a.setVolume(s);const r=()=>{if(a&&"play"in a&&(!("isPlaying"in a)||!a.isPlaying))try{a.play()}catch(e){console.warn("[Audio.js] No se ha podido reproducir todav?a la m?sica.",e)}};r(),e.input.once("pointerdown",async()=>{const t=e.sound.context;if(t&&"suspended"===t.state)try{await t.resume()}catch{}r()})}(this,"sonidoGeneral",{loop:!0});const e=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"},{width:t,height:i}=this.scale,s=t/2,a=s+s/2;this.add.image(0,0,"fondoMenuPrincipal").setOrigin(0).setDepth(-1).setDisplaySize(t,i),this.add.text(a,115,"Volley Clash",{...e,fontSize:"68px",color:"#ffffff"}).setOrigin(.5);const r=i/2-63,o={...e,fontSize:"28px",color:"#000000"};m(this,{x:a,y:r,label:"Jugar",onClick:()=>this.scene.start("ModeGame_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),m(this,{x:a,y:r+70,label:"Tutorial",onClick:()=>this.scene.start("Tutorial_Scene",{returnScene:"Menu_Scene"}),textStyle:o,clickSoundKey:"sonidoClick"}),m(this,{x:a,y:r+140,label:"Configuración",onClick:()=>this.scene.start("Configuration_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),m(this,{x:a,y:r+210,label:"Créditos",onClick:()=>this.scene.start("Credits_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),m(this,{x:t-115,y:40,label:"Cerrar Sesión",onClick:()=>{this.handleLogout()},textStyle:o,clickSoundKey:"sonidoClick"}),this.add.image(this.scale.width-20,this.scale.height-20,"logoEmpresa").setScale(.42).setOrigin(1,1)}async handleLogout(){const e=this.registry.get("username");await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})}),localStorage.removeItem("voley_username"),localStorage.removeItem("voley_session_token"),this.registry.remove("username"),this.registry.remove("userToken"),this.registry.remove("isHost"),this.scene.start("Logging_Scene")}}const y={velocidad:4e3,ralentizar:4e3,paralizar:2500,por2:4e3,por3:4e3};class f{constructor(e,t,i,s,a){this.scene=e,this.id=t,this.characterType=a,this.baseMoveSpeed=250,this.moveSpeed=this.baseMoveSpeed,this.jumpSpeed=275,this.activePowerUps={},this.isParalyzed=!1,this.paralysisTween=null,this.speedEffectActive=!1,this.slowEffectActive=!1,this.scoreMultiplier=1,this.multiplierText=this.scene.add.text(i,s-50,"",{fontFamily:"Arial",fontSize:"20px",color:"#ffffff",stroke:"#000000",strokeThickness:4}).setOrigin(.5,1).setDepth(20).setVisible(!1),this.powerUpInventory=[],this.isReceiving=!1,this.boundsLeft=0,this.boundsRight=960,this.boundsTop=0,this.boundsBottom=540;const r={characterA:{textureKey:"charA_move",startFrame:0,idleLeftAnim:"charA_idleLeft",idleRightAnim:"charA_idleRight",runLeftAnim:"charA_runLeft",runRightAnim:"charA_runRight",jumpLeftAnim:"charA_jumpLeft",jumpRightAnim:"charA_jumpRight",receiveLeftAnim:"charA_receiveLeft",receiveRightAnim:"charA_receiveRight"},characterB:{textureKey:"charB_move",startFrame:0,idleLeftAnim:"charB_idleLeft",idleRightAnim:"charB_idleRight",runLeftAnim:"charB_runLeft",runRightAnim:"charB_runRight",jumpLeftAnim:"charB_jumpLeft",jumpRightAnim:"charB_jumpRight",receiveLeftAnim:"charB_receiveLeft",receiveRightAnim:"charB_receiveRight"},characterC:{textureKey:"charC_move",startFrame:0,idleLeftAnim:"charC_idleLeft",idleRightAnim:"charC_idleRight",runLeftAnim:"charC_runLeft",runRightAnim:"charC_runRight",jumpLeftAnim:"charC_jumpLeft",jumpRightAnim:"charC_jumpRight",receiveLeftAnim:"charC_receiveLeft",receiveRightAnim:"charC_receiveRight"}};this.config=r[a]||r.characterA,this.sprite=this.scene.physics.add.sprite(i,s,this.config.textureKey,this.config.startFrame),this.sprite.setScale(2.5),this.sprite.body.setSize(.9*this.sprite.width,.9*this.sprite.height,!0),this.sprite.setData("player",this),this.facing="right",this.isOnGround=!1,this.isJumping=!1,this.jumpStartTime=0,this.sprite.on("animationcomplete",e=>{try{e.key!==this.config.receiveLeftAnim&&e.key!==this.config.receiveRightAnim||(this.isReceiving=!1)}catch(t){console.error(`Animation complete handler error for ${e.key}:`,t)}})}isGrounded(){const e=this.sprite.body;return!!e&&(e.blocked.down||e.touching.down)}isNearGround(e=12){const t=this.sprite.body;if(!t)return!1;if("number"!=typeof this.scene.groundY)return!1;const i=t.y+t.height;return Math.abs(i-this.scene.groundY)<=e}moveLeft(){this.isParalyzed||this.isReceiving||(this.sprite.setVelocityX(-this.moveSpeed),this.facing="left",this.playAnimation(this.config.runLeftAnim))}moveRight(){this.isParalyzed||this.isReceiving||(this.sprite.setVelocityX(this.moveSpeed),this.facing="right",this.playAnimation(this.config.runRightAnim))}jumpLeft(){this.isParalyzed||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!1,this.isJumping=!0,this.jumpStartTime=this.scene.time.now,this.sprite.setVelocityY(-this.jumpSpeed),this.facing="left",this.playAnimation(this.config.jumpLeftAnim),this.scene?.playSfx?.(this.scene?.sfx?.jump))}jumpRight(){this.isParalyzed||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!1,this.isJumping=!0,this.jumpStartTime=this.scene.time.now,this.sprite.setVelocityY(-this.jumpSpeed),this.facing="right",this.playAnimation(this.config.jumpRightAnim),this.scene?.playSfx?.(this.scene?.sfx?.jump))}receiveLeft(){this.isParalyzed||this.isReceiving||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!0,this.sprite.setVelocityX(0),this.facing="left",this.playAnimation(this.config.receiveLeftAnim))}receiveRight(){this.isParalyzed||this.isReceiving||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!0,this.sprite.setVelocityX(0),this.facing="right",this.playAnimation(this.config.receiveRightAnim))}idleLeft(){this.isReceiving||(this.sprite.setVelocityX(0),this.facing="left",this.playAnimation(this.config.idleLeftAnim))}idleRight(){this.isReceiving||(this.sprite.setVelocityX(0),this.facing="right",this.playAnimation(this.config.idleRightAnim))}setBounds(e,t,i,s){this.boundsLeft=e,this.boundsRight=t,this.boundsTop=i,this.boundsBottom=s}clampWithinBounds(){const e=this.sprite.width/2;this.sprite.x-e<this.boundsLeft&&(this.sprite.x=this.boundsLeft+e,this.sprite.setVelocityX(0)),this.sprite.x+e>this.boundsRight&&(this.sprite.x=this.boundsRight-e,this.sprite.setVelocityX(0))}setPosition(e,t){this.sprite&&(this.sprite.setPosition(e,t),this.sprite.setVelocity(0,0),this.updateMultiplierTextPosition())}updateMultiplierTextPosition(){if(!this.multiplierText||!this.sprite)return;const e=.6*(this.sprite.displayHeight||this.sprite.height||40);this.multiplierText.setPosition(this.sprite.x,this.sprite.y-e)}playAnimation(e){if(!e)return;if(!this.sprite.anims)return;if(this.isJumping&&e!==this.config.jumpLeftAnim&&e!==this.config.jumpRightAnim)return;const t=this.sprite.anims.currentAnim;this.sprite.anims.isPlaying&&t&&t.key===e||this.sprite.anims.play(e,!0)}update(){if(this.sprite.body){const e=this.isOnGround;this.isOnGround=this.isGrounded();const t=this.sprite.anims.currentAnim,i=t?t.key:null;this.isParalyzed&&this.sprite.setVelocityX(0),this.isReceiving&&i!==this.config.receiveLeftAnim&&i!==this.config.receiveRightAnim&&(this.isReceiving=!1),this.isJumping&&i&&i!==this.config.jumpLeftAnim&&i!==this.config.jumpRightAnim&&(this.isJumping=!1),this.isJumping&&this.scene.time.now-this.jumpStartTime>1500&&(this.isJumping=!1),this.isJumping&&!e&&this.isOnGround&&(this.isJumping=!1,"left"===this.facing?this.idleLeft():this.idleRight())}this.clampWithinBounds(),this.updateMultiplierTextPosition()}applyPowerUp(e){return!(this.powerUpInventory.length>=2||(this.powerUpInventory.push(e),0))}useNextPowerUp(){if(0===this.powerUpInventory.length)return;const e=this.powerUpInventory.shift();this.activatePowerUp(e)}activatePowerUp(e){switch(e){case"velocidad":this.applyOrRefreshTimedEffect("velocidad",y.velocidad);break;case"ralentizar":{const e=this.getOpponent();e&&e.applyOrRefreshTimedEffect("ralentizar",y.ralentizar);break}case"paralizar":{const e=this.getOpponent();e&&e.applyOrRefreshTimedEffect("paralizar",y.paralizar);break}case"por2":case"por3":this.applyOrRefreshTimedEffect(e,y[e])}}updatePowerUps(){const e=this.scene.time.now;let t=!1,i=!1;for(const s in this.activePowerUps)if(!(e<=this.activePowerUps[s]))switch(delete this.activePowerUps[s],s){case"velocidad":this.setSpeedEffect(!1),t=!0;break;case"ralentizar":this.setSlowEffect(!1),t=!0;break;case"paralizar":this.setParalyzed(!1);break;case"por2":case"por3":i=!0}t&&this.recalculateMoveSpeed(),i&&this.recalculateScoreEffect()}setParalyzed(e){this.isParalyzed=e,e?(this.sprite.setTint(16733525),this.sprite.setAlpha(1),this.paralysisTween&&(this.paralysisTween.stop(),this.paralysisTween=null),this.paralysisTween=this.scene.tweens.add({targets:this.sprite,alpha:.3,yoyo:!0,duration:200,repeat:-1}),this.sprite.setVelocityX(0)):(this.sprite.setAlpha(1),this.paralysisTween&&(this.paralysisTween.stop(),this.paralysisTween=null),this.refreshPowerUpVisuals())}setSpeedEffect(e){this.speedEffectActive=e,this.refreshPowerUpVisuals()}setSlowEffect(e){this.slowEffectActive=e,this.refreshPowerUpVisuals()}recalculateMoveSpeed(){let e=1;this.activePowerUps.velocidad&&(e*=1.5),this.activePowerUps.ralentizar&&(e*=.5),this.moveSpeed=this.baseMoveSpeed*e}recalculateScoreEffect(){let e=1;this.activePowerUps.por2&&(e=Math.max(e,2)),this.activePowerUps.por3&&(e=Math.max(e,3)),this.scoreMultiplier=e,this.multiplierText&&(this.scoreMultiplier>1?(this.multiplierText.setText("x"+this.scoreMultiplier),this.multiplierText.setVisible(!0)):this.multiplierText.setVisible(!1)),this.refreshPowerUpVisuals()}applyOrRefreshTimedEffect(e,t){const i=this.scene.time.now;this.activePowerUps[e]=i+t,"velocidad"===e&&this.setSpeedEffect(!0),"ralentizar"===e&&this.setSlowEffect(!0),"paralizar"===e&&this.setParalyzed(!0),"velocidad"!==e&&"ralentizar"!==e||this.recalculateMoveSpeed(),"por2"!==e&&"por3"!==e||this.recalculateScoreEffect()}refreshPowerUpVisuals(){this.isParalyzed||(this.slowEffectActive?this.sprite.setTint(5592575):this.speedEffectActive?this.sprite.setTint(16747520):this.scoreMultiplier>1?this.sprite.setTint(3329330):this.sprite.clearTint())}getOpponent(){return this.scene.players?Array.from(this.scene.players.values()).find(e=>e!==this):null}}class x{constructor(e,t){this.player=e,this.powerUpType=t,this.stored=!1}execute(){return this.stored=this.player.applyPowerUp(this.powerUpType),this.stored}}class T{constructor(e,t,i,s){this.scene=e,this.type=s,this.isCollected=!1,this._destroyed=!1,this._cooldownUntil=0,this.fadeStart=3e3,this.lifetime=5e3,this._overlaps=[],this.fadeTween=null,this._lifetimeTimer=null,this.sprite=e.physics.add.staticImage(t,i,s).setScale(1.2).setInteractive(),this.sprite.refreshBody&&this.sprite.refreshBody();const a=Math.max(0,Math.min(this.fadeStart,this.lifetime)),r=Math.max(0,this.lifetime-a);r>0&&(this.fadeTween=e.tweens.add({targets:this.sprite,alpha:0,delay:a,duration:r}));const o=e.players;o&&"function"==typeof o.forEach&&o.forEach(t=>{if(!t?.sprite)return;const i=e.physics.add.overlap(t.sprite,this.sprite,()=>this.collect(t),null,this);this._overlaps.push(i)}),this._lifetimeTimer=e.time.delayedCall(this.lifetime,()=>{this.destroy()})}collect(e){if(console.log("[PowerUp] overlap con",e.id,"tipo",this.type),this._destroyed)return;if(this.isCollected)return;const t=this.scene.time.now;if(this._cooldownUntil&&t<this._cooldownUntil)return;this.isCollected=!0;const i=new x(e,this.type);if(this.scene.commandProcessor.process(i),!i.stored)return this.isCollected=!1,void(this._cooldownUntil=t+300);this.destroy(),this.scene.updatePlayerInventoryUI?.(e)}destroy(){if(!this._destroyed){if(this._destroyed=!0,Array.isArray(this._overlaps)&&(this._overlaps.forEach(e=>{try{e.destroy()}catch{}}),this._overlaps=[]),this.fadeTween){try{this.fadeTween.stop()}catch{}this.fadeTween=null}if(this._lifetimeTimer&&(this._lifetimeTimer.remove(!1),this._lifetimeTimer=null),this.sprite){try{this.sprite.destroy()}catch{}this.sprite=null}Array.isArray(this.scene.powerUps)&&(this.scene.powerUps=this.scene.powerUps.filter(e=>e!==this))}}}class O{constructor(e,t,i){this.scene=e,this.players=null,this.commandProcessor=null,this.sprite=e.physics.add.sprite(t,i,"ball"),this.sprite.setScale(1),this.sprite.setBounce(.8),this.sprite.setCollideWorldBounds(!0),this.sprite.setData("ball",this),this.lastTouchedBy=null,this.touchCount=0,this.courtSide="left",this.isBallLive=!0,this.netX=480,this.lastHitTime=0,this.lastHitPlayerId=null}_getRandomFactor(e=.95,t=1.05){return e+(t-e)*Math.random()}hit(e,t,i,s=!1){if(!this.isBallLive)return;const a=this.scene.time.now;if(this.lastHitPlayerId===e.id&&a-this.lastHitTime<120)return;if(this.lastHitPlayerId=e.id,this.lastHitTime=a,this.lastTouchedBy===e.id?this.touchCount++:(this.touchCount=1,this.lastTouchedBy=e.id),this.touchCount>3)return void this.onFalta("toqueExcedido",e);let r,o;if(s?this.scene?.playSfx?.(this.scene?.sfx?.receive):i&&this.scene?.playSfx?.(this.scene?.sfx?.spike),s){const e=180,i=-310,s=this._getRandomFactor();r="left"===t?-e*s:e*s,o=i*this._getRandomFactor()}else if(i){const e=220,i=-140,s=this._getRandomFactor();r="left"===t?-e*s:e*s,o=i*this._getRandomFactor()}else{const e=180;r="left"===t?-e:e,o=-100}this.sprite.setVelocity(r,o),r>0?this.courtSide="right":r<0&&(this.courtSide="left")}crossNet(){this.touchCount=0,this.lastTouchedBy=null,this.courtSide="left"===this.courtSide?"right":"left"}onGrounded(){if(!this.isBallLive)return;const e=this.sprite.x<this.netX,t=this.sprite.x>this.netX;e?(this.onRallyEnd("player2"),this.resetRally("player2")):t&&(this.onRallyEnd("player1"),this.resetRally("player1"))}onFalta(e,t){if(!this.isBallLive)return;const i="player1"===t.id?"player2":"player1";this.onRallyEnd(i),this.resetRally(i)}onRallyEnd(e){this.isBallLive=!1,this.scene.events.emit("rallyConcluded",{scoringPlayerId:e,touchCount:this.touchCount,lastTouchedBy:this.lastTouchedBy})}_getSubtleNudge(e,t,i){const s=12*(Math.random()<.5?-1:1);return{spawnX:Math.max(t,Math.min(i-t,e+s)),velocityX:s}}setServePosition(e){const t=this.scene.worldWidth??this.scene.scale?.width??2*this.netX,i=(e,t,i)=>Math.max(t,Math.min(i,e));let s=this.netX,a=0;if("player1"===e||"player2"===e){const a=this.scene.players?.get?this.scene.players.get(e):null;s=a?.sprite?"player1"===e?i(a.sprite.x,60,this.netX-60):i(a.sprite.x,this.netX+60,t-60):"player1"===e?this.netX-100:this.netX+100}else{const e=this._getSubtleNudge(s,60,t);s=e.spawnX,a=e.velocityX}this.sprite.setPosition(s,100),this.sprite.setVelocity(a,0)}resetRally(e){this.isBallLive=!0,this.lastTouchedBy=null,this.touchCount=0,this.setServePosition(e),this.lastHitTime=0,this.lastHitPlayerId=null}update(){this.isBallLive&&(this.sprite.x<this.netX-20?this.courtSide="left":this.sprite.x>this.netX+20&&(this.courtSide="right"))}}class E{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class A{execute(){}serialize(){}getPlayer(){}}class b extends A{constructor(e,t){super(),this.player=e,this.direction=t}execute(){switch(this.direction){case"left":this.player.moveLeft();break;case"right":this.player.moveRight();break;case"jumpLeft":this.player.jumpLeft();break;case"jumpRight":this.player.jumpRight();break;case"receiveLeft":this.player.receiveLeft();break;case"receiveRight":this.player.receiveRight();break;case"idleLeft":this.player.idleLeft();break;default:this.player.idleRight()}}getPlayer(){return this.player.id}serialize(){return{type:"MovePlayerCommand",playerId:this.player.id,direction:this.direction}}}class _ extends i().Scene{tiempoTotal=60;tiempoRestante=this.tiempoTotal;timerText;timerEvent;constructor(){super("Game_Scene")}init(e){this.players=new Map,this.inputMappings=[],this.commandProcessor=new E,this.player1=e.player1,this.player2=e.player2,this.selectedScenario=e.selectedScenario,this.ball=null,this.scoreP1=0,this.scoreP2=0,this.setsP1=0,this.setsP2=0,this.maxSets=3,this.currentSet=1,this.isGoldenPoint=!1}preload(){this.load.spritesheet("charA_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_A/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charA_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_A/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.spritesheet("charB_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_B/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charB_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_B/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.spritesheet("charC_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_C/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charC_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_C/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.image("Gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("Playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("Jardin","ASSETS/FONDOS/JARDIN.png"),this.load.image("por2","ASSETS/ITEMS/POWER UPS/MULTIPLICADOR 2.png"),this.load.image("por3","ASSETS/ITEMS/POWER UPS/MULTIPLICADOR 3.png"),this.load.image("paralizar","ASSETS/ITEMS/POWER UPS/PARALIZADO.png"),this.load.image("ralentizar","ASSETS/ITEMS/POWER UPS/RELENTIZAR.png"),this.load.image("velocidad","ASSETS/ITEMS/POWER UPS/VELOCIDAD.png"),this.load.image("marcoPowerUp","ASSETS/JUEGO/Base_powerUp.png"),this.load.image("ball","ASSETS/ITEMS/PELOTAS/P_NORMAL.png"),this.load.image("red","ASSETS/JUEGO/RED.png"),this.load.image("reloj","ASSETS/JUEGO/TIMER.png"),this.load.image("marcoGeneral","ASSETS/JUEGO/MARCADOR_SET.png"),this.load.audio("sfx_silbato","ASSETS/SONIDO/Silbato_inicio_partido_1p4s.mp3"),this.load.audio("sfx_remate","ASSETS/SONIDO/Toque_pelota_remate_03s.mp3"),this.load.audio("sfx_recepcion","ASSETS/SONIDO/Toque_pelota_recepcion.mp3"),this.load.audio("sfx_salto","ASSETS/SONIDO/SonidoSalto_1p.mp3"),this.load.audio("sfx_punto","ASSETS/SONIDO/SonidoPunto.mp3")}create(){const{width:e,height:t}=this.scale;this.worldWidth=e,this.worldHeight=t;const i=this.game.globals.defaultTextStyle;this.sfx={whistle:"sfx_silbato",spike:"sfx_remate",receive:"sfx_recepcion",jump:"sfx_salto",point:"sfx_punto"},this.playSfx(this.sfx.whistle),this.timerText=this.add.text(this.scale.width/2,30,"",{...i,fontSize:"32px",color:"#ffffff"}).setOrigin(.5,0).setScrollFactor(0).setDepth(9999),this.timerIcon=this.add.image(this.scale.width/2,45,"reloj").setOrigin(.5).setScale(2).setScrollFactor(0).setDepth(9e3),this.setFrame=this.add.image(this.scale.width/2,120,"marcoGeneral").setOrigin(.5).setScale(1).setDepth(9998),this.setText=this.add.text(this.scale.width/2,120,`SET ${this.currentSet}`,{...i,fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setDepth(9999);const s=this.setFrame.displayWidth,a=this.setFrame.displayHeight,r=this.setFrame.y+Math.round(a/2)+13,o=Math.round(.22*s);this.setScoreFrameLeft=this.add.image(this.scale.width/2-o,r,"marcoGeneral").setOrigin(.5).setScale(.4,.38).setDepth(9998),this.setScoreFrameRight=this.add.image(this.scale.width/2+o,r,"marcoGeneral").setOrigin(.5).setScale(.4,.38).setDepth(9998),this.setScoreLeft=this.add.text(this.scale.width/2-o,r,`${this.setsP1}`,{...i,fontSize:"28px",color:"#ffffff"}).setOrigin(.5).setDepth(9999),this.setScoreRight=this.add.text(this.scale.width/2+o,r,`${this.setsP2}`,{...i,fontSize:"28px",color:"#ffffff"}).setOrigin(.5).setDepth(9999),this.setWinnerText=this.add.text(this.scale.width/2,205,"",{...i,fontSize:"28px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5).setDepth(9999).setVisible(!1),this.timerEvent=this.time.addEvent({delay:1e3,callback:this.updateTimer,callbackScope:this,loop:!0}),this.updateTimer(),this.add.image(e/2,t/2,this.selectedScenario).setOrigin(.5).setDisplaySize(e,t).setDepth(-1);const n=this.physics.add.staticSprite(e/2,t-160,"red").setScale(.6),l=this.textures.get("red").getSourceImage();n.body.setSize(.5*l.width,.5*l.height),n.body.setOffset(-n.body.width/2,-n.body.height/2),n.body.updateFromGameObject(),this.red=n,this._createAnimations(),this.pointsLeft=0,this.pointsRight=0,this.scoreFrameLeft=this.add.image(200,50,"marcoGeneral").setScale(.8,.55).setOrigin(.5),this.scoreFrameRight=this.add.image(this.worldWidth-200,50,"marcoGeneral").setScale(.8,.55).setOrigin(.5),this.scoreLeft=this.add.text(200,45,"0",{...i,fontSize:"40px",color:"#ffffffff"}).setOrigin(.5).setDepth(9999),this.rightScore=this.add.text(this.worldWidth-200,45,"0",{...i,fontSize:"40px",color:"#ffffffff"}).setOrigin(.5).setDepth(9999),this.groundHeight=20,this.groundY=this.worldHeight-90;const h=this.add.rectangle(this.worldWidth/2,this.groundY,this.worldWidth,20).setOrigin(.5,0).setVisible(!1);this.physics.add.existing(h,!0),this._createPlayers(),this._setupPhysicsWorld(h),this._setupInputMappings(),this.powerUps=[],this.maxPowerUps=2,this.powerUpSpawnConfig={minDelayMs:3500,maxDelayMs:7e3,weights:{velocidad:3,ralentizar:2,paralizar:1,por2:3,por3:2},cooldownMs:{paralizar:1e4}},this.powerUpLastSpawnAt={},this.inventoryUI={player1:[this.add.image(50,50,"por2").setScale(1.4).setVisible(!1).setDepth(1),this.add.image(110,50,"por2").setScale(1.4).setVisible(!1).setDepth(1)],player2:[this.add.image(this.worldWidth-110,50,"por2").setScale(1.4).setVisible(!1).setDepth(1),this.add.image(this.worldWidth-50,50,"por2").setScale(1.4).setVisible(!1).setDepth(1)]},this.schedulePowerUpSpawn(),this.inventoryFrames={player1:[this.add.image(50,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0),this.add.image(110,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0)],player2:[this.add.image(this.worldWidth-110,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0),this.add.image(this.worldWidth-50,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0)]},this._createBall(),this.ball.setServePosition(),this._setupBallCollisions(),this._setupBallEvents(),this.input.keyboard.on("keydown-ESC",()=>{this.scene.pause(),this.timerEvent.paused=!0,this.scene.launch("Pause_Scene")}),this.input.keyboard.on("keydown-F",()=>{const e=this.scoreP1>=this.scoreP2?"player1":"player2";this._endGame(e)}),this.events.on("resume",()=>{this.timerEvent.paused=!1})}schedulePowerUpSpawn(){const{minDelayMs:e,maxDelayMs:t}=this.powerUpSpawnConfig,s=i().Math.Between(e,t);this.time.delayedCall(s,()=>{if(this.powerUps.length<this.maxPowerUps){const e=i().Math.Between(80,this.worldWidth-80),t=i().Math.Between(this.worldHeight-220,this.worldHeight-120),s=this._getWeightedPowerUpType();if(s){const i=new T(this,e,t,s);this.powerUps.push(i),this.powerUpLastSpawnAt[s]=this.time.now}}this.schedulePowerUpSpawn()})}_getWeightedPowerUpType(){const{weights:e,cooldownMs:t}=this.powerUpSpawnConfig,s=this.time.now,a=Object.entries(e).filter(([e,i])=>{if(i<=0)return!1;const a=t?.[e];if(!a)return!0;const r=this.powerUpLastSpawnAt?.[e]||0;return s-r>=a});if(!a.length)return null;const r=a.reduce((e,[,t])=>e+t,0);let o=i().Math.Between(1,r);for(const[e,t]of a)if(o-=t,o<=0)return console.log("[Game_Scene] Power-up aleatorio: ",e),e;return a[a.length-1][0]}playSfx(e){e&&this.sound.play(e,{volume:h()})}update(){this._handleInputForAllPlayers(),this.players.forEach(e=>e.updatePowerUps()),this.ball&&(this.ball.update(),this.ball.isBallLive&&this.ball.sprite.y>this.groundY&&this.ball.onGrounded(),(this.ball.sprite.x<475&&"right"===this.ball.courtSide||this.ball.sprite.x>485&&"left"===this.ball.courtSide)&&this.ball.crossNet())}updateTimer(){this.tiempoRestante--;const e=Math.floor(this.tiempoRestante/60),t=this.tiempoRestante%60,i=`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`;this.timerText.setText(i),this.tiempoRestante<=0&&(this.timerEvent.paused=!0,console.log("FIN DEL TIEMPO"),this.scoreP1>this.scoreP2?this._endSet("player1"):this.scoreP2>this.scoreP1?this._endSet("player2"):(console.log("Empate en el set"),this.isGoldenPoint=!0,this.setWinnerText&&(this.setWinnerText.setText("EMPATE: punto de oro"),this.setWinnerText.setVisible(!0))))}updateSetScoreUI(){this.setScoreLeft&&this.setScoreLeft.setText(this.setsP1.toString()),this.setScoreRight&&this.setScoreRight.setText(this.setsP2.toString())}updatePlayerInventoryUI(e){const t=this.inventoryUI[e.id];for(let i=0;i<2;i++)e.powerUpInventory[i]?(t[i].setTexture(e.powerUpInventory[i]),t[i].setVisible(!0)):t[i].setVisible(!1)}_createAnimations(){this.anims.create({key:"charA_idleRight",frames:this.anims.generateFrameNumbers("charA_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charA_idleLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charA_receiveRight",frames:this.anims.generateFrameNumbers("charA_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charA_receiveLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charA_runRight",frames:this.anims.generateFrameNumbers("charA_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charA_runLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charA_jumpRight",frames:this.anims.generateFrameNumbers("charA_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charA_jumpLeft",frames:this.anims.generateFrameNumbers("charA_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charB_idleRight",frames:this.anims.generateFrameNumbers("charB_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charB_idleLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charB_receiveRight",frames:this.anims.generateFrameNumbers("charB_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charB_receiveLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charB_runRight",frames:this.anims.generateFrameNumbers("charB_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charB_runLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charB_jumpRight",frames:this.anims.generateFrameNumbers("charB_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charB_jumpLeft",frames:this.anims.generateFrameNumbers("charB_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charC_idleRight",frames:this.anims.generateFrameNumbers("charC_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charC_idleLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charC_receiveRight",frames:this.anims.generateFrameNumbers("charC_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charC_receiveLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charC_runRight",frames:this.anims.generateFrameNumbers("charC_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charC_runLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charC_jumpRight",frames:this.anims.generateFrameNumbers("charC_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charC_jumpLeft",frames:this.anims.generateFrameNumbers("charC_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0})}_createPlayers(){const e=this.player1.character,t=this.player2.character,i=new f(this,"player1",.25*this.worldWidth,this.groundY-100,e),s=new f(this,"player2",.75*this.worldWidth,this.groundY-100,t);this.players.set("player1",i),this.players.set("player2",s);const a=Math.floor(this.groundY);i.setBounds(80,455,50,a),s.setBounds(505,this.worldWidth-80,50,a),this.commandProcessor.setPlayers(this.players),this.commandProcessor.setGameScene(this),i.idleRight(),s.idleLeft()}_setupPhysicsWorld(e){this.players.forEach(t=>{this.physics.add.collider(t.sprite,e),this.physics.add.collider(t.sprite,this.red,()=>{console.log(`${t.id} tocó la red!`),t.sprite.setVelocityX(0)})})}_setupInputMappings(){this.inputMappings=[{playerId:"player1",leftKey:"A",rightKey:"D",jumpKey:"W",receiveKey:"S",powerKey:"E"},{playerId:"player2",leftKey:"J",rightKey:"L",jumpKey:"I",receiveKey:"K",powerKey:"O"}].map(e=>({playerId:e.playerId,leftKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.rightKey]),jumpKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.jumpKey]),receiveKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.receiveKey]),powerKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.powerKey])}))}_handleInputForAllPlayers(){this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);if(!t)return;if(t.isParalyzed){const e="left"===t.facing?"idleLeft":"idleRight";return void this.commandProcessor.process(new b(t,e))}let s;if(s=e.leftKeyObj.isDown?"left":e.rightKeyObj.isDown?"right":"left"===t.facing?"idleLeft":"idleRight",t.isJumping||this.commandProcessor.process(new b(t,s)),i().Input.Keyboard.JustDown(e.receiveKeyObj)){const e="left"===t.facing?"receiveLeft":"receiveRight";this.commandProcessor.process(new b(t,e))}if(i().Input.Keyboard.JustDown(e.jumpKeyObj)){const e="left"===t.facing?"jumpLeft":"jumpRight";this.commandProcessor.process(new b(t,e))}i().Input.Keyboard.JustDown(e.powerKeyObj)&&(t.useNextPowerUp(),this.updatePlayerInventoryUI(t))}),this.players.forEach(e=>e.update())}_createBall(){this.ball=new O(this,this.worldWidth/2,150)}_setupBallCollisions(){this.players.forEach(e=>{this.physics.add.overlap(this.ball.sprite,e.sprite,()=>this._onBallPlayerCollision(this.ball,e),null,this)}),this.physics.add.collider(this.ball.sprite,this.red,()=>{console.log("La pelota toca la red!"),this.ball.sprite.setVelocityX(.5*this.ball.sprite.body.velocity.x),this.ball.sprite.setVelocityY(.5*this.ball.sprite.body.velocity.y)}),this.worldHeight,this.ball.sprite.setCollideWorldBounds(!0),this.ball.sprite.setBounce(.8)}_setupBallEvents(){this.events.on("rallyConcluded",e=>{console.log(`Rally concluded: ${e.scoringPlayerId} scores!`);const t=e.scoringPlayerId,i=this.players.get(t),s=i&&i.scoreMultiplier||1;if("player1"===t?(this.pointsLeft+=s,this.scoreLeft.setText(this.pointsLeft.toString()),this.scoreP1+=s):"player2"===t&&(this.pointsRight+=s,this.rightScore.setText(this.pointsRight.toString()),this.scoreP2+=s),this.playSfx(this.sfx.point),this.isGoldenPoint)return this.isGoldenPoint=!1,void this._endSet(t);this._checkWinCondition()})}_isBallInHitZone(e,t,i,s){const a=t.sprite.body;if(!a)return!1;const r=e.x,o=e.y,n=a.y,l=a.height,h=a.x+.5*a.width,c=i?{top:-.1,bottom:.6}:s?{top:.35,bottom:.85}:{top:.25,bottom:.85};if(o<n+l*c.top||o>n+l*c.bottom)return!1;const d="right"===t.facing,p=s||i,S=a.width*(p?.9:.75),m=a.width*(p?.25:.15);return!(r<(d?h-m:h-S)||r>(d?h+S:h+m))}_onBallPlayerCollision(e,t){if(!e.isBallLive)return;const i=!t.sprite.body.blocked.down,s=t.isReceiving,a=t.facing;this._isBallInHitZone(e.sprite,t,i,s)&&e.hit(t,a,i,s)}_endGame(e){this.timerEvent&&(this.timerEvent.remove(!1),this.timerEvent=null),this.playSfx(this.sfx.whistle),this.physics&&this.physics.world&&this.physics.world.pause(),this.scene.start("EndGame_Scene",{winner:e,player1:this.player1,player2:this.player2})}_checkWinCondition(){const e=this.scoreP1-this.scoreP2;if(Math.max(this.scoreP1,this.scoreP2)<11||Math.abs(e)<2)return;const t=e>0?"player1":"player2";this._endSet(t)}_endSet(e){"player1"===e?this.setsP1++:"player2"===e&&this.setsP2++,console.log(`Set terminado. Score sets: P1=${this.setsP1}, P2=${this.setsP2}`),this.updateSetScoreUI();const t="player1"===e?"Jugador 1":"Jugador 2";this.setWinnerText.setText(`SET para ${t}`),this.setWinnerText.setVisible(!0),this.currentSet++,2===this.setsP1||2===this.setsP2?this.time.delayedCall(2e3,()=>{this._endGame(e)}):this.time.delayedCall(2e3,()=>{this.setWinnerText&&this.setWinnerText.setVisible(!1),this._resetSet()})}_resetSet(){this.isGoldenPoint=!1,this.setText.setText(`SET ${this.currentSet}`),this.tiempoRestante=this.tiempoTotal,this.timerEvent.paused=!1,this.updateTimer(),this.scoreP1=0,this.scoreP2=0,this.pointsLeft=0,this.pointsRight=0,this.scoreLeft.setText("0"),this.rightScore.setText("0"),this.ball.resetRally();const e=this.players.get("player1"),t=this.players.get("player2");e.setPosition(.25*this.worldWidth,.7*this.worldHeight),t.setPosition(.75*this.worldWidth,.7*this.worldHeight),e.idleRight(),t.idleLeft(),this.playSfx(this.sfx.whistle)}}class v extends i().Scene{constructor(){super("Tutorial_Scene"),this.pageIndex=0,this.returnScene="Menu_Scene"}init(e){this.returnScene=e?.returnScene??"Menu_Scene"}preload(){this.load.image("tut0_controles","ASSETS/TUTORIAL/TUT0_Controles.png"),this.load.image("tut1_set","ASSETS/TUTORIAL/TUT1_Set.png"),this.load.image("tut2_pelota","ASSETS/TUTORIAL/TUT2_Pelota.png"),this.load.image("tut3_powerup","ASSETS/TUTORIAL/TUT3_Powerup.png"),this.load.image("tut4_lista","ASSETS/TUTORIAL/TUT4_Lista.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png")}create(){const{width:e,height:t}=this.scale,i=e/2,s={...this.game.globals?.defaultTextStyle??{fontFamily:"VT323",fontSize:"20px",color:"#000000"}};p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.mainTitleText=this.add.text(i,.1*t,"Tutorial",{...s,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start(this.returnScene)}),this.pageIndex=0,this.pages=[{key:"tut0_controles",title:"Controles"},{key:"tut1_set",title:"Reglas básicas: set"},{key:"tut2_pelota",title:"Reglas básicas: pelota"},{key:"tut3_powerup",title:"Reglas básicas: power-ups"},{key:"tut4_lista",title:"Lista de power-ups"}];const a=Math.max(8,Math.round(.015*Math.min(e,t))),r=Math.max(6,Math.round(.012*t)),o=.91*t,n=this.mainTitleText.y+this.mainTitleText.height+r,l=o-r,h=Math.max(0,l-n),c=Math.max(0,e-2*a);this.layout={panelTop:n,panelHeight:h,panelWidth:c},this.slideImage=this.add.image(i,n+h/2,this.pages[0].key),this._fitImage(this.slideImage,c,h),this.pageIndicator=this.add.text(i,o+20,"",{...s,fontSize:"28px",color:"#000"}).setOrigin(.5);const d={...s,fontSize:"28px",color:"#000000"};m(this,{x:i-165,y:o+20,label:"Anterior",onClick:()=>this.prev(),textStyle:d,clickSoundKey:"sonidoClick"}),m(this,{x:i+165,y:o+20,label:"Siguiente",onClick:()=>this.next(),textStyle:d,clickSoundKey:"sonidoClick"}),this.renderPage()}_fitImage(e,t,i){const s=Math.min(t/e.width,i/e.height);e.setScale(s)}renderPage(){const e=this.pages[this.pageIndex];this.mainTitleText.setText(e.title??"Tutorial"),this.slideImage.setTexture(e.key),this._fitImage(this.slideImage,this.layout.panelWidth,this.layout.panelHeight),this.pageIndicator.setText(`${this.pageIndex+1} de ${this.pages.length}`)}next(){this.pageIndex<this.pages.length-1&&(this.pageIndex++,this.renderPage())}prev(){this.pageIndex>0&&(this.pageIndex--,this.renderPage())}}class I extends i().Scene{constructor(){super("Configuration_Scene"),this.musicVolumeSlider=null,this.sfxVolumeSlider=null,this.globalVolumeSlider=null}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,l=e/2,m=this.game.globals.defaultTextStyle;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(l,.1*t,"Configuración",{...m,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),function(e=1){const t=null!==localStorage.getItem(s),i=null!==localStorage.getItem(a);if(t&&i)return;const r=function(e=1){const t=localStorage.getItem(o);return null===t?null:n(t,e)}(e),l=r&&r>0?r:e;t||localStorage.setItem(s,String(l)),i||localStorage.setItem(a,String(l))}();const g=d(),y=c(),f=h();p(this);const x=.18*t,T=.05*t,O=t/2-(2*x+T)/2,E=O,A=E+T,b=O+x,_=b+T,v=O+2*x,I=v+T;this.add.text(l,E,"Volumen General",{...m,fontSize:"28px",color:"#000"}).setOrigin(.5),this.globalVolumeSlider=this.add.dom(l,A).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${g}" \n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>`),this.globalVolumeSlider.addListener("input"),this.globalVolumeSlider.on("input",e=>{e.target instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(r,String(t))}(e.target.value),p(this))}),this.add.text(l,b,"Volumen Música",{...m,fontSize:"28px",color:"#000"}).setOrigin(.5),this.musicVolumeSlider=this.add.dom(l,_).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${y}"\n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>\n            `),this.musicVolumeSlider.addListener("input"),this.musicVolumeSlider.on("input",e=>{const t=e.target;t instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(a,String(t))}(t.value),p(this))}),this.add.text(l,v,"Volumen Efectos",{...m,fontSize:"28px",color:"#000"}).setOrigin(.5),this.sfxVolumeSlider=this.add.dom(l,I).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${f}"\n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>\n            `),this.sfxVolumeSlider.addListener("input"),this.sfxVolumeSlider.on("input",e=>{const t=e.target;t instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(s,String(t))}(t.value),p(this))}),this.sfxVolumeSlider.addListener("change"),this.sfxVolumeSlider.on("change",e=>{S(this,"sonidoClick")}),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start("Menu_Scene")}),this.events.once(i().Scenes.Events.SHUTDOWN,()=>{this.musicVolumeSlider&&(this.musicVolumeSlider.removeAllListeners(),this.musicVolumeSlider.destroy(),this.musicVolumeSlider=null),this.sfxVolumeSlider&&(this.sfxVolumeSlider.removeAllListeners(),this.sfxVolumeSlider.destroy(),this.sfxVolumeSlider=null),this.globalVolumeSlider&&(this.globalVolumeSlider.removeAllListeners(),this.globalVolumeSlider.destroy(),this.globalVolumeSlider=null)})}}class R extends i().Scene{constructor(){super("Credits_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondoMenuPrincipal","ASSETS/FONDOS/MENU_PRINCIPAL.png"),this.load.image("logo","ASSETS/LOGO/logo_empresa.png"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"};this.add.image(0,0,"fondoMenuPrincipal").setOrigin(0).setDepth(-2).setDisplaySize(e,t),this.add.rectangle(0,0,e,t,0,.5).setOrigin(0).setDepth(-1);const s=["GRUPO 5 - SUNSET ARCADE","Sara Bueno Esteban","Antonio Morán Barrera","Cristine Nioka Tewo","Alvaro Ibáñez Montero"],a=.38*e,r=.46*t,o=.75*e,n=.46*t;this.add.rectangle(o,n,a,r,1118481,.7).setOrigin(.5).setStrokeStyle(2,16777215,.2);const l=n-36*(s.length-1)/2;s.forEach((e,t)=>{const s=0===t;this.add.text(o,l+36*t,e,{...i,fontFamily:"VT323",fontSize:s?"36px":"32px",color:s?"#f5d76e":"#ffffff"}).setOrigin(.5)}),this.add.text(o,.1*t,"Créditos",{...i,fontSize:"42px",color:"#ffffff"}).setOrigin(.5);const h=o,c=n+r/2+.16*t-3;this.add.image(h,c,"logo").setOrigin(.5).setScale(.7),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start("Menu_Scene")})}}class C extends i().Scene{constructor(){super("EndGame_Scene")}init(e){this.winner=e.winner,this.player1=e.player1,this.player2=e.player2}preload(){this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=this.game.globals.defaultTextStyle,s=this.player1.name,a=this.player2.name;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(e/2,.18*t,"¡Fin del partido!",{...i,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5);const r=.36*t,o=.52*t,n=.9*t,l=.2*e,h="player1"===this.winner?"Victoria de: "+s:"Victoria de: "+a;this.add.text(e/2,r,h,{...i,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5),this.winnerSpriteSlot=this.add.container(e/2-l,o),this.loserSpriteSlot=this.add.container(e/2+l,o),m(this,{x:e/2,y:n,label:"Menú Principal",onClick:()=>{this.scene.start("Menu_Scene")},textStyle:{...i,fontSize:"28px",color:"#000000"},clickSoundKey:"sonidoClick"})}}class N extends i().Scene{constructor(){super("ModeGame_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#000000"};p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,.18*t,"Modo de Juego",{...i,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5);const s=.5*t,a=Math.min(280,.3*e),r=e/2-a/2,o={...i,fontSize:"28px",color:"#000000"},n=e=>{this.registry.set("mode",e),console.log("Modo seleccionado:",e),this.scene.start("SelectPlayer_Scene",{mode:e})};m(this,{x:r,y:s,label:"Local",onClick:()=>n("local"),scale:2,textureNormal:"botonSinSeleccionar",textureHover:"botonSeleccionado",textStyle:o,clickSoundKey:"sonidoClick"}),m(this,{x:r+a,y:s,label:"Red",onClick:()=>n("online"),scale:2,textureNormal:"botonSinSeleccionar",textureHover:"botonSeleccionado",textStyle:o,clickSoundKey:"sonidoClick"}),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.scene.start("Menu_Scene")})}}class w extends i().Scene{constructor(){super("Pause_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const e=this.game.globals.defaultTextStyle,{width:t,height:i}=this.scale,s=t/2;this.add.rectangle(0,0,t,i,0,.88).setOrigin(0).setDepth(-1),this.add.text(s,.18*i,"Pausa",{...e,fontSize:"42px",color:"#ffffff"}).setOrigin(.5);const a={...e,fontSize:"28px",color:"#000000"},r=.46*i,o=.14*i;m(this,{x:s,y:r,label:"Continuar",textStyle:a,scale:2,onClick:()=>{this.scene.stop(),this.scene.resume("Game_Scene")}}),m(this,{x:s,y:r+o,label:"Tutorial",textStyle:a,scale:2,onClick:()=>{this.scene.start("Tutorial_Scene",{returnScene:"Pause_Scene"})}}),m(this,{x:s,y:r+2*o,label:"Menú Principal",textStyle:a,scale:2,onClick:()=>{const e=this.scene.get("Game_Scene");e&&(e.input.keyboard.removeAllListeners(),e.input.keyboard.removeAllKeys()),this.scene.stop("Game_Scene"),this.scene.start("Menu_Scene")}})}}class P extends i().Scene{constructor(){super("SelectPlayer_Scene"),this.players=[],this.currentTurn=0,this.playerInputs=[],this.playerInputEls=[],this.turnText=null}init(e){this.mode=this.registry.get("mode"),console.log("Modo de Juego:",this.mode),this.isHost=this.registry.get("isHost"),console.log("Host:",this.isHost)}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("marcoJugador","ASSETS/UI/MARCOS/VACIOS/MARCO_PERSONAJE_SELECCIONADO.png"),this.load.image("characterA","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_a.png"),this.load.image("characterB","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_b.png"),this.load.image("characterC","ASSETS/PERSONAJES/PERSONAJES_POSE/personaje_c.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){this.input.keyboard.removeAllKeys(!0),this.input.keyboard.removeAllListeners();const{width:e,height:t}=this.scale,s=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"};p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,50,"Selecciona Personaje",{...s,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),"local"===this.mode&&this.createLocalUI(e,t,s),"online"===this.mode&&this.createOnlineUI(e,t,s),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.scene.start("ModeGame_Scene")}),this.events.once(i().Scenes.Events.SHUTDOWN,()=>{this.playerInputs.forEach(e=>e?.destroy()),this.playerInputs=[],this.playerInputEls=[],this.input.keyboard.enabled=!0})}createLocalUI(e,t,i){this.players=[{name:"",character:null,color:43775,bigImage:null,bigFrame:null,frame:null},{name:"",character:null,color:16733525,bigImage:null,bigFrame:null,frame:null}],this.turnText=this.add.text(e/2,95,"TURNO: Jugador 1",{...i,fontFamily:"VT323",fontSize:"28px",color:"#000"}).setOrigin(.5),this.createPlayersUI(25),this.createCharacterMiniatures(0,25),this.updateTurnText(),m(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>this.handleNext(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...i,fontSize:"18px",color:"#000"},clickSoundKey:"sonidoClick"})}createOnlineUI(e,t,i){this.players=[{name:this.registry.get("username")||"JugadorX",character:null,color:43775,bigImage:null,bigFrame:null,frame:null}],this.add.text(e/2,140,`${this.players[0].name}`,{...i,fontSize:"28px",color:"#000",fontStyle:"bold"}).setOrigin(.5),this.turnText=this.add.text(e/2,130,"Ningún personaje seleccionado",{...i,fontSize:"18px",color:"#000"}).setOrigin(.5),this.createPlayerOnlineUI(40),this.createCharacterMiniatures(150,40),m(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>this.handleNext(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...i,fontSize:"18px",color:"#000"},clickSoundKey:"sonidoClick"})}createPlayersUI(e=0){const{width:t,height:s}=this.scale,a=this.game.globals.defaultTextStyle,r=[.25*t,.75*t];this.players.forEach((o,n)=>{const l=r[n];this.add.text(l,100+e,"Nombre:",{...a,fontSize:"24px",color:"#000"}).setOrigin(.5);const h=this.add.dom(l,140+e).createFromHTML(`\n                <input type="text" placeholder="Nombre jugador" maxlength="10"\n                style="\n                    width:150px;\n                    padding:6px;\n                    font-size:16px;\n                    font-family:${a.fontFamily};\n                    border-radius:12px;\n                    border: 6px solid #FFAA00;\n                    outline: none;\n                    text-align:center;\n                    background-color:#f0f0f0;\n                    transition: border-color 0.2s, box-shadow 0.2s;"\n                onfocus="this.style.borderColor='#FF8316'; this.style.boxShadow='0 0 5px #FF8316';"\n                onblur="this.style.borderColor='#FFAA00'; this.style.boxShadow='none';"\n                />\n            `),c=h.node.querySelector("input");c.addEventListener("focus",e=>{this.input.keyboard.enabled=!1,e.stopPropagation()}),c.addEventListener("blur",e=>{this.input.keyboard.enabled=!0,e.stopPropagation()}),c.addEventListener("keydown",e=>e.stopPropagation()),c.addEventListener("input",()=>{c.value=c.value.replace(/[^a-zA-ZÀ-ÿñÑ ]/g,""),this.updateTurnText()}),this.playerInputs[n]=h,this.playerInputEls[n]=c,o.bigImage=this.add.image(t*(.25+.5*n),.6*s+e,"characterA").setScale(1.2).setOrigin(.5).setVisible(!1),o.bigFrame=this.add.image(o.bigImage.x,o.bigImage.y,"marcoJugador").setScale(2.8).setOrigin(.5).setVisible(!0),o.bigFrame.texture.setFilter(i().Textures.FilterMode.NEAREST),o.frame=this.add.rectangle(0,0,60,120).setStrokeStyle(4,o.color).setVisible(!1)}),this.currentTurn=0,this.updateTurnText()}createPlayerOnlineUI(e=0){const{width:t,height:s}=this.scale,a=this.players[0],r=t/2;a.bigImage=this.add.image(r-150,.58*s+e,"characterA").setScale(1.2).setOrigin(.5).setVisible(!1),a.bigFrame=this.add.image(a.bigImage.x,a.bigImage.y,"marcoJugador").setScale(2.8).setOrigin(.5).setVisible(!0),a.bigFrame.texture.setFilter(i().Textures.FilterMode.NEAREST),a.frame=this.add.rectangle(0,0,60,120).setStrokeStyle(4,a.color).setVisible(!1)}createCharacterMiniatures(e,t){const{width:i,height:s}=this.scale,a=i/2-75,r=.5*s,o=[{x:a+e,y:r+t},{x:a+e+150,y:r+t},{x:a+e+75,y:r+t+75}];["characterA","characterB","characterC"].forEach((e,t)=>{const i=this.add.image(o[t].x,o[t].y,e).setInteractive({useHandCursor:!0}).setScale(.45).setData("characterName",e);i.on("pointerdown",()=>{S(this,"sonidoClick"),this.onMiniClicked(e,i)})})}onMiniClicked(e,t){if("online"===this.mode){const i=this.players[0];return i.character===e?(i.character=null,i.bigImage&&i.bigImage.setVisible(!1),i.frame&&i.frame.setVisible(!1)):(i.character=e,i.bigImage&&i.bigImage.setTexture(e).setVisible(!0),i.frame&&i.frame.setPosition(t.x,t.y).setVisible(!0)),void this.updateTurnText()}const i=this.players.findIndex(t=>t.character===e);if(-1!==i){const e=this.players[i];return e.character=null,e.bigImage&&e.bigImage.setVisible(!1),e.frame&&e.frame.setVisible(!1),this.currentTurn=i,void this.updateTurnText()}const s=this.players[0],a=this.players[1];let r=this.currentTurn;if(null==r)if(!s.character&&a.character)r=0;else if(!a.character&&s.character)r=1;else{if(s.character||a.character)return;r=0}const o=this.players[r],n=this.players[1-r];n.character!==e&&(o.character=e,o.bigImage&&o.bigImage.setTexture(e).setVisible(!0),o.frame&&o.frame.setPosition(t.x,t.y).setVisible(!0),n.character?this.currentTurn=null:this.currentTurn=1-r,this.updateTurnText())}handleNext(){if("local"===this.mode){const e=this.playerInputEls?.[0]?.value?.trim()??"",t=!!this.players?.[0]?.character,i=this.playerInputEls?.[1]?.value?.trim()??"",s=!!this.players?.[1]?.character;if(!(e.length>0&&i.length>0&&t&&s))return this.updateTurnText(),void this.flashTurnText("#b00000",900);this.players[0].name=e,this.players[1].name=i,this.scene.start("SelectScenario_Scene",{mode:this.mode,player1:this.players[0],player2:this.players[1]})}if("online"===this.mode){if(!this.players?.[0]?.character)return this.flashTurnText("#b00000",900),void this.turnText.setText("Debes elegir un personaje primero");this.registry.set("myCharacter",this.players[0].character),this.isHost?this.scene.start("SelectScenario_Scene",{mode:this.mode,player1:this.players[0],isHost:!0}):this.scene.start("Lobby_Scene",{mode:this.mode,player2:this.players[0],isHost:!1})}}flashTurnText(e="#b00000",t=900){if(!this.turnText)return;const i=this.turnText.style.color||"#000000";this.turnText.setColor(e),this.time.delayedCall(t,()=>{this.turnText.setColor(i),this.updateTurnText()})}updateTurnText(){if(this.turnText){if("local"===this.mode){const e=this.playerInputEls?.[0]?.value?.trim()??"",t=this.playerInputEls?.[1]?.value?.trim()??"",i=!!this.players?.[0]?.character,s=!!this.players?.[1]?.character,a=e.length>0,r=t.length>0,o=i&&s,n=a&&r;if(o&&n)return void this.turnText.setText("¡Listo para continuar!");if(o&&!n)return void(a||r?a?this.turnText.setText("Falta el nombre de Jugador 2"):this.turnText.setText("Falta el nombre de Jugador 1"):this.turnText.setText("Faltan los nombres de Jugador 1 y Jugador 2"));if(n&&!o)return void(i||s?i?this.turnText.setText("Falta el personaje de Jugador 2"):this.turnText.setText("Falta el personaje de Jugador 1"):this.turnText.setText("Faltan los personajes de Jugador 1 y Jugador 2"));if(null===this.currentTurn||void 0===this.currentTurn)return void this.turnText.setText("Completa nombres y personajes");this.turnText.setText(`TURNO: Jugador ${this.currentTurn+1}`)}"online"===this.mode&&(this.players?.[0]?.character?this.turnText.setText("Listo: el jugador tiene personaje"):this.turnText.setText("Ningún personaje seleccionado"))}}}class L extends i().Scene{constructor(){super("SelectScenario_Scene"),this.selectedScenario="Gym",this.mode="local"}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("Gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("Playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("Jardin","ASSETS/FONDOS/JARDIN.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3"),this.load.image("marco","/ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO")}init(e){this.player1=e.player1,this.player2=e.player2,this.mode=e.mode||"local",this.isHost=e.isHost||!1}create(){const{width:e,height:t}=this.scale,s=this.game.globals.defaultTextStyle;p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,50,"Selecciona Escenario",{...s,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),this.selectedScenario="Gym",this.selectedImage=this.add.image(e/2,240,this.selectedScenario).setScale(.5);const a=["Gym","Playa","Jardin"],r=e/2-200,o={},n=e=>{this.selectedScenario=e,this.selectedImage.setTexture(e).setScale(.5),a.forEach(t=>{o[t].setTexture(t===e?"botonSeleccionado":"botonSinSeleccionar")})};a.forEach((e,t)=>{const a=this.add.image(r+200*t,440,"botonSinSeleccionar").setInteractive({useHandCursor:!0}).setScale(1.75);o[e]=a;const l=this.add.text(0,0,e,{...s,fontSize:"28px",color:"#000"});i().Display.Align.In.Center(l,a),a.on("pointerover",()=>a.setTexture("botonSeleccionado")),a.on("pointerout",()=>{a.setTexture(this.selectedScenario===e?"botonSeleccionado":"botonSinSeleccionar")}),a.on("pointerdown",()=>S(this,"sonidoClick")),a.on("pointerup",t=>{a.getBounds().contains(t.x,t.y)&&n(e)})}),n(this.selectedScenario);const l=this.add.image(e/2,240,"marco").setOrigin(.5);l.texture.setFilter(i().Textures.FilterMode.NEAREST),l.setDisplaySize(500,300),m(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>{"local"===this.mode?this.scene.start("Game_Scene",{player1:this.player1,player2:this.player2,selectedScenario:this.selectedScenario,mode:this.mode,isHost:this.isHost}):this.scene.start("Lobby_Scene",{player1:this.player1,player2:this.player2,selectedScenario:this.selectedScenario,mode:this.mode,isHost:this.isHost})},scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...s,fontSize:"18px",color:"#000"},clickSoundKey:"sonidoClick"}),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>{this.scene.start("SelectPlayer_Scene",{mode:this.mode,isHost:this.isHost})}})}}class k extends i().Scene{constructor(){super("Lobby_Scene"),this.isPlayerReady=!1}init(e){this.mode=e.mode,this.isHost=e.isHost,this.player1=e.player1,this.player2=e.player2,console.log("Lobby iniciado como:",this.isHost?"Host":"Invitado")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const e=this.game.globals.defaultTextStyle,{width:t,height:s}=this.scale,a=t/2;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(a,.18*s,"LOBBY",{...e,fontSize:"40px",color:"#000",fontStyle:"bold"}).setOrigin(.5);const r=.48*s,o=this.add.image(a,r,"marco").setOrigin(.5);o.texture.setFilter(i().Textures.FilterMode.NEAREST);const n=.3*t,l=.3*s;o.setDisplaySize(n,l);const h=r-40;this.add.text(a,h,"ESTADO DE JUGADORES",{...e,fontSize:"22px",color:"#000000",fontStyle:"bold"}).setOrigin(.5);const c=this.isHost?this.player1?.name||"Tú":this.player1?.name||"Admin...";this.p1StatusText=this.add.text(a,r,`${c} --- ❌`,{...e,fontSize:"20px",color:"#000000"}).setOrigin(.5);const d=this.isHost?this.player2?.name||"Esperando...":this.player2?.name||"Tú";this.p2StatusText=this.add.text(a,r+40,`${d} --- ❌`,{...e,fontSize:"20px",color:"#000000"}).setOrigin(.5),this.btnListo=m(this,{x:a,y:.75*s,label:"Listo?",onClick:()=>this.toggleReady(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...e,fontSize:"14px",color:"#000"},clickSoundKey:"sonidoClick"}),this.btnVolver=u(this,{x:.06*t,y:.08*s,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.handleBack()})}toggleReady(){this.isPlayerReady=!this.isPlayerReady;const e=this.isPlayerReady?"✅":"❌";this.isHost?this.p1StatusText.setText(`${this.player1.name} --- ${e}`):this.p2StatusText.setText(`${this.player2.name} --- ${e}`);const t=this.isPlayerReady?"CANCELAR":"LISTO?";this.btnListo.setLabel?this.btnListo.setLabel(t):this.btnListo.text&&this.btnListo.text.setText(t),this.isPlayerReady?(this.btnVolver.disableInteractive(),this.btnVolver.setAlpha(.3)):(this.btnVolver.setInteractive(),this.btnVolver.setAlpha(1))}handleBack(){const e=this.isHost?"SelectScenario_Scene":"SelectPlayer_Scene",t=this.isHost?{mode:this.mode,player1:this.player1,isHost:!0}:{mode:this.mode,isHost:!1};this.scene.start(e,t)}}class B extends i().Scene{constructor(){super("Logging_Scene"),this.isPlayerReady=!1,this.apiUrl="/api",this.isRegistering=!1}async init(e){const t=localStorage.getItem("voley_username"),i=localStorage.getItem("voley_password");if(t&&i){console.log("Intentando auto-login para:",t);try{const e=await fetch(`${this.apiUrl}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:i})}),s=await e.json();e.ok&&(this.registry.set("username",s.username),this.registry.set("isHost",s.isHost),this.scene.start("Menu_Scene"))}catch(e){console.error("Auto-login fallido")}}}preload(){this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png")}create(){const{width:e,height:t}=this.scale,s=e/2,a=this.game.globals?.defaultTextStyle??{fontFamily:"Arial"};this.add.image(0,0,"fondo").setOrigin(0).setDisplaySize(e,t).setDepth(-1),this.titleText=this.add.text(s,60,"INICIAR SESIÓN",{...a,fontSize:"36px",color:"#000",fontStyle:"bold"}).setOrigin(.5);const r=this.add.image(s,.52*t,"marco").setOrigin(.5);r.setDisplaySize(.4*e,.65*t),r.texture.setFilter(i().Textures.FilterMode.NEAREST),this.add.text(s,.28*t,"Usuario:",{...a,fontSize:"20px",color:"#000"}).setOrigin(.5),this.userInput=this.createHtmlInput(s,.35*t,"Nombre de usuario",a),this.add.text(s,.45*t,"Contraseña:",{...a,fontSize:"20px",color:"#000"}).setOrigin(.5),this.passInput=this.createHtmlInput(s,.52*t,"********",a,!0),this.mainBtn=m(this,{x:s,y:.65*t,label:"ENTRAR",onClick:()=>this.handleSubmit(),scale:1.6,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...a,fontSize:"14px",color:"#000"},clickSoundKey:"sonidoClick"}),this.toggleText=this.add.text(s,.75*t,"¿Aún no tienes cuenta? Regístrate aquí",{...a,fontSize:"16px",color:"#0000EE",fontStyle:"italic"}).setOrigin(.5).setInteractive({useHandCursor:!0}),this.toggleText.on("pointerdown",()=>this.toggleMode())}createHtmlInput(e,t,i,s,a=!1){const r=a?"password":"text",o=this.add.dom(e,t).createFromHTML(`\n            <input type="${r}" placeholder="${i}" \n            style="width:180px; padding:8px; font-size:16px; font-family:${s.fontFamily}; \n            border-radius:12px; border: 6px solid #FFAA00; text-align:center; outline:none;" />\n        `).node.querySelector("input");return o.addEventListener("focus",()=>this.input.keyboard.enabled=!1),o.addEventListener("blur",()=>this.input.keyboard.enabled=!0),o}toggleMode(){this.isRegistering=!this.isRegistering,this.titleText.setText(this.isRegistering?"REGISTRARSE":"INICIAR SESIÓN"),this.mainBtn.text.setText(this.isRegistering?"CREAR CUENTA":"ENTRAR"),this.toggleText.setText(this.isRegistering?"¿Ya tienes cuenta? Inicia sesión":"¿Aún no tienes cuenta? Regístrate aquí")}async handleSubmit(){const e=this.userInput.value.trim(),t=this.passInput.value.trim();if(e.length<3)return void alert("Usuario demasiado corto");if(t.length<3)return void alert("Contraseña demasiado corta");const i=this.isRegistering?"/register":"/login";try{const s=await fetch(`${this.apiUrl}${i}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),a=await s.json();s.ok?this.isRegistering?(alert("¡Registro completado con éxito! Ahora puedes iniciar sesión."),this.toggleMode(),this.userInput.value="",this.passInput.value=""):(this.registry.set("username",e),this.registry.set("userToken",a.token),this.registry.set("isHost",a.isHost),localStorage.setItem("voley_session_token",a.token),localStorage.setItem("voley_username",e),console.log(`Login correcto. Usuario: ${e} | Host: ${a.isHost}`),this.scene.start("Menu_Scene")):alert(a.error||"Error en la autenticación")}catch(e){console.error("Error conectando a la API:",e),alert("No se pudo conectar con el servidor.")}}}(async()=>{document.fonts&&document.fonts.load&&(await Promise.all([document.fonts.load('20px "MiFuente"'),document.fonts.load('20px "VT323"')]),await document.fonts.ready);const e={defaultTextStyle:{fontFamily:"MiFuente",fontSize:"20px",color:"#ffffff"},music:null},t={type:i().AUTO,width:960,height:540,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{x:0,y:300},debug:!1}},dom:{createContainer:!0},callbacks:{preBoot:t=>{t.globals=e}},scene:[B,g,_,v,I,R,C,w,N,P,L,k],backgroundColor:"#8675f1"},s=new(i().Game)(t);window.addEventListener("beforeunload",()=>{const e=s.registry.get("username");if(e){const t=JSON.stringify({username:e}),i=new Blob([t],{type:"application/json"});navigator.sendBeacon("/api/logout",i)}})})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQVNDLE1BQU1sbkIsS0FBSyx3QkFFbEJpbkIsU0FBU0MsTUFBTUcsT0FHekIsTUFBTTFwQixFQUFVLENBQ1p5RCxpQkFBa0IsQ0FBRUMsV0FBWSxXQUFZQyxTQUFVLE9BQVFDLE1BQU8sV0FDckU5RCxNQUFPLE1BR0wrSCxFQUFTLENBQ1h1RCxLQUFNLFNBQ052SCxNQUFPLElBQ1BDLE9BQVEsSUFDUjZsQixPQUFRLGlCQUNSN2hCLFFBQVMsQ0FDTDhoQixRQUFTLFNBQ1RDLE9BQVEsQ0FDSkMsUUFBUyxDQUFDenBCLEVBQUcsRUFBR0MsRUFBRyxLQUNuQnlwQixPQUFPLElBR2Y1SixJQUFLLENBQ0Q2SixpQkFBaUIsR0FFckJDLFVBQVcsQ0FDUEMsUUFBVW5xQixJQUNOQSxFQUFLQyxRQUFVQSxJQUd2QlQsTUFBTyxDQUFDcW9CLEVBQWU1bEIsRUFBWXNSLEVBQVlnSyxFQUFnQnNCLEVBQXFCbUMsRUFBZVksRUFBZWUsRUFBYUwsRUFBZ0JRLEVBQW9CcUQsRUFBc0JVLEdBQ3pMdUQsZ0JBQWdCLFdBR2RwcUIsRUFBTSxJQUFJLFVBQVk4SCxHQUU1QnVpQixPQUFPaEcsaUJBQWlCLGVBQWdCLEtBQ3BDLE1BQU0zZixFQUFXMUUsRUFBSzJFLFNBQVNoSCxJQUFJLFlBQ25DLEdBQUkrRyxFQUFVLENBQ1YsTUFBTW1QLEVBQU83TyxLQUFLQyxVQUFVLENBQUVQLGFBQ3hCNGxCLEVBQU8sSUFBSUMsS0FBSyxDQUFDMVcsR0FBTyxDQUFFeEksS0FBTSxxQkFDdENtZixVQUFVQyxXQUFXLGNBQWVILEVBQ3hDLEdBRVAsRUFqREQsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL2V4dGVybmFsIHZhciBcIlBoYXNlclwiIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1VJL0F1ZGlvLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1VJL0J1dHRvbnMuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL01lbnVfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvRW50aXRpZXMvUGxheWVyLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0NvbW1hbmRzL0FwcGx5UG93ZXJVcENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvRW50aXRpZXMvUG93ZXJVcC5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9FbnRpdGllcy9CYWxsLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0NvbW1hbmRzL0NvbW1hbmRQcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvQ29tbWFuZHMvQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9Db21tYW5kcy9Nb3ZlUGxheWVyQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvR2FtZV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvVHV0b3JpYWxfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL0NvbmZpZ3VyYXRpb25fU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL0NyZWRpdHNfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL0VuZEdhbWVfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL01vZGVHYW1lX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9QYXVzZV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvU2VsZWN0UGxheWVyX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9TZWxlY3RTY2VuYXJpb19TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvTG9iYnlfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL0xvZ2dpbmdfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFBoYXNlcjsiLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5jb25zdCBTRlhfVk9MVU1FX0tFWSA9ICdzZnhWb2x1bWUnO1xyXG5jb25zdCBNVVNJQ19WT0xVTUVfS0VZID0gJ211c2ljVm9sdW1lJztcclxuY29uc3QgR0xPQkFMX1ZPTFVNRV9LRVkgPSAnZ2xvYmFsVm9sdW1lJztcclxuY29uc3QgTEVHQUNZX1ZPTFVNRV9LRVkgPSAndm9sdW1lJztcclxuXHJcbmZ1bmN0aW9uIHBhcnNlU3RvcmVkVm9sdW1lKHJhdywgZGVmYXVsdFZhbHVlKSB7XHJcbiAgICBjb25zdCB2ID0gTnVtYmVyLnBhcnNlRmxvYXQocmF3ID8/IFN0cmluZyhkZWZhdWx0VmFsdWUpKTtcclxuXHJcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2KSkgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxuXHJcbiAgICByZXR1cm4gUGhhc2VyLk1hdGguQ2xhbXAodiwgMCwgMSk7XHJcbn1cclxuXHJcbi8vLy8gR2V0dGVycyZTZXR0ZXJzIC8vLy9cclxuLy8gT2J0aWVuZSBlbCB2b2x1bWVuIGFsbWFjZW5hZG8gY29uIHVuYSBjbGF2ZVxyXG5mdW5jdGlvbiBnZXRTdG9yZWRWb2x1bWVCeUtleShrZXksIGZhbGxiYWNrS2V5LCBkZWZhdWx0VmFsdWUgPSAxKSB7XHJcbiAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgaWYgKHJhdyAhPT0gbnVsbCkgcmV0dXJuIHBhcnNlU3RvcmVkVm9sdW1lKHJhdywgZGVmYXVsdFZhbHVlKTtcclxuXHJcbiAgICBjb25zdCBmYWxsYmFja1JhdyA9IGZhbGxiYWNrS2V5ID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZmFsbGJhY2tLZXkpIDogbnVsbDtcclxuICAgIGlmIChmYWxsYmFja1JhdyAhPT0gbnVsbCkgcmV0dXJuIHBhcnNlU3RvcmVkVm9sdW1lKGZhbGxiYWNrUmF3LCBkZWZhdWx0VmFsdWUpO1xyXG5cclxuICAgIHJldHVybiBQaGFzZXIuTWF0aC5DbGFtcChkZWZhdWx0VmFsdWUsIDAsIDEpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRMZWdhY3lWb2x1bWUoZGVmYXVsdFZhbHVlID0gMSkge1xyXG4gICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTEVHQUNZX1ZPTFVNRV9LRVkpO1xyXG4gICAgaWYgKHJhdyA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgcmV0dXJuIHBhcnNlU3RvcmVkVm9sdW1lKHJhdywgZGVmYXVsdFZhbHVlKTtcclxufVxyXG5cclxuLy8gQXNlZ3VyYSBxdWUgZXhpc3RhbiBsb3MgdmFsb3JlcyBkZSB2b2x1bWVuIGFsbWFjZW5hZG9zXHJcbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVTdG9yZWRBdWRpb1NldHRpbmdzKGRlZmF1bHRWYWx1ZSA9IDEpIHtcclxuICAgIGNvbnN0IGhhc1NmeCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNGWF9WT0xVTUVfS0VZKSAhPT0gbnVsbDtcclxuICAgIGNvbnN0IGhhc011c2ljID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTVVTSUNfVk9MVU1FX0tFWSkgIT09IG51bGw7XHJcblxyXG4gICAgaWYgKGhhc1NmeCAmJiBoYXNNdXNpYykgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGxlZ2FjeVZvbHVtZSA9IGdldExlZ2FjeVZvbHVtZShkZWZhdWx0VmFsdWUpO1xyXG4gICAgY29uc3QgaW5pdGlhbFZvbHVtZSA9IGxlZ2FjeVZvbHVtZSAmJiBsZWdhY3lWb2x1bWUgPiAwID8gbGVnYWN5Vm9sdW1lIDogZGVmYXVsdFZhbHVlO1xyXG5cclxuICAgIGlmICghaGFzU2Z4KSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTRlhfVk9MVU1FX0tFWSwgU3RyaW5nKGluaXRpYWxWb2x1bWUpKTtcclxuICAgIGlmICghaGFzTXVzaWMpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKE1VU0lDX1ZPTFVNRV9LRVksIFN0cmluZyhpbml0aWFsVm9sdW1lKSk7XHJcbn1cclxuXHJcbi8vIE9idGllbmUgZWwgdm9sdW1lbiBhbG1hY2VuYWRvIHBhcmEgbG9zIGVmZWN0b3MgZGUgc29uaWRvXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdG9yZWRTZnhWb2x1bWUoZGVmYXVsdFZhbHVlID0gMSkge1xyXG4gICAgcmV0dXJuIGdldFN0b3JlZFZvbHVtZUJ5S2V5KFNGWF9WT0xVTUVfS0VZLCBMRUdBQ1lfVk9MVU1FX0tFWSwgZGVmYXVsdFZhbHVlKTtcclxufVxyXG5cclxuLy8gT2J0aWVuZSBlbCB2b2x1bWVuIGFsbWFjZW5hZG8gcGFyYSBsYSBtw7pzaWNhXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdG9yZWRNdXNpY1ZvbHVtZShkZWZhdWx0VmFsdWUgPSAxKSB7XHJcbiAgICByZXR1cm4gZ2V0U3RvcmVkVm9sdW1lQnlLZXkoTVVTSUNfVk9MVU1FX0tFWSwgTEVHQUNZX1ZPTFVNRV9LRVksIGRlZmF1bHRWYWx1ZSk7XHJcbn1cclxuXHJcbi8vIE9idGllbmUgZWwgdm9sdW1lbiBnbG9iYWxcclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0b3JlZEdsb2JhbFZvbHVtZShkZWZhdWx0VmFsdWUgPSAxKSB7XHJcbiAgICByZXR1cm4gZ2V0U3RvcmVkVm9sdW1lQnlLZXkoR0xPQkFMX1ZPTFVNRV9LRVksIG51bGwsIGRlZmF1bHRWYWx1ZSk7XHJcbn1cclxuXHJcbi8vIEFsbWFjZW5hIGVsIHZvbHVtZW4gZ2xvYmFsXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRTdG9yZWRHbG9iYWxWb2x1bWUodm9sdW1lKSB7XHJcbiAgICBjb25zdCB2ID0gUGhhc2VyLk1hdGguQ2xhbXAoTnVtYmVyKHZvbHVtZSksIDAsIDEpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oR0xPQkFMX1ZPTFVNRV9LRVksIFN0cmluZyh2KSk7XHJcbiAgICByZXR1cm4gdjtcclxufVxyXG5cclxuLy8gQWxtYWNlbmEgZWwgdm9sdW1lbiBwYXJhIGxvcyBlZmVjdG9zIGRlIHNvbmlkb1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0U3RvcmVkU2Z4Vm9sdW1lKHZvbHVtZSkge1xyXG4gICAgY29uc3QgdiA9IFBoYXNlci5NYXRoLkNsYW1wKE51bWJlcih2b2x1bWUpLCAwLCAxKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFNGWF9WT0xVTUVfS0VZLCBTdHJpbmcodikpO1xyXG5cclxuICAgIHJldHVybiB2O1xyXG59XHJcblxyXG4vLyBBbG1hY2VuYSBlbCB2b2x1bWVuIHBhcmEgbGEgbcO6c2ljYVxyXG5leHBvcnQgZnVuY3Rpb24gc2V0U3RvcmVkTXVzaWNWb2x1bWUodm9sdW1lKSB7XHJcbiAgICBjb25zdCB2ID0gUGhhc2VyLk1hdGguQ2xhbXAoTnVtYmVyKHZvbHVtZSksIDAsIDEpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oTVVTSUNfVk9MVU1FX0tFWSwgU3RyaW5nKHYpKTtcclxuXHJcbiAgICByZXR1cm4gdjtcclxufVxyXG4vLy8vLy8vLy9cclxuXHJcbi8vIEFwbGljYSBlbCB2b2x1bWVuIGFsIFNvdW5kTWFuYWdlciB5IGEgbGEgbcO6c2ljYSBnbG9iYWxcclxuZXhwb3J0IGZ1bmN0aW9uIGFwcGx5U3RvcmVkVm9sdW1lKHNjZW5lLCBvcHRpb25zID0ge30pIHtcclxuICAgIGxldCBnbG9iYWxWb2wgPSBnZXRTdG9yZWRHbG9iYWxWb2x1bWUoKTtcclxuICAgIGxldCBzZnhWb2x1bWUgPSBnZXRTdG9yZWRTZnhWb2x1bWUoKTtcclxuICAgIGxldCBtdXNpY1ZvbHVtZSA9IGdldFN0b3JlZE11c2ljVm9sdW1lKCk7XHJcblxyXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnbnVtYmVyJykge1xyXG4gICAgICAgIHNmeFZvbHVtZSA9IFBoYXNlci5NYXRoLkNsYW1wKE51bWJlcihvcHRpb25zKSwgMCwgMSk7XHJcbiAgICAgICAgbXVzaWNWb2x1bWUgPSBzZnhWb2x1bWU7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNmeFZvbHVtZSA9IG9wdGlvbnMuc2Z4Vm9sdW1lID8/IHNmeFZvbHVtZTtcclxuICAgICAgICBtdXNpY1ZvbHVtZSA9IG9wdGlvbnMubXVzaWNWb2x1bWUgPz8gbXVzaWNWb2x1bWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2UgdXNhIGVsIHZvbHVtZW4gZ2xvYmFsIGNvbW8gbWFzdGVyXHJcbiAgICBzY2VuZS5zb3VuZC52b2x1bWUgPSBnbG9iYWxWb2w7XHJcblxyXG4gICAgY29uc3QgbXVzaWMgPSBzY2VuZS5nYW1lLmdsb2JhbHMubXVzaWM7XHJcbiAgICBpZiAobXVzaWMgJiYgJ3NldFZvbHVtZScgaW4gbXVzaWMpIHtcclxuICAgICAgICBtdXNpYy5zZXRWb2x1bWUobXVzaWNWb2x1bWUpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBSZXByb2R1Y2UgdW4gc29uaWRvIGRlIGNsaWNrXHJcbmV4cG9ydCBmdW5jdGlvbiBwbGF5Q2xpY2soc2NlbmUsIGtleSA9ICdzb25pZG9DbGljaycpIHtcclxuICAgIHNjZW5lLnNvdW5kLnBsYXkoa2V5LCB7IHZvbHVtZTogZ2V0U3RvcmVkU2Z4Vm9sdW1lKCkgfSk7XHJcbn1cclxuXHJcbi8vIFJlcHJvZHVjZSBsYSBtw7pzaWNhIGRlIGZvbmRvIGVuIGJ1Y2xlXHJcbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVMb29waW5nTXVzaWMoc2NlbmUsIHNvdW5kS2V5LCB7IGxvb3AgPSB0cnVlIH0gPSB7fSkge1xyXG4gICAgY29uc3Qgdm9sdW1lID0gZ2V0U3RvcmVkTXVzaWNWb2x1bWUoKTtcclxuICAgIGxldCBtdXNpYyA9IHNjZW5lLmdhbWUuZ2xvYmFscy5tdXNpYztcclxuICAgIGlmICghbXVzaWMpIHtcclxuICAgICAgICBtdXNpYyA9IHNjZW5lLnNvdW5kLmFkZChzb3VuZEtleSwgeyBsb29wLCB2b2x1bWUgfSk7XHJcbiAgICAgICAgc2NlbmUuZ2FtZS5nbG9iYWxzLm11c2ljID0gbXVzaWM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2UgYWN0dWFsaXphIHZvbHVtZW4gc2kgZWwgdGlwbyBsbyBzb3BvcnRhXHJcbiAgICBpZiAobXVzaWMgJiYgJ3NldFZvbHVtZScgaW4gbXVzaWMpIG11c2ljLnNldFZvbHVtZSh2b2x1bWUpO1xyXG5cclxuICAgIGNvbnN0IHRyeVBsYXkgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFtdXNpYyB8fCAhKCdwbGF5JyBpbiBtdXNpYykpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gbm8gc2UgcmVpbmljaWEgc2kgeWEgZXN0PyBzb25hbmRvXHJcbiAgICAgICAgaWYgKCdpc1BsYXlpbmcnIGluIG11c2ljICYmIG11c2ljLmlzUGxheWluZykgcmV0dXJuO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBtdXNpYy5wbGF5KCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0F1ZGlvLmpzXSBObyBzZSBoYSBwb2RpZG8gcmVwcm9kdWNpciB0b2Rhdj9hIGxhIG0/c2ljYS4nLCBlcnIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gcHJpbWVybyBzZSBpbnRlbnRhIHJlcHJvZHVjaXIgbmFkYSBtw6FzIGNhcmdhclxyXG4gICAgdHJ5UGxheSgpO1xyXG5cclxuICAgIC8vIHNpbm8sIHNlIHJlaW50ZW50YSB0cmFzIGxhIHByaW1lcmEgaW50ZXJhY2Npw7NuL2NsaWNrXHJcbiAgICBzY2VuZS5pbnB1dC5vbmNlKCdwb2ludGVyZG93bicsIGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCBjdHggPSBzY2VuZS5zb3VuZC5jb250ZXh0O1xyXG4gICAgICAgIGlmIChjdHggJiYgY3R4LnN0YXRlID09PSAnc3VzcGVuZGVkJykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgY3R4LnJlc3VtZSgpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIHsgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0cnlQbGF5KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbXVzaWM7XHJcbn1cclxuIiwiaW1wb3J0IHsgcGxheUNsaWNrIH0gZnJvbSAnLi9BdWRpby5qcyc7XHJcblxyXG4vLyBDcmVhIHVuIGJvdMOzbiBiYXNlIHBhcmEgbGEgVUlcclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVJQnV0dG9uKHNjZW5lLCB7XHJcbiAgICB4LCB5LFxyXG4gICAgbGFiZWwsXHJcbiAgICBvbkNsaWNrLFxyXG4gICAgdGV4dHVyZU5vcm1hbCA9ICdib3RvblNpblNlbGVjY2lvbmFyJyxcclxuICAgIHRleHR1cmVIb3ZlciA9ICdib3RvblNlbGVjY2lvbmFkbycsXHJcbiAgICBzY2FsZSA9IDIsXHJcbiAgICB0ZXh0U3R5bGUgPSB7fSxcclxuICAgIGNsaWNrU291bmRLZXkgPSAnc29uaWRvQ2xpY2snLFxyXG59KSB7XHJcbiAgICBjb25zdCBidXR0b24gPSBzY2VuZS5hZGQuc3ByaXRlKHgsIHksIHRleHR1cmVOb3JtYWwpXHJcbiAgICAgICAgLnNldFNjYWxlKHNjYWxlKVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgY29uc3QgdGV4dCA9IHNjZW5lLmFkZC50ZXh0KHgsIHksIGxhYmVsLCB0ZXh0U3R5bGUpLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIGV2ZW50b3MgZGVsIGJvdMOzblxyXG4gICAgY29uc3Qgc2V0Tm9ybWFsID0gKCkgPT4gYnV0dG9uLnNldFRleHR1cmUodGV4dHVyZU5vcm1hbCk7XHJcbiAgICBjb25zdCBzZXRIb3ZlciA9ICgpID0+IGJ1dHRvbi5zZXRUZXh0dXJlKHRleHR1cmVIb3Zlcik7XHJcblxyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsIHNldEhvdmVyKTtcclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcm91dCcsIHNldE5vcm1hbCk7XHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgIHNldEhvdmVyKCk7XHJcbiAgICAgICAgcGxheUNsaWNrKHNjZW5lLCBjbGlja1NvdW5kS2V5KTtcclxuICAgIH0pO1xyXG4gICAgLy8gc29sbyBzZSBsYW56YSBzaSBzZSBzdWVsdGEgZW5jaW1hXHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJ1cCcsIChwb2ludGVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5zaWRlID0gYnV0dG9uLmdldEJvdW5kcygpLmNvbnRhaW5zKHBvaW50ZXIueCwgcG9pbnRlci55KTtcclxuICAgICAgICBpZiAoIWluc2lkZSkgeyBcclxuICAgICAgICAgICAgc2V0Tm9ybWFsKCk7IFxyXG4gICAgICAgICAgICByZXR1cm47IFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0SG92ZXIoKTtcclxuICAgICAgICBvbkNsaWNrPy4oKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB7IGJ1dHRvbiwgdGV4dCB9O1xyXG59XHJcblxyXG4vLyBDcmVhIHVuIGJvdMOzbiBiYXNlIGNvbiB1biBpY29ubyAoY29tbyBlbCBkZSB2b2x2ZXIgYXRyw6FzKVxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSWNvbkJ1dHRvbihzY2VuZSwgb3B0aW9ucykge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICAgIHgsIHksXHJcbiAgICAgICAgdGV4dHVyZSxcclxuICAgICAgICBvbkNsaWNrLFxyXG4gICAgICAgIHNjYWxlID0gMSxcclxuICAgICAgICBob3ZlclNjYWxlID0gMS4xLFxyXG4gICAgICAgIGNsaWNrU291bmRLZXkgPSAnc29uaWRvQ2xpY2snLFxyXG4gICAgfSA9IG9wdGlvbnM7XHJcblxyXG4gICAgY29uc3QgYnV0dG9uID0gc2NlbmUuYWRkXHJcbiAgICAgICAgLnNwcml0ZSh4LCB5LCB0ZXh0dXJlKVxyXG4gICAgICAgIC5zZXRTY2FsZShzY2FsZSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgIC8vIGV2ZW50b3MgZGVsIGJvdMOzblxyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJ1dHRvbi5zZXRTY2FsZShzY2FsZSAqIGhvdmVyU2NhbGUpKTtcclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IGJ1dHRvbi5zZXRTY2FsZShzY2FsZSkpO1xyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICBwbGF5Q2xpY2soc2NlbmUsIGNsaWNrU291bmRLZXkpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBzb2xvIHNlIGxhbnphIHNpIHNlIHN1ZWx0YSBlbmNpbWFcclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcnVwJywgKHBvaW50ZXIpID0+IHtcclxuICAgICAgICBjb25zdCBpbnNpZGUgPSBidXR0b24uZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnRlci54LCBwb2ludGVyLnkpO1xyXG4gICAgICAgIGlmICghaW5zaWRlKSByZXR1cm47XHJcbiAgICAgICAgb25DbGljaygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGJ1dHRvbjtcclxufVxyXG4iLCIvLyBQYW50YWxsYSBkZWwgTWVuw7ogUHJpbmNpcGFsXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xuaW1wb3J0IHsgZW5zdXJlTG9vcGluZ011c2ljLCBhcHBseVN0b3JlZFZvbHVtZSB9IGZyb20gJy4uL1VJL0F1ZGlvLmpzJztcblxuZXhwb3J0IGNsYXNzIE1lbnVfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignTWVudV9TY2VuZScpO1xuICAgIH1cblxuICAgIHByZWxvYWQoKSB7XG4gICAgICAgIC8vIGJvdG9uZXNcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX0dfU0VMRUNDSU9OQURPLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9HLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvTWVudVByaW5jaXBhbCcsICdBU1NFVFMvRk9ORE9TL01FTlVfUFJJTkNJUEFMLnBuZycpO1xuXG4gICAgICAgIC8vIGxvZ29cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsb2dvRW1wcmVzYScsICdBU1NFVFMvTE9HTy9sb2dvX2VtcHJlc2EucG5nJyk7XG5cbiAgICAgICAgLy8gYXVkaW9cbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9HZW5lcmFsJywgJ0FTU0VUUy9TT05JRE8vU09OSURPMS5tcDMnKTtcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gbcO6c2ljYSBkZSBmb25kb1xuICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcbiAgICAgICAgZW5zdXJlTG9vcGluZ011c2ljKHRoaXMsICdzb25pZG9HZW5lcmFsJywgeyBsb29wOiB0cnVlIH0pO1xuXG4gICAgICAgIC8vIGVzdGlsbyBiYXNlIGRlbCB0ZXh0b1xuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzPy5kZWZhdWx0VGV4dFN0eWxlID8/IHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgLy8gbGF5b3V0XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcbiAgICAgICAgY29uc3QgcmlnaHRIYWxmWCA9IGNlbnRlclggKyAoY2VudGVyWCAvIDIpO1xuXG4gICAgICAgIC8vIGZvbmRvIGFqdXN0YWRvIGFsIGNhbnZhc1xuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvTWVudVByaW5jaXBhbCcpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpO1xuICAgICAgICBiYWNrZ3JvdW5kLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBcbiAgICAgICAgLy8gdMOtdHVsbyBkZWwganVlZ29cbiAgICAgICAgdGhpcy5hZGQudGV4dChyaWdodEhhbGZYLCAxMTUsICdWb2xsZXkgQ2xhc2gnLCB7XG4gICAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjhweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIC8vLy8gQk9UT05FUyAvLy8vXG4gICAgICAgIGNvbnN0IGZpcnN0QnV0dG9uWSA9IGhlaWdodCAvIDIgLSA2MztcbiAgICAgICAgY29uc3QgYnV0dG9uU3BhY2luZyA9IDcwO1xuICAgICAgICBjb25zdCBidXR0b25UZXh0U3R5bGUgPSB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzI4cHgnLCBjb2xvcjogJyMwMDAwMDAnIH07XG5cbiAgICAgICAgLy8gYm90w7NuIEp1Z2FyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHJpZ2h0SGFsZlgsXG4gICAgICAgICAgICB5OiBmaXJzdEJ1dHRvblksXG4gICAgICAgICAgICBsYWJlbDogJ0p1Z2FyJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01vZGVHYW1lX1NjZW5lJyksXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGJvdMOzbiBUdXRvcmlhbFxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiByaWdodEhhbGZYLFxuICAgICAgICAgICAgeTogZmlyc3RCdXR0b25ZICsgYnV0dG9uU3BhY2luZyxcbiAgICAgICAgICAgIGxhYmVsOiAnVHV0b3JpYWwnLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnVHV0b3JpYWxfU2NlbmUnLCB7IHJldHVyblNjZW5lOiAnTWVudV9TY2VuZScgfSksXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGJvdMOzbiBDb25maWd1cmFjacOzblxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiByaWdodEhhbGZYLFxuICAgICAgICAgICAgeTogZmlyc3RCdXR0b25ZICsgYnV0dG9uU3BhY2luZyAqIDIsXG4gICAgICAgICAgICBsYWJlbDogJ0NvbmZpZ3VyYWNpw7NuJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ0NvbmZpZ3VyYXRpb25fU2NlbmUnKSxcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYm90w7NuIENyw6lkaXRvc1xuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiByaWdodEhhbGZYLFxuICAgICAgICAgICAgeTogZmlyc3RCdXR0b25ZICsgYnV0dG9uU3BhY2luZyAqIDMsXG4gICAgICAgICAgICBsYWJlbDogJ0Nyw6lkaXRvcycsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdDcmVkaXRzX1NjZW5lJyksXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGJvdMOzbiBkZSBjZXJyYXIgc2VzacOzblxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiB3aWR0aCAtIDExNSxcbiAgICAgICAgICAgIHk6IDQwLFxuICAgICAgICAgICAgbGFiZWw6ICdDZXJyYXIgU2VzacOzbicsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7IHRoaXMuaGFuZGxlTG9nb3V0KCkgfSxcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcbiAgICAgICAgfSk7XG4gICAgICAgIC8vLy8vLy8vL1xuXG4gICAgICAgIC8vIGxvZ28gZGUgbGEgZW1wcmVzYVxuICAgICAgICB0aGlzLmFkZC5pbWFnZSh0aGlzLnNjYWxlLndpZHRoIC0gMjAsIHRoaXMuc2NhbGUuaGVpZ2h0IC0gMjAsICdsb2dvRW1wcmVzYScpXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC40MilcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMSwgMSk7XG4gICAgfVxuXG4gICAgYXN5bmMgaGFuZGxlTG9nb3V0KCkge1xuICAgICAgICBjb25zdCB1c2VybmFtZSA9IHRoaXMucmVnaXN0cnkuZ2V0KCd1c2VybmFtZScpO1xuICAgICAgICBcbiAgICAgICAgLy8gQXZpc2FyIGFsIHNlcnZpZG9yIHBhcmEgcXVlIGRlamUgbGlicmUgZWwgcHVlc3RvIGRlIEhvc3RcbiAgICAgICAgYXdhaXQgZmV0Y2goJy9hcGkvbG9nb3V0Jywge1xuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXNlcm5hbWUgfSlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gTGltcGlhciBsb2NhbFxuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndm9sZXlfdXNlcm5hbWUnKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZvbGV5X3Nlc3Npb25fdG9rZW4nKTtcblxuICAgICAgICAvLyBMaW1waWFyIHJlZ2lzdHJ5XG4gICAgICAgIHRoaXMucmVnaXN0cnkucmVtb3ZlKCd1c2VybmFtZScpO1xuICAgICAgICB0aGlzLnJlZ2lzdHJ5LnJlbW92ZSgndXNlclRva2VuJyk7XG4gICAgICAgIHRoaXMucmVnaXN0cnkucmVtb3ZlKCdpc0hvc3QnKTtcblxuICAgICAgICAvLyBWb2x2ZXIgYSBsYSBwYW50YWxsYSBkZSBsb2dpblxuICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdMb2dnaW5nX1NjZW5lJyk7XG4gICAgfVxufVxuIiwiLy8gQ2xhc2UgZGUgbGEgZW50aWRhZCBcInBlcnNvbmFqZVwiLCBzZSB0aWVuZSBlbiBjdWVudGEgcXVlIHNvbiAzIHBlcnNvbmFqZXMgZGlzdGludG9zXHJcblxyXG5jb25zdCBQT1dFUlVQX0RVUkFUSU9OX01TID0ge1xyXG4gIHZlbG9jaWRhZDogNDAwMCxcclxuICByYWxlbnRpemFyOiA0MDAwLFxyXG4gIHBhcmFsaXphcjogMjUwMCxcclxuICBwb3IyOiA0MDAwLFxyXG4gIHBvcjM6IDQwMDAsXHJcbn07XHJcblxyXG5jb25zdCBTUEVFRF9NVUxUID0ge1xyXG4gIHZlbG9jaWRhZDogMS41LFxyXG4gIHJhbGVudGl6YXI6IDAuNSxcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBQbGF5ZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSwgY2hhcmFjdGVyVHlwZSkge1xyXG4gICAgICAgIC8vIElOSUNJQUxJWkFDScOTTlxyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7ICAgICAgICAgICAgICAgICAgICAgICAvLyBpZGVudGlmaWNhZG9yIGRlbCBqdWdhZG9yIChQMSwgUDIpXHJcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXJUeXBlID0gY2hhcmFjdGVyVHlwZTsgLy8gaW5kaWNhIHF1w6kgcGVyc29uYWplIHNlIGhhIGVsZWdpZG9cclxuXHJcbiAgICAgICAgLy8gdmVsb2NpZGFkIGRlIG1vdmltaWVudG9cclxuICAgICAgICB0aGlzLmJhc2VNb3ZlU3BlZWQgPSAyNTA7XHJcbiAgICAgICAgdGhpcy5tb3ZlU3BlZWQgPSB0aGlzLmJhc2VNb3ZlU3BlZWQ7XHJcblxyXG4gICAgICAgIHRoaXMuanVtcFNwZWVkID0gMjc1OyAgIC8vIGZ1ZXJ6YSBkZSBzYWx0b1xyXG5cclxuICAgICAgICB0aGlzLmFjdGl2ZVBvd2VyVXBzID0ge307ICAgLy8gcG93ZXJ1cHMgYWN0aXZvc1xyXG5cclxuICAgICAgICAvLyBlc3RhZG9zIGRlIHBvd2VyLXVwc1xyXG4gICAgICAgIHRoaXMuaXNQYXJhbHl6ZWQgPSBmYWxzZTsgICAgICAgLy8gcGFyYSBlbCBwb3dlciB1cCBcInBhcmFsaXphclwiXHJcbiAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2VlbiA9IG51bGw7ICAgICAvLyBhbCBxdWVkYXJzZSBwYXJhbGl6YWRvIC0+IHJvam9cclxuICAgICAgICB0aGlzLnNwZWVkRWZmZWN0QWN0aXZlID0gZmFsc2U7IC8vIHZlbG9jaWRhZCAtPiBjaWFuL3ZlcmRlXHJcbiAgICAgICAgdGhpcy5zbG93RWZmZWN0QWN0aXZlID0gZmFsc2U7ICAvLyByYWxlbnRpemFkbyAtPiBhenVsXHJcblxyXG4gICAgICAgIHRoaXMuc2NvcmVNdWx0aXBsaWVyID0gMTsgICAgICAgLy8gcGFyYSBwb3IyIC8gcG9yM1xyXG4gICAgICAgIC8vIHRleHRvIGZsb3RhbnRlIHBhcmEgbW9zdHJhciB4MiAvIHgzXHJcbiAgICAgICAgdGhpcy5tdWx0aXBsaWVyVGV4dCA9IHRoaXMuc2NlbmUuYWRkLnRleHQoeCwgeSAtIDUwLCAnJywge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA0XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUsIDEpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgyMClcclxuICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucG93ZXJVcEludmVudG9yeSA9IFtdOyAvLyBtw6F4aW1vIDJcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gZmFsc2U7ICAgLy8gZXN0YWRvIGRlIHJlY2VwY2nDs25cclxuXHJcbiAgICAgICAgLy8gbMOtbWl0ZXMgZGUgbW92aW1pZW50byBwZXJzb25hbGl6YWRvc1xyXG4gICAgICAgIHRoaXMuYm91bmRzTGVmdCA9IDA7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNSaWdodCA9IDk2MDtcclxuICAgICAgICB0aGlzLmJvdW5kc1RvcCA9IDA7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNCb3R0b20gPSA1NDA7XHJcblxyXG4gICAgICAgIC8vIGNvbmZpZ3VyYWNpw7NuIGRlIGxvcyBzcHJpdGVzIHkgbGFzIGFuaW1hY2lvbmVzIHNlZ8O6biBlbCBwZXJzb25hamUgZWxlZ2lkb1xyXG4gICAgICAgIGNvbnN0IENIQVJBQ1RFUl9DT05GSUcgPSB7XHJcbiAgICAgICAgICAgIC8vIGVxdWlsaWJyYWRvIHkgc2ltcMOhdGljb1xyXG4gICAgICAgICAgICBjaGFyYWN0ZXJBOiB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0dXJlS2V5OiAnY2hhckFfbW92ZScsXHJcbiAgICAgICAgICAgICAgICBzdGFydEZyYW1lOiAwLFxyXG4gICAgICAgICAgICAgICAgaWRsZUxlZnRBbmltOiAnY2hhckFfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICAgICAgaWRsZVJpZ2h0QW5pbTogJ2NoYXJBX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgICAgICBydW5MZWZ0QW5pbTogJ2NoYXJBX3J1bkxlZnQnLFxyXG4gICAgICAgICAgICAgICAgcnVuUmlnaHRBbmltOiAnY2hhckFfcnVuUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAganVtcExlZnRBbmltOiAnY2hhckFfanVtcExlZnQnLFxyXG4gICAgICAgICAgICAgICAganVtcFJpZ2h0QW5pbTogJ2NoYXJBX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlTGVmdEFuaW06ICdjaGFyQV9yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlUmlnaHRBbmltOiAnY2hhckFfcmVjZWl2ZVJpZ2h0J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyByw6FwaWRvIHkgY29tcGV0aXRpdm9cclxuICAgICAgICAgICAgY2hhcmFjdGVyQjoge1xyXG4gICAgICAgICAgICAgICAgdGV4dHVyZUtleTogJ2NoYXJCX21vdmUnLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRGcmFtZTogMCxcclxuICAgICAgICAgICAgICAgIGlkbGVMZWZ0QW5pbTogJ2NoYXJCX2lkbGVMZWZ0JyxcclxuICAgICAgICAgICAgICAgIGlkbGVSaWdodEFuaW06ICdjaGFyQl9pZGxlUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgcnVuTGVmdEFuaW06ICdjaGFyQl9ydW5MZWZ0JyxcclxuICAgICAgICAgICAgICAgIHJ1blJpZ2h0QW5pbTogJ2NoYXJCX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIGp1bXBMZWZ0QW5pbTogJ2NoYXJCX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgICAgIGp1bXBSaWdodEFuaW06ICdjaGFyQl9qdW1wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZUxlZnRBbmltOiAnY2hhckJfcmVjZWl2ZUxlZnQnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZVJpZ2h0QW5pbTogJ2NoYXJCX3JlY2VpdmVSaWdodCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gZGl2ZXJ0aWRvIHkgYWxnbyBkaXN0cmHDrWRvXHJcbiAgICAgICAgICAgIGNoYXJhY3RlckM6IHtcclxuICAgICAgICAgICAgICAgIHRleHR1cmVLZXk6ICdjaGFyQ19tb3ZlJyxcclxuICAgICAgICAgICAgICAgIHN0YXJ0RnJhbWU6IDAsXHJcbiAgICAgICAgICAgICAgICBpZGxlTGVmdEFuaW06ICdjaGFyQ19pZGxlTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBpZGxlUmlnaHRBbmltOiAnY2hhckNfaWRsZVJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHJ1bkxlZnRBbmltOiAnY2hhckNfcnVuTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBydW5SaWdodEFuaW06ICdjaGFyQ19ydW5SaWdodCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wTGVmdEFuaW06ICdjaGFyQ19qdW1wTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wUmlnaHRBbmltOiAnY2hhckNfanVtcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVMZWZ0QW5pbTogJ2NoYXJDX3JlY2VpdmVMZWZ0JyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVSaWdodEFuaW06ICdjaGFyQ19yZWNlaXZlUmlnaHQnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzaSB2aWVuZSB1biB0aXBvIGRlIHBlcnNvbmFqZSBpbnbDoWxpZG8sIHNlIHVzYSBjaGFyYWN0ZXJBIHBvciBkZWZlY3RvXHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBDSEFSQUNURVJfQ09ORklHW2NoYXJhY3RlclR5cGVdIHx8IENIQVJBQ1RFUl9DT05GSUcuY2hhcmFjdGVyQTtcclxuXHJcbiAgICAgICAgLy8gc2UgY3JlYSBlbCBzcHJpdGUgZsOtc2ljbyBkZWwganVnYWRvclxyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoXHJcbiAgICAgICAgICAgIHgsXHJcbiAgICAgICAgICAgIHksXHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLnRleHR1cmVLZXksXHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLnN0YXJ0RnJhbWVcclxuICAgICAgICApO1xyXG4gICAgICAgIC8vIHNlIGhhY2UgdW4gcG9jbyBtw6FzIGdyYW5kZVxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKDIuNSk7XHJcbiAgICAgICAgLy8gc2UgYWp1c3RhIGxhIGhpdGJveCBhbCBudWV2byB0YW1hw7FvIHBhcmEgbGFzIGNvbGlzaW9uZXMsIHNlIHJlZHVjZW5cclxuICAgICAgICAvL3RoaXMuc3ByaXRlLmJvZHkuc2V0U2l6ZSh0aGlzLnNwcml0ZS53aWR0aCwgdGhpcy5zcHJpdGUuaGVpZ2h0LCB0cnVlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LnNldFNpemUodGhpcy5zcHJpdGUud2lkdGggKiAwLjksIHRoaXMuc3ByaXRlLmhlaWdodCAqIDAuOSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vIHNlIGd1YXJkYSB1bmEgcmVmZXJlbmNpYSBoYWNpYSBQbGF5ZXIgZGVudHJvIGRlbCBwcm9waW8gc3ByaXRlXHJcbiAgICAgICAgLy8gKGVzIMO6dGlsIHNpIGVuIGNvbGlzaW9uZXMgc2UgcXVpZXJlIGFjY2VkZXIgYSBsYSBsw7NnaWNhKVxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERhdGEoJ3BsYXllcicsIHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBwYXJhIGNvbnRyb2xhciBkaXJlY2Npw7NuIGFjdHVhbFxyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gJ3JpZ2h0JztcclxuXHJcbiAgICAgICAgLy8gZXN0YWRvIHNpbXBsZTogZW4gZWwgYWlyZSBvIG5vXHJcbiAgICAgICAgdGhpcy5pc09uR3JvdW5kID0gZmFsc2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gZmxhZyBwYXJhIHNhYmVyIHNpIGVzdMOhIGVuIGFuaW1hY2nDs24gZGUgc2FsdG9cclxuICAgICAgICB0aGlzLmlzSnVtcGluZyA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHRpbWVzdGFtcCBwYXJhIGRldGVjdGFyIHNpIGlzSnVtcGluZyBzZSBxdWVkYSBzdHVjayAodGltZW91dCBkZSAxIHNlZ3VuZG8pXHJcbiAgICAgICAgdGhpcy5qdW1wU3RhcnRUaW1lID0gMDtcclxuXHJcbiAgICAgICAgLy8gY3VhbmRvIHNlIHRlcm1pbmUgbGEgYW5pbWFjacOzbiBkZSByZWNpYmlyLCBzZSBkZWphIGRlIFwiZXN0YXIgcmVjaWJpZW5kb1wiXHJcbiAgICAgICAgdGhpcy5zcHJpdGUub24oJ2FuaW1hdGlvbmNvbXBsZXRlJywgKGFuaW0pID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICBhbmltLmtleSA9PT0gdGhpcy5jb25maWcucmVjZWl2ZUxlZnRBbmltIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbS5rZXkgPT09IHRoaXMuY29uZmlnLnJlY2VpdmVSaWdodEFuaW1cclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNSZWNlaXZpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBlbCBzYWx0byB0ZXJtaW5hIHNlZ8O6biBsYSBmw61zaWNhICsgdXBkYXRlKCksIG5vIHBvciBsYSBhbmltYWNpw7NuLlxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQW5pbWF0aW9uIGNvbXBsZXRlIGhhbmRsZXIgZXJyb3IgZm9yICR7YW5pbS5rZXl9OmAsIGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyBIZWxwZXIgcGFyYSB2ZXJpZmljYXIgc2kgZXN0w6EgZW4gZWwgc3VlbG8gZGUgZm9ybWEgZmlhYmxlXHJcbiAgICBpc0dyb3VuZGVkKCkge1xyXG4gICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzLnNwcml0ZS5ib2R5O1xyXG4gICAgICAgIGlmICghYm9keSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBibG9ja2VkLmRvd24g4oaSIGNvbGlzaW9uZXMgY29uIGzDrW1pdGVzIGRlbCBtdW5kb1xyXG4gICAgICAgIC8vIHRvdWNoaW5nLmRvd24g4oaSIGNvbGlzaW9uZXMgY29uIG90cm9zIGN1ZXJwb3NcclxuICAgICAgICByZXR1cm4gYm9keS5ibG9ja2VkLmRvd24gfHwgYm9keS50b3VjaGluZy5kb3duO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbXBydWViYSBzaSBsb3MgcGllcyBkZWwganVnYWRvciBlc3TDoW4gY2VyY2EgZGVsIHN1ZWxvXHJcbiAgICBpc05lYXJHcm91bmQodGhyZXNob2xkID0gMTIpIHtcclxuICAgICAgICBjb25zdCBib2R5ID0gdGhpcy5zcHJpdGUuYm9keTtcclxuICAgICAgICBpZiAoIWJvZHkpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2NlbmUuZ3JvdW5kWSAhPT0gJ251bWJlcicpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gcGFydGUgaW5mZXJpb3IgZGVsIGJvZHkgKG5vIGRlbCBzcHJpdGUgZXNjYWxhZG8pXHJcbiAgICAgICAgY29uc3QgZmVldFkgPSBib2R5LnkgKyBib2R5LmhlaWdodDtcclxuICAgICAgICByZXR1cm4gTWF0aC5hYnMoZmVldFkgLSB0aGlzLnNjZW5lLmdyb3VuZFkpIDw9IHRocmVzaG9sZDtcclxuICAgIH1cclxuXHJcbiAgICAvLy8vIEFOSU1BQ0lPTkVTIC8vLy9cclxuICAgIC8vIE1vdmltaWVudG8gZGVsIHBlcnNvbmFqZSBoYWNpYSBsYSBpenF1aWVyZGFcclxuICAgIG1vdmVMZWZ0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkIHx8IHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKC10aGlzLm1vdmVTcGVlZCk7XHJcbiAgICAgICAgdGhpcy5mYWNpbmcgPSAnbGVmdCc7XHJcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLnJ1bkxlZnRBbmltKTtcclxuICAgIH1cclxuICAgIC8vIE1vdmltaWVudG8gZGVsIHBlcnNvbmFqZSBoYWNpYSBsYSBkZXJlY2hhXHJcbiAgICBtb3ZlUmlnaHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQgfHwgdGhpcy5pc1JlY2VpdmluZykgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgodGhpcy5tb3ZlU3BlZWQpO1xyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gJ3JpZ2h0JztcclxuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcucnVuUmlnaHRBbmltKTtcclxuICAgIH0gICAgXHJcblxyXG4gICAgLy8gU2FsdG8vcmVtYXRlIGRlbCBwZXJzb25hamUgaGFjaWEgbGEgaXpxdWllcmRhXHJcbiAgICBqdW1wTGVmdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc0dyb3VuZGVkKCkgfHwgdGhpcy5pc05lYXJHcm91bmQoMjApKSB7XHJcbiAgICAgICAgICAgIC8vIHBvciBzaSB1bmEgcmVjZXBjacOzbiBzZSBxdWVkw7MgYSBtZWRpYXMsIHNlIGNhbmNlbGFcclxuICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmp1bXBTdGFydFRpbWUgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVkoLXRoaXMuanVtcFNwZWVkKTtcclxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSAnbGVmdCc7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5qdW1wTGVmdEFuaW0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lPy5wbGF5U2Z4Py4odGhpcy5zY2VuZT8uc2Z4Py5qdW1wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBTYWx0by9yZW1hdGUgZGVsIHBlcnNvbmFqZSBoYWNpYSBsYSBkZXJlY2hhXHJcbiAgICBqdW1wUmlnaHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNHcm91bmRlZCgpIHx8IHRoaXMuaXNOZWFyR3JvdW5kKDIwKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuanVtcFN0YXJ0VGltZSA9IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WSgtdGhpcy5qdW1wU3BlZWQpO1xyXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5qdW1wUmlnaHRBbmltKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZT8ucGxheVNmeD8uKHRoaXMuc2NlbmU/LnNmeD8uanVtcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlY2VwY2nDs24gZGVsIHBlcnNvbmFqZSBwb3IgbGEgaXpxdWllcmRhXHJcbiAgICByZWNlaXZlTGVmdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCkgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLmlzUmVjZWl2aW5nKSByZXR1cm47IC8vIG5vIHNlIHJlaW5pY2lhIHNpIHlhIGVzdMOhIHJlY2liaWVuZG8gXHJcblxyXG4gICAgICAgIC8vIHNpIGVzdMOhIHRvY2FuZG8gZWwgc3VlbG8sIHJlY2liZSBsYSBwZWxvdGFcclxuICAgICAgICBpZiAodGhpcy5pc0dyb3VuZGVkKCkgfHwgdGhpcy5pc05lYXJHcm91bmQoMjApKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNSZWNlaXZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcucmVjZWl2ZUxlZnRBbmltKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBSZWNlcGNpw7NuIGRlbCBwZXJzb25hamUgcG9yIGxhIGRlcmVjaGFcclxuICAgIHJlY2VpdmVSaWdodCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCkgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLmlzUmVjZWl2aW5nKSByZXR1cm47IC8vIG5vIHNlIHJlaW5pY2lhIHNpIHlhIGVzdMOhIHJlY2liaWVuZG8gXHJcblxyXG4gICAgICAgIC8vIHNpIGVzdMOhIHRvY2FuZG8gZWwgc3VlbG8sIHJlY2liZSBsYSBwZWxvdGFcclxuICAgICAgICBpZiAodGhpcy5pc0dyb3VuZGVkKCkgfHwgdGhpcy5pc05lYXJHcm91bmQoMjApKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNSZWNlaXZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gJ3JpZ2h0JztcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLnJlY2VpdmVSaWdodEFuaW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBQZXJzb25hamUgaWRsZSBpemRhXHJcbiAgICBpZGxlTGVmdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1JlY2VpdmluZykgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBzaWVtcHJlIGRldGVuZXIgbGEgdmVsb2NpZGFkIGhvcml6b250YWwgYWwgZW50cmFyIGVuIGlkbGVcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgdGhpcy5mYWNpbmcgPSAnbGVmdCc7XHJcbiAgICAgICAgLy8gcmVwcm9kdWNpciBsYSBhbmltYWNpw7NuIGRlIGlkbGVcclxuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcuaWRsZUxlZnRBbmltKTtcclxuICAgIH1cclxuICAgIC8vIFBlcnNvbmFqZSBpZGxlIGRjaGFcclxuICAgIGlkbGVSaWdodCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1JlY2VpdmluZykgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBzaWVtcHJlIGRldGVuZXIgbGEgdmVsb2NpZGFkIGhvcml6b250YWwgYWwgZW50cmFyIGVuIGlkbGVcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgdGhpcy5mYWNpbmcgPSAncmlnaHQnO1xyXG4gICAgICAgIC8vIHJlcHJvZHVjaXIgbGEgYW5pbWFjacOzbiBkZSBpZGxlXHJcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLmlkbGVSaWdodEFuaW0pO1xyXG4gICAgfVxyXG4gICAgLy8vLy8vLy9cclxuXHJcbiAgICAvLyBFc3RhYmxlY2VyIGxvcyBsw61taXRlcyBkZSBtb3ZpbWllbnRvIGRlbCBqdWdhZG9yIChwYXJhIGNvbmZpbmFyIGEgbGEgY2FuY2hhKVxyXG4gICAgc2V0Qm91bmRzKGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSkge1xyXG4gICAgICAgIHRoaXMuYm91bmRzTGVmdCA9IGxlZnQ7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNSaWdodCA9IHJpZ2h0O1xyXG4gICAgICAgIHRoaXMuYm91bmRzVG9wID0gdG9wO1xyXG4gICAgICAgIHRoaXMuYm91bmRzQm90dG9tID0gYm90dG9tO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1hbnRlbmVyIGVsIGp1Z2Fkb3IgZGVudHJvIGRlIGxvcyBsw61taXRlc1xyXG4gICAgY2xhbXBXaXRoaW5Cb3VuZHMoKSB7XHJcbiAgICAgICAgY29uc3QgaGFsZldpZHRoID0gdGhpcy5zcHJpdGUud2lkdGggLyAyO1xyXG4gICAgICAgIC8vIGxpbWl0YXIgcG9zaWNpw7NuIGhvcml6b250YWwgKFgpXHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLnggLSBoYWxmV2lkdGggPCB0aGlzLmJvdW5kc0xlZnQpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUueCA9IHRoaXMuYm91bmRzTGVmdCArIGhhbGZXaWR0aDtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zcHJpdGUueCArIGhhbGZXaWR0aCA+IHRoaXMuYm91bmRzUmlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUueCA9IHRoaXMuYm91bmRzUmlnaHQgLSBoYWxmV2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTW92ZXIgZWwganVnYWRvciBhIHVuYSBwb3NpY2nDs24gY29uY3JldGEgKHkgZGV0ZW5lcmxvKVxyXG4gICAgLy8gKHNlIGxsYW1hIGFsIGNhbWJpYXIgZGUgc2V0cylcclxuICAgIHNldFBvc2l0aW9uKHgsIHkpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc3ByaXRlKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFBvc2l0aW9uKHgsIHkpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApOyAvLyBwb3Igc2kgdmVuw61hIGNvbiB2ZWxvY2lkYWRcclxuXHJcbiAgICAgICAgLy8gYWN0dWFsaXphciB0YW1iacOpbiBsYSBwb3NpY2nDs24gZGVsIHRleHRvIHgyL3gzXHJcbiAgICAgICAgdGhpcy51cGRhdGVNdWx0aXBsaWVyVGV4dFBvc2l0aW9uKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHVwZGF0ZU11bHRpcGxpZXJUZXh0UG9zaXRpb24oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm11bHRpcGxpZXJUZXh0IHx8ICF0aGlzLnNwcml0ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBhbHR1cmEg4oCcdmlzdWFs4oCdIGRlbCBzcHJpdGUgcGFyYSBjb2xvY2FyIGVsIHRleHRvIGVuY2ltYSBkZSBsYSBjYWJlemFcclxuICAgICAgICBjb25zdCBkaXNwbGF5SCA9IHRoaXMuc3ByaXRlLmRpc3BsYXlIZWlnaHQgfHwgdGhpcy5zcHJpdGUuaGVpZ2h0IHx8IDQwO1xyXG4gICAgICAgIGNvbnN0IG9mZnNldFkgPSBkaXNwbGF5SCAqIDAuNjsgLy8gYWp1c3RhIHNpIHF1aWVyZXMgbcOhcyBhcnJpYmEvYWJham9cclxuXHJcbiAgICAgICAgdGhpcy5tdWx0aXBsaWVyVGV4dC5zZXRQb3NpdGlvbihcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUueCxcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUueSAtIG9mZnNldFlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlcHJvZHVjZSB1bmEgYW5pbWFjacOzbiBzaSBleGlzdGUgKHNvbG8gc2kgbm8gZXN0w6EgeWEgcmVwcm9kdWNpw6luZG9zZSlcclxuICAgIHBsYXlBbmltYXRpb24oYW5pbUtleSkge1xyXG4gICAgICAgIGlmICghYW5pbUtleSkgcmV0dXJuO1xyXG4gICAgICAgIGlmICghdGhpcy5zcHJpdGUuYW5pbXMpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gc2kgZXN0YW1vcyBlbiBzYWx0bywgaWdub3JhciBjdWFscXVpZXIgYW5pbWFjacOzbiBxdWUgbm8gc2VhIGRlIHNhbHRvXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0aGlzLmlzSnVtcGluZyAmJlxyXG4gICAgICAgICAgICBhbmltS2V5ICE9PSB0aGlzLmNvbmZpZy5qdW1wTGVmdEFuaW0gJiZcclxuICAgICAgICAgICAgYW5pbUtleSAhPT0gdGhpcy5jb25maWcuanVtcFJpZ2h0QW5pbVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjdXJyZW50QW5pbSA9IHRoaXMuc3ByaXRlLmFuaW1zLmN1cnJlbnRBbmltO1xyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS5hbmltcy5pc1BsYXlpbmcgJiYgY3VycmVudEFuaW0gJiYgY3VycmVudEFuaW0ua2V5ID09PSBhbmltS2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLmFuaW1zLnBsYXkoYW5pbUtleSwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWN0dWFsaXphciBmbGFncyBjb21vIGlzT25Hcm91bmQgKHNlIGxsYW1hIGEgZXN0byBkZXNkZSBsYSBlc2NlbmEsIGVuIGNhZGEgZnJhbWUpXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLmJvZHkpIHtcclxuICAgICAgICAgICAgY29uc3Qgd2FzT25Hcm91bmQgPSB0aGlzLmlzT25Hcm91bmQ7XHJcbiAgICAgICAgICAgIHRoaXMuaXNPbkdyb3VuZCA9IHRoaXMuaXNHcm91bmRlZCgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY3VycmVudEFuaW0gPSB0aGlzLnNwcml0ZS5hbmltcy5jdXJyZW50QW5pbTtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudEtleSA9IGN1cnJlbnRBbmltID8gY3VycmVudEFuaW0ua2V5IDogbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7IC8vIHBvciBzaSBhY2Fzb1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBmYWlsc2FmZSByZWNlcGNpw7NuOiBzaSBlbCBmbGFnIGRpY2UgXCJyZWNpYmllbmRvXCIgcGVybyBsYSBhbmltYWNpw7NuIG5vIGxvIGVzXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNSZWNlaXZpbmcgJiZcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRLZXkgIT09IHRoaXMuY29uZmlnLnJlY2VpdmVMZWZ0QW5pbSAmJlxyXG4gICAgICAgICAgICAgICAgY3VycmVudEtleSAhPT0gdGhpcy5jb25maWcucmVjZWl2ZVJpZ2h0QW5pbVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNSZWNlaXZpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gZmFpbHNhZmUgc2FsdG86IHNpIGlzSnVtcGluZyBlcyB0cnVlIHBlcm8gbGEgYW5pbWFjacOzbiBhY3R1YWwgTk8gZXMgZGUgc2FsdG9cclxuICAgICAgICAgICAgLy8gKHkgaGF5IGFuaW1hY2nDs24pLCBzZSBhc3VtZSBxdWUgdGVybWluw7NcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgJiZcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRLZXkgJiZcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRLZXkgIT09IHRoaXMuY29uZmlnLmp1bXBMZWZ0QW5pbSAmJlxyXG4gICAgICAgICAgICAgICAgY3VycmVudEtleSAhPT0gdGhpcy5jb25maWcuanVtcFJpZ2h0QW5pbVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHRpbWVvdXQgZGUgc2FsdG8gcG9yIHNlZ3VyaWRhZFxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0p1bXBpbmcgJiYgKHRoaXMuc2NlbmUudGltZS5ub3cgLSB0aGlzLmp1bXBTdGFydFRpbWUgPiAxNTAwKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gYXRlcnJpemFqZSByZWFsXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzSnVtcGluZyAmJiAhd2FzT25Hcm91bmQgJiYgdGhpcy5pc09uR3JvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkbGVMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWRsZVJpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jbGFtcFdpdGhpbkJvdW5kcygpO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZU11bHRpcGxpZXJUZXh0UG9zaXRpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBVc28gZGUgbG9zIHBvd2VyLXVwc1xyXG4gICAgYXBwbHlQb3dlclVwKHR5cGUpIHtcclxuICAgICAgICAvLyBpbnZlbnRhcmlvIG3DoXhpbW8gZGUgMlxyXG4gICAgICAgIGlmICh0aGlzLnBvd2VyVXBJbnZlbnRvcnkubGVuZ3RoID49IDIpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5wb3dlclVwSW52ZW50b3J5LnB1c2godHlwZSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdXNlTmV4dFBvd2VyVXAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucG93ZXJVcEludmVudG9yeS5sZW5ndGggPT09IDApIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMucG93ZXJVcEludmVudG9yeS5zaGlmdCgpO1xyXG4gICAgICAgIHRoaXMuYWN0aXZhdGVQb3dlclVwKHR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdGl2YSBlbCBlZmVjdG8gZGVsIHBvd2VyLXVwXHJcbiAgICBhY3RpdmF0ZVBvd2VyVXAodHlwZSkge1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICd2ZWxvY2lkYWQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseU9yUmVmcmVzaFRpbWVkRWZmZWN0KCd2ZWxvY2lkYWQnLCBQT1dFUlVQX0RVUkFUSU9OX01TLnZlbG9jaWRhZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncmFsZW50aXphcic6IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9wcG9uZW50ID0gdGhpcy5nZXRPcHBvbmVudCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3Bwb25lbnQuYXBwbHlPclJlZnJlc2hUaW1lZEVmZmVjdCgncmFsZW50aXphcicsIFBPV0VSVVBfRFVSQVRJT05fTVMucmFsZW50aXphcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlICdwYXJhbGl6YXInOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcHBvbmVudCA9IHRoaXMuZ2V0T3Bwb25lbnQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChvcHBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wcG9uZW50LmFwcGx5T3JSZWZyZXNoVGltZWRFZmZlY3QoJ3BhcmFsaXphcicsIFBPV0VSVVBfRFVSQVRJT05fTVMucGFyYWxpemFyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgJ3BvcjInOlxyXG4gICAgICAgICAgICBjYXNlICdwb3IzJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlPclJlZnJlc2hUaW1lZEVmZmVjdCh0eXBlLCBQT1dFUlVQX0RVUkFUSU9OX01TW3R5cGVdKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3R1YWxpemEgbG9zIHBvd2VyLXVwc1xyXG4gICAgdXBkYXRlUG93ZXJVcHMoKSB7XHJcbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5zY2VuZS50aW1lLm5vdztcclxuXHJcbiAgICAgICAgbGV0IHNwZWVkTmVlZHNSZWNhbGMgPSBmYWxzZTtcclxuICAgICAgICBsZXQgc2NvcmVOZWVkc1JlY2FsYyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBzZSByZXZpc2FuIHRvZG9zIGxvcyBwb3dlci11cHMgYWN0aXZvc1xyXG4gICAgICAgIGZvciAoY29uc3QgdHlwZSBpbiB0aGlzLmFjdGl2ZVBvd2VyVXBzKSB7XHJcbiAgICAgICAgICAgIGlmIChub3cgPD0gdGhpcy5hY3RpdmVQb3dlclVwc1t0eXBlXSkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY3RpdmVQb3dlclVwc1t0eXBlXTtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAndmVsb2NpZGFkJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNwZWVkRWZmZWN0KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBzcGVlZE5lZWRzUmVjYWxjID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3JhbGVudGl6YXInOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U2xvd0VmZmVjdChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BlZWROZWVkc1JlY2FsYyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdwYXJhbGl6YXInOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UGFyYWx5emVkKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3BvcjInOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAncG9yMyc6XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcmVOZWVkc1JlY2FsYyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzcGVlZE5lZWRzUmVjYWxjKSB0aGlzLnJlY2FsY3VsYXRlTW92ZVNwZWVkKCk7XHJcbiAgICAgICAgaWYgKHNjb3JlTmVlZHNSZWNhbGMpIHRoaXMucmVjYWxjdWxhdGVTY29yZUVmZmVjdCgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLy8vIEVGRUNUT1MgVklTVUFMRVMgREUgTE9TIFBPV0VSLVVQUyAvLy8vXHJcbiAgICAvLyBwYXJhbGl6YXIgLT4gcm9qbyArIHBhcnBhZGVvXHJcbiAgICBzZXRQYXJhbHl6ZWQoaXNQYXJhbHl6ZWQpIHtcclxuICAgICAgICB0aGlzLmlzUGFyYWx5emVkID0gaXNQYXJhbHl6ZWQ7XHJcblxyXG4gICAgICAgIGlmIChpc1BhcmFseXplZCkge1xyXG4gICAgICAgICAgICAvLyBmZWVkYmFjayB2aXN1YWw6IHJvam8gKyBwYXJwYWRlb1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4ZmY1NTU1KTsgICAvLyByb2ppem9cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICAvLyBwb3Igc2kgeWEgaGFiw61hIHVuIHR3ZWVuIGFudGVyaW9yXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmFseXNpc1R3ZWVuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFseXNpc1R3ZWVuLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyYWx5c2lzVHdlZW4gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBhcmFseXNpc1R3ZWVuID0gdGhpcy5zY2VuZS50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgYWxwaGE6IDAuMyxcclxuICAgICAgICAgICAgICAgIHlveW86IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwLFxyXG4gICAgICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNlZ3VyaWRhZCBleHRyYTogcXVlIHNlIHF1ZWRlIHF1aWV0byBob3Jpem9udGFsbWVudGVcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBxdWl0YXIgc29sbyBlbCBlZmVjdG8gZGUgcGFycGFkZW8sIGVsIGNvbG9yIHNlIHJlY2FsY3VsYVxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmFseXNpc1R3ZWVuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFseXNpc1R3ZWVuLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyYWx5c2lzVHdlZW4gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBWb2x2ZW1vcyBhIGFwbGljYXIgZWwgY29sb3IgZGUgb3Ryb3MgcG93ZXItdXBzIGFjdGl2b3MgKHNpIGxvcyBoYXkpXHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaFBvd2VyVXBWaXN1YWxzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSAgICBcclxuXHJcbiAgICAvLyB2ZWxvY2lkYWQgLT4gbmFyYW5qYVxyXG4gICAgc2V0U3BlZWRFZmZlY3QoYWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5zcGVlZEVmZmVjdEFjdGl2ZSA9IGFjdGl2ZTtcclxuICAgICAgICB0aGlzLnJlZnJlc2hQb3dlclVwVmlzdWFscygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHJhbGVudGl6YXIgLT4gYXp1bFxyXG4gICAgc2V0U2xvd0VmZmVjdChhY3RpdmUpIHtcclxuICAgICAgICB0aGlzLnNsb3dFZmZlY3RBY3RpdmUgPSBhY3RpdmU7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoUG93ZXJVcFZpc3VhbHMoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gUmVjYWxjdWxhIGxhIHZlbG9jaWRhZCBkZSBtb3ZpbWllbnRvIHNlZ8O6biBsb3MgcG93ZXItdXBzIHF1ZSBlc3TDqW4gYWN0aXZvc1xyXG4gICAgcmVjYWxjdWxhdGVNb3ZlU3BlZWQoKSB7XHJcbiAgICAgICAgbGV0IG11bHQgPSAxO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5hY3RpdmVQb3dlclVwcy52ZWxvY2lkYWQpIG11bHQgKj0gU1BFRURfTVVMVC52ZWxvY2lkYWQ7XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlUG93ZXJVcHMucmFsZW50aXphcikgbXVsdCAqPSBTUEVFRF9NVUxULnJhbGVudGl6YXI7XHJcblxyXG4gICAgICAgIHRoaXMubW92ZVNwZWVkID0gdGhpcy5iYXNlTW92ZVNwZWVkICogbXVsdDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWNhbGN1bGEgZWwgbXVsdGlwbGljYWRvciBkZSBwdW50dWFjacOzbiBlbiBmdW5jacOzbiBkZSBwb3IyL3BvcjMgYWN0aXZvc1xyXG4gICAgcmVjYWxjdWxhdGVTY29yZUVmZmVjdCgpIHtcclxuICAgICAgICBsZXQgbXVsdGlwbGllciA9IDE7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVBvd2VyVXBzWydwb3IyJ10pIHtcclxuICAgICAgICAgICAgbXVsdGlwbGllciA9IE1hdGgubWF4KG11bHRpcGxpZXIsIDIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5hY3RpdmVQb3dlclVwc1sncG9yMyddKSB7XHJcbiAgICAgICAgICAgIG11bHRpcGxpZXIgPSBNYXRoLm1heChtdWx0aXBsaWVyLCAzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2NvcmVNdWx0aXBsaWVyID0gbXVsdGlwbGllcjtcclxuXHJcbiAgICAgICAgLy8gZmVlZGJhY2sgdmlzdWFsIGNvbiB0ZXh0byB4MiAvIHgzXHJcbiAgICAgICAgaWYgKHRoaXMubXVsdGlwbGllclRleHQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NvcmVNdWx0aXBsaWVyID4gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdWx0aXBsaWVyVGV4dC5zZXRUZXh0KCd4JyArIHRoaXMuc2NvcmVNdWx0aXBsaWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlwbGllclRleHQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlwbGllclRleHQuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIG1hbnRlbmVyIGxvcyBjb2xvcmVzIHF1ZSB5YSBzZSB0ZW7DrWFuXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoUG93ZXJVcFZpc3VhbHMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBcGxpY2EgbyBhY3R1YWxpemEgbGEgZHVyYWNpw7NuIGRlIHVuIHBvd2VyLXVwXHJcbiAgICBhcHBseU9yUmVmcmVzaFRpbWVkRWZmZWN0KHR5cGUsIGR1cmF0aW9uTXMpIHtcclxuICAgICAgICBjb25zdCBub3cgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG4gICAgICAgIHRoaXMuYWN0aXZlUG93ZXJVcHNbdHlwZV0gPSBub3cgKyBkdXJhdGlvbk1zO1xyXG5cclxuICAgICAgICAvLyBzZSBhY3RpdmEgZWwgZmVlZGJhY2svZXN0YWRvXHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICd2ZWxvY2lkYWQnKSB0aGlzLnNldFNwZWVkRWZmZWN0KHRydWUpO1xyXG4gICAgICAgIGlmICh0eXBlID09PSAncmFsZW50aXphcicpIHRoaXMuc2V0U2xvd0VmZmVjdCh0cnVlKTtcclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3BhcmFsaXphcicpIHRoaXMuc2V0UGFyYWx5emVkKHRydWUpO1xyXG5cclxuICAgICAgICAvLyBzZSByZWNhbGN1bGFuIGxvcyBlZmVjdG9zIHNpIGVzIG5lY2VzYXJpb1xyXG4gICAgICAgIGlmICh0eXBlID09PSAndmVsb2NpZGFkJyB8fCB0eXBlID09PSAncmFsZW50aXphcicpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWNhbGN1bGF0ZU1vdmVTcGVlZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3BvcjInIHx8IHR5cGUgPT09ICdwb3IzJykge1xyXG4gICAgICAgICAgICB0aGlzLnJlY2FsY3VsYXRlU2NvcmVFZmZlY3QoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGVjaWRlIHF1w6kgdGludGUgbW9zdHJhciBzZWfDum4gZWwgZXN0YWRvIGFjdHVhbFxyXG4gICAgcmVmcmVzaFBvd2VyVXBWaXN1YWxzKCkge1xyXG4gICAgICAgIC8vIHNpIGVzdMOhIHBhcmFsaXphZG8sIGxhIHBhcsOhbGlzaXMgbWFuZGEgKGNvbG9yICByb2pvICsgcGFycGFkZW8pXHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUGhhc2VyIHNvbG8gcGVybWl0ZSB1biBjb2xvciBhIGxhIHZleiBwb3Igc3ByaXRlLCBwb3IgZXNvIGxhXHJcbiAgICAgICAgLy8gcHJpb3JpZGFkIHZpc3VhbCBlczogcmFsZW50aXphciA+IHZlbG9jaWRhZCA+IG11bHRpcGxpY2Fkb3JcclxuICAgICAgICBpZiAodGhpcy5zbG93RWZmZWN0QWN0aXZlKSB7XHJcbiAgICAgICAgICAgIC8vIGF6dWwgb3NjdXJvIHBhcmEgcmFsZW50aXphclxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4NTU1NWZmKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3BlZWRFZmZlY3RBY3RpdmUpIHtcclxuICAgICAgICAgICAgLy8gbmFyYW5qYSBwYXJhIHZlbG9jaWRhZFxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4ZmY4YzAwKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2NvcmVNdWx0aXBsaWVyID4gMSkge1xyXG4gICAgICAgICAgICAvLyB2ZXJkZSBwYXJhIHgyIC8geDNcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VGludCgweDMyY2QzMik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gc2luIGVmZWN0b3NcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuY2xlYXJUaW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8vLy8vL1xyXG5cclxuICAgIGdldE9wcG9uZW50KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5zY2VuZS5wbGF5ZXJzKSByZXR1cm4gbnVsbDtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnNjZW5lLnBsYXllcnMudmFsdWVzKCkpLmZpbmQocCA9PiBwICE9PSB0aGlzKTtcclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQXBwbHlQb3dlclVwQ29tbWFuZCB7XG4gICAgY29uc3RydWN0b3IocGxheWVyLCBwb3dlclVwVHlwZSkge1xuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcbiAgICAgICAgdGhpcy5wb3dlclVwVHlwZSA9IHBvd2VyVXBUeXBlO1xuICAgICAgICB0aGlzLnN0b3JlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIGV4ZWN1dGUoKSB7XG4gICAgICAgIHRoaXMuc3RvcmVkID0gdGhpcy5wbGF5ZXIuYXBwbHlQb3dlclVwKHRoaXMucG93ZXJVcFR5cGUpO1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZWQ7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgQXBwbHlQb3dlclVwQ29tbWFuZCB9IGZyb20gXCIuLi9Db21tYW5kcy9BcHBseVBvd2VyVXBDb21tYW5kXCI7XG5cbmV4cG9ydCBjbGFzcyBQb3dlclVwIHtcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgeCwgeSwgdHlwZSkge1xuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG5cbiAgICAgICAgdGhpcy5pc0NvbGxlY3RlZCA9IGZhbHNlOyAgIC8vIHBhcmEgZXZpdGFyIHJlY29nZXIgdmFyaWFzIHZlY2VzXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlOyAgICAvLyBwYXJhIGV2aXRhciBkZXN0cnVpciB2YXJpYXMgdmVjZXNcbiAgICAgICAgdGhpcy5fY29vbGRvd25VbnRpbCA9IDA7ICAgIC8vIHRpZW1wbyBoYXN0YSBlbCBxdWUgbm8gc2UgcHVlZGUgcmVjb2dlclxuXG4gICAgICAgIHRoaXMuZmFkZVN0YXJ0ID0gMzAwMDsgICAgICAvLyBtcyBoYXN0YSBlbXBlemFyIGEgZGVzdmFuZWNlcnNlXG4gICAgICAgIHRoaXMubGlmZXRpbWUgPSA1MDAwOyAgICAgICAvLyBtcyBkZSB2aWRhIHRvdGFsXG5cbiAgICAgICAgdGhpcy5fb3ZlcmxhcHMgPSBbXTsgICAgICAgIC8vIGNvbGxpZGVycyBvdmVybGFwc1xuICAgICAgICB0aGlzLmZhZGVUd2VlbiA9IG51bGw7ICAgICAgLy8gdHdlZW4gZGUgZmFkZVxuICAgICAgICB0aGlzLl9saWZldGltZVRpbWVyID0gbnVsbDsgLy8gdGltZXIgZGUgdmlkYVxuXG4gICAgICAgIHRoaXMuc3ByaXRlID0gc2NlbmUucGh5c2ljcy5hZGQuc3RhdGljSW1hZ2UoeCwgeSwgdHlwZSlcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxLjIpXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoKTtcblxuICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgYm9keSB0cmFzIGVsIGVzY2FsYWRvXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS5yZWZyZXNoQm9keSkgdGhpcy5zcHJpdGUucmVmcmVzaEJvZHkoKTtcblxuICAgICAgICAvLyBzZSBndWFyZGEgZWwgdHdlZW4gcGFyYSBwb2RlciBwYXJhcmxvIGVuIGRlc3Ryb3lcbiAgICAgICAgY29uc3QgZmFkZURlbGF5ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odGhpcy5mYWRlU3RhcnQsIHRoaXMubGlmZXRpbWUpKTtcbiAgICAgICAgY29uc3QgZmFkZUR1cmF0aW9uID0gTWF0aC5tYXgoMCwgdGhpcy5saWZldGltZSAtIGZhZGVEZWxheSk7XG5cbiAgICAgICAgaWYgKGZhZGVEdXJhdGlvbiA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuZmFkZVR3ZWVuID0gc2NlbmUudHdlZW5zLmFkZCh7XG4gICAgICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5zcHJpdGUsXG4gICAgICAgICAgICAgICAgYWxwaGE6IDAsXG4gICAgICAgICAgICAgICAgZGVsYXk6IGZhZGVEZWxheSxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogZmFkZUR1cmF0aW9uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIG92ZXJsYXBzIGNvbiBsb3MganVnYWRvcmVzXG4gICAgICAgIGNvbnN0IHBsYXllcnMgPSBzY2VuZS5wbGF5ZXJzO1xuICAgICAgICBpZiAocGxheWVycyAmJiB0eXBlb2YgcGxheWVycy5mb3JFYWNoID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBwbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXBsYXllcj8uc3ByaXRlKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjID0gc2NlbmUucGh5c2ljcy5hZGQub3ZlcmxhcChcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyLnNwcml0ZSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUsXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHRoaXMuY29sbGVjdChwbGF5ZXIpLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICB0aGlzXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vdmVybGFwcy5wdXNoKGMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aW1lciBkZSB2aWRhXG4gICAgICAgIHRoaXMuX2xpZmV0aW1lVGltZXIgPSBzY2VuZS50aW1lLmRlbGF5ZWRDYWxsKHRoaXMubGlmZXRpbWUsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBSZWNvZ2UgZWwgcG93ZXItdXBcbiAgICBjb2xsZWN0KHBsYXllcikge1xuICAgICAgICBjb25zb2xlLmxvZygnW1Bvd2VyVXBdIG92ZXJsYXAgY29uJywgcGxheWVyLmlkLCAndGlwbycsIHRoaXMudHlwZSk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5pc0NvbGxlY3RlZCkgcmV0dXJuO1xuXG4gICAgICAgIC8vIHNpIGVsIGludmVudGFyaW8gZXN0w6EgbGxlbm8geSBlbCBqdWdhZG9yIHNlIHF1ZWRhIGVuY2ltYSwgc2UgZXZpdGEgZWwgc3BhbVxuICAgICAgICBjb25zdCBub3cgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xuICAgICAgICBpZiAodGhpcy5fY29vbGRvd25VbnRpbCAmJiBub3cgPCB0aGlzLl9jb29sZG93blVudGlsKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5pc0NvbGxlY3RlZCA9IHRydWU7XG5cbiAgICAgICAgY29uc3QgY21kID0gbmV3IEFwcGx5UG93ZXJVcENvbW1hbmQocGxheWVyLCB0aGlzLnR5cGUpO1xuICAgICAgICB0aGlzLnNjZW5lLmNvbW1hbmRQcm9jZXNzb3IucHJvY2VzcyhjbWQpO1xuXG4gICAgICAgIC8vIHNpIE5PIHNlIHB1ZWRlIGd1YXJkYXIgcG9ycXVlIGVsIGludmVudGFyaW8gZXN0w6EgbGxlbm8sIE5PIHNlIGRlc3RydXllXG4gICAgICAgIGlmICghY21kLnN0b3JlZCkge1xuICAgICAgICAgICAgdGhpcy5pc0NvbGxlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fY29vbGRvd25VbnRpbCA9IG5vdyArIDMwMDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZGVzdHJveSgpO1xuICAgICAgICB0aGlzLnNjZW5lLnVwZGF0ZVBsYXllckludmVudG9yeVVJPy4ocGxheWVyKTtcbiAgICB9XG5cbiAgICAvLyBEZXN0cnV5ZSBlbCBwb3dlci11cFxuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcblxuICAgICAgICAvLyBjb2xsaWRlcnMgb3ZlcmxhcHNcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5fb3ZlcmxhcHMpKSB7XG4gICAgICAgICAgICB0aGlzLl9vdmVybGFwcy5mb3JFYWNoKGMgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7IGMuZGVzdHJveSgpOyB9IGNhdGNoIHt9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX292ZXJsYXBzID0gW107XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0d2VlblxuICAgICAgICBpZiAodGhpcy5mYWRlVHdlZW4pIHtcbiAgICAgICAgICAgIHRyeSB7IHRoaXMuZmFkZVR3ZWVuLnN0b3AoKTsgfSBjYXRjaCB7fVxuICAgICAgICAgICAgdGhpcy5mYWRlVHdlZW4gPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGltZXJcbiAgICAgICAgaWYgKHRoaXMuX2xpZmV0aW1lVGltZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2xpZmV0aW1lVGltZXIucmVtb3ZlKGZhbHNlKTtcbiAgICAgICAgICAgIHRoaXMuX2xpZmV0aW1lVGltZXIgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3ByaXRlXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZSkge1xuICAgICAgICAgICAgdHJ5IHsgdGhpcy5zcHJpdGUuZGVzdHJveSgpOyB9IGNhdGNoIHt9XG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaW5hbG1lbnRlLCBzZSBxdWl0YSBkZWwgYXJyYXlcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGhpcy5zY2VuZS5wb3dlclVwcykpIHtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucG93ZXJVcHMgPSB0aGlzLnNjZW5lLnBvd2VyVXBzLmZpbHRlcihwID0+IHAgIT09IHRoaXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiZXhwb3J0IGNsYXNzIEJhbGwge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHkpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IgPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnYmFsbCcpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKDEuMCk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0Qm91bmNlKDAuOCk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERhdGEoJ2JhbGwnLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gc2VndWltaWVudG8gZGVsIGVzdGFkbyBkZWwgcmFsbHlcclxuICAgICAgICB0aGlzLmxhc3RUb3VjaGVkQnkgPSBudWxsOyAgICAgIC8vIGlkIGRlbCBqdWdhZG9yICgncGxheWVyMScgbyAncGxheWVyMicpXHJcbiAgICAgICAgdGhpcy50b3VjaENvdW50ID0gMDsgICAgICAgICAgICAvLyB0b3F1ZXMgZW4gZWwgcmFsbHkgYWN0dWFsIHBvciBsYWRvIGRlIGxhIGNhbmNoYVxyXG4gICAgICAgIHRoaXMuY291cnRTaWRlID0gJ2xlZnQnOyAgICAgICAgLy8gbGFkbyBkZSBsYSBjYW5jaGEgZG9uZGUgZXN0w6EgbGEgcGVsb3RhXHJcbiAgICAgICAgdGhpcy5pc0JhbGxMaXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gcG9zaWNpw7NuIGRlIGxhIHJlZCAoaGFyZGNvZGVhZG8gcGFyYSBhbmNobyBkZSA5NjBweClcclxuICAgICAgICB0aGlzLm5ldFggPSA0ODA7XHJcblxyXG4gICAgICAgIC8vIHBhcmEgZXZpdGFyIHRvcXVlcyBtw7psdGlwbGVzIHBvciBlc3RhciBwZWdhZGEgeSBxdWUgXCJkZXNhcGFyZXpjYVwiXHJcbiAgICAgICAgdGhpcy5sYXN0SGl0VGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5sYXN0SGl0UGxheWVySWQgPSBudWxsO1xyXG5cdFx0XHJcbiAgICAgICAgLy90aGlzLmlzRmlyc3RTZXJ2ZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2VuZXJhIHVuIG7Dum1lcm8gYWxlYXRvcmlvIHBhcmEgdmFyaWFyIGxldmVtZW50ZSBsYSB2ZWxvY2lkYWQgZGUgbGEgcGVsb3RhXHJcbiAgICBfZ2V0UmFuZG9tRmFjdG9yKG1pbiA9IDAuOTUsIG1heCA9IDEuMDUpIHtcclxuICAgICAgICByZXR1cm4gbWluICsgKG1heCAtIG1pbikgKiBNYXRoLnJhbmRvbSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlIGxsYW1hIGN1YW5kbyB1biBqdWdhZG9yIGdvbHBlYSBsYSBwZWxvdGFcclxuICAgIGhpdChwbGF5ZXIsIHBsYXllckZhY2luZ0RpcmVjdGlvbiwgaXNKdW1waW5nLCBpc1JlY2VpdmluZyA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQmFsbExpdmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5zY2VuZS50aW1lLm5vdztcclxuXHJcbiAgICAgICAgLy8gc2kgZXMgZWwgbWlzbW8ganVnYWRvciB5IGhhIHBhc2FkbyBtdXkgcG9jbyB0aWVtcG8sXHJcbiAgICAgICAgLy8gaWdub3JhbW9zIGVzZSBcInRvcXVlXCIgcGFyYSBubyBzdW1hciBtw6FzIGdvbHBlc1xyXG4gICAgICAgIGlmICh0aGlzLmxhc3RIaXRQbGF5ZXJJZCA9PT0gcGxheWVyLmlkICYmIChub3cgLSB0aGlzLmxhc3RIaXRUaW1lKSA8IDEyMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyByZWdpc3RyYW1vcyBlc3RlIG51ZXZvIGdvbHBlIHbDoWxpZG9cclxuICAgICAgICB0aGlzLmxhc3RIaXRQbGF5ZXJJZCA9IHBsYXllci5pZDtcclxuICAgICAgICB0aGlzLmxhc3RIaXRUaW1lID0gbm93O1xyXG5cclxuICAgICAgICAvLyBzZSBpbmNyZW1lbnRhIGVsIGNvbnRhZG9yIGRlIHRvcXVlcyBzaSBlbCBtaXNtbyBqdWdhZG9yIGNvbnRpbsO6YSwgc2UgcmVpbmljaWEgc2kgZXMgZWwgb3Ryb1xyXG4gICAgICAgIGlmICh0aGlzLmxhc3RUb3VjaGVkQnkgPT09IHBsYXllci5pZCkge1xyXG4gICAgICAgICAgICB0aGlzLnRvdWNoQ291bnQrKztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnRvdWNoQ291bnQgPSAxO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RUb3VjaGVkQnkgPSBwbGF5ZXIuaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnRvdWNoQ291bnQgPiAzKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25GYWx0YSgndG9xdWVFeGNlZGlkbycsIHBsYXllcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2UgcmVwcm9kdWNlIGVsIGVmZWN0byBkZSBzb25pZG8gc2Vnw7puIGVsIHRpcG8gZGUgZ29scGVcclxuICAgICAgICBpZiAoaXNSZWNlaXZpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZT8ucGxheVNmeD8uKHRoaXMuc2NlbmU/LnNmeD8ucmVjZWl2ZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0p1bXBpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZT8ucGxheVNmeD8uKHRoaXMuc2NlbmU/LnNmeD8uc3Bpa2UpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vIHNlIGNhbGN1bGEgdmVsb2NpZGFkIGRlIGxhIHBlbG90YSBzZWfDum4gbGEgZGlyZWNjacOzbiBkZWwganVnYWRvciB5IHNpIGVzdMOhIHNhbHRhbmRvL3JlY2liaWVuZG9cclxuICAgICAgICBsZXQgdmVsb2NpdHlYLCB2ZWxvY2l0eVk7XHJcblxyXG4gICAgICAgIGlmIChpc1JlY2VpdmluZykge1xyXG4gICAgICAgICAgICAvLyByZWNlcGNpw7NuOiBwYXLDoWJvbGEgbGFyZ2EgeSBhbmNoYSAodHJheWVjdG9yaWEgZGVmZW5zaXZhKVxyXG4gICAgICAgICAgICAvLyBtZW5vciB2ZWxvY2lkYWQgaG9yaXpvbnRhbCwgbWF5b3IgdmVsb2NpZGFkIHZlcnRpY2FsIHBhcmEgZWwgYXJjb1xyXG4gICAgICAgICAgICBjb25zdCBiYXNlU3BlZWRYID0gMTgwO1xyXG4gICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbFN0cmVuZ3RoID0gLTMxMDsgLy8gY29tcG9uZW50ZSB2ZXJ0aWNhbCBtYXlvciBwYXJhIGVsIGFyY29cclxuICAgICAgICAgICAgY29uc3QgcmFuZG9tRmFjdG9yWCA9IHRoaXMuX2dldFJhbmRvbUZhY3RvcigpO1xyXG4gICAgICAgICAgICBjb25zdCByYW5kb21GYWN0b3JZID0gdGhpcy5fZ2V0UmFuZG9tRmFjdG9yKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAocGxheWVyRmFjaW5nRGlyZWN0aW9uID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5WCA9IC1iYXNlU3BlZWRYICogcmFuZG9tRmFjdG9yWDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5WCA9IGJhc2VTcGVlZFggKiByYW5kb21GYWN0b3JYO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZlbG9jaXR5WSA9IHZlcnRpY2FsU3RyZW5ndGggKiByYW5kb21GYWN0b3JZO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNKdW1waW5nKSB7XHJcbiAgICAgICAgICAgIC8vIHNhbHRvL2F0YXF1ZTogaG9yaXpvbnRhbCBmdWVydGUsIHZlcnRpY2FsIGTDqWJpbCAocmVtYXRlL3NtYXNoKVxyXG4gICAgICAgICAgICAvLyBhbHRhIHZlbG9jaWRhZCBob3Jpem9udGFsLCBiYWphIHZlbG9jaWRhZCB2ZXJ0aWNhbCBwYXJhIHRyYXllY3RvcmlhIHBsYW5hXHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2VTcGVlZFggPSAyMjA7XHJcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsU3RyZW5ndGggPSAtMTQwOyAvLyBjb21wb25lbnRlIHZlcnRpY2FsIGJham8gcGFyYSBhdGFxdWUgcGxhbm9cclxuICAgICAgICAgICAgY29uc3QgcmFuZG9tRmFjdG9yWCA9IHRoaXMuX2dldFJhbmRvbUZhY3RvcigpO1xyXG4gICAgICAgICAgICBjb25zdCByYW5kb21GYWN0b3JZID0gdGhpcy5fZ2V0UmFuZG9tRmFjdG9yKCk7XHJcblxyXG4gICAgICAgICAgICBpZiAocGxheWVyRmFjaW5nRGlyZWN0aW9uID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5WCA9IC1iYXNlU3BlZWRYICogcmFuZG9tRmFjdG9yWDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5WCA9IGJhc2VTcGVlZFggKiByYW5kb21GYWN0b3JYO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZlbG9jaXR5WSA9IHZlcnRpY2FsU3RyZW5ndGggKiByYW5kb21GYWN0b3JZO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGdvbHBlIHJlZ3VsYXIgZGVzZGUgZWwgc3VlbG9cclxuICAgICAgICAgICAgY29uc3QgYmFzZVNwZWVkWCA9IDE4MDtcclxuXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXJGYWNpbmdEaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlYID0gLWJhc2VTcGVlZFg7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSBiYXNlU3BlZWRYO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZlbG9jaXR5WSA9IC0xMDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eSh2ZWxvY2l0eVgsIHZlbG9jaXR5WSk7XHJcblxyXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YXIgZWwgbGFkbyBkZSBsYSBjYW5jaGEgc2Vnw7puIGxhIGRpcmVjY2nDs24gZGUgbGEgdmVsb2NpZGFkXHJcbiAgICAgICAgaWYgKHZlbG9jaXR5WCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAncmlnaHQnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodmVsb2NpdHlYIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvdXJ0U2lkZSA9ICdsZWZ0JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2UgbGxhbWEgY3VhbmRvIGxhIHBlbG90YSBjcnV6YSBsYSByZWRcclxuICAgIGNyb3NzTmV0KCkge1xyXG4gICAgICAgIC8vIHNlIHJlaW5pY2lhIGVsIGNvbnRhZG9yIGRlIHRvcXVlcyBwYXJhIGVsIG51ZXZvIGxhZG8gZGUgY2FuY2hhXHJcbiAgICAgICAgdGhpcy50b3VjaENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLmxhc3RUb3VjaGVkQnkgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBzZSBjYW1iaWEgZGUgbGFkbyBkZSBjYW5jaGFcclxuICAgICAgICB0aGlzLmNvdXJ0U2lkZSA9IHRoaXMuY291cnRTaWRlID09PSAnbGVmdCcgPyAncmlnaHQnIDogJ2xlZnQnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlIGxsYW1hIGN1YW5kbyBsYSBwZWxvdGEgdG9jYSBlbCBzdWVsb1xyXG4gICAgb25Hcm91bmRlZCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBiYWxsT25MZWZ0ID0gdGhpcy5zcHJpdGUueCA8IHRoaXMubmV0WDtcclxuICAgICAgICBjb25zdCBiYWxsT25SaWdodCA9IHRoaXMuc3ByaXRlLnggPiB0aGlzLm5ldFg7XHJcblxyXG4gICAgICAgIC8vIGRldGVybWluYXIgcXVpw6luIGFub3RhXHJcbiAgICAgICAgaWYgKGJhbGxPbkxlZnQpIHtcclxuICAgICAgICAgICAgdGhpcy5vblJhbGx5RW5kKCdwbGF5ZXIyJyk7IC8vIHBsYXllcjIgYW5vdGFcclxuICAgICAgICAgICAgdGhpcy5yZXNldFJhbGx5KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChiYWxsT25SaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uUmFsbHlFbmQoJ3BsYXllcjEnKTsgLy8gcGxheWVyMSBhbm90YVxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0UmFsbHkoJ3BsYXllcjEnKTtcclxuICAgICAgICB9XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIC8vIFNlIGxsYW1hIGN1YW5kbyBvY3VycmUgdW5hIGZhbHRhIChkZW1hc2lhZG9zIHRvcXVlcywgcGVsb3RhIGZ1ZXJhIGRlIGzDrW1pdGVzLCBldGMuKVxyXG4gICAgb25GYWx0YShmYWx0YVR5cGUsIGZhbHRpbmdQbGF5ZXIpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBzZSBkZXRlcm1pbmFyIGVsIGp1Z2Fkb3IgcXVlIGFub3RhIChvcHVlc3RvIGFsIHF1ZSBjb21ldGnDsyBmYWx0YSlcclxuICAgICAgICBjb25zdCBzY29yaW5nUGxheWVySWQgPSBmYWx0aW5nUGxheWVyLmlkID09PSAncGxheWVyMScgPyAncGxheWVyMicgOiAncGxheWVyMSc7XHJcblxyXG4gICAgICAgIHRoaXMub25SYWxseUVuZChzY29yaW5nUGxheWVySWQpO1xyXG4gICAgICAgIHRoaXMucmVzZXRSYWxseShzY29yaW5nUGxheWVySWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlIGxsYW1hIGN1YW5kbyBmaW5hbGl6YSB1biByYWxseSAoYWxndWllbiBhbm90YSlcclxuICAgIG9uUmFsbHlFbmQoc2NvcmluZ1BsYXllcklkKSB7XHJcbiAgICAgICAgdGhpcy5pc0JhbGxMaXZlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHNlIGxhbnphIHVuIGV2ZW50byBwYXJhIHF1ZSBHYW1lX1NjZW5lIG1hbmVqZSBsYSBwdW50dWFjacOzblxyXG4gICAgICAgIHRoaXMuc2NlbmUuZXZlbnRzLmVtaXQoJ3JhbGx5Q29uY2x1ZGVkJywge1xyXG4gICAgICAgICAgICBzY29yaW5nUGxheWVySWQ6IHNjb3JpbmdQbGF5ZXJJZCxcclxuICAgICAgICAgICAgdG91Y2hDb3VudDogdGhpcy50b3VjaENvdW50LFxyXG4gICAgICAgICAgICBsYXN0VG91Y2hlZEJ5OiB0aGlzLmxhc3RUb3VjaGVkQnlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFbXB1am9uIHN1dGlsIGFsIHNhcXVlIHBhcmEgZXZpdGFyIHF1ZSBjYWlnYSBzb2JyZSBsYSByZWRcclxuICAgIF9nZXRTdWJ0bGVOdWRnZShzcGF3blgsIHNpZGVQYWRkaW5nLCB3b3JsZFdpZHRoKSB7XHJcbiAgICAgICAgY29uc3Qgc2lnbiA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyAtMSA6IDE7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gc2lnbiAqIDEyO1xyXG4gICAgICAgIGNvbnN0IGNsYW1wZWRYID0gTWF0aC5tYXgoc2lkZVBhZGRpbmcsIE1hdGgubWluKHdvcmxkV2lkdGggLSBzaWRlUGFkZGluZywgc3Bhd25YICsgb2Zmc2V0KSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IHNwYXduWDogY2xhbXBlZFgsIHZlbG9jaXR5WDogb2Zmc2V0IH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29sb2NhIGxhIHBlbG90YSBwYXJhIGVsIHNhcXVlIHNpbiByZWluaWNpYXIgZWwgcmFsbHlcclxuICAgIHNldFNlcnZlUG9zaXRpb24oc2NvcmluZ1BsYXllcikge1xyXG4gICAgICAgIGNvbnN0IHNwYXduWSA9IDEwMDtcclxuICAgICAgICBjb25zdCBzaWRlUGFkZGluZyA9IDYwO1xyXG4gICAgICAgIGNvbnN0IHdvcmxkV2lkdGggPSB0aGlzLnNjZW5lLndvcmxkV2lkdGggPz8gdGhpcy5zY2VuZS5zY2FsZT8ud2lkdGggPz8gdGhpcy5uZXRYICogMjtcclxuICAgICAgICBjb25zdCBjbGFtcCA9ICh2YWx1ZSwgbWluLCBtYXgpID0+IE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB2YWx1ZSkpO1xyXG5cclxuICAgICAgICBsZXQgc3Bhd25YID0gdGhpcy5uZXRYO1xyXG4gICAgICAgIGxldCBudWRnZVZlbG9jaXR5WCA9IDA7XHJcblxyXG4gICAgICAgIGNvbnN0IGhhc1Njb3JpbmdQbGF5ZXIgPSBzY29yaW5nUGxheWVyID09PSAncGxheWVyMScgfHwgc2NvcmluZ1BsYXllciA9PT0gJ3BsYXllcjInO1xyXG5cclxuICAgICAgICBpZiAoaGFzU2NvcmluZ1BsYXllcikge1xyXG4gICAgICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLnNjZW5lLnBsYXllcnM/LmdldCA/IHRoaXMuc2NlbmUucGxheWVycy5nZXQoc2NvcmluZ1BsYXllcikgOiBudWxsO1xyXG4gICAgICAgICAgICBpZiAocGxheWVyPy5zcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzY29yaW5nUGxheWVyID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgICAgICAgICBzcGF3blggPSBjbGFtcChwbGF5ZXIuc3ByaXRlLngsIHNpZGVQYWRkaW5nLCB0aGlzLm5ldFggLSBzaWRlUGFkZGluZyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwYXduWCA9IGNsYW1wKHBsYXllci5zcHJpdGUueCwgdGhpcy5uZXRYICsgc2lkZVBhZGRpbmcsIHdvcmxkV2lkdGggLSBzaWRlUGFkZGluZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzcGF3blggPSBzY29yaW5nUGxheWVyID09PSAncGxheWVyMScgPyB0aGlzLm5ldFggLSAxMDAgOiB0aGlzLm5ldFggKyAxMDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG51ZGdlID0gdGhpcy5fZ2V0U3VidGxlTnVkZ2Uoc3Bhd25YLCBzaWRlUGFkZGluZywgd29ybGRXaWR0aCk7XHJcbiAgICAgICAgICAgIHNwYXduWCA9IG51ZGdlLnNwYXduWDtcclxuICAgICAgICAgICAgbnVkZ2VWZWxvY2l0eVggPSBudWRnZS52ZWxvY2l0eVg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRQb3NpdGlvbihzcGF3blgsIHNwYXduWSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHkobnVkZ2VWZWxvY2l0eVgsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlaW5pY2lhIGVsIGVzdGFkbyBkZWwgcmFsbHkgeSByZXBvc2ljaW9uYSBsYSBwZWxvdGEgcGFyYSBlbCBzYXF1ZVxyXG4gICAgcmVzZXRSYWxseShzY29yaW5nUGxheWVyKSB7XHJcbiAgICAgICAgdGhpcy5pc0JhbGxMaXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxhc3RUb3VjaGVkQnkgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudG91Y2hDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5zZXRTZXJ2ZVBvc2l0aW9uKHNjb3JpbmdQbGF5ZXIpO1xyXG5cclxuICAgICAgICAvLyBsaW1waWFyIGluZm8gZGUgw7psdGltbyBnb2xwZVxyXG4gICAgICAgIHRoaXMubGFzdEhpdFRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMubGFzdEhpdFBsYXllcklkID0gbnVsbDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gQWN0dWFsaXphIGVsIGVzdGFkbyBkZSBsYSBwZWxvdGEgY2FkYSBmcmFtZSAoc2UgcmFzdHJlYSBlbCBsYWRvIGRlIGxhIGNhbmNoYSBzZWfDum4gbGEgcG9zaWNpw7NuKVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0JhbGxMaXZlKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YSBlbCBsYWRvIGRlIGNhbmNoYSBzZWfDum4gcG9zaWNpw7NuIGFjdHVhbFxyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS54IDwgdGhpcy5uZXRYIC0gMjApIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAnbGVmdCc7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNwcml0ZS54ID4gdGhpcy5uZXRYICsgMjApIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAncmlnaHQnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQ29tbWFuZFByb2Nlc3NvciB7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldFBsYXllcnMocGxheWVycykge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IHBsYXllcnM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0R2FtZVNjZW5lKGdhbWVTY2VuZSkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gZ2FtZVNjZW5lO1xyXG4gICAgfVxyXG5cclxuICAgIHByb2Nlc3MoY29tbWFuZCkge1xyXG4gICAgICAgIGNvbW1hbmQuZXhlY3V0ZSgpO1xyXG4gICAgICAgIC8vIFNlbnQgb3ZlciB0aGUgd2Vic29ja2V0XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQ29tbWFuZCB7XHJcbiAgICBcclxuICAgIGV4ZWN1dGUoKSB7fVxyXG5cclxuICAgIHNlcmlhbGl6ZSgpIHt9XHJcblxyXG4gICAgZ2V0UGxheWVyKCkge31cclxufSIsIi8vIENsYXNlIHF1ZSBzZSBlbmNhcmdhIGRlIGxhIGzDs2dpY2EgZGVsIG1vdmltaWVudG8gZGVsIHBlcnNvbmFqZVxyXG5cclxuaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gJy4vQ29tbWFuZC5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTW92ZVBsYXllckNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcclxuICAgIGNvbnN0cnVjdG9yKHBsYXllciwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjsgICAgICAgLy8gaW5zdGFuY2lhIGRlbCBwZXJzb25hamVcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjsgLy8gZGlyZWNjacOzbiBkZSBtb3ZtaWVudG9cclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCkge1xyXG4gICAgICAgICBzd2l0Y2ggKHRoaXMuZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIGNvcnJlciBoYWNpYSBsYSBpemRhXHJcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIubW92ZUxlZnQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBjb3JyZXIgaGFjaWEgbGEgZGNoYVxyXG4gICAgICAgICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5tb3ZlUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBzYWx0YXIvcmVtYXRhciBhIGxhIGl6ZGFcclxuICAgICAgICAgICAgY2FzZSAnanVtcExlZnQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuanVtcExlZnQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBzYWx0YXIvcmVtYXRhIGEgbGEgZGNoYVxyXG4gICAgICAgICAgICBjYXNlICdqdW1wUmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuanVtcFJpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gcmVjaWJpciBwb3IgbGEgaXpkYVxyXG4gICAgICAgICAgICBjYXNlICdyZWNlaXZlTGVmdCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5yZWNlaXZlTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIHJlY2liaXIgcG9yIGxhIGRjaGFcclxuICAgICAgICAgICAgY2FzZSAncmVjZWl2ZVJpZ2h0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnJlY2VpdmVSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIHBhcmFkbywgaWRsZSBpemRhXHJcbiAgICAgICAgICAgIGNhc2UgJ2lkbGVMZWZ0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmlkbGVMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gcGFyYWRvLCBpZGxlIGRjaGEgKHkgY2FzbyBwb3IgZGVmZWN0bylcclxuICAgICAgICAgICAgLy9jYXNlICdpZGxlUmlnaHQnOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuaWRsZVJpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcGFyYSBlbCBtb2RvIEVOIFJFRFxyXG4gICAgZ2V0UGxheWVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYXllci5pZDtcclxuICAgIH1cclxuXHJcbiAgICBzZXJpYWxpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogJ01vdmVQbGF5ZXJDb21tYW5kJyxcclxuICAgICAgICAgICAgcGxheWVySWQ6IHRoaXMucGxheWVyLmlkLFxyXG4gICAgICAgICAgICBkaXJlY3Rpb246IHRoaXMuZGlyZWN0aW9uXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4iLCIvLyBDbGFzZSBkZSBsYSBlc2NlbmEgZGUganVlZ29cclxuXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi4vRW50aXRpZXMvUGxheWVyLmpzJztcclxuaW1wb3J0IHsgUG93ZXJVcCB9IGZyb20gJy4uL0VudGl0aWVzL1Bvd2VyVXAuanMnO1xyXG5pbXBvcnQgeyBCYWxsIH0gZnJvbSAnLi4vRW50aXRpZXMvQmFsbC5qcyc7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9Db21tYW5kcy9Db21tYW5kUHJvY2Vzc29yLmpzJztcclxuaW1wb3J0IHsgTW92ZVBsYXllckNvbW1hbmQgfSBmcm9tICcuLi9Db21tYW5kcy9Nb3ZlUGxheWVyQ29tbWFuZC5qcyc7XHJcbmltcG9ydCB7IGdldFN0b3JlZFNmeFZvbHVtZSB9IGZyb20gJy4uL1VJL0F1ZGlvLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIHRpZW1wb1RvdGFsID0gNjA7IC8vIHBhcmEgMiBtaW4gcG9uZXIgMTIwIHNlZ3VuZG9zXHJcbiAgICB0aWVtcG9SZXN0YW50ZSA9IHRoaXMudGllbXBvVG90YWw7XHJcbiAgICB0aW1lclRleHQ7XHJcbiAgICB0aW1lckV2ZW50O1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0dhbWVfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gW107XHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuICAgICAgICB0aGlzLnBsYXllcjEgPSBkYXRhLnBsYXllcjE7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIyID0gZGF0YS5wbGF5ZXIyO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyA9IGRhdGEuc2VsZWN0ZWRTY2VuYXJpbztcclxuICAgICAgICB0aGlzLmJhbGwgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2NvcmVQMSA9IDA7XHJcbiAgICAgICAgdGhpcy5zY29yZVAyID0gMDtcclxuICAgICAgICB0aGlzLnNldHNQMSA9IDA7XHJcbiAgICAgICAgdGhpcy5zZXRzUDIgPSAwO1xyXG4gICAgICAgIHRoaXMubWF4U2V0cyA9IDM7IC8vIG1lam9yIGRlIDNcclxuICAgICAgICB0aGlzLmN1cnJlbnRTZXQgPSAxOyAvLyBzZXQgYWN0dWFsXHJcbiAgICAgICAgdGhpcy5pc0dvbGRlblBvaW50ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBjaGFyYWN0ZXJBXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckFfbW92ZScsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQS9BTklNQUNJT05FU19DT1JSRVJfUkVDSUJJUi5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDI5LCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckFfanVtcCcsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQS9BTklNQUNJT05fUkVNQVRFLnBuZycsXHJcbiAgICAgICAgICAgIHsgZnJhbWVXaWR0aDogMzIsIGZyYW1lSGVpZ2h0OiA0NCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICAvLyBjaGFyYWN0ZXJCXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckJfbW92ZScsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQi9BTklNQUNJT05FU19DT1JSRVJfUkVDSUJJUi5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDI5LCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckJfanVtcCcsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQi9BTklNQUNJT05fUkVNQVRFLnBuZycsXHJcbiAgICAgICAgICAgIHsgZnJhbWVXaWR0aDogMzIsIGZyYW1lSGVpZ2h0OiA0NCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICAvLyBjaGFyYWN0ZXJDXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckNfbW92ZScsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQy9BTklNQUNJT05FU19DT1JSRVJfUkVDSUJJUi5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDI5LCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckNfanVtcCcsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQy9BTklNQUNJT05fUkVNQVRFLnBuZycsXHJcbiAgICAgICAgICAgIHsgZnJhbWVXaWR0aDogMzIsIGZyYW1lSGVpZ2h0OiA0NCB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gRXNjZW5hcmlvc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnR3ltJywgJ0FTU0VUUy9GT05ET1MvR0lNTkFTSU8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQbGF5YScsICdBU1NFVFMvRk9ORE9TL1BMQVlBLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSmFyZGluJywgJ0FTU0VUUy9GT05ET1MvSkFSRElOLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBQb3dlclVwc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9yMicsICdBU1NFVFMvSVRFTVMvUE9XRVIgVVBTL01VTFRJUExJQ0FET1IgMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvcjMnLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9NVUxUSVBMSUNBRE9SIDMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYXJhbGl6YXInLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9QQVJBTElaQURPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncmFsZW50aXphcicsICdBU1NFVFMvSVRFTVMvUE9XRVIgVVBTL1JFTEVOVElaQVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd2ZWxvY2lkYWQnLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9WRUxPQ0lEQUQucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjb1Bvd2VyVXAnLCAnQVNTRVRTL0pVRUdPL0Jhc2VfcG93ZXJVcC5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gUGVsb3RhXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdiYWxsJywgJ0FTU0VUUy9JVEVNUy9QRUxPVEFTL1BfTk9STUFMLnBuZycpO1xyXG4gICAgICAgIC8vIFJlZFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncmVkJywgJ0FTU0VUUy9KVUVHTy9SRUQucG5nJyk7XHJcbiAgICAgICAgLy8gQ3JvbsOzbWV0cm9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3JlbG9qJywgJ0FTU0VUUy9KVUVHTy9USU1FUi5wbmcnKTtcclxuICAgICAgICAvLyBNYXJjb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWFyY29HZW5lcmFsJywgJ0FTU0VUUy9KVUVHTy9NQVJDQURPUl9TRVQucG5nJyk7ICAgICAgICBcclxuXHJcbiAgICAgICAgLy8gRWZlY3RvcyBkZSBzb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeF9zaWxiYXRvJywgJ0FTU0VUUy9TT05JRE8vU2lsYmF0b19pbmljaW9fcGFydGlkb18xcDRzLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4X3JlbWF0ZScsICdBU1NFVFMvU09OSURPL1RvcXVlX3BlbG90YV9yZW1hdGVfMDNzLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4X3JlY2VwY2lvbicsICdBU1NFVFMvU09OSURPL1RvcXVlX3BlbG90YV9yZWNlcGNpb24ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZnhfc2FsdG8nLCAnQVNTRVRTL1NPTklETy9Tb25pZG9TYWx0b18xcC5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeF9wdW50bycsICdBU1NFVFMvU09OSURPL1Nvbmlkb1B1bnRvLm1wMycpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gc2UgZ3VhcmRhbiBsYXMgZGltZW5zaW9uZXNcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgdGhpcy53b3JsZFdpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy53b3JsZEhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7XHJcblxyXG4gICAgICAgIC8vIHNlIGRlZmluZW4gbG9zIGVmZWN0b3MgZGUgc29uaWRvXHJcbiAgICAgICAgdGhpcy5zZnggPSB7XHJcbiAgICAgICAgICAgIHdoaXN0bGU6ICdzZnhfc2lsYmF0bycsXHJcbiAgICAgICAgICAgIHNwaWtlOiAnc2Z4X3JlbWF0ZScsXHJcbiAgICAgICAgICAgIHJlY2VpdmU6ICdzZnhfcmVjZXBjaW9uJyxcclxuICAgICAgICAgICAganVtcDogJ3NmeF9zYWx0bycsXHJcbiAgICAgICAgICAgIHBvaW50OiAnc2Z4X3B1bnRvJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gc2UgcmVwcm9kdWNlIGVsIHNpbGJhdG8gZGUgaW5pY2lvIGRlIHBhcnRpZG9cclxuICAgICAgICB0aGlzLnBsYXlTZngodGhpcy5zZngud2hpc3RsZSk7XHJcblxyXG4gICAgICAgIC8vIENyb27Ds21ldHJvXHJcbiAgICAgICAgdGhpcy50aW1lclRleHQgPSB0aGlzLmFkZC50ZXh0KHRoaXMuc2NhbGUud2lkdGggLyAyLCAzMCwgXCJcIiwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUsIDApXHJcbiAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgIC5zZXREZXB0aCg5OTk5KTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lckljb24gPSB0aGlzLmFkZC5pbWFnZSh0aGlzLnNjYWxlLndpZHRoIC8gMiwgNDUsICdyZWxvaicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMilcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoOTAwMCk7IC8vIGRlYmFqbyBkZWwgdGV4dG9cclxuXHJcbiAgICAgICAgLy8gbWFyY28gZGUgc2V0XHJcbiAgICAgICAgdGhpcy5zZXRGcmFtZSA9IHRoaXMuYWRkLmltYWdlKHRoaXMuc2NhbGUud2lkdGggLyAyLCAxMjAsICdtYXJjb0dlbmVyYWwnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCg5OTk4KTtcclxuXHJcbiAgICAgICAgLy8gdGV4dG8gZGVsIHNldCBhY3R1YWxcclxuICAgICAgICB0aGlzLnNldFRleHQgPSB0aGlzLmFkZC50ZXh0KHRoaXMuc2NhbGUud2lkdGggLyAyLCAxMjAsIGBTRVQgJHt0aGlzLmN1cnJlbnRTZXR9YCwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldERlcHRoKDk5OTkpO1xyXG5cclxuICAgICAgICBjb25zdCBzZXRGcmFtZVdpZHRoID0gdGhpcy5zZXRGcmFtZS5kaXNwbGF5V2lkdGg7XHJcbiAgICAgICAgY29uc3Qgc2V0RnJhbWVIZWlnaHQgPSB0aGlzLnNldEZyYW1lLmRpc3BsYXlIZWlnaHQ7XHJcbiAgICAgICAgY29uc3Qgc2V0U2NvcmVZID0gdGhpcy5zZXRGcmFtZS55ICsgTWF0aC5yb3VuZChzZXRGcmFtZUhlaWdodCAvIDIpICsgMTM7XHJcbiAgICAgICAgY29uc3Qgc2V0U2NvcmVPZmZzZXRYID0gTWF0aC5yb3VuZChzZXRGcmFtZVdpZHRoICogMC4yMik7XHJcbiAgICAgICAgY29uc3Qgc2V0U2NvcmVGcmFtZVNjYWxlWCA9IDAuNDtcclxuICAgICAgICBjb25zdCBzZXRTY29yZUZyYW1lU2NhbGVZID0gMC4zODtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTY29yZUZyYW1lTGVmdCA9IHRoaXMuYWRkLmltYWdlKHRoaXMuc2NhbGUud2lkdGggLyAyIC0gc2V0U2NvcmVPZmZzZXRYLCBzZXRTY29yZVksICdtYXJjb0dlbmVyYWwnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKHNldFNjb3JlRnJhbWVTY2FsZVgsIHNldFNjb3JlRnJhbWVTY2FsZVkpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCg5OTk4KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTY29yZUZyYW1lUmlnaHQgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLnNjYWxlLndpZHRoIC8gMiArIHNldFNjb3JlT2Zmc2V0WCwgc2V0U2NvcmVZLCAnbWFyY29HZW5lcmFsJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZShzZXRTY29yZUZyYW1lU2NhbGVYLCBzZXRTY29yZUZyYW1lU2NhbGVZKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoOTk5OCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U2NvcmVMZWZ0ID0gdGhpcy5hZGQudGV4dCh0aGlzLnNjYWxlLndpZHRoIC8gMiAtIHNldFNjb3JlT2Zmc2V0WCwgc2V0U2NvcmVZLCBgJHt0aGlzLnNldHNQMX1gLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0RGVwdGgoOTk5OSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0U2NvcmVSaWdodCA9IHRoaXMuYWRkLnRleHQodGhpcy5zY2FsZS53aWR0aCAvIDIgKyBzZXRTY29yZU9mZnNldFgsIHNldFNjb3JlWSwgYCR7dGhpcy5zZXRzUDJ9YCwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldERlcHRoKDk5OTkpO1xyXG5cclxuICAgICAgICAvLyB0ZXh0byBwYXJhIG1vc3RyYXIgZWwgZ2FuYWRvciBkZWwgc2V0XHJcbiAgICAgICAgdGhpcy5zZXRXaW5uZXJUZXh0ID0gdGhpcy5hZGQudGV4dCh0aGlzLnNjYWxlLndpZHRoIC8gMiwgMjA1LCAnJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogM1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldERlcHRoKDk5OTkpXHJcbiAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgICAgICAvLyBpbmljaWFyIGVsIGNvbnRhZG9yIHBhcmEgZWwgY3JvbsOzbWV0cm9cclxuICAgICAgICB0aGlzLnRpbWVyRXZlbnQgPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogMTAwMCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMudXBkYXRlVGltZXIsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrU2NvcGU6IHRoaXMsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lcigpO1xyXG5cclxuICAgICAgICAvLyBGT05ETyBERUwgRVNDRU5BUklPIFNFTEVDQ0lPTkFET1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiwgdGhpcy5zZWxlY3RlZFNjZW5hcmlvKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSk7IFxyXG5cclxuICAgICAgICAvLyBSZWRcclxuICAgICAgICBjb25zdCByZWQgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSh3aWR0aCAvIDIsIGhlaWdodCAtIDE2MCwgJ3JlZCcpLnNldFNjYWxlKDAuNik7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlZFRleHR1cmUgPSB0aGlzLnRleHR1cmVzLmdldCgncmVkJykuZ2V0U291cmNlSW1hZ2UoKTtcclxuICAgICAgICByZWQuYm9keS5zZXRTaXplKHJlZFRleHR1cmUud2lkdGggKiAwLjUsIHJlZFRleHR1cmUuaGVpZ2h0ICogMC41KTsgLy8gbXVsdGlwbGljYXIgcG9yIGVsIHNjYWxlXHJcbiAgICAgICAgcmVkLmJvZHkuc2V0T2Zmc2V0KC1yZWQuYm9keS53aWR0aC8yLCAtcmVkLmJvZHkuaGVpZ2h0LzIpO1xyXG4gICAgICAgIHJlZC5ib2R5LnVwZGF0ZUZyb21HYW1lT2JqZWN0KCk7XHJcbiAgICAgICAgdGhpcy5yZWQgPSByZWQ7XHJcblxyXG4gICAgICAgIHRoaXMuX2NyZWF0ZUFuaW1hdGlvbnMoKTtcclxuXHJcbiAgICAgICAgLy9QVU5UVUFDSU9OIERFIExPUyBKVUdBRE9SRVNcclxuICAgICAgICAvLyBNYXJjb3MgZGUgcHVudHVhY2nDs25cclxuICAgICAgICB0aGlzLnBvaW50c0xlZnQgPSAwO1xyXG4gICAgICAgIHRoaXMucG9pbnRzUmlnaHQgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLnNjb3JlRnJhbWVMZWZ0ID0gdGhpcy5hZGQuaW1hZ2UoMjAwLCA1MCwgJ21hcmNvR2VuZXJhbCcpLnNldFNjYWxlKDAuOCwgMC41NSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy5zY29yZUZyYW1lUmlnaHQgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLndvcmxkV2lkdGggLSAyMDAsIDUwLCAnbWFyY29HZW5lcmFsJykuc2V0U2NhbGUoMC44LCAwLjU1KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5zY29yZUxlZnQgPSB0aGlzLmFkZC50ZXh0KDIwMCwgNDUsICcwJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoOTk5OSk7XHJcblxyXG4gICAgICAgIHRoaXMucmlnaHRTY29yZSA9IHRoaXMuYWRkLnRleHQodGhpcy53b3JsZFdpZHRoIC0gMjAwLCA0NSwgJzAnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCg5OTk5KTtcclxuXHJcbiAgICAgICAgLy8gc3VlbG8gZGUgcHJ1ZWJhOiBjcmVhciB1biBjdWVycG8gZXN0w6F0aWNvIHJlY3Rhbmd1bGFyIGludmlzaWJsZVxyXG4gICAgICAgIC8vIENvbmZpZ3VyYWJsZTogYWx0dXJhIHkgZGVzcGxhemFtaWVudG8gZGVzZGUgZWwgZm9uZG8gKGBncm91bmRPZmZzZXRgKVxyXG4gICAgICAgIGNvbnN0IGdyb3VuZEhlaWdodCA9IDIwO1xyXG4gICAgICAgIGNvbnN0IGdyb3VuZE9mZnNldCA9IDkwOyAvLyBlbGV2YXIgZWwgc3VlbG8gMTAwcHggZGVzZGUgZWwgZm9uZG9cclxuICAgICAgICB0aGlzLmdyb3VuZEhlaWdodCA9IGdyb3VuZEhlaWdodDtcclxuICAgICAgICB0aGlzLmdyb3VuZFkgPSB0aGlzLndvcmxkSGVpZ2h0IC0gZ3JvdW5kT2Zmc2V0O1xyXG5cclxuICAgICAgICBjb25zdCBncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoXHJcbiAgICAgICAgICAgIHRoaXMud29ybGRXaWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kWSxcclxuICAgICAgICAgICAgdGhpcy53b3JsZFdpZHRoLFxyXG4gICAgICAgICAgICBncm91bmRIZWlnaHRcclxuICAgICAgICApLnNldE9yaWdpbigwLjUsIDApLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIC8vIGHDsWFkaXIgdW4gY3VlcnBvIGbDrXNpY28gZXN0w6F0aWNvIGFsIHJlY3TDoW5ndWxvXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyhncm91bmQsIHRydWUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHByaW1lcm8gc2UgY3JlYW4gbG9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMuX2NyZWF0ZVBsYXllcnMoKTtcclxuICAgICAgICAvLyBkZXNwdcOpcywgc2UgbW9udGFuIGxhcyBjb2xpc2lvbmVzIGNvbiBlbCBzdWVsbywgcmVkLCBldGMuXHJcbiAgICAgICAgLy8gbW9udGFyIGNvbGlzaW9uZXMgZsOtc2ljYXMgZW50cmUganVnYWRvcmVzIHkgc3VlbG8gcGFyYSBxdWUgYm9keS5ibG9ja2VkLmRvd24gZnVuY2lvbmVcclxuICAgICAgICB0aGlzLl9zZXR1cFBoeXNpY3NXb3JsZChncm91bmQpO1xyXG4gICAgICAgIC8vIHBvciDDumx0aW1vLCBzZSBhc2lnbmFuIGxhcyB0ZWNsYXNcclxuICAgICAgICB0aGlzLl9zZXR1cElucHV0TWFwcGluZ3MoKTtcclxuXHJcbiAgICAgICAgLy8gcG93ZXJ1cHNcclxuICAgICAgICB0aGlzLnBvd2VyVXBzID0gW107XHJcbiAgICAgICAgdGhpcy5tYXhQb3dlclVwcyA9IDI7XHJcbiAgICAgICAgLy8gbGEgYXBhcmljacOzbiBkZSBwb3dlci11cHMgc29uIG1lbm9zIGZyZWN1ZW50ZXMgeSBjb24gcGVzb3MsIHBhcmEgcXVlIHVub3Mgc2FsZ2FuXHJcbiAgICAgICAgLy8gbcOhcyBxdWUgb3Ryb3MgKHBvciBlamVtcGxvLCBzZSByZWR1Y2UgbGEgYXBhcmljacOzbiBkZSBwYXJhbGl6YXIpXHJcbiAgICAgICAgdGhpcy5wb3dlclVwU3Bhd25Db25maWcgPSB7XHJcbiAgICAgICAgICAgIC8vIGVudHJlIDMuNSB5IDcgc2VndW5kb3NcclxuICAgICAgICAgICAgbWluRGVsYXlNczogMzUwMCxcclxuICAgICAgICAgICAgbWF4RGVsYXlNczogNzAwMCxcclxuICAgICAgICAgICAgd2VpZ2h0czoge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpZGFkOiAzLFxyXG4gICAgICAgICAgICAgICAgcmFsZW50aXphcjogMixcclxuICAgICAgICAgICAgICAgIHBhcmFsaXphcjogMSxcclxuICAgICAgICAgICAgICAgIHBvcjI6IDMsXHJcbiAgICAgICAgICAgICAgICBwb3IzOiAyXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvb2xkb3duTXM6IHtcclxuICAgICAgICAgICAgICAgIC8vIHBhcmEgZXZpdGFyIHF1ZSBzYWxnYW4gbXV5IHNlZ3VpZG9zIHkgdW4ganVnYWRvciBubyBwdWVkYSBtb3ZlcnNlXHJcbiAgICAgICAgICAgICAgICAvLyBkdXJhbnRlIG11Y2hvIHRpZW1wb1xyXG4gICAgICAgICAgICAgICAgcGFyYWxpemFyOiAxMDAwMFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnBvd2VyVXBMYXN0U3Bhd25BdCA9IHt9O1xyXG5cclxuICAgICAgICB0aGlzLmludmVudG9yeVVJID0ge1xyXG4gICAgICAgICAgICBwbGF5ZXIxOiBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSg1MCwgNTAsICdwb3IyJykuc2V0U2NhbGUoMS40KS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCgxKSxcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKDExMCwgNTAsICdwb3IyJykuc2V0U2NhbGUoMS40KS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCgxKVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBwbGF5ZXIyOiBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSh0aGlzLndvcmxkV2lkdGggLSAxMTAsIDUwLCAncG9yMicpLnNldFNjYWxlKDEuNCkuc2V0VmlzaWJsZShmYWxzZSkuc2V0RGVwdGgoMSksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSh0aGlzLndvcmxkV2lkdGggLSA1MCwgNTAsICdwb3IyJykuc2V0U2NhbGUoMS40KS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCgxKVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZVBvd2VyVXBTcGF3bigpO1xyXG5cclxuICAgICAgICAvLyBNYXJjb3MgZGVsIGludmVudGFyaW9cclxuICAgICAgICB0aGlzLmludmVudG9yeUZyYW1lcyA9IHtcclxuICAgICAgICAgICAgcGxheWVyMTogW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNTAsIDUwLCAnbWFyY29Qb3dlclVwJykuc2V0U2NhbGUoMSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMCksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSgxMTAsIDUwLCAnbWFyY29Qb3dlclVwJykuc2V0U2NhbGUoMSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMClcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgcGxheWVyMjogW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UodGhpcy53b3JsZFdpZHRoIC0gMTEwLCA1MCwgJ21hcmNvUG93ZXJVcCcpLnNldFNjYWxlKDEpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDApLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UodGhpcy53b3JsZFdpZHRoIC0gNTAsIDUwLCAnbWFyY29Qb3dlclVwJykuc2V0U2NhbGUoMSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMClcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGluaWNpYWxpemFjacOzbiBkZSBsYSBwZWxvdGFcclxuICAgICAgICB0aGlzLl9jcmVhdGVCYWxsKCk7XHJcbiAgICAgICAgLy8gZW1wdWrDs24gc3V0w61sIHBhcmEgZXZpdGFyIHF1ZSBzZSBxdWVkZSBzb2JyZSBsYSByZWQgYWwgaW5pY2lvXHJcbiAgICAgICAgdGhpcy5iYWxsLnNldFNlcnZlUG9zaXRpb24oKTtcclxuICAgICAgICAvLyBjb2xsaWRlcnMgZGUgbGEgcGVsb3RhXHJcbiAgICAgICAgdGhpcy5fc2V0dXBCYWxsQ29sbGlzaW9ucygpO1xyXG4gICAgICAgIC8vIGV2ZW50b3MgZGUgbGEgcGVsb3RhXHJcbiAgICAgICAgdGhpcy5fc2V0dXBCYWxsRXZlbnRzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oXCJrZXlkb3duLUVTQ1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHNlIGRldGllbmUgZWwgZ2FtZSBsb29wXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lckV2ZW50LnBhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUubGF1bmNoKFwiUGF1c2VfU2NlbmVcIik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGFjY2VzbyBkaXJlY3RvIGEgbGEgZXNjZW5hIGRlIGZpbiBkZSBwYXJ0aWRhXHJcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5vbihcImtleWRvd24tRlwiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHdpbm5lciA9IHRoaXMuc2NvcmVQMSA+PSB0aGlzLnNjb3JlUDIgPyBcInBsYXllcjFcIiA6IFwicGxheWVyMlwiO1xyXG4gICAgICAgICAgICB0aGlzLl9lbmRHYW1lKHdpbm5lcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3Jlc3VtZScsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy50aW1lckV2ZW50LnBhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEdlbmVyYSB1biBudWV2byBwb3dlci11cCBlbiB1bmEgcG9zaWNpw7NuIGFsZWF0b3JpYSBjYWRhIGNpZXJ0byB0aWVtcG9cclxuICAgIHNjaGVkdWxlUG93ZXJVcFNwYXduKCkge1xyXG4gICAgICAgIGNvbnN0IHsgbWluRGVsYXlNcywgbWF4RGVsYXlNcyB9ID0gdGhpcy5wb3dlclVwU3Bhd25Db25maWc7XHJcbiAgICAgICAgY29uc3QgZGVsYXkgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKG1pbkRlbGF5TXMsIG1heERlbGF5TXMpO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoZGVsYXksICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucG93ZXJVcHMubGVuZ3RoIDwgdGhpcy5tYXhQb3dlclVwcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeCA9IFBoYXNlci5NYXRoLkJldHdlZW4oODAsIHRoaXMud29ybGRXaWR0aCAtIDgwKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHkgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKHRoaXMud29ybGRIZWlnaHQgLSAyMjAsIHRoaXMud29ybGRIZWlnaHQgLSAxMjApO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLl9nZXRXZWlnaHRlZFBvd2VyVXBUeXBlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvd2VyVXAgPSBuZXcgUG93ZXJVcCh0aGlzLCB4LCB5LCB0eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvd2VyVXBzLnB1c2gocG93ZXJVcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3dlclVwTGFzdFNwYXduQXRbdHlwZV0gPSB0aGlzLnRpbWUubm93O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlUG93ZXJVcFNwYXduKCk7IC8vIHJlY3Vyc2l2b1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9idGllbmUgdW4gdGlwbyBkZSBwb3dlci11cCBiYXNhZG8gZW4gbG9zIHBlc29zIGNvbmZpZ3VyYWRvcyBhbnRlcmlvcm1lbnRlXHJcbiAgICBfZ2V0V2VpZ2h0ZWRQb3dlclVwVHlwZSgpIHtcclxuICAgICAgICBjb25zdCB7IHdlaWdodHMsIGNvb2xkb3duTXMgfSA9IHRoaXMucG93ZXJVcFNwYXduQ29uZmlnO1xyXG5cclxuICAgICAgICBjb25zdCBub3cgPSB0aGlzLnRpbWUubm93O1xyXG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyh3ZWlnaHRzKS5maWx0ZXIoKFt0eXBlLCB3ZWlnaHRdKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHNlIGZpbHRyYW4gbG9zIHRpcG9zIHF1ZSBubyBzZSBwdWVkZW4gdXNhclxyXG4gICAgICAgICAgICAvLyBzaSBlbCBwZXNvIGVzIDBcclxuICAgICAgICAgICAgaWYgKHdlaWdodCA8PSAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIHNpIHRvZGF2w61hIGVzdMOhIGVuIGNvb2xkb3duIGRlc2RlIGxhIMO6bHRpbWEgYXBhcmljacOzblxyXG4gICAgICAgICAgICBjb25zdCBjb29sZG93biA9IGNvb2xkb3duTXM/Llt0eXBlXTtcclxuICAgICAgICAgICAgaWYgKCFjb29sZG93bikgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzLnBvd2VyVXBMYXN0U3Bhd25BdD8uW3R5cGVdIHx8IDA7XHJcbiAgICAgICAgICAgIHJldHVybiBub3cgLSBsYXN0ID49IGNvb2xkb3duO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzaSBubyBxdWVkYSBuaW5nw7puIHRpcG8gZGlzcG9uaWJsZSwgc2UgZGV2dWVsdmUgbnVsbFxyXG4gICAgICAgIGlmICghZW50cmllcy5sZW5ndGgpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICAvLyBzZSBzdW1hbiB0b2RvcyBsb3MgcGVzb3MsIHNlIGVsaWdlIHVuIG7Dum1lcm8gYWxlYXRvcmlvIGVudHJlIDEgeSBlc2Egc3VtYVxyXG4gICAgICAgIGNvbnN0IHRvdGFsID0gZW50cmllcy5yZWR1Y2UoKHN1bSwgWywgd2VpZ2h0XSkgPT4gc3VtICsgd2VpZ2h0LCAwKTtcclxuICAgICAgICBsZXQgcm9sbCA9IFBoYXNlci5NYXRoLkJldHdlZW4oMSwgdG90YWwpO1xyXG4gICAgICAgIC8vIHNlIHZhbiByZXN0YW5kbyBwZXNvcyBoYXN0YSBxdWUgZWwgY29udGFkb3IgY2FlIGVuIHVuIHRpcG9cclxuICAgICAgICBmb3IgKGNvbnN0IFt0eXBlLCB3ZWlnaHRdIG9mIGVudHJpZXMpIHtcclxuICAgICAgICAgICAgcm9sbCAtPSB3ZWlnaHQ7XHJcbiAgICAgICAgICAgIC8vIHNlIGRldnVlbHZlIGVsIHRpcG9cclxuICAgICAgICAgICAgaWYgKHJvbGwgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tHYW1lX1NjZW5lXSBQb3dlci11cCBhbGVhdG9yaW86ICcsIHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNpIHBvciBhbGd1bmEgcmF6w7NuIG5vIGNhZSBlbiBuaW5ndW5vLCBzZSBkZXZ1ZWx2ZSBlbCDDumx0aW1vIHRpcG8gdsOhbGlkb1xyXG4gICAgICAgIHJldHVybiBlbnRyaWVzW2VudHJpZXMubGVuZ3RoIC0gMV1bMF07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVwcm9kdWNlIHVuIGVmZWN0byBkZSBzb25pZG9cclxuICAgIHBsYXlTZngoa2V5KSB7XHJcbiAgICAgICAgaWYgKCFrZXkpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5zb3VuZC5wbGF5KGtleSwgeyB2b2x1bWU6IGdldFN0b3JlZFNmeFZvbHVtZSgpIH0pO1xyXG4gICAgfSAgICBcclxuXHJcbiAgICAvLyBCdWNsZSBwcmluY2lwYWwgZGVsIGp1ZWdvXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgLy8gc2UgcHJvY2VzYW4gbG9zIGlucHV0cyBkZSBsb3MganVnYWRvcmVzXHJcbiAgICAgICAgdGhpcy5faGFuZGxlSW5wdXRGb3JBbGxQbGF5ZXJzKCk7XHJcbiAgICAgICAgLy8gc2UgYWN0dWFsaXphbiBsb3MgcG93ZXItdXBzXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHBsYXllci51cGRhdGVQb3dlclVwcygpKTtcclxuICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgZXN0YWRvIGRlIGxhIHBlbG90YVxyXG4gICAgICAgIGlmICh0aGlzLmJhbGwpIHtcclxuICAgICAgICAgICAgdGhpcy5iYWxsLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAvLyB2ZXJpZmljYXIgc2kgbGEgcGVsb3RhIGdvbHBlYSBlbCBzdWVsbyAoY29tcGFyYXIgY29uIGxhIHBvc2ljacOzbiBkZWwgc3VlbG8pXHJcbiAgICAgICAgICAgIC8vIGdyb3VuZFkgZXMgbGEgcGFydGUgc3VwZXJpb3IgZGVsIHN1ZWxvXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJhbGwuaXNCYWxsTGl2ZSAmJiB0aGlzLmJhbGwuc3ByaXRlLnkgPiB0aGlzLmdyb3VuZFkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5vbkdyb3VuZGVkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdmVyaWZpY2FyIHNpIGxhIHBlbG90YSBjcnV6YSBsYSByZWQgKHJlZCBlc3TDoSBlbiB4ID0gNDgwKVxyXG4gICAgICAgICAgICBpZiAodGhpcy5iYWxsLnNwcml0ZS54IDwgNDc1ICYmIHRoaXMuYmFsbC5jb3VydFNpZGUgPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5jcm9zc05ldCgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYmFsbC5zcHJpdGUueCA+IDQ4NSAmJiB0aGlzLmJhbGwuY291cnRTaWRlID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5jcm9zc05ldCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdHVhbGl6YSBlbCB0ZW1wb3JpemFkb3IgY2FkYSBzZWd1bmRvXHJcbiAgICB1cGRhdGVUaW1lcigpIHtcclxuICAgICAgICB0aGlzLnRpZW1wb1Jlc3RhbnRlLS07XHJcblxyXG4gICAgICAgIC8vIEZvcm1hdG9cclxuICAgICAgICBjb25zdCBtaW51dG9zID0gTWF0aC5mbG9vcih0aGlzLnRpZW1wb1Jlc3RhbnRlIC8gNjApO1xyXG4gICAgICAgIGNvbnN0IHNlZ3VuZG9zID0gdGhpcy50aWVtcG9SZXN0YW50ZSAlIDYwO1xyXG4gICAgICAgIGNvbnN0IGZvcm1hdG8gPSBgJHttaW51dG9zLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06JHtzZWd1bmRvcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lclRleHQuc2V0VGV4dChmb3JtYXRvKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudGllbXBvUmVzdGFudGUgPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQucGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJGSU4gREVMIFRJRU1QT1wiKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjb3JlUDEgPiB0aGlzLnNjb3JlUDIpIHRoaXMuX2VuZFNldChcInBsYXllcjFcIik7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc2NvcmVQMiA+IHRoaXMuc2NvcmVQMSkgdGhpcy5fZW5kU2V0KFwicGxheWVyMlwiKTtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVtcGF0ZSBlbiBlbCBzZXRcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzR29sZGVuUG9pbnQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0V2lubmVyVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dC5zZXRUZXh0KCdFTVBBVEU6IHB1bnRvIGRlIG9ybycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHVwZGF0ZVNldFNjb3JlVUkoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0U2NvcmVMZWZ0KSB0aGlzLnNldFNjb3JlTGVmdC5zZXRUZXh0KHRoaXMuc2V0c1AxLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIGlmICh0aGlzLnNldFNjb3JlUmlnaHQpIHRoaXMuc2V0U2NvcmVSaWdodC5zZXRUZXh0KHRoaXMuc2V0c1AyLnRvU3RyaW5nKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdHVhbGl6YSBsYSBVSSBkZWwgaW52ZW50YXJpbyBkZSBwb3dlci11cHMgZGUgdW4ganVnYWRvclxyXG4gICAgdXBkYXRlUGxheWVySW52ZW50b3J5VUkocGxheWVyKSB7XHJcbiAgICAgICAgY29uc3QgdWkgPSB0aGlzLmludmVudG9yeVVJW3BsYXllci5pZF07XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIucG93ZXJVcEludmVudG9yeVtpXSkge1xyXG4gICAgICAgICAgICAgICAgdWlbaV0uc2V0VGV4dHVyZShwbGF5ZXIucG93ZXJVcEludmVudG9yeVtpXSk7XHJcbiAgICAgICAgICAgICAgICB1aVtpXS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdWlbaV0uc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vLy8gTcOJVE9ET1MgQVVYSUxJQVJFUyAvLy8vXHJcbiAgICAvLyBDcmVhIGxhcyBhbmltYWNpb25lcyBkZSBsb3MgMyBwZXJzb25hamVzXHJcbiAgICBfY3JlYXRlQW5pbWF0aW9ucygpIHtcclxuICAgICAgICAvLy8vIENoYXJhY3RlckEgLy8vL1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfaWRsZVJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9tb3ZlJywgeyBzdGFydDogMCwgZW5kOiAxIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA1LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9pZGxlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfbW92ZScsIHsgc3RhcnQ6IDIwLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX3JlY2VpdmVSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfbW92ZScsIHsgc3RhcnQ6IDAsIGVuZDogMTAgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX3JlY2VpdmVMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9tb3ZlJywgeyBzdGFydDogMTEsIGVuZDogMjEgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDFcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfcnVuUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX21vdmUnLCB7IHN0YXJ0OiAyMiwgZW5kOiAzMiB9KSwgLy8gZmlsYSAyXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMjIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX3J1bkxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX21vdmUnLCB7IHN0YXJ0OiAzMywgZW5kOiA0MyB9KS5yZXZlcnNlKCksIC8vIGZpbGEgM1xyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDIyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfanVtcFJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9qdW1wJywgeyBzdGFydDogMCwgZW5kOiAxMiB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfanVtcExlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX2p1bXAnLCB7IHN0YXJ0OiAxMywgZW5kOiAyNSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMVxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLy8vLy8vL1xyXG5cclxuICAgICAgICAvLy8vIENoYXJhY3RlckIgLy8vL1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfaWRsZVJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9tb3ZlJywgeyBzdGFydDogMCwgZW5kOiAxIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA1LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9pZGxlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDIwLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pOyAgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9yZWNlaXZlUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX21vdmUnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDExLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9tb3ZlJywgeyBzdGFydDogMjIsIGVuZDogMzIgfSksIC8vIGZpbGEgMlxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDIyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9ydW5MZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9tb3ZlJywgeyBzdGFydDogMzMsIGVuZDogNDMgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDNcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfanVtcCcsIHsgc3RhcnQ6IDAsIGVuZDogMTIgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9qdW1wJywgeyBzdGFydDogMTMsIGVuZDogMjUgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDFcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8vLy8vLy9cclxuXHJcbiAgICAgICAgLy8vLyBDaGFyYWN0ZXJDIC8vLy9cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfbW92ZScsIHsgc3RhcnQ6IDAsIGVuZDogMSB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX21vdmUnLCB7IHN0YXJ0OiAyMCwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTsgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19yZWNlaXZlUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX21vdmUnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfbW92ZScsIHsgc3RhcnQ6IDExLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19tb3ZlJywgeyBzdGFydDogMjIsIGVuZDogMzIgfSksIC8vIGZpbGEgMlxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDIyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19ydW5MZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19tb3ZlJywgeyBzdGFydDogMzMsIGVuZDogNDMgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDNcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfanVtcCcsIHsgc3RhcnQ6IDAsIGVuZDogMTIgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19qdW1wJywgeyBzdGFydDogMTMsIGVuZDogMjUgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDFcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8vLy8vLy9cclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhIGxvcyBwZXJzb25hamVzIGRlIGNhZGEganVnYWRvclxyXG4gICAgX2NyZWF0ZVBsYXllcnMoKSB7XHJcbiAgICAgICAgY29uc3QgY2hhclAxID0gdGhpcy5wbGF5ZXIxLmNoYXJhY3RlcjtcclxuICAgICAgICBjb25zdCBjaGFyUDIgPSB0aGlzLnBsYXllcjIuY2hhcmFjdGVyO1xyXG5cclxuICAgICAgICBjb25zdCBwMSA9IG5ldyBQbGF5ZXIoXHJcbiAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgdGhpcy53b3JsZFdpZHRoICogMC4yNSwgICAvLyBpenF1aWVyZGFcclxuICAgICAgICAgICAgdGhpcy5ncm91bmRZIC0gMTAwLCAgICAgICAgLy8gYXJyaWJhIGRlbCBzdWVsbyAobcOhcyBtYXJnZW4pXHJcbiAgICAgICAgICAgIGNoYXJQMVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IHAyID0gbmV3IFBsYXllcihcclxuICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgJ3BsYXllcjInLFxyXG4gICAgICAgICAgICB0aGlzLndvcmxkV2lkdGggKiAwLjc1LCAgIC8vIGRlcmVjaGFcclxuICAgICAgICAgICAgdGhpcy5ncm91bmRZIC0gMTAwLCAgICAgICAgLy8gYXJyaWJhIGRlbCBzdWVsbyAobcOhcyBtYXJnZW4pXHJcbiAgICAgICAgICAgIGNoYXJQMlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCBwMSk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIHAyKTtcclxuXHJcbiAgICAgICAgLy8gc2UgZXN0YWJsZWNlbiBsb3MgbMOtbWl0ZXMgZGUgbGEgY2FuY2hhIHBhcmEgY2FkYSBqdWdhZG9yXHJcbiAgICAgICAgY29uc3QgY291cnRUb3AgPSA1MDtcclxuICAgICAgICAvLyBhbGluZWFyIGVsIGzDrW1pdGUgaW5mZXJpb3IganVzdG8gcG9yIGVuY2ltYSBkZWwgc3VlbG9cclxuICAgICAgICAvLyBjb21vIGVsIGdyb3VuZCBhaG9yYSB0aWVuZSBvcmlnaW4gZW4gKDAuNSwgMCksIGdyb3VuZFkgZXMgbGEgcGFydGUgc3VwZXJpb3JcclxuICAgICAgICBjb25zdCBjb3VydEJvdHRvbSA9IE1hdGguZmxvb3IodGhpcy5ncm91bmRZKTtcclxuICAgICAgICBjb25zdCBjb3VydEludGVyaW9yTWFyZ2luID0gMjU7XHJcbiAgICAgICAgY29uc3QgY291cnRFeHRlcmlvcnRNYXJnaW4gPSA4MDtcclxuXHJcbiAgICAgICAgLy8gcGxheWVyMSAoaXpxdWllcmRhKTpcclxuICAgICAgICBwMS5zZXRCb3VuZHMoY291cnRFeHRlcmlvcnRNYXJnaW4sIDQ4MCAtIGNvdXJ0SW50ZXJpb3JNYXJnaW4sIGNvdXJ0VG9wLCBjb3VydEJvdHRvbSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gcGxheWVyMiAoZGVyZWNoYSk6XHJcbiAgICAgICAgcDIuc2V0Qm91bmRzKDQ4MCArIGNvdXJ0SW50ZXJpb3JNYXJnaW4sIHRoaXMud29ybGRXaWR0aCAtIGNvdXJ0RXh0ZXJpb3J0TWFyZ2luLCBjb3VydFRvcCwgY291cnRCb3R0b20pO1xyXG5cclxuICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3Iuc2V0UGxheWVycyh0aGlzLnBsYXllcnMpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5zZXRHYW1lU2NlbmUodGhpcyk7XHJcblxyXG4gICAgICAgIC8vIHBvciBkZWZlY3RvLCBhbmltYWNpw7NuIGlkbGVcclxuICAgICAgICBwMS5pZGxlUmlnaHQoKTtcclxuICAgICAgICBwMi5pZGxlTGVmdCgpO1xyXG4gICAgfSAgICBcclxuXHJcbiAgICAvLyBDcmVhIGVsIHN1ZWxvLCBsYSByZWQsIGxvcyBsw61taXRlcywgZXRjLlxyXG4gICAgX3NldHVwUGh5c2ljc1dvcmxkKGdyb3VuZCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNvbGlzacOzbiBqdWdhZG9yLXN1ZWxvXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLnNwcml0ZSwgZ3JvdW5kKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbGlzacOzbiBqdWdhZG9yLXJlZFxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMucmVkLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgJHtwbGF5ZXIuaWR9IHRvY8OzIGxhIHJlZCFgKTtcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBc2lnbmEgbG9zIGNvbnRyb2xlcy90ZWNsYXMgZGUgY2FkYSBqdWdhZG9yXHJcbiAgICBfc2V0dXBJbnB1dE1hcHBpbmdzKCkge1xyXG4gICAgICAgIGNvbnN0IGlucHV0Q29uZmlnID0gW1xyXG4gICAgICAgICAgICAvLyBqdWdhZG9yIDFcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdBJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnRCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wS2V5OiAnVycsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlS2V5OiAnUycsXHJcbiAgICAgICAgICAgICAgICBwb3dlcktleTogJ0UnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGp1Z2Fkb3IgMlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjInLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0onLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdMJyxcclxuICAgICAgICAgICAgICAgIGp1bXBLZXk6ICdJJyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVLZXk6ICdLJyxcclxuICAgICAgICAgICAgICAgIHBvd2VyS2V5OiAnTydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IGlucHV0Q29uZmlnLm1hcChjb25maWcgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6IGNvbmZpZy5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFxyXG4gICAgICAgICAgICAgICAgICAgIFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcubGVmdEtleV1cclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICByaWdodEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoXHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yaWdodEtleV1cclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICBqdW1wS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShcclxuICAgICAgICAgICAgICAgICAgICBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmp1bXBLZXldXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZUtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoXHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yZWNlaXZlS2V5XVxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIHBvd2VyS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShcclxuICAgICAgICAgICAgICAgICAgICBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnBvd2VyS2V5XVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByb2Nlc2EgZWwgaW5wdXQgZGUgbG9zIGRvcyBqdWdhZG9yZXNcclxuICAgIF9oYW5kbGVJbnB1dEZvckFsbFBsYXllcnMoKSB7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzLmZvckVhY2gobWFwcGluZyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMucGxheWVycy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgIGlmICghcGxheWVyKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAvLyBzaSBlc3TDoSBwYXJhbGl6YWRvLCBzZSBkZWphIGVuIGlkbGVcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc1BhcmFseXplZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaWRsZURpciA9IChwbGF5ZXIuZmFjaW5nID09PSAnbGVmdCcpID8gJ2lkbGVMZWZ0JyA6ICdpZGxlUmlnaHQnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVQbGF5ZXJDb21tYW5kKHBsYXllciwgaWRsZURpcilcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBkaXJlY3Rpb247XHJcblxyXG4gICAgICAgICAgICAvLyBtb3ZpbWllbnRvIGhvcml6b250YWwgbm9ybWFsXHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLmxlZnRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnbGVmdCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobWFwcGluZy5yaWdodEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbm8gc2UgcHVsc2EgbmFkYSwgYXPDrSBxdWUgc2UgcXVlZGEgaWRsZSBzZWfDum4gaGFjaWEgZMOzbmRlIG1pcmFiYVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IChwbGF5ZXIuZmFjaW5nID09PSAnbGVmdCcpID8gJ2lkbGVMZWZ0JzogJ2lkbGVSaWdodCc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNlIGFwbGljYSBtb3ZpbWllbnRvL2lkbGUgU09MTyBzaSBubyBlc3TDoSBzYWx0YW5kb1xyXG4gICAgICAgICAgICAvLyBzaSBlc3TDoSBzYWx0YW5kbywgbm8gc2UgcHJvY2VzYSBlbCBtb3ZpbWllbnRvIHBhcmEgbm8gc29icmVzY3JpYmlyIGxhIGFuaW1hY2nDs25cclxuICAgICAgICAgICAgaWYgKCFwbGF5ZXIuaXNKdW1waW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IucHJvY2VzcyhcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTW92ZVBsYXllckNvbW1hbmQocGxheWVyLCBkaXJlY3Rpb24pXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyByZWNlcGNpw7NuXHJcbiAgICAgICAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24obWFwcGluZy5yZWNlaXZlS2V5T2JqKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVjZWl2ZURpciA9IChwbGF5ZXIuZmFjaW5nID09PSAnbGVmdCcpID8gJ3JlY2VpdmVMZWZ0JyA6ICdyZWNlaXZlUmlnaHQnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVQbGF5ZXJDb21tYW5kKHBsYXllciwgcmVjZWl2ZURpcilcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNhbHRvL3JlbWF0ZVxyXG4gICAgICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKG1hcHBpbmcuanVtcEtleU9iaikpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGp1bXBEaXIgPSAocGxheWVyLmZhY2luZyA9PT0gJ2xlZnQnKSA/ICdqdW1wTGVmdCcgOiAnanVtcFJpZ2h0JztcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlUGxheWVyQ29tbWFuZChwbGF5ZXIsIGp1bXBEaXIpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBQb3dlclVwc1xyXG4gICAgICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKG1hcHBpbmcucG93ZXJLZXlPYmopKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIudXNlTmV4dFBvd2VyVXAoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGxheWVySW52ZW50b3J5VUkocGxheWVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgZXN0YWRvIGRlIGxvcyBqdWdhZG9yZXMgKHN1ZWxvLCBldGMuKVxyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiBwbGF5ZXIudXBkYXRlKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWEgbGEgcGVsb3RhXHJcbiAgICBfY3JlYXRlQmFsbCgpIHtcclxuICAgICAgICB0aGlzLmJhbGwgPSBuZXcgQmFsbCh0aGlzLCB0aGlzLndvcmxkV2lkdGggLyAyLCAxNTApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbmZpZ3VyYSBsYXMgY29saXNpb25lcyBkZSBsYSBwZWxvdGFcclxuICAgIF9zZXR1cEJhbGxDb2xsaXNpb25zKCkge1xyXG4gICAgICAgIC8vIGNvbGlzaW9uZXMgZGUgbGEgcGVsb3RhIGNvbiBsb3MganVnYWRvcmVzXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICAoKSA9PiB0aGlzLl9vbkJhbGxQbGF5ZXJDb2xsaXNpb24odGhpcy5iYWxsLCBwbGF5ZXIpLFxyXG4gICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgIHRoaXNcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gY29saXNpw7NuIHBlbG90YS1yZWRcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuYmFsbC5zcHJpdGUsIHRoaXMucmVkLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEVzdG8gc2UgZGlzcGFyYSBhbCB0b2NhciBsYSByZWRcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xhIHBlbG90YSB0b2NhIGxhIHJlZCEnKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFBvciBlamVtcGxvLCBzZSBwdWVkZSBmcmVuYXIgbGEgcGVsb3RhOlxyXG4gICAgICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLnNldFZlbG9jaXR5WCh0aGlzLmJhbGwuc3ByaXRlLmJvZHkudmVsb2NpdHkueCAqIDAuNSk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFsbC5zcHJpdGUuc2V0VmVsb2NpdHlZKHRoaXMuYmFsbC5zcHJpdGUuYm9keS52ZWxvY2l0eS55ICogMC41KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gY29saXNpw7NuIGRlIGxhIHBlbG90YSBjb24gZWwgc3VlbG8gKGRpc3BhcmEgcHVudHVhY2nDs24pXHJcbiAgICAgICAgY29uc3QgZ3JvdW5kWSA9IHRoaXMud29ybGRIZWlnaHQgLSAxMDtcclxuICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLnNldEJvdW5jZSgwLjgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbmZpZ3VyYSBsb3MgZXZlbnQgbGlzdGVuZXJzIGRlIGxhIHBlbG90YVxyXG4gICAgX3NldHVwQmFsbEV2ZW50cygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigncmFsbHlDb25jbHVkZWQnLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUmFsbHkgY29uY2x1ZGVkOiAke2RhdGEuc2NvcmluZ1BsYXllcklkfSBzY29yZXMhYCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjb3JlcklkID0gZGF0YS5zY29yaW5nUGxheWVySWQ7XHJcblxyXG4gICAgICAgICAgICAvLyBzZSBjb2dlIGVsIHBsYXllciBxdWUgaGEgYW5vdGFkb1xyXG4gICAgICAgICAgICBjb25zdCBzY29yaW5nUGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldChzY29yZXJJZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBzY29yaW5nUGxheWVyID8gKHNjb3JpbmdQbGF5ZXIuc2NvcmVNdWx0aXBsaWVyIHx8IDEpIDogMTtcclxuXHJcbiAgICAgICAgICAgIC8vIDEgcHVudG8gYmFzZSAqIG11bHRpcGxpY2Fkb3JcclxuICAgICAgICAgICAgY29uc3QgcG9pbnRzVG9BZGQgPSBtdWx0aXBsaWVyO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNjb3JlcklkID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgICAgIC8vIG1hcmNhZG9yIHZpc3VhbFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludHNMZWZ0ICs9IHBvaW50c1RvQWRkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZUxlZnQuc2V0VGV4dCh0aGlzLnBvaW50c0xlZnQudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcHVudG9zIGRlbCBzZXQgKHBhcmEgbMOzZ2ljYSBkZSBzZXRzKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZVAxICs9IHBvaW50c1RvQWRkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNjb3JlcklkID09PSAncGxheWVyMicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzUmlnaHQgKz0gcG9pbnRzVG9BZGQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0U2NvcmUuc2V0VGV4dCh0aGlzLnBvaW50c1JpZ2h0LnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVQMiArPSBwb2ludHNUb0FkZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBzZSByZXByb2R1Y2UgZWwgZWZlY3RvIGRlIHNvbmlkbyBkZSBwdW50b1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlTZngodGhpcy5zZngucG9pbnQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNHb2xkZW5Qb2ludCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0dvbGRlblBvaW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmRTZXQoc2NvcmVySWQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gY29uZGljacOzbiBkZSAxMSBwdW50b3MgY29uIDIgZGUgZGlmZXJlbmNpYVxyXG4gICAgICAgICAgICB0aGlzLl9jaGVja1dpbkNvbmRpdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFZlcmlmaWNhIHNpIGxhIHBlbG90YSBlc3TDoSBlbiBsYSB6b25hIHbDoWxpZGEgcGFyYSBnb2xwZWFybGFcclxuICAgIF9pc0JhbGxJbkhpdFpvbmUoYmFsbFNwcml0ZSwgcGxheWVyLCBpc0p1bXBpbmcsIGlzUmVjZWl2aW5nKSB7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IHBsYXllci5zcHJpdGUuYm9keTtcclxuICAgICAgICBpZiAoIWJvZHkpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3QgYmFsbFggPSBiYWxsU3ByaXRlLng7XHJcbiAgICAgICAgY29uc3QgYmFsbFkgPSBiYWxsU3ByaXRlLnk7XHJcbiAgICAgICAgY29uc3QgYm9keVRvcCA9IGJvZHkueTtcclxuICAgICAgICBjb25zdCBib2R5SGVpZ2h0ID0gYm9keS5oZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgYm9keUNlbnRlclggPSBib2R5LnggKyBib2R5LndpZHRoICogMC41O1xyXG5cclxuICAgICAgICBjb25zdCB6b25lID0gaXNKdW1waW5nXHJcbiAgICAgICAgICAgID8geyB0b3A6IC0wLjEsIGJvdHRvbTogMC42IH1cclxuICAgICAgICAgICAgOiAoaXNSZWNlaXZpbmcgPyB7IHRvcDogMC4zNSwgYm90dG9tOiAwLjg1IH0gOiB7IHRvcDogMC4yNSwgYm90dG9tOiAwLjg1IH0pO1xyXG5cclxuICAgICAgICBjb25zdCB6b25lVG9wID0gYm9keVRvcCArIGJvZHlIZWlnaHQgKiB6b25lLnRvcDtcclxuICAgICAgICBjb25zdCB6b25lQm90dG9tID0gYm9keVRvcCArIGJvZHlIZWlnaHQgKiB6b25lLmJvdHRvbTtcclxuXHJcbiAgICAgICAgaWYgKGJhbGxZIDwgem9uZVRvcCB8fCBiYWxsWSA+IHpvbmVCb3R0b20pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZmFjaW5nUmlnaHQgPSBwbGF5ZXIuZmFjaW5nID09PSAncmlnaHQnO1xyXG4gICAgICAgIGNvbnN0IHdpZGVIaXQgPSBpc1JlY2VpdmluZyB8fCBpc0p1bXBpbmc7XHJcbiAgICAgICAgY29uc3QgcmVhY2hGb3J3YXJkID0gYm9keS53aWR0aCAqICh3aWRlSGl0ID8gMC45IDogMC43NSk7XHJcbiAgICAgICAgY29uc3QgcmVhY2hCYWNrID0gYm9keS53aWR0aCAqICh3aWRlSGl0ID8gMC4yNSA6IDAuMTUpO1xyXG4gICAgICAgIGNvbnN0IG1pblggPSBmYWNpbmdSaWdodCA/IGJvZHlDZW50ZXJYIC0gcmVhY2hCYWNrIDogYm9keUNlbnRlclggLSByZWFjaEZvcndhcmQ7XHJcbiAgICAgICAgY29uc3QgbWF4WCA9IGZhY2luZ1JpZ2h0ID8gYm9keUNlbnRlclggKyByZWFjaEZvcndhcmQgOiBib2R5Q2VudGVyWCArIHJlYWNoQmFjaztcclxuXHJcbiAgICAgICAgaWYgKGJhbGxYIDwgbWluWCB8fCBiYWxsWCA+IG1heFgpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWFuZWphIGNvbGlzacOzbiBlbnRyZSBwZWxvdGEgeSBqdWdhZG9yXHJcbiAgICBfb25CYWxsUGxheWVyQ29sbGlzaW9uKGJhbGwsIHBsYXllcikge1xyXG4gICAgICAgIGlmICghYmFsbC5pc0JhbGxMaXZlKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGlzSnVtcGluZyA9ICFwbGF5ZXIuc3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duO1xyXG4gICAgICAgIGNvbnN0IGlzUmVjZWl2aW5nID0gcGxheWVyLmlzUmVjZWl2aW5nO1xyXG4gICAgICAgIGNvbnN0IHBsYXllckRpcmVjdGlvbiA9IHBsYXllci5mYWNpbmc7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5faXNCYWxsSW5IaXRab25lKGJhbGwuc3ByaXRlLCBwbGF5ZXIsIGlzSnVtcGluZywgaXNSZWNlaXZpbmcpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJhbGwuaGl0KHBsYXllciwgcGxheWVyRGlyZWN0aW9uLCBpc0p1bXBpbmcsIGlzUmVjZWl2aW5nKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb250cm9sYSBlbCBmaW5hbCBkZWwganVlZ29cclxuICAgIF9lbmRHYW1lKHdpbm5lcikge1xyXG4gICAgICAgIC8vIHNlIHBhcmEgZWwgdGltZXIgZGVsIHNldFxyXG4gICAgICAgIGlmICh0aGlzLnRpbWVyRXZlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lckV2ZW50LnJlbW92ZShmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzaWxiYXRvIGRlIGZpbmFsIGRlIHBhcnRpZG9cclxuICAgICAgICB0aGlzLnBsYXlTZngodGhpcy5zZngud2hpc3RsZSk7XHJcblxyXG4gICAgICAgIC8vIHNlIGRldGllbmUgbGEgZsOtc2ljYSBkZSBlc3RhIGVzY2VuYSBhbnRlcyBkZSBzYWxpclxyXG4gICAgICAgIGlmICh0aGlzLnBoeXNpY3MgJiYgdGhpcy5waHlzaWNzLndvcmxkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy53b3JsZC5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydChcIkVuZEdhbWVfU2NlbmVcIiwge1xyXG4gICAgICAgICAgICB3aW5uZXI6IHdpbm5lcixcclxuICAgICAgICAgICAgcGxheWVyMTogdGhpcy5wbGF5ZXIxLFxyXG4gICAgICAgICAgICBwbGF5ZXIyOiB0aGlzLnBsYXllcjIsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyaWZpY2Egc2kgYWxnw7puIGp1Z2Fkb3IgaGEgZ2FuYWRvIGVsIHNldFxyXG4gICAgX2NoZWNrV2luQ29uZGl0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IG1pblBvaW50cyA9IDExOyAgIC8vIHB1bnRvcyBtw61uaW1vcyBwYXJhIGdhbmFyXHJcbiAgICAgICAgY29uc3QgbWluRGlmZiA9IDI7ICAgICAgLy8gZGlmZXJlbmNpYSBtw61uaW1hIGRlIHB1bnRvcyBwYXJhIGdhbmFyXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gZGlmZXJlbmNpYSBkZSBwdW50b3NcclxuICAgICAgICBjb25zdCBzY29yZURpZmYgPSB0aGlzLnNjb3JlUDEgLSB0aGlzLnNjb3JlUDI7XHJcbiAgICAgICAgY29uc3QgbWF4U2NvcmUgPSBNYXRoLm1heCh0aGlzLnNjb3JlUDEsIHRoaXMuc2NvcmVQMik7XHJcblxyXG4gICAgICAgIC8vIHNpIG5vIHNlIGN1bXBsZSBhbGd1bmEgZGUgbGFzIGNvbmRpY2lvbmVzLCBubyBzZSB0ZXJtaW5hIGVsIHNldFxyXG4gICAgICAgIGlmIChtYXhTY29yZSA8IG1pblBvaW50cyB8fCBNYXRoLmFicyhzY29yZURpZmYpIDwgbWluRGlmZikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzaW5vLCBzZSBkZXRlcm1pbmEgZWwgZ2FuYWRvciBkZWwgc2V0XHJcbiAgICAgICAgY29uc3Qgd2lubmVyID0gc2NvcmVEaWZmID4gMCA/IFwicGxheWVyMVwiIDogXCJwbGF5ZXIyXCI7XHJcbiAgICAgICAgdGhpcy5fZW5kU2V0KHdpbm5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29udHJvbGEgZWwgZmluYWwgZGUgdW4gc2V0XHJcbiAgICBfZW5kU2V0KHdpbm5lcikge1xyXG4gICAgICAgIC8vIGFjdHVhbGl6YXIgc2V0cyBnYW5hZG9zXHJcbiAgICAgICAgaWYgKHdpbm5lciA9PT0gJ3BsYXllcjEnKSB0aGlzLnNldHNQMSsrO1xyXG4gICAgICAgIGVsc2UgaWYgKHdpbm5lciA9PT0gJ3BsYXllcjInKSB0aGlzLnNldHNQMisrO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhgU2V0IHRlcm1pbmFkby4gU2NvcmUgc2V0czogUDE9JHt0aGlzLnNldHNQMX0sIFAyPSR7dGhpcy5zZXRzUDJ9YCk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlU2V0U2NvcmVVSSgpO1xyXG5cclxuICAgICAgICAvLyBtb3N0cmFyIG1lbnNhamUgZGUgZ2FuYWRvciBkZSBzZXRcclxuICAgICAgICBjb25zdCB3aW5uZXJMYWJlbCA9ICh3aW5uZXIgPT09ICdwbGF5ZXIxJykgPyAnSnVnYWRvciAxJyA6ICdKdWdhZG9yIDInO1xyXG4gICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dC5zZXRUZXh0KGBTRVQgcGFyYSAke3dpbm5lckxhYmVsfWApO1xyXG4gICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dC5zZXRWaXNpYmxlKHRydWUpO1xyXG5cclxuICAgICAgICAvLyBBdmFuemFyIG7Dum1lcm8gZGUgc2V0XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U2V0Kys7XHJcblxyXG4gICAgICAgIGNvbnN0IG1hdGNoT3ZlciA9ICh0aGlzLnNldHNQMSA9PT0gMiB8fCB0aGlzLnNldHNQMiA9PT0gMik7XHJcblxyXG4gICAgICAgIGlmIChtYXRjaE92ZXIpIHtcclxuICAgICAgICAgICAgLy8gw7psdGltbyBzZXQ6IG1vc3RyYW1vcyBlbCBtZW5zYWplIDJzIHkgbHVlZ28gcGFzYW1vcyBhIGxhIGVzY2VuYSBmaW5hbFxyXG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gKHNpIHF1aWVyZXMsIGFxdcOtIHBvZHLDrWFzIG9jdWx0YXIgZWwgdGV4dG8pXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmRHYW1lKHdpbm5lcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHNldCBpbnRlcm1lZGlvOiBtb3N0cmFtb3MgZWwgbWVuc2FqZSAycywgbG8gb2N1bHRhbW9zIHkgcmVpbmljaWFtb3MgZWwgc2V0XHJcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXRXaW5uZXJUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRXaW5uZXJUZXh0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzZXRTZXQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlaW5pY2lhIGVsIGVzdGFkbyBwYXJhIHVuIG51ZXZvIHNldFxyXG4gICAgX3Jlc2V0U2V0KCkge1xyXG4gICAgICAgIHRoaXMuaXNHb2xkZW5Qb2ludCA9IGZhbHNlO1xyXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YSBlbCB0ZXh0byBkZWwgc2V0IGFjdHVhbFxyXG4gICAgICAgIHRoaXMuc2V0VGV4dC5zZXRUZXh0KGBTRVQgJHt0aGlzLmN1cnJlbnRTZXR9YCk7XHJcblxyXG4gICAgICAgIC8vIHNlIHJlaW5pY2lhIGVsIHRpZW1wb1xyXG4gICAgICAgIHRoaXMudGllbXBvUmVzdGFudGUgPSB0aGlzLnRpZW1wb1RvdGFsO1xyXG4gICAgICAgIHRoaXMudGltZXJFdmVudC5wYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVRpbWVyKCk7XHJcblxyXG4gICAgICAgIC8vIHNlIHJlaW5pY2lhIGxhIHB1bnR1YWNpw7NuIGRlbCBzZXQgKGzDs2dpY2EpXHJcbiAgICAgICAgdGhpcy5zY29yZVAxID0gMDtcclxuICAgICAgICB0aGlzLnNjb3JlUDIgPSAwO1xyXG5cclxuICAgICAgICAvLyBzZSByZWluaWNpYSBlbCBtYXJjYWRvciB2aXN1YWwgZW4gcGFudGFsbGFcclxuICAgICAgICB0aGlzLnBvaW50c0xlZnQgPSAwO1xyXG4gICAgICAgIHRoaXMucG9pbnRzUmlnaHQgPSAwO1xyXG4gICAgICAgIHRoaXMuc2NvcmVMZWZ0LnNldFRleHQoJzAnKTtcclxuICAgICAgICB0aGlzLnJpZ2h0U2NvcmUuc2V0VGV4dCgnMCcpO1xyXG5cclxuICAgICAgICAvLyBzZSByZWluaWNpYSBsYSBwZWxvdGFcclxuICAgICAgICB0aGlzLmJhbGwucmVzZXRSYWxseSgpO1xyXG5cclxuICAgICAgICAvLyBzZSByZXBvc2ljaW9uYW4gbG9zIGp1Z2Fkb3JlcyBhIHN1cyBwb3NpY2lvbmVzIGluaWNpYWxlc1xyXG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpO1xyXG4gICAgICAgIGNvbnN0IHAyID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpO1xyXG5cclxuICAgICAgICBwMS5zZXRQb3NpdGlvbih0aGlzLndvcmxkV2lkdGggKiAwLjI1LCB0aGlzLndvcmxkSGVpZ2h0ICogMC43KTtcclxuICAgICAgICBwMi5zZXRQb3NpdGlvbih0aGlzLndvcmxkV2lkdGggKiAwLjc1LCB0aGlzLndvcmxkSGVpZ2h0ICogMC43KTtcclxuXHJcbiAgICAgICAgcDEuaWRsZVJpZ2h0KCk7XHJcbiAgICAgICAgcDIuaWRsZUxlZnQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5U2Z4KHRoaXMuc2Z4LndoaXN0bGUpO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIFBhbnRhbGxhIGRlIFR1dG9yaWFsXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgYXBwbHlTdG9yZWRWb2x1bWUsIHBsYXlDbGljayB9IGZyb20gJy4uL1VJL0F1ZGlvLmpzJztcclxuaW1wb3J0IHsgY3JlYXRlVUlCdXR0b24sIGNyZWF0ZUljb25CdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBUdXRvcmlhbF9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignVHV0b3JpYWxfU2NlbmUnKTtcclxuXHJcbiAgICAgICAgLy8gdW4gw7puaWNvIHR1dG9yaWFsIGNvbiBww6FnaW5hc1xyXG4gICAgICAgIHRoaXMucGFnZUluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLnJldHVyblNjZW5lID0gJ01lbnVfU2NlbmUnO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIC8vIGVzY2VuYSBkZXNkZSBsYSBxdWUgc2UgYWJyacOzIGVsIHR1dG9yaWFsLCBwYXJhIHJlYW51ZGFybGFcclxuICAgICAgICB0aGlzLnJldHVyblNjZW5lID0gZGF0YT8ucmV0dXJuU2NlbmUgPz8gJ01lbnVfU2NlbmUnO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gaW3DoWdlbmVzIGRlbCB0dXRvcmlhbFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0MF9jb250cm9sZXMnLCAnQVNTRVRTL1RVVE9SSUFML1RVVDBfQ29udHJvbGVzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0MV9zZXQnLCAnQVNTRVRTL1RVVE9SSUFML1RVVDFfU2V0LnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0Ml9wZWxvdGEnLCAnQVNTRVRTL1RVVE9SSUFML1RVVDJfUGVsb3RhLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndHV0M19wb3dlcnVwJywgJ0FTU0VUUy9UVVRPUklBTC9UVVQzX1Bvd2VydXAucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0dXQ0X2xpc3RhJywgJ0FTU0VUUy9UVVRPUklBTC9UVVQ0X0xpc3RhLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBmb25kbyB5IHVpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9GTEVDSEFfVk9MVkVSLnBuZycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcclxuXHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB7XHJcbiAgICAgICAgICAgIC4uLih0aGlzLmdhbWUuZ2xvYmFscz8uZGVmYXVsdFRleHRTdHlsZSA/PyB7XHJcbiAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnVlQzMjMnLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYXBwbHlTdG9yZWRWb2x1bWUodGhpcyk7XHJcblxyXG4gICAgICAgIC8vIGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGRcclxuICAgICAgICAgICAgLmltYWdlKDAsIDAsICdmb25kbycpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAgICAgLnNldERlcHRoKC0xKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIHTDrXR1bG9cclxuICAgICAgICB0aGlzLm1haW5UaXRsZVRleHQgPSB0aGlzLmFkZFxyXG4gICAgICAgICAgICAudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjEsICdUdXRvcmlhbCcsIHtcclxuICAgICAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICc0MnB4JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gVm9sdmVyIGF0csOhc1xyXG4gICAgICAgIGNyZWF0ZUljb25CdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuMDYsXHJcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXHJcbiAgICAgICAgICAgIHRleHR1cmU6ICdib3RvblZvbHZlcicsXHJcbiAgICAgICAgICAgIHNjYWxlOiAxLFxyXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQodGhpcy5yZXR1cm5TY2VuZSksXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGNvbnRlbmlkbyBkZWwgdHV0b3JpYWwgKHNsaWRlcylcclxuICAgICAgICB0aGlzLnBhZ2VJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5wYWdlcyA9IFtcclxuICAgICAgICAgICAgeyBrZXk6ICd0dXQwX2NvbnRyb2xlcycsIHRpdGxlOiAnQ29udHJvbGVzJyB9LFxyXG4gICAgICAgICAgICB7IGtleTogJ3R1dDFfc2V0JywgdGl0bGU6ICdSZWdsYXMgYsOhc2ljYXM6IHNldCcgfSxcclxuICAgICAgICAgICAgeyBrZXk6ICd0dXQyX3BlbG90YScsIHRpdGxlOiAnUmVnbGFzIGLDoXNpY2FzOiBwZWxvdGEnIH0sXHJcbiAgICAgICAgICAgIHsga2V5OiAndHV0M19wb3dlcnVwJywgdGl0bGU6ICdSZWdsYXMgYsOhc2ljYXM6IHBvd2VyLXVwcycgfSxcclxuICAgICAgICAgICAgeyBrZXk6ICd0dXQ0X2xpc3RhJywgdGl0bGU6ICdMaXN0YSBkZSBwb3dlci11cHMnIH1cclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICAvLyBwYW5lbCBwYXJhIGxhcyBpbcOhZ2VuZXNcclxuICAgICAgICBjb25zdCBwYW5lbE1hcmdpbiA9IE1hdGgubWF4KDgsIE1hdGgucm91bmQoTWF0aC5taW4od2lkdGgsIGhlaWdodCkgKiAwLjAxNSkpO1xyXG4gICAgICAgIGNvbnN0IHBhbmVsR2FwID0gTWF0aC5tYXgoNiwgTWF0aC5yb3VuZChoZWlnaHQgKiAwLjAxMikpO1xyXG4gICAgICAgIGNvbnN0IG5hdlkgPSBoZWlnaHQgKiAwLjkxO1xyXG5cclxuICAgICAgICBjb25zdCBwYW5lbFRvcCA9IHRoaXMubWFpblRpdGxlVGV4dC55ICsgdGhpcy5tYWluVGl0bGVUZXh0LmhlaWdodCArIHBhbmVsR2FwO1xyXG4gICAgICAgIGNvbnN0IHBhbmVsQm90dG9tID0gbmF2WSAtIHBhbmVsR2FwO1xyXG4gICAgICAgIGNvbnN0IHBhbmVsSGVpZ2h0ID0gTWF0aC5tYXgoMCwgcGFuZWxCb3R0b20gLSBwYW5lbFRvcCk7XHJcbiAgICAgICAgY29uc3QgcGFuZWxXaWR0aCA9IE1hdGgubWF4KDAsIHdpZHRoIC0gcGFuZWxNYXJnaW4gKiAyKTtcclxuXHJcbiAgICAgICAgdGhpcy5sYXlvdXQgPSB7XHJcbiAgICAgICAgICAgIHBhbmVsVG9wLFxyXG4gICAgICAgICAgICBwYW5lbEhlaWdodCxcclxuICAgICAgICAgICAgcGFuZWxXaWR0aCxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBpbWFnZW4gZGUgbGEgcGFnaW5hXHJcbiAgICAgICAgdGhpcy5zbGlkZUltYWdlID0gdGhpcy5hZGQuaW1hZ2UoXHJcbiAgICAgICAgICAgIGNlbnRlclgsXHJcbiAgICAgICAgICAgIHBhbmVsVG9wICsgcGFuZWxIZWlnaHQgLyAyLFxyXG4gICAgICAgICAgICB0aGlzLnBhZ2VzWzBdLmtleVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5fZml0SW1hZ2UodGhpcy5zbGlkZUltYWdlLCBwYW5lbFdpZHRoLCBwYW5lbEhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIGluZGljYWRvciBkZSBwYWdpbmFcclxuICAgICAgICB0aGlzLnBhZ2VJbmRpY2F0b3IgPSB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIG5hdlkgKyAyMCwgJycsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gQk9UT05FUyBERSBOQVZFR0FDScOTTlxyXG4gICAgICAgIGNvbnN0IGJ1dHRvblRleHRTdHlsZSA9IHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMjhweCcsIGNvbG9yOiAnIzAwMDAwMCcgfTtcclxuICAgICAgICAvLyBib3TDs24gQW50ZXJpb3JcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IGNlbnRlclggLSAxNjUsXHJcbiAgICAgICAgICAgIHk6IG5hdlkgKyAyMCxcclxuICAgICAgICAgICAgbGFiZWw6ICdBbnRlcmlvcicsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMucHJldigpLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBib3TDs24gU2lndWllbnRlXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBjZW50ZXJYICsgMTY1LFxyXG4gICAgICAgICAgICB5OiBuYXZZICsgMjAsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnU2lndWllbnRlJyxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5uZXh0KCksXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlclBhZ2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBfZml0SW1hZ2UoaW1nLCBtYXhXLCBtYXhIKSB7XHJcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBNYXRoLm1pbihtYXhXIC8gaW1nLndpZHRoLCBtYXhIIC8gaW1nLmhlaWdodCk7XHJcbiAgICAgICAgaW1nLnNldFNjYWxlKHNjYWxlKTtcclxuICAgIH1cclxuXHJcbiAgICByZW5kZXJQYWdlKCkge1xyXG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLnBhZ2VzW3RoaXMucGFnZUluZGV4XTtcclxuICAgICAgICB0aGlzLm1haW5UaXRsZVRleHQuc2V0VGV4dChwLnRpdGxlID8/ICdUdXRvcmlhbCcpO1xyXG4gICAgICAgIHRoaXMuc2xpZGVJbWFnZS5zZXRUZXh0dXJlKHAua2V5KTtcclxuICAgICAgICB0aGlzLl9maXRJbWFnZSh0aGlzLnNsaWRlSW1hZ2UsIHRoaXMubGF5b3V0LnBhbmVsV2lkdGgsIHRoaXMubGF5b3V0LnBhbmVsSGVpZ2h0KTtcclxuICAgICAgICB0aGlzLnBhZ2VJbmRpY2F0b3Iuc2V0VGV4dChgJHt0aGlzLnBhZ2VJbmRleCArIDF9IGRlICR7dGhpcy5wYWdlcy5sZW5ndGh9YCk7XHJcbiAgICB9XHJcblxyXG4gICAgbmV4dCgpIHtcclxuICAgICAgICBpZiAodGhpcy5wYWdlSW5kZXggPCB0aGlzLnBhZ2VzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgdGhpcy5wYWdlSW5kZXgrKztcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJQYWdlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByZXYoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucGFnZUluZGV4ID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhZ2VJbmRleC0tO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlclBhZ2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcbiIsIi8vIFBhbnRhbGxhIGRlIENvbmZpZ3VyYWNpw7NuXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgZW5zdXJlU3RvcmVkQXVkaW9TZXR0aW5ncywgZ2V0U3RvcmVkTXVzaWNWb2x1bWUsIGdldFN0b3JlZFNmeFZvbHVtZSwgZ2V0U3RvcmVkR2xvYmFsVm9sdW1lLCBzZXRTdG9yZWRNdXNpY1ZvbHVtZSwgc2V0U3RvcmVkU2Z4Vm9sdW1lLCBzZXRTdG9yZWRHbG9iYWxWb2x1bWUsIGFwcGx5U3RvcmVkVm9sdW1lLCBwbGF5Q2xpY2sgfSBmcm9tICcuLi9VSS9BdWRpby5qcyc7XHJcbmltcG9ydCB7IGNyZWF0ZUljb25CdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0aW9uX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDb25maWd1cmF0aW9uX1NjZW5lJyk7XHJcblxyXG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmdsb2JhbFZvbHVtZVNsaWRlciA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBpbcOhZ2VuZXMgZm9uZG8geSB1aVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvRkxFQ0hBX1ZPTFZFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gc29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7XHJcblxyXG4gICAgICAgIC8vIEZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpXHJcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gVMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC4xLCAnQ29uZmlndXJhY2nDs24nLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8vLyBWT0xVTUVORVMgLy8vL1xyXG4gICAgICAgIGVuc3VyZVN0b3JlZEF1ZGlvU2V0dGluZ3MoKTtcclxuICAgICAgICBjb25zdCBpbml0aWFsR2xvYmFsVm9sdW1lID0gZ2V0U3RvcmVkR2xvYmFsVm9sdW1lKCk7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbE11c2ljVm9sdW1lID0gZ2V0U3RvcmVkTXVzaWNWb2x1bWUoKTtcclxuICAgICAgICBjb25zdCBpbml0aWFsU2Z4Vm9sdW1lID0gZ2V0U3RvcmVkU2Z4Vm9sdW1lKCk7XHJcblxyXG4gICAgICAgIC8vIHNlIGFwbGljYSBlbCB2b2x1bWVuIG5hZGEgbWFzIGNhcmdhclxyXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBsYXlvdXQgZGUgbG9zIHNsaWRlcnNcclxuICAgICAgICBjb25zdCBzZWN0aW9ucyA9IDM7XHJcbiAgICAgICAgY29uc3Qgc2VjdGlvbkdhcCA9IGhlaWdodCAqIDAuMTg7XHJcbiAgICAgICAgY29uc3QgbGFiZWxUb1NsaWRlckdhcCA9IGhlaWdodCAqIDAuMDU7XHJcbiAgICAgICAgY29uc3QgZ3JvdXBIZWlnaHQgPSAoc2VjdGlvbnMgLSAxKSAqIHNlY3Rpb25HYXAgKyBsYWJlbFRvU2xpZGVyR2FwO1xyXG4gICAgICAgIGNvbnN0IGdyb3VwVG9wWSA9IChoZWlnaHQgLyAyKSAtIChncm91cEhlaWdodCAvIDIpO1xyXG5cclxuICAgICAgICBjb25zdCBnbG9iYWxMYWJlbFkgPSBncm91cFRvcFk7XHJcbiAgICAgICAgY29uc3QgZ2xvYmFsU2xpZGVyWSA9IGdsb2JhbExhYmVsWSArIGxhYmVsVG9TbGlkZXJHYXA7XHJcbiAgICAgICAgY29uc3QgbXVzaWNMYWJlbFkgPSBncm91cFRvcFkgKyBzZWN0aW9uR2FwO1xyXG4gICAgICAgIGNvbnN0IG11c2ljU2xpZGVyWSA9IG11c2ljTGFiZWxZICsgbGFiZWxUb1NsaWRlckdhcDtcclxuICAgICAgICBjb25zdCBzZnhMYWJlbFkgPSBncm91cFRvcFkgKyAoc2VjdGlvbkdhcCAqIDIpO1xyXG4gICAgICAgIGNvbnN0IHNmeFNsaWRlclkgPSBzZnhMYWJlbFkgKyBsYWJlbFRvU2xpZGVyR2FwO1xyXG5cclxuICAgICAgICAvLyBTdWJ0w610dWxvIGdsb2JhbFxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgZ2xvYmFsTGFiZWxZLCAnVm9sdW1lbiBHZW5lcmFsJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSwgXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsIFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGJhcnJhIGRlIHZvbHVtZW4gKGdsb2JhbClcclxuICAgICAgICB0aGlzLmdsb2JhbFZvbHVtZVNsaWRlciA9IHRoaXMuYWRkLmRvbShjZW50ZXJYLCBnbG9iYWxTbGlkZXJZKVxyXG4gICAgICAgICAgICAuY3JlYXRlRnJvbUhUTUwoYDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBtaW49XCIwXCIgbWF4PVwiMVwiIHN0ZXA9XCIwLjAxXCIgdmFsdWU9XCIke2luaXRpYWxHbG9iYWxWb2x1bWV9XCIgXHJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIndpZHRoOjIyMHB4OyBoZWlnaHQ6MjBweDsgYWNjZW50LWNvbG9yOiMwMGFhZmY7IGJvcmRlci1yYWRpdXM6NXB4O1wiLz5gKTtcclxuXHJcbiAgICAgICAgdGhpcy5nbG9iYWxWb2x1bWVTbGlkZXIuYWRkTGlzdGVuZXIoJ2lucHV0Jyk7XHJcbiAgICAgICAgdGhpcy5nbG9iYWxWb2x1bWVTbGlkZXIub24oJ2lucHV0JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghKGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpKSByZXR1cm47XHJcbiAgICAgICAgICAgIHNldFN0b3JlZEdsb2JhbFZvbHVtZShldmVudC50YXJnZXQudmFsdWUpO1xyXG4gICAgICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIFN1YnTDrXR1bG8gZGUgbcO6c2ljYVxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgbXVzaWNMYWJlbFksICdWb2x1bWVuIE3DunNpY2EnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGJhcnJhIGRlIHZvbHVtZW4gKG3DunNpY2EpXHJcbiAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZVNsaWRlciA9IHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5kb20oY2VudGVyWCwgbXVzaWNTbGlkZXJZKVxyXG4gICAgICAgICAgICAuY3JlYXRlRnJvbUhUTUwoYDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBtaW49XCIwXCIgbWF4PVwiMVwiIHN0ZXA9XCIwLjAxXCIgdmFsdWU9XCIke2luaXRpYWxNdXNpY1ZvbHVtZX1cIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDoyMjBweDsgaGVpZ2h0OjIwcHg7IGFjY2VudC1jb2xvcjojMDBhYWZmOyBib3JkZXItcmFkaXVzOjVweDtcIi8+XHJcbiAgICAgICAgICAgIGApO1xyXG5cclxuICAgICAgICB0aGlzLm11c2ljVm9sdW1lU2xpZGVyLmFkZExpc3RlbmVyKCdpbnB1dCcpO1xyXG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIub24oJ2lucHV0JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHNldFN0b3JlZE11c2ljVm9sdW1lKHRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBTdWJ0w610dWxvIGRlIGVmZWN0b3NcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIHNmeExhYmVsWSwgJ1ZvbHVtZW4gRWZlY3RvcycsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gYmFycmEgZGUgdm9sdW1lbiAoZWZlY3RvcylcclxuICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlciA9IHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5kb20oY2VudGVyWCwgc2Z4U2xpZGVyWSlcclxuICAgICAgICAgICAgLmNyZWF0ZUZyb21IVE1MKGA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD1cIjFcIiBzdGVwPVwiMC4wMVwiIHZhbHVlPVwiJHtpbml0aWFsU2Z4Vm9sdW1lfVwiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIndpZHRoOjIyMHB4OyBoZWlnaHQ6MjBweDsgYWNjZW50LWNvbG9yOiMwMGFhZmY7IGJvcmRlci1yYWRpdXM6NXB4O1wiLz5cclxuICAgICAgICAgICAgYCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyLmFkZExpc3RlbmVyKCdpbnB1dCcpO1xyXG4gICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyLm9uKCdpbnB1dCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBzZXRTdG9yZWRTZnhWb2x1bWUodGFyZ2V0LnZhbHVlKTtcclxuICAgICAgICAgICAgYXBwbHlTdG9yZWRWb2x1bWUodGhpcyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyLmFkZExpc3RlbmVyKCdjaGFuZ2UnKTtcclxuICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlci5vbignY2hhbmdlJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHNlIHJlcHJvZHVjZSBhbCBzb2x0YXIgcGFyYSBkYXIgZmVlZGJhY2tcclxuICAgICAgICAgICAgcGxheUNsaWNrKHRoaXMsICdzb25pZG9DbGljaycpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vLy8vLy8vXHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBWb2x2ZXIgYXRyw6FzXHJcbiAgICAgICAgY3JlYXRlSWNvbkJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcclxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC4wOCxcclxuICAgICAgICAgICAgdGV4dHVyZTogJ2JvdG9uVm9sdmVyJyxcclxuICAgICAgICAgICAgc2NhbGU6IDEsXHJcbiAgICAgICAgICAgIGhvdmVyU2NhbGU6IDEuMSxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWVudV9TY2VuZScpLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzZSBsaW1waWEgZWwgc2xpZGVyIGFsIHNhbGlyIGRlIGxhIGVzY2VuYVxyXG4gICAgICAgIC8vIChhc8OtIHNlIGV2aXRhIHF1ZSBzZSBhY3VtdWxlbiBzaSBlbnRyYXMgeSBzYWxlcyB2YXJpYXMgdmVjZXMpXHJcbiAgICAgICAgdGhpcy5ldmVudHMub25jZShQaGFzZXIuU2NlbmVzLkV2ZW50cy5TSFVURE9XTiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tdXNpY1ZvbHVtZVNsaWRlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZVNsaWRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZVNsaWRlciA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2Z4Vm9sdW1lU2xpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5nbG9iYWxWb2x1bWVTbGlkZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsVm9sdW1lU2xpZGVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxWb2x1bWVTbGlkZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxWb2x1bWVTbGlkZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gUGFudGFsbGEgZGUgQ3LDqWRpdG9zXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWRpdHNfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NyZWRpdHNfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIGltw6FnZW5lcyBmb25kbyB5IHVpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9GTEVDSEFfVk9MVkVSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9NZW51UHJpbmNpcGFsJywgJ0FTU0VUUy9GT05ET1MvTUVOVV9QUklOQ0lQQUwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsb2dvJywgJ0FTU0VUUy9MT0dPL2xvZ29fZW1wcmVzYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hcmNvJywgJ0FTU0VUUy9VSS9NQVJDT1MvVkFDSU9TL01BUkNPU19FU0NFTkFSSU8ucG5nJylcclxuXHJcbiAgICAgICAgLy8gc29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcclxuXHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscz8uZGVmYXVsdFRleHRTdHlsZSA/PyB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG9NZW51UHJpbmNpcGFsJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTIpXHJcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gY2FwYSBvc2N1cmEgcG9yIGVuY2ltYSBkZWwgZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHgwMDAwMDAsIDAuNTApXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAgICAgLnNldERlcHRoKC0xKTtcclxuXHJcbiAgICAgICAgLy8gbm9tYnJlIHkgbWllbWJyb3MgZGVsIGVxdWlwb1xyXG4gICAgICAgIGNvbnN0IG5vbWJyZXNFcXVpcG8gPSBbXHJcbiAgICAgICAgICAgICdHUlVQTyA1IC0gU1VOU0VUIEFSQ0FERScsXHJcbiAgICAgICAgICAgICdTYXJhIEJ1ZW5vIEVzdGViYW4nLFxyXG4gICAgICAgICAgICAnQW50b25pbyBNb3LDoW4gQmFycmVyYScsXHJcbiAgICAgICAgICAgICdDcmlzdGluZSBOaW9rYSBUZXdvJyxcclxuICAgICAgICAgICAgJ0FsdmFybyBJYsOhw7FleiBNb250ZXJvJyxcclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICAvL3RhcmpldGEgZG9uZGUgc2UgbXVlc3RyYSBlbCBub21icmUgZGVsIGVxdWlwbyB5IGxvcyBtaWVtYnJvc1xyXG4gICAgICAgIGNvbnN0IGNhcmRXaWR0aCA9IHdpZHRoICogMC4zODtcclxuICAgICAgICBjb25zdCBjYXJkSGVpZ2h0ID0gaGVpZ2h0ICogMC40NjtcclxuICAgICAgICBjb25zdCBjYXJkWCA9IHdpZHRoICogMC43NTtcclxuICAgICAgICBjb25zdCBjYXJkWSA9IGhlaWdodCAqIDAuNDY7XHJcblxyXG4gICAgICAgIGNvbnN0IGNhcmQgPSB0aGlzLmFkZFxyXG4gICAgICAgICAgICAucmVjdGFuZ2xlKGNhcmRYLCBjYXJkWSwgY2FyZFdpZHRoLCBjYXJkSGVpZ2h0LCAweDExMTExMSwgMC43KVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgY2FyZC5zZXRTdHJva2VTdHlsZSgyLCAweGZmZmZmZiwgMC4yKTtcclxuXHJcbiAgICAgICAgY29uc3QgbGluZVNwYWNpbmcgPSAzNjtcclxuICAgICAgICBjb25zdCBzdGFydFkgPSBjYXJkWSAtICgobm9tYnJlc0VxdWlwby5sZW5ndGggLSAxKSAqIGxpbmVTcGFjaW5nKSAvIDI7XHJcblxyXG4gICAgICAgIG5vbWJyZXNFcXVpcG8uZm9yRWFjaCgobm9tYnJlLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzSGVhZGVyID0gaSA9PT0gMDtcclxuICAgICAgICAgICAgdGhpcy5hZGRcclxuICAgICAgICAgICAgICAgIC50ZXh0KGNhcmRYLCBzdGFydFkgKyBpICogbGluZVNwYWNpbmcsIG5vbWJyZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdWVDMyMycsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IGlzSGVhZGVyID8gJzM2cHgnIDogJzMycHgnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiBpc0hlYWRlciA/ICcjZjVkNzZlJyA6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgIC8vIHTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNhcmRYLCBoZWlnaHQgKiAwLjEsICdDcsOpZGl0b3MnLCB7XHJcbiAgICAgICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnNDJweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gbG9nbyBlbXByZXNhXHJcbiAgICAgICAgY29uc3QgbG9nb1ggPSBjYXJkWDtcclxuICAgICAgICBjb25zdCBsb2dvWSA9IGNhcmRZICsgKGNhcmRIZWlnaHQgLyAyKSArIGhlaWdodCAqIDAuMTYgLSAzO1xyXG4gICAgICAgIHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5pbWFnZShsb2dvWCwgbG9nb1ksICdsb2dvJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjcpO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gVm9sdmVyIGF0csOhc1xyXG4gICAgICAgIGNyZWF0ZUljb25CdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuMDYsXHJcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXHJcbiAgICAgICAgICAgIHRleHR1cmU6ICdib3RvblZvbHZlcicsXHJcbiAgICAgICAgICAgIHNjYWxlOiAxLFxyXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCIvL1BhbnRhbGxhIGRlIEZpblxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgRW5kR2FtZV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignRW5kR2FtZV9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMud2lubmVyID0gZGF0YS53aW5uZXI7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxID0gZGF0YS5wbGF5ZXIxO1xyXG4gICAgICAgIHRoaXMucGxheWVyMiA9IGRhdGEucGxheWVyMjtcclxuICAgIH1cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gaW3DoWdlbmVzIGZvbmRvIHkgdWlcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfR19TRUxFQ0NJT05BRE8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfRy5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gc29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHsgXHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHMuZGVmYXVsdFRleHRTdHlsZTtcclxuXHJcbiAgICAgICAgY29uc3QgY2hhclAxID0gdGhpcy5wbGF5ZXIxLm5hbWU7XHJcbiAgICAgICAgY29uc3QgY2hhclAyID0gdGhpcy5wbGF5ZXIyLm5hbWU7XHJcblxyXG4gICAgICAgIC8vIEZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvJykuc2V0T3JpZ2luKDApLnNldERlcHRoKC0xKTtcclxuXHJcbiAgICAgICAgLy8gVMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgKiAwLjE4LCBcIsKhRmluIGRlbCBwYXJ0aWRvIVwiLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3Qgd2lubmVyVGV4dFkgPSBoZWlnaHQgKiAwLjM2O1xyXG4gICAgICAgIGNvbnN0IHNwcml0ZVJvd1kgPSBoZWlnaHQgKiAwLjUyO1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvblkgPSBoZWlnaHQgKiAwLjkwO1xyXG4gICAgICAgIGNvbnN0IHNwcml0ZU9mZnNldFggPSB3aWR0aCAqIDAuMjtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gaW5kaWNhbmRvIGVsIGdhbmFkb3JcclxuICAgICAgICBjb25zdCB3aW5uZXJUZXh0ID1cclxuICAgICAgICAgICAgdGhpcy53aW5uZXIgPT09IFwicGxheWVyMVwiXHJcbiAgICAgICAgICAgICAgICA/IFwiVmljdG9yaWEgZGU6IFwiICsgY2hhclAxXHJcbiAgICAgICAgICAgICAgICA6IFwiVmljdG9yaWEgZGU6IFwiICsgY2hhclAyO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgd2lubmVyVGV4dFksIHdpbm5lclRleHQsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBIdWVjb3MgcGFyYSBzcHJpdGVzIGRlIGdhbmFkb3IgeSBwZXJkZWRvciAoYW5pbWFjaW9uZXMgZnV0dXJhcylcclxuICAgICAgICB0aGlzLndpbm5lclNwcml0ZVNsb3QgPSB0aGlzLmFkZC5jb250YWluZXIod2lkdGggLyAyIC0gc3ByaXRlT2Zmc2V0WCwgc3ByaXRlUm93WSk7XHJcbiAgICAgICAgdGhpcy5sb3NlclNwcml0ZVNsb3QgPSB0aGlzLmFkZC5jb250YWluZXIod2lkdGggLyAyICsgc3ByaXRlT2Zmc2V0WCwgc3ByaXRlUm93WSk7XHJcblxyXG5cclxuICAgICAgICAvLyBib3TDs24gcGFyYSB2b2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgY29uc3QgYnV0dG9uVGV4dFN0eWxlID0ge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IGJ1dHRvblksXHJcbiAgICAgICAgICAgIGxhYmVsOiAnTWVuw7ogUHJpbmNpcGFsJyxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudV9TY2VuZScpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCIvLyBQYW50YWxsYSBwYXJhIGVsZWdpciBNb2RvIGRlIEp1ZWdvXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY3JlYXRlVUlCdXR0b24sIGNyZWF0ZUljb25CdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcclxuaW1wb3J0IHsgYXBwbHlTdG9yZWRWb2x1bWUgfSBmcm9tICcuLi9VSS9BdWRpby5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTW9kZUdhbWVfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ01vZGVHYW1lX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBib3RvbmVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9TRUxFQ0NJT05ETy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fU0lOX1NFTEVDQ0lPTkFSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvRkxFQ0hBX1ZPTFZFUi5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gc29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscz8uZGVmYXVsdFRleHRTdHlsZSA/PyB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gc2UgYXBsaWNhIGVsIHZvbHVtZW5cclxuICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSlcclxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyB0w610dWxvXHJcbiAgICAgICAgdGhpcy5hZGRcclxuICAgICAgICAgICAgLnRleHQod2lkdGggLyAyLCBoZWlnaHQgKiAwLjE4LCAnTW9kbyBkZSBKdWVnbycsIHtcclxuICAgICAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICc0MnB4JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGxheW91dFxyXG4gICAgICAgIGNvbnN0IGJ1dHRvblkgPSBoZWlnaHQgKiAwLjU7XHJcbiAgICAgICAgY29uc3Qgc3BhY2luZyA9IE1hdGgubWluKDI4MCwgd2lkdGggKiAwLjMpO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0WCA9IHdpZHRoIC8gMiAtIHNwYWNpbmcgLyAyO1xyXG5cclxuICAgICAgICBjb25zdCBidXR0b25UZXh0U3R5bGUgPSB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IHN0YXJ0TW9kZSA9IChtb2RlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KCdtb2RlJywgbW9kZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNb2RvIHNlbGVjY2lvbmFkbzonLCBtb2RlKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnU2VsZWN0UGxheWVyX1NjZW5lJywgeyBtb2RlOiBtb2RlIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBMT0NBTFxyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogc3RhcnRYLFxyXG4gICAgICAgICAgICB5OiBidXR0b25ZLFxyXG4gICAgICAgICAgICBsYWJlbDogJ0xvY2FsJyxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gc3RhcnRNb2RlKCdsb2NhbCcpLFxyXG4gICAgICAgICAgICBzY2FsZTogMixcclxuICAgICAgICAgICAgdGV4dHVyZU5vcm1hbDogJ2JvdG9uU2luU2VsZWNjaW9uYXInLFxyXG4gICAgICAgICAgICB0ZXh0dXJlSG92ZXI6ICdib3RvblNlbGVjY2lvbmFkbycsXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gUkVEXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBzdGFydFggKyBzcGFjaW5nLFxyXG4gICAgICAgICAgICB5OiBidXR0b25ZLFxyXG4gICAgICAgICAgICBsYWJlbDogJ1JlZCcsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHN0YXJ0TW9kZSgnb25saW5lJyksXHJcbiAgICAgICAgICAgIHNjYWxlOiAyLFxyXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW5TZWxlY2Npb25hcicsXHJcbiAgICAgICAgICAgIHRleHR1cmVIb3ZlcjogJ2JvdG9uU2VsZWNjaW9uYWRvJyxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiB2b2x2ZXJcclxuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogd2lkdGggKiAwLjA2LFxyXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjA4LFxyXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxyXG4gICAgICAgICAgICBzY2FsZTogMSxcclxuICAgICAgICAgICAgaG92ZXJTY2FsZTogMS4xLFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyksXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLy9QYW50YWxsYSBkZSBQYXVzYVxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1BhdXNlX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBJbcOhZ2VuZXMgZm9uZG8geSB1aVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvVk9MVkVSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9HX1NFTEVDQ0lPTkFETy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9HLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBTb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHMuZGVmYXVsdFRleHRTdHlsZTsgXHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0LCAweDAwMDAwMCwgMC44OClcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjE4LCAnUGF1c2EnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1dHRvblRleHRTdHlsZSA9IHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjb25zdCBidXR0b25TdGFydFkgPSBoZWlnaHQgKiAwLjQ2O1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvblNwYWNpbmcgPSBoZWlnaHQgKiAwLjE0O1xyXG5cclxuICAgICAgICAvLyBib3TDs24gQ29udGludWFyXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBjZW50ZXJYLFxyXG4gICAgICAgICAgICB5OiBidXR0b25TdGFydFksXHJcbiAgICAgICAgICAgIGxhYmVsOiAnQ29udGludWFyJyxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIHNjYWxlOiAyLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKCdHYW1lX1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gYm90b24gVHV0b3JpYWxcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IGNlbnRlclgsXHJcbiAgICAgICAgICAgIHk6IGJ1dHRvblN0YXJ0WSArIGJ1dHRvblNwYWNpbmcsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnVHV0b3JpYWwnLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgc2NhbGU6IDIsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1R1dG9yaWFsX1NjZW5lJywgeyByZXR1cm5TY2VuZTogJ1BhdXNlX1NjZW5lJyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gTWVuw7ogUHJpbmNpcGFsXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBjZW50ZXJYLFxyXG4gICAgICAgICAgICB5OiBidXR0b25TdGFydFkgKyBidXR0b25TcGFjaW5nICogMixcclxuICAgICAgICAgICAgbGFiZWw6ICdNZW7DuiBQcmluY2lwYWwnLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgc2NhbGU6IDIsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVTY2VuZSA9IHRoaXMuc2NlbmUuZ2V0KCdHYW1lX1NjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZVNjZW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZVNjZW5lLmlucHV0LmtleWJvYXJkLnJlbW92ZUFsbExpc3RlbmVycygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWVTY2VuZS5pbnB1dC5rZXlib2FyZC5yZW1vdmVBbGxLZXlzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCdHYW1lX1NjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCIvLyBQYW50YWxsYSBkZSBTZWxlY2Npw7NuIGRlIGp1Z2Fkb3JcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcbmltcG9ydCB7IGFwcGx5U3RvcmVkVm9sdW1lLCBwbGF5Q2xpY2sgfSBmcm9tICcuLi9VSS9BdWRpby5qcyc7XG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiwgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xuXG5leHBvcnQgY2xhc3MgU2VsZWN0UGxheWVyX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ1NlbGVjdFBsYXllcl9TY2VuZScpO1xuXG4gICAgICAgIHRoaXMucGxheWVycyA9IFtdO1xuICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gMDsgICAgLy8gdHVybm9zOiAwIC0+IGp1Z2Fkb3IxLCAxIC0+IGp1Z2Fkb3IyLCBudWxsIC0+IGFtYm9zIGxpc3Rvc1xuICAgICAgICB0aGlzLnBsYXllcklucHV0cyA9IFtdO1xuICAgICAgICB0aGlzLnBsYXllcklucHV0RWxzID0gW107XG4gICAgICAgIHRoaXMudHVyblRleHQgPSBudWxsO1xuICAgIH1cblxuICAgIGluaXQoZGF0YSkge1xuICAgICAgICB0aGlzLm1vZGUgPSB0aGlzLnJlZ2lzdHJ5LmdldCgnbW9kZScpO1xuICAgICAgICBjb25zb2xlLmxvZygnTW9kbyBkZSBKdWVnbzonLCB0aGlzLm1vZGUpO1xuICAgICAgICB0aGlzLmlzSG9zdCA9IHRoaXMucmVnaXN0cnkuZ2V0KCdpc0hvc3QnKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0hvc3Q6JywgdGhpcy5pc0hvc3QpO1xuICAgIH1cblxuICAgIHByZWxvYWQoKSB7XG4gICAgICAgIC8vIGJvdG9uZXNcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9TRUxFQ0NJT05ETy5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX1NJTl9TRUxFQ0NJT05BUi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9WT0xWRVIucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW1wbGUnLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9TSU5TRUxFQ0NJT05BUi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFLnBuZycpO1xuXG4gICAgICAgIC8vIGZvbmRvXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hcmNvSnVnYWRvcicsICdBU1NFVFMvVUkvTUFSQ09TL1ZBQ0lPUy9NQVJDT19QRVJTT05BSkVfU0VMRUNDSU9OQURPLnBuZycpO1xuXG4gICAgICAgIC8vIHBlcnNvbmFqZXNcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjaGFyYWN0ZXJBJywgJ0FTU0VUUy9QRVJTT05BSkVTL1BFUlNPTkFKRVNfUE9TRS9wZXJzb25hamVzX2EucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2hhcmFjdGVyQicsICdBU1NFVFMvUEVSU09OQUpFUy9QRVJTT05BSkVTX1BPU0UvcGVyc29uYWplc19iLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NoYXJhY3RlckMnLCAnQVNTRVRTL1BFUlNPTkFKRVMvUEVSU09OQUpFU19QT1NFL3BlcnNvbmFqZV9jLnBuZycpO1xuXG4gICAgICAgIC8vIHNvbmlkb1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XG4gICAgfVxuXG4gICAgY3JlYXRlKCkge1xuICAgICAgICAvLyBzZSBsaW1waWFuIHRvZGFzIGxhcyB0ZWNsYXMgY2FwdHVyYWRhcyBwb3Igb3RyYXMgZXNjZW5hc1xuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLnJlbW92ZUFsbEtleXModHJ1ZSk7XG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG5cbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHM/LmRlZmF1bHRUZXh0U3R5bGUgPz8ge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHNlIGFwbGljYSBlbCB2b2x1bWVuXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xuXG4gICAgICAgIC8vIEZvbmRvXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgLy8gVMOtdHVsb1xuICAgICAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgNTAsICdTZWxlY2Npb25hIFBlcnNvbmFqZScsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgICAgZm9udFNpemU6ICc0MnB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBzZWfDum4gZWwgbW9kbyBzZSBjcmVhIHVuYSBVSSB1IG90cmFcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ2xvY2FsJykge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVMb2NhbFVJKHdpZHRoLCBoZWlnaHQsIHN0eWxlKTtcbiAgICAgICAgfSBcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ29ubGluZScpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlT25saW5lVUkod2lkdGgsIGhlaWdodCwgc3R5bGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQm90w7NuIHZvbHZlclxuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxuICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTW9kZUdhbWVfU2NlbmUnKSxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gc2UgbGltcGlhIERPTSBhbCBzYWxpclxuICAgICAgICB0aGlzLmV2ZW50cy5vbmNlKFBoYXNlci5TY2VuZXMuRXZlbnRzLlNIVVRET1dOLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsYXllcklucHV0cy5mb3JFYWNoKChkb20pID0+IGRvbT8uZGVzdHJveSgpKTtcbiAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRzID0gW107XG4gICAgICAgICAgICB0aGlzLnBsYXllcklucHV0RWxzID0gW107XG4gICAgICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVMb2NhbFVJKHdpZHRoLCBoZWlnaHQsIHN0eWxlKSB7XG4gICAgICAgIC8vIERhdG9zIGRlIGxvcyBqdWdhZG9yZXNcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gW1xuICAgICAgICAgICAgeyBuYW1lOiAnJywgY2hhcmFjdGVyOiBudWxsLCBjb2xvcjogMHgwMGFhZmYsIGJpZ0ltYWdlOiBudWxsLCBiaWdGcmFtZTogbnVsbCwgZnJhbWU6IG51bGwgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJycsIGNoYXJhY3RlcjogbnVsbCwgY29sb3I6IDB4ZmY1NTU1LCBiaWdJbWFnZTogbnVsbCwgYmlnRnJhbWU6IG51bGwsIGZyYW1lOiBudWxsIH0sXG4gICAgICAgIF07XG5cbiAgICAgICAgLy8gVGV4dG8gZGUgdHVybm9cbiAgICAgICAgdGhpcy50dXJuVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCA5NSwgJ1RVUk5POiBKdWdhZG9yIDEnLCB7XG4gICAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdWVDMyMycsXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMDAwJyxcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uT2Zmc2V0WSA9IDI1O1xuXG4gICAgICAgIC8vIFVJIGp1Z2Fkb3JlcyArIG1pbmlhdHVyYXNcbiAgICAgICAgdGhpcy5jcmVhdGVQbGF5ZXJzVUkoc2VsZWN0aW9uT2Zmc2V0WSk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ2hhcmFjdGVyTWluaWF0dXJlcygwLCBzZWxlY3Rpb25PZmZzZXRZKTtcbiAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xuXG4gICAgICAgIC8vIEJvdMOzbiBTaWd1aWVudGVcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxuICAgICAgICAgICAgeTogNTAwLFxuICAgICAgICAgICAgbGFiZWw6ICdTaWd1aWVudGUnLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5oYW5kbGVOZXh0KCksXG4gICAgICAgICAgICBzY2FsZTogMS41LFxuICAgICAgICAgICAgdGV4dHVyZU5vcm1hbDogJ2JvdG9uU2ltcGxlJyxcbiAgICAgICAgICAgIHRleHR1cmVIb3ZlcjogJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJyxcbiAgICAgICAgICAgIHRleHRTdHlsZTogeyAuLi5zdHlsZSwgZm9udFNpemU6ICcxOHB4JywgY29sb3I6ICcjMDAwJyB9LFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJ1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVPbmxpbmVVSSh3aWR0aCwgaGVpZ2h0LCBzdHlsZSkge1xuICAgICAgICAvLyBEYXRvcyBkZWwganVnYWRvclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBbXG4gICAgICAgICAgICB7IG5hbWU6IHRoaXMucmVnaXN0cnkuZ2V0KCd1c2VybmFtZScpIHx8ICdKdWdhZG9yWCcsIGNoYXJhY3RlcjogbnVsbCwgY29sb3I6IDB4MDBhYWZmLCBiaWdJbWFnZTogbnVsbCwgYmlnRnJhbWU6IG51bGwsIGZyYW1lOiBudWxsIH1cbiAgICAgICAgXTtcblxuICAgICAgICBjb25zdCBzZWxlY3Rpb25PZmZzZXRZID0gNDA7XG5cbiAgICAgICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDEwMCArIHNlbGVjdGlvbk9mZnNldFksIGAke3RoaXMucGxheWVyc1swXS5uYW1lfWAsIHsgXG4gICAgICAgICAgICAuLi5zdHlsZSwgZm9udFNpemU6ICcyOHB4JywgY29sb3I6ICcjMDAwJywgZm9udFN0eWxlOiAnYm9sZCcgXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuICAgICAgICBcbiAgICAgICAgLy8gVGV4dG8gZGUgdHVybm8gKEVzdGFkbyBlbiBlc3RlIGNhc28sIHBlcm8gY29uIGVsIG1pc21vIG5vbWJyZSBwYXJhIG1hbnRlcm5lciBsYSBtaXNtYSBmdW5jaW9uYWxpZGFkKVxuICAgICAgICB0aGlzLnR1cm5UZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDEzMCwgJ05pbmfDum4gcGVyc29uYWplIHNlbGVjY2lvbmFkbycsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlLCBmb250U2l6ZTogJzE4cHgnLCBjb2xvcjogJyMwMDAnLFxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBVSSBqdWdhZG9yZXMgKyBtaW5pYXR1cmFzXG4gICAgICAgIHRoaXMuY3JlYXRlUGxheWVyT25saW5lVUkoc2VsZWN0aW9uT2Zmc2V0WSk7XG4gICAgICAgIHRoaXMuY3JlYXRlQ2hhcmFjdGVyTWluaWF0dXJlcygxNTAsIHNlbGVjdGlvbk9mZnNldFkpO1xuXG4gICAgICAgIC8vIEJvdMOzbiBTaWd1aWVudGVcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxuICAgICAgICAgICAgeTogNTAwLFxuICAgICAgICAgICAgbGFiZWw6ICdTaWd1aWVudGUnLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5oYW5kbGVOZXh0KCksXG4gICAgICAgICAgICBzY2FsZTogMS41LFxuICAgICAgICAgICAgdGV4dHVyZU5vcm1hbDogJ2JvdG9uU2ltcGxlJyxcbiAgICAgICAgICAgIHRleHR1cmVIb3ZlcjogJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJyxcbiAgICAgICAgICAgIHRleHRTdHlsZTogeyAuLi5zdHlsZSwgZm9udFNpemU6ICcxOHB4JywgY29sb3I6ICcjMDAwJyB9LFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYSBsYSBVSSBkZSBzZWxlY2Npw7NuIGRlIGp1Z2Fkb3Jlc1xuICAgIGNyZWF0ZVBsYXllcnNVSShvZmZzZXRZID0gMCkge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHMuZGVmYXVsdFRleHRTdHlsZTtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbnNYID0gW3dpZHRoICogMC4yNSwgd2lkdGggKiAwLjc1XTtcblxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaCgocGxheWVyLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHggPSBwb3NpdGlvbnNYW2lkeF07XG5cbiAgICAgICAgICAgIC8vIExhYmVsIG5vbWJyZVxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dCh4LCAxMDAgKyBvZmZzZXRZLCAnTm9tYnJlOicsIHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMjRweCcsIGNvbG9yOiAnIzAwMCcgfSlcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgICAgIC8vIElucHV0IG5vbWJyZVxuICAgICAgICAgICAgY29uc3QgZG9tID0gdGhpcy5hZGQuZG9tKHgsIDE0MCArIG9mZnNldFkpLmNyZWF0ZUZyb21IVE1MKGBcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIk5vbWJyZSBqdWdhZG9yXCIgbWF4bGVuZ3RoPVwiMTBcIlxuICAgICAgICAgICAgICAgIHN0eWxlPVwiXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOjE1MHB4O1xuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOjZweDtcbiAgICAgICAgICAgICAgICAgICAgZm9udC1zaXplOjE2cHg7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiR7c3R5bGUuZm9udEZhbWlseX07XG4gICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6MTJweDtcbiAgICAgICAgICAgICAgICAgICAgYm9yZGVyOiA2cHggc29saWQgI0ZGQUEwMDtcbiAgICAgICAgICAgICAgICAgICAgb3V0bGluZTogbm9uZTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjpjZW50ZXI7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6I2YwZjBmMDtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbjogYm9yZGVyLWNvbG9yIDAuMnMsIGJveC1zaGFkb3cgMC4ycztcIlxuICAgICAgICAgICAgICAgIG9uZm9jdXM9XCJ0aGlzLnN0eWxlLmJvcmRlckNvbG9yPScjRkY4MzE2JzsgdGhpcy5zdHlsZS5ib3hTaGFkb3c9JzAgMCA1cHggI0ZGODMxNic7XCJcbiAgICAgICAgICAgICAgICBvbmJsdXI9XCJ0aGlzLnN0eWxlLmJvcmRlckNvbG9yPScjRkZBQTAwJzsgdGhpcy5zdHlsZS5ib3hTaGFkb3c9J25vbmUnO1wiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIGApO1xuXG4gICAgICAgICAgICBjb25zdCBpbnB1dEVsID0gLyoqIEB0eXBlIHtIVE1MSW5wdXRFbGVtZW50fSAqLyAoZG9tLm5vZGUucXVlcnlTZWxlY3RvcignaW5wdXQnKSk7XG5cbiAgICAgICAgICAgIC8vIHBhcmEgcXVlIGVsIHRlY2xhZG8gbm8gaW50ZXJmaWVyYSBjb24gUGhhc2VyXG4gICAgICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCkpO1xuXG4gICAgICAgICAgICAvLyBMZXRyYXMgKyBlc3BhY2lvc1xuICAgICAgICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpbnB1dEVsLnZhbHVlID0gaW5wdXRFbC52YWx1ZS5yZXBsYWNlKC9bXmEtekEtWsOALcO/w7HDkSBdL2csICcnKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dHNbaWR4XSA9IGRvbTtcbiAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRFbHNbaWR4XSA9IGlucHV0RWw7XG5cbiAgICAgICAgICAgIC8vIOKAnFNsb3TigJ0gZ3JhbmRlICsgbWFyY29cbiAgICAgICAgICAgIHBsYXllci5iaWdJbWFnZSA9IHRoaXMuYWRkLmltYWdlKHdpZHRoICogKDAuMjUgKyAwLjUgKiBpZHgpLCBoZWlnaHQgKiAwLjYgKyBvZmZzZXRZLCAnY2hhcmFjdGVyQScpXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEuMilcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAgICAgICAgIHBsYXllci5iaWdGcmFtZSA9IHRoaXMuYWRkLmltYWdlKHBsYXllci5iaWdJbWFnZS54LCBwbGF5ZXIuYmlnSW1hZ2UueSwgJ21hcmNvSnVnYWRvcicpXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDIuOClcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgICAgICAuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgIHBsYXllci5iaWdGcmFtZS50ZXh0dXJlLnNldEZpbHRlcihQaGFzZXIuVGV4dHVyZXMuRmlsdGVyTW9kZS5ORUFSRVNUKTtcblxuICAgICAgICAgICAgLy8gTWFyY28gc29icmUgbWluaWF0dXJhIChyZWN0w6FuZ3VsbylcbiAgICAgICAgICAgIHBsYXllci5mcmFtZSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCA2MCwgMTIwKVxuICAgICAgICAgICAgICAgIC5zZXRTdHJva2VTdHlsZSg0LCBwbGF5ZXIuY29sb3IpXG4gICAgICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBUdXJubyBlbXBpZXphIGVuIGp1Z2Fkb3IgMVxuICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gMDtcbiAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xuICAgIH1cblxuICAgIGNyZWF0ZVBsYXllck9ubGluZVVJKG9mZnNldFkgPSAwKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcblxuICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLnBsYXllcnNbMF07XG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XG5cbiAgICAgICAgLy8g4oCcU2xvdOKAnSBncmFuZGUgKyBtYXJjb1xuICAgICAgICBwbGF5ZXIuYmlnSW1hZ2UgPSB0aGlzLmFkZC5pbWFnZShjZW50ZXJYIC0gMTUwLCBoZWlnaHQgKiAwLjU4ICsgb2Zmc2V0WSwgJ2NoYXJhY3RlckEnKVxuICAgICAgICAgICAgLnNldFNjYWxlKDEuMilcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xuXG4gICAgICAgIHBsYXllci5iaWdGcmFtZSA9IHRoaXMuYWRkLmltYWdlKHBsYXllci5iaWdJbWFnZS54LCBwbGF5ZXIuYmlnSW1hZ2UueSwgJ21hcmNvSnVnYWRvcicpXG4gICAgICAgICAgICAuc2V0U2NhbGUoMi44KVxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgcGxheWVyLmJpZ0ZyYW1lLnRleHR1cmUuc2V0RmlsdGVyKFBoYXNlci5UZXh0dXJlcy5GaWx0ZXJNb2RlLk5FQVJFU1QpO1xuXG4gICAgICAgIC8vIE1hcmNvIHNvYnJlIG1pbmlhdHVyYSAocmVjdMOhbmd1bG8pXG4gICAgICAgIHBsYXllci5mcmFtZSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCA2MCwgMTIwKVxuICAgICAgICAgICAgLnNldFN0cm9rZVN0eWxlKDQsIHBsYXllci5jb2xvcilcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhIGxhcyBtaW5pYXR1cmFzIGRlIGxvcyBwZXJzb25hamVzIHNlbGVjY2lvbmFibGVzXG4gICAgY3JlYXRlQ2hhcmFjdGVyTWluaWF0dXJlcyh4LCB5KSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcblxuICAgICAgICBjb25zdCBwZXJzb25hamVzID0gWydjaGFyYWN0ZXJBJywgJ2NoYXJhY3RlckInLCAnY2hhcmFjdGVyQyddO1xuICAgICAgICBjb25zdCBzcGFjaW5nID0gMTUwO1xuICAgICAgICBjb25zdCBzdGFydFggPSB3aWR0aCAvIDIgLSBzcGFjaW5nIC8gMjtcbiAgICAgICAgY29uc3Qgc3RhcnRZID0gaGVpZ2h0ICogMC41O1xuXG4gICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IFtcbiAgICAgICAgICAgIHsgeDogc3RhcnRYICsgeCwgeTogc3RhcnRZICsgeSB9LFxuICAgICAgICAgICAgeyB4OiBzdGFydFggKyB4ICsgc3BhY2luZywgeTogc3RhcnRZICsgeSB9LFxuICAgICAgICAgICAgeyB4OiBzdGFydFggKyB4ICsgc3BhY2luZyAvIDIsIHk6IHN0YXJ0WSArIHkgKyBzcGFjaW5nIC8gMiB9LFxuICAgICAgICBdO1xuXG4gICAgICAgIHBlcnNvbmFqZXMuZm9yRWFjaCgobm9tYnJlLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtaW5pID0gdGhpcy5hZGQuaW1hZ2UocG9zaXRpb25zW2ldLngsIHBvc2l0aW9uc1tpXS55LCBub21icmUpXG4gICAgICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjQ1KVxuICAgICAgICAgICAgICAgIC5zZXREYXRhKCdjaGFyYWN0ZXJOYW1lJywgbm9tYnJlKTtcblxuICAgICAgICAgICAgbWluaS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcGxheUNsaWNrKHRoaXMsICdzb25pZG9DbGljaycpO1xuICAgICAgICAgICAgICAgIHRoaXMub25NaW5pQ2xpY2tlZChub21icmUsIG1pbmkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEzDs2dpY2EgYWwgaGFjZXIgY2xpY2sgc29icmUgdW5hIG1pbmlhdHVyYSAocGVyc29uYWplKVxuICAgIG9uTWluaUNsaWNrZWQoY2hhcmFjdGVyTmFtZSwgbWluaSkge1xuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnb25saW5lJykge1xuICAgICAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wbGF5ZXJzWzBdO1xuXG4gICAgICAgICAgICAvLyBTaSBlbCBwZXJzb25hamUgeWEgZXMgZWwgc2VsZWNjaW9uYWRvLCBzZSBkZXNlbGVjY2lvbmFcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuY2hhcmFjdGVyID09PSBjaGFyYWN0ZXJOYW1lKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyLmNoYXJhY3RlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5iaWdJbWFnZSkgcGxheWVyLmJpZ0ltYWdlLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuZnJhbWUpIHBsYXllci5mcmFtZS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gU2kgZXMgdW5vIG51ZXZvLCBzZSBzZWxlY2Npb25hICh5IGF1dG9tw6F0aWNhbWVudGUgZGVzbWFyY2EgZWwgYW50ZXJpb3Igc2kgbG8gaHViaWVyYSlcbiAgICAgICAgICAgICAgICBwbGF5ZXIuY2hhcmFjdGVyID0gY2hhcmFjdGVyTmFtZTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmJpZ0ltYWdlKSBwbGF5ZXIuYmlnSW1hZ2Uuc2V0VGV4dHVyZShjaGFyYWN0ZXJOYW1lKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuZnJhbWUpIHBsYXllci5mcmFtZS5zZXRQb3NpdGlvbihtaW5pLngsIG1pbmkueSkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcbiAgICAgICAgICAgIHJldHVybjsgLy8gU2FsaW1vcyBwYXJhIG5vIGVqZWN1dGFyIGxhIGzDs2dpY2EgZGUgdHVybm9zIGRlbCBtb2RvIGxvY2FsXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvd25lckluZGV4ID0gdGhpcy5wbGF5ZXJzLmZpbmRJbmRleChwID0+IHAuY2hhcmFjdGVyID09PSBjaGFyYWN0ZXJOYW1lKTtcblxuICAgICAgICAvLyBzaSBlbCBwZXJzb25hamUgeWEgcGVydGVuZWNlIGEgYWxndWllbiwgc2UgZGVzZWxlY2Npb25hIHNpZW1wcmVcbiAgICAgICAgaWYgKG93bmVySW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBjb25zdCBvd25lciA9IHRoaXMucGxheWVyc1tvd25lckluZGV4XTtcblxuICAgICAgICAgICAgb3duZXIuY2hhcmFjdGVyID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKG93bmVyLmJpZ0ltYWdlKSBvd25lci5iaWdJbWFnZS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChvd25lci5mcmFtZSkgb3duZXIuZnJhbWUuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAgICAgICAgIC8vIEVsIHR1cm5vIHBhc2EgYSBlc2UganVnYWRvciBwYXJhIHF1ZSBlbGlqYSBpbm1lZGlhdGFtZW50ZSBvdHJvXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gb3duZXJJbmRleDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpIGVsIHBlcnNvbmFqZSBubyBwZXJ0ZW5lY2UgYSBuYWRpZSwgbG8gYXNpZ25hbW9zIHNlZ8O6biBlbCB0dXJubyAobyBzZWfDum4gcXVpw6luIGZhbHRlKVxuICAgICAgICBjb25zdCBwMSA9IHRoaXMucGxheWVyc1swXTtcbiAgICAgICAgY29uc3QgcDIgPSB0aGlzLnBsYXllcnNbMV07XG5cbiAgICAgICAgbGV0IHRhcmdldEluZGV4ID0gdGhpcy5jdXJyZW50VHVybjtcblxuICAgICAgICAvLyBzaSBjdXJyZW50VHVybiBlcyBudWxsIChhbWJvcyB5YSB0ZW7DrWFuKSwgbm8gc2UgZGVqYSByZWVtcGxhemFyIHNpbiBkZXNlbGVjY2lvbmFyIGFudGVzLFxuICAgICAgICAvLyBwZXJvIHNpIHVubyBlc3TDoSB2YWPDrW8sIHNlIGVsaWdlIGF1dG9tw6F0aWNhbWVudGUgZWwgdmFjw61vXG4gICAgICAgIGlmICh0YXJnZXRJbmRleCA9PT0gbnVsbCB8fCB0YXJnZXRJbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoIXAxLmNoYXJhY3RlciAmJiBwMi5jaGFyYWN0ZXIpIHRhcmdldEluZGV4ID0gMDtcbiAgICAgICAgICAgIGVsc2UgaWYgKCFwMi5jaGFyYWN0ZXIgJiYgcDEuY2hhcmFjdGVyKSB0YXJnZXRJbmRleCA9IDE7XG4gICAgICAgICAgICBlbHNlIGlmICghcDEuY2hhcmFjdGVyICYmICFwMi5jaGFyYWN0ZXIpIHRhcmdldEluZGV4ID0gMDtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGFtYm9zIHRpZW5lbiBwZXJzb25hamU6IHBhcmEgY2FtYmlhciwgcHJpbWVybyBkZXNlbGVjY2lvbmEgdW5vIChjbGljayBlbiBzdSBtaW5pKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMucGxheWVyc1t0YXJnZXRJbmRleF07XG4gICAgICAgIGNvbnN0IG90aGVyID0gdGhpcy5wbGF5ZXJzWzEgLSB0YXJnZXRJbmRleF07XG5cbiAgICAgICAgLy8gbm8gc2UgcGVybWl0ZSBlc2NvZ2VyIHVubyBxdWUgdGVuZ2EgZWwgb3Ryb1xuICAgICAgICBpZiAob3RoZXIuY2hhcmFjdGVyID09PSBjaGFyYWN0ZXJOYW1lKSByZXR1cm47XG5cbiAgICAgICAgLy8gQXNpZ25hciBwZXJzb25hamVcbiAgICAgICAgdGFyZ2V0LmNoYXJhY3RlciA9IGNoYXJhY3Rlck5hbWU7XG5cbiAgICAgICAgaWYgKHRhcmdldC5iaWdJbWFnZSkgdGFyZ2V0LmJpZ0ltYWdlLnNldFRleHR1cmUoY2hhcmFjdGVyTmFtZSkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgaWYgKHRhcmdldC5mcmFtZSkgdGFyZ2V0LmZyYW1lLnNldFBvc2l0aW9uKG1pbmkueCwgbWluaS55KS5zZXRWaXNpYmxlKHRydWUpO1xuXG4gICAgICAgIC8vIHR1cm5vOiBzaSBlbCBvdHJvIGHDum4gbm8gZWxpZ2nDsywgcGFzYSBhbCBvdHJvOyBzaSB5YSBlbGlnacOzLCBxdWVkYSBlbiBudWxsIChhbWJvcyBsaXN0b3MpXG4gICAgICAgIGlmICghb3RoZXIuY2hhcmFjdGVyKSB0aGlzLmN1cnJlbnRUdXJuID0gMSAtIHRhcmdldEluZGV4O1xuICAgICAgICBlbHNlIHRoaXMuY3VycmVudFR1cm4gPSBudWxsO1xuXG4gICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcbiAgICB9XG5cbiAgICAvLyBDb250cm9sYSBxdWUgcGFzYSBhbCBoYWNlciBjbGljayBlbiBlbCBib3TDs24gU2lndWllbnRlXG4gICAgaGFuZGxlTmV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ2xvY2FsJykge1xuICAgICAgICAgICAgIGNvbnN0IG5hbWUxID0gdGhpcy5wbGF5ZXJJbnB1dEVscz8uWzBdPy52YWx1ZT8udHJpbSgpID8/ICcnO1xuICAgICAgICAgICAgY29uc3QgcDFIYXNDaGFyID0gISF0aGlzLnBsYXllcnM/LlswXT8uY2hhcmFjdGVyO1xuXG4gICAgICAgICAgICBjb25zdCBuYW1lMiA9IHRoaXMucGxheWVySW5wdXRFbHM/LlsxXT8udmFsdWU/LnRyaW0oKSA/PyAnJztcbiAgICAgICAgICAgIGNvbnN0IHAySGFzQ2hhciA9ICEhdGhpcy5wbGF5ZXJzPy5bMV0/LmNoYXJhY3RlcjtcblxuICAgICAgICAgICAgY29uc3QgcmVhZHkgPSAobmFtZTEubGVuZ3RoID4gMCkgJiYgKG5hbWUyLmxlbmd0aCA+IDApICYmIHAxSGFzQ2hhciAmJiBwMkhhc0NoYXI7XG5cbiAgICAgICAgICAgIGlmICghcmVhZHkpIHtcbiAgICAgICAgICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgdGV4dG8gZGUgYXJyaWJhICh0dXJuVGV4dCkgY29uIGVsIG1lbnNhamUgZXNwZWPDrWZpY29cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XG5cbiAgICAgICAgICAgICAgICAvLyBzZSBkZXN0YWNhIGVsIG1lbnNhamUgZW4gcm9qbyBkdXJhbnRlIDFzXG4gICAgICAgICAgICAgICAgdGhpcy5mbGFzaFR1cm5UZXh0KCcjYjAwMDAwJywgOTAwKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2UgZ3VhcmRhbiBub21icmVzXG4gICAgICAgICAgICB0aGlzLnBsYXllcnNbMF0ubmFtZSA9IG5hbWUxO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzWzFdLm5hbWUgPSBuYW1lMjtcblxuICAgICAgICAgICAgLy8gc2UgcGFzYSBhIGxhIHNpZ3VpZW50ZSBlc2NlbmFcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NlbGVjdFNjZW5hcmlvX1NjZW5lJywge1xuICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLnBsYXllcnNbMF0sXG4gICAgICAgICAgICAgICAgcGxheWVyMjogdGhpcy5wbGF5ZXJzWzFdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnb25saW5lJykge1xuICAgICAgICAgICAgY29uc3QgcDFIYXNDaGFyID0gISF0aGlzLnBsYXllcnM/LlswXT8uY2hhcmFjdGVyO1xuXG4gICAgICAgICAgICBpZiAoIXAxSGFzQ2hhcikge1xuICAgICAgICAgICAgICAgIC8vIHNvbG8gc2UgYXZpc2Egc2kgbm8gaGEgZWxlZ2lkbyBwZXJzb25hamVcbiAgICAgICAgICAgICAgICB0aGlzLmZsYXNoVHVyblRleHQoJyNiMDAwMDAnLCA5MDApO1xuICAgICAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRGViZXMgZWxlZ2lyIHVuIHBlcnNvbmFqZSBwcmltZXJvJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LnNldCgnbXlDaGFyYWN0ZXInLCB0aGlzLnBsYXllcnNbMF0uY2hhcmFjdGVyKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNIb3N0KSB7XG4gICAgICAgICAgICAgICAgLy8gU295IGVsIGFkbWluOiBwdWVkbyBwYXNhciBhIGVsZWdpciBlc2NlbmFyaW9cbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RTY2VuYXJpb19TY2VuZScsIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLnBsYXllcnNbMF0sXG4gICAgICAgICAgICAgICAgICAgIGlzSG9zdDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAvLyBObyBwYXNhbW9zIHBsYXllcjIgcG9ycXVlIHNlIHVuaXLDoSBlbiByZWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTG9iYnlfU2NlbmUnLCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyMjogdGhpcy5wbGF5ZXJzWzBdLFxuICAgICAgICAgICAgICAgICAgICBpc0hvc3Q6IGZhbHNlIFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFjZSBwYXJwYWRlYXIgZWwgdGV4dG8gZGUgdHVybm8gY29uIHVuIGNvbG9yIHJvam8gZHVyYW50ZSB1bm9zIG1pbGlzZWd1bmRvc1xuICAgIGZsYXNoVHVyblRleHQoY29sb3IgPSAnI2IwMDAwMCcsIG1zID0gOTAwKSB7XG4gICAgICAgIGlmICghdGhpcy50dXJuVGV4dCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IG9sZENvbG9yID0gdGhpcy50dXJuVGV4dC5zdHlsZS5jb2xvciB8fCAnIzAwMDAwMCc7XG4gICAgICAgIHRoaXMudHVyblRleHQuc2V0Q29sb3IoY29sb3IpO1xuXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbChtcywgKCkgPT4ge1xuICAgICAgICAgICAgLy8gdnVlbHZlIGFsIGNvbG9yIG5vcm1hbCB5IHJlZnJlc2NhIGVsIHRleHRvIHBvciBzaSBjYW1iacOzIGFsZ29cbiAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0Q29sb3Iob2xkQ29sb3IpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBY3R1YWxpemEgZWwgdGV4dG8gZGUgdHVybm8vZXN0YWRvIGFjdHVhbFxuICAgIHVwZGF0ZVR1cm5UZXh0KCkge1xuICAgICAgICBpZiAoIXRoaXMudHVyblRleHQpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnbG9jYWwnKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lMSA9IHRoaXMucGxheWVySW5wdXRFbHM/LlswXT8udmFsdWU/LnRyaW0oKSA/PyAnJztcbiAgICAgICAgICAgIGNvbnN0IG5hbWUyID0gdGhpcy5wbGF5ZXJJbnB1dEVscz8uWzFdPy52YWx1ZT8udHJpbSgpID8/ICcnO1xuXG4gICAgICAgICAgICBjb25zdCBwMUhhc0NoYXIgPSAhIXRoaXMucGxheWVycz8uWzBdPy5jaGFyYWN0ZXI7XG4gICAgICAgICAgICBjb25zdCBwMkhhc0NoYXIgPSAhIXRoaXMucGxheWVycz8uWzFdPy5jaGFyYWN0ZXI7XG5cbiAgICAgICAgICAgIGNvbnN0IHAxSGFzTmFtZSA9IG5hbWUxLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICBjb25zdCBwMkhhc05hbWUgPSBuYW1lMi5sZW5ndGggPiAwO1xuXG4gICAgICAgICAgICBjb25zdCBhbGxDaGFycyA9IHAxSGFzQ2hhciAmJiBwMkhhc0NoYXI7XG4gICAgICAgICAgICBjb25zdCBhbGxOYW1lcyA9IHAxSGFzTmFtZSAmJiBwMkhhc05hbWU7XG5cbiAgICAgICAgICAgIC8vIHNpIHRvZG8gZXN0w6EgY29tcGxldG9cbiAgICAgICAgICAgIGlmIChhbGxDaGFycyAmJiBhbGxOYW1lcykge1xuICAgICAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0VGV4dCgnwqFMaXN0byBwYXJhIGNvbnRpbnVhciEnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNpIGZhbHRhbiBOT01CUkVTICh5IHlhIGVzdMOhbiBsb3MgcGVyc29uYWplcyksIGVzcGVjaWZpY2EgcXVpw6luXG4gICAgICAgICAgICBpZiAoYWxsQ2hhcnMgJiYgIWFsbE5hbWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwMUhhc05hbWUgJiYgIXAySGFzTmFtZSkgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YW4gbG9zIG5vbWJyZXMgZGUgSnVnYWRvciAxIHkgSnVnYWRvciAyJyk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXAxSGFzTmFtZSkgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YSBlbCBub21icmUgZGUgSnVnYWRvciAxJyk7XG4gICAgICAgICAgICAgICAgZWxzZSB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0ZhbHRhIGVsIG5vbWJyZSBkZSBKdWdhZG9yIDInKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNpIGZhbHRhbiBQRVJTT05BSkVTICh5IHlhIGVzdMOhbiBsb3Mgbm9tYnJlcyksIGVzcGVjaWZpY2EgcXVpw6luXG4gICAgICAgICAgICBpZiAoYWxsTmFtZXMgJiYgIWFsbENoYXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwMUhhc0NoYXIgJiYgIXAySGFzQ2hhcikgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YW4gbG9zIHBlcnNvbmFqZXMgZGUgSnVnYWRvciAxIHkgSnVnYWRvciAyJyk7XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXAxSGFzQ2hhcikgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YSBlbCBwZXJzb25hamUgZGUgSnVnYWRvciAxJyk7XG4gICAgICAgICAgICAgICAgZWxzZSB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0ZhbHRhIGVsIHBlcnNvbmFqZSBkZSBKdWdhZG9yIDInKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNpIGZhbHRhbiBjb3NhcyBtaXh0YXMgKG5vbWJyZXMgeSBwZXJzb25hamVzKVxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFR1cm4gPT09IG51bGwgfHwgdGhpcy5jdXJyZW50VHVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdDb21wbGV0YSBub21icmVzIHkgcGVyc29uYWplcycpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy50dXJuVGV4dC5zZXRUZXh0KGBUVVJOTzogSnVnYWRvciAke3RoaXMuY3VycmVudFR1cm4gKyAxfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ29ubGluZScpIHtcbiAgICBcbiAgICAgICAgICAgIGNvbnN0IHAxSGFzQ2hhciA9ICEhdGhpcy5wbGF5ZXJzPy5bMF0/LmNoYXJhY3RlcjtcblxuICAgICAgICAgICAgaWYgKCFwMUhhc0NoYXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ05pbmfDum4gcGVyc29uYWplIHNlbGVjY2lvbmFkbycpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0xpc3RvOiBlbCBqdWdhZG9yIHRpZW5lIHBlcnNvbmFqZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiLy9QYW50YWxsYSBkZSBTZWxlY2Npb24gZGUgZXNjZW5hcmlvXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XG5pbXBvcnQgeyBhcHBseVN0b3JlZFZvbHVtZSwgcGxheUNsaWNrIH0gZnJvbSAnLi4vVUkvQXVkaW8uanMnO1xuaW1wb3J0IHsgY3JlYXRlVUlCdXR0b24sIGNyZWF0ZUljb25CdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcblxuZXhwb3J0IGNsYXNzIFNlbGVjdFNjZW5hcmlvX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ1NlbGVjdFNjZW5hcmlvX1NjZW5lJyk7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyA9ICdHeW0nO1xuICAgICAgICB0aGlzLm1vZGUgPSAnbG9jYWwnO1xuICAgIH1cblxuICAgIHByZWxvYWQoKSB7XG4gICAgICAgIC8vIEJvdG9uZXNcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9TSU5TRUxFQ0NJT05BUi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9GTEVDSEFfVk9MVkVSLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfU0lOU0VMRUNDSU9OQVIucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRS5wbmcnKTtcblxuICAgICAgICAvLyBGb25kb1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcblxuICAgICAgICAvLyBFc2NlbmFyaW9zXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnR3ltJywgJ0FTU0VUUy9GT05ET1MvR0lNTkFTSU8ucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGxheWEnLCAnQVNTRVRTL0ZPTkRPUy9QTEFZQS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdKYXJkaW4nLCAnQVNTRVRTL0ZPTkRPUy9KQVJESU4ucG5nJyk7XG5cbiAgICAgICAgLy8gU29uaWRvXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcblxuICAgICAgICAvLyBNYXJjb1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hcmNvJywgJy9BU1NFVFMvVUkvTUFSQ09TL1ZBQ0lPUy9NQVJDT1NfRVNDRU5BUklPJylcbiAgICB9XG5cbiAgICBpbml0KGRhdGEpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIxID0gZGF0YS5wbGF5ZXIxO1xuICAgICAgICB0aGlzLnBsYXllcjIgPSBkYXRhLnBsYXllcjI7XG4gICAgICAgIHRoaXMubW9kZSA9IGRhdGEubW9kZSB8fCAnbG9jYWwnO1xuICAgICAgICB0aGlzLmlzSG9zdCA9IGRhdGEuaXNIb3N0IHx8IGZhbHNlO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7XG5cbiAgICAgICAgLy8gc2UgYXBsaWNhIGVsIHZvbHVtZW5cbiAgICAgICAgYXBwbHlTdG9yZWRWb2x1bWUodGhpcyk7XG5cbiAgICAgICAgLy8gRm9uZG9cbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvJylcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSlcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAvLyBUw610dWxvXG4gICAgICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCA1MCwgJ1NlbGVjY2lvbmEgRXNjZW5hcmlvJywge1xuICAgICAgICAgICAgLi4uc3R5bGUsXG4gICAgICAgICAgICBmb250U2l6ZTogJzQycHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIC8vIEltYWdlbiBkZWwgZXNjZW5hcmlvIHNlbGVjY2lvbmFkb1xuICAgICAgICB0aGlzLnNlbGVjdGVkU2NlbmFyaW8gPSAnR3ltJztcbiAgICAgICAgdGhpcy5zZWxlY3RlZEltYWdlID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyLCAyNDAsIHRoaXMuc2VsZWN0ZWRTY2VuYXJpbykuc2V0U2NhbGUoMC41KTtcblxuICAgICAgICAvLyBFc2NlbmFyaW9zIChib3RvbmVzKVxuICAgICAgICBjb25zdCBlc2NlbmFyaW9zID0gWydHeW0nLCAnUGxheWEnLCAnSmFyZGluJ107XG4gICAgICAgIGNvbnN0IHNwYWNpbmcgPSAyMDA7XG4gICAgICAgIGNvbnN0IHN0YXJ0WCA9IHdpZHRoIC8gMiAtIHNwYWNpbmc7XG5cbiAgICAgICAgY29uc3Qgc2NlbmFyaW9CdXR0b25zID0ge307XG5cbiAgICAgICAgLy8gZnVuY2nDs24gcGFyYSBzZWxlY2Npb25hciBlc2NlbmFyaW9cbiAgICAgICAgY29uc3Qgc2V0U2VsZWN0ZWRTY2VuYXJpbyA9IChub21icmUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyA9IG5vbWJyZTtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRJbWFnZS5zZXRUZXh0dXJlKG5vbWJyZSkuc2V0U2NhbGUoMC41KTtcblxuICAgICAgICAgICAgLy8gc2UgZGVqYSBtYXJjYWRvIGVsIHNlbGVjY2lvbmFkb1xuICAgICAgICAgICAgZXNjZW5hcmlvcy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBzY2VuYXJpb0J1dHRvbnNba2V5XS5zZXRUZXh0dXJlKGtleSA9PT0gbm9tYnJlID8gJ2JvdG9uU2VsZWNjaW9uYWRvJyA6ICdib3RvblNpblNlbGVjY2lvbmFyJyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBlc2NlbmFyaW9zLmZvckVhY2goKG5vbWJyZSwgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm90b24gPSB0aGlzLmFkZC5pbWFnZShzdGFydFggKyBpICogc3BhY2luZywgNDQwLCAnYm90b25TaW5TZWxlY2Npb25hcicpXG4gICAgICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxLjc1KTtcblxuICAgICAgICAgICAgc2NlbmFyaW9CdXR0b25zW25vbWJyZV0gPSBib3RvbjtcblxuICAgICAgICAgICAgLy8gdGV4dG8gZW4gZWwgY2VudHJvXG4gICAgICAgICAgICBjb25zdCB0ZXh0byA9IHRoaXMuYWRkLnRleHQoMCwgMCwgbm9tYnJlLCB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzI4cHgnLCBjb2xvcjogJyMwMDAnIH0pO1xuICAgICAgICAgICAgUGhhc2VyLkRpc3BsYXkuQWxpZ24uSW4uQ2VudGVyKHRleHRvLCBib3Rvbik7XG5cbiAgICAgICAgICAgIC8vIGhvdmVyXG4gICAgICAgICAgICBib3Rvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBib3Rvbi5zZXRUZXh0dXJlKCdib3RvblNlbGVjY2lvbmFkbycpKTtcbiAgICAgICAgICAgIGJvdG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGJvdG9uLnNldFRleHR1cmUodGhpcy5zZWxlY3RlZFNjZW5hcmlvID09PSBub21icmUgPyAnYm90b25TZWxlY2Npb25hZG8nIDogJ2JvdG9uU2luU2VsZWNjaW9uYXInKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBjbGljazogc29uaWRvICsgc2VsZWNjaW9uYXJcbiAgICAgICAgICAgIGJvdG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHBsYXlDbGljayh0aGlzLCAnc29uaWRvQ2xpY2snKSk7XG4gICAgICAgICAgICBib3Rvbi5vbigncG9pbnRlcnVwJywgKHBvaW50ZXIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbnNpZGUgPSBib3Rvbi5nZXRCb3VuZHMoKS5jb250YWlucyhwb2ludGVyLngsIHBvaW50ZXIueSk7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnNpZGUpIHJldHVybjtcbiAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZFNjZW5hcmlvKG5vbWJyZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gc2UgbWFyY2EgZWwgZXNjZW5hcmlvIHBvciBkZWZlY3RvIHZpc3VhbG1lbnRlXG4gICAgICAgIHNldFNlbGVjdGVkU2NlbmFyaW8odGhpcy5zZWxlY3RlZFNjZW5hcmlvKTtcblxuICAgICAgICAvLyBNYXJjb1xuICAgICAgICBjb25zdCBmcmFtZVkgPSAyNDA7IC8vIFkgZGUgbGEgaW1hZ2VuIGRlbCBlc2NlbmFyaW9cbiAgICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLmFkZC5pbWFnZSh3aWR0aCAvIDIsIGZyYW1lWSwgJ21hcmNvJykuc2V0T3JpZ2luKDAuNSk7XG4gICAgICAgIGZyYW1lLnRleHR1cmUuc2V0RmlsdGVyKFBoYXNlci5UZXh0dXJlcy5GaWx0ZXJNb2RlLk5FQVJFU1QpO1xuXG4gICAgICAgIC8vIEFqdXN0ZSBkZWwgdGFtYcOxbyBkZWwgbWFyY29cbiAgICAgICAgY29uc3QgdGFyZ2V0RnJhbWVXaWR0aCA9IDUwMDsgXG4gICAgICAgIGNvbnN0IHRhcmdldEZyYW1lSGVpZ2h0ID0gMzAwO1xuICAgICAgICBmcmFtZS5zZXREaXNwbGF5U2l6ZSh0YXJnZXRGcmFtZVdpZHRoLCB0YXJnZXRGcmFtZUhlaWdodCk7XG5cbiAgICAgICAgLy8gYm90w7NuIFNpZ3VpZW50ZVxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXG4gICAgICAgICAgICB5OiA1MDAsXG4gICAgICAgICAgICBsYWJlbDogJ1NpZ3VpZW50ZScsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ2xvY2FsJyl7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVfU2NlbmUnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLnBsYXllcjEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIyOiB0aGlzLnBsYXllcjIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFNjZW5hcmlvOiB0aGlzLnNlbGVjdGVkU2NlbmFyaW8sXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiB0aGlzLm1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0hvc3Q6IHRoaXMuaXNIb3N0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0xvYmJ5X1NjZW5lJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyMTogdGhpcy5wbGF5ZXIxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyMjogdGhpcy5wbGF5ZXIyLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRTY2VuYXJpbzogdGhpcy5zZWxlY3RlZFNjZW5hcmlvLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNIb3N0OiB0aGlzLmlzSG9zdFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2NhbGU6IDEuNSxcbiAgICAgICAgICAgIHRleHR1cmVOb3JtYWw6ICdib3RvblNpbXBsZScsXG4gICAgICAgICAgICB0ZXh0dXJlSG92ZXI6ICdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMThweCcsIGNvbG9yOiAnIzAwMCcgfSxcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGJvdMOzbiBWb2x2ZXIgYXRyw6FzXG4gICAgICAgIGNyZWF0ZUljb25CdXR0b24odGhpcywge1xuICAgICAgICAgICAgeDogd2lkdGggKiAwLjA2LFxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC4wOCxcbiAgICAgICAgICAgIHRleHR1cmU6ICdib3RvblZvbHZlcicsXG4gICAgICAgICAgICBzY2FsZTogMSxcbiAgICAgICAgICAgIGhvdmVyU2NhbGU6IDEuMSxcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnU2VsZWN0UGxheWVyX1NjZW5lJywgeyBcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICAgICAgICAgICAgICBpc0hvc3Q6IHRoaXMuaXNIb3N0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn0iLCIvL1BhbnRhbGxhIGRlIExvYmJ5XG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiwgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xuXG5leHBvcnQgY2xhc3MgTG9iYnlfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignTG9iYnlfU2NlbmUnKTtcbiAgICAgICAgdGhpcy5pc1BsYXllclJlYWR5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaW5pdChkYXRhKSB7XG4gICAgICAgIC8vIFJlY3VwZXJhbW9zIGVsIG1vZG8sIGVsIHJvbCB5IGxvcyBkYXRvcyBkZSBqdWdhZG9yXG4gICAgICAgIHRoaXMubW9kZSA9IGRhdGEubW9kZTtcbiAgICAgICAgdGhpcy5pc0hvc3QgPSBkYXRhLmlzSG9zdDtcbiAgICAgICAgdGhpcy5wbGF5ZXIxID0gZGF0YS5wbGF5ZXIxOyAvLyBTaSBlcyBIb3N0XG4gICAgICAgIHRoaXMucGxheWVyMiA9IGRhdGEucGxheWVyMjsgLy8gU2kgZXMgSW52aXRhZG9cbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKCdMb2JieSBpbmljaWFkbyBjb21vOicsIHRoaXMuaXNIb3N0ID8gJ0hvc3QnIDogJ0ludml0YWRvJyk7XG4gICAgfVxuXG4gICAgcHJlbG9hZCgpIHtcbiAgICAgICAgLy8gSW3DoWdlbmVzIGZvbmRvIHkgdWlcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9WT0xWRVIucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hcmNvJywnQVNTRVRTL1VJL01BUkNPUy9WQUNJT1MvTUFSQ09TX0VTQ0VOQVJJTy5wbmcnKVxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfU0lOU0VMRUNDSU9OQVIucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRS5wbmcnKTtcblxuICAgICAgICAvLyBTb25pZG9cbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlOyBcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xuXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpLnNldE9yaWdpbigwKS5zZXREZXB0aCgtMSk7XG5cbiAgICAgICAgLy8gVMOtdHVsb1xuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGhlaWdodCAqIDAuMTgsICdMT0JCWScsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlLCBmb250U2l6ZTogJzQwcHgnLCBjb2xvcjogJyMwMDAnLCBmb250U3R5bGU6ICdib2xkJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBGaWx0cm8gZGVsIG1hcmNvXG4gICAgICAgIGNvbnN0IGZyYW1lWSA9IGhlaWdodCAqIDAuNDg7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5hZGQuaW1hZ2UoY2VudGVyWCwgZnJhbWVZLCAnbWFyY28nKS5zZXRPcmlnaW4oMC41KTtcbiAgICAgICAgZnJhbWUudGV4dHVyZS5zZXRGaWx0ZXIoUGhhc2VyLlRleHR1cmVzLkZpbHRlck1vZGUuTkVBUkVTVCk7XG5cbiAgICAgICAgLy8gRXNjYWxhIGRlbCBtYXJjb1xuICAgICAgICBjb25zdCB0YXJnZXRGcmFtZVdpZHRoID0gd2lkdGggKiAwLjM7XG4gICAgICAgIGNvbnN0IHRhcmdldEZyYW1lSGVpZ2h0ID0gaGVpZ2h0ICogMC4zO1xuICAgICAgICBmcmFtZS5zZXREaXNwbGF5U2l6ZSh0YXJnZXRGcmFtZVdpZHRoLCB0YXJnZXRGcmFtZUhlaWdodCk7XG5cbiAgICAgICAgLy8gQ29uZmlndXJhY2nDs24gZGUgbm9tYnJlcyB5IGVzdGFkb3NcbiAgICAgICAgY29uc3QgbGluZVNwYWNpbmcgPSA0MDtcbiAgICAgICAgY29uc3Qgc3RhcnRZID0gZnJhbWVZIC0gbGluZVNwYWNpbmc7XG5cbiAgICAgICAgLy8gVMOtdHVsby9FbmNhYmV6YWRvIGRlbCBMb2JieSAoZGVudHJvIGRlbCBtYXJjbyBhcnJpYmEpXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgc3RhcnRZLCBcIkVTVEFETyBERSBKVUdBRE9SRVNcIiwge1xuICAgICAgICAgICAgLi4uc3R5bGUsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIycHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIC8vIEp1Z2Fkb3IgMVxuICAgICAgICBjb25zdCBuYW1lMSA9IHRoaXMuaXNIb3N0ID8gKHRoaXMucGxheWVyMT8ubmFtZSB8fCAnVMO6JykgOiAodGhpcy5wbGF5ZXIxPy5uYW1lIHx8ICdBZG1pbi4uLicpO1xuICAgICAgICB0aGlzLnAxU3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQoY2VudGVyWCwgZnJhbWVZLCBgJHtuYW1lMX0gLS0tIOKdjGAsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgLy8gSnVnYWRvciAyXG4gICAgICAgIGNvbnN0IG5hbWUyID0gIXRoaXMuaXNIb3N0ID8gKHRoaXMucGxheWVyMj8ubmFtZSB8fCAnVMO6JykgOiAodGhpcy5wbGF5ZXIyPy5uYW1lIHx8ICdFc3BlcmFuZG8uLi4nKTtcbiAgICAgICAgdGhpcy5wMlN0YXR1c1RleHQgPSB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGZyYW1lWSArIGxpbmVTcGFjaW5nLCBgJHtuYW1lMn0gLS0tIOKdjGAsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgLy8gQm90w7NuIExpc3RvXG4gICAgICAgIHRoaXMuYnRuTGlzdG8gPSBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiBjZW50ZXJYLFxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC43NSxcbiAgICAgICAgICAgIGxhYmVsOiAnTGlzdG8/JyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMudG9nZ2xlUmVhZHkoKSxcbiAgICAgICAgICAgIHNjYWxlOiAxLjUsXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW1wbGUnLFxuICAgICAgICAgICAgdGV4dHVyZUhvdmVyOiAnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLFxuICAgICAgICAgICAgdGV4dFN0eWxlOiB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzE0cHgnLCBjb2xvcjogJyMwMDAnIH0sXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEJvdMOzbiBWb2x2ZXJcbiAgICAgICAgdGhpcy5idG5Wb2x2ZXIgPSBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxuICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5oYW5kbGVCYWNrKClcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdG9nZ2xlUmVhZHkoKSB7XG4gICAgICAgIHRoaXMuaXNQbGF5ZXJSZWFkeSA9ICF0aGlzLmlzUGxheWVyUmVhZHk7XG4gICAgICAgIGNvbnN0IGVtb2ppID0gdGhpcy5pc1BsYXllclJlYWR5ID8gJ+KchScgOiAn4p2MJztcbiAgICAgICAgXG4gICAgICAgIC8vIEFjdHVhbGl6YW1vcyB2aXN1YWxtZW50ZSBOVUVTVFJPIGVzdGFkb1xuICAgICAgICBpZiAodGhpcy5pc0hvc3QpIHtcbiAgICAgICAgICAgIHRoaXMucDFTdGF0dXNUZXh0LnNldFRleHQoYCR7dGhpcy5wbGF5ZXIxLm5hbWV9IC0tLSAke2Vtb2ppfWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wMlN0YXR1c1RleHQuc2V0VGV4dChgJHt0aGlzLnBsYXllcjIubmFtZX0gLS0tICR7ZW1vaml9YCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBudWV2b1RleHRvQm90b24gPSB0aGlzLmlzUGxheWVyUmVhZHkgPyAnQ0FOQ0VMQVInIDogJ0xJU1RPPyc7XG4gICAgICAgIFxuICAgICAgICBpZiAodGhpcy5idG5MaXN0by5zZXRMYWJlbCkge1xuICAgICAgICAgICAgdGhpcy5idG5MaXN0by5zZXRMYWJlbChudWV2b1RleHRvQm90b24pO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYnRuTGlzdG8udGV4dCkge1xuICAgICAgICAgICAgdGhpcy5idG5MaXN0by50ZXh0LnNldFRleHQobnVldm9UZXh0b0JvdG9uKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQmxvcXVlYXIvRGVzYmxvcXVlYXIgYm90w7NuIHZvbHZlclxuICAgICAgICBpZiAodGhpcy5pc1BsYXllclJlYWR5KSB7XG4gICAgICAgICAgICB0aGlzLmJ0blZvbHZlci5kaXNhYmxlSW50ZXJhY3RpdmUoKTtcbiAgICAgICAgICAgIHRoaXMuYnRuVm9sdmVyLnNldEFscGhhKDAuMyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJ0blZvbHZlci5zZXRJbnRlcmFjdGl2ZSgpO1xuICAgICAgICAgICAgdGhpcy5idG5Wb2x2ZXIuc2V0QWxwaGEoMSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcXXDrSBlcyBkb25kZSBlbnZpYSBhbCBzZXJ2aWRvclxuICAgICAgICAvLyBzb2NrZXQuZW1pdCgncGxheWVyX3JlYWR5X3N0YXR1cycsIHRoaXMuaXNQbGF5ZXJSZWFkeSk7XG4gICAgfVxuXG4gICAgaGFuZGxlQmFjaygpIHtcbiAgICAgICAgY29uc3QgdGFyZ2V0U2NlbmUgPSB0aGlzLmlzSG9zdCA/ICdTZWxlY3RTY2VuYXJpb19TY2VuZScgOiAnU2VsZWN0UGxheWVyX1NjZW5lJztcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuaXNIb3N0ID8geyBtb2RlOiB0aGlzLm1vZGUsIHBsYXllcjE6IHRoaXMucGxheWVyMSwgaXNIb3N0OiB0cnVlIH0gOiB7IG1vZGU6IHRoaXMubW9kZSwgaXNIb3N0OiBmYWxzZSB9O1xuICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KHRhcmdldFNjZW5lLCBkYXRhKTtcbiAgICB9XG59IiwiLy9QYW50YWxsYSBkZSBMb2dnaW5nXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiwgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xuXG5leHBvcnQgY2xhc3MgTG9nZ2luZ19TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdMb2dnaW5nX1NjZW5lJyk7XG4gICAgICAgIHRoaXMuaXNQbGF5ZXJSZWFkeSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFwaVVybCA9ICcvYXBpJztcbiAgICAgICAgdGhpcy5pc1JlZ2lzdGVyaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgYXN5bmMgaW5pdChkYXRhKSB7XG4gICAgICAgIGNvbnN0IHNhdmVkTmFtZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd2b2xleV91c2VybmFtZScpO1xuICAgICAgICBjb25zdCBzYXZlZFBhc3MgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndm9sZXlfcGFzc3dvcmQnKTsgLy8gR3VhcmRhIGxhIHBhc3MgKG8gdW4gdG9rZW4pIHBhcmEgcmUtbG9ndWVhclxuXG4gICAgICAgIGlmIChzYXZlZE5hbWUgJiYgc2F2ZWRQYXNzKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkludGVudGFuZG8gYXV0by1sb2dpbiBwYXJhOlwiLCBzYXZlZE5hbWUpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBFbiBsdWdhciBkZSBlbnRyYXIgZGlyZWN0bywgcHJlZ3VudGFtb3MgYWwgc2Vydmlkb3IgcGFyYSBxdWUgbm9zIGFzaWduZSBIb3N0L0ludml0YWRvXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5hcGlVcmx9L2xvZ2luYCwge1xuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgdXNlcm5hbWU6IHNhdmVkTmFtZSwgcGFzc3dvcmQ6IHNhdmVkUGFzcyB9KVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc0RhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ3VzZXJuYW1lJywgcmVzRGF0YS51c2VybmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KCdpc0hvc3QnLCByZXNEYXRhLmlzSG9zdCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkF1dG8tbG9naW4gZmFsbGlkb1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByZWxvYWQoKSB7XG4gICAgICAgIC8vIGJvdG9uZXNcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZScsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX1NJTlNFTEVDQ0lPTkFSLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0UucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvRkxFQ0hBX1ZPTFZFUi5wbmcnKTtcblxuICAgICAgICAvLyBmb25kb1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcblxuICAgICAgICAvLyBzb25pZG9cbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xuICAgICAgICBcbiAgICAgICAgLy8gbWFyY29cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjbycsJ0FTU0VUUy9VSS9NQVJDT1MvVkFDSU9TL01BUkNPU19FU0NFTkFSSU8ucG5nJylcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscz8uZGVmYXVsdFRleHRTdHlsZSA/PyB7IGZvbnRGYW1pbHk6ICdBcmlhbCcgfTtcblxuICAgICAgICAvLyBGb25kb1xuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKS5zZXRPcmlnaW4oMCkuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCkuc2V0RGVwdGgoLTEpO1xuXG4gICAgICAgIC8vIFRpdHVsb1xuICAgICAgICB0aGlzLnRpdGxlVGV4dCA9IHRoaXMuYWRkLnRleHQoY2VudGVyWCwgNjAsICdJTklDSUFSIFNFU0nDk04nLCB7XG4gICAgICAgICAgICAuLi5zdHlsZSwgZm9udFNpemU6ICczNnB4JywgY29sb3I6ICcjMDAwJywgZm9udFN0eWxlOiAnYm9sZCdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgLy8gTWFyY29cbiAgICAgICAgY29uc3QgbWFyY28gPSB0aGlzLmFkZC5pbWFnZShjZW50ZXJYLCBoZWlnaHQgKiAwLjUyLCAnbWFyY28nKS5zZXRPcmlnaW4oMC41KTtcbiAgICAgICAgbWFyY28uc2V0RGlzcGxheVNpemUod2lkdGggKiAwLjQsIGhlaWdodCAqIDAuNjUpO1xuICAgICAgICBtYXJjby50ZXh0dXJlLnNldEZpbHRlcihQaGFzZXIuVGV4dHVyZXMuRmlsdGVyTW9kZS5ORUFSRVNUKTsgLy8gU29sbyBhIGVzdGEgaW5zdGFuY2lhXG5cbiAgICAgICAgLy8gSU5QVVRTXG4gICAgICAgIC8vIFVzdWFyaW9cbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjI4LCAnVXN1YXJpbzonLCB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzIwcHgnLCBjb2xvcjogJyMwMDAnIH0pLnNldE9yaWdpbigwLjUpO1xuICAgICAgICB0aGlzLnVzZXJJbnB1dCA9IHRoaXMuY3JlYXRlSHRtbElucHV0KGNlbnRlclgsIGhlaWdodCAqIDAuMzUsICdOb21icmUgZGUgdXN1YXJpbycsIHN0eWxlKTtcblxuICAgICAgICAvLyBDb250cmFzZcOxYVxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGhlaWdodCAqIDAuNDUsICdDb250cmFzZcOxYTonLCB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzIwcHgnLCBjb2xvcjogJyMwMDAnIH0pLnNldE9yaWdpbigwLjUpO1xuICAgICAgICB0aGlzLnBhc3NJbnB1dCA9IHRoaXMuY3JlYXRlSHRtbElucHV0KGNlbnRlclgsIGhlaWdodCAqIDAuNTIsICcqKioqKioqKicsIHN0eWxlLCB0cnVlKTtcblxuICAgICAgICAvLyAtLS0gQk9UT05FUyAtLS1cbiAgICAgICAgLy8gQm90w7NuIFByaW5jaXBhbFxuICAgICAgICB0aGlzLm1haW5CdG4gPSBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiBjZW50ZXJYLFxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC42NSxcbiAgICAgICAgICAgIGxhYmVsOiAnRU5UUkFSJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuaGFuZGxlU3VibWl0KCksXG4gICAgICAgICAgICBzY2FsZTogMS42LFxuICAgICAgICAgICAgdGV4dHVyZU5vcm1hbDogJ2JvdG9uU2ltcGxlJyxcbiAgICAgICAgICAgIHRleHR1cmVIb3ZlcjogJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJyxcbiAgICAgICAgICAgIHRleHRTdHlsZTogeyAuLi5zdHlsZSwgZm9udFNpemU6ICcxNHB4JywgY29sb3I6ICcjMDAwJyB9LFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJ1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBUZXh0byBwYXJhIGFsdGVybmFyIGVudHJlIExvZ2luIHkgUmVnaXN0cm9cbiAgICAgICAgdGhpcy50b2dnbGVUZXh0ID0gdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjc1LCAnwr9Bw7puIG5vIHRpZW5lcyBjdWVudGE/IFJlZ8Otc3RyYXRlIGFxdcOtJywge1xuICAgICAgICAgICAgLi4uc3R5bGUsIGZvbnRTaXplOiAnMTZweCcsIGNvbG9yOiAnIzAwMDBFRScsIGZvbnRTdHlsZTogJ2l0YWxpYydcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xuXG4gICAgICAgIHRoaXMudG9nZ2xlVGV4dC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB0aGlzLnRvZ2dsZU1vZGUoKSk7XG4gICAgfVxuXG4gICAgY3JlYXRlSHRtbElucHV0KHgsIHksIHBsYWNlaG9sZGVyLCBzdHlsZSwgaXNQYXNzd29yZCA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IHR5cGUgPSBpc1Bhc3N3b3JkID8gJ3Bhc3N3b3JkJyA6ICd0ZXh0JztcbiAgICAgICAgY29uc3QgZG9tID0gdGhpcy5hZGQuZG9tKHgsIHkpLmNyZWF0ZUZyb21IVE1MKGBcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiJHt0eXBlfVwiIHBsYWNlaG9sZGVyPVwiJHtwbGFjZWhvbGRlcn1cIiBcbiAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6MTgwcHg7IHBhZGRpbmc6OHB4OyBmb250LXNpemU6MTZweDsgZm9udC1mYW1pbHk6JHtzdHlsZS5mb250RmFtaWx5fTsgXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOjEycHg7IGJvcmRlcjogNnB4IHNvbGlkICNGRkFBMDA7IHRleHQtYWxpZ246Y2VudGVyOyBvdXRsaW5lOm5vbmU7XCIgLz5cbiAgICAgICAgYCk7XG5cbiAgICAgICAgY29uc3QgaW5wdXRFbCA9IGRvbS5ub2RlLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XG4gICAgICAgIFxuICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzJywgKCkgPT4gdGhpcy5pbnB1dC5rZXlib2FyZC5lbmFibGVkID0gZmFsc2UpO1xuICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB0aGlzLmlucHV0LmtleWJvYXJkLmVuYWJsZWQgPSB0cnVlKTtcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBpbnB1dEVsO1xuICAgIH1cblxuICAgIHRvZ2dsZU1vZGUoKSB7XG4gICAgICAgIHRoaXMuaXNSZWdpc3RlcmluZyA9ICF0aGlzLmlzUmVnaXN0ZXJpbmc7XG4gICAgICAgIHRoaXMudGl0bGVUZXh0LnNldFRleHQodGhpcy5pc1JlZ2lzdGVyaW5nID8gJ1JFR0lTVFJBUlNFJyA6ICdJTklDSUFSIFNFU0nDk04nKTtcbiAgICAgICAgdGhpcy5tYWluQnRuLnRleHQuc2V0VGV4dCh0aGlzLmlzUmVnaXN0ZXJpbmcgPyAnQ1JFQVIgQ1VFTlRBJyA6ICdFTlRSQVInKTtcbiAgICAgICAgdGhpcy50b2dnbGVUZXh0LnNldFRleHQodGhpcy5pc1JlZ2lzdGVyaW5nID8gJ8K/WWEgdGllbmVzIGN1ZW50YT8gSW5pY2lhIHNlc2nDs24nIDogJ8K/QcO6biBubyB0aWVuZXMgY3VlbnRhPyBSZWfDrXN0cmF0ZSBhcXXDrScpO1xuICAgIH1cblxuICAgIGFzeW5jIGhhbmRsZVN1Ym1pdCgpIHtcbiAgICAgICAgLy8gT2J0ZW5lbW9zIGxvcyB2YWxvcmVzIGRlIGxvcyBlbGVtZW50b3MgSFRNTCByZWFsZXNcbiAgICAgICAgY29uc3QgdXNlcm5hbWVWYWx1ZSA9IHRoaXMudXNlcklucHV0LnZhbHVlLnRyaW0oKTtcbiAgICAgICAgY29uc3QgcGFzc3dvcmRWYWx1ZSA9IHRoaXMucGFzc0lucHV0LnZhbHVlLnRyaW0oKTtcblxuICAgICAgICBpZiAodXNlcm5hbWVWYWx1ZS5sZW5ndGggPCAzKSB7XG4gICAgICAgICAgICBhbGVydChcIlVzdWFyaW8gZGVtYXNpYWRvIGNvcnRvXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhc3N3b3JkVmFsdWUubGVuZ3RoIDwgMykge1xuICAgICAgICAgICAgYWxlcnQoXCJDb250cmFzZcOxYSBkZW1hc2lhZG8gY29ydGFcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBlbmRwb2ludCA9IHRoaXMuaXNSZWdpc3RlcmluZyA/ICcvcmVnaXN0ZXInIDogJy9sb2dpbic7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5hcGlVcmx9JHtlbmRwb2ludH1gLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBcbiAgICAgICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lVmFsdWUsIFxuICAgICAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRWYWx1ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNSZWdpc3RlcmluZykge1xuICAgICAgICAgICAgICAgICAgICAvLyBTaSBlcyByZWdpc3RybywgTk8gZW50cmFtb3MgYWwganVlZ29cbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCLCoVJlZ2lzdHJvIGNvbXBsZXRhZG8gY29uIMOpeGl0byEgQWhvcmEgcHVlZGVzIGluaWNpYXIgc2VzacOzbi5cIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlTW9kZSgpOyAvLyBDYW1iaW8gYSBtb2RvIGxvZ2luIGF1dG9tw6F0aWNhbWVudGVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VySW5wdXQudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhc3NJbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9naW46IEd1YXJkYW1vcyBkYXRvcyBlbiBlbCByZWdpc3RyeVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LnNldCgndXNlcm5hbWUnLCB1c2VybmFtZVZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ3VzZXJUb2tlbicsIGRhdGEudG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LnNldCgnaXNIb3N0JywgZGF0YS5pc0hvc3QpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFBlcnNpc3RlbmNpYSBsb2NhbCBwYXJhIGF1dG8tbG9naW5cbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ZvbGV5X3Nlc3Npb25fdG9rZW4nLCBkYXRhLnRva2VuKTtcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3ZvbGV5X3VzZXJuYW1lJywgdXNlcm5hbWVWYWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYExvZ2luIGNvcnJlY3RvLiBVc3VhcmlvOiAke3VzZXJuYW1lVmFsdWV9IHwgSG9zdDogJHtkYXRhLmlzSG9zdH1gKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudV9TY2VuZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoZGF0YS5lcnJvciB8fCAnRXJyb3IgZW4gbGEgYXV0ZW50aWNhY2nDs24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgY29uZWN0YW5kbyBhIGxhIEFQSTpcIiwgZXJyKTtcbiAgICAgICAgICAgIGFsZXJ0KFwiTm8gc2UgcHVkbyBjb25lY3RhciBjb24gZWwgc2Vydmlkb3IuXCIpO1xuICAgICAgICB9XG4gICAgfVxufSIsIi8vIEJhc2UgZGVsIGp1ZWdvLCBlc3RydWN0dXJhIHkgYWNjZXNvIGEgdG9kb3MgbG9zIGFyY2hpdm9zXHJcbmltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBNZW51X1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL01lbnVfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgR2FtZV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9HYW1lX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFR1dG9yaWFsX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL1R1dG9yaWFsX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IENvbmZpZ3VyYXRpb25fU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvQ29uZmlndXJhdGlvbl9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBDcmVkaXRzX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0NyZWRpdHNfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgRW5kR2FtZV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9FbmRHYW1lX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IE1vZGVHYW1lX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL01vZGVHYW1lX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFBhdXNlX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL1BhdXNlX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFNlbGVjdFBsYXllcl9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9TZWxlY3RQbGF5ZXJfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgU2VsZWN0U2NlbmFyaW9fU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvU2VsZWN0U2NlbmFyaW9fU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgTG9iYnlfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvTG9iYnlfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgTG9nZ2luZ19TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9Mb2dnaW5nX1NjZW5lLmpzXCI7XHJcblxyXG4oYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gZmFsbGJhY2sgcGFyYSBldml0YXIgcHJvYmxlbWFzIGNvbiBsYXMgZnVlbnRlcyBwZXJzb25hbGl6YWRhc1xyXG4gICAgaWYgKGRvY3VtZW50LmZvbnRzICYmIGRvY3VtZW50LmZvbnRzLmxvYWQpIHtcclxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmZvbnRzLmxvYWQoJzIwcHggXCJNaUZ1ZW50ZVwiJyksXHJcbiAgICAgICAgICAgIGRvY3VtZW50LmZvbnRzLmxvYWQoJzIwcHggXCJWVDMyM1wiJylcclxuICAgICAgICBdKTtcclxuICAgICAgICBhd2FpdCBkb2N1bWVudC5mb250cy5yZWFkeTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBnbG9iYWxzID0ge1xyXG4gICAgICAgIGRlZmF1bHRUZXh0U3R5bGU6IHsgZm9udEZhbWlseTogJ01pRnVlbnRlJywgZm9udFNpemU6ICcyMHB4JywgY29sb3I6ICcjZmZmZmZmJyB9LFxyXG4gICAgICAgIG11c2ljOiBudWxsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgICAgICB0eXBlOiBQaGFzZXIuQVVUTyxcclxuICAgICAgICB3aWR0aDogOTYwLFxyXG4gICAgICAgIGhlaWdodDogNTQwLFxyXG4gICAgICAgIHBhcmVudDogJ2dhbWUtY29udGFpbmVyJyxcclxuICAgICAgICBwaHlzaWNzOiB7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6ICdhcmNhZGUnLFxyXG4gICAgICAgICAgICBhcmNhZGU6IHtcclxuICAgICAgICAgICAgICAgIGdyYXZpdHk6IHt4OiAwLCB5OiAzMDB9LFxyXG4gICAgICAgICAgICAgICAgZGVidWc6IGZhbHNlIC8vIHBvbmVyIGEgdHJ1ZSBwYXJhIHZlciBsYXMgbMOtbmVhcyBkZSBsb3MgY3VlcnBvcyBmw61zaWNvc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkb206IHtcclxuICAgICAgICAgICAgY3JlYXRlQ29udGFpbmVyOiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjYWxsYmFja3M6IHtcclxuICAgICAgICAgICAgcHJlQm9vdDogKGdhbWUpID0+IHtcclxuICAgICAgICAgICAgICAgIGdhbWUuZ2xvYmFscyA9IGdsb2JhbHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHNjZW5lOiBbTG9nZ2luZ19TY2VuZSwgTWVudV9TY2VuZSwgR2FtZV9TY2VuZSwgVHV0b3JpYWxfU2NlbmUsIENvbmZpZ3VyYXRpb25fU2NlbmUsIENyZWRpdHNfU2NlbmUsIEVuZEdhbWVfU2NlbmUsIFBhdXNlX1NjZW5lLCBNb2RlR2FtZV9TY2VuZSwgU2VsZWN0UGxheWVyX1NjZW5lLCBTZWxlY3RTY2VuYXJpb19TY2VuZSwgTG9iYnlfU2NlbmVdLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjonIzg2NzVmMScsXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGdhbWUgPW5ldyBQaGFzZXIuR2FtZShjb25maWcpO1xyXG5cclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSBnYW1lLnJlZ2lzdHJ5LmdldCgndXNlcm5hbWUnKTtcclxuICAgICAgICBpZiAodXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHsgdXNlcm5hbWUgfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbZGF0YV0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pO1xyXG4gICAgICAgICAgICBuYXZpZ2F0b3Iuc2VuZEJlYWNvbignL2FwaS9sb2dvdXQnLCBibG9iKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufSkoKTtcclxuIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGUiLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiUGhhc2VyIiwiU0ZYX1ZPTFVNRV9LRVkiLCJNVVNJQ19WT0xVTUVfS0VZIiwiR0xPQkFMX1ZPTFVNRV9LRVkiLCJMRUdBQ1lfVk9MVU1FX0tFWSIsInBhcnNlU3RvcmVkVm9sdW1lIiwicmF3IiwiZGVmYXVsdFZhbHVlIiwidiIsIk51bWJlciIsInBhcnNlRmxvYXQiLCJTdHJpbmciLCJpc0Zpbml0ZSIsIkNsYW1wIiwiZ2V0U3RvcmVkVm9sdW1lQnlLZXkiLCJmYWxsYmFja0tleSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJmYWxsYmFja1JhdyIsImdldFN0b3JlZFNmeFZvbHVtZSIsImdldFN0b3JlZE11c2ljVm9sdW1lIiwiZ2V0U3RvcmVkR2xvYmFsVm9sdW1lIiwiYXBwbHlTdG9yZWRWb2x1bWUiLCJzY2VuZSIsIm9wdGlvbnMiLCJnbG9iYWxWb2wiLCJzZnhWb2x1bWUiLCJtdXNpY1ZvbHVtZSIsInNvdW5kIiwidm9sdW1lIiwibXVzaWMiLCJnYW1lIiwiZ2xvYmFscyIsInNldFZvbHVtZSIsInBsYXlDbGljayIsInBsYXkiLCJjcmVhdGVVSUJ1dHRvbiIsIngiLCJ5IiwibGFiZWwiLCJvbkNsaWNrIiwidGV4dHVyZU5vcm1hbCIsInRleHR1cmVIb3ZlciIsInNjYWxlIiwidGV4dFN0eWxlIiwiY2xpY2tTb3VuZEtleSIsImJ1dHRvbiIsImFkZCIsInNwcml0ZSIsInNldFNjYWxlIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwidGV4dCIsInNldE9yaWdpbiIsInNldE5vcm1hbCIsInNldFRleHR1cmUiLCJzZXRIb3ZlciIsIm9uIiwicG9pbnRlciIsImdldEJvdW5kcyIsImNvbnRhaW5zIiwiY3JlYXRlSWNvbkJ1dHRvbiIsInRleHR1cmUiLCJob3ZlclNjYWxlIiwiTWVudV9TY2VuZSIsImNvbnN0cnVjdG9yIiwic3VwZXIiLCJwcmVsb2FkIiwidGhpcyIsImxvYWQiLCJpbWFnZSIsImF1ZGlvIiwiY3JlYXRlIiwic291bmRLZXkiLCJsb29wIiwidHJ5UGxheSIsImlzUGxheWluZyIsImVyciIsImNvbnNvbGUiLCJ3YXJuIiwiaW5wdXQiLCJvbmNlIiwiYXN5bmMiLCJjdHgiLCJjb250ZXh0Iiwic3RhdGUiLCJyZXN1bWUiLCJlbnN1cmVMb29waW5nTXVzaWMiLCJzdHlsZSIsImRlZmF1bHRUZXh0U3R5bGUiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJjb2xvciIsIndpZHRoIiwiaGVpZ2h0IiwiY2VudGVyWCIsInJpZ2h0SGFsZlgiLCJzZXREZXB0aCIsInNldERpc3BsYXlTaXplIiwiZmlyc3RCdXR0b25ZIiwiYnV0dG9uVGV4dFN0eWxlIiwic3RhcnQiLCJyZXR1cm5TY2VuZSIsImJ1dHRvblNwYWNpbmciLCJoYW5kbGVMb2dvdXQiLCJ1c2VybmFtZSIsInJlZ2lzdHJ5IiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZW1vdmVJdGVtIiwicmVtb3ZlIiwiUE9XRVJVUF9EVVJBVElPTl9NUyIsInZlbG9jaWRhZCIsInJhbGVudGl6YXIiLCJwYXJhbGl6YXIiLCJwb3IyIiwicG9yMyIsIlBsYXllciIsImlkIiwiY2hhcmFjdGVyVHlwZSIsImJhc2VNb3ZlU3BlZWQiLCJtb3ZlU3BlZWQiLCJqdW1wU3BlZWQiLCJhY3RpdmVQb3dlclVwcyIsImlzUGFyYWx5emVkIiwicGFyYWx5c2lzVHdlZW4iLCJzcGVlZEVmZmVjdEFjdGl2ZSIsInNsb3dFZmZlY3RBY3RpdmUiLCJzY29yZU11bHRpcGxpZXIiLCJtdWx0aXBsaWVyVGV4dCIsInN0cm9rZSIsInN0cm9rZVRoaWNrbmVzcyIsInNldFZpc2libGUiLCJwb3dlclVwSW52ZW50b3J5IiwiaXNSZWNlaXZpbmciLCJib3VuZHNMZWZ0IiwiYm91bmRzUmlnaHQiLCJib3VuZHNUb3AiLCJib3VuZHNCb3R0b20iLCJDSEFSQUNURVJfQ09ORklHIiwiY2hhcmFjdGVyQSIsInRleHR1cmVLZXkiLCJzdGFydEZyYW1lIiwiaWRsZUxlZnRBbmltIiwiaWRsZVJpZ2h0QW5pbSIsInJ1bkxlZnRBbmltIiwicnVuUmlnaHRBbmltIiwianVtcExlZnRBbmltIiwianVtcFJpZ2h0QW5pbSIsInJlY2VpdmVMZWZ0QW5pbSIsInJlY2VpdmVSaWdodEFuaW0iLCJjaGFyYWN0ZXJCIiwiY2hhcmFjdGVyQyIsImNvbmZpZyIsInBoeXNpY3MiLCJzZXRTaXplIiwic2V0RGF0YSIsImZhY2luZyIsImlzT25Hcm91bmQiLCJpc0p1bXBpbmciLCJqdW1wU3RhcnRUaW1lIiwiYW5pbSIsImVycm9yIiwiaXNHcm91bmRlZCIsImJsb2NrZWQiLCJkb3duIiwidG91Y2hpbmciLCJpc05lYXJHcm91bmQiLCJ0aHJlc2hvbGQiLCJncm91bmRZIiwiZmVldFkiLCJNYXRoIiwiYWJzIiwibW92ZUxlZnQiLCJzZXRWZWxvY2l0eVgiLCJwbGF5QW5pbWF0aW9uIiwibW92ZVJpZ2h0IiwianVtcExlZnQiLCJ0aW1lIiwibm93Iiwic2V0VmVsb2NpdHlZIiwicGxheVNmeCIsInNmeCIsImp1bXAiLCJqdW1wUmlnaHQiLCJyZWNlaXZlTGVmdCIsInJlY2VpdmVSaWdodCIsImlkbGVMZWZ0IiwiaWRsZVJpZ2h0Iiwic2V0Qm91bmRzIiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwiY2xhbXBXaXRoaW5Cb3VuZHMiLCJoYWxmV2lkdGgiLCJzZXRQb3NpdGlvbiIsInNldFZlbG9jaXR5IiwidXBkYXRlTXVsdGlwbGllclRleHRQb3NpdGlvbiIsIm9mZnNldFkiLCJkaXNwbGF5SGVpZ2h0IiwiYW5pbUtleSIsImFuaW1zIiwiY3VycmVudEFuaW0iLCJ1cGRhdGUiLCJ3YXNPbkdyb3VuZCIsImN1cnJlbnRLZXkiLCJhcHBseVBvd2VyVXAiLCJ0eXBlIiwibGVuZ3RoIiwicHVzaCIsInVzZU5leHRQb3dlclVwIiwic2hpZnQiLCJhY3RpdmF0ZVBvd2VyVXAiLCJhcHBseU9yUmVmcmVzaFRpbWVkRWZmZWN0Iiwib3Bwb25lbnQiLCJnZXRPcHBvbmVudCIsInVwZGF0ZVBvd2VyVXBzIiwic3BlZWROZWVkc1JlY2FsYyIsInNjb3JlTmVlZHNSZWNhbGMiLCJzZXRTcGVlZEVmZmVjdCIsInNldFNsb3dFZmZlY3QiLCJzZXRQYXJhbHl6ZWQiLCJyZWNhbGN1bGF0ZU1vdmVTcGVlZCIsInJlY2FsY3VsYXRlU2NvcmVFZmZlY3QiLCJzZXRUaW50Iiwic2V0QWxwaGEiLCJzdG9wIiwidHdlZW5zIiwidGFyZ2V0cyIsImFscGhhIiwieW95byIsImR1cmF0aW9uIiwicmVwZWF0IiwicmVmcmVzaFBvd2VyVXBWaXN1YWxzIiwiYWN0aXZlIiwibXVsdCIsIm11bHRpcGxpZXIiLCJtYXgiLCJzZXRUZXh0IiwiZHVyYXRpb25NcyIsImNsZWFyVGludCIsInBsYXllcnMiLCJBcnJheSIsImZyb20iLCJ2YWx1ZXMiLCJmaW5kIiwicCIsIkFwcGx5UG93ZXJVcENvbW1hbmQiLCJwbGF5ZXIiLCJwb3dlclVwVHlwZSIsInN0b3JlZCIsImV4ZWN1dGUiLCJQb3dlclVwIiwiaXNDb2xsZWN0ZWQiLCJfZGVzdHJveWVkIiwiX2Nvb2xkb3duVW50aWwiLCJmYWRlU3RhcnQiLCJsaWZldGltZSIsIl9vdmVybGFwcyIsImZhZGVUd2VlbiIsIl9saWZldGltZVRpbWVyIiwic3RhdGljSW1hZ2UiLCJyZWZyZXNoQm9keSIsImZhZGVEZWxheSIsIm1pbiIsImZhZGVEdXJhdGlvbiIsImRlbGF5IiwiZm9yRWFjaCIsImMiLCJvdmVybGFwIiwiY29sbGVjdCIsImRlbGF5ZWRDYWxsIiwiZGVzdHJveSIsImxvZyIsImNtZCIsImNvbW1hbmRQcm9jZXNzb3IiLCJwcm9jZXNzIiwidXBkYXRlUGxheWVySW52ZW50b3J5VUkiLCJpc0FycmF5IiwicG93ZXJVcHMiLCJmaWx0ZXIiLCJCYWxsIiwic2V0Qm91bmNlIiwic2V0Q29sbGlkZVdvcmxkQm91bmRzIiwibGFzdFRvdWNoZWRCeSIsInRvdWNoQ291bnQiLCJjb3VydFNpZGUiLCJpc0JhbGxMaXZlIiwibmV0WCIsImxhc3RIaXRUaW1lIiwibGFzdEhpdFBsYXllcklkIiwiX2dldFJhbmRvbUZhY3RvciIsInJhbmRvbSIsImhpdCIsInBsYXllckZhY2luZ0RpcmVjdGlvbiIsIm9uRmFsdGEiLCJ2ZWxvY2l0eVgiLCJ2ZWxvY2l0eVkiLCJyZWNlaXZlIiwic3Bpa2UiLCJiYXNlU3BlZWRYIiwidmVydGljYWxTdHJlbmd0aCIsInJhbmRvbUZhY3RvclgiLCJjcm9zc05ldCIsIm9uR3JvdW5kZWQiLCJiYWxsT25MZWZ0IiwiYmFsbE9uUmlnaHQiLCJvblJhbGx5RW5kIiwicmVzZXRSYWxseSIsImZhbHRhVHlwZSIsImZhbHRpbmdQbGF5ZXIiLCJzY29yaW5nUGxheWVySWQiLCJldmVudHMiLCJlbWl0IiwiX2dldFN1YnRsZU51ZGdlIiwic3Bhd25YIiwic2lkZVBhZGRpbmciLCJ3b3JsZFdpZHRoIiwib2Zmc2V0Iiwic2V0U2VydmVQb3NpdGlvbiIsInNjb3JpbmdQbGF5ZXIiLCJjbGFtcCIsInZhbHVlIiwibnVkZ2VWZWxvY2l0eVgiLCJudWRnZSIsIkNvbW1hbmRQcm9jZXNzb3IiLCJNYXAiLCJnYW1lU2NlbmUiLCJzZXRQbGF5ZXJzIiwic2V0R2FtZVNjZW5lIiwiY29tbWFuZCIsIkNvbW1hbmQiLCJzZXJpYWxpemUiLCJnZXRQbGF5ZXIiLCJNb3ZlUGxheWVyQ29tbWFuZCIsImRpcmVjdGlvbiIsInBsYXllcklkIiwiR2FtZV9TY2VuZSIsInRpZW1wb1RvdGFsIiwidGllbXBvUmVzdGFudGUiLCJ0aW1lclRleHQiLCJ0aW1lckV2ZW50IiwiaW5pdCIsImRhdGEiLCJpbnB1dE1hcHBpbmdzIiwicGxheWVyMSIsInBsYXllcjIiLCJzZWxlY3RlZFNjZW5hcmlvIiwiYmFsbCIsInNjb3JlUDEiLCJzY29yZVAyIiwic2V0c1AxIiwic2V0c1AyIiwibWF4U2V0cyIsImN1cnJlbnRTZXQiLCJpc0dvbGRlblBvaW50Iiwic3ByaXRlc2hlZXQiLCJmcmFtZVdpZHRoIiwiZnJhbWVIZWlnaHQiLCJ3b3JsZEhlaWdodCIsIndoaXN0bGUiLCJwb2ludCIsInNldFNjcm9sbEZhY3RvciIsInRpbWVySWNvbiIsInNldEZyYW1lIiwic2V0RnJhbWVXaWR0aCIsImRpc3BsYXlXaWR0aCIsInNldEZyYW1lSGVpZ2h0Iiwic2V0U2NvcmVZIiwicm91bmQiLCJzZXRTY29yZU9mZnNldFgiLCJzZXRTY29yZUZyYW1lTGVmdCIsInNldFNjb3JlRnJhbWVSaWdodCIsInNldFNjb3JlTGVmdCIsInNldFNjb3JlUmlnaHQiLCJzZXRXaW5uZXJUZXh0IiwiYWRkRXZlbnQiLCJjYWxsYmFjayIsInVwZGF0ZVRpbWVyIiwiY2FsbGJhY2tTY29wZSIsInJlZCIsInN0YXRpY1Nwcml0ZSIsInJlZFRleHR1cmUiLCJ0ZXh0dXJlcyIsImdldFNvdXJjZUltYWdlIiwic2V0T2Zmc2V0IiwidXBkYXRlRnJvbUdhbWVPYmplY3QiLCJfY3JlYXRlQW5pbWF0aW9ucyIsInBvaW50c0xlZnQiLCJwb2ludHNSaWdodCIsInNjb3JlRnJhbWVMZWZ0Iiwic2NvcmVGcmFtZVJpZ2h0Iiwic2NvcmVMZWZ0IiwicmlnaHRTY29yZSIsImdyb3VuZEhlaWdodCIsImdyb3VuZCIsInJlY3RhbmdsZSIsImV4aXN0aW5nIiwiX2NyZWF0ZVBsYXllcnMiLCJfc2V0dXBQaHlzaWNzV29ybGQiLCJfc2V0dXBJbnB1dE1hcHBpbmdzIiwibWF4UG93ZXJVcHMiLCJwb3dlclVwU3Bhd25Db25maWciLCJtaW5EZWxheU1zIiwibWF4RGVsYXlNcyIsIndlaWdodHMiLCJjb29sZG93bk1zIiwicG93ZXJVcExhc3RTcGF3bkF0IiwiaW52ZW50b3J5VUkiLCJzY2hlZHVsZVBvd2VyVXBTcGF3biIsImludmVudG9yeUZyYW1lcyIsIl9jcmVhdGVCYWxsIiwiX3NldHVwQmFsbENvbGxpc2lvbnMiLCJfc2V0dXBCYWxsRXZlbnRzIiwia2V5Ym9hcmQiLCJwYXVzZSIsInBhdXNlZCIsImxhdW5jaCIsIndpbm5lciIsIl9lbmRHYW1lIiwiQmV0d2VlbiIsIl9nZXRXZWlnaHRlZFBvd2VyVXBUeXBlIiwicG93ZXJVcCIsImVudHJpZXMiLCJ3ZWlnaHQiLCJjb29sZG93biIsImxhc3QiLCJ0b3RhbCIsInJlZHVjZSIsInN1bSIsInJvbGwiLCJfaGFuZGxlSW5wdXRGb3JBbGxQbGF5ZXJzIiwibWludXRvcyIsImZsb29yIiwic2VndW5kb3MiLCJmb3JtYXRvIiwidG9TdHJpbmciLCJwYWRTdGFydCIsIl9lbmRTZXQiLCJ1cGRhdGVTZXRTY29yZVVJIiwidWkiLCJpIiwiZnJhbWVzIiwiZ2VuZXJhdGVGcmFtZU51bWJlcnMiLCJlbmQiLCJmcmFtZVJhdGUiLCJyZXZlcnNlIiwiY2hhclAxIiwiY2hhcmFjdGVyIiwiY2hhclAyIiwicDEiLCJwMiIsInNldCIsImNvdXJ0Qm90dG9tIiwiY29sbGlkZXIiLCJsZWZ0S2V5IiwicmlnaHRLZXkiLCJqdW1wS2V5IiwicmVjZWl2ZUtleSIsInBvd2VyS2V5IiwibWFwIiwibGVmdEtleU9iaiIsImFkZEtleSIsIktleWJvYXJkIiwiS2V5Q29kZXMiLCJyaWdodEtleU9iaiIsImp1bXBLZXlPYmoiLCJyZWNlaXZlS2V5T2JqIiwicG93ZXJLZXlPYmoiLCJtYXBwaW5nIiwiaWRsZURpciIsImlzRG93biIsIkp1c3REb3duIiwicmVjZWl2ZURpciIsImp1bXBEaXIiLCJfb25CYWxsUGxheWVyQ29sbGlzaW9uIiwidmVsb2NpdHkiLCJzY29yZXJJZCIsInBvaW50c1RvQWRkIiwiX2NoZWNrV2luQ29uZGl0aW9uIiwiX2lzQmFsbEluSGl0Wm9uZSIsImJhbGxTcHJpdGUiLCJiYWxsWCIsImJhbGxZIiwiYm9keVRvcCIsImJvZHlIZWlnaHQiLCJib2R5Q2VudGVyWCIsInpvbmUiLCJmYWNpbmdSaWdodCIsIndpZGVIaXQiLCJyZWFjaEZvcndhcmQiLCJyZWFjaEJhY2siLCJwbGF5ZXJEaXJlY3Rpb24iLCJ3b3JsZCIsInNjb3JlRGlmZiIsIndpbm5lckxhYmVsIiwiX3Jlc2V0U2V0IiwiVHV0b3JpYWxfU2NlbmUiLCJwYWdlSW5kZXgiLCJtYWluVGl0bGVUZXh0IiwicGFnZXMiLCJ0aXRsZSIsInBhbmVsTWFyZ2luIiwicGFuZWxHYXAiLCJuYXZZIiwicGFuZWxUb3AiLCJwYW5lbEJvdHRvbSIsInBhbmVsSGVpZ2h0IiwicGFuZWxXaWR0aCIsImxheW91dCIsInNsaWRlSW1hZ2UiLCJfZml0SW1hZ2UiLCJwYWdlSW5kaWNhdG9yIiwicHJldiIsIm5leHQiLCJyZW5kZXJQYWdlIiwiaW1nIiwibWF4VyIsIm1heEgiLCJDb25maWd1cmF0aW9uX1NjZW5lIiwibXVzaWNWb2x1bWVTbGlkZXIiLCJzZnhWb2x1bWVTbGlkZXIiLCJnbG9iYWxWb2x1bWVTbGlkZXIiLCJoYXNTZngiLCJoYXNNdXNpYyIsImxlZ2FjeVZvbHVtZSIsImdldExlZ2FjeVZvbHVtZSIsImluaXRpYWxWb2x1bWUiLCJzZXRJdGVtIiwiZW5zdXJlU3RvcmVkQXVkaW9TZXR0aW5ncyIsImluaXRpYWxHbG9iYWxWb2x1bWUiLCJpbml0aWFsTXVzaWNWb2x1bWUiLCJpbml0aWFsU2Z4Vm9sdW1lIiwic2VjdGlvbkdhcCIsImxhYmVsVG9TbGlkZXJHYXAiLCJncm91cFRvcFkiLCJnbG9iYWxMYWJlbFkiLCJnbG9iYWxTbGlkZXJZIiwibXVzaWNMYWJlbFkiLCJtdXNpY1NsaWRlclkiLCJzZnhMYWJlbFkiLCJzZnhTbGlkZXJZIiwiZG9tIiwiY3JlYXRlRnJvbUhUTUwiLCJhZGRMaXN0ZW5lciIsImV2ZW50IiwidGFyZ2V0IiwiSFRNTElucHV0RWxlbWVudCIsInNldFN0b3JlZEdsb2JhbFZvbHVtZSIsInNldFN0b3JlZE11c2ljVm9sdW1lIiwic2V0U3RvcmVkU2Z4Vm9sdW1lIiwiRXZlbnRzIiwiU0hVVERPV04iLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJDcmVkaXRzX1NjZW5lIiwibm9tYnJlc0VxdWlwbyIsImNhcmRXaWR0aCIsImNhcmRIZWlnaHQiLCJjYXJkWCIsImNhcmRZIiwic2V0U3Ryb2tlU3R5bGUiLCJzdGFydFkiLCJub21icmUiLCJpc0hlYWRlciIsImxvZ29YIiwibG9nb1kiLCJFbmRHYW1lX1NjZW5lIiwibmFtZSIsIndpbm5lclRleHRZIiwic3ByaXRlUm93WSIsImJ1dHRvblkiLCJzcHJpdGVPZmZzZXRYIiwid2lubmVyVGV4dCIsIndpbm5lclNwcml0ZVNsb3QiLCJjb250YWluZXIiLCJsb3NlclNwcml0ZVNsb3QiLCJNb2RlR2FtZV9TY2VuZSIsInNwYWNpbmciLCJzdGFydFgiLCJzdGFydE1vZGUiLCJtb2RlIiwiUGF1c2VfU2NlbmUiLCJidXR0b25TdGFydFkiLCJyZW1vdmVBbGxLZXlzIiwiU2VsZWN0UGxheWVyX1NjZW5lIiwiY3VycmVudFR1cm4iLCJwbGF5ZXJJbnB1dHMiLCJwbGF5ZXJJbnB1dEVscyIsInR1cm5UZXh0IiwiaXNIb3N0IiwiY3JlYXRlTG9jYWxVSSIsImNyZWF0ZU9ubGluZVVJIiwiZW5hYmxlZCIsImJpZ0ltYWdlIiwiYmlnRnJhbWUiLCJmcmFtZSIsImNyZWF0ZVBsYXllcnNVSSIsImNyZWF0ZUNoYXJhY3Rlck1pbmlhdHVyZXMiLCJ1cGRhdGVUdXJuVGV4dCIsImhhbmRsZU5leHQiLCJmb250U3R5bGUiLCJjcmVhdGVQbGF5ZXJPbmxpbmVVSSIsInBvc2l0aW9uc1giLCJpZHgiLCJpbnB1dEVsIiwibm9kZSIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInN0b3BQcm9wYWdhdGlvbiIsInJlcGxhY2UiLCJzZXRGaWx0ZXIiLCJGaWx0ZXJNb2RlIiwiTkVBUkVTVCIsInBvc2l0aW9ucyIsIm1pbmkiLCJvbk1pbmlDbGlja2VkIiwiY2hhcmFjdGVyTmFtZSIsIm93bmVySW5kZXgiLCJmaW5kSW5kZXgiLCJvd25lciIsInRhcmdldEluZGV4Iiwib3RoZXIiLCJuYW1lMSIsInRyaW0iLCJwMUhhc0NoYXIiLCJuYW1lMiIsInAySGFzQ2hhciIsImZsYXNoVHVyblRleHQiLCJtcyIsIm9sZENvbG9yIiwic2V0Q29sb3IiLCJwMUhhc05hbWUiLCJwMkhhc05hbWUiLCJhbGxDaGFycyIsImFsbE5hbWVzIiwidW5kZWZpbmVkIiwiU2VsZWN0U2NlbmFyaW9fU2NlbmUiLCJzZWxlY3RlZEltYWdlIiwiZXNjZW5hcmlvcyIsInNjZW5hcmlvQnV0dG9ucyIsInNldFNlbGVjdGVkU2NlbmFyaW8iLCJib3RvbiIsInRleHRvIiwiQWxpZ24iLCJJbiIsIkNlbnRlciIsIkxvYmJ5X1NjZW5lIiwiaXNQbGF5ZXJSZWFkeSIsImZyYW1lWSIsInRhcmdldEZyYW1lV2lkdGgiLCJ0YXJnZXRGcmFtZUhlaWdodCIsInAxU3RhdHVzVGV4dCIsInAyU3RhdHVzVGV4dCIsImJ0bkxpc3RvIiwidG9nZ2xlUmVhZHkiLCJidG5Wb2x2ZXIiLCJoYW5kbGVCYWNrIiwiZW1vamkiLCJudWV2b1RleHRvQm90b24iLCJzZXRMYWJlbCIsImRpc2FibGVJbnRlcmFjdGl2ZSIsInRhcmdldFNjZW5lIiwiTG9nZ2luZ19TY2VuZSIsImFwaVVybCIsImlzUmVnaXN0ZXJpbmciLCJzYXZlZE5hbWUiLCJzYXZlZFBhc3MiLCJyZXNwb25zZSIsInBhc3N3b3JkIiwicmVzRGF0YSIsImpzb24iLCJvayIsInRpdGxlVGV4dCIsIm1hcmNvIiwidXNlcklucHV0IiwiY3JlYXRlSHRtbElucHV0IiwicGFzc0lucHV0IiwibWFpbkJ0biIsImhhbmRsZVN1Ym1pdCIsInRvZ2dsZVRleHQiLCJ0b2dnbGVNb2RlIiwicGxhY2Vob2xkZXIiLCJpc1Bhc3N3b3JkIiwidXNlcm5hbWVWYWx1ZSIsInBhc3N3b3JkVmFsdWUiLCJhbGVydCIsImVuZHBvaW50IiwidG9rZW4iLCJkb2N1bWVudCIsImZvbnRzIiwiUHJvbWlzZSIsImFsbCIsInJlYWR5IiwicGFyZW50IiwiZGVmYXVsdCIsImFyY2FkZSIsImdyYXZpdHkiLCJkZWJ1ZyIsImNyZWF0ZUNvbnRhaW5lciIsImNhbGxiYWNrcyIsInByZUJvb3QiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ3aW5kb3ciLCJibG9iIiwiQmxvYiIsIm5hdmlnYXRvciIsInNlbmRCZWFjb24iXSwic291cmNlUm9vdCI6IiJ9