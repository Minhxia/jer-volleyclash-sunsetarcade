(()=>{"use strict";var e={n:t=>{var o=t&&t.__esModule?()=>t.default:()=>t;return e.d(o,{a:o}),o},d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var o=e.n(t);class n extends o().Scene{constructor(){super("Menu_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.image("fondoMenuPrincipal","ASSETS/FONDOS/MENU_PRINCIPAL.png")}create(){const{width:e,height:t}=this.scale,n=e/2,i=t/2-60,s=n+n/2;this.add.image(0,0,"fondoMenuPrincipal").setOrigin(0).setDepth(-1),this.add.text(s,100,"Volley Clash",{fontSize:"32px",color:"#ffffff"}).setOrigin(.5);const r=this.add.sprite(s,i,"botonSinSeleccionar").setScale(2).setInteractive({useHandCursor:!0}),a=this.add.text(0,0,"Jugar",{fontSize:"20px",color:"#000000"});o().Display.Align.In.Center(a,r),r.on("pointerover",()=>{r.setTexture("botonSeleccionado")}),r.on("pointerout",()=>{r.setTexture("botonSinSeleccionar")}),r.on("pointerdown",()=>{r.setTexture("botonSeleccionado")}),r.on("pointerup",()=>{this.scene.start("ModeGame_Scene")});const c=this.add.sprite(s,i+70,"botonSinSeleccionar").setScale(2).setInteractive({useHandCursor:!0}),S=this.add.text(0,0,"Configuración",{fontSize:"20px",color:"#000000"});o().Display.Align.In.Center(S,c),c.on("pointerover",()=>{c.setTexture("botonSeleccionado")}),c.on("pointerout",()=>{c.setTexture("botonSinSeleccionar")}),c.on("pointerdown",()=>{c.setTexture("botonSeleccionado")}),c.on("pointerup",()=>{this.scene.start("Configuration_Scene")});const l=this.add.sprite(s,i+140,"botonSinSeleccionar").setScale(2).setInteractive({useHandCursor:!0}),d=this.add.text(0,0,"Créditos",{fontSize:"20px",color:"#000000"});o().Display.Align.In.Center(d,l),l.on("pointerover",()=>{l.setTexture("botonSeleccionado")}),l.on("pointerout",()=>{l.setTexture("botonSinSeleccionar")}),l.on("pointerdown",()=>{l.setTexture("botonSeleccionado")}),l.on("pointerup",()=>{this.scene.start("Credits_Scene")})}}class i extends o().Scene{constructor(){super("Game_Scene")}create(){}}class s extends o().Scene{constructor(){super("Configuration_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoGeneral","ASSETS/SONIDO/SONIDO1.mp3")}create(){const{width:e,height:t}=this.scale,o=e/2;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(o,.1*t,"Configuración",{fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5),this.add.text(o,.25*t,"Volumen",{fontSize:"24px",color:"#000"}).setOrigin(.5),this.currentVolume=parseFloat(localStorage.getItem("volume"))||1,this.volumeSlider=this.add.dom(o,.3*t).createFromHTML(`\n            <input type="range" min="0" max="1" step="0.01" value="${this.currentVolume}"\n                style="width:200px; height:20px; accent-color:#00aaff; border-radius:5px;">\n        `),this.volumeSlider.addListener("input"),this.volumeSlider.addListener("change"),this.volumeSlider.on("input",e=>{const t=parseFloat(e.target.value);this.currentVolume=t,this.sound.volume=t,this.music.setVolume(t),localStorage.setItem("volume",t)}),this.music=this.sound.add("sonidoGeneral",{loop:!0,volume:this.currentVolume}),this.music.play();const n=.06*e,i=.08*t,s=this.add.sprite(n,i,"botonVolver").setScale(1).setInteractive({useHandCursor:!0});s.on("pointerover",()=>s.setScale(1.1)),s.on("pointerout",()=>s.setScale(1)),s.on("pointerdown",()=>{this.scene.start("Menu_Scene")}),this.add.text(o,.5*t,"Controles",{fontSize:"24px",color:"#000",fontStyle:"bold"}).setOrigin(.5)}}class r extends o().Scene{constructor(){super("Credits_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png")}create(){this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1);const{width:e,height:t}=this.scale,o=e/2;this.add.text(o,80,"Créditos",{fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5),["GRUPO 5 - SUNSET ARCADE","Sara Bueno Esteban","Antonio Morán Barrera","Cristine Nioka Tewo","Álvaro Ibáñez Montero"].forEach((e,t)=>{this.add.text(o,150+30*t,e,{fontSize:"20px",color:"#5f0000ff"}).setOrigin(.5)});const n=.06*e,i=.08*t;this.add.sprite(n,i,"botonVolver").setScale(1).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.start("Menu_Scene")})}}class a extends o().Scene{constructor(){super("EndGame_Escene")}create(){}}class c extends o().Scene{constructor(){super("ModeGame_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png")}create(){const{width:e,height:t}=this.scale;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(e/2,100,"Modo de Juego",{fontSize:"40px",color:"#000",fontStyle:"bold"}).setOrigin(.5);const n=e/2-125,i=this.add.sprite(n,250,"botonSinSeleccionar").setInteractive({useHandCursor:!0}).setScale(2),s=this.add.text(0,0,"Local",{fontSize:"24px",color:"#000"});o().Display.Align.In.Center(s,i),i.on("pointerover",()=>i.setTexture("botonSeleccionado")),i.on("pointerout",()=>i.setTexture("botonSinSeleccionar")),i.on("pointerdown",()=>i.setTexture("botonSeleccionado")),i.on("pointerup",()=>this.scene.start("SelecPlayer_Scene"));const r=this.add.sprite(n+250,250,"botonSinSeleccionar").setInteractive({useHandCursor:!0}).setScale(2),a=this.add.text(0,0,"Red",{fontSize:"24px",color:"#000"});o().Display.Align.In.Center(a,r),r.on("pointerover",()=>r.setTexture("botonSeleccionado")),r.on("pointerout",()=>r.setTexture("botonSinSeleccionar")),r.on("pointerdown",()=>i.setTexture("botonSeleccionado")),r.on("pointerup",()=>this.scene.start("SelecPlayer_Scene"));const c=.06*e,S=.08*t;this.add.sprite(c,S,"botonVolver").setScale(1).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.start("Menu_Scene")})}}class S extends o().Scene{constructor(){super("Pause_Scene")}create(){this.add.rectangle(400,300,800,600,0,.7),this.add.text(400,200,"Pausado",{fontSize:"64px",color:"#ffffff"}).setOrigin(.5)}}class l extends o().Scene{constructor(){super("SelecPlayer_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCO_PERSONAJE_SELECCIONADO.png"),this.load.image("personajeA","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_a.png"),this.load.image("personajeB","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_b.png"),this.load.image("personajeC","ASSETS/PERSONAJES/PERSONAJES_POSE/personaje_c.png")}create(){const{width:e,height:t}=this.scale;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.players=[{name:"",character:null,color:43775},{name:"",character:null,color:16733525}],this.selectedCharacters=new Set,this.add.text(e/2,50,"Selecciona Personaje",{fontSize:"40px",color:"#000",fontStyle:"bold"}).setOrigin(.5),this.createPlayerArea(0),this.createPlayerArea(1);const n=this.add.image(e/2,500,"botonSinSeleccionar").setInteractive().setScale(1.5),i=this.add.text(0,0,"Siguiente",{fontSize:"12px",color:"#000"});o().Display.Align.In.Center(i,n),n.on("pointerover",()=>n.setTexture("botonSimpleSeleccionado")),n.on("pointerout",()=>n.setTexture("botonSimple")),n.on("pointerdown",()=>n.setTexture("botonSimpleSeleccionado")),n.on("pointerup",()=>{const e=this.playerInputs[0].node.querySelector("input").value.trim(),t=this.playerInputs[1].node.querySelector("input").value.trim();console.log("Nombre de usuario:",e),console.log("Nombre de usuario:",t),e&&t?(this.players[0].name=e,this.players[1].name=t,this.scene.start("SelectScenario_Scene",{player1:this.players[0],player2:this.players[1]})):console.warn("Ambos jugadores deben poner nombre")});const s=.06*e,r=.08*t;this.add.sprite(s,r,"botonVolver").setScale(1).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.start("ModeGame_Scene")})}createPlayerArea(e){const{width:t,height:o}=this.scale;this.players[e],this.currentTurn=0,this.players.forEach((e,n)=>{this.add.text(t*(.25+.5*n),110,"Nombre:",{fontSize:"24px",color:"#000"}).setOrigin(.5);const i=this.add.dom(t*(.25+.5*n),150).createFromHTML('\n                <input type="text" placeholder="Nombre jugador" maxlength="10"\n                    style="width:120px; padding:5px; font-size:16px; border-radius:5px;">\n            ');this.playerInputs||(this.playerInputs=[]),this.playerInputs[n]=i,e.bigImage=this.add.image(t*(.25+.5*n),.6*o,"personajeA").setScale(1.2).setVisible(!1),e.bigFrame=this.add.image(e.bigImage.x,e.bigImage.y,"marco").setScale(2.8).setVisible(!0),e.frame=this.add.rectangle(0,0,60,120).setStrokeStyle(4,e.color).setVisible(!1)});const n=t/2-75,i=.5*o,s=[{x:n,y:i},{x:n+150,y:i},{x:n+75,y:i+75}];["personajeA","personajeB","personajeC"].forEach((e,t)=>{const o=this.add.image(s[t].x,s[t].y,e).setInteractive().setScale(.45).setData("characterName",e);o.on("pointerdown",()=>{const t=this.players[0],n=this.players[1];let i,s;if(null===this.currentTurn){if(t.character===e)i=t;else{if(n.character!==e)return;i=n}s=i===t?n:t}else i=this.players[this.currentTurn],s=this.players[1-this.currentTurn];if(i.character===e)return i.character=null,i.bigImage.setVisible(!1),i.frame.setVisible(!1),this.selectedCharacters.delete(e),void(this.currentTurn=this.players.indexOf(i));s.character!==e&&(t.character&&n.character||(i.character&&this.selectedCharacters.delete(i.character),i.character=e,i.bigImage.setTexture(e).setVisible(!0),this.selectedCharacters.add(e),i.frame.setPosition(o.x,o.y),i.frame.setVisible(!0),s.character?this.currentTurn=null:this.currentTurn=1-this.currentTurn))})})}}class d extends o().Scene{constructor(){super("SelectScenario_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("Gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("Playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("Jardin","ASSETS/FONDOS/JARDIN.png")}init(e){this.player1=e.player1,this.player2=e.player2}create(){const{width:e,height:t}=this.scale;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(e/2,50,"Selecciona Escenario",{fontSize:"40px",color:"#000",fontStyle:"bold"}).setOrigin(.5),this.selectedScenario="Gym",this.selectedImage=this.add.image(e/2,240,this.selectedScenario).setScale(.5);const n=e/2-200;["Gym","Playa","Jardin"].forEach((e,t)=>{const i=this.add.image(n+200*t,440,"botonSinSeleccionar").setInteractive().setScale(1.75),s=this.add.text(0,0,e,{fontSize:"24px",color:"#000"});o().Display.Align.In.Center(s,i),i.on("pointerover",()=>i.setTexture("botonSeleccionado")),i.on("pointerout",()=>{this.selectedScenario!==e&&i.setTexture("botonSinSeleccionar")}),i.on("pointerdown",()=>{this.selectedScenario=e,this.selectedImage.setTexture(e).setScale(.5)}),i.on("pointerup",()=>i.setTexture("botonSinSeleccionar"))});const i=this.add.image(e/2,500,"botonSimple").setInteractive().setScale(1.5),s=this.add.text(0,0,"Siguiente",{fontSize:"12px",color:"#000"});o().Display.Align.In.Center(s,i),i.on("pointerover",()=>i.setTexture("botonSimpleSeleccionado")),i.on("pointerout",()=>i.setTexture("botonSimple")),i.on("pointerdown",()=>i.setTexture("botonSimpleSeleccionado")),i.on("pointerup",()=>{this.scene.start("Game_Scene",{player1:this.player1,player2:this.player2,selectedScenario:this.selectedScenario})});const r=.06*e,a=.08*t;this.add.sprite(r,a,"botonVolver").setScale(1).setInteractive({useHandCursor:!0}).on("pointerdown",()=>{this.scene.start("SelecPlayer_Scene")})}}document.fonts.ready.then(()=>{const e={type:o().AUTO,width:960,height:540,parent:"game-cointainer",physics:{default:"arcade",arcade:{gravity:{x:0,y:300},debug:!0}},dom:{createContainer:!0},scene:[n,i,s,r,a,S,c,l,d],backgroundColor:"#8675f1"};o().GameObjects.Text=class extends o().GameObjects.Text{constructor(e,t,o,n,i={}){i.fontFamily=i.fontFamily||"FuentePixelada",i.fontSize=i.fontSize||"32px",i.color=i.color||"#ffffff",super(e,t,o,n,i)}},new(o().Game)(e)})})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEtBQzFCLE1BQU1DLEVBQVMsQ0FDWEMsS0FBTSxTQUNOMUgsTUFBTyxJQUNQQyxPQUFRLElBQ1IwSCxPQUFRLGtCQUNSQyxRQUFTLENBQ0xDLFFBQVMsU0FDVEMsT0FBUSxDQUNKQyxRQUFTLENBQUMvQixFQUFHLEVBQUdDLEVBQUcsS0FDbkIrQixPQUFPLElBR2YxRixJQUFLLENBQ0QyRixpQkFBaUIsR0FFckIxRyxNQUFPLENBQUMvQixFQUFZc0MsRUFBWUMsRUFBcUJ3QixFQUFlSSxFQUFlUSxFQUFhUCxFQUFnQlMsRUFBb0J5QyxHQUNwSW9CLGdCQUFnQixXQUdwQixnQkFBbUJDLEtBQU8sY0FBYyxnQkFBbUJBLEtBQ3ZELFdBQUExSSxDQUFZOEIsRUFBT3lFLEVBQUdDLEVBQUd4RixFQUFNMkgsRUFBUSxDQUFDLEdBQ3BDQSxFQUFNQyxXQUFhRCxFQUFNQyxZQUFjLGlCQUN2Q0QsRUFBTTFILFNBQVcwSCxFQUFNMUgsVUFBWSxPQUNuQzBILEVBQU16SCxNQUFReUgsRUFBTXpILE9BQVMsVUFDN0JqQixNQUFNNkIsRUFBT3lFLEVBQUdDLEVBQUd4RixFQUFNMkgsRUFDN0IsR0FHUyxJQUFJLFVBQVlYLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby9leHRlcm5hbCB2YXIgXCJQaGFzZXJcIiIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvTWVudV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvR2FtZV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvQ29uZmlndXJhdGlvbl9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvQ3JlZGl0c19TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvRW5kR2FtZV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvTW9kZUdhbWVfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL1BhdXNlX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9TZWxlY3RQbGF5ZXJfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL1NlbGVjdFNjZW5hcmlvX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSBQaGFzZXI7IiwiLy8gUGFudGFsbGEgZGVsIE1lbsO6IFByaW5jaXBhbFxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgTWVudV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTWVudV9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gc2UgY2FyZ2FuIGxhcyBpbcOhZ2VuZXMgZGUgbG9zIGJvdG9uZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfR19TRUxFQ0NJT05BRE8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfRy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvTWVudVByaW5jaXBhbCcsICdBU1NFVFMvRk9ORE9TL01FTlVfUFJJTkNJUEFMLnBuZycpXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkgeyAgICAgICAgXHJcbiAgICAgICAgLy8gcG9zaWNpb25lcyBiYXNlIHBhcmEgbG9zIGJvdG9uZXMgZGVsIG1lbsO6XHJcbiAgICAgICAgLy8gKGFzw60gc2UgcHVlZGUgY2FtYmlhciBlbCB0YW1hw7FvIHNpbiBwcm9ibGVtYXMpXHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XHJcbiAgICAgICAgY29uc3QgZmlyc3RCdXR0b25ZID0gaGVpZ2h0IC8gMiAtIDYwO1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvblNwYWNpbmcgPSA3MDtcclxuICAgICAgICBjb25zdCBtaXRhZERlcmVjaGFYID0gY2VudGVyWCArIChjZW50ZXJYIC8gMik7XHJcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZCA9IHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kb01lbnVQcmluY2lwYWwnKVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAuc2V0RGVwdGgoLTEpO1xyXG4gICAgICAgIC8vIFRPRE86IGNhbWJpYXIgcG9yIHVuYSBpbWFnZW4/XHJcbiAgICAgICAgLy8gdMOtdHVsbyBkZWwganVlZ29cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KG1pdGFkRGVyZWNoYVgsIDEwMCwgJ1ZvbGxleSBDbGFzaCcsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLy8vIEJPVMOTTiBKVUdBUiAvLy8vXHJcbiAgICAgICAgY29uc3QgcGxheUJ1dHRvbiA9IHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5zcHJpdGUobWl0YWREZXJlY2hhWCwgZmlyc3RCdXR0b25ZLCAnYm90b25TaW5TZWxlY2Npb25hcicpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgyKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBwbGF5VGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJ0p1Z2FyJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUGhhc2VyLkRpc3BsYXkuQWxpZ24uSW4uQ2VudGVyKHBsYXlUZXh0LCBwbGF5QnV0dG9uKTtcclxuXHJcbiAgICAgICAgcGxheUJ1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHBsYXlCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5QnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBwbGF5QnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2luU2VsZWNjaW9uYXInKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcGxheUJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHBsYXlCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBwbGF5QnV0dG9uLm9uKCdwb2ludGVydXAnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGFsIHNvbHRhciBlbCBjbGljayBzZSBwYXNhIGEgbGEgZXNjZW5hIGRlIHNlbGVjY2nDs24gZGUgbW9kbyBkZSBqdWVnb1xyXG4gICAgICAgICAgICAvLyAobG9jYWwgbyBlbiByZWQpXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01vZGVHYW1lX1NjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8vLy8vLy9cclxuXHJcbiAgICAgICAgLy8vLyBCT1TDk04gQ09ORklHVVJBQ0nDk04gLy8vL1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZ0J1dHRvbiA9IHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5zcHJpdGUobWl0YWREZXJlY2hhWCwgZmlyc3RCdXR0b25ZICsgYnV0dG9uU3BhY2luZywgJ2JvdG9uU2luU2VsZWNjaW9uYXInKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMilcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgY29uZmlnVGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJ0NvbmZpZ3VyYWNpw7NuJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUGhhc2VyLkRpc3BsYXkuQWxpZ24uSW4uQ2VudGVyKGNvbmZpZ1RleHQsIGNvbmZpZ0J1dHRvbik7XHJcblxyXG4gICAgICAgIGNvbmZpZ0J1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbmZpZ0J1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNlbGVjY2lvbmFkbycpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbmZpZ0J1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgY29uZmlnQnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2luU2VsZWNjaW9uYXInKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uZmlnQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgY29uZmlnQnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uZmlnQnV0dG9uLm9uKCdwb2ludGVydXAnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHNlIHBhc2EgYSBsYSBlc2NlbmEgZGUgY29uZmlndXJhY2nDs25cclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnQ29uZmlndXJhdGlvbl9TY2VuZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vLy8vLy8vXHJcblxyXG4gICAgICAgIC8vLy8gQk9Uw5NOIENSw4lESVRPUyAvLy8vXHJcbiAgICAgICAgY29uc3QgY3JlZGl0c0J1dHRvbiA9IHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5zcHJpdGUobWl0YWREZXJlY2hhWCwgZmlyc3RCdXR0b25ZICsgYnV0dG9uU3BhY2luZyAqIDIsICdib3RvblNpblNlbGVjY2lvbmFyJylcclxuICAgICAgICAgICAgLnNldFNjYWxlKDIpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNyZWRpdHNUZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAwLCAnQ3LDqWRpdG9zJywge1xyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgUGhhc2VyLkRpc3BsYXkuQWxpZ24uSW4uQ2VudGVyKGNyZWRpdHNUZXh0LCBjcmVkaXRzQnV0dG9uKTtcclxuXHJcbiAgICAgICAgY3JlZGl0c0J1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNyZWRpdHNCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjcmVkaXRzQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICBjcmVkaXRzQnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2luU2VsZWNjaW9uYXInKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY3JlZGl0c0J1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGNyZWRpdHNCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY3JlZGl0c0J1dHRvbi5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBzZSBwYXNhIGEgbGEgZXNjZW5hIGRlIGNyw6lkaXRvc1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdDcmVkaXRzX1NjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8vLy8vLy9cclxuICAgICAgICBcclxuICAgIH1cclxufVxyXG4iLCIvL1BhbnRhbGxhIGRlIEp1ZWdvXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkgeyBcclxuXHJcbiAgICB9XHJcbn0iLCIvLyBQYW50YWxsYSBkZSBDb25maWd1cmFjacOzblxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5leHBvcnQgY2xhc3MgQ29uZmlndXJhdGlvbl9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ29uZmlndXJhdGlvbl9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gSW3DoWdlbmVzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9GTEVDSEFfVk9MVkVSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBBdWRpb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvR2VuZXJhbCcsICdBU1NFVFMvU09OSURPL1NPTklETzEubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xyXG5cclxuICAgICAgICAvLyBGb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpLnNldE9yaWdpbigwKS5zZXREZXB0aCgtMSk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG8gZGUgbGEgZXNjZW5hXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjEsICdDb25maWd1cmFjacOzbicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIFN1YnTDrXR1bG8gZGUgY29udHJvbGVzXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjI1LCAnVm9sdW1lbicsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBWb2x1bWVuIGluaWNpYWwgZ3VhcmRhZG8gbyAxXHJcbiAgICAgICAgdGhpcy5jdXJyZW50Vm9sdW1lID0gcGFyc2VGbG9hdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndm9sdW1lJykpIHx8IDE7XHJcblxyXG4gICAgICAgIC8vIEJhcnJhIGRlIHZvbHVtZW4gSFRNTFxyXG4gICAgICAgIHRoaXMudm9sdW1lU2xpZGVyID0gdGhpcy5hZGQuZG9tKGNlbnRlclgsIGhlaWdodCAqIDAuMykuY3JlYXRlRnJvbUhUTUwoYFxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD1cIjFcIiBzdGVwPVwiMC4wMVwiIHZhbHVlPVwiJHt0aGlzLmN1cnJlbnRWb2x1bWV9XCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6MjAwcHg7IGhlaWdodDoyMHB4OyBhY2NlbnQtY29sb3I6IzAwYWFmZjsgYm9yZGVyLXJhZGl1czo1cHg7XCI+XHJcbiAgICAgICAgYCk7XHJcblxyXG4gICAgICAgIHRoaXMudm9sdW1lU2xpZGVyLmFkZExpc3RlbmVyKCdpbnB1dCcpO1xyXG4gICAgICAgIHRoaXMudm9sdW1lU2xpZGVyLmFkZExpc3RlbmVyKCdjaGFuZ2UnKTtcclxuXHJcbiAgICAgICAgdGhpcy52b2x1bWVTbGlkZXIub24oJ2lucHV0JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHZvbHVtZSA9IHBhcnNlRmxvYXQoZXZlbnQudGFyZ2V0LnZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50Vm9sdW1lID0gdm9sdW1lO1xyXG4gICAgICAgICAgICB0aGlzLnNvdW5kLnZvbHVtZSA9IHZvbHVtZTsgLy8gVm9sdW1lbiBnbG9iYWxcclxuICAgICAgICAgICAgdGhpcy5tdXNpYy5zZXRWb2x1bWUodm9sdW1lKTsgLy8gTcO6c2ljYSBkZSBmb25kb1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndm9sdW1lJywgdm9sdW1lKTsgLy8gR3VhcmRhciBlbnRyZSBlc2NlbmFzXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIE3DunNpY2EgZGUgZm9uZG9cclxuICAgICAgICB0aGlzLm11c2ljID0gdGhpcy5zb3VuZC5hZGQoJ3Nvbmlkb0dlbmVyYWwnLCB7IGxvb3A6IHRydWUsIHZvbHVtZTogdGhpcy5jdXJyZW50Vm9sdW1lIH0pO1xyXG4gICAgICAgIHRoaXMubXVzaWMucGxheSgpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gVm9sdmVyIGFycmliYSBhIGxhIGl6cXVpZXJkYVxyXG4gICAgICAgIGNvbnN0IGJhY2tYID0gd2lkdGggKiAwLjA2O1xyXG4gICAgICAgIGNvbnN0IGJhY2tZID0gaGVpZ2h0ICogMC4wODtcclxuXHJcbiAgICAgICAgY29uc3QgYmFja0J1dHRvbiA9IHRoaXMuYWRkLnNwcml0ZShiYWNrWCwgYmFja1ksICdib3RvblZvbHZlcicpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICAvLyBIb3ZlciBlZmVjdG9cclxuICAgICAgICBiYWNrQnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJhY2tCdXR0b24uc2V0U2NhbGUoMS4xKSk7XHJcbiAgICAgICAgYmFja0J1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IGJhY2tCdXR0b24uc2V0U2NhbGUoMSkpO1xyXG5cclxuICAgICAgICAvLyBBY2Npw7NuIGFsIGhhY2VyIGNsaWNrXHJcbiAgICAgICAgYmFja0J1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vQ29udHJvbGVzXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjUsICdDb250cm9sZXMnLCB7XHJcbiAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICBjb2xvcjogJyMwMDAnLFxyXG4gICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gUGFudGFsbGEgZGUgQ3LDqWRpdG9zXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDcmVkaXRzX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDcmVkaXRzX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0ZMRUNIQV9WT0xWRVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIHBvc2ljaW9uZXMgYmFzZSBwYXJhIGxvcyBib3RvbmVzIGRlbCBtZW7DulxyXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAuc2V0RGVwdGgoLTEpO1xyXG4gICAgICAgIC8vIChhc8OtIHNlIHB1ZWRlIGNhbWJpYXIgZWwgdGFtYcOxbyBzaW4gcHJvYmxlbWFzKVxyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiBjYW1iaWFyIHBvciB1bmEgaW1hZ2VuP1xyXG4gICAgICAgIC8vIHTDrXR1bG8gZGUgbGEgZXNjZW5hIGRlIGNyw6lkaXRvc1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgODAsICdDcsOpZGl0b3MnLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiBwb25lcmxvIG3DoXMgYm9uaXRvXHJcbiAgICAgICAgLy8gbWllbWJyb3MgZGVsIGVxdWlwb1xyXG4gICAgICAgIGNvbnN0IG5vbWJyZXNFcXVpcG8gPSBbXHJcbiAgICAgICAgICAgICdHUlVQTyA1IC0gU1VOU0VUIEFSQ0FERScsXHJcbiAgICAgICAgICAgICdTYXJhIEJ1ZW5vIEVzdGViYW4nLFxyXG4gICAgICAgICAgICAnQW50b25pbyBNb3LDoW4gQmFycmVyYScsXHJcbiAgICAgICAgICAgICdDcmlzdGluZSBOaW9rYSBUZXdvJyxcclxuICAgICAgICAgICAgJ8OBbHZhcm8gSWLDocOxZXogTW9udGVybydcclxuICAgICAgICBdO1xyXG4gICAgICAgIC8vIHNlIG11ZXN0cmFuIGxvcyBub21icmVzIGNlbnRyYWRvc1xyXG4gICAgICAgIGNvbnN0IGluaWNpb1kgPSAxNTA7XHJcbiAgICAgICAgY29uc3Qgc2VwYXJhY2lvbiA9IDMwO1xyXG5cclxuICAgICAgICBub21icmVzRXF1aXBvLmZvckVhY2goKG5vbWJyZSwgaW5kZXgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBpbmljaW9ZICsgaW5kZXggKiBzZXBhcmFjaW9uLCBub21icmUsIHtcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZidcclxuICAgICAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vLy8gQk9Uw5NOIFZPTFZFUiAvLy8vXHJcbiAgICAgICAgLy8gYXJyaWJhIGEgbGEgaXpxdWllcmRhXHJcbiAgICAgICAgY29uc3QgYmFja1ggPSB3aWR0aCAqIDAuMDY7XHJcbiAgICAgICAgY29uc3QgYmFja1kgPSBoZWlnaHQgKiAwLjA4O1xyXG5cclxuICAgICAgICBjb25zdCBiYWNrQnV0dG9uID0gdGhpcy5hZGRcclxuICAgICAgICAgICAgLnNwcml0ZShiYWNrWCwgYmFja1ksICdib3RvblZvbHZlcicpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBiYWNrQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gdnVlbHZlIGFsIG1lbsO6IHByaW5jaXBhbFxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLy9QYW50YWxsYSBkZSBGaW5cclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVuZEdhbWVfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0VuZEdhbWVfRXNjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkgeyBcclxuXHJcbiAgICB9XHJcbn0iLCIvLyBQYW50YWxsYSBkZSBNb2RvIGRlIEp1ZWdvXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNb2RlR2FtZV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTW9kZUdhbWVfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fU0VMRUNDSU9ORE8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX1NJTl9TRUxFQ0NJT05BUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0ZMRUNIQV9WT0xWRVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuXHJcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZCA9IHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpXHJcbiAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgIC5zZXREZXB0aCgtMSk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG8gY2VudHJhZG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgMTAwLCAnTW9kbyBkZSBKdWVnbycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gUG9zaWNpb25lcyBob3Jpem9udGFsZXMgZGUgbG9zIGJvdG9uZXNcclxuICAgICAgICBjb25zdCBzcGFjaW5nID0gMjUwO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0WCA9IHdpZHRoIC8gMiAtIHNwYWNpbmcgLyAyO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEJvdG9uIExvY2FsXHJcbiAgICAgICAgY29uc3QgbG9jYWxCdXR0b24gPSB0aGlzLmFkZC5zcHJpdGUoc3RhcnRYLCAyNTAsICdib3RvblNpblNlbGVjY2lvbmFyJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMik7XHJcblxyXG4gICAgICAgIGNvbnN0IGxvY2FsVGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJ0xvY2FsJywgeyBmb250U2l6ZTogJzI0cHgnLCBjb2xvcjogJyMwMDAnIH0pO1xyXG4gICAgICAgIFBoYXNlci5EaXNwbGF5LkFsaWduLkluLkNlbnRlcihsb2NhbFRleHQsIGxvY2FsQnV0dG9uKTtcclxuXHJcbiAgICAgICAgbG9jYWxCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbG9jYWxCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKSk7XHJcbiAgICAgICAgbG9jYWxCdXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBsb2NhbEJ1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNpblNlbGVjY2lvbmFyJykpO1xyXG4gICAgICAgIGxvY2FsQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IGxvY2FsQnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJykpO1xyXG4gICAgICAgIGxvY2FsQnV0dG9uLm9uKCdwb2ludGVydXAnLCAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY1BsYXllcl9TY2VuZScpKTtcclxuXHJcbiAgICAgICAgLy8gQm90b24gUmVkXHJcbiAgICAgICAgY29uc3QgbmV0d29ya0J1dHRvbiA9IHRoaXMuYWRkLnNwcml0ZShzdGFydFggKyBzcGFjaW5nLCAyNTAsICdib3RvblNpblNlbGVjY2lvbmFyJylcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMik7XHJcblxyXG4gICAgICAgIGNvbnN0IG5ldHdvcmtUZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAwLCAnUmVkJywgeyBmb250U2l6ZTogJzI0cHgnLCBjb2xvcjogJyMwMDAnIH0pO1xyXG4gICAgICAgIFBoYXNlci5EaXNwbGF5LkFsaWduLkluLkNlbnRlcihuZXR3b3JrVGV4dCwgbmV0d29ya0J1dHRvbik7XHJcblxyXG4gICAgICAgIG5ldHdvcmtCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbmV0d29ya0J1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNlbGVjY2lvbmFkbycpKTtcclxuICAgICAgICBuZXR3b3JrQnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbmV0d29ya0J1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNpblNlbGVjY2lvbmFyJykpO1xyXG4gICAgICAgIG5ldHdvcmtCdXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gbG9jYWxCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKSk7XHJcbiAgICAgICAgbmV0d29ya0J1dHRvbi5vbigncG9pbnRlcnVwJywgKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnU2VsZWNQbGF5ZXJfU2NlbmUnKSk7XHJcblxyXG4gICAgICAgIC8vIEJvdG9uIFZvbHZlclxyXG4gICAgICAgIGNvbnN0IGJhY2tYID0gd2lkdGggKiAwLjA2O1xyXG4gICAgICAgIGNvbnN0IGJhY2tZID0gaGVpZ2h0ICogMC4wODtcclxuXHJcbiAgICAgICAgY29uc3QgYmFja0J1dHRvbiA9IHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5zcHJpdGUoYmFja1gsIGJhY2tZLCAnYm90b25Wb2x2ZXInKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgYmFja0J1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIi8vUGFudGFsbGEgZGUgUGF1c2FcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhdXNlX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdQYXVzZV9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHsgXHJcbiAgICAgICAgdGhpcy5hZGQucmVjdGFuZ2xlKDQwMCwgMzAwLCA4MDAsIDYwMCwgMHgwMDAwMDAsIDAuNyk7XHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCg0MDAsIDIwMCwgJ1BhdXNhZG8nLCB7XHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgIH1cclxufSIsIi8vUGFudGFsbGEgZGUgU2VsZWNjaW9uIGRlIGp1Z2Fkb3JcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdFBsYXllcl9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignU2VsZWNQbGF5ZXJfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fU0VMRUNDSU9ORE8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX1NJTl9TRUxFQ0NJT05BUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL1ZPTFZFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfU0lOU0VMRUNDSU9OQVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWFyY28nLCdBU1NFVFMvVUkvTUFSQ09TL1ZBQ0lPUy9NQVJDT19QRVJTT05BSkVfU0VMRUNDSU9OQURPLnBuZycpXHJcblxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGVyc29uYWplQScsICdBU1NFVFMvUEVSU09OQUpFUy9QRVJTT05BSkVTX1BPU0UvcGVyc29uYWplc19hLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGVyc29uYWplQicsICdBU1NFVFMvUEVSU09OQUpFUy9QRVJTT05BSkVTX1BPU0UvcGVyc29uYWplc19iLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGVyc29uYWplQycsICdBU1NFVFMvUEVSU09OQUpFUy9QRVJTT05BSkVTX1BPU0UvcGVyc29uYWplX2MucG5nJyk7XHJcbiAgICAgICAgXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuXHJcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZCA9IHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpXHJcbiAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgIC5zZXREZXB0aCgtMSk7XHJcblxyXG4gICAgICAgIC8vIERhdG9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IFtcclxuICAgICAgICAgICAgeyBuYW1lOiAnJywgY2hhcmFjdGVyOiBudWxsLCBjb2xvcjogMHgwMGFhZmYgfSwgLy8gQXp1bCAtIEp1Z2Fkb3IgMVxyXG4gICAgICAgICAgICB7IG5hbWU6ICcnLCBjaGFyYWN0ZXI6IG51bGwsIGNvbG9yOiAweGZmNTU1NSB9ICAvLyBSb2pvIC0gSnVnYWRvciAyXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZENoYXJhY3RlcnMgPSBuZXcgU2V0KCk7IC8vIENvbmp1bnRvIGNvbiBsb3MgcGVyc29uYWplcyBzZWxlY2Npb25hZG9zXHJcblxyXG4gICAgICAgIC8vIFRleHRvIHN1cGVyaW9yXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDUwLCAnU2VsZWNjaW9uYSBQZXJzb25hamUnLCB7IGZvbnRTaXplOiAnNDBweCcsIGNvbG9yOiAnIzAwMCcsIGZvbnRTdHlsZTogJ2JvbGQnIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBDcmVhciDDoXJlYXMgZGUgc2VsZWNjacOzblxyXG4gICAgICAgIHRoaXMuY3JlYXRlUGxheWVyQXJlYSgwKTsgLy8gSnVnYWRvciAxXHJcbiAgICAgICAgdGhpcy5jcmVhdGVQbGF5ZXJBcmVhKDEpOyAvLyBKdWdhZG9yIDJcclxuXHJcbiAgICAgICAgLy8gQm90b24gU2lndWllbnRlXHJcbiAgICAgICAgY29uc3QgbmV4dEJ1dHRvbiA9IHRoaXMuYWRkLmltYWdlKHdpZHRoLzIsIDUwMCwgJ2JvdG9uU2luU2VsZWNjaW9uYXInKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMS41KTtcclxuICAgICAgICBjb25zdCBuZXh0VGV4dCA9IHRoaXMuYWRkLnRleHQoMCwgMCwgJ1NpZ3VpZW50ZScsIHsgZm9udFNpemU6ICcxMnB4JywgY29sb3I6ICcjMDAwJyB9KTtcclxuICAgICAgICBQaGFzZXIuRGlzcGxheS5BbGlnbi5Jbi5DZW50ZXIobmV4dFRleHQsIG5leHRCdXR0b24pO1xyXG5cclxuICAgICAgICBuZXh0QnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IG5leHRCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nKSk7XHJcbiAgICAgICAgbmV4dEJ1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IG5leHRCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TaW1wbGUnKSk7XHJcbiAgICAgICAgbmV4dEJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiBuZXh0QnV0dG9uLnNldFRleHR1cmUoJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJykpO1xyXG4gICAgICAgIG5leHRCdXR0b24ub24oJ3BvaW50ZXJ1cCcsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmFtZTEgPSB0aGlzLnBsYXllcklucHV0c1swXS5ub2RlLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykudmFsdWUudHJpbSgpO1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lMiA9IHRoaXMucGxheWVySW5wdXRzWzFdLm5vZGUucXVlcnlTZWxlY3RvcignaW5wdXQnKS52YWx1ZS50cmltKCk7XHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIk5vbWJyZSBkZSB1c3VhcmlvOlwiLCBuYW1lMSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTm9tYnJlIGRlIHVzdWFyaW86XCIsIG5hbWUyKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghbmFtZTEgfHwgIW5hbWUyKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJBbWJvcyBqdWdhZG9yZXMgZGViZW4gcG9uZXIgbm9tYnJlXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyc1swXS5uYW1lID0gbmFtZTE7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyc1sxXS5uYW1lID0gbmFtZTI7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RTY2VuYXJpb19TY2VuZScsIHsgXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLnBsYXllcnNbMF0sXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIyOiB0aGlzLnBsYXllcnNbMV1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdG9uIFZvbHZlclxyXG4gICAgICAgIGNvbnN0IGJhY2tYID0gd2lkdGggKiAwLjA2O1xyXG4gICAgICAgIGNvbnN0IGJhY2tZID0gaGVpZ2h0ICogMC4wODtcclxuXHJcbiAgICAgICAgY29uc3QgYmFja0J1dHRvbiA9IHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5zcHJpdGUoYmFja1gsIGJhY2tZLCAnYm90b25Wb2x2ZXInKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSlcclxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgYmFja0J1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01vZGVHYW1lX1NjZW5lJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlUGxheWVyQXJlYShpZHgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wbGF5ZXJzW2lkeF07XHJcblxyXG4gICAgICAgIC8vIFR1cm5vOiAwID0ganVnYWRvciAxLCAxID0ganVnYWRvciAyXHJcbiAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IDA7XHJcblxyXG4gICAgICAgIC8vIENyZWFyIGlucHV0cyB5IG1hcmNvcyBwYXJhIGNhZGEganVnYWRvclxyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKChwbGF5ZXIsIGlkeCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBJbnB1dCBkZSBub21icmUgYXJyaWJhXHJcbiAgICAgICAgICAgIHRoaXMuYWRkLnRleHQod2lkdGggKiAoMC4yNSArIDAuNSAqIGlkeCksIDExMCwgJ05vbWJyZTonLCB7IGZvbnRTaXplOiAnMjRweCcsIGNvbG9yOiAnIzAwMCcgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gdGhpcy5hZGQuZG9tKHdpZHRoICogKDAuMjUgKyAwLjUgKiBpZHgpLCAxNTApLmNyZWF0ZUZyb21IVE1MKGBcclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiTm9tYnJlIGp1Z2Fkb3JcIiBtYXhsZW5ndGg9XCIxMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDoxMjBweDsgcGFkZGluZzo1cHg7IGZvbnQtc2l6ZToxNnB4OyBib3JkZXItcmFkaXVzOjVweDtcIj5cclxuICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5wbGF5ZXJJbnB1dHMpIHRoaXMucGxheWVySW5wdXRzID0gW107XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRzW2lkeF0gPSBpbnB1dDtcclxuXHJcbiAgICAgICAgICAgIC8vIEltYWdlbiBncmFuZGVcclxuICAgICAgICAgICAgcGxheWVyLmJpZ0ltYWdlID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggKiAoMC4yNSArIDAuNSAqIGlkeCksIGhlaWdodCAqIDAuNiwgJ3BlcnNvbmFqZUEnKVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEuMilcclxuICAgICAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgICAgIHBsYXllci5iaWdGcmFtZSA9IHRoaXMuYWRkLmltYWdlKHBsYXllci5iaWdJbWFnZS54LCBwbGF5ZXIuYmlnSW1hZ2UueSwgJ21hcmNvJylcclxuICAgICAgICAgICAgLnNldFNjYWxlKDIuOCkgXHJcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICAvLyBNYXJjbyBzb2JyZSBtaW5pYXR1cmFcclxuICAgICAgICAgICAgcGxheWVyLmZyYW1lID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIDYwLCAxMjApXHJcbiAgICAgICAgICAgICAgICAuc2V0U3Ryb2tlU3R5bGUoNCwgcGxheWVyLmNvbG9yKVxyXG4gICAgICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8gTWluaWF0dXJhcyBlbiB0cmnDoW5ndWxvIGNlbnRyYWxcclxuICAgICAgICBjb25zdCBwZXJzb25hamVzID0gWydwZXJzb25hamVBJywgJ3BlcnNvbmFqZUInLCAncGVyc29uYWplQyddO1xyXG4gICAgICAgIGNvbnN0IHNwYWNpbmcgPSAxNTA7IC8vIGF1bWVudGEgZXNwYWNpYWRvXHJcbiAgICAgICAgY29uc3Qgc3RhcnRYID0gd2lkdGggLyAyIC0gc3BhY2luZyAvIDI7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRZID0gaGVpZ2h0ICogMC41O1xyXG5cclxuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBbXHJcbiAgICAgICAgICAgIHsgeDogc3RhcnRYLCB5OiBzdGFydFkgfSxcclxuICAgICAgICAgICAgeyB4OiBzdGFydFggKyBzcGFjaW5nLCB5OiBzdGFydFkgfSxcclxuICAgICAgICAgICAgeyB4OiBzdGFydFggKyBzcGFjaW5nIC8gMiwgeTogc3RhcnRZICsgc3BhY2luZyAvIDIgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHBlcnNvbmFqZXMuZm9yRWFjaCgobm9tYnJlLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1pbmkgPSB0aGlzLmFkZC5pbWFnZShwb3NpdGlvbnNbaV0ueCwgcG9zaXRpb25zW2ldLnksIG5vbWJyZSlcclxuICAgICAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSgpXHJcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC40NSlcclxuICAgICAgICAgICAgICAgIC5zZXREYXRhKCdjaGFyYWN0ZXJOYW1lJywgbm9tYnJlKTtcclxuXHJcbiAgICAgICAgICAgIG1pbmkub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGxheWVyMSA9IHRoaXMucGxheWVyc1swXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYXllcjIgPSB0aGlzLnBsYXllcnNbMV07XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRQbGF5ZXIsIG90aGVyUGxheWVyO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNpIGN1cnJlbnRUdXJuIGVzIG51bGwgKGFtYm9zIHRpZW5lbiBwZXJzb25hamUpLCBuYWRpZSBwdWVkZSBzZWxlY2Npb25hclxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFR1cm4gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBQZXJvIHNpIGNsaWNrZWFzIHR1IHByb3BpbyBwZXJzb25hamUgcGFyYSBkZXNlbGVjY2lvbmFyLCBwZXJtaXRpbW9zXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsYXllcjEuY2hhcmFjdGVyID09PSBub21icmUpIGN1cnJlbnRQbGF5ZXIgPSBwbGF5ZXIxO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHBsYXllcjIuY2hhcmFjdGVyID09PSBub21icmUpIGN1cnJlbnRQbGF5ZXIgPSBwbGF5ZXIyO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgcmV0dXJuOyAvLyBvdHJvIHBlcnNvbmFqZSBvY3VwYWRvLCBubyBwZXJtaXRpclxyXG4gICAgICAgICAgICAgICAgICAgIG90aGVyUGxheWVyID0gY3VycmVudFBsYXllciA9PT0gcGxheWVyMSA/IHBsYXllcjIgOiBwbGF5ZXIxO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBUdXJubyBkZWZpbmlkb1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXIgPSB0aGlzLnBsYXllcnNbdGhpcy5jdXJyZW50VHVybl07XHJcbiAgICAgICAgICAgICAgICAgICAgb3RoZXJQbGF5ZXIgPSB0aGlzLnBsYXllcnNbMSAtIHRoaXMuY3VycmVudFR1cm5dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIERlc2VsZWNjaW9uIHNpIGNsaWNrZW8gbWkgcHJvcGlvIHBlcnNvbmFqZVxyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRQbGF5ZXIuY2hhcmFjdGVyID09PSBub21icmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGxheWVyLmNoYXJhY3RlciA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBsYXllci5iaWdJbWFnZS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGxheWVyLmZyYW1lLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJzLmRlbGV0ZShub21icmUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBTaSBhbWJvcyB0ZW5pYW4gcGVyc29uYWplIGFudGVzLCBlc3RlIGp1Z2Fkb3IgdGllbmUgdHVybm9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gdGhpcy5wbGF5ZXJzLmluZGV4T2YoY3VycmVudFBsYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIE5vIHBlcm1pdGlyIHNlbGVjY2lvbmFyIHNpIHlhIGVzdMOhIG9jdXBhZG8gcG9yIGVsIG90cm8ganVnYWRvclxyXG4gICAgICAgICAgICAgICAgaWYgKG90aGVyUGxheWVyLmNoYXJhY3RlciA9PT0gbm9tYnJlKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU2kgYW1ib3MganVnYWRvcmVzIHlhIHRpZW5lbiBwZXJzb25hamUsIG5vIHBlcm1pdGlyIHNlbGVjY2lvbmFyIG90cm9cclxuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIxLmNoYXJhY3RlciAmJiBwbGF5ZXIyLmNoYXJhY3RlcikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIExpYmVyYXIgcGVyc29uYWplIGFudGVyaW9yIGRlbCBqdWdhZG9yXHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFBsYXllci5jaGFyYWN0ZXIpIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJzLmRlbGV0ZShjdXJyZW50UGxheWVyLmNoYXJhY3Rlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQXNpZ25hciBudWV2byBwZXJzb25hamVcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXIuY2hhcmFjdGVyID0gbm9tYnJlO1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFBsYXllci5iaWdJbWFnZS5zZXRUZXh0dXJlKG5vbWJyZSkuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDaGFyYWN0ZXJzLmFkZChub21icmUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIE1hcmNvIHNvYnJlIG1pbmlhdHVyYVxyXG4gICAgICAgICAgICAgICAgY3VycmVudFBsYXllci5mcmFtZS5zZXRQb3NpdGlvbihtaW5pLngsIG1pbmkueSk7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50UGxheWVyLmZyYW1lLnNldFZpc2libGUodHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gQ2FtYmlhciB0dXJubyAoU29sbyBzaSBlbCBvdHJvIGp1Z2Fkb3Igbm8gdGllbmUgcGVyc29uYWplKVxyXG4gICAgICAgICAgICAgICAgaWYgKCFvdGhlclBsYXllci5jaGFyYWN0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gMSAtIHRoaXMuY3VycmVudFR1cm47XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFtYm9zIHRpZW5lbiBwZXJzb25hamU6IG5vIGhheSB0dXJubyBmaWpvXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiLy9QYW50YWxsYSBkZSBTZWxlY2Npb24gZGUgZXNjZW5hcmlvXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTZWxlY3RTY2VuYXJpb19TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignU2VsZWN0U2NlbmFyaW9fU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9TSU5TRUxFQ0NJT05BUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0ZMRUNIQV9WT0xWRVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZScsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX1NJTlNFTEVDQ0lPTkFSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRS5wbmcnKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdHeW0nLCAnQVNTRVRTL0ZPTkRPUy9HSU1OQVNJTy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BsYXlhJywgJ0FTU0VUUy9GT05ET1MvUExBWUEucG5nJylcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0phcmRpbicsICdBU1NFVFMvRk9ORE9TL0pBUkRJTi5wbmcnKVxyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMucGxheWVyMSA9IGRhdGEucGxheWVyMTtcclxuICAgICAgICB0aGlzLnBsYXllcjIgPSBkYXRhLnBsYXllcjI7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuXHJcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZCA9IHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpXHJcbiAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgIC5zZXREZXB0aCgtMSk7XHJcblxyXG4gICAgICAgIC8vIFRpdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQod2lkdGgvMiwgNTAsICdTZWxlY2Npb25hIEVzY2VuYXJpbycsIHtcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwJyxcclxuICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gSW1hZ2VuIGRlbCBlc2NlbmFyaW8gc2VsZWNjaW9uYWRvXHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFNjZW5hcmlvID0gJ0d5bSc7IC8vIEd5bSBwb3IgZGVmZWN0b1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJbWFnZSA9IHRoaXMuYWRkLmltYWdlKHdpZHRoLzIsIDI0MCwgdGhpcy5zZWxlY3RlZFNjZW5hcmlvKS5zZXRTY2FsZSgwLjUpO1xyXG5cclxuICAgICAgICAvLyBFc2NlbmFyaW9zXHJcbiAgICAgICAgY29uc3QgZXNjZW5hcmlvcyA9IFsnR3ltJywgJ1BsYXlhJywgJ0phcmRpbiddO1xyXG4gICAgICAgIGNvbnN0IHNwYWNpbmcgPSAyMDA7IC8vIGVzcGFjaW8gZW50cmUgYm90b25lc1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0WCA9IHdpZHRoIC8gMiAtIHNwYWNpbmc7XHJcblxyXG4gICAgICAgIGVzY2VuYXJpb3MuZm9yRWFjaCgobm9tYnJlLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJvdG9uID0gdGhpcy5hZGQuaW1hZ2Uoc3RhcnRYICsgaSAqIHNwYWNpbmcsIDQ0MCwgJ2JvdG9uU2luU2VsZWNjaW9uYXInKVxyXG4gICAgICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKClcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxLjc1KTtcclxuXHJcbiAgICAgICAgICAgIC8vIFRleHRvIGNvbiBlbCBub21icmUgZGVsIGVzY2VuYXJpb1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0byA9IHRoaXMuYWRkLnRleHQoMCwgMCwgbm9tYnJlLCB7IGZvbnRTaXplOiAnMjRweCcsIGNvbG9yOiAnIzAwMCcgfSk7XHJcbiAgICAgICAgICAgIFBoYXNlci5EaXNwbGF5LkFsaWduLkluLkNlbnRlcih0ZXh0bywgYm90b24pO1xyXG5cclxuICAgICAgICAgICAgYm90b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gYm90b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKSk7XHJcbiAgICAgICAgICAgIGJvdG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyAhPT0gbm9tYnJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYm90b24uc2V0VGV4dHVyZSgnYm90b25TaW5TZWxlY2Npb25hcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYm90b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFNjZW5hcmlvID0gbm9tYnJlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEltYWdlLnNldFRleHR1cmUobm9tYnJlKS5zZXRTY2FsZSgwLjUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgYm90b24ub24oJ3BvaW50ZXJ1cCcsICgpID0+IGJvdG9uLnNldFRleHR1cmUoJ2JvdG9uU2luU2VsZWNjaW9uYXInKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdG9uIFNpZ3VpZW50ZVxyXG4gICAgICAgIGNvbnN0IG5leHRCdXR0b24gPSB0aGlzLmFkZC5pbWFnZSh3aWR0aC8yLCA1MDAsICdib3RvblNpbXBsZScpXHJcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSgpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxLjUpO1xyXG4gICAgICAgIGNvbnN0IG5leHRUZXh0ID0gdGhpcy5hZGQudGV4dCgwLCAwLCAnU2lndWllbnRlJywgeyBmb250U2l6ZTogJzEycHgnLCBjb2xvcjogJyMwMDAnIH0pO1xyXG4gICAgICAgIFBoYXNlci5EaXNwbGF5LkFsaWduLkluLkNlbnRlcihuZXh0VGV4dCwgbmV4dEJ1dHRvbik7XHJcblxyXG4gICAgICAgIG5leHRCdXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gbmV4dEJ1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycpKTtcclxuICAgICAgICBuZXh0QnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gbmV4dEJ1dHRvbi5zZXRUZXh0dXJlKCdib3RvblNpbXBsZScpKTtcclxuICAgICAgICBuZXh0QnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IG5leHRCdXR0b24uc2V0VGV4dHVyZSgnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nKSk7XHJcbiAgICAgICAgbmV4dEJ1dHRvbi5vbigncG9pbnRlcnVwJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBQYXNhciB0b2RvcyBsb3MgZGF0b3MgYSBsYSBzaWd1aWVudGUgZXNjZW5hXHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0dhbWVfU2NlbmUnLCB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLnBsYXllcjEsXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIyOiB0aGlzLnBsYXllcjIsXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFNjZW5hcmlvOiB0aGlzLnNlbGVjdGVkU2NlbmFyaW9cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQm90b24gVm9sdmVyXHJcbiAgICAgICAgY29uc3QgYmFja1ggPSB3aWR0aCAqIDAuMDY7XHJcbiAgICAgICAgY29uc3QgYmFja1kgPSBoZWlnaHQgKiAwLjA4O1xyXG5cclxuICAgICAgICBjb25zdCBiYWNrQnV0dG9uID0gdGhpcy5hZGRcclxuICAgICAgICAgICAgLnNwcml0ZShiYWNrWCwgYmFja1ksICdib3RvblZvbHZlcicpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgICAgICBiYWNrQnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnU2VsZWNQbGF5ZXJfU2NlbmUnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIi8vIEJhc2UgZGVsIGp1ZWdvIHBhcmEgbGEgZXN0cnVjdHVyYSB5IHRlbmVyIGFjY2VzbyBhIHRvZG9zIGxvcyBhcmNoaXZvc1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gXCJwaGFzZXJcIjtcclxuaW1wb3J0IHsgTWVudV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9NZW51X1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IEdhbWVfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvR2FtZV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBDb25maWd1cmF0aW9uX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0NvbmZpZ3VyYXRpb25fU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgQ3JlZGl0c19TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9DcmVkaXRzX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IEVuZEdhbWVfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvRW5kR2FtZV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBNb2RlR2FtZV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9Nb2RlR2FtZV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBQYXVzZV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9QYXVzZV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBTZWxlY3RQbGF5ZXJfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvU2VsZWN0UGxheWVyX1NjZW5lLmpzXCJcclxuaW1wb3J0IHsgU2VsZWN0U2NlbmFyaW9fU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvU2VsZWN0U2NlbmFyaW9fU2NlbmUuanNcIjtcclxuZG9jdW1lbnQuZm9udHMucmVhZHkudGhlbigoKSA9PiB7XHJcbmNvbnN0IGNvbmZpZyA9IHtcclxuICAgIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gICAgd2lkdGg6IDk2MCxcclxuICAgIGhlaWdodDogNTQwLFxyXG4gICAgcGFyZW50OiAnZ2FtZS1jb2ludGFpbmVyJyxcclxuICAgIHBoeXNpY3M6IHtcclxuICAgICAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgICAgICBhcmNhZGU6IHtcclxuICAgICAgICAgICAgZ3Jhdml0eToge3g6IDAsIHk6IDMwMH0sXHJcbiAgICAgICAgICAgIGRlYnVnOiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRvbToge1xyXG4gICAgICAgIGNyZWF0ZUNvbnRhaW5lcjogdHJ1ZVxyXG4gICAgfSxcclxuICAgIHNjZW5lOiBbTWVudV9TY2VuZSwgR2FtZV9TY2VuZSwgQ29uZmlndXJhdGlvbl9TY2VuZSwgQ3JlZGl0c19TY2VuZSwgRW5kR2FtZV9TY2VuZSwgUGF1c2VfU2NlbmUsIE1vZGVHYW1lX1NjZW5lLCBTZWxlY3RQbGF5ZXJfU2NlbmUsIFNlbGVjdFNjZW5hcmlvX1NjZW5lXSxcclxuICAgIGJhY2tncm91bmRDb2xvcjonIzg2NzVmMScsXHJcbn07XHJcblxyXG5QaGFzZXIuR2FtZU9iamVjdHMuVGV4dCA9IGNsYXNzIGV4dGVuZHMgUGhhc2VyLkdhbWVPYmplY3RzLlRleHQge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHksIHRleHQsIHN0eWxlID0ge30pIHtcclxuICAgICAgICBzdHlsZS5mb250RmFtaWx5ID0gc3R5bGUuZm9udEZhbWlseSB8fCAnRnVlbnRlUGl4ZWxhZGEnO1xyXG4gICAgICAgIHN0eWxlLmZvbnRTaXplID0gc3R5bGUuZm9udFNpemUgfHwgJzMycHgnO1xyXG4gICAgICAgIHN0eWxlLmNvbG9yID0gc3R5bGUuY29sb3IgfHwgJyNmZmZmZmYnO1xyXG4gICAgICAgIHN1cGVyKHNjZW5lLCB4LCB5LCB0ZXh0LCBzdHlsZSk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7XHJcbn0pOyJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlBoYXNlciIsIk1lbnVfU2NlbmUiLCJjb25zdHJ1Y3RvciIsInN1cGVyIiwicHJlbG9hZCIsInRoaXMiLCJsb2FkIiwiaW1hZ2UiLCJjcmVhdGUiLCJ3aWR0aCIsImhlaWdodCIsInNjYWxlIiwiY2VudGVyWCIsImZpcnN0QnV0dG9uWSIsIm1pdGFkRGVyZWNoYVgiLCJhZGQiLCJzZXRPcmlnaW4iLCJzZXREZXB0aCIsInRleHQiLCJmb250U2l6ZSIsImNvbG9yIiwicGxheUJ1dHRvbiIsInNwcml0ZSIsInNldFNjYWxlIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwicGxheVRleHQiLCJBbGlnbiIsIkluIiwiQ2VudGVyIiwib24iLCJzZXRUZXh0dXJlIiwic2NlbmUiLCJzdGFydCIsImNvbmZpZ0J1dHRvbiIsImNvbmZpZ1RleHQiLCJjcmVkaXRzQnV0dG9uIiwiYnV0dG9uU3BhY2luZyIsImNyZWRpdHNUZXh0IiwiR2FtZV9TY2VuZSIsIkNvbmZpZ3VyYXRpb25fU2NlbmUiLCJhdWRpbyIsImN1cnJlbnRWb2x1bWUiLCJwYXJzZUZsb2F0IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInZvbHVtZVNsaWRlciIsImRvbSIsImNyZWF0ZUZyb21IVE1MIiwiYWRkTGlzdGVuZXIiLCJldmVudCIsInZvbHVtZSIsInRhcmdldCIsInZhbHVlIiwic291bmQiLCJtdXNpYyIsInNldFZvbHVtZSIsInNldEl0ZW0iLCJsb29wIiwicGxheSIsImJhY2tYIiwiYmFja1kiLCJiYWNrQnV0dG9uIiwiZm9udFN0eWxlIiwiQ3JlZGl0c19TY2VuZSIsImZvckVhY2giLCJub21icmUiLCJpbmRleCIsIkVuZEdhbWVfU2NlbmUiLCJNb2RlR2FtZV9TY2VuZSIsInN0YXJ0WCIsInNwYWNpbmciLCJsb2NhbEJ1dHRvbiIsImxvY2FsVGV4dCIsIm5ldHdvcmtCdXR0b24iLCJuZXR3b3JrVGV4dCIsIlBhdXNlX1NjZW5lIiwicmVjdGFuZ2xlIiwiU2VsZWN0UGxheWVyX1NjZW5lIiwicGxheWVycyIsIm5hbWUiLCJjaGFyYWN0ZXIiLCJzZWxlY3RlZENoYXJhY3RlcnMiLCJTZXQiLCJjcmVhdGVQbGF5ZXJBcmVhIiwibmV4dEJ1dHRvbiIsIm5leHRUZXh0IiwibmFtZTEiLCJwbGF5ZXJJbnB1dHMiLCJub2RlIiwicXVlcnlTZWxlY3RvciIsInRyaW0iLCJuYW1lMiIsImNvbnNvbGUiLCJsb2ciLCJwbGF5ZXIxIiwicGxheWVyMiIsIndhcm4iLCJpZHgiLCJjdXJyZW50VHVybiIsInBsYXllciIsImlucHV0IiwiYmlnSW1hZ2UiLCJzZXRWaXNpYmxlIiwiYmlnRnJhbWUiLCJ4IiwieSIsImZyYW1lIiwic2V0U3Ryb2tlU3R5bGUiLCJzdGFydFkiLCJwb3NpdGlvbnMiLCJpIiwibWluaSIsInNldERhdGEiLCJjdXJyZW50UGxheWVyIiwib3RoZXJQbGF5ZXIiLCJkZWxldGUiLCJpbmRleE9mIiwic2V0UG9zaXRpb24iLCJTZWxlY3RTY2VuYXJpb19TY2VuZSIsImluaXQiLCJkYXRhIiwic2VsZWN0ZWRTY2VuYXJpbyIsInNlbGVjdGVkSW1hZ2UiLCJib3RvbiIsInRleHRvIiwiZG9jdW1lbnQiLCJmb250cyIsInJlYWR5IiwidGhlbiIsImNvbmZpZyIsInR5cGUiLCJwYXJlbnQiLCJwaHlzaWNzIiwiZGVmYXVsdCIsImFyY2FkZSIsImdyYXZpdHkiLCJkZWJ1ZyIsImNyZWF0ZUNvbnRhaW5lciIsImJhY2tncm91bmRDb2xvciIsIlRleHQiLCJzdHlsZSIsImZvbnRGYW1pbHkiXSwic291cmNlUm9vdCI6IiJ9