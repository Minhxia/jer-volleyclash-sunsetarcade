(()=>{"use strict";var e={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},d:(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var i=e.n(t);const s="sfxVolume",a="musicVolume",r="volume";function o(e,t){const s=Number.parseFloat(e??String(t));return Number.isFinite(s)?i().Math.Clamp(s,0,1):t}function n(e,t,s=1){const a=localStorage.getItem(e);if(null!==a)return o(a,s);const r=t?localStorage.getItem(t):null;return null!==r?o(r,s):i().Math.Clamp(s,0,1)}function l(e=1){return n(s,r,e)}function h(e=1){return n(a,r,e)}function c(e,t={}){let s=l(),a=h();"number"==typeof t?(s=i().Math.Clamp(Number(t),0,1),a=s):(s=t.sfxVolume??s,a=t.musicVolume??a),e.sound.volume=1;const r=e.game.globals.music;r&&"setVolume"in r&&r.setVolume(a)}function d(e,t="sonidoClick"){e.sound.play(t,{volume:l()})}function p(e,{x:t,y:i,label:s,onClick:a,textureNormal:r="botonSinSeleccionar",textureHover:o="botonSeleccionado",scale:n=2,textStyle:l={},clickSoundKey:h="sonidoClick"}){const c=e.add.sprite(t,i,r).setScale(n).setInteractive({useHandCursor:!0}),p=e.add.text(t,i,s,l).setOrigin(.5),S=()=>c.setTexture(r),m=()=>c.setTexture(o);return c.on("pointerover",m),c.on("pointerout",S),c.on("pointerdown",()=>{m(),d(e,h)}),c.on("pointerup",e=>{c.getBounds().contains(e.x,e.y)?(m(),a?.()):S()}),{button:c,text:p}}function S(e,t){const{x:i,y:s,texture:a,onClick:r,scale:o=1,hoverScale:n=1.1,clickSoundKey:l="sonidoClick"}=t,h=e.add.sprite(i,s,a).setScale(o).setInteractive({useHandCursor:!0});return h.on("pointerover",()=>h.setScale(o*n)),h.on("pointerout",()=>h.setScale(o)),h.on("pointerdown",()=>{d(e,l)}),h.on("pointerup",e=>{h.getBounds().contains(e.x,e.y)&&r()}),h}class m extends i().Scene{constructor(){super("Menu_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.image("fondoMenuPrincipal","ASSETS/FONDOS/MENU_PRINCIPAL.png"),this.load.image("logoEmpresa","ASSETS/LOGO/logo_empresa.png"),this.load.audio("sonidoGeneral","ASSETS/SONIDO/SONIDO1.mp3"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){!function(e,t,{loop:i=!0}={}){const s=h();let a=e.game.globals.music;a||(a=e.sound.add(t,{loop:i,volume:s}),e.game.globals.music=a),a&&"setVolume"in a&&a.setVolume(s);const r=()=>{if(a&&"play"in a&&(!("isPlaying"in a)||!a.isPlaying))try{a.play()}catch(e){console.warn("[Audio.js] No se ha podido reproducir todav?a la m?sica.",e)}};r(),e.input.once("pointerdown",async()=>{const t=e.sound.context;if(t&&"suspended"===t.state)try{await t.resume()}catch{}r()})}(this,"sonidoGeneral",{loop:!0});const e=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"},{width:t,height:i}=this.scale,s=t/2,a=s+s/2;this.add.image(0,0,"fondoMenuPrincipal").setOrigin(0).setDepth(-1).setDisplaySize(t,i),this.add.text(a,100,"Volley Clash",{...e,fontSize:"68px",color:"#ffffff"}).setOrigin(.5);const r=i/2-60,o={...e,fontSize:"28px",color:"#000000"};p(this,{x:a,y:r,label:"Jugar",onClick:()=>this.scene.start("ModeGame_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),p(this,{x:a,y:r+70,label:"Tutorial",onClick:()=>this.scene.start("Tutorial_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),p(this,{x:a,y:r+140,label:"Configuración",onClick:()=>this.scene.start("Configuration_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),p(this,{x:a,y:r+210,label:"Créditos",onClick:()=>this.scene.start("Credits_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),p(this,{x:t-100,y:50,label:"Cerrar Sesión",onClick:()=>{this.handleLogout()},textStyle:o,clickSoundKey:"sonidoClick"}),this.add.image(this.scale.width-20,this.scale.height-20,"logoEmpresa").setScale(.5).setOrigin(1,1)}async handleLogout(){const e=this.registry.get("username");await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})}),localStorage.removeItem("voley_username"),localStorage.removeItem("voley_session_token")}}const u={velocidad:4e3,ralentizar:3500,paralizar:2e3,por2:4e3,por3:3500};class g{constructor(e,t,i,s,a){this.scene=e,this.id=t,this.characterType=a,this.baseMoveSpeed=250,this.moveSpeed=this.baseMoveSpeed,this.jumpSpeed=275,this.activePowerUps={},this.isParalyzed=!1,this.paralysisTween=null,this.speedEffectActive=!1,this.slowEffectActive=!1,this.scoreMultiplier=1,this.multiplierText=this.scene.add.text(i,s-50,"",{fontFamily:"Arial",fontSize:"20px",color:"#ffffff",stroke:"#000000",strokeThickness:4}).setOrigin(.5,1).setDepth(20).setVisible(!1),this.powerUpInventory=[],this.isReceiving=!1,this.boundsLeft=0,this.boundsRight=960,this.boundsTop=0,this.boundsBottom=540;const r={characterA:{textureKey:"charA_move",startFrame:0,idleLeftAnim:"charA_idleLeft",idleRightAnim:"charA_idleRight",runLeftAnim:"charA_runLeft",runRightAnim:"charA_runRight",jumpLeftAnim:"charA_jumpLeft",jumpRightAnim:"charA_jumpRight",receiveLeftAnim:"charA_receiveLeft",receiveRightAnim:"charA_receiveRight"},characterB:{textureKey:"charB_move",startFrame:0,idleLeftAnim:"charB_idleLeft",idleRightAnim:"charB_idleRight",runLeftAnim:"charB_runLeft",runRightAnim:"charB_runRight",jumpLeftAnim:"charB_jumpLeft",jumpRightAnim:"charB_jumpRight",receiveLeftAnim:"charB_receiveLeft",receiveRightAnim:"charB_receiveRight"},characterC:{textureKey:"charC_move",startFrame:0,idleLeftAnim:"charC_idleLeft",idleRightAnim:"charC_idleRight",runLeftAnim:"charC_runLeft",runRightAnim:"charC_runRight",jumpLeftAnim:"charC_jumpLeft",jumpRightAnim:"charC_jumpRight",receiveLeftAnim:"charC_receiveLeft",receiveRightAnim:"charC_receiveRight"}};this.config=r[a]||r.characterA,this.sprite=this.scene.physics.add.sprite(i,s,this.config.textureKey,this.config.startFrame),this.sprite.setScale(2.5),this.sprite.body.setSize(.9*this.sprite.width,.9*this.sprite.height,!0),this.sprite.setData("player",this),this.facing="right",this.isOnGround=!1,this.isJumping=!1,this.jumpStartTime=0,this.sprite.on("animationcomplete",e=>{try{e.key!==this.config.receiveLeftAnim&&e.key!==this.config.receiveRightAnim||(this.isReceiving=!1)}catch(t){console.error(`Animation complete handler error for ${e.key}:`,t)}})}isGrounded(){const e=this.sprite.body;return!!e&&(e.blocked.down||e.touching.down)}isNearGround(e=12){const t=this.sprite.body;if(!t)return!1;if("number"!=typeof this.scene.groundY)return!1;const i=t.y+t.height;return Math.abs(i-this.scene.groundY)<=e}moveLeft(){this.isParalyzed||this.isReceiving||(this.sprite.setVelocityX(-this.moveSpeed),this.facing="left",this.playAnimation(this.config.runLeftAnim))}moveRight(){this.isParalyzed||this.isReceiving||(this.sprite.setVelocityX(this.moveSpeed),this.facing="right",this.playAnimation(this.config.runRightAnim))}jumpLeft(){this.isParalyzed||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!1,this.isJumping=!0,this.jumpStartTime=this.scene.time.now,this.sprite.setVelocityY(-this.jumpSpeed),this.facing="left",this.playAnimation(this.config.jumpLeftAnim),this.scene?.playSfx?.(this.scene?.sfx?.jump))}jumpRight(){this.isParalyzed||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!1,this.isJumping=!0,this.jumpStartTime=this.scene.time.now,this.sprite.setVelocityY(-this.jumpSpeed),this.facing="right",this.playAnimation(this.config.jumpRightAnim),this.scene?.playSfx?.(this.scene?.sfx?.jump))}receiveLeft(){this.isParalyzed||this.isReceiving||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!0,this.sprite.setVelocityX(0),this.facing="left",this.playAnimation(this.config.receiveLeftAnim))}receiveRight(){this.isParalyzed||this.isReceiving||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!0,this.sprite.setVelocityX(0),this.facing="right",this.playAnimation(this.config.receiveRightAnim))}idleLeft(){this.isReceiving||(this.sprite.setVelocityX(0),this.facing="left",this.playAnimation(this.config.idleLeftAnim))}idleRight(){this.isReceiving||(this.sprite.setVelocityX(0),this.facing="right",this.playAnimation(this.config.idleRightAnim))}setBounds(e,t,i,s){this.boundsLeft=e,this.boundsRight=t,this.boundsTop=i,this.boundsBottom=s}clampWithinBounds(){const e=this.sprite.width/2;this.sprite.x-e<this.boundsLeft&&(this.sprite.x=this.boundsLeft+e,this.sprite.setVelocityX(0)),this.sprite.x+e>this.boundsRight&&(this.sprite.x=this.boundsRight-e,this.sprite.setVelocityX(0))}setPosition(e,t){this.sprite&&(this.sprite.setPosition(e,t),this.sprite.setVelocity(0,0),this.updateMultiplierTextPosition())}updateMultiplierTextPosition(){if(!this.multiplierText||!this.sprite)return;const e=.6*(this.sprite.displayHeight||this.sprite.height||40);this.multiplierText.setPosition(this.sprite.x,this.sprite.y-e)}playAnimation(e){if(!e)return;if(!this.sprite.anims)return;if(this.isJumping&&e!==this.config.jumpLeftAnim&&e!==this.config.jumpRightAnim)return;const t=this.sprite.anims.currentAnim;this.sprite.anims.isPlaying&&t&&t.key===e||this.sprite.anims.play(e,!0)}update(){if(this.sprite.body){const e=this.isOnGround;this.isOnGround=this.isGrounded();const t=this.sprite.anims.currentAnim,i=t?t.key:null;this.isParalyzed&&this.sprite.setVelocityX(0),this.isReceiving&&i!==this.config.receiveLeftAnim&&i!==this.config.receiveRightAnim&&(this.isReceiving=!1),this.isJumping&&i&&i!==this.config.jumpLeftAnim&&i!==this.config.jumpRightAnim&&(this.isJumping=!1),this.isJumping&&this.scene.time.now-this.jumpStartTime>1500&&(this.isJumping=!1),this.isJumping&&!e&&this.isOnGround&&(this.isJumping=!1,"left"===this.facing?this.idleLeft():this.idleRight())}this.clampWithinBounds(),this.updateMultiplierTextPosition()}applyPowerUp(e){return!(this.powerUpInventory.length>=2||(this.powerUpInventory.push(e),0))}useNextPowerUp(){if(0===this.powerUpInventory.length)return;const e=this.powerUpInventory.shift();this.activatePowerUp(e)}activatePowerUp(e){switch(e){case"velocidad":this.applyOrRefreshTimedEffect("velocidad",u.velocidad);break;case"ralentizar":{const e=this.getOpponent();e&&e.applyOrRefreshTimedEffect("ralentizar",u.ralentizar);break}case"paralizar":{const e=this.getOpponent();e&&e.applyOrRefreshTimedEffect("paralizar",u.paralizar);break}case"por2":case"por3":this.applyOrRefreshTimedEffect(e,u[e])}}updatePowerUps(){const e=this.scene.time.now;let t=!1,i=!1;for(const s in this.activePowerUps)if(!(e<=this.activePowerUps[s]))switch(delete this.activePowerUps[s],s){case"velocidad":this.setSpeedEffect(!1),t=!0;break;case"ralentizar":this.setSlowEffect(!1),t=!0;break;case"paralizar":this.setParalyzed(!1);break;case"por2":case"por3":i=!0}t&&this.recalculateMoveSpeed(),i&&this.recalculateScoreEffect()}setParalyzed(e){this.isParalyzed=e,e?(this.sprite.setTint(16733525),this.sprite.setAlpha(1),this.paralysisTween&&(this.paralysisTween.stop(),this.paralysisTween=null),this.paralysisTween=this.scene.tweens.add({targets:this.sprite,alpha:.3,yoyo:!0,duration:200,repeat:-1}),this.sprite.setVelocityX(0)):(this.sprite.setAlpha(1),this.paralysisTween&&(this.paralysisTween.stop(),this.paralysisTween=null),this.refreshPowerUpVisuals())}setSpeedEffect(e){this.speedEffectActive=e,this.refreshPowerUpVisuals()}setSlowEffect(e){this.slowEffectActive=e,this.refreshPowerUpVisuals()}recalculateMoveSpeed(){let e=1;this.activePowerUps.velocidad&&(e*=1.5),this.activePowerUps.ralentizar&&(e*=.5),this.moveSpeed=this.baseMoveSpeed*e}recalculateScoreEffect(){let e=1;this.activePowerUps.por2&&(e=Math.max(e,2)),this.activePowerUps.por3&&(e=Math.max(e,3)),this.scoreMultiplier=e,this.multiplierText&&(this.scoreMultiplier>1?(this.multiplierText.setText("x"+this.scoreMultiplier),this.multiplierText.setVisible(!0)):this.multiplierText.setVisible(!1)),this.refreshPowerUpVisuals()}applyOrRefreshTimedEffect(e,t){const i=this.scene.time.now;this.activePowerUps[e]=i+t,"velocidad"===e&&this.setSpeedEffect(!0),"ralentizar"===e&&this.setSlowEffect(!0),"paralizar"===e&&this.setParalyzed(!0),"velocidad"!==e&&"ralentizar"!==e||this.recalculateMoveSpeed(),"por2"!==e&&"por3"!==e||this.recalculateScoreEffect()}refreshPowerUpVisuals(){this.isParalyzed||(this.slowEffectActive?this.sprite.setTint(5592575):this.speedEffectActive?this.sprite.setTint(5636061):this.scoreMultiplier>1?this.sprite.setTint(16768341):this.sprite.clearTint())}getOpponent(){return this.scene.players?Array.from(this.scene.players.values()).find(e=>e!==this):null}}class y{constructor(e,t){this.player=e,this.powerUpType=t,this.stored=!1}execute(){return this.stored=this.player.applyPowerUp(this.powerUpType),this.stored}}class f{constructor(e,t,i,s){this.scene=e,this.type=s,this.isCollected=!1,this._destroyed=!1,this._cooldownUntil=0,this.fadeStart=3e3,this.lifetime=5e3,this._overlaps=[],this.fadeTween=null,this._lifetimeTimer=null,this.sprite=e.physics.add.staticImage(t,i,s).setScale(1.2).setInteractive(),this.sprite.refreshBody&&this.sprite.refreshBody();const a=Math.max(0,Math.min(this.fadeStart,this.lifetime)),r=Math.max(0,this.lifetime-a);r>0&&(this.fadeTween=e.tweens.add({targets:this.sprite,alpha:0,delay:a,duration:r}));const o=e.players;o&&"function"==typeof o.forEach&&o.forEach(t=>{if(!t?.sprite)return;const i=e.physics.add.overlap(t.sprite,this.sprite,()=>this.collect(t),null,this);this._overlaps.push(i)}),this._lifetimeTimer=e.time.delayedCall(this.lifetime,()=>{this.destroy()})}collect(e){if(console.log("[PowerUp] overlap con",e.id,"tipo",this.type),this._destroyed)return;if(this.isCollected)return;const t=this.scene.time.now;if(this._cooldownUntil&&t<this._cooldownUntil)return;this.isCollected=!0;const i=new y(e,this.type);if(this.scene.commandProcessor.process(i),!i.stored)return this.isCollected=!1,void(this._cooldownUntil=t+300);this.destroy(),this.scene.updatePlayerInventoryUI?.(e)}destroy(){if(!this._destroyed){if(this._destroyed=!0,Array.isArray(this._overlaps)&&(this._overlaps.forEach(e=>{try{e.destroy()}catch{}}),this._overlaps=[]),this.fadeTween){try{this.fadeTween.stop()}catch{}this.fadeTween=null}if(this._lifetimeTimer&&(this._lifetimeTimer.remove(!1),this._lifetimeTimer=null),this.sprite){try{this.sprite.destroy()}catch{}this.sprite=null}Array.isArray(this.scene.powerUps)&&(this.scene.powerUps=this.scene.powerUps.filter(e=>e!==this))}}}class T{constructor(e,t,i){this.scene=e,this.players=null,this.commandProcessor=null,this.sprite=e.physics.add.sprite(t,i,"ball"),this.sprite.setScale(1),this.sprite.setBounce(.8),this.sprite.setCollideWorldBounds(!0),this.sprite.setData("ball",this),this.lastTouchedBy=null,this.touchCount=0,this.courtSide="left",this.isBallLive=!0,this.netX=480,this.lastHitTime=0,this.lastHitPlayerId=null}hit(e,t,i,s=!1){if(!this.isBallLive)return;const a=this.scene.time.now;if(this.lastHitPlayerId===e.id&&a-this.lastHitTime<120)return;if(this.lastHitPlayerId=e.id,this.lastHitTime=a,this.lastTouchedBy===e.id?this.touchCount++:(this.touchCount=1,this.lastTouchedBy=e.id),this.touchCount>3)return void this.onFalta("toqueExcedido",e);let r,o;if(s?this.scene?.playSfx?.(this.scene?.sfx?.receive):i&&this.scene?.playSfx?.(this.scene?.sfx?.spike),s){const e=160;r="left"===t?-e:e,o=-310}else if(i){const e=190;r="left"===t?-e:e,o=-140}else{const e=180;r="left"===t?-e:e,o=-100}this.sprite.setVelocity(r,o),r>0?this.courtSide="right":r<0&&(this.courtSide="left")}crossNet(){this.touchCount=0,this.lastTouchedBy=null,this.courtSide="left"===this.courtSide?"right":"left"}onGrounded(){if(!this.isBallLive)return;const e=this.sprite.x<this.netX,t=this.sprite.x>this.netX;e?(this.onRallyEnd("player2"),this.resetRally("player2")):t&&(this.onRallyEnd("player1"),this.resetRally("player1"))}onFalta(e,t){if(!this.isBallLive)return;const i="player1"===t.id?"player2":"player1";this.onRallyEnd(i),this.resetRally(i)}onRallyEnd(e){this.isBallLive=!1,this.scene.events.emit("rallyConcluded",{scoringPlayerId:e,touchCount:this.touchCount,lastTouchedBy:this.lastTouchedBy})}_getSubtleNudge(e,t,i){const s=12*(Math.random()<.5?-1:1);return{spawnX:Math.max(t,Math.min(i-t,e+s)),velocityX:s}}setServePosition(e){const t=this.scene.worldWidth??this.scene.scale?.width??2*this.netX,i=(e,t,i)=>Math.max(t,Math.min(i,e));let s=this.netX,a=0;if("player1"===e||"player2"===e){const a=this.scene.players?.get?this.scene.players.get(e):null;s=a?.sprite?"player1"===e?i(a.sprite.x,60,this.netX-60):i(a.sprite.x,this.netX+60,t-60):"player1"===e?this.netX-100:this.netX+100}else{const e=this._getSubtleNudge(s,60,t);s=e.spawnX,a=e.velocityX}this.sprite.setPosition(s,100),this.sprite.setVelocity(a,0)}resetRally(e){this.isBallLive=!0,this.lastTouchedBy=null,this.touchCount=0,this.setServePosition(e),this.lastHitTime=0,this.lastHitPlayerId=null}update(){this.isBallLive&&(this.sprite.x<this.netX-20?this.courtSide="left":this.sprite.x>this.netX+20&&(this.courtSide="right"))}}class x{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class O{execute(){}serialize(){}getPlayer(){}}class E extends O{constructor(e,t){super(),this.player=e,this.direction=t}execute(){switch(this.direction){case"left":this.player.moveLeft();break;case"right":this.player.moveRight();break;case"jumpLeft":this.player.jumpLeft();break;case"jumpRight":this.player.jumpRight();break;case"receiveLeft":this.player.receiveLeft();break;case"receiveRight":this.player.receiveRight();break;case"idleLeft":this.player.idleLeft();break;default:this.player.idleRight()}}getPlayer(){return this.player.id}serialize(){return{type:"MovePlayerCommand",playerId:this.player.id,direction:this.direction}}}class A extends i().Scene{tiempoTotal=60;tiempoRestante=this.tiempoTotal;timerText;timerEvent;constructor(){super("Game_Scene")}init(e){this.players=new Map,this.inputMappings=[],this.commandProcessor=new x,this.player1=e.player1,this.player2=e.player2,this.selectedScenario=e.selectedScenario,this.ball=null,this.scoreP1=0,this.scoreP2=0,this.setsP1=0,this.setsP2=0,this.maxSets=3,this.currentSet=1}preload(){this.load.spritesheet("charA_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_A/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charA_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_A/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.spritesheet("charB_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_B/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charB_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_B/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.spritesheet("charC_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_C/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charC_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_C/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.image("Gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("Playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("Jardin","ASSETS/FONDOS/JARDIN.png"),this.load.image("por2","ASSETS/ITEMS/POWER UPS/MULTIPLICADOR 2.png"),this.load.image("por3","ASSETS/ITEMS/POWER UPS/MULTIPLICADOR 3.png"),this.load.image("paralizar","ASSETS/ITEMS/POWER UPS/PARALIZADO.png"),this.load.image("ralentizar","ASSETS/ITEMS/POWER UPS/RELENTIZAR.png"),this.load.image("velocidad","ASSETS/ITEMS/POWER UPS/VELOCIDAD.png"),this.load.image("marcoPowerUp","ASSETS/JUEGO/Base_powerUp.png"),this.load.image("ball","ASSETS/ITEMS/PELOTAS/P_NORMAL.png"),this.load.image("red","ASSETS/JUEGO/RED.png"),this.load.image("reloj","ASSETS/JUEGO/TIMER.png"),this.load.image("marcoGeneral","ASSETS/JUEGO/MARCADOR_SET.png"),this.load.audio("sfx_silbato","ASSETS/SONIDO/Silbato_inicio_partido_1p4s.mp3"),this.load.audio("sfx_remate","ASSETS/SONIDO/Toque_pelota_remate_03s.mp3"),this.load.audio("sfx_recepcion","ASSETS/SONIDO/Toque_pelota_recepcion.mp3"),this.load.audio("sfx_salto","ASSETS/SONIDO/SonidoSalto_1p.mp3"),this.load.audio("sfx_punto","ASSETS/SONIDO/SonidoPunto.mp3")}create(){const{width:e,height:t}=this.scale;this.worldWidth=e,this.worldHeight=t;const i=this.game.globals.defaultTextStyle;this.sfx={whistle:"sfx_silbato",spike:"sfx_remate",receive:"sfx_recepcion",jump:"sfx_salto",point:"sfx_punto"},this.playSfx(this.sfx.whistle),this.timerText=this.add.text(this.scale.width/2,30,"",{...i,fontSize:"32px",color:"#ffffff"}).setOrigin(.5,0).setScrollFactor(0).setDepth(9999),this.timerIcon=this.add.image(this.scale.width/2,45,"reloj").setOrigin(.5).setScale(2).setScrollFactor(0).setDepth(9e3),this.setFrame=this.add.image(this.scale.width/2,120,"marcoGeneral").setOrigin(.5).setScale(1).setDepth(9998),this.setText=this.add.text(this.scale.width/2,120,`SET ${this.currentSet}`,{...i,fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setDepth(9999),this.setWinnerText=this.add.text(this.scale.width/2,185,"",{...i,fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5).setDepth(9999).setVisible(!1),this.timerEvent=this.time.addEvent({delay:1e3,callback:this.updateTimer,callbackScope:this,loop:!0}),this.updateTimer(),this.add.image(e/2,t/2,this.selectedScenario).setOrigin(.5).setDisplaySize(e,t).setDepth(-1);const s=this.physics.add.staticSprite(e/2,t-160,"red").setScale(.6),a=this.textures.get("red").getSourceImage();s.body.setSize(.5*a.width,.5*a.height),s.body.setOffset(-s.body.width/2,-s.body.height/2),s.body.updateFromGameObject(),this.red=s,this._createAnimations(),this.pointsLeft=0,this.pointsRight=0,this.scoreFrameLeft=this.add.image(200,50,"marcoGeneral").setScale(.8,.55).setOrigin(.5),this.scoreFrameRight=this.add.image(this.worldWidth-200,50,"marcoGeneral").setScale(.8,.55).setOrigin(.5),this.scoreLeft=this.add.text(200,45,"0",{...i,fontSize:"40px",color:"#ffffffff"}).setOrigin(.5).setDepth(9999),this.rightScore=this.add.text(this.worldWidth-200,45,"0",{...i,fontSize:"40px",color:"#ffffffff"}).setOrigin(.5).setDepth(9999),this.groundHeight=20,this.groundY=this.worldHeight-90;const r=this.add.rectangle(this.worldWidth/2,this.groundY,this.worldWidth,20).setOrigin(.5,0).setVisible(!1);this.physics.add.existing(r,!0),this._createPlayers(),this._setupPhysicsWorld(r),this._setupInputMappings(),this.powerUps=[],this.maxPowerUps=2,this.powerUpSpawnConfig={minDelayMs:3500,maxDelayMs:8e3,weights:{velocidad:3,ralentizar:2,paralizar:1,por2:3,por3:2},cooldownMs:{paralizar:12e3}},this.powerUpLastSpawnAt={},this.inventoryUI={player1:[this.add.image(50,50,"por2").setScale(1.4).setVisible(!1).setDepth(1),this.add.image(110,50,"por2").setScale(1.4).setVisible(!1).setDepth(1)],player2:[this.add.image(this.worldWidth-110,50,"por2").setScale(1.4).setVisible(!1).setDepth(1),this.add.image(this.worldWidth-50,50,"por2").setScale(1.4).setVisible(!1).setDepth(1)]},this.schedulePowerUpSpawn(),this.inventoryFrames={player1:[this.add.image(50,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0),this.add.image(110,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0)],player2:[this.add.image(this.worldWidth-110,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0),this.add.image(this.worldWidth-50,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0)]},this._createBall(),this.ball.setServePosition(),this._setupBallCollisions(),this._setupBallEvents(),this.input.keyboard.on("keydown-ESC",()=>{this.scene.pause(),this.timerEvent.paused=!0,this.scene.launch("Pause_Scene")}),this.events.on("resume",()=>{this.timerEvent.paused=!1})}schedulePowerUpSpawn(){const{minDelayMs:e,maxDelayMs:t}=this.powerUpSpawnConfig,s=i().Math.Between(e,t);this.time.delayedCall(s,()=>{if(this.powerUps.length<this.maxPowerUps){const e=i().Math.Between(80,this.worldWidth-80),t=i().Math.Between(this.worldHeight-220,this.worldHeight-120),s=this._getWeightedPowerUpType();if(s){const i=new f(this,e,t,s);this.powerUps.push(i),this.powerUpLastSpawnAt[s]=this.time.now}}this.schedulePowerUpSpawn()})}_getWeightedPowerUpType(){const{weights:e,cooldownMs:t}=this.powerUpSpawnConfig,s=this.time.now,a=Object.entries(e).filter(([e,i])=>{if(i<=0)return!1;const a=t?.[e];if(!a)return!0;const r=this.powerUpLastSpawnAt?.[e]||0;return s-r>=a});if(!a.length)return null;const r=a.reduce((e,[,t])=>e+t,0);let o=i().Math.Between(1,r);for(const[e,t]of a)if(o-=t,o<=0)return console.log("[Game_Scene] Power-up aleatorio: ",e),e;return a[a.length-1][0]}playSfx(e){e&&this.sound.play(e,{volume:l()})}update(){this._handleInputForAllPlayers(),this.players.forEach(e=>e.updatePowerUps()),this.ball&&(this.ball.update(),this.ball.isBallLive&&this.ball.sprite.y>this.groundY&&this.ball.onGrounded(),(this.ball.sprite.x<475&&"right"===this.ball.courtSide||this.ball.sprite.x>485&&"left"===this.ball.courtSide)&&this.ball.crossNet())}updateTimer(){this.tiempoRestante--;const e=Math.floor(this.tiempoRestante/60),t=this.tiempoRestante%60,i=`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`;this.timerText.setText(i),this.tiempoRestante<=0&&(this.timerEvent.paused=!0,console.log("FIN DEL TIEMPO"),this.scoreP1>this.scoreP2?this._endSet("player1"):this.scoreP2>this.scoreP1?this._endSet("player2"):(console.log("Empate en el set"),this._resetSet()))}updatePlayerInventoryUI(e){const t=this.inventoryUI[e.id];for(let i=0;i<2;i++)e.powerUpInventory[i]?(t[i].setTexture(e.powerUpInventory[i]),t[i].setVisible(!0)):t[i].setVisible(!1)}_createAnimations(){this.anims.create({key:"charA_idleRight",frames:this.anims.generateFrameNumbers("charA_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charA_idleLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charA_receiveRight",frames:this.anims.generateFrameNumbers("charA_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charA_receiveLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charA_runRight",frames:this.anims.generateFrameNumbers("charA_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charA_runLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charA_jumpRight",frames:this.anims.generateFrameNumbers("charA_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charA_jumpLeft",frames:this.anims.generateFrameNumbers("charA_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charB_idleRight",frames:this.anims.generateFrameNumbers("charB_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charB_idleLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charB_receiveRight",frames:this.anims.generateFrameNumbers("charB_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charB_receiveLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charB_runRight",frames:this.anims.generateFrameNumbers("charB_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charB_runLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charB_jumpRight",frames:this.anims.generateFrameNumbers("charB_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charB_jumpLeft",frames:this.anims.generateFrameNumbers("charB_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charC_idleRight",frames:this.anims.generateFrameNumbers("charC_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charC_idleLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charC_receiveRight",frames:this.anims.generateFrameNumbers("charC_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charC_receiveLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charC_runRight",frames:this.anims.generateFrameNumbers("charC_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charC_runLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charC_jumpRight",frames:this.anims.generateFrameNumbers("charC_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charC_jumpLeft",frames:this.anims.generateFrameNumbers("charC_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0})}_createPlayers(){const e=this.player1.character,t=this.player2.character,i=new g(this,"player1",.25*this.worldWidth,this.groundY-100,e),s=new g(this,"player2",.75*this.worldWidth,this.groundY-100,t);this.players.set("player1",i),this.players.set("player2",s);const a=Math.floor(this.groundY);i.setBounds(80,455,50,a),s.setBounds(505,this.worldWidth-80,50,a),this.commandProcessor.setPlayers(this.players),this.commandProcessor.setGameScene(this),i.idleRight(),s.idleLeft()}_setupPhysicsWorld(e){this.players.forEach(t=>{this.physics.add.collider(t.sprite,e),this.physics.add.collider(t.sprite,this.red,()=>{console.log(`${t.id} tocó la red!`),t.sprite.setVelocityX(0)})})}_setupInputMappings(){this.inputMappings=[{playerId:"player1",leftKey:"A",rightKey:"D",jumpKey:"W",receiveKey:"S",powerKey:"E"},{playerId:"player2",leftKey:"J",rightKey:"L",jumpKey:"I",receiveKey:"K",powerKey:"O"}].map(e=>({playerId:e.playerId,leftKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.rightKey]),jumpKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.jumpKey]),receiveKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.receiveKey]),powerKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.powerKey])}))}_handleInputForAllPlayers(){this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);if(!t)return;if(t.isParalyzed){const e="left"===t.facing?"idleLeft":"idleRight";return void this.commandProcessor.process(new E(t,e))}let s;if(s=e.leftKeyObj.isDown?"left":e.rightKeyObj.isDown?"right":"left"===t.facing?"idleLeft":"idleRight",t.isJumping||this.commandProcessor.process(new E(t,s)),i().Input.Keyboard.JustDown(e.receiveKeyObj)){const e="left"===t.facing?"receiveLeft":"receiveRight";this.commandProcessor.process(new E(t,e))}if(i().Input.Keyboard.JustDown(e.jumpKeyObj)){const e="left"===t.facing?"jumpLeft":"jumpRight";this.commandProcessor.process(new E(t,e))}i().Input.Keyboard.JustDown(e.powerKeyObj)&&(t.useNextPowerUp(),this.updatePlayerInventoryUI(t))}),this.players.forEach(e=>e.update())}_createBall(){this.ball=new T(this,this.worldWidth/2,150)}_setupBallCollisions(){this.players.forEach(e=>{this.physics.add.overlap(this.ball.sprite,e.sprite,()=>this._onBallPlayerCollision(this.ball,e),null,this)}),this.physics.add.collider(this.ball.sprite,this.red,()=>{console.log("La pelota toca la red!"),this.ball.sprite.setVelocityX(.5*this.ball.sprite.body.velocity.x),this.ball.sprite.setVelocityY(.5*this.ball.sprite.body.velocity.y)}),this.worldHeight,this.ball.sprite.setCollideWorldBounds(!0),this.ball.sprite.setBounce(.8)}_setupBallEvents(){this.events.on("rallyConcluded",e=>{console.log(`Rally concluded: ${e.scoringPlayerId} scores!`);const t=e.scoringPlayerId,i=this.players.get(t),s=i&&i.scoreMultiplier||1;"player1"===t?(this.pointsLeft+=s,this.scoreLeft.setText(this.pointsLeft.toString()),this.scoreP1+=s):"player2"===t&&(this.pointsRight+=s,this.rightScore.setText(this.pointsRight.toString()),this.scoreP2+=s),this.playSfx(this.sfx.point),this._checkWinCondition()})}_onBallPlayerCollision(e,t){if(!e.isBallLive)return;const i=!t.sprite.body.blocked.down,s=t.isReceiving,a=t.facing;e.hit(t,a,i,s)}_endGame(e){this.timerEvent&&(this.timerEvent.remove(!1),this.timerEvent=null),this.physics&&this.physics.world&&this.physics.world.pause(),this.scene.start("EndGame_Scene",{winner:e,player1:this.player1,player2:this.player2})}_checkWinCondition(){const e=this.scoreP1-this.scoreP2;if(Math.max(this.scoreP1,this.scoreP2)<11||Math.abs(e)<2)return;const t=e>0?"player1":"player2";this._endSet(t)}_endSet(e){"player1"===e?this.setsP1++:"player2"===e&&this.setsP2++,console.log(`Set terminado. Score sets: P1=${this.setsP1}, P2=${this.setsP2}`);const t="player1"===e?"Jugador 1":"Jugador 2";this.setWinnerText.setText(`Set para ${t}`),this.setWinnerText.setVisible(!0),this.currentSet++,2===this.setsP1||2===this.setsP2?this.time.delayedCall(2e3,()=>{this._endGame(e)}):this.time.delayedCall(2e3,()=>{this.setWinnerText&&this.setWinnerText.setVisible(!1),this._resetSet()})}_resetSet(){this.setText.setText(`SET ${this.currentSet}`),this.tiempoRestante=this.tiempoTotal,this.timerEvent.paused=!1,this.updateTimer(),this.scoreP1=0,this.scoreP2=0,this.pointsLeft=0,this.pointsRight=0,this.scoreLeft.setText("0"),this.rightScore.setText("0"),this.ball.resetRally();const e=this.players.get("player1"),t=this.players.get("player2");e.setPosition(.25*this.worldWidth,.7*this.worldHeight),t.setPosition(.75*this.worldWidth,.7*this.worldHeight),e.idleRight(),t.idleLeft(),this.playSfx(this.sfx.whistle)}}class b extends i().Scene{constructor(){super("Tutorial_Scene"),this.pageIndex=0,this.returnScene="Menu_Scene"}init(e){this.returnScene=e?.returnScene??"Menu_Scene"}preload(){this.load.image("tut0_controles","ASSETS/TUTORIAL/TUT0_Controles.png"),this.load.image("tut1_set","ASSETS/TUTORIAL/TUT1_Set.png"),this.load.image("tut2_pelota","ASSETS/TUTORIAL/TUT2_Pelota.png"),this.load.image("tut3_powerup","ASSETS/TUTORIAL/TUT3_Powerup.png"),this.load.image("tut4_lista","ASSETS/TUTORIAL/TUT4_Lista.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png")}create(){const{width:e,height:t}=this.scale,i=e/2,s={...this.game.globals?.defaultTextStyle??{fontFamily:"VT323",fontSize:"20px",color:"#000000"}};c(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.mainTitleText=this.add.text(i,.1*t,"Tutorial",{...s,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start("Menu_Scene")}),this.pageIndex=0,this.pages=[{key:"tut0_controles",title:"Controles"},{key:"tut1_set",title:"Reglas básicas: set"},{key:"tut2_pelota",title:"Reglas básicas: pelota"},{key:"tut3_powerup",title:"Reglas básicas: power-ups"},{key:"tut4_lista",title:"Lista de power-ups"}];const a=Math.max(8,Math.round(.015*Math.min(e,t))),r=Math.max(6,Math.round(.012*t)),o=.91*t,n=this.mainTitleText.y+this.mainTitleText.height+r,l=o-r,h=Math.max(0,l-n),d=Math.max(0,e-2*a);this.layout={panelTop:n,panelHeight:h,panelWidth:d},this.slideImage=this.add.image(i,n+h/2,this.pages[0].key),this._fitImage(this.slideImage,d,h),this.pageIndicator=this.add.text(i,o+20,"",{...s,fontSize:"28px",color:"#000"}).setOrigin(.5);const m={...s,fontSize:"28px",color:"#000000"};p(this,{x:i-165,y:o+20,label:"Anterior",onClick:()=>this.prev(),textStyle:m,clickSoundKey:"sonidoClick"}),p(this,{x:i+165,y:o+20,label:"Siguiente",onClick:()=>this.next(),textStyle:m,clickSoundKey:"sonidoClick"}),this.renderPage()}_fitImage(e,t,i){const s=Math.min(t/e.width,i/e.height);e.setScale(s)}renderPage(){const e=this.pages[this.pageIndex];this.mainTitleText.setText(e.title??"Tutorial"),this.slideImage.setTexture(e.key),this._fitImage(this.slideImage,this.layout.panelWidth,this.layout.panelHeight),this.pageIndicator.setText(`${this.pageIndex+1} de ${this.pages.length}`)}next(){this.pageIndex<this.pages.length-1&&(this.pageIndex++,this.renderPage())}prev(){this.pageIndex>0&&(this.pageIndex--,this.renderPage())}}class v extends i().Scene{constructor(){super("Configuration_Scene"),this.musicVolumeSlider=null,this.sfxVolumeSlider=null}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("derTeclas","ASSETS/UI/CONTROLES/der.png"),this.load.image("izqTeclas","ASSETS/UI/CONTROLES/izq.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,n=e/2,d=this.game.globals.defaultTextStyle;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(n,.1*t,"Configuración",{...d,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5),this.add.text(n,.2*t,"Volumen de la música",{...d,fontSize:"24px",color:"#000"}).setOrigin(.5),function(e=1){const t=null!==localStorage.getItem(s),i=null!==localStorage.getItem(a);if(t&&i)return;const n=function(e=1){const t=localStorage.getItem(r);return null===t?null:o(t,e)}(e),l=n&&n>0?n:e;t||localStorage.setItem(s,String(l)),i||localStorage.setItem(a,String(l))}();const p=h(),m=l();c(this),this.musicVolumeSlider=this.add.dom(n,.26*t).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${p}"\n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>\n            `),this.musicVolumeSlider.addListener("input"),this.musicVolumeSlider.on("input",e=>{const t=e.target;t instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(a,String(t))}(t.value),c(this))}),this.add.text(n,.32*t,"Volumen de efectos",{...d,fontSize:"24px",color:"#000"}).setOrigin(.5),this.sfxVolumeSlider=this.add.dom(n,.38*t).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${m}"\n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>\n            `),this.sfxVolumeSlider.addListener("input"),this.sfxVolumeSlider.on("input",e=>{const t=e.target;t instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(s,String(t))}(t.value),c(this))}),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start("Menu_Scene")});const u=this.add.graphics();u.lineStyle(3,0,1),u.beginPath(),u.moveTo(.1*e,.46*t),u.lineTo(.9*e,.46*t),u.strokePath(),this.add.text(n,.52*t,"Controles",{...d,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5),this.add.image(e/2+200,380,"derTeclas").setScale(.35).setOrigin(.5),this.add.image(e/2-200,380,"izqTeclas").setScale(.35).setOrigin(.5),this.events.once(i().Scenes.Events.SHUTDOWN,()=>{this.musicVolumeSlider&&(this.musicVolumeSlider.removeAllListeners(),this.musicVolumeSlider.destroy(),this.musicVolumeSlider=null),this.sfxVolumeSlider&&(this.sfxVolumeSlider.removeAllListeners(),this.sfxVolumeSlider.destroy(),this.sfxVolumeSlider=null)})}}class _ extends i().Scene{constructor(){super("Credits_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("logo","ASSETS/LOGO/logo_empresa.png"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=e/2,s=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#000000"};this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(i,.15*t,"Créditos",{...s,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5);const a=["GRUPO 5 - SUNSET ARCADE","Sara Bueno Esteban","Antonio Morán Barrera","Cristine Nioka Tewo","Álvaro Ibáñez Montero"],r=.42*t,o=this.add.image(i,r,"marco").setOrigin(.5),n=.45*e/o.width;o.setScale(n);const l=r-30*(a.length-1)/2;a.forEach((e,t)=>{const a=0===t;this.add.text(i,l+30*t,e,{...s,fontSize:a?"22px":"20px",color:"#000000"}).setOrigin(.5)}),this.add.image(i,.78*t,"logo").setOrigin(.5).setScale(.6),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start("Menu_Scene")})}}class I extends i().Scene{constructor(){super("EndGame_Scene")}init(e){this.winner=e.winner,this.player1=e.player1,this.player2=e.player2}preload(){this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=this.game.globals.defaultTextStyle,s=this.player1.name,a=this.player2.name;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(e/2,.18*t,"¡FIN DEL PARTIDO!",{...i,fontSize:"64px",color:"#5f0000ff"}).setOrigin(.5);const r="player1"===this.winner?"Ganador: "+s:"Ganador: "+a;this.add.text(e/2,.4*t,r,{...i,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5),p(this,{x:e/2,y:.6*t,label:"Volver a inicio",textStyle:{...i,fontSize:"26px",color:"#000000"},scale:3,onClick:()=>{this.scene.start("Menu_Scene")}})}}class R extends i().Scene{constructor(){super("ModeGame_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#000000"};c(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,.18*t,"Modo de Juego",{...i,fontSize:"40px",color:"#000000",fontStyle:"bold"}).setOrigin(.5);const s=.5*t,a=Math.min(280,.3*e),r=e/2-a/2,o={...i,fontSize:"24px",color:"#000000"},n=e=>{"local"===e?this.scene.start("SelectPlayer_Scene",{mode:e}):this.scene.start("Logging_Scene",{mode:e})};p(this,{x:r,y:s,label:"Local",onClick:()=>n("local"),scale:2,textureNormal:"botonSinSeleccionar",textureHover:"botonSeleccionado",textStyle:o,clickSoundKey:"sonidoClick"}),p(this,{x:r+a,y:s,label:"Red",onClick:()=>n("online"),scale:2,textureNormal:"botonSinSeleccionar",textureHover:"botonSeleccionado",textStyle:o,clickSoundKey:"sonidoClick"}),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.scene.start("Menu_Scene")})}}class C extends i().Scene{constructor(){super("Pause_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const e=this.game.globals.defaultTextStyle,{width:t,height:i}=this.scale,s=t/2;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(s,.18*i,"PAUSA",{...e,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5);const a={...e,fontSize:"20px",color:"#000000"};p(this,{x:s,y:.52*i,label:"Continuar",textStyle:a,scale:2,onClick:()=>{this.scene.stop(),this.scene.resume("Game_Scene")}}),p(this,{x:s,y:.66*i,label:"Menú Principal",textStyle:a,scale:2,onClick:()=>{const e=this.scene.get("Game_Scene");e&&(e.input.keyboard.removeAllListeners(),e.input.keyboard.removeAllKeys()),this.scene.stop("Game_Scene"),this.scene.start("Menu_Scene")}})}}class N extends i().Scene{constructor(){super("SelectPlayer_Scene"),this.players=[],this.currentTurn=0,this.playerInputs=[],this.playerInputEls=[],this.turnText=null}init(e){this.mode=e.mode,console.log("Modo de Juego:",this.mode),this.isHost=e.isHost,console.log("Host:",this.isHost)}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("marcoJugador","ASSETS/UI/MARCOS/VACIOS/MARCO_PERSONAJE_SELECCIONADO.png"),this.load.image("characterA","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_a.png"),this.load.image("characterB","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_b.png"),this.load.image("characterC","ASSETS/PERSONAJES/PERSONAJES_POSE/personaje_c.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){this.input.keyboard.removeAllKeys(!0),this.input.keyboard.removeAllListeners();const{width:e,height:t}=this.scale,s=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"};c(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,50,"Selecciona Personaje",{...s,fontSize:"40px",color:"#000",fontStyle:"bold"}).setOrigin(.5),"local"===this.mode&&this.createLocalUI(e,t,s),"online"===this.mode&&this.createOnlineUI(e,t,s),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.scene.start("ModeGame_Scene")}),this.events.once(i().Scenes.Events.SHUTDOWN,()=>{this.playerInputs.forEach(e=>e?.destroy()),this.playerInputs=[],this.playerInputEls=[],this.input.keyboard.enabled=!0})}createLocalUI(e,t,i){this.players=[{name:"",character:null,color:43775,bigImage:null,bigFrame:null,frame:null},{name:"",character:null,color:16733525,bigImage:null,bigFrame:null,frame:null}],this.turnText=this.add.text(e/2,90,"Turno: Jugador 1",{...i,fontSize:"18px",color:"#000"}).setOrigin(.5),this.createPlayersUI(),this.createCharacterMiniatures(0,0),this.updateTurnText(),p(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>this.handleNext(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...i,fontSize:"14px",color:"#000"},clickSoundKey:"sonidoClick"})}createOnlineUI(e,t,i){this.players=[{name:this.registry.get("username")||"JugadorX",character:null,color:43775,bigImage:null,bigFrame:null,frame:null}],this.add.text(e/2,100,`${this.players[0].name}`,{...i,fontSize:"28px",color:"#000",fontStyle:"bold"}).setOrigin(.5),this.turnText=this.add.text(e/2,130,"Ningún personaje seleccionado",{...i,fontSize:"18px",color:"#000"}).setOrigin(.5),this.createPlayerOnlineUI(),this.createCharacterMiniatures(150,0),p(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>this.handleNext(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...i,fontSize:"14px",color:"#000"},clickSoundKey:"sonidoClick"})}createPlayersUI(){const{width:e,height:t}=this.scale,s=this.game.globals.defaultTextStyle,a=[.25*e,.75*e];this.players.forEach((r,o)=>{const n=a[o];this.add.text(n,100,"Nombre:",{...s,fontSize:"24px",color:"#000"}).setOrigin(.5);const l=this.add.dom(n,140).createFromHTML(`\n                <input type="text" placeholder="Nombre jugador" maxlength="10"\n                style="\n                    width:150px;\n                    padding:6px;\n                    font-size:16px;\n                    font-family:${s.fontFamily};\n                    border-radius:12px;\n                    border: 6px solid #FFAA00;\n                    outline: none;\n                    text-align:center;\n                    background-color:#f0f0f0;\n                    transition: border-color 0.2s, box-shadow 0.2s;"\n                onfocus="this.style.borderColor='#FF8316'; this.style.boxShadow='0 0 5px #FF8316';"\n                onblur="this.style.borderColor='#FFAA00'; this.style.boxShadow='none';"\n                />\n            `),h=l.node.querySelector("input");h.addEventListener("focus",e=>{this.input.keyboard.enabled=!1,e.stopPropagation()}),h.addEventListener("blur",e=>{this.input.keyboard.enabled=!0,e.stopPropagation()}),h.addEventListener("keydown",e=>e.stopPropagation()),h.addEventListener("input",()=>{h.value=h.value.replace(/[^a-zA-ZÀ-ÿñÑ ]/g,""),this.updateTurnText()}),this.playerInputs[o]=l,this.playerInputEls[o]=h,r.bigImage=this.add.image(e*(.25+.5*o),.6*t,"characterA").setScale(1.2).setOrigin(.5).setVisible(!1),r.bigFrame=this.add.image(r.bigImage.x,r.bigImage.y,"marcoJugador").setScale(2.8).setOrigin(.5).setVisible(!0),r.bigFrame.texture.setFilter(i().Textures.FilterMode.NEAREST),r.frame=this.add.rectangle(0,0,60,120).setStrokeStyle(4,r.color).setVisible(!1)}),this.currentTurn=0,this.updateTurnText()}createPlayerOnlineUI(){const{width:e,height:t}=this.scale,s=this.players[0],a=e/2;s.bigImage=this.add.image(a-150,.58*t,"characterA").setScale(1.2).setOrigin(.5).setVisible(!1),s.bigFrame=this.add.image(s.bigImage.x,s.bigImage.y,"marcoJugador").setScale(2.8).setOrigin(.5).setVisible(!0),s.bigFrame.texture.setFilter(i().Textures.FilterMode.NEAREST),s.frame=this.add.rectangle(0,0,60,120).setStrokeStyle(4,s.color).setVisible(!1)}createCharacterMiniatures(e,t){const{width:i,height:s}=this.scale,a=i/2-75,r=.5*s,o=[{x:a+e,y:r+t},{x:a+e+150,y:r+t},{x:a+e+75,y:r+t+75}];["characterA","characterB","characterC"].forEach((e,t)=>{const i=this.add.image(o[t].x,o[t].y,e).setInteractive({useHandCursor:!0}).setScale(.45).setData("characterName",e);i.on("pointerdown",()=>{d(this,"sonidoClick"),this.onMiniClicked(e,i)})})}onMiniClicked(e,t){if("online"===this.mode){const i=this.players[0];return i.character===e?(i.character=null,i.bigImage&&i.bigImage.setVisible(!1),i.frame&&i.frame.setVisible(!1)):(i.character=e,i.bigImage&&i.bigImage.setTexture(e).setVisible(!0),i.frame&&i.frame.setPosition(t.x,t.y).setVisible(!0)),void this.updateTurnText()}const i=this.players.findIndex(t=>t.character===e);if(-1!==i){const e=this.players[i];return e.character=null,e.bigImage&&e.bigImage.setVisible(!1),e.frame&&e.frame.setVisible(!1),this.currentTurn=i,void this.updateTurnText()}const s=this.players[0],a=this.players[1];let r=this.currentTurn;if(null==r)if(!s.character&&a.character)r=0;else if(!a.character&&s.character)r=1;else{if(s.character||a.character)return;r=0}const o=this.players[r],n=this.players[1-r];n.character!==e&&(o.character=e,o.bigImage&&o.bigImage.setTexture(e).setVisible(!0),o.frame&&o.frame.setPosition(t.x,t.y).setVisible(!0),n.character?this.currentTurn=null:this.currentTurn=1-r,this.updateTurnText())}handleNext(){if("local"===this.mode){const e=this.playerInputEls?.[0]?.value?.trim()??"",t=!!this.players?.[0]?.character,i=this.playerInputEls?.[1]?.value?.trim()??"",s=!!this.players?.[1]?.character;if(!(e.length>0&&i.length>0&&t&&s))return this.updateTurnText(),void this.flashTurnText("#b00000",900);this.players[0].name=e,this.players[1].name=i,this.scene.start("SelectScenario_Scene",{mode:this.mode,player1:this.players[0],player2:this.players[1]})}if("online"===this.mode){if(!this.players?.[0]?.character)return this.flashTurnText("#b00000",900),void this.turnText.setText("Debes elegir un personaje primero");this.registry.set("myCharacter",this.players[0].character),this.isHost?this.scene.start("SelectScenario_Scene",{mode:this.mode,player1:this.players[0],isHost:!0}):this.scene.start("Lobby_Scene",{mode:this.mode,player2:this.players[0],isHost:!1})}}flashTurnText(e="#b00000",t=900){if(!this.turnText)return;const i=this.turnText.style.color||"#000000";this.turnText.setColor(e),this.time.delayedCall(t,()=>{this.turnText.setColor(i),this.updateTurnText()})}updateTurnText(){if(this.turnText){if("local"===this.mode){const e=this.playerInputEls?.[0]?.value?.trim()??"",t=this.playerInputEls?.[1]?.value?.trim()??"",i=!!this.players?.[0]?.character,s=!!this.players?.[1]?.character,a=e.length>0,r=t.length>0,o=i&&s,n=a&&r;if(o&&n)return void this.turnText.setText("Listo: ambos jugadores tienen nombre y personaje");if(o&&!n)return void(a||r?a?this.turnText.setText("Falta el nombre del Jugador 2"):this.turnText.setText("Falta el nombre del Jugador 1"):this.turnText.setText("Faltan los nombres de Jugador 1 y Jugador 2"));if(n&&!o)return void(i||s?i?this.turnText.setText("Falta el personaje del Jugador 2"):this.turnText.setText("Falta el personaje del Jugador 1"):this.turnText.setText("Faltan los personajes del Jugador 1 y Jugador 2"));if(null===this.currentTurn||void 0===this.currentTurn)return void this.turnText.setText("Completa nombres y personajes");this.turnText.setText(`Turno: Jugador ${this.currentTurn+1}`)}"online"===this.mode&&(this.players?.[0]?.character?this.turnText.setText("Listo: el jugador tiene personaje"):this.turnText.setText("Ningún personaje seleccionado"))}}}class w extends i().Scene{constructor(){super("SelectScenario_Scene"),this.selectedScenario="Gym",this.mode="local"}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("Gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("Playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("Jardin","ASSETS/FONDOS/JARDIN.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3"),this.load.image("marco","/ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO")}init(e){this.player1=e.player1,this.player2=e.player2,this.mode=e.mode||"local",this.isHost=e.isHost||!1}create(){const{width:e,height:t}=this.scale,s=this.game.globals.defaultTextStyle;c(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,50,"Selecciona Escenario",{...s,fontSize:"40px",color:"#000",fontStyle:"bold"}).setOrigin(.5),this.selectedScenario="Gym",this.selectedImage=this.add.image(e/2,240,this.selectedScenario).setScale(.5);const a=["Gym","Playa","Jardin"],r=e/2-200,o={},n=e=>{this.selectedScenario=e,this.selectedImage.setTexture(e).setScale(.5),a.forEach(t=>{o[t].setTexture(t===e?"botonSeleccionado":"botonSinSeleccionar")})};a.forEach((e,t)=>{const a=this.add.image(r+200*t,440,"botonSinSeleccionar").setInteractive({useHandCursor:!0}).setScale(1.75);o[e]=a;const l=this.add.text(0,0,e,{...s,fontSize:"24px",color:"#000"});i().Display.Align.In.Center(l,a),a.on("pointerover",()=>a.setTexture("botonSeleccionado")),a.on("pointerout",()=>{a.setTexture(this.selectedScenario===e?"botonSeleccionado":"botonSinSeleccionar")}),a.on("pointerdown",()=>d(this,"sonidoClick")),a.on("pointerup",t=>{a.getBounds().contains(t.x,t.y)&&n(e)})}),n(this.selectedScenario);const l=this.add.image(e/2,240,"marco").setOrigin(.5);l.texture.setFilter(i().Textures.FilterMode.NEAREST),l.setDisplaySize(500,300),p(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>{"local"===this.mode?this.scene.start("Game_Scene",{player1:this.player1,player2:this.player2,selectedScenario:this.selectedScenario,mode:this.mode,isHost:this.isHost}):this.scene.start("Lobby_Scene",{player1:this.player1,player2:this.player2,selectedScenario:this.selectedScenario,mode:this.mode,isHost:this.isHost})},scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...s,fontSize:"12px",color:"#000"},clickSoundKey:"sonidoClick"}),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>{this.scene.start("SelectPlayer_Scene",{mode:this.mode,isHost:this.isHost})}})}}class P extends i().Scene{constructor(){super("Lobby_Scene"),this.isPlayerReady=!1}init(e){this.mode=e.mode,this.isHost=e.isHost,this.player1=e.player1,this.player2=e.player2,console.log("Lobby iniciado como:",this.isHost?"Host":"Invitado")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const e=this.game.globals.defaultTextStyle,{width:t,height:s}=this.scale,a=t/2;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(a,.18*s,"LOBBY",{...e,fontSize:"40px",color:"#000",fontStyle:"bold"}).setOrigin(.5);const r=.48*s,o=this.add.image(a,r,"marco").setOrigin(.5);o.texture.setFilter(i().Textures.FilterMode.NEAREST);const n=.3*t,l=.3*s;o.setDisplaySize(n,l);const h=r-40;this.add.text(a,h,"ESTADO DE JUGADORES",{...e,fontSize:"22px",color:"#000000",fontStyle:"bold"}).setOrigin(.5);const c=this.isHost?this.player1?.name||"Tú":this.player1?.name||"Admin...";this.p1StatusText=this.add.text(a,r,`${c} --- ❌`,{...e,fontSize:"20px",color:"#000000"}).setOrigin(.5);const d=this.isHost?this.player2?.name||"Esperando...":this.player2?.name||"Tú";this.p2StatusText=this.add.text(a,r+40,`${d} --- ❌`,{...e,fontSize:"20px",color:"#000000"}).setOrigin(.5),this.btnListo=p(this,{x:a,y:.75*s,label:"Listo?",onClick:()=>this.toggleReady(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...e,fontSize:"14px",color:"#000"},clickSoundKey:"sonidoClick"}),this.btnVolver=S(this,{x:.06*t,y:.08*s,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.handleBack()})}toggleReady(){this.isPlayerReady=!this.isPlayerReady;const e=this.isPlayerReady?"✅":"❌";this.isHost?this.p1StatusText.setText(`${this.player1.name} --- ${e}`):this.p2StatusText.setText(`${this.player2.name} --- ${e}`);const t=this.isPlayerReady?"CANCELAR":"LISTO?";this.btnListo.setLabel?this.btnListo.setLabel(t):this.btnListo.text&&this.btnListo.text.setText(t),this.isPlayerReady?(this.btnVolver.disableInteractive(),this.btnVolver.setAlpha(.3)):(this.btnVolver.setInteractive(),this.btnVolver.setAlpha(1))}handleBack(){const e=this.isHost?"SelectScenario_Scene":"SelectPlayer_Scene",t=this.isHost?{mode:this.mode,player1:this.player1,isHost:!0}:{mode:this.mode,isHost:!1};this.scene.start(e,t)}}class L extends i().Scene{constructor(){super("Logging_Scene"),this.isPlayerReady=!1,this.apiUrl="/api"}async init(e){this.mode=e.mode;const t=localStorage.getItem("voley_username"),i=localStorage.getItem("voley_password");if(t&&i){console.log("Intentando auto-login para:",t);try{const e=await fetch(`${this.apiUrl}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:i})}),s=await e.json();e.ok&&(this.registry.set("username",s.username),this.registry.set("isHost",s.isHost),this.scene.start("SelectPlayer_Scene",{mode:this.mode,isHost:s.isHost}))}catch(e){console.error("Auto-login fallido")}}}preload(){this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png")}create(){const{width:e,height:t}=this.scale,s=e/2,a=this.game.globals?.defaultTextStyle??{fontFamily:"Arial"};this.add.image(0,0,"fondo").setOrigin(0).setDisplaySize(e,t).setDepth(-1),this.titleText=this.add.text(s,60,"INICIAR SESIÓN",{...a,fontSize:"36px",color:"#000",fontStyle:"bold"}).setOrigin(.5);const r=this.add.image(s,.52*t,"marco").setOrigin(.5);r.setDisplaySize(.4*e,.65*t),r.texture.setFilter(i().Textures.FilterMode.NEAREST),this.add.text(s,.28*t,"Usuario:",{...a,fontSize:"20px",color:"#000"}).setOrigin(.5),this.userInput=this.createHtmlInput(s,.35*t,"Nombre de usuario",a),this.add.text(s,.45*t,"Contraseña:",{...a,fontSize:"20px",color:"#000"}).setOrigin(.5),this.passInput=this.createHtmlInput(s,.52*t,"********",a,!0),this.mainBtn=p(this,{x:s,y:.65*t,label:"ENTRAR",onClick:()=>this.handleSubmit(),scale:1.6,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...a,fontSize:"14px",color:"#000"},clickSoundKey:"sonidoClick"}),this.toggleText=this.add.text(s,.75*t,"¿Aún no tienes cuenta? Regístrate aquí",{...a,fontSize:"16px",color:"#0000EE",fontStyle:"italic"}).setOrigin(.5).setInteractive({useHandCursor:!0}),this.toggleText.on("pointerdown",()=>this.toggleMode()),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.scene.start("ModeGame_Scene")})}createHtmlInput(e,t,i,s,a=!1){const r=a?"password":"text",o=this.add.dom(e,t).createFromHTML(`\n            <input type="${r}" placeholder="${i}" \n            style="width:180px; padding:8px; font-size:16px; font-family:${s.fontFamily}; \n            border-radius:12px; border: 6px solid #FFAA00; text-align:center; outline:none;" />\n        `).node.querySelector("input");return o.addEventListener("focus",()=>this.input.keyboard.enabled=!1),o.addEventListener("blur",()=>this.input.keyboard.enabled=!0),o}toggleMode(){this.isRegistering=!this.isRegistering,this.titleText.setText(this.isRegistering?"REGISTRARSE":"INICIAR SESIÓN"),this.mainBtn.text.setText(this.isRegistering?"CREAR CUENTA":"ENTRAR"),this.toggleText.setText(this.isRegistering?"¿Ya tienes cuenta? Inicia sesión":"¿Aún no tienes cuenta? Regístrate aquí")}async handleSubmit(){const e=this.userInput.value.trim(),t=this.passInput.value.trim();if(e.length<3)return void alert("Usuario demasiado corto");if(t.length<3)return void alert("Contraseña demasiado corta");const i=this.isRegistering?"/register":"/login";try{const s=await fetch(`${this.apiUrl}${i}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),a=await s.json();s.ok?this.isRegistering?(alert("¡Registro completado con éxito! Ahora puedes iniciar sesión."),this.toggleMode(),this.userInput.value="",this.passInput.value=""):(this.registry.set("username",e),this.registry.set("userToken",a.token),this.registry.set("isHost",a.isHost),localStorage.setItem("voley_session_token",a.token),localStorage.setItem("voley_username",e),console.log(`Login correcto. Usuario: ${e} | Host: ${a.isHost}`),this.scene.start("SelectPlayer_Scene",{mode:this.mode,isHost:a.isHost})):alert(a.error||"Error en la autenticación")}catch(e){console.error("Error conectando a la API:",e),alert("No se pudo conectar con el servidor.")}}}(async()=>{document.fonts&&document.fonts.load&&(await Promise.all([document.fonts.load('20px "MiFuente"'),document.fonts.load('20px "VT323"')]),await document.fonts.ready);const e={defaultTextStyle:{fontFamily:"MiFuente",fontSize:"20px",color:"#ffffff"},music:null},t={type:i().AUTO,width:960,height:540,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{x:0,y:300},debug:!1}},dom:{createContainer:!0},callbacks:{preBoot:t=>{t.globals=e}},scene:[m,A,b,v,_,I,C,R,N,w,P,L],backgroundColor:"#8675f1"},s=new(i().Game)(t);window.addEventListener("beforeunload",()=>{const e=s.registry.get("username");if(e){const t=JSON.stringify({username:e}),i=new Blob([t],{type:"application/json"});navigator.sendBeacon("/api/logout",i)}})})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bGxleWNsYXNoX2p1ZWdvL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL2V4dGVybmFsIHZhciBcIlBoYXNlclwiIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1VJL0F1ZGlvLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1VJL0J1dHRvbnMuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL01lbnVfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvRW50aXRpZXMvUGxheWVyLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0NvbW1hbmRzL0FwcGx5UG93ZXJVcENvbW1hbmQuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvRW50aXRpZXMvUG93ZXJVcC5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9FbnRpdGllcy9CYWxsLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0NvbW1hbmRzL0NvbW1hbmRQcm9jZXNzb3IuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvQ29tbWFuZHMvQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9Db21tYW5kcy9Nb3ZlUGxheWVyQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvR2FtZV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvVHV0b3JpYWxfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL0NvbmZpZ3VyYXRpb25fU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL0NyZWRpdHNfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL0VuZEdhbWVfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL01vZGVHYW1lX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9QYXVzZV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvU2VsZWN0UGxheWVyX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9TZWxlY3RTY2VuYXJpb19TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvTG9iYnlfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL0xvZ2dpbmdfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvbWFpbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiY29uc3QgX19XRUJQQUNLX05BTUVTUEFDRV9PQkpFQ1RfXyA9IFBoYXNlcjsiLCJpbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcblxyXG5jb25zdCBTRlhfVk9MVU1FX0tFWSA9ICdzZnhWb2x1bWUnO1xyXG5jb25zdCBNVVNJQ19WT0xVTUVfS0VZID0gJ211c2ljVm9sdW1lJztcclxuY29uc3QgTEVHQUNZX1ZPTFVNRV9LRVkgPSAndm9sdW1lJztcclxuXHJcbmZ1bmN0aW9uIHBhcnNlU3RvcmVkVm9sdW1lKHJhdywgZGVmYXVsdFZhbHVlKSB7XHJcbiAgICBjb25zdCB2ID0gTnVtYmVyLnBhcnNlRmxvYXQocmF3ID8/IFN0cmluZyhkZWZhdWx0VmFsdWUpKTtcclxuXHJcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2KSkgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcclxuXHJcbiAgICByZXR1cm4gUGhhc2VyLk1hdGguQ2xhbXAodiwgMCwgMSk7XHJcbn1cclxuXHJcbi8vLy8gR2V0dGVycyZTZXR0ZXJzIC8vLy9cclxuLy8gT2J0aWVuZSBlbCB2b2x1bWVuIGFsbWFjZW5hZG8gY29uIHVuYSBjbGF2ZVxyXG5mdW5jdGlvbiBnZXRTdG9yZWRWb2x1bWVCeUtleShrZXksIGZhbGxiYWNrS2V5LCBkZWZhdWx0VmFsdWUgPSAxKSB7XHJcbiAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgaWYgKHJhdyAhPT0gbnVsbCkgcmV0dXJuIHBhcnNlU3RvcmVkVm9sdW1lKHJhdywgZGVmYXVsdFZhbHVlKTtcclxuXHJcbiAgICBjb25zdCBmYWxsYmFja1JhdyA9IGZhbGxiYWNrS2V5ID8gbG9jYWxTdG9yYWdlLmdldEl0ZW0oZmFsbGJhY2tLZXkpIDogbnVsbDtcclxuICAgIGlmIChmYWxsYmFja1JhdyAhPT0gbnVsbCkgcmV0dXJuIHBhcnNlU3RvcmVkVm9sdW1lKGZhbGxiYWNrUmF3LCBkZWZhdWx0VmFsdWUpO1xyXG5cclxuICAgIHJldHVybiBQaGFzZXIuTWF0aC5DbGFtcChkZWZhdWx0VmFsdWUsIDAsIDEpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRMZWdhY3lWb2x1bWUoZGVmYXVsdFZhbHVlID0gMSkge1xyXG4gICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTEVHQUNZX1ZPTFVNRV9LRVkpO1xyXG4gICAgaWYgKHJhdyA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgcmV0dXJuIHBhcnNlU3RvcmVkVm9sdW1lKHJhdywgZGVmYXVsdFZhbHVlKTtcclxufVxyXG5cclxuLy8gQXNlZ3VyYSBxdWUgZXhpc3RhbiBsb3MgdmFsb3JlcyBkZSB2b2x1bWVuIGFsbWFjZW5hZG9zXHJcbmV4cG9ydCBmdW5jdGlvbiBlbnN1cmVTdG9yZWRBdWRpb1NldHRpbmdzKGRlZmF1bHRWYWx1ZSA9IDEpIHtcclxuICAgIGNvbnN0IGhhc1NmeCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFNGWF9WT0xVTUVfS0VZKSAhPT0gbnVsbDtcclxuICAgIGNvbnN0IGhhc011c2ljID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTVVTSUNfVk9MVU1FX0tFWSkgIT09IG51bGw7XHJcblxyXG4gICAgaWYgKGhhc1NmeCAmJiBoYXNNdXNpYykgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IGxlZ2FjeVZvbHVtZSA9IGdldExlZ2FjeVZvbHVtZShkZWZhdWx0VmFsdWUpO1xyXG4gICAgY29uc3QgaW5pdGlhbFZvbHVtZSA9IGxlZ2FjeVZvbHVtZSAmJiBsZWdhY3lWb2x1bWUgPiAwID8gbGVnYWN5Vm9sdW1lIDogZGVmYXVsdFZhbHVlO1xyXG5cclxuICAgIGlmICghaGFzU2Z4KSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTRlhfVk9MVU1FX0tFWSwgU3RyaW5nKGluaXRpYWxWb2x1bWUpKTtcclxuICAgIGlmICghaGFzTXVzaWMpIGxvY2FsU3RvcmFnZS5zZXRJdGVtKE1VU0lDX1ZPTFVNRV9LRVksIFN0cmluZyhpbml0aWFsVm9sdW1lKSk7XHJcbn1cclxuXHJcbi8vIE9idGllbmUgZWwgdm9sdW1lbiBhbG1hY2VuYWRvIHBhcmEgbG9zIGVmZWN0b3MgZGUgc29uaWRvXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdG9yZWRTZnhWb2x1bWUoZGVmYXVsdFZhbHVlID0gMSkge1xyXG4gICAgcmV0dXJuIGdldFN0b3JlZFZvbHVtZUJ5S2V5KFNGWF9WT0xVTUVfS0VZLCBMRUdBQ1lfVk9MVU1FX0tFWSwgZGVmYXVsdFZhbHVlKTtcclxufVxyXG5cclxuLy8gT2J0aWVuZSBlbCB2b2x1bWVuIGFsbWFjZW5hZG8gcGFyYSBsYSBtw7pzaWNhXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdG9yZWRNdXNpY1ZvbHVtZShkZWZhdWx0VmFsdWUgPSAxKSB7XHJcbiAgICByZXR1cm4gZ2V0U3RvcmVkVm9sdW1lQnlLZXkoTVVTSUNfVk9MVU1FX0tFWSwgTEVHQUNZX1ZPTFVNRV9LRVksIGRlZmF1bHRWYWx1ZSk7XHJcbn1cclxuXHJcbi8vIEFsbWFjZW5hIGVsIHZvbHVtZW4gcGFyYSBsb3MgZWZlY3RvcyBkZSBzb25pZG9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFN0b3JlZFNmeFZvbHVtZSh2b2x1bWUpIHtcclxuICAgIGNvbnN0IHYgPSBQaGFzZXIuTWF0aC5DbGFtcChOdW1iZXIodm9sdW1lKSwgMCwgMSk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTRlhfVk9MVU1FX0tFWSwgU3RyaW5nKHYpKTtcclxuXHJcbiAgICByZXR1cm4gdjtcclxufVxyXG5cclxuLy8gQWxtYWNlbmEgZWwgdm9sdW1lbiBwYXJhIGxhIG3DunNpY2FcclxuZXhwb3J0IGZ1bmN0aW9uIHNldFN0b3JlZE11c2ljVm9sdW1lKHZvbHVtZSkge1xyXG4gICAgY29uc3QgdiA9IFBoYXNlci5NYXRoLkNsYW1wKE51bWJlcih2b2x1bWUpLCAwLCAxKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKE1VU0lDX1ZPTFVNRV9LRVksIFN0cmluZyh2KSk7XHJcblxyXG4gICAgcmV0dXJuIHY7XHJcbn1cclxuLy8vLy8vLy8vXHJcblxyXG4vLyBBcGxpY2EgZWwgdm9sdW1lbiBhbCBTb3VuZE1hbmFnZXIgeSBhIGxhIG3DunNpY2EgZ2xvYmFsXHJcbmV4cG9ydCBmdW5jdGlvbiBhcHBseVN0b3JlZFZvbHVtZShzY2VuZSwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICBsZXQgc2Z4Vm9sdW1lID0gZ2V0U3RvcmVkU2Z4Vm9sdW1lKCk7XHJcbiAgICBsZXQgbXVzaWNWb2x1bWUgPSBnZXRTdG9yZWRNdXNpY1ZvbHVtZSgpO1xyXG5cclxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICBzZnhWb2x1bWUgPSBQaGFzZXIuTWF0aC5DbGFtcChOdW1iZXIob3B0aW9ucyksIDAsIDEpO1xyXG4gICAgICAgIG11c2ljVm9sdW1lID0gc2Z4Vm9sdW1lO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBzZnhWb2x1bWUgPSBvcHRpb25zLnNmeFZvbHVtZSA/PyBzZnhWb2x1bWU7XHJcbiAgICAgICAgbXVzaWNWb2x1bWUgPSBvcHRpb25zLm11c2ljVm9sdW1lID8/IG11c2ljVm9sdW1lO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1hbnRlbmVyIGVsIHNvdW5kIG1hbmFnZXIgZW4gMSBwYXJhIHF1ZSBtdXNpY2EgeSBlZmVjdG9zIHNlYW4gaW5kZXBlbmRpZW50ZXMuXHJcbiAgICBzY2VuZS5zb3VuZC52b2x1bWUgPSAxO1xyXG5cclxuICAgIGNvbnN0IG11c2ljID0gc2NlbmUuZ2FtZS5nbG9iYWxzLm11c2ljO1xyXG4gICAgaWYgKG11c2ljICYmICdzZXRWb2x1bWUnIGluIG11c2ljKSB7XHJcbiAgICAgICAgbXVzaWMuc2V0Vm9sdW1lKG11c2ljVm9sdW1lKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gUmVwcm9kdWNlIHVuIHNvbmlkbyBkZSBjbGlja1xyXG5leHBvcnQgZnVuY3Rpb24gcGxheUNsaWNrKHNjZW5lLCBrZXkgPSAnc29uaWRvQ2xpY2snKSB7XHJcbiAgICBzY2VuZS5zb3VuZC5wbGF5KGtleSwgeyB2b2x1bWU6IGdldFN0b3JlZFNmeFZvbHVtZSgpIH0pO1xyXG59XHJcblxyXG4vLyBSZXByb2R1Y2UgbGEgbcO6c2ljYSBkZSBmb25kbyBlbiBidWNsZVxyXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlTG9vcGluZ011c2ljKHNjZW5lLCBzb3VuZEtleSwgeyBsb29wID0gdHJ1ZSB9ID0ge30pIHtcclxuICAgIGNvbnN0IHZvbHVtZSA9IGdldFN0b3JlZE11c2ljVm9sdW1lKCk7XHJcblxyXG4gICAgbGV0IG11c2ljID0gc2NlbmUuZ2FtZS5nbG9iYWxzLm11c2ljO1xyXG4gICAgaWYgKCFtdXNpYykge1xyXG4gICAgICAgIG11c2ljID0gc2NlbmUuc291bmQuYWRkKHNvdW5kS2V5LCB7IGxvb3AsIHZvbHVtZSB9KTtcclxuICAgICAgICBzY2VuZS5nYW1lLmdsb2JhbHMubXVzaWMgPSBtdXNpYztcclxuICAgIH1cclxuXHJcbiAgICAvLyBzZSBhY3R1YWxpemEgdm9sdW1lbiBzaSBlbCB0aXBvIGxvIHNvcG9ydGFcclxuICAgIGlmIChtdXNpYyAmJiAnc2V0Vm9sdW1lJyBpbiBtdXNpYykgbXVzaWMuc2V0Vm9sdW1lKHZvbHVtZSk7XHJcblxyXG4gICAgY29uc3QgdHJ5UGxheSA9ICgpID0+IHtcclxuICAgICAgICBpZiAoIW11c2ljIHx8ICEoJ3BsYXknIGluIG11c2ljKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBubyBzZSByZWluaWNpYSBzaSB5YSBlc3Q/IHNvbmFuZG9cclxuICAgICAgICBpZiAoJ2lzUGxheWluZycgaW4gbXVzaWMgJiYgbXVzaWMuaXNQbGF5aW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIG11c2ljLnBsYXkoKTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCdbQXVkaW8uanNdIE5vIHNlIGhhIHBvZGlkbyByZXByb2R1Y2lyIHRvZGF2P2EgbGEgbT9zaWNhLicsIGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBwcmltZXJvIHNlIGludGVudGEgcmVwcm9kdWNpciBuYWRhIG3DoXMgY2FyZ2FyXHJcbiAgICB0cnlQbGF5KCk7XHJcblxyXG4gICAgLy8gc2lubywgc2UgcmVpbnRlbnRhIHRyYXMgbGEgcHJpbWVyYSBpbnRlcmFjY2nDs24vY2xpY2tcclxuICAgIHNjZW5lLmlucHV0Lm9uY2UoJ3BvaW50ZXJkb3duJywgYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGN0eCA9IHNjZW5lLnNvdW5kLmNvbnRleHQ7XHJcbiAgICAgICAgaWYgKGN0eCAmJiBjdHguc3RhdGUgPT09ICdzdXNwZW5kZWQnKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBjdHgucmVzdW1lKCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggeyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeVBsYXkoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBtdXNpYztcclxufVxyXG4iLCJpbXBvcnQgeyBwbGF5Q2xpY2sgfSBmcm9tICcuL0F1ZGlvLmpzJztcclxuXHJcbi8vIENyZWEgdW4gYm90w7NuIGJhc2UgcGFyYSBsYSBVSVxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlVUlCdXR0b24oc2NlbmUsIHtcclxuICAgIHgsIHksXHJcbiAgICBsYWJlbCxcclxuICAgIG9uQ2xpY2ssXHJcbiAgICB0ZXh0dXJlTm9ybWFsID0gJ2JvdG9uU2luU2VsZWNjaW9uYXInLFxyXG4gICAgdGV4dHVyZUhvdmVyID0gJ2JvdG9uU2VsZWNjaW9uYWRvJyxcclxuICAgIHNjYWxlID0gMixcclxuICAgIHRleHRTdHlsZSA9IHt9LFxyXG4gICAgY2xpY2tTb3VuZEtleSA9ICdzb25pZG9DbGljaycsXHJcbn0pIHtcclxuICAgIGNvbnN0IGJ1dHRvbiA9IHNjZW5lLmFkZC5zcHJpdGUoeCwgeSwgdGV4dHVyZU5vcm1hbClcclxuICAgICAgICAuc2V0U2NhbGUoc2NhbGUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICBjb25zdCB0ZXh0ID0gc2NlbmUuYWRkLnRleHQoeCwgeSwgbGFiZWwsIHRleHRTdHlsZSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgLy8gZXZlbnRvcyBkZWwgYm90w7NuXHJcbiAgICBjb25zdCBzZXROb3JtYWwgPSAoKSA9PiBidXR0b24uc2V0VGV4dHVyZSh0ZXh0dXJlTm9ybWFsKTtcclxuICAgIGNvbnN0IHNldEhvdmVyID0gKCkgPT4gYnV0dG9uLnNldFRleHR1cmUodGV4dHVyZUhvdmVyKTtcclxuXHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJvdmVyJywgc2V0SG92ZXIpO1xyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVyb3V0Jywgc2V0Tm9ybWFsKTtcclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgc2V0SG92ZXIoKTtcclxuICAgICAgICBwbGF5Q2xpY2soc2NlbmUsIGNsaWNrU291bmRLZXkpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBzb2xvIHNlIGxhbnphIHNpIHNlIHN1ZWx0YSBlbmNpbWFcclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcnVwJywgKHBvaW50ZXIpID0+IHtcclxuICAgICAgICBjb25zdCBpbnNpZGUgPSBidXR0b24uZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnRlci54LCBwb2ludGVyLnkpO1xyXG4gICAgICAgIGlmICghaW5zaWRlKSB7IFxyXG4gICAgICAgICAgICBzZXROb3JtYWwoKTsgXHJcbiAgICAgICAgICAgIHJldHVybjsgXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzZXRIb3ZlcigpO1xyXG4gICAgICAgIG9uQ2xpY2s/LigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHsgYnV0dG9uLCB0ZXh0IH07XHJcbn1cclxuXHJcbi8vIENyZWEgdW4gYm90w7NuIGJhc2UgY29uIHVuIGljb25vIChjb21vIGVsIGRlIHZvbHZlciBhdHLDoXMpXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJY29uQnV0dG9uKHNjZW5lLCBvcHRpb25zKSB7XHJcbiAgICBjb25zdCB7XHJcbiAgICAgICAgeCwgeSxcclxuICAgICAgICB0ZXh0dXJlLFxyXG4gICAgICAgIG9uQ2xpY2ssXHJcbiAgICAgICAgc2NhbGUgPSAxLFxyXG4gICAgICAgIGhvdmVyU2NhbGUgPSAxLjEsXHJcbiAgICAgICAgY2xpY2tTb3VuZEtleSA9ICdzb25pZG9DbGljaycsXHJcbiAgICB9ID0gb3B0aW9ucztcclxuXHJcbiAgICBjb25zdCBidXR0b24gPSBzY2VuZS5hZGRcclxuICAgICAgICAuc3ByaXRlKHgsIHksIHRleHR1cmUpXHJcbiAgICAgICAgLnNldFNjYWxlKHNjYWxlKVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgLy8gZXZlbnRvcyBkZWwgYm90w7NuXHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gYnV0dG9uLnNldFNjYWxlKHNjYWxlICogaG92ZXJTY2FsZSkpO1xyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVyb3V0JywgKCkgPT4gYnV0dG9uLnNldFNjYWxlKHNjYWxlKSk7XHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgIHBsYXlDbGljayhzY2VuZSwgY2xpY2tTb3VuZEtleSk7XHJcbiAgICB9KTtcclxuICAgIC8vIHNvbG8gc2UgbGFuemEgc2kgc2Ugc3VlbHRhIGVuY2ltYVxyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVydXAnLCAocG9pbnRlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluc2lkZSA9IGJ1dHRvbi5nZXRCb3VuZHMoKS5jb250YWlucyhwb2ludGVyLngsIHBvaW50ZXIueSk7XHJcbiAgICAgICAgaWYgKCFpbnNpZGUpIHJldHVybjtcclxuICAgICAgICBvbkNsaWNrKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gYnV0dG9uO1xyXG59XHJcbiIsIi8vIFBhbnRhbGxhIGRlbCBNZW7DuiBQcmluY2lwYWxcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XG5pbXBvcnQgeyBlbnN1cmVMb29waW5nTXVzaWMgfSBmcm9tICcuLi9VSS9BdWRpby5qcyc7XG5cbmV4cG9ydCBjbGFzcyBNZW51X1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ01lbnVfU2NlbmUnKTtcbiAgICB9XG5cbiAgICBwcmVsb2FkKCkge1xuICAgICAgICAvLyBib3RvbmVzXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9HX1NFTEVDQ0lPTkFETy5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfRy5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb01lbnVQcmluY2lwYWwnLCAnQVNTRVRTL0ZPTkRPUy9NRU5VX1BSSU5DSVBBTC5wbmcnKTtcblxuICAgICAgICAvLyBsb2dvXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbG9nb0VtcHJlc2EnLCAnQVNTRVRTL0xPR08vbG9nb19lbXByZXNhLnBuZycpO1xuXG4gICAgICAgIC8vIGF1ZGlvXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvR2VuZXJhbCcsICdBU1NFVFMvU09OSURPL1NPTklETzEubXAzJyk7XG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIG3DunNpY2EgZGUgZm9uZG9cbiAgICAgICAgZW5zdXJlTG9vcGluZ011c2ljKHRoaXMsICdzb25pZG9HZW5lcmFsJywgeyBsb29wOiB0cnVlIH0pO1xuXG4gICAgICAgIC8vIGVzdGlsbyBiYXNlIGRlbCB0ZXh0b1xuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzPy5kZWZhdWx0VGV4dFN0eWxlID8/IHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgLy8gbGF5b3V0XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcbiAgICAgICAgY29uc3QgcmlnaHRIYWxmWCA9IGNlbnRlclggKyAoY2VudGVyWCAvIDIpO1xuXG4gICAgICAgIC8vIGZvbmRvIGFqdXN0YWRvIGFsIGNhbnZhc1xuICAgICAgICBjb25zdCBiYWNrZ3JvdW5kID0gdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvTWVudVByaW5jaXBhbCcpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpO1xuICAgICAgICBiYWNrZ3JvdW5kLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBcbiAgICAgICAgLy8gdMOtdHVsbyBkZWwganVlZ29cbiAgICAgICAgdGhpcy5hZGQudGV4dChyaWdodEhhbGZYLCAxMDAsICdWb2xsZXkgQ2xhc2gnLCB7XG4gICAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjhweCcsXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIC8vLy8gQk9UT05FUyAvLy8vXG4gICAgICAgIGNvbnN0IGZpcnN0QnV0dG9uWSA9IGhlaWdodCAvIDIgLSA2MDtcbiAgICAgICAgY29uc3QgYnV0dG9uU3BhY2luZyA9IDcwO1xuICAgICAgICBjb25zdCBidXR0b25UZXh0U3R5bGUgPSB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzI4cHgnLCBjb2xvcjogJyMwMDAwMDAnIH07XG5cbiAgICAgICAgLy8gYm90w7NuIEp1Z2FyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHJpZ2h0SGFsZlgsXG4gICAgICAgICAgICB5OiBmaXJzdEJ1dHRvblksXG4gICAgICAgICAgICBsYWJlbDogJ0p1Z2FyJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01vZGVHYW1lX1NjZW5lJyksXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGJvdMOzbiBUdXRvcmlhbFxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiByaWdodEhhbGZYLFxuICAgICAgICAgICAgeTogZmlyc3RCdXR0b25ZICsgYnV0dG9uU3BhY2luZyxcbiAgICAgICAgICAgIGxhYmVsOiAnVHV0b3JpYWwnLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnVHV0b3JpYWxfU2NlbmUnKSxcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYm90w7NuIENvbmZpZ3VyYWNpw7NuXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHJpZ2h0SGFsZlgsXG4gICAgICAgICAgICB5OiBmaXJzdEJ1dHRvblkgKyBidXR0b25TcGFjaW5nICogMixcbiAgICAgICAgICAgIGxhYmVsOiAnQ29uZmlndXJhY2nDs24nLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnQ29uZmlndXJhdGlvbl9TY2VuZScpLFxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBib3TDs24gQ3LDqWRpdG9zXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHJpZ2h0SGFsZlgsXG4gICAgICAgICAgICB5OiBmaXJzdEJ1dHRvblkgKyBidXR0b25TcGFjaW5nICogMyxcbiAgICAgICAgICAgIGxhYmVsOiAnQ3LDqWRpdG9zJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ0NyZWRpdHNfU2NlbmUnKSxcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYm90w7NuIGRlIGNlcnJhciBzZXNpw7NuXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHdpZHRoIC0gMTAwLFxuICAgICAgICAgICAgeTogNTAsXG4gICAgICAgICAgICBsYWJlbDogJ0NlcnJhciBTZXNpw7NuJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHsgdGhpcy5oYW5kbGVMb2dvdXQoKSB9LFxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8vLy8vLy8vXG5cbiAgICAgICAgLy8gbG9nbyBkZSBsYSBlbXByZXNhXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKHRoaXMuc2NhbGUud2lkdGggLSAyMCwgdGhpcy5zY2FsZS5oZWlnaHQgLSAyMCwgJ2xvZ29FbXByZXNhJylcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjUpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDEsIDEpO1xuICAgIH1cblxuICAgIGFzeW5jIGhhbmRsZUxvZ291dCgpIHtcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSB0aGlzLnJlZ2lzdHJ5LmdldCgndXNlcm5hbWUnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIEF2aXNhciBhbCBzZXJ2aWRvciBwYXJhIHF1ZSBkZWplIGxpYnJlIGVsIHB1ZXN0byBkZSBIb3N0XG4gICAgICAgIGF3YWl0IGZldGNoKCcvYXBpL2xvZ291dCcsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVzZXJuYW1lIH0pXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIExpbXBpYXIgbG9jYWxcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3ZvbGV5X3VzZXJuYW1lJyk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd2b2xleV9zZXNzaW9uX3Rva2VuJyk7XG4gICAgfVxufVxuIiwiLy8gQ2xhc2UgZGUgbGEgZW50aWRhZCBcInBlcnNvbmFqZVwiLCBzZSB0aWVuZSBlbiBjdWVudGEgcXVlIHNvbiAzIHBlcnNvbmFqZXMgZGlzdGludG9zXHJcblxyXG5jb25zdCBQT1dFUlVQX0RVUkFUSU9OX01TID0ge1xyXG4gIHZlbG9jaWRhZDogNDAwMCxcclxuICByYWxlbnRpemFyOiAzNTAwLFxyXG4gIHBhcmFsaXphcjogMjAwMCxcclxuICBwb3IyOiA0MDAwLFxyXG4gIHBvcjM6IDM1MDAsXHJcbn07XHJcblxyXG5jb25zdCBTUEVFRF9NVUxUID0ge1xyXG4gIHZlbG9jaWRhZDogMS41LFxyXG4gIHJhbGVudGl6YXI6IDAuNSxcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBQbGF5ZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCBpZCwgeCwgeSwgY2hhcmFjdGVyVHlwZSkge1xyXG4gICAgICAgIC8vIElOSUNJQUxJWkFDScOTTlxyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLmlkID0gaWQ7ICAgICAgICAgICAgICAgICAgICAgICAvLyBpZGVudGlmaWNhZG9yIGRlbCBqdWdhZG9yIChQMSwgUDIpXHJcbiAgICAgICAgdGhpcy5jaGFyYWN0ZXJUeXBlID0gY2hhcmFjdGVyVHlwZTsgLy8gaW5kaWNhIHF1w6kgcGVyc29uYWplIHNlIGhhIGVsZWdpZG9cclxuXHJcbiAgICAgICAgLy8gdmVsb2NpZGFkIGRlIG1vdmltaWVudG9cclxuICAgICAgICB0aGlzLmJhc2VNb3ZlU3BlZWQgPSAyNTA7XHJcbiAgICAgICAgdGhpcy5tb3ZlU3BlZWQgPSB0aGlzLmJhc2VNb3ZlU3BlZWQ7XHJcblxyXG4gICAgICAgIHRoaXMuanVtcFNwZWVkID0gMjc1OyAgIC8vIGZ1ZXJ6YSBkZSBzYWx0b1xyXG5cclxuICAgICAgICB0aGlzLmFjdGl2ZVBvd2VyVXBzID0ge307ICAgLy8gcG93ZXJ1cHMgYWN0aXZvc1xyXG5cclxuICAgICAgICAvLyBlc3RhZG9zIGRlIHBvd2VyLXVwc1xyXG4gICAgICAgIHRoaXMuaXNQYXJhbHl6ZWQgPSBmYWxzZTsgICAgICAgLy8gcGFyYSBlbCBwb3dlciB1cCBcInBhcmFsaXphclwiXHJcbiAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2VlbiA9IG51bGw7ICAgICAvLyBhbCBxdWVkYXJzZSBwYXJhbGl6YWRvIC0+IHJvam9cclxuICAgICAgICB0aGlzLnNwZWVkRWZmZWN0QWN0aXZlID0gZmFsc2U7IC8vIHZlbG9jaWRhZCAtPiBjaWFuL3ZlcmRlXHJcbiAgICAgICAgdGhpcy5zbG93RWZmZWN0QWN0aXZlID0gZmFsc2U7ICAvLyByYWxlbnRpemFkbyAtPiBhenVsXHJcblxyXG4gICAgICAgIHRoaXMuc2NvcmVNdWx0aXBsaWVyID0gMTsgICAgICAgLy8gcGFyYSBwb3IyIC8gcG9yM1xyXG4gICAgICAgIC8vIHRleHRvIGZsb3RhbnRlIHBhcmEgbW9zdHJhciB4MiAvIHgzXHJcbiAgICAgICAgdGhpcy5tdWx0aXBsaWVyVGV4dCA9IHRoaXMuc2NlbmUuYWRkLnRleHQoeCwgeSAtIDUwLCAnJywge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiA0XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUsIDEpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgyMClcclxuICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucG93ZXJVcEludmVudG9yeSA9IFtdOyAvLyBtw6F4aW1vIDJcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gZmFsc2U7ICAgLy8gZXN0YWRvIGRlIHJlY2VwY2nDs25cclxuXHJcbiAgICAgICAgLy8gbMOtbWl0ZXMgZGUgbW92aW1pZW50byBwZXJzb25hbGl6YWRvc1xyXG4gICAgICAgIHRoaXMuYm91bmRzTGVmdCA9IDA7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNSaWdodCA9IDk2MDtcclxuICAgICAgICB0aGlzLmJvdW5kc1RvcCA9IDA7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNCb3R0b20gPSA1NDA7XHJcblxyXG4gICAgICAgIC8vIGNvbmZpZ3VyYWNpw7NuIGRlIGxvcyBzcHJpdGVzIHkgbGFzIGFuaW1hY2lvbmVzIHNlZ8O6biBlbCBwZXJzb25hamUgZWxlZ2lkb1xyXG4gICAgICAgIGNvbnN0IENIQVJBQ1RFUl9DT05GSUcgPSB7XHJcbiAgICAgICAgICAgIC8vIGVxdWlsaWJyYWRvIHkgc2ltcMOhdGljb1xyXG4gICAgICAgICAgICBjaGFyYWN0ZXJBOiB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0dXJlS2V5OiAnY2hhckFfbW92ZScsXHJcbiAgICAgICAgICAgICAgICBzdGFydEZyYW1lOiAwLFxyXG4gICAgICAgICAgICAgICAgaWRsZUxlZnRBbmltOiAnY2hhckFfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICAgICAgaWRsZVJpZ2h0QW5pbTogJ2NoYXJBX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgICAgICBydW5MZWZ0QW5pbTogJ2NoYXJBX3J1bkxlZnQnLFxyXG4gICAgICAgICAgICAgICAgcnVuUmlnaHRBbmltOiAnY2hhckFfcnVuUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAganVtcExlZnRBbmltOiAnY2hhckFfanVtcExlZnQnLFxyXG4gICAgICAgICAgICAgICAganVtcFJpZ2h0QW5pbTogJ2NoYXJBX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlTGVmdEFuaW06ICdjaGFyQV9yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlUmlnaHRBbmltOiAnY2hhckFfcmVjZWl2ZVJpZ2h0J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyByw6FwaWRvIHkgY29tcGV0aXRpdm9cclxuICAgICAgICAgICAgY2hhcmFjdGVyQjoge1xyXG4gICAgICAgICAgICAgICAgdGV4dHVyZUtleTogJ2NoYXJCX21vdmUnLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRGcmFtZTogMCxcclxuICAgICAgICAgICAgICAgIGlkbGVMZWZ0QW5pbTogJ2NoYXJCX2lkbGVMZWZ0JyxcclxuICAgICAgICAgICAgICAgIGlkbGVSaWdodEFuaW06ICdjaGFyQl9pZGxlUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgcnVuTGVmdEFuaW06ICdjaGFyQl9ydW5MZWZ0JyxcclxuICAgICAgICAgICAgICAgIHJ1blJpZ2h0QW5pbTogJ2NoYXJCX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIGp1bXBMZWZ0QW5pbTogJ2NoYXJCX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgICAgIGp1bXBSaWdodEFuaW06ICdjaGFyQl9qdW1wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZUxlZnRBbmltOiAnY2hhckJfcmVjZWl2ZUxlZnQnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZVJpZ2h0QW5pbTogJ2NoYXJCX3JlY2VpdmVSaWdodCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gZGl2ZXJ0aWRvIHkgYWxnbyBkaXN0cmHDrWRvXHJcbiAgICAgICAgICAgIGNoYXJhY3RlckM6IHtcclxuICAgICAgICAgICAgICAgIHRleHR1cmVLZXk6ICdjaGFyQ19tb3ZlJyxcclxuICAgICAgICAgICAgICAgIHN0YXJ0RnJhbWU6IDAsXHJcbiAgICAgICAgICAgICAgICBpZGxlTGVmdEFuaW06ICdjaGFyQ19pZGxlTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBpZGxlUmlnaHRBbmltOiAnY2hhckNfaWRsZVJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHJ1bkxlZnRBbmltOiAnY2hhckNfcnVuTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBydW5SaWdodEFuaW06ICdjaGFyQ19ydW5SaWdodCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wTGVmdEFuaW06ICdjaGFyQ19qdW1wTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wUmlnaHRBbmltOiAnY2hhckNfanVtcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVMZWZ0QW5pbTogJ2NoYXJDX3JlY2VpdmVMZWZ0JyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVSaWdodEFuaW06ICdjaGFyQ19yZWNlaXZlUmlnaHQnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzaSB2aWVuZSB1biB0aXBvIGRlIHBlcnNvbmFqZSBpbnbDoWxpZG8sIHNlIHVzYSBjaGFyYWN0ZXJBIHBvciBkZWZlY3RvXHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBDSEFSQUNURVJfQ09ORklHW2NoYXJhY3RlclR5cGVdIHx8IENIQVJBQ1RFUl9DT05GSUcuY2hhcmFjdGVyQTtcclxuXHJcbiAgICAgICAgLy8gc2UgY3JlYSBlbCBzcHJpdGUgZsOtc2ljbyBkZWwganVnYWRvclxyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5zY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoXHJcbiAgICAgICAgICAgIHgsXHJcbiAgICAgICAgICAgIHksXHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLnRleHR1cmVLZXksXHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLnN0YXJ0RnJhbWVcclxuICAgICAgICApO1xyXG4gICAgICAgIC8vIHNlIGhhY2UgdW4gcG9jbyBtw6FzIGdyYW5kZVxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKDIuNSk7XHJcbiAgICAgICAgLy8gc2UgYWp1c3RhIGxhIGhpdGJveCBhbCBudWV2byB0YW1hw7FvIHBhcmEgbGFzIGNvbGlzaW9uZXMsIHNlIHJlZHVjZW5cclxuICAgICAgICAvL3RoaXMuc3ByaXRlLmJvZHkuc2V0U2l6ZSh0aGlzLnNwcml0ZS53aWR0aCwgdGhpcy5zcHJpdGUuaGVpZ2h0LCB0cnVlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5ib2R5LnNldFNpemUodGhpcy5zcHJpdGUud2lkdGggKiAwLjksIHRoaXMuc3ByaXRlLmhlaWdodCAqIDAuOSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vIHNlIGd1YXJkYSB1bmEgcmVmZXJlbmNpYSBoYWNpYSBQbGF5ZXIgZGVudHJvIGRlbCBwcm9waW8gc3ByaXRlXHJcbiAgICAgICAgLy8gKGVzIMO6dGlsIHNpIGVuIGNvbGlzaW9uZXMgc2UgcXVpZXJlIGFjY2VkZXIgYSBsYSBsw7NnaWNhKVxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERhdGEoJ3BsYXllcicsIHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBwYXJhIGNvbnRyb2xhciBkaXJlY2Npw7NuIGFjdHVhbFxyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gJ3JpZ2h0JztcclxuXHJcbiAgICAgICAgLy8gZXN0YWRvIHNpbXBsZTogZW4gZWwgYWlyZSBvIG5vXHJcbiAgICAgICAgdGhpcy5pc09uR3JvdW5kID0gZmFsc2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gZmxhZyBwYXJhIHNhYmVyIHNpIGVzdMOhIGVuIGFuaW1hY2nDs24gZGUgc2FsdG9cclxuICAgICAgICB0aGlzLmlzSnVtcGluZyA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHRpbWVzdGFtcCBwYXJhIGRldGVjdGFyIHNpIGlzSnVtcGluZyBzZSBxdWVkYSBzdHVjayAodGltZW91dCBkZSAxIHNlZ3VuZG8pXHJcbiAgICAgICAgdGhpcy5qdW1wU3RhcnRUaW1lID0gMDtcclxuXHJcbiAgICAgICAgLy8gY3VhbmRvIHNlIHRlcm1pbmUgbGEgYW5pbWFjacOzbiBkZSByZWNpYmlyLCBzZSBkZWphIGRlIFwiZXN0YXIgcmVjaWJpZW5kb1wiXHJcbiAgICAgICAgdGhpcy5zcHJpdGUub24oJ2FuaW1hdGlvbmNvbXBsZXRlJywgKGFuaW0pID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICBhbmltLmtleSA9PT0gdGhpcy5jb25maWcucmVjZWl2ZUxlZnRBbmltIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbS5rZXkgPT09IHRoaXMuY29uZmlnLnJlY2VpdmVSaWdodEFuaW1cclxuICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNSZWNlaXZpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBlbCBzYWx0byB0ZXJtaW5hIHNlZ8O6biBsYSBmw61zaWNhICsgdXBkYXRlKCksIG5vIHBvciBsYSBhbmltYWNpw7NuLlxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQW5pbWF0aW9uIGNvbXBsZXRlIGhhbmRsZXIgZXJyb3IgZm9yICR7YW5pbS5rZXl9OmAsIGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyBIZWxwZXIgcGFyYSB2ZXJpZmljYXIgc2kgZXN0w6EgZW4gZWwgc3VlbG8gZGUgZm9ybWEgZmlhYmxlXHJcbiAgICBpc0dyb3VuZGVkKCkge1xyXG4gICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzLnNwcml0ZS5ib2R5O1xyXG4gICAgICAgIGlmICghYm9keSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBibG9ja2VkLmRvd24g4oaSIGNvbGlzaW9uZXMgY29uIGzDrW1pdGVzIGRlbCBtdW5kb1xyXG4gICAgICAgIC8vIHRvdWNoaW5nLmRvd24g4oaSIGNvbGlzaW9uZXMgY29uIG90cm9zIGN1ZXJwb3NcclxuICAgICAgICByZXR1cm4gYm9keS5ibG9ja2VkLmRvd24gfHwgYm9keS50b3VjaGluZy5kb3duO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbXBydWViYSBzaSBsb3MgcGllcyBkZWwganVnYWRvciBlc3TDoW4gY2VyY2EgZGVsIHN1ZWxvXHJcbiAgICBpc05lYXJHcm91bmQodGhyZXNob2xkID0gMTIpIHtcclxuICAgICAgICBjb25zdCBib2R5ID0gdGhpcy5zcHJpdGUuYm9keTtcclxuICAgICAgICBpZiAoIWJvZHkpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2NlbmUuZ3JvdW5kWSAhPT0gJ251bWJlcicpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gcGFydGUgaW5mZXJpb3IgZGVsIGJvZHkgKG5vIGRlbCBzcHJpdGUgZXNjYWxhZG8pXHJcbiAgICAgICAgY29uc3QgZmVldFkgPSBib2R5LnkgKyBib2R5LmhlaWdodDtcclxuICAgICAgICByZXR1cm4gTWF0aC5hYnMoZmVldFkgLSB0aGlzLnNjZW5lLmdyb3VuZFkpIDw9IHRocmVzaG9sZDtcclxuICAgIH1cclxuXHJcbiAgICAvLy8vIEFOSU1BQ0lPTkVTIC8vLy9cclxuICAgIC8vIE1vdmltaWVudG8gZGVsIHBlcnNvbmFqZSBoYWNpYSBsYSBpenF1aWVyZGFcclxuICAgIG1vdmVMZWZ0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkIHx8IHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKC10aGlzLm1vdmVTcGVlZCk7XHJcbiAgICAgICAgdGhpcy5mYWNpbmcgPSAnbGVmdCc7XHJcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLnJ1bkxlZnRBbmltKTtcclxuICAgIH1cclxuICAgIC8vIE1vdmltaWVudG8gZGVsIHBlcnNvbmFqZSBoYWNpYSBsYSBkZXJlY2hhXHJcbiAgICBtb3ZlUmlnaHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQgfHwgdGhpcy5pc1JlY2VpdmluZykgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgodGhpcy5tb3ZlU3BlZWQpO1xyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gJ3JpZ2h0JztcclxuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcucnVuUmlnaHRBbmltKTtcclxuICAgIH0gICAgXHJcblxyXG4gICAgLy8gU2FsdG8vcmVtYXRlIGRlbCBwZXJzb25hamUgaGFjaWEgbGEgaXpxdWllcmRhXHJcbiAgICBqdW1wTGVmdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc0dyb3VuZGVkKCkgfHwgdGhpcy5pc05lYXJHcm91bmQoMjApKSB7XHJcbiAgICAgICAgICAgIC8vIHBvciBzaSB1bmEgcmVjZXBjacOzbiBzZSBxdWVkw7MgYSBtZWRpYXMsIHNlIGNhbmNlbGFcclxuICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmp1bXBTdGFydFRpbWUgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVkoLXRoaXMuanVtcFNwZWVkKTtcclxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSAnbGVmdCc7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5qdW1wTGVmdEFuaW0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lPy5wbGF5U2Z4Py4odGhpcy5zY2VuZT8uc2Z4Py5qdW1wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBTYWx0by9yZW1hdGUgZGVsIHBlcnNvbmFqZSBoYWNpYSBsYSBkZXJlY2hhXHJcbiAgICBqdW1wUmlnaHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNHcm91bmRlZCgpIHx8IHRoaXMuaXNOZWFyR3JvdW5kKDIwKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuanVtcFN0YXJ0VGltZSA9IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WSgtdGhpcy5qdW1wU3BlZWQpO1xyXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5qdW1wUmlnaHRBbmltKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZT8ucGxheVNmeD8uKHRoaXMuc2NlbmU/LnNmeD8uanVtcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlY2VwY2nDs24gZGVsIHBlcnNvbmFqZSBwb3IgbGEgaXpxdWllcmRhXHJcbiAgICByZWNlaXZlTGVmdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCkgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLmlzUmVjZWl2aW5nKSByZXR1cm47IC8vIG5vIHNlIHJlaW5pY2lhIHNpIHlhIGVzdMOhIHJlY2liaWVuZG8gXHJcblxyXG4gICAgICAgIC8vIHNpIGVzdMOhIHRvY2FuZG8gZWwgc3VlbG8sIHJlY2liZSBsYSBwZWxvdGFcclxuICAgICAgICBpZiAodGhpcy5pc0dyb3VuZGVkKCkgfHwgdGhpcy5pc05lYXJHcm91bmQoMjApKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNSZWNlaXZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcucmVjZWl2ZUxlZnRBbmltKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBSZWNlcGNpw7NuIGRlbCBwZXJzb25hamUgcG9yIGxhIGRlcmVjaGFcclxuICAgIHJlY2VpdmVSaWdodCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCkgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLmlzUmVjZWl2aW5nKSByZXR1cm47IC8vIG5vIHNlIHJlaW5pY2lhIHNpIHlhIGVzdMOhIHJlY2liaWVuZG8gXHJcblxyXG4gICAgICAgIC8vIHNpIGVzdMOhIHRvY2FuZG8gZWwgc3VlbG8sIHJlY2liZSBsYSBwZWxvdGFcclxuICAgICAgICBpZiAodGhpcy5pc0dyb3VuZGVkKCkgfHwgdGhpcy5pc05lYXJHcm91bmQoMjApKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNSZWNlaXZpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gJ3JpZ2h0JztcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLnJlY2VpdmVSaWdodEFuaW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBQZXJzb25hamUgaWRsZSBpemRhXHJcbiAgICBpZGxlTGVmdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1JlY2VpdmluZykgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBzaWVtcHJlIGRldGVuZXIgbGEgdmVsb2NpZGFkIGhvcml6b250YWwgYWwgZW50cmFyIGVuIGlkbGVcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgdGhpcy5mYWNpbmcgPSAnbGVmdCc7XHJcbiAgICAgICAgLy8gcmVwcm9kdWNpciBsYSBhbmltYWNpw7NuIGRlIGlkbGVcclxuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcuaWRsZUxlZnRBbmltKTtcclxuICAgIH1cclxuICAgIC8vIFBlcnNvbmFqZSBpZGxlIGRjaGFcclxuICAgIGlkbGVSaWdodCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1JlY2VpdmluZykgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBzaWVtcHJlIGRldGVuZXIgbGEgdmVsb2NpZGFkIGhvcml6b250YWwgYWwgZW50cmFyIGVuIGlkbGVcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgdGhpcy5mYWNpbmcgPSAncmlnaHQnO1xyXG4gICAgICAgIC8vIHJlcHJvZHVjaXIgbGEgYW5pbWFjacOzbiBkZSBpZGxlXHJcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLmlkbGVSaWdodEFuaW0pO1xyXG4gICAgfVxyXG4gICAgLy8vLy8vLy9cclxuXHJcbiAgICAvLyBFc3RhYmxlY2VyIGxvcyBsw61taXRlcyBkZSBtb3ZpbWllbnRvIGRlbCBqdWdhZG9yIChwYXJhIGNvbmZpbmFyIGEgbGEgY2FuY2hhKVxyXG4gICAgc2V0Qm91bmRzKGxlZnQsIHJpZ2h0LCB0b3AsIGJvdHRvbSkge1xyXG4gICAgICAgIHRoaXMuYm91bmRzTGVmdCA9IGxlZnQ7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNSaWdodCA9IHJpZ2h0O1xyXG4gICAgICAgIHRoaXMuYm91bmRzVG9wID0gdG9wO1xyXG4gICAgICAgIHRoaXMuYm91bmRzQm90dG9tID0gYm90dG9tO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1hbnRlbmVyIGVsIGp1Z2Fkb3IgZGVudHJvIGRlIGxvcyBsw61taXRlc1xyXG4gICAgY2xhbXBXaXRoaW5Cb3VuZHMoKSB7XHJcbiAgICAgICAgY29uc3QgaGFsZldpZHRoID0gdGhpcy5zcHJpdGUud2lkdGggLyAyO1xyXG4gICAgICAgIC8vIGxpbWl0YXIgcG9zaWNpw7NuIGhvcml6b250YWwgKFgpXHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLnggLSBoYWxmV2lkdGggPCB0aGlzLmJvdW5kc0xlZnQpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUueCA9IHRoaXMuYm91bmRzTGVmdCArIGhhbGZXaWR0aDtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zcHJpdGUueCArIGhhbGZXaWR0aCA+IHRoaXMuYm91bmRzUmlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUueCA9IHRoaXMuYm91bmRzUmlnaHQgLSBoYWxmV2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTW92ZXIgZWwganVnYWRvciBhIHVuYSBwb3NpY2nDs24gY29uY3JldGEgKHkgZGV0ZW5lcmxvKVxyXG4gICAgLy8gKHNlIGxsYW1hIGFsIGNhbWJpYXIgZGUgc2V0cylcclxuICAgIHNldFBvc2l0aW9uKHgsIHkpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc3ByaXRlKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFBvc2l0aW9uKHgsIHkpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5KDAsIDApOyAvLyBwb3Igc2kgdmVuw61hIGNvbiB2ZWxvY2lkYWRcclxuXHJcbiAgICAgICAgLy8gYWN0dWFsaXphciB0YW1iacOpbiBsYSBwb3NpY2nDs24gZGVsIHRleHRvIHgyL3gzXHJcbiAgICAgICAgdGhpcy51cGRhdGVNdWx0aXBsaWVyVGV4dFBvc2l0aW9uKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHVwZGF0ZU11bHRpcGxpZXJUZXh0UG9zaXRpb24oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLm11bHRpcGxpZXJUZXh0IHx8ICF0aGlzLnNwcml0ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBhbHR1cmEg4oCcdmlzdWFs4oCdIGRlbCBzcHJpdGUgcGFyYSBjb2xvY2FyIGVsIHRleHRvIGVuY2ltYSBkZSBsYSBjYWJlemFcclxuICAgICAgICBjb25zdCBkaXNwbGF5SCA9IHRoaXMuc3ByaXRlLmRpc3BsYXlIZWlnaHQgfHwgdGhpcy5zcHJpdGUuaGVpZ2h0IHx8IDQwO1xyXG4gICAgICAgIGNvbnN0IG9mZnNldFkgPSBkaXNwbGF5SCAqIDAuNjsgLy8gYWp1c3RhIHNpIHF1aWVyZXMgbcOhcyBhcnJpYmEvYWJham9cclxuXHJcbiAgICAgICAgdGhpcy5tdWx0aXBsaWVyVGV4dC5zZXRQb3NpdGlvbihcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUueCxcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUueSAtIG9mZnNldFlcclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlcHJvZHVjZSB1bmEgYW5pbWFjacOzbiBzaSBleGlzdGUgKHNvbG8gc2kgbm8gZXN0w6EgeWEgcmVwcm9kdWNpw6luZG9zZSlcclxuICAgIHBsYXlBbmltYXRpb24oYW5pbUtleSkge1xyXG4gICAgICAgIGlmICghYW5pbUtleSkgcmV0dXJuO1xyXG4gICAgICAgIGlmICghdGhpcy5zcHJpdGUuYW5pbXMpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gc2kgZXN0YW1vcyBlbiBzYWx0bywgaWdub3JhciBjdWFscXVpZXIgYW5pbWFjacOzbiBxdWUgbm8gc2VhIGRlIHNhbHRvXHJcbiAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICB0aGlzLmlzSnVtcGluZyAmJlxyXG4gICAgICAgICAgICBhbmltS2V5ICE9PSB0aGlzLmNvbmZpZy5qdW1wTGVmdEFuaW0gJiZcclxuICAgICAgICAgICAgYW5pbUtleSAhPT0gdGhpcy5jb25maWcuanVtcFJpZ2h0QW5pbVxyXG4gICAgICAgICkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBjdXJyZW50QW5pbSA9IHRoaXMuc3ByaXRlLmFuaW1zLmN1cnJlbnRBbmltO1xyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS5hbmltcy5pc1BsYXlpbmcgJiYgY3VycmVudEFuaW0gJiYgY3VycmVudEFuaW0ua2V5ID09PSBhbmltS2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLmFuaW1zLnBsYXkoYW5pbUtleSwgdHJ1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWN0dWFsaXphciBmbGFncyBjb21vIGlzT25Hcm91bmQgKHNlIGxsYW1hIGEgZXN0byBkZXNkZSBsYSBlc2NlbmEsIGVuIGNhZGEgZnJhbWUpXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLmJvZHkpIHtcclxuICAgICAgICAgICAgY29uc3Qgd2FzT25Hcm91bmQgPSB0aGlzLmlzT25Hcm91bmQ7XHJcbiAgICAgICAgICAgIHRoaXMuaXNPbkdyb3VuZCA9IHRoaXMuaXNHcm91bmRlZCgpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY3VycmVudEFuaW0gPSB0aGlzLnNwcml0ZS5hbmltcy5jdXJyZW50QW5pbTtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudEtleSA9IGN1cnJlbnRBbmltID8gY3VycmVudEFuaW0ua2V5IDogbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7IC8vIHBvciBzaSBhY2Fzb1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBmYWlsc2FmZSByZWNlcGNpw7NuOiBzaSBlbCBmbGFnIGRpY2UgXCJyZWNpYmllbmRvXCIgcGVybyBsYSBhbmltYWNpw7NuIG5vIGxvIGVzXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNSZWNlaXZpbmcgJiZcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRLZXkgIT09IHRoaXMuY29uZmlnLnJlY2VpdmVMZWZ0QW5pbSAmJlxyXG4gICAgICAgICAgICAgICAgY3VycmVudEtleSAhPT0gdGhpcy5jb25maWcucmVjZWl2ZVJpZ2h0QW5pbVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNSZWNlaXZpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gZmFpbHNhZmUgc2FsdG86IHNpIGlzSnVtcGluZyBlcyB0cnVlIHBlcm8gbGEgYW5pbWFjacOzbiBhY3R1YWwgTk8gZXMgZGUgc2FsdG9cclxuICAgICAgICAgICAgLy8gKHkgaGF5IGFuaW1hY2nDs24pLCBzZSBhc3VtZSBxdWUgdGVybWluw7NcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgJiZcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRLZXkgJiZcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRLZXkgIT09IHRoaXMuY29uZmlnLmp1bXBMZWZ0QW5pbSAmJlxyXG4gICAgICAgICAgICAgICAgY3VycmVudEtleSAhPT0gdGhpcy5jb25maWcuanVtcFJpZ2h0QW5pbVxyXG4gICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHRpbWVvdXQgZGUgc2FsdG8gcG9yIHNlZ3VyaWRhZFxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0p1bXBpbmcgJiYgKHRoaXMuc2NlbmUudGltZS5ub3cgLSB0aGlzLmp1bXBTdGFydFRpbWUgPiAxNTAwKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gYXRlcnJpemFqZSByZWFsXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzSnVtcGluZyAmJiAhd2FzT25Hcm91bmQgJiYgdGhpcy5pc09uR3JvdW5kKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZmFjaW5nID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkbGVMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWRsZVJpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jbGFtcFdpdGhpbkJvdW5kcygpO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZU11bHRpcGxpZXJUZXh0UG9zaXRpb24oKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBVc28gZGUgbG9zIHBvd2VyLXVwc1xyXG4gICAgYXBwbHlQb3dlclVwKHR5cGUpIHtcclxuICAgICAgICAvLyBpbnZlbnRhcmlvIG3DoXhpbW8gZGUgMlxyXG4gICAgICAgIGlmICh0aGlzLnBvd2VyVXBJbnZlbnRvcnkubGVuZ3RoID49IDIpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgdGhpcy5wb3dlclVwSW52ZW50b3J5LnB1c2godHlwZSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgdXNlTmV4dFBvd2VyVXAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucG93ZXJVcEludmVudG9yeS5sZW5ndGggPT09IDApIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMucG93ZXJVcEludmVudG9yeS5zaGlmdCgpO1xyXG4gICAgICAgIHRoaXMuYWN0aXZhdGVQb3dlclVwKHR5cGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdGl2YSBlbCBlZmVjdG8gZGVsIHBvd2VyLXVwXHJcbiAgICBhY3RpdmF0ZVBvd2VyVXAodHlwZSkge1xyXG4gICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICBjYXNlICd2ZWxvY2lkYWQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseU9yUmVmcmVzaFRpbWVkRWZmZWN0KCd2ZWxvY2lkYWQnLCBQT1dFUlVQX0RVUkFUSU9OX01TLnZlbG9jaWRhZCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncmFsZW50aXphcic6IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9wcG9uZW50ID0gdGhpcy5nZXRPcHBvbmVudCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3Bwb25lbnQuYXBwbHlPclJlZnJlc2hUaW1lZEVmZmVjdCgncmFsZW50aXphcicsIFBPV0VSVVBfRFVSQVRJT05fTVMucmFsZW50aXphcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlICdwYXJhbGl6YXInOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcHBvbmVudCA9IHRoaXMuZ2V0T3Bwb25lbnQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChvcHBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wcG9uZW50LmFwcGx5T3JSZWZyZXNoVGltZWRFZmZlY3QoJ3BhcmFsaXphcicsIFBPV0VSVVBfRFVSQVRJT05fTVMucGFyYWxpemFyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgJ3BvcjInOlxyXG4gICAgICAgICAgICBjYXNlICdwb3IzJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlPclJlZnJlc2hUaW1lZEVmZmVjdCh0eXBlLCBQT1dFUlVQX0RVUkFUSU9OX01TW3R5cGVdKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3R1YWxpemEgbG9zIHBvd2VyLXVwc1xyXG4gICAgdXBkYXRlUG93ZXJVcHMoKSB7XHJcbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5zY2VuZS50aW1lLm5vdztcclxuXHJcbiAgICAgICAgbGV0IHNwZWVkTmVlZHNSZWNhbGMgPSBmYWxzZTtcclxuICAgICAgICBsZXQgc2NvcmVOZWVkc1JlY2FsYyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBzZSByZXZpc2FuIHRvZG9zIGxvcyBwb3dlci11cHMgYWN0aXZvc1xyXG4gICAgICAgIGZvciAoY29uc3QgdHlwZSBpbiB0aGlzLmFjdGl2ZVBvd2VyVXBzKSB7XHJcbiAgICAgICAgICAgIGlmIChub3cgPD0gdGhpcy5hY3RpdmVQb3dlclVwc1t0eXBlXSkgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5hY3RpdmVQb3dlclVwc1t0eXBlXTtcclxuXHJcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAndmVsb2NpZGFkJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNwZWVkRWZmZWN0KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBzcGVlZE5lZWRzUmVjYWxjID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3JhbGVudGl6YXInOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U2xvd0VmZmVjdChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BlZWROZWVkc1JlY2FsYyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdwYXJhbGl6YXInOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0UGFyYWx5emVkKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3BvcjInOlxyXG4gICAgICAgICAgICAgICAgY2FzZSAncG9yMyc6XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcmVOZWVkc1JlY2FsYyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzcGVlZE5lZWRzUmVjYWxjKSB0aGlzLnJlY2FsY3VsYXRlTW92ZVNwZWVkKCk7XHJcbiAgICAgICAgaWYgKHNjb3JlTmVlZHNSZWNhbGMpIHRoaXMucmVjYWxjdWxhdGVTY29yZUVmZmVjdCgpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLy8vIEVGRUNUT1MgVklTVUFMRVMgREUgTE9TIFBPV0VSLVVQUyAvLy8vXHJcbiAgICBzZXRQYXJhbHl6ZWQoaXNQYXJhbHl6ZWQpIHtcclxuICAgICAgICB0aGlzLmlzUGFyYWx5emVkID0gaXNQYXJhbHl6ZWQ7XHJcblxyXG4gICAgICAgIGlmIChpc1BhcmFseXplZCkge1xyXG4gICAgICAgICAgICAvLyBmZWVkYmFjayB2aXN1YWw6IHJvam8gKyBwYXJwYWRlb1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4ZmY1NTU1KTsgICAvLyByb2ppem9cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICAvLyBwb3Igc2kgeWEgaGFiw61hIHVuIHR3ZWVuIGFudGVyaW9yXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmFseXNpc1R3ZWVuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFseXNpc1R3ZWVuLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyYWx5c2lzVHdlZW4gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnBhcmFseXNpc1R3ZWVuID0gdGhpcy5zY2VuZS50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgYWxwaGE6IDAuMyxcclxuICAgICAgICAgICAgICAgIHlveW86IHRydWUsXHJcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjAwLFxyXG4gICAgICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vIHNlZ3VyaWRhZCBleHRyYTogcXVlIHNlIHF1ZWRlIHF1aWV0byBob3Jpem9udGFsbWVudGVcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBxdWl0YXIgc29sbyBlbCBlZmVjdG8gZGUgcGFycGFkZW8sIGVsIGNvbG9yIHNlIHJlY2FsY3VsYVxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBhcmFseXNpc1R3ZWVuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFseXNpc1R3ZWVuLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyYWx5c2lzVHdlZW4gPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBWb2x2ZW1vcyBhIGFwbGljYXIgZWwgY29sb3IgZGUgb3Ryb3MgcG93ZXItdXBzIGFjdGl2b3MgKHNpIGxvcyBoYXkpXHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaFBvd2VyVXBWaXN1YWxzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSAgICBcclxuXHJcbiAgICAvLyB2ZWxvY2lkYWQgLT4gY2lhbi92ZXJkZVxyXG4gICAgc2V0U3BlZWRFZmZlY3QoYWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5zcGVlZEVmZmVjdEFjdGl2ZSA9IGFjdGl2ZTtcclxuICAgICAgICB0aGlzLnJlZnJlc2hQb3dlclVwVmlzdWFscygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHJhbGVudGl6YXIgLT4gYXp1bFxyXG4gICAgc2V0U2xvd0VmZmVjdChhY3RpdmUpIHtcclxuICAgICAgICB0aGlzLnNsb3dFZmZlY3RBY3RpdmUgPSBhY3RpdmU7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoUG93ZXJVcFZpc3VhbHMoKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gUmVjYWxjdWxhIGxhIHZlbG9jaWRhZCBkZSBtb3ZpbWllbnRvIHNlZ8O6biBsb3MgcG93ZXItdXBzIHF1ZSBlc3TDqW4gYWN0aXZvc1xyXG4gICAgcmVjYWxjdWxhdGVNb3ZlU3BlZWQoKSB7XHJcbiAgICAgICAgbGV0IG11bHQgPSAxO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5hY3RpdmVQb3dlclVwcy52ZWxvY2lkYWQpIG11bHQgKj0gU1BFRURfTVVMVC52ZWxvY2lkYWQ7XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlUG93ZXJVcHMucmFsZW50aXphcikgbXVsdCAqPSBTUEVFRF9NVUxULnJhbGVudGl6YXI7XHJcblxyXG4gICAgICAgIHRoaXMubW92ZVNwZWVkID0gdGhpcy5iYXNlTW92ZVNwZWVkICogbXVsdDtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWNhbGN1bGEgZWwgbXVsdGlwbGljYWRvciBkZSBwdW50dWFjacOzbiBlbiBmdW5jacOzbiBkZSBwb3IyL3BvcjMgYWN0aXZvc1xyXG4gICAgcmVjYWxjdWxhdGVTY29yZUVmZmVjdCgpIHtcclxuICAgICAgICBsZXQgbXVsdGlwbGllciA9IDE7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVBvd2VyVXBzWydwb3IyJ10pIHtcclxuICAgICAgICAgICAgbXVsdGlwbGllciA9IE1hdGgubWF4KG11bHRpcGxpZXIsIDIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5hY3RpdmVQb3dlclVwc1sncG9yMyddKSB7XHJcbiAgICAgICAgICAgIG11bHRpcGxpZXIgPSBNYXRoLm1heChtdWx0aXBsaWVyLCAzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc2NvcmVNdWx0aXBsaWVyID0gbXVsdGlwbGllcjtcclxuXHJcbiAgICAgICAgLy8gZmVlZGJhY2sgdmlzdWFsIGNvbiB0ZXh0byB4MiAvIHgzXHJcbiAgICAgICAgaWYgKHRoaXMubXVsdGlwbGllclRleHQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NvcmVNdWx0aXBsaWVyID4gMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdWx0aXBsaWVyVGV4dC5zZXRUZXh0KCd4JyArIHRoaXMuc2NvcmVNdWx0aXBsaWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlwbGllclRleHQuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlwbGllclRleHQuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIG1hbnRlbmVyIGxvcyBjb2xvcmVzIHF1ZSB5YSBzZSB0ZW7DrWFuXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoUG93ZXJVcFZpc3VhbHMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBcGxpY2EgbyBhY3R1YWxpemEgbGEgZHVyYWNpw7NuIGRlIHVuIHBvd2VyLXVwXHJcbiAgICBhcHBseU9yUmVmcmVzaFRpbWVkRWZmZWN0KHR5cGUsIGR1cmF0aW9uTXMpIHtcclxuICAgICAgICBjb25zdCBub3cgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG4gICAgICAgIHRoaXMuYWN0aXZlUG93ZXJVcHNbdHlwZV0gPSBub3cgKyBkdXJhdGlvbk1zO1xyXG5cclxuICAgICAgICAvLyBzZSBhY3RpdmEgZWwgZmVlZGJhY2svZXN0YWRvXHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICd2ZWxvY2lkYWQnKSB0aGlzLnNldFNwZWVkRWZmZWN0KHRydWUpO1xyXG4gICAgICAgIGlmICh0eXBlID09PSAncmFsZW50aXphcicpIHRoaXMuc2V0U2xvd0VmZmVjdCh0cnVlKTtcclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3BhcmFsaXphcicpIHRoaXMuc2V0UGFyYWx5emVkKHRydWUpO1xyXG5cclxuICAgICAgICAvLyBzZSByZWNhbGN1bGFuIGxvcyBlZmVjdG9zIHNpIGVzIG5lY2VzYXJpb1xyXG4gICAgICAgIGlmICh0eXBlID09PSAndmVsb2NpZGFkJyB8fCB0eXBlID09PSAncmFsZW50aXphcicpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWNhbGN1bGF0ZU1vdmVTcGVlZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3BvcjInIHx8IHR5cGUgPT09ICdwb3IzJykge1xyXG4gICAgICAgICAgICB0aGlzLnJlY2FsY3VsYXRlU2NvcmVFZmZlY3QoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGVjaWRlIHF1w6kgdGludGUgbW9zdHJhciBzZWfDum4gZWwgZXN0YWRvIGFjdHVhbFxyXG4gICAgcmVmcmVzaFBvd2VyVXBWaXN1YWxzKCkge1xyXG4gICAgICAgIC8vIHNpIGVzdMOhIHBhcmFsaXphZG8sIGxhIHBhcsOhbGlzaXMgbWFuZGEgKGNvbG9yICByb2pvICsgcGFycGFkZW8pXHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gUGhhc2VyIHNvbG8gcGVybWl0ZSB1biBjb2xvci90aW50IGEgbGEgdmV6IHBvciBzcHJpdGUsIHBvciBlc28gbGFcclxuICAgICAgICAvLyBwcmlvcmlkYWQgdmlzdWFsIGVzOiByYWxlbnRpemFkbyA+IHZlbG9jaWRhZCA+IG11bHRpcGxpY2Fkb3JcclxuICAgICAgICBpZiAodGhpcy5zbG93RWZmZWN0QWN0aXZlKSB7XHJcbiAgICAgICAgICAgIC8vIGF6dWwgb3NjdXJvIHBhcmEgXCJwZXNhZG8gLyBsZW50b1wiXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHg1NTU1ZmYpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zcGVlZEVmZmVjdEFjdGl2ZSkge1xyXG4gICAgICAgICAgICAvLyBjaWFuL3ZlcmRlIHBhcmEgXCJyw6FwaWRvXCJcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VGludCgweDU1ZmZkZCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNjb3JlTXVsdGlwbGllciA+IDEpIHtcclxuICAgICAgICAgICAgLy8gZG9yYWRvIHBhcmEgXCJ4MiAvIHgzIHB1bnRvc1wiXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHhmZmRkNTUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHNpbiBlZmVjdG9zXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLmNsZWFyVGludCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vLy8vLy9cclxuXHJcbiAgICBnZXRPcHBvbmVudCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuc2NlbmUucGxheWVycykgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5zY2VuZS5wbGF5ZXJzLnZhbHVlcygpKS5maW5kKHAgPT4gcCAhPT0gdGhpcyk7XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEFwcGx5UG93ZXJVcENvbW1hbmQge1xuICAgIGNvbnN0cnVjdG9yKHBsYXllciwgcG93ZXJVcFR5cGUpIHtcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XG4gICAgICAgIHRoaXMucG93ZXJVcFR5cGUgPSBwb3dlclVwVHlwZTtcbiAgICAgICAgdGhpcy5zdG9yZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBleGVjdXRlKCkge1xuICAgICAgICB0aGlzLnN0b3JlZCA9IHRoaXMucGxheWVyLmFwcGx5UG93ZXJVcCh0aGlzLnBvd2VyVXBUeXBlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmVkO1xuICAgIH1cbn1cbiIsImltcG9ydCB7IEFwcGx5UG93ZXJVcENvbW1hbmQgfSBmcm9tIFwiLi4vQ29tbWFuZHMvQXBwbHlQb3dlclVwQ29tbWFuZFwiO1xuXG5leHBvcnQgY2xhc3MgUG93ZXJVcCB7XG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHksIHR5cGUpIHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuXG4gICAgICAgIHRoaXMuaXNDb2xsZWN0ZWQgPSBmYWxzZTsgICAvLyBwYXJhIGV2aXRhciByZWNvZ2VyIHZhcmlhcyB2ZWNlc1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSBmYWxzZTsgICAgLy8gcGFyYSBldml0YXIgZGVzdHJ1aXIgdmFyaWFzIHZlY2VzXG4gICAgICAgIHRoaXMuX2Nvb2xkb3duVW50aWwgPSAwOyAgICAvLyB0aWVtcG8gaGFzdGEgZWwgcXVlIG5vIHNlIHB1ZWRlIHJlY29nZXJcblxuICAgICAgICB0aGlzLmZhZGVTdGFydCA9IDMwMDA7ICAgICAgLy8gbXMgaGFzdGEgZW1wZXphciBhIGRlc3ZhbmVjZXJzZVxuICAgICAgICB0aGlzLmxpZmV0aW1lID0gNTAwMDsgICAgICAgLy8gbXMgZGUgdmlkYSB0b3RhbFxuXG4gICAgICAgIHRoaXMuX292ZXJsYXBzID0gW107ICAgICAgICAvLyBjb2xsaWRlcnMgb3ZlcmxhcHNcbiAgICAgICAgdGhpcy5mYWRlVHdlZW4gPSBudWxsOyAgICAgIC8vIHR3ZWVuIGRlIGZhZGVcbiAgICAgICAgdGhpcy5fbGlmZXRpbWVUaW1lciA9IG51bGw7IC8vIHRpbWVyIGRlIHZpZGFcblxuICAgICAgICB0aGlzLnNwcml0ZSA9IHNjZW5lLnBoeXNpY3MuYWRkLnN0YXRpY0ltYWdlKHgsIHksIHR5cGUpXG4gICAgICAgICAgICAuc2V0U2NhbGUoMS4yKVxuICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKCk7XG5cbiAgICAgICAgLy8gc2UgYWN0dWFsaXphIGVsIGJvZHkgdHJhcyBlbCBlc2NhbGFkb1xuICAgICAgICBpZiAodGhpcy5zcHJpdGUucmVmcmVzaEJvZHkpIHRoaXMuc3ByaXRlLnJlZnJlc2hCb2R5KCk7XG5cbiAgICAgICAgLy8gc2UgZ3VhcmRhIGVsIHR3ZWVuIHBhcmEgcG9kZXIgcGFyYXJsbyBlbiBkZXN0cm95XG4gICAgICAgIGNvbnN0IGZhZGVEZWxheSA9IE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMuZmFkZVN0YXJ0LCB0aGlzLmxpZmV0aW1lKSk7XG4gICAgICAgIGNvbnN0IGZhZGVEdXJhdGlvbiA9IE1hdGgubWF4KDAsIHRoaXMubGlmZXRpbWUgLSBmYWRlRGVsYXkpO1xuXG4gICAgICAgIGlmIChmYWRlRHVyYXRpb24gPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmZhZGVUd2VlbiA9IHNjZW5lLnR3ZWVucy5hZGQoe1xuICAgICAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuc3ByaXRlLFxuICAgICAgICAgICAgICAgIGFscGhhOiAwLFxuICAgICAgICAgICAgICAgIGRlbGF5OiBmYWRlRGVsYXksXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGZhZGVEdXJhdGlvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBvdmVybGFwcyBjb24gbG9zIGp1Z2Fkb3Jlc1xuICAgICAgICBjb25zdCBwbGF5ZXJzID0gc2NlbmUucGxheWVycztcbiAgICAgICAgaWYgKHBsYXllcnMgJiYgdHlwZW9mIHBsYXllcnMuZm9yRWFjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFwbGF5ZXI/LnNwcml0ZSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYyA9IHNjZW5lLnBoeXNpY3MuYWRkLm92ZXJsYXAoXG4gICAgICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB0aGlzLmNvbGxlY3QocGxheWVyKSxcbiAgICAgICAgICAgICAgICAgICAgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdGhpc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgdGhpcy5fb3ZlcmxhcHMucHVzaChjKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGltZXIgZGUgdmlkYVxuICAgICAgICB0aGlzLl9saWZldGltZVRpbWVyID0gc2NlbmUudGltZS5kZWxheWVkQ2FsbCh0aGlzLmxpZmV0aW1lLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUmVjb2dlIGVsIHBvd2VyLXVwXG4gICAgY29sbGVjdChwbGF5ZXIpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1tQb3dlclVwXSBvdmVybGFwIGNvbicsIHBsYXllci5pZCwgJ3RpcG8nLCB0aGlzLnR5cGUpO1xuXG4gICAgICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMuaXNDb2xsZWN0ZWQpIHJldHVybjtcblxuICAgICAgICAvLyBzaSBlbCBpbnZlbnRhcmlvIGVzdMOhIGxsZW5vIHkgZWwganVnYWRvciBzZSBxdWVkYSBlbmNpbWEsIHNlIGV2aXRhIGVsIHNwYW1cbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5zY2VuZS50aW1lLm5vdztcbiAgICAgICAgaWYgKHRoaXMuX2Nvb2xkb3duVW50aWwgJiYgbm93IDwgdGhpcy5fY29vbGRvd25VbnRpbCkgcmV0dXJuO1xuXG4gICAgICAgIHRoaXMuaXNDb2xsZWN0ZWQgPSB0cnVlO1xuXG4gICAgICAgIGNvbnN0IGNtZCA9IG5ldyBBcHBseVBvd2VyVXBDb21tYW5kKHBsYXllciwgdGhpcy50eXBlKTtcbiAgICAgICAgdGhpcy5zY2VuZS5jb21tYW5kUHJvY2Vzc29yLnByb2Nlc3MoY21kKTtcblxuICAgICAgICAvLyBzaSBOTyBzZSBwdWVkZSBndWFyZGFyIHBvcnF1ZSBlbCBpbnZlbnRhcmlvIGVzdMOhIGxsZW5vLCBOTyBzZSBkZXN0cnV5ZVxuICAgICAgICBpZiAoIWNtZC5zdG9yZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNDb2xsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2Nvb2xkb3duVW50aWwgPSBub3cgKyAzMDA7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy5zY2VuZS51cGRhdGVQbGF5ZXJJbnZlbnRvcnlVST8uKHBsYXllcik7XG4gICAgfVxuXG4gICAgLy8gRGVzdHJ1eWUgZWwgcG93ZXItdXBcbiAgICBkZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XG5cbiAgICAgICAgLy8gY29sbGlkZXJzIG92ZXJsYXBzXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX292ZXJsYXBzKSkge1xuICAgICAgICAgICAgdGhpcy5fb3ZlcmxhcHMuZm9yRWFjaChjID0+IHtcbiAgICAgICAgICAgICAgICB0cnkgeyBjLmRlc3Ryb3koKTsgfSBjYXRjaCB7fVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9vdmVybGFwcyA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdHdlZW5cbiAgICAgICAgaWYgKHRoaXMuZmFkZVR3ZWVuKSB7XG4gICAgICAgICAgICB0cnkgeyB0aGlzLmZhZGVUd2Vlbi5zdG9wKCk7IH0gY2F0Y2gge31cbiAgICAgICAgICAgIHRoaXMuZmFkZVR3ZWVuID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRpbWVyXG4gICAgICAgIGlmICh0aGlzLl9saWZldGltZVRpbWVyKSB7XG4gICAgICAgICAgICB0aGlzLl9saWZldGltZVRpbWVyLnJlbW92ZShmYWxzZSk7XG4gICAgICAgICAgICB0aGlzLl9saWZldGltZVRpbWVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNwcml0ZVxuICAgICAgICBpZiAodGhpcy5zcHJpdGUpIHtcbiAgICAgICAgICAgIHRyeSB7IHRoaXMuc3ByaXRlLmRlc3Ryb3koKTsgfSBjYXRjaCB7fVxuICAgICAgICAgICAgdGhpcy5zcHJpdGUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZmluYWxtZW50ZSwgc2UgcXVpdGEgZGVsIGFycmF5XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuc2NlbmUucG93ZXJVcHMpKSB7XG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBvd2VyVXBzID0gdGhpcy5zY2VuZS5wb3dlclVwcy5maWx0ZXIocCA9PiBwICE9PSB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsImV4cG9ydCBjbGFzcyBCYWxsIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5KSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBzY2VuZS5waHlzaWNzLmFkZC5zcHJpdGUoeCwgeSwgJ2JhbGwnKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSgxLjApO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldEJvdW5jZSgwLjgpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREYXRhKCdiYWxsJywgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIHNlZ3VpbWllbnRvIGRlbCBlc3RhZG8gZGVsIHJhbGx5XHJcbiAgICAgICAgdGhpcy5sYXN0VG91Y2hlZEJ5ID0gbnVsbDsgICAgICAvLyBpZCBkZWwganVnYWRvciAoJ3BsYXllcjEnIG8gJ3BsYXllcjInKVxyXG4gICAgICAgIHRoaXMudG91Y2hDb3VudCA9IDA7ICAgICAgICAgICAgLy8gdG9xdWVzIGVuIGVsIHJhbGx5IGFjdHVhbCBwb3IgbGFkbyBkZSBsYSBjYW5jaGFcclxuICAgICAgICB0aGlzLmNvdXJ0U2lkZSA9ICdsZWZ0JzsgICAgICAgIC8vIGxhZG8gZGUgbGEgY2FuY2hhIGRvbmRlIGVzdMOhIGxhIHBlbG90YVxyXG4gICAgICAgIHRoaXMuaXNCYWxsTGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIHBvc2ljacOzbiBkZSBsYSByZWQgKGhhcmRjb2RlYWRvIHBhcmEgYW5jaG8gZGUgOTYwcHgpXHJcbiAgICAgICAgdGhpcy5uZXRYID0gNDgwO1xyXG5cclxuICAgICAgICAvLyBwYXJhIGV2aXRhciB0b3F1ZXMgbcO6bHRpcGxlcyBwb3IgZXN0YXIgcGVnYWRhIHkgcXVlIFwiZGVzYXBhcmV6Y2FcIlxyXG4gICAgICAgIHRoaXMubGFzdEhpdFRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMubGFzdEhpdFBsYXllcklkID0gbnVsbDtcclxuXHRcdFxyXG4gICAgICAgIC8vdGhpcy5pc0ZpcnN0U2VydmUgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlIGxsYW1hIGN1YW5kbyB1biBqdWdhZG9yIGdvbHBlYSBsYSBwZWxvdGFcclxuICAgIGhpdChwbGF5ZXIsIHBsYXllckZhY2luZ0RpcmVjdGlvbiwgaXNKdW1waW5nLCBpc1JlY2VpdmluZyA9IGZhbHNlKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQmFsbExpdmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5zY2VuZS50aW1lLm5vdztcclxuXHJcbiAgICAgICAgLy8gc2kgZXMgZWwgbWlzbW8ganVnYWRvciB5IGhhIHBhc2FkbyBtdXkgcG9jbyB0aWVtcG8sXHJcbiAgICAgICAgLy8gaWdub3JhbW9zIGVzZSBcInRvcXVlXCIgcGFyYSBubyBzdW1hciBtw6FzIGdvbHBlc1xyXG4gICAgICAgIGlmICh0aGlzLmxhc3RIaXRQbGF5ZXJJZCA9PT0gcGxheWVyLmlkICYmIChub3cgLSB0aGlzLmxhc3RIaXRUaW1lKSA8IDEyMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyByZWdpc3RyYW1vcyBlc3RlIG51ZXZvIGdvbHBlIHbDoWxpZG9cclxuICAgICAgICB0aGlzLmxhc3RIaXRQbGF5ZXJJZCA9IHBsYXllci5pZDtcclxuICAgICAgICB0aGlzLmxhc3RIaXRUaW1lID0gbm93O1xyXG5cclxuICAgICAgICAvLyBzZSBpbmNyZW1lbnRhIGVsIGNvbnRhZG9yIGRlIHRvcXVlcyBzaSBlbCBtaXNtbyBqdWdhZG9yIGNvbnRpbsO6YSwgc2UgcmVpbmljaWEgc2kgZXMgZWwgb3Ryb1xyXG4gICAgICAgIGlmICh0aGlzLmxhc3RUb3VjaGVkQnkgPT09IHBsYXllci5pZCkge1xyXG4gICAgICAgICAgICB0aGlzLnRvdWNoQ291bnQrKztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnRvdWNoQ291bnQgPSAxO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RUb3VjaGVkQnkgPSBwbGF5ZXIuaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnRvdWNoQ291bnQgPiAzKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25GYWx0YSgndG9xdWVFeGNlZGlkbycsIHBsYXllcik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gc2UgcmVwcm9kdWNlIGVsIGVmZWN0byBkZSBzb25pZG8gc2Vnw7puIGVsIHRpcG8gZGUgZ29scGVcclxuICAgICAgICBpZiAoaXNSZWNlaXZpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZT8ucGxheVNmeD8uKHRoaXMuc2NlbmU/LnNmeD8ucmVjZWl2ZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0p1bXBpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZT8ucGxheVNmeD8uKHRoaXMuc2NlbmU/LnNmeD8uc3Bpa2UpO1xyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vIHNlIGNhbGN1bGEgdmVsb2NpZGFkIGRlIGxhIHBlbG90YSBzZWfDum4gbGEgZGlyZWNjacOzbiBkZWwganVnYWRvciB5IHNpIGVzdMOhIHNhbHRhbmRvL3JlY2liaWVuZG9cclxuICAgICAgICBsZXQgdmVsb2NpdHlYLCB2ZWxvY2l0eVk7XHJcblxyXG4gICAgICAgIGlmIChpc1JlY2VpdmluZykge1xyXG4gICAgICAgICAgICAvLyByZWNlcGNpw7NuOiBwYXLDoWJvbGEgbGFyZ2EgeSBhbmNoYSAodHJheWVjdG9yaWEgZGVmZW5zaXZhKVxyXG4gICAgICAgICAgICAvLyBtZW5vciB2ZWxvY2lkYWQgaG9yaXpvbnRhbCwgbWF5b3IgdmVsb2NpZGFkIHZlcnRpY2FsIHBhcmEgZWwgYXJjb1xyXG4gICAgICAgICAgICBjb25zdCBiYXNlU3BlZWRYID0gMTYwO1xyXG4gICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbFN0cmVuZ3RoID0gLTMxMDsgLy8gY29tcG9uZW50ZSB2ZXJ0aWNhbCBtYXlvciBwYXJhIGVsIGFyY29cclxuXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXJGYWNpbmdEaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlYID0gLWJhc2VTcGVlZFg7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSBiYXNlU3BlZWRYO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZlbG9jaXR5WSA9IHZlcnRpY2FsU3RyZW5ndGg7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0p1bXBpbmcpIHtcclxuICAgICAgICAgICAgLy8gc2FsdG8vYXRhcXVlOiBob3Jpem9udGFsIGZ1ZXJ0ZSwgdmVydGljYWwgZMOpYmlsIChyZW1hdGUvc21hc2gpXHJcbiAgICAgICAgICAgIC8vIGFsdGEgdmVsb2NpZGFkIGhvcml6b250YWwsIGJhamEgdmVsb2NpZGFkIHZlcnRpY2FsIHBhcmEgdHJheWVjdG9yaWEgcGxhbmFcclxuICAgICAgICAgICAgY29uc3QgYmFzZVNwZWVkWCA9IDE5MDtcclxuICAgICAgICAgICAgY29uc3QgdmVydGljYWxTdHJlbmd0aCA9IC0xNDA7IC8vIGNvbXBvbmVudGUgdmVydGljYWwgYmFqbyBwYXJhIGF0YXF1ZSBwbGFub1xyXG5cclxuICAgICAgICAgICAgaWYgKHBsYXllckZhY2luZ0RpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSAtYmFzZVNwZWVkWDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5WCA9IGJhc2VTcGVlZFg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmVsb2NpdHlZID0gdmVydGljYWxTdHJlbmd0aDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBnb2xwZSByZWd1bGFyIGRlc2RlIGVsIHN1ZWxvXHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2VTcGVlZFggPSAxODA7XHJcblxyXG4gICAgICAgICAgICBpZiAocGxheWVyRmFjaW5nRGlyZWN0aW9uID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5WCA9IC1iYXNlU3BlZWRYO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlYID0gYmFzZVNwZWVkWDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2ZWxvY2l0eVkgPSAtMTAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHkodmVsb2NpdHlYLCB2ZWxvY2l0eVkpO1xyXG5cclxuICAgICAgICAvLyBzZSBhY3R1YWxpemFyIGVsIGxhZG8gZGUgbGEgY2FuY2hhIHNlZ8O6biBsYSBkaXJlY2Npw7NuIGRlIGxhIHZlbG9jaWRhZFxyXG4gICAgICAgIGlmICh2ZWxvY2l0eVggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY291cnRTaWRlID0gJ3JpZ2h0JztcclxuICAgICAgICB9IGVsc2UgaWYgKHZlbG9jaXR5WCA8IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAnbGVmdCc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlIGxsYW1hIGN1YW5kbyBsYSBwZWxvdGEgY3J1emEgbGEgcmVkXHJcbiAgICBjcm9zc05ldCgpIHtcclxuICAgICAgICAvLyBzZSByZWluaWNpYSBlbCBjb250YWRvciBkZSB0b3F1ZXMgcGFyYSBlbCBudWV2byBsYWRvIGRlIGNhbmNoYVxyXG4gICAgICAgIHRoaXMudG91Y2hDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5sYXN0VG91Y2hlZEJ5ID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gc2UgY2FtYmlhIGRlIGxhZG8gZGUgY2FuY2hhXHJcbiAgICAgICAgdGhpcy5jb3VydFNpZGUgPSB0aGlzLmNvdXJ0U2lkZSA9PT0gJ2xlZnQnID8gJ3JpZ2h0JyA6ICdsZWZ0JztcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZSBsbGFtYSBjdWFuZG8gbGEgcGVsb3RhIHRvY2EgZWwgc3VlbG9cclxuICAgIG9uR3JvdW5kZWQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQmFsbExpdmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgYmFsbE9uTGVmdCA9IHRoaXMuc3ByaXRlLnggPCB0aGlzLm5ldFg7XHJcbiAgICAgICAgY29uc3QgYmFsbE9uUmlnaHQgPSB0aGlzLnNwcml0ZS54ID4gdGhpcy5uZXRYO1xyXG5cclxuICAgICAgICAvLyBkZXRlcm1pbmFyIHF1acOpbiBhbm90YVxyXG4gICAgICAgIGlmIChiYWxsT25MZWZ0KSB7XHJcbiAgICAgICAgICAgIHRoaXMub25SYWxseUVuZCgncGxheWVyMicpOyAvLyBwbGF5ZXIyIGFub3RhXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRSYWxseSgncGxheWVyMicpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoYmFsbE9uUmlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5vblJhbGx5RW5kKCdwbGF5ZXIxJyk7IC8vIHBsYXllcjEgYW5vdGFcclxuICAgICAgICAgICAgdGhpcy5yZXNldFJhbGx5KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSAgICBcclxuXHJcbiAgICAvLyBTZSBsbGFtYSBjdWFuZG8gb2N1cnJlIHVuYSBmYWx0YSAoZGVtYXNpYWRvcyB0b3F1ZXMsIHBlbG90YSBmdWVyYSBkZSBsw61taXRlcywgZXRjLilcclxuICAgIG9uRmFsdGEoZmFsdGFUeXBlLCBmYWx0aW5nUGxheWVyKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQmFsbExpdmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gc2UgZGV0ZXJtaW5hciBlbCBqdWdhZG9yIHF1ZSBhbm90YSAob3B1ZXN0byBhbCBxdWUgY29tZXRpw7MgZmFsdGEpXHJcbiAgICAgICAgY29uc3Qgc2NvcmluZ1BsYXllcklkID0gZmFsdGluZ1BsYXllci5pZCA9PT0gJ3BsYXllcjEnID8gJ3BsYXllcjInIDogJ3BsYXllcjEnO1xyXG5cclxuICAgICAgICB0aGlzLm9uUmFsbHlFbmQoc2NvcmluZ1BsYXllcklkKTtcclxuICAgICAgICB0aGlzLnJlc2V0UmFsbHkoc2NvcmluZ1BsYXllcklkKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBTZSBsbGFtYSBjdWFuZG8gZmluYWxpemEgdW4gcmFsbHkgKGFsZ3VpZW4gYW5vdGEpXHJcbiAgICBvblJhbGx5RW5kKHNjb3JpbmdQbGF5ZXJJZCkge1xyXG4gICAgICAgIHRoaXMuaXNCYWxsTGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBzZSBsYW56YSB1biBldmVudG8gcGFyYSBxdWUgR2FtZV9TY2VuZSBtYW5lamUgbGEgcHVudHVhY2nDs25cclxuICAgICAgICB0aGlzLnNjZW5lLmV2ZW50cy5lbWl0KCdyYWxseUNvbmNsdWRlZCcsIHtcclxuICAgICAgICAgICAgc2NvcmluZ1BsYXllcklkOiBzY29yaW5nUGxheWVySWQsXHJcbiAgICAgICAgICAgIHRvdWNoQ291bnQ6IHRoaXMudG91Y2hDb3VudCxcclxuICAgICAgICAgICAgbGFzdFRvdWNoZWRCeTogdGhpcy5sYXN0VG91Y2hlZEJ5XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRW1wdWpvbiBzdXRpbCBhbCBzYXF1ZSBwYXJhIGV2aXRhciBxdWUgY2FpZ2Egc29icmUgbGEgcmVkXHJcbiAgICBfZ2V0U3VidGxlTnVkZ2Uoc3Bhd25YLCBzaWRlUGFkZGluZywgd29ybGRXaWR0aCkge1xyXG4gICAgICAgIGNvbnN0IHNpZ24gPSBNYXRoLnJhbmRvbSgpIDwgMC41ID8gLTEgOiAxO1xyXG4gICAgICAgIGNvbnN0IG9mZnNldCA9IHNpZ24gKiAxMjtcclxuICAgICAgICBjb25zdCBjbGFtcGVkWCA9IE1hdGgubWF4KHNpZGVQYWRkaW5nLCBNYXRoLm1pbih3b3JsZFdpZHRoIC0gc2lkZVBhZGRpbmcsIHNwYXduWCArIG9mZnNldCkpO1xyXG5cclxuICAgICAgICByZXR1cm4geyBzcGF3blg6IGNsYW1wZWRYLCB2ZWxvY2l0eVg6IG9mZnNldCB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbG9jYSBsYSBwZWxvdGEgcGFyYSBlbCBzYXF1ZSBzaW4gcmVpbmljaWFyIGVsIHJhbGx5XHJcbiAgICBzZXRTZXJ2ZVBvc2l0aW9uKHNjb3JpbmdQbGF5ZXIpIHtcclxuICAgICAgICBjb25zdCBzcGF3blkgPSAxMDA7XHJcbiAgICAgICAgY29uc3Qgc2lkZVBhZGRpbmcgPSA2MDtcclxuICAgICAgICBjb25zdCB3b3JsZFdpZHRoID0gdGhpcy5zY2VuZS53b3JsZFdpZHRoID8/IHRoaXMuc2NlbmUuc2NhbGU/LndpZHRoID8/IHRoaXMubmV0WCAqIDI7XHJcbiAgICAgICAgY29uc3QgY2xhbXAgPSAodmFsdWUsIG1pbiwgbWF4KSA9PiBNYXRoLm1heChtaW4sIE1hdGgubWluKG1heCwgdmFsdWUpKTtcclxuXHJcbiAgICAgICAgbGV0IHNwYXduWCA9IHRoaXMubmV0WDtcclxuICAgICAgICBsZXQgbnVkZ2VWZWxvY2l0eVggPSAwO1xyXG5cclxuICAgICAgICBjb25zdCBoYXNTY29yaW5nUGxheWVyID0gc2NvcmluZ1BsYXllciA9PT0gJ3BsYXllcjEnIHx8IHNjb3JpbmdQbGF5ZXIgPT09ICdwbGF5ZXIyJztcclxuXHJcbiAgICAgICAgaWYgKGhhc1Njb3JpbmdQbGF5ZXIpIHtcclxuICAgICAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5zY2VuZS5wbGF5ZXJzPy5nZXQgPyB0aGlzLnNjZW5lLnBsYXllcnMuZ2V0KHNjb3JpbmdQbGF5ZXIpIDogbnVsbDtcclxuICAgICAgICAgICAgaWYgKHBsYXllcj8uc3ByaXRlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2NvcmluZ1BsYXllciA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Bhd25YID0gY2xhbXAocGxheWVyLnNwcml0ZS54LCBzaWRlUGFkZGluZywgdGhpcy5uZXRYIC0gc2lkZVBhZGRpbmcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzcGF3blggPSBjbGFtcChwbGF5ZXIuc3ByaXRlLngsIHRoaXMubmV0WCArIHNpZGVQYWRkaW5nLCB3b3JsZFdpZHRoIC0gc2lkZVBhZGRpbmcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3Bhd25YID0gc2NvcmluZ1BsYXllciA9PT0gJ3BsYXllcjEnID8gdGhpcy5uZXRYIC0gMTAwIDogdGhpcy5uZXRYICsgMTAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBudWRnZSA9IHRoaXMuX2dldFN1YnRsZU51ZGdlKHNwYXduWCwgc2lkZVBhZGRpbmcsIHdvcmxkV2lkdGgpO1xyXG4gICAgICAgICAgICBzcGF3blggPSBudWRnZS5zcGF3blg7XHJcbiAgICAgICAgICAgIG51ZGdlVmVsb2NpdHlYID0gbnVkZ2UudmVsb2NpdHlYO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0UG9zaXRpb24oc3Bhd25YLCBzcGF3blkpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5KG51ZGdlVmVsb2NpdHlYLCAwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWluaWNpYSBlbCBlc3RhZG8gZGVsIHJhbGx5IHkgcmVwb3NpY2lvbmEgbGEgcGVsb3RhIHBhcmEgZWwgc2FxdWVcclxuICAgIHJlc2V0UmFsbHkoc2NvcmluZ1BsYXllcikge1xyXG4gICAgICAgIHRoaXMuaXNCYWxsTGl2ZSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5sYXN0VG91Y2hlZEJ5ID0gbnVsbDtcclxuICAgICAgICB0aGlzLnRvdWNoQ291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuc2V0U2VydmVQb3NpdGlvbihzY29yaW5nUGxheWVyKTtcclxuXHJcbiAgICAgICAgLy8gbGltcGlhciBpbmZvIGRlIMO6bHRpbW8gZ29scGVcclxuICAgICAgICB0aGlzLmxhc3RIaXRUaW1lID0gMDtcclxuICAgICAgICB0aGlzLmxhc3RIaXRQbGF5ZXJJZCA9IG51bGw7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vIEFjdHVhbGl6YSBlbCBlc3RhZG8gZGUgbGEgcGVsb3RhIGNhZGEgZnJhbWUgKHNlIHJhc3RyZWEgZWwgbGFkbyBkZSBsYSBjYW5jaGEgc2Vnw7puIGxhIHBvc2ljacOzbilcclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgbGFkbyBkZSBjYW5jaGEgc2Vnw7puIHBvc2ljacOzbiBhY3R1YWxcclxuICAgICAgICBpZiAodGhpcy5zcHJpdGUueCA8IHRoaXMubmV0WCAtIDIwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY291cnRTaWRlID0gJ2xlZnQnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zcHJpdGUueCA+IHRoaXMubmV0WCArIDIwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY291cnRTaWRlID0gJ3JpZ2h0JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIENvbW1hbmRQcm9jZXNzb3Ige1xyXG4gICAgXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzZXRQbGF5ZXJzKHBsYXllcnMpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBwbGF5ZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIHNldEdhbWVTY2VuZShnYW1lU2NlbmUpIHtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IGdhbWVTY2VuZTtcclxuICAgIH1cclxuXHJcbiAgICBwcm9jZXNzKGNvbW1hbmQpIHtcclxuICAgICAgICBjb21tYW5kLmV4ZWN1dGUoKTtcclxuICAgICAgICAvLyBTZW50IG92ZXIgdGhlIHdlYnNvY2tldFxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIENvbW1hbmQge1xyXG4gICAgXHJcbiAgICBleGVjdXRlKCkge31cclxuXHJcbiAgICBzZXJpYWxpemUoKSB7fVxyXG5cclxuICAgIGdldFBsYXllcigpIHt9XHJcbn0iLCIvLyBDbGFzZSBxdWUgc2UgZW5jYXJnYSBkZSBsYSBsw7NnaWNhIGRlbCBtb3ZpbWllbnRvIGRlbCBwZXJzb25hamVcclxuXHJcbmltcG9ydCB7IENvbW1hbmQgfSBmcm9tICcuL0NvbW1hbmQuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vdmVQbGF5ZXJDb21tYW5kIGV4dGVuZHMgQ29tbWFuZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihwbGF5ZXIsIGRpcmVjdGlvbikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7ICAgICAgIC8vIGluc3RhbmNpYSBkZWwgcGVyc29uYWplXHJcbiAgICAgICAgdGhpcy5kaXJlY3Rpb24gPSBkaXJlY3Rpb247IC8vIGRpcmVjY2nDs24gZGUgbW92bWllbnRvXHJcbiAgICB9XHJcblxyXG4gICAgZXhlY3V0ZSgpIHtcclxuICAgICAgICAgc3dpdGNoICh0aGlzLmRpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAvLyBjb3JyZXIgaGFjaWEgbGEgaXpkYVxyXG4gICAgICAgICAgICBjYXNlICdsZWZ0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLm1vdmVMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gY29ycmVyIGhhY2lhIGxhIGRjaGFcclxuICAgICAgICAgICAgY2FzZSAncmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIubW92ZVJpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gc2FsdGFyL3JlbWF0YXIgYSBsYSBpemRhXHJcbiAgICAgICAgICAgIGNhc2UgJ2p1bXBMZWZ0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmp1bXBMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gc2FsdGFyL3JlbWF0YSBhIGxhIGRjaGFcclxuICAgICAgICAgICAgY2FzZSAnanVtcFJpZ2h0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmp1bXBSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIHJlY2liaXIgcG9yIGxhIGl6ZGFcclxuICAgICAgICAgICAgY2FzZSAncmVjZWl2ZUxlZnQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIucmVjZWl2ZUxlZnQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyByZWNpYmlyIHBvciBsYSBkY2hhXHJcbiAgICAgICAgICAgIGNhc2UgJ3JlY2VpdmVSaWdodCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5yZWNlaXZlUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBwYXJhZG8sIGlkbGUgaXpkYVxyXG4gICAgICAgICAgICBjYXNlICdpZGxlTGVmdCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5pZGxlTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIHBhcmFkbywgaWRsZSBkY2hhICh5IGNhc28gcG9yIGRlZmVjdG8pXHJcbiAgICAgICAgICAgIC8vY2FzZSAnaWRsZVJpZ2h0JzpcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmlkbGVSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHBhcmEgZWwgbW9kbyBFTiBSRURcclxuICAgIGdldFBsYXllcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5wbGF5ZXIuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgc2VyaWFsaXplKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHR5cGU6ICdNb3ZlUGxheWVyQ29tbWFuZCcsXHJcbiAgICAgICAgICAgIHBsYXllcklkOiB0aGlzLnBsYXllci5pZCxcclxuICAgICAgICAgICAgZGlyZWN0aW9uOiB0aGlzLmRpcmVjdGlvblxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gQ2xhc2UgZGUgbGEgZXNjZW5hIGRlIGp1ZWdvXHJcblxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IFBsYXllciB9IGZyb20gJy4uL0VudGl0aWVzL1BsYXllci5qcyc7XHJcbmltcG9ydCB7IFBvd2VyVXAgfSBmcm9tICcuLi9FbnRpdGllcy9Qb3dlclVwLmpzJztcclxuaW1wb3J0IHsgQmFsbCB9IGZyb20gJy4uL0VudGl0aWVzL0JhbGwuanMnO1xyXG5pbXBvcnQgeyBDb21tYW5kUHJvY2Vzc29yIH0gZnJvbSAnLi4vQ29tbWFuZHMvQ29tbWFuZFByb2Nlc3Nvci5qcyc7XHJcbmltcG9ydCB7IE1vdmVQbGF5ZXJDb21tYW5kIH0gZnJvbSAnLi4vQ29tbWFuZHMvTW92ZVBsYXllckNvbW1hbmQuanMnO1xyXG5pbXBvcnQgeyBnZXRTdG9yZWRTZnhWb2x1bWUgfSBmcm9tICcuLi9VSS9BdWRpby5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICB0aWVtcG9Ub3RhbCA9IDYwOyAvLyBwYXJhIDIgbWluIHBvbmVyIDEyMCBzZWd1bmRvc1xyXG4gICAgdGllbXBvUmVzdGFudGUgPSB0aGlzLnRpZW1wb1RvdGFsO1xyXG4gICAgdGltZXJUZXh0O1xyXG4gICAgdGltZXJFdmVudDtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdHYW1lX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3NvciA9IG5ldyBDb21tYW5kUHJvY2Vzc29yKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxID0gZGF0YS5wbGF5ZXIxO1xyXG4gICAgICAgIHRoaXMucGxheWVyMiA9IGRhdGEucGxheWVyMjtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkU2NlbmFyaW8gPSBkYXRhLnNlbGVjdGVkU2NlbmFyaW87XHJcbiAgICAgICAgdGhpcy5iYWxsID0gbnVsbDtcclxuICAgICAgICB0aGlzLnNjb3JlUDEgPSAwO1xyXG4gICAgICAgIHRoaXMuc2NvcmVQMiA9IDA7XHJcbiAgICAgICAgdGhpcy5zZXRzUDEgPSAwO1xyXG4gICAgICAgIHRoaXMuc2V0c1AyID0gMDtcclxuICAgICAgICB0aGlzLm1heFNldHMgPSAzOyAvLyBtZWpvciBkZSAzXHJcbiAgICAgICAgdGhpcy5jdXJyZW50U2V0ID0gMTsgLy8gc2V0IGFjdHVhbFxyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gY2hhcmFjdGVyQVxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJBX21vdmUnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0EvQU5JTUFDSU9ORVNfQ09SUkVSX1JFQ0lCSVIucG5nJyxcclxuICAgICAgICAgICAgeyBmcmFtZVdpZHRoOiAyOSwgZnJhbWVIZWlnaHQ6IDQ0IH1cclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJBX2p1bXAnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0EvQU5JTUFDSU9OX1JFTUFURS5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDMyLCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy8gY2hhcmFjdGVyQlxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJCX21vdmUnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0IvQU5JTUFDSU9ORVNfQ09SUkVSX1JFQ0lCSVIucG5nJyxcclxuICAgICAgICAgICAgeyBmcmFtZVdpZHRoOiAyOSwgZnJhbWVIZWlnaHQ6IDQ0IH1cclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJCX2p1bXAnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0IvQU5JTUFDSU9OX1JFTUFURS5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDMyLCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy8gY2hhcmFjdGVyQ1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJDX21vdmUnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0MvQU5JTUFDSU9ORVNfQ09SUkVSX1JFQ0lCSVIucG5nJyxcclxuICAgICAgICAgICAgeyBmcmFtZVdpZHRoOiAyOSwgZnJhbWVIZWlnaHQ6IDQ0IH1cclxuICAgICAgICApO1xyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ2NoYXJDX2p1bXAnLFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0MvQU5JTUFDSU9OX1JFTUFURS5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDMyLCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIC8vIEVzY2VuYXJpb3NcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0d5bScsICdBU1NFVFMvRk9ORE9TL0dJTU5BU0lPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnUGxheWEnLCAnQVNTRVRTL0ZPTkRPUy9QTEFZQS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0phcmRpbicsICdBU1NFVFMvRk9ORE9TL0pBUkRJTi5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gUG93ZXJVcHNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvcjInLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9NVUxUSVBMSUNBRE9SIDIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb3IzJywgJ0FTU0VUUy9JVEVNUy9QT1dFUiBVUFMvTVVMVElQTElDQURPUiAzLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncGFyYWxpemFyJywgJ0FTU0VUUy9JVEVNUy9QT1dFUiBVUFMvUEFSQUxJWkFETy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3JhbGVudGl6YXInLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9SRUxFTlRJWkFSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgndmVsb2NpZGFkJywgJ0FTU0VUUy9JVEVNUy9QT1dFUiBVUFMvVkVMT0NJREFELnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWFyY29Qb3dlclVwJywgJ0FTU0VUUy9KVUVHTy9CYXNlX3Bvd2VyVXAucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFBlbG90YVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYmFsbCcsICdBU1NFVFMvSVRFTVMvUEVMT1RBUy9QX05PUk1BTC5wbmcnKTtcclxuICAgICAgICAvLyBSZWRcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3JlZCcsICdBU1NFVFMvSlVFR08vUkVELnBuZycpO1xyXG4gICAgICAgIC8vIENyb27Ds21ldHJvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdyZWxvaicsICdBU1NFVFMvSlVFR08vVElNRVIucG5nJyk7XHJcbiAgICAgICAgLy8gTWFyY29cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hcmNvR2VuZXJhbCcsICdBU1NFVFMvSlVFR08vTUFSQ0FET1JfU0VULnBuZycpOyAgICAgICAgXHJcblxyXG4gICAgICAgIC8vIEVmZWN0b3MgZGUgc29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZnhfc2lsYmF0bycsICdBU1NFVFMvU09OSURPL1NpbGJhdG9faW5pY2lvX3BhcnRpZG9fMXA0cy5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeF9yZW1hdGUnLCAnQVNTRVRTL1NPTklETy9Ub3F1ZV9wZWxvdGFfcmVtYXRlXzAzcy5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeF9yZWNlcGNpb24nLCAnQVNTRVRTL1NPTklETy9Ub3F1ZV9wZWxvdGFfcmVjZXBjaW9uLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4X3NhbHRvJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvU2FsdG9fMXAubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZnhfcHVudG8nLCAnQVNTRVRTL1NPTklETy9Tb25pZG9QdW50by5tcDMnKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIHNlIGd1YXJkYW4gbGFzIGRpbWVuc2lvbmVzXHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIHRoaXMud29ybGRXaWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMud29ybGRIZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlO1xyXG5cclxuICAgICAgICAvLyBzZSBkZWZpbmVuIGxvcyBlZmVjdG9zIGRlIHNvbmlkb1xyXG4gICAgICAgIHRoaXMuc2Z4ID0ge1xyXG4gICAgICAgICAgICB3aGlzdGxlOiAnc2Z4X3NpbGJhdG8nLFxyXG4gICAgICAgICAgICBzcGlrZTogJ3NmeF9yZW1hdGUnLFxyXG4gICAgICAgICAgICByZWNlaXZlOiAnc2Z4X3JlY2VwY2lvbicsXHJcbiAgICAgICAgICAgIGp1bXA6ICdzZnhfc2FsdG8nLFxyXG4gICAgICAgICAgICBwb2ludDogJ3NmeF9wdW50bydcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIHNlIHJlcHJvZHVjZSBlbCBzaWxiYXRvIGRlIGluaWNpbyBkZSBwYXJ0aWRvXHJcbiAgICAgICAgdGhpcy5wbGF5U2Z4KHRoaXMuc2Z4LndoaXN0bGUpO1xyXG5cclxuICAgICAgICAvLyBDcm9uw7NtZXRyb1xyXG4gICAgICAgIHRoaXMudGltZXJUZXh0ID0gdGhpcy5hZGQudGV4dCh0aGlzLnNjYWxlLndpZHRoIC8gMiwgMzAsIFwiXCIsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41LCAwKVxyXG4gICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAuc2V0RGVwdGgoOTk5OSk7XHJcblxyXG4gICAgICAgIHRoaXMudGltZXJJY29uID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5zY2FsZS53aWR0aCAvIDIsIDQ1LCAncmVsb2onKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDIpXHJcbiAgICAgICAgICAgIC5zZXRTY3JvbGxGYWN0b3IoMClcclxuICAgICAgICAgICAgLnNldERlcHRoKDkwMDApOyAvLyBkZWJham8gZGVsIHRleHRvXHJcblxyXG4gICAgICAgIC8vIG1hcmNvIGRlIHNldFxyXG4gICAgICAgIHRoaXMuc2V0RnJhbWUgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLnNjYWxlLndpZHRoIC8gMiwgMTIwLCAnbWFyY29HZW5lcmFsJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoOTk5OCk7XHJcblxyXG4gICAgICAgIC8vIHRleHRvIGRlbCBzZXQgYWN0dWFsXHJcbiAgICAgICAgdGhpcy5zZXRUZXh0ID0gdGhpcy5hZGQudGV4dCh0aGlzLnNjYWxlLndpZHRoIC8gMiwgMTIwLCBgU0VUICR7dGhpcy5jdXJyZW50U2V0fWAsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXREZXB0aCg5OTk5KTtcclxuXHJcbiAgICAgICAgLy8gdGV4dG8gcGFyYSBtb3N0cmFyIGVsIGdhbmFkb3IgZGVsIHNldFxyXG4gICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dCA9IHRoaXMuYWRkLnRleHQodGhpcy5zY2FsZS53aWR0aCAvIDIsIDE4NSwgJycsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDNcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXREZXB0aCg5OTk5KVxyXG4gICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuXHJcbiAgICAgICAgLy8gaW5pY2lhciBlbCBjb250YWRvciBwYXJhIGVsIGNyb27Ds21ldHJvXHJcbiAgICAgICAgdGhpcy50aW1lckV2ZW50ID0gdGhpcy50aW1lLmFkZEV2ZW50KHtcclxuICAgICAgICAgICAgZGVsYXk6IDEwMDAsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiB0aGlzLnVwZGF0ZVRpbWVyLFxyXG4gICAgICAgICAgICBjYWxsYmFja1Njb3BlOiB0aGlzLFxyXG4gICAgICAgICAgICBsb29wOiB0cnVlXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlVGltZXIoKTtcclxuXHJcbiAgICAgICAgLy8gRk9ORE8gREVMIEVTQ0VOQVJJTyBTRUxFQ0NJT05BRE9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSh3aWR0aCAvIDIsIGhlaWdodCAvIDIsIHRoaXMuc2VsZWN0ZWRTY2VuYXJpbylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpOyBcclxuXHJcbiAgICAgICAgLy8gUmVkXHJcbiAgICAgICAgY29uc3QgcmVkID0gdGhpcy5waHlzaWNzLmFkZC5zdGF0aWNTcHJpdGUod2lkdGggLyAyLCBoZWlnaHQgLSAxNjAsICdyZWQnKS5zZXRTY2FsZSgwLjYpO1xyXG5cclxuICAgICAgICBjb25zdCByZWRUZXh0dXJlID0gdGhpcy50ZXh0dXJlcy5nZXQoJ3JlZCcpLmdldFNvdXJjZUltYWdlKCk7XHJcbiAgICAgICAgcmVkLmJvZHkuc2V0U2l6ZShyZWRUZXh0dXJlLndpZHRoICogMC41LCByZWRUZXh0dXJlLmhlaWdodCAqIDAuNSk7IC8vIG11bHRpcGxpY2FyIHBvciBlbCBzY2FsZVxyXG4gICAgICAgIHJlZC5ib2R5LnNldE9mZnNldCgtcmVkLmJvZHkud2lkdGgvMiwgLXJlZC5ib2R5LmhlaWdodC8yKTtcclxuICAgICAgICByZWQuYm9keS51cGRhdGVGcm9tR2FtZU9iamVjdCgpO1xyXG4gICAgICAgIHRoaXMucmVkID0gcmVkO1xyXG5cclxuICAgICAgICB0aGlzLl9jcmVhdGVBbmltYXRpb25zKCk7XHJcblxyXG4gICAgICAgIC8vUFVOVFVBQ0lPTiBERSBMT1MgSlVHQURPUkVTXHJcbiAgICAgICAgLy8gTWFyY29zIGRlIHB1bnR1YWNpw7NuXHJcbiAgICAgICAgdGhpcy5wb2ludHNMZWZ0ID0gMDtcclxuICAgICAgICB0aGlzLnBvaW50c1JpZ2h0ID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5zY29yZUZyYW1lTGVmdCA9IHRoaXMuYWRkLmltYWdlKDIwMCwgNTAsICdtYXJjb0dlbmVyYWwnKS5zZXRTY2FsZSgwLjgsIDAuNTUpLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMuc2NvcmVGcmFtZVJpZ2h0ID0gdGhpcy5hZGQuaW1hZ2UodGhpcy53b3JsZFdpZHRoIC0gMjAwLCA1MCwgJ21hcmNvR2VuZXJhbCcpLnNldFNjYWxlKDAuOCwgMC41NSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2NvcmVMZWZ0ID0gdGhpcy5hZGQudGV4dCgyMDAsIDQ1LCAnMCcsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDk5OTkpO1xyXG5cclxuICAgICAgICB0aGlzLnJpZ2h0U2NvcmUgPSB0aGlzLmFkZC50ZXh0KHRoaXMud29ybGRXaWR0aCAtIDIwMCwgNDUsICcwJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoOTk5OSk7XHJcblxyXG4gICAgICAgIC8vIHN1ZWxvIGRlIHBydWViYTogY3JlYXIgdW4gY3VlcnBvIGVzdMOhdGljbyByZWN0YW5ndWxhciBpbnZpc2libGVcclxuICAgICAgICAvLyBDb25maWd1cmFibGU6IGFsdHVyYSB5IGRlc3BsYXphbWllbnRvIGRlc2RlIGVsIGZvbmRvIChgZ3JvdW5kT2Zmc2V0YClcclxuICAgICAgICBjb25zdCBncm91bmRIZWlnaHQgPSAyMDtcclxuICAgICAgICBjb25zdCBncm91bmRPZmZzZXQgPSA5MDsgLy8gZWxldmFyIGVsIHN1ZWxvIDEwMHB4IGRlc2RlIGVsIGZvbmRvXHJcbiAgICAgICAgdGhpcy5ncm91bmRIZWlnaHQgPSBncm91bmRIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5ncm91bmRZID0gdGhpcy53b3JsZEhlaWdodCAtIGdyb3VuZE9mZnNldDtcclxuXHJcbiAgICAgICAgY29uc3QgZ3JvdW5kID0gdGhpcy5hZGQucmVjdGFuZ2xlKFxyXG4gICAgICAgICAgICB0aGlzLndvcmxkV2lkdGggLyAyLFxyXG4gICAgICAgICAgICB0aGlzLmdyb3VuZFksXHJcbiAgICAgICAgICAgIHRoaXMud29ybGRXaWR0aCxcclxuICAgICAgICAgICAgZ3JvdW5kSGVpZ2h0XHJcbiAgICAgICAgKS5zZXRPcmlnaW4oMC41LCAwKS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAvLyBhw7FhZGlyIHVuIGN1ZXJwbyBmw61zaWNvIGVzdMOhdGljbyBhbCByZWN0w6FuZ3Vsb1xyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuZXhpc3RpbmcoZ3JvdW5kLCB0cnVlKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBwcmltZXJvIHNlIGNyZWFuIGxvcyBqdWdhZG9yZXNcclxuICAgICAgICB0aGlzLl9jcmVhdGVQbGF5ZXJzKCk7XHJcbiAgICAgICAgLy8gZGVzcHXDqXMsIHNlIG1vbnRhbiBsYXMgY29saXNpb25lcyBjb24gZWwgc3VlbG8sIHJlZCwgZXRjLlxyXG4gICAgICAgIC8vIG1vbnRhciBjb2xpc2lvbmVzIGbDrXNpY2FzIGVudHJlIGp1Z2Fkb3JlcyB5IHN1ZWxvIHBhcmEgcXVlIGJvZHkuYmxvY2tlZC5kb3duIGZ1bmNpb25lXHJcbiAgICAgICAgdGhpcy5fc2V0dXBQaHlzaWNzV29ybGQoZ3JvdW5kKTtcclxuICAgICAgICAvLyBwb3Igw7psdGltbywgc2UgYXNpZ25hbiBsYXMgdGVjbGFzXHJcbiAgICAgICAgdGhpcy5fc2V0dXBJbnB1dE1hcHBpbmdzKCk7XHJcblxyXG4gICAgICAgIC8vIHBvd2VydXBzXHJcbiAgICAgICAgdGhpcy5wb3dlclVwcyA9IFtdO1xyXG4gICAgICAgIHRoaXMubWF4UG93ZXJVcHMgPSAyO1xyXG4gICAgICAgIC8vIGxhIGFwYXJpY2nDs24gZGUgcG93ZXItdXBzIHNvbiBtZW5vcyBmcmVjdWVudGVzIHkgY29uIHBlc29zLCBwYXJhIHF1ZSB1bm9zIHNhbGdhblxyXG4gICAgICAgIC8vIG3DoXMgcXVlIG90cm9zIChwb3IgZWplbXBsbywgc2UgcmVkdWNlIGxhIGFwYXJpY2nDs24gZGUgcGFyYWxpemFyKVxyXG4gICAgICAgIHRoaXMucG93ZXJVcFNwYXduQ29uZmlnID0ge1xyXG4gICAgICAgICAgICAvLyBlbnRyZSAzLjUgeSA4IHNlZ3VuZG9zXHJcbiAgICAgICAgICAgIG1pbkRlbGF5TXM6IDM1MDAsXHJcbiAgICAgICAgICAgIG1heERlbGF5TXM6IDgwMDAsXHJcbiAgICAgICAgICAgIHdlaWdodHM6IHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaWRhZDogMyxcclxuICAgICAgICAgICAgICAgIHJhbGVudGl6YXI6IDIsXHJcbiAgICAgICAgICAgICAgICBwYXJhbGl6YXI6IDEsXHJcbiAgICAgICAgICAgICAgICBwb3IyOiAzLFxyXG4gICAgICAgICAgICAgICAgcG9yMzogMlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjb29sZG93bk1zOiB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbGl6YXI6IDEyMDAwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucG93ZXJVcExhc3RTcGF3bkF0ID0ge307XHJcblxyXG4gICAgICAgIHRoaXMuaW52ZW50b3J5VUkgPSB7XHJcbiAgICAgICAgICAgIHBsYXllcjE6IFtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKDUwLCA1MCwgJ3BvcjInKS5zZXRTY2FsZSgxLjQpLnNldFZpc2libGUoZmFsc2UpLnNldERlcHRoKDEpLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMTEwLCA1MCwgJ3BvcjInKS5zZXRTY2FsZSgxLjQpLnNldFZpc2libGUoZmFsc2UpLnNldERlcHRoKDEpXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHBsYXllcjI6IFtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKHRoaXMud29ybGRXaWR0aCAtIDExMCwgNTAsICdwb3IyJykuc2V0U2NhbGUoMS40KS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCgxKSxcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKHRoaXMud29ybGRXaWR0aCAtIDUwLCA1MCwgJ3BvcjInKS5zZXRTY2FsZSgxLjQpLnNldFZpc2libGUoZmFsc2UpLnNldERlcHRoKDEpXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnNjaGVkdWxlUG93ZXJVcFNwYXduKCk7XHJcblxyXG4gICAgICAgIC8vIE1hcmNvcyBkZWwgaW52ZW50YXJpb1xyXG4gICAgICAgIHRoaXMuaW52ZW50b3J5RnJhbWVzID0ge1xyXG4gICAgICAgICAgICBwbGF5ZXIxOiBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSg1MCwgNTAsICdtYXJjb1Bvd2VyVXAnKS5zZXRTY2FsZSgxKS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgwKSxcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKDExMCwgNTAsICdtYXJjb1Bvd2VyVXAnKS5zZXRTY2FsZSgxKS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgwKVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBwbGF5ZXIyOiBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSh0aGlzLndvcmxkV2lkdGggLSAxMTAsIDUwLCAnbWFyY29Qb3dlclVwJykuc2V0U2NhbGUoMSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMCksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSh0aGlzLndvcmxkV2lkdGggLSA1MCwgNTAsICdtYXJjb1Bvd2VyVXAnKS5zZXRTY2FsZSgxKS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgwKVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gaW5pY2lhbGl6YWNpw7NuIGRlIGxhIHBlbG90YVxyXG4gICAgICAgIHRoaXMuX2NyZWF0ZUJhbGwoKTtcclxuICAgICAgICAvLyBlbXB1am9uIHN1dGlsIHBhcmEgZXZpdGFyIHF1ZSBzZSBxdWVkZSBzb2JyZSBsYSByZWQgYWwgaW5pY2lvXHJcbiAgICAgICAgdGhpcy5iYWxsLnNldFNlcnZlUG9zaXRpb24oKTtcclxuICAgICAgICAvLyBjb2xsaWRlcnMgZGUgbGEgcGVsb3RhXHJcbiAgICAgICAgdGhpcy5fc2V0dXBCYWxsQ29sbGlzaW9ucygpO1xyXG4gICAgICAgIC8vIGV2ZW50b3MgZGUgbGEgcGVsb3RhXHJcbiAgICAgICAgdGhpcy5fc2V0dXBCYWxsRXZlbnRzKCk7XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oXCJrZXlkb3duLUVTQ1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoKTsgICAgICAgICAgICAgICAvLyBkZXRpZW5lIGVsIGdhbWUgbG9vcFxyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQucGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goXCJQYXVzZV9TY2VuZVwiKTsgLy8gbXVlc3RyYSBsYSBlc2NlbmEgZGUgcGF1c2FcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigncmVzdW1lJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQucGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2VuZXJhIHVuIG51ZXZvIHBvd2VyLXVwIGVuIHVuYSBwb3NpY2nDs24gYWxlYXRvcmlhIGNhZGEgY2llcnRvIHRpZW1wb1xyXG4gICAgc2NoZWR1bGVQb3dlclVwU3Bhd24oKSB7XHJcbiAgICAgICAgY29uc3QgeyBtaW5EZWxheU1zLCBtYXhEZWxheU1zIH0gPSB0aGlzLnBvd2VyVXBTcGF3bkNvbmZpZztcclxuICAgICAgICBjb25zdCBkZWxheSA9IFBoYXNlci5NYXRoLkJldHdlZW4obWluRGVsYXlNcywgbWF4RGVsYXlNcyk7XHJcblxyXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbChkZWxheSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wb3dlclVwcy5sZW5ndGggPCB0aGlzLm1heFBvd2VyVXBzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gUGhhc2VyLk1hdGguQmV0d2Vlbig4MCwgdGhpcy53b3JsZFdpZHRoIC0gODApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IFBoYXNlci5NYXRoLkJldHdlZW4odGhpcy53b3JsZEhlaWdodCAtIDIyMCwgdGhpcy53b3JsZEhlaWdodCAtIDEyMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMuX2dldFdlaWdodGVkUG93ZXJVcFR5cGUoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG93ZXJVcCA9IG5ldyBQb3dlclVwKHRoaXMsIHgsIHksIHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG93ZXJVcHMucHVzaChwb3dlclVwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvd2VyVXBMYXN0U3Bhd25BdFt0eXBlXSA9IHRoaXMudGltZS5ub3c7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVQb3dlclVwU3Bhd24oKTsgLy8gc2lndWllbnRlIGNvbiBudWV2byBkZWxheSByYW5kb21cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBPYnRpZW5lIHVuIHRpcG8gZGUgcG93ZXItdXAgYmFzYWRvIGVuIGxvcyBwZXNvcyBjb25maWd1cmFkb3MgYW50ZXJpb3JtZW50ZVxyXG4gICAgX2dldFdlaWdodGVkUG93ZXJVcFR5cGUoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3ZWlnaHRzLCBjb29sZG93bk1zIH0gPSB0aGlzLnBvd2VyVXBTcGF3bkNvbmZpZztcclxuXHJcbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy50aW1lLm5vdztcclxuICAgICAgICBjb25zdCBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXMod2VpZ2h0cykuZmlsdGVyKChbdHlwZSwgd2VpZ2h0XSkgPT4ge1xyXG4gICAgICAgICAgICAvLyBzZSBmaWx0cmFuIGxvcyB0aXBvcyBxdWUgbm8gc2UgcHVlZGVuIHVzYXJcclxuICAgICAgICAgICAgLy8gc2kgZWwgcGVzbyBlcyAwXHJcbiAgICAgICAgICAgIGlmICh3ZWlnaHQgPD0gMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAvLyBzaSB0b2RhdsOtYSBlc3TDoSBlbiBjb29sZG93biBkZXNkZSBsYSDDumx0aW1hIGFwYXJpY2nDs25cclxuICAgICAgICAgICAgY29uc3QgY29vbGRvd24gPSBjb29sZG93bk1zPy5bdHlwZV07XHJcbiAgICAgICAgICAgIGlmICghY29vbGRvd24pIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0ID0gdGhpcy5wb3dlclVwTGFzdFNwYXduQXQ/Llt0eXBlXSB8fCAwO1xyXG4gICAgICAgICAgICByZXR1cm4gbm93IC0gbGFzdCA+PSBjb29sZG93bjtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gc2kgbm8gcXVlZGEgbmluZ8O6biB0aXBvIGRpc3BvbmlibGUsIHNlIGRldnVlbHZlIG51bGxcclxuICAgICAgICBpZiAoIWVudHJpZXMubGVuZ3RoKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgLy8gc2Ugc3VtYW4gdG9kb3MgbG9zIHBlc29zLCBzZSBlbGlnZSB1biBuw7ptZXJvIGFsZWF0b3JpbyBlbnRyZSAxIHkgZXNhIHN1bWFcclxuICAgICAgICBjb25zdCB0b3RhbCA9IGVudHJpZXMucmVkdWNlKChzdW0sIFssIHdlaWdodF0pID0+IHN1bSArIHdlaWdodCwgMCk7XHJcbiAgICAgICAgbGV0IHJvbGwgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKDEsIHRvdGFsKTtcclxuICAgICAgICAvLyBzZSB2YW4gcmVzdGFuZG8gcGVzb3MgaGFzdGEgcXVlIGVsIGNvbnRhZG9yIGNhZSBlbiB1biB0aXBvXHJcbiAgICAgICAgZm9yIChjb25zdCBbdHlwZSwgd2VpZ2h0XSBvZiBlbnRyaWVzKSB7XHJcbiAgICAgICAgICAgIHJvbGwgLT0gd2VpZ2h0O1xyXG4gICAgICAgICAgICAvLyBzZSBkZXZ1ZWx2ZSBlbCB0aXBvXHJcbiAgICAgICAgICAgIGlmIChyb2xsIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbR2FtZV9TY2VuZV0gUG93ZXItdXAgYWxlYXRvcmlvOiAnLCB0eXBlKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0eXBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzaSBwb3IgYWxndW5hIHJhesOzbiBubyBjYWUgZW4gbmluZ3Vubywgc2UgZGV2dWVsdmUgZWwgw7psdGltbyB0aXBvIHbDoWxpZG9cclxuICAgICAgICByZXR1cm4gZW50cmllc1tlbnRyaWVzLmxlbmd0aCAtIDFdWzBdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlcHJvZHVjZSB1biBlZmVjdG8gZGUgc29uaWRvXHJcbiAgICBwbGF5U2Z4KGtleSkge1xyXG4gICAgICAgIGlmICgha2V5KSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuc291bmQucGxheShrZXksIHsgdm9sdW1lOiBnZXRTdG9yZWRTZnhWb2x1bWUoKSB9KTtcclxuICAgIH0gICAgXHJcblxyXG4gICAgLy8gQnVjbGUgcHJpbmNpcGFsIGRlbCBqdWVnb1xyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIC8vIHNlIHByb2Nlc2FuIGxvcyBpbnB1dHMgZGUgbG9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMuX2hhbmRsZUlucHV0Rm9yQWxsUGxheWVycygpO1xyXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YW4gbG9zIHBvd2VyLXVwc1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiBwbGF5ZXIudXBkYXRlUG93ZXJVcHMoKSk7XHJcbiAgICAgICAgLy8gc2UgYWN0dWFsaXphIGVsIGVzdGFkbyBkZSBsYSBwZWxvdGFcclxuICAgICAgICBpZiAodGhpcy5iYWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmFsbC51cGRhdGUoKTtcclxuICAgICAgICAgICAgLy8gdmVyaWZpY2FyIHNpIGxhIHBlbG90YSBnb2xwZWEgZWwgc3VlbG8gKGNvbXBhcmFyIGNvbiBsYSBwb3NpY2nDs24gZGVsIHN1ZWxvKVxyXG4gICAgICAgICAgICAvLyBncm91bmRZIGVzIGxhIHBhcnRlIHN1cGVyaW9yIGRlbCBzdWVsb1xyXG4gICAgICAgICAgICBpZiAodGhpcy5iYWxsLmlzQmFsbExpdmUgJiYgdGhpcy5iYWxsLnNwcml0ZS55ID4gdGhpcy5ncm91bmRZKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhbGwub25Hcm91bmRlZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHZlcmlmaWNhciBzaSBsYSBwZWxvdGEgY3J1emEgbGEgcmVkIChyZWQgZXN0w6EgZW4geCA9IDQ4MClcclxuICAgICAgICAgICAgaWYgKHRoaXMuYmFsbC5zcHJpdGUueCA8IDQ3NSAmJiB0aGlzLmJhbGwuY291cnRTaWRlID09PSAncmlnaHQnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhbGwuY3Jvc3NOZXQoKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmJhbGwuc3ByaXRlLnggPiA0ODUgJiYgdGhpcy5iYWxsLmNvdXJ0U2lkZSA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhbGwuY3Jvc3NOZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3R1YWxpemEgZWwgdGVtcG9yaXphZG9yIGNhZGEgc2VndW5kb1xyXG4gICAgdXBkYXRlVGltZXIoKSB7XHJcbiAgICAgICAgdGhpcy50aWVtcG9SZXN0YW50ZS0tO1xyXG5cclxuICAgICAgICAvLyBGb3JtYXRvXHJcbiAgICAgICAgY29uc3QgbWludXRvcyA9IE1hdGguZmxvb3IodGhpcy50aWVtcG9SZXN0YW50ZSAvIDYwKTtcclxuICAgICAgICBjb25zdCBzZWd1bmRvcyA9IHRoaXMudGllbXBvUmVzdGFudGUgJSA2MDtcclxuICAgICAgICBjb25zdCBmb3JtYXRvID0gYCR7bWludXRvcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7c2VndW5kb3MudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWA7XHJcblxyXG4gICAgICAgIHRoaXMudGltZXJUZXh0LnNldFRleHQoZm9ybWF0byk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnRpZW1wb1Jlc3RhbnRlIDw9IDApIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lckV2ZW50LnBhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRklOIERFTCBUSUVNUE9cIik7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zY29yZVAxID4gdGhpcy5zY29yZVAyKSB0aGlzLl9lbmRTZXQoXCJwbGF5ZXIxXCIpO1xyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLnNjb3JlUDIgPiB0aGlzLnNjb3JlUDEpIHRoaXMuX2VuZFNldChcInBsYXllcjJcIik7XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJFbXBhdGUgZW4gZWwgc2V0XCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzZXRTZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3R1YWxpemEgbGEgVUkgZGVsIGludmVudGFyaW8gZGUgcG93ZXItdXBzIGRlIHVuIGp1Z2Fkb3JcclxuICAgIHVwZGF0ZVBsYXllckludmVudG9yeVVJKHBsYXllcikge1xyXG4gICAgICAgIGNvbnN0IHVpID0gdGhpcy5pbnZlbnRvcnlVSVtwbGF5ZXIuaWRdO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAocGxheWVyLnBvd2VyVXBJbnZlbnRvcnlbaV0pIHtcclxuICAgICAgICAgICAgICAgIHVpW2ldLnNldFRleHR1cmUocGxheWVyLnBvd2VyVXBJbnZlbnRvcnlbaV0pO1xyXG4gICAgICAgICAgICAgICAgdWlbaV0uc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHVpW2ldLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLy8vIE3DiVRPRE9TIEFVWElMSUFSRVMgLy8vL1xyXG4gICAgLy8gQ3JlYSBsYXMgYW5pbWFjaW9uZXMgZGUgbG9zIDMgcGVyc29uYWplc1xyXG4gICAgX2NyZWF0ZUFuaW1hdGlvbnMoKSB7XHJcbiAgICAgICAgLy8vLyBDaGFyYWN0ZXJBIC8vLy9cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfbW92ZScsIHsgc3RhcnQ6IDAsIGVuZDogMSB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX21vdmUnLCB7IHN0YXJ0OiAyMCwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9yZWNlaXZlUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX21vdmUnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfbW92ZScsIHsgc3RhcnQ6IDExLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9tb3ZlJywgeyBzdGFydDogMjIsIGVuZDogMzIgfSksIC8vIGZpbGEgMlxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDIyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9ydW5MZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9tb3ZlJywgeyBzdGFydDogMzMsIGVuZDogNDMgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDNcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfanVtcCcsIHsgc3RhcnQ6IDAsIGVuZDogMTIgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9qdW1wJywgeyBzdGFydDogMTMsIGVuZDogMjUgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDFcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8vLy8vLy9cclxuXHJcbiAgICAgICAgLy8vLyBDaGFyYWN0ZXJCIC8vLy9cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDAsIGVuZDogMSB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX21vdmUnLCB7IHN0YXJ0OiAyMCwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTsgICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfcmVjZWl2ZVJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9tb3ZlJywgeyBzdGFydDogMCwgZW5kOiAxMCB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfcmVjZWl2ZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX21vdmUnLCB7IHN0YXJ0OiAxMSwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMVxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9ydW5SaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDIyLCBlbmQ6IDMyIH0pLCAvLyBmaWxhIDJcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfcnVuTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDMzLCBlbmQ6IDQzIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAzXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMjIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9qdW1wUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX2p1bXAnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEyIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9qdW1wTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfanVtcCcsIHsgc3RhcnQ6IDEzLCBlbmQ6IDI1IH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vLy8vLy8vXHJcblxyXG4gICAgICAgIC8vLy8gQ2hhcmFjdGVyQyAvLy8vXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19pZGxlUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX21vdmUnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX2lkbGVMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19tb3ZlJywgeyBzdGFydDogMjAsIGVuZDogMjEgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA1LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7ICAgICAgXHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfcmVjZWl2ZVJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19tb3ZlJywgeyBzdGFydDogMCwgZW5kOiAxMCB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfcmVjZWl2ZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX21vdmUnLCB7IHN0YXJ0OiAxMSwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMVxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19ydW5SaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfbW92ZScsIHsgc3RhcnQ6IDIyLCBlbmQ6IDMyIH0pLCAvLyBmaWxhIDJcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfcnVuTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfbW92ZScsIHsgc3RhcnQ6IDMzLCBlbmQ6IDQzIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAzXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMjIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19qdW1wUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX2p1bXAnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEyIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19qdW1wTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfanVtcCcsIHsgc3RhcnQ6IDEzLCBlbmQ6IDI1IH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vLy8vLy8vXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3JlYSBsb3MgcGVyc29uYWplcyBkZSBjYWRhIGp1Z2Fkb3JcclxuICAgIF9jcmVhdGVQbGF5ZXJzKCkge1xyXG4gICAgICAgIGNvbnN0IGNoYXJQMSA9IHRoaXMucGxheWVyMS5jaGFyYWN0ZXI7XHJcbiAgICAgICAgY29uc3QgY2hhclAyID0gdGhpcy5wbGF5ZXIyLmNoYXJhY3RlcjtcclxuXHJcbiAgICAgICAgY29uc3QgcDEgPSBuZXcgUGxheWVyKFxyXG4gICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAncGxheWVyMScsXHJcbiAgICAgICAgICAgIHRoaXMud29ybGRXaWR0aCAqIDAuMjUsICAgLy8gaXpxdWllcmRhXHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kWSAtIDEwMCwgICAgICAgIC8vIGFycmliYSBkZWwgc3VlbG8gKG3DoXMgbWFyZ2VuKVxyXG4gICAgICAgICAgICBjaGFyUDFcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICBjb25zdCBwMiA9IG5ldyBQbGF5ZXIoXHJcbiAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgdGhpcy53b3JsZFdpZHRoICogMC43NSwgICAvLyBkZXJlY2hhXHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kWSAtIDEwMCwgICAgICAgIC8vIGFycmliYSBkZWwgc3VlbG8gKG3DoXMgbWFyZ2VuKVxyXG4gICAgICAgICAgICBjaGFyUDJcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIxJywgcDEpO1xyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjInLCBwMik7XHJcblxyXG4gICAgICAgIC8vIHNlIGVzdGFibGVjZW4gbG9zIGzDrW1pdGVzIGRlIGxhIGNhbmNoYSBwYXJhIGNhZGEganVnYWRvclxyXG4gICAgICAgIGNvbnN0IGNvdXJ0VG9wID0gNTA7XHJcbiAgICAgICAgLy8gYWxpbmVhciBlbCBsw61taXRlIGluZmVyaW9yIGp1c3RvIHBvciBlbmNpbWEgZGVsIHN1ZWxvXHJcbiAgICAgICAgLy8gY29tbyBlbCBncm91bmQgYWhvcmEgdGllbmUgb3JpZ2luIGVuICgwLjUsIDApLCBncm91bmRZIGVzIGxhIHBhcnRlIHN1cGVyaW9yXHJcbiAgICAgICAgY29uc3QgY291cnRCb3R0b20gPSBNYXRoLmZsb29yKHRoaXMuZ3JvdW5kWSk7XHJcbiAgICAgICAgY29uc3QgY291cnRJbnRlcmlvck1hcmdpbiA9IDI1O1xyXG4gICAgICAgIGNvbnN0IGNvdXJ0RXh0ZXJpb3J0TWFyZ2luID0gODA7XHJcblxyXG4gICAgICAgIC8vIHBsYXllcjEgKGl6cXVpZXJkYSk6XHJcbiAgICAgICAgcDEuc2V0Qm91bmRzKGNvdXJ0RXh0ZXJpb3J0TWFyZ2luLCA0ODAgLSBjb3VydEludGVyaW9yTWFyZ2luLCBjb3VydFRvcCwgY291cnRCb3R0b20pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHBsYXllcjIgKGRlcmVjaGEpOlxyXG4gICAgICAgIHAyLnNldEJvdW5kcyg0ODAgKyBjb3VydEludGVyaW9yTWFyZ2luLCB0aGlzLndvcmxkV2lkdGggLSBjb3VydEV4dGVyaW9ydE1hcmdpbiwgY291cnRUb3AsIGNvdXJ0Qm90dG9tKTtcclxuXHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnNldFBsYXllcnModGhpcy5wbGF5ZXJzKTtcclxuICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3Iuc2V0R2FtZVNjZW5lKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBwb3IgZGVmZWN0bywgYW5pbWFjacOzbiBpZGxlXHJcbiAgICAgICAgcDEuaWRsZVJpZ2h0KCk7XHJcbiAgICAgICAgcDIuaWRsZUxlZnQoKTtcclxuICAgIH0gICAgXHJcblxyXG4gICAgLy8gQ3JlYSBlbCBzdWVsbywgbGEgcmVkLCBsb3MgbMOtbWl0ZXMsIGV0Yy5cclxuICAgIF9zZXR1cFBoeXNpY3NXb3JsZChncm91bmQpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICAvLyBjb2xpc2nDs24ganVnYWRvci1zdWVsb1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIGdyb3VuZCk7XHJcblxyXG4gICAgICAgICAgICAvLyBjb2xpc2nDs24ganVnYWRvci1yZWRcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCB0aGlzLnJlZCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYCR7cGxheWVyLmlkfSB0b2PDsyBsYSByZWQhYCk7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXNpZ25hIGxvcyBjb250cm9sZXMvdGVjbGFzIGRlIGNhZGEganVnYWRvclxyXG4gICAgX3NldHVwSW5wdXRNYXBwaW5ncygpIHtcclxuICAgICAgICBjb25zdCBpbnB1dENvbmZpZyA9IFtcclxuICAgICAgICAgICAgLy8ganVnYWRvciAxXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMScsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnQScsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleTogJ0QnLFxyXG4gICAgICAgICAgICAgICAganVtcEtleTogJ1cnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZUtleTogJ1MnLFxyXG4gICAgICAgICAgICAgICAgcG93ZXJLZXk6ICdFJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyBqdWdhZG9yIDJcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIyJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdKJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnTCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wS2V5OiAnSScsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlS2V5OiAnSycsXHJcbiAgICAgICAgICAgICAgICBwb3dlcktleTogJ08nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBpbnB1dENvbmZpZy5tYXAoY29uZmlnID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiBjb25maWcucGxheWVySWQsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShcclxuICAgICAgICAgICAgICAgICAgICBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmxlZnRLZXldXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFxyXG4gICAgICAgICAgICAgICAgICAgIFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucmlnaHRLZXldXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAganVtcEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoXHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5qdW1wS2V5XVxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFxyXG4gICAgICAgICAgICAgICAgICAgIFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucmVjZWl2ZUtleV1cclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICBwb3dlcktleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoXHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5wb3dlcktleV1cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBQcm9jZXNhIGVsIGlucHV0IGRlIGxvcyBkb3MganVnYWRvcmVzXHJcbiAgICBfaGFuZGxlSW5wdXRGb3JBbGxQbGF5ZXJzKCkge1xyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncy5mb3JFYWNoKG1hcHBpbmcgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLnBsYXllcnMuZ2V0KG1hcHBpbmcucGxheWVySWQpO1xyXG4gICAgICAgICAgICBpZiAoIXBsYXllcikgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgLy8gc2kgZXN0w6EgcGFyYWxpemFkbywgc2UgZGVqYSBlbiBpZGxlXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuaXNQYXJhbHl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlkbGVEaXIgPSAocGxheWVyLmZhY2luZyA9PT0gJ2xlZnQnKSA/ICdpZGxlTGVmdCcgOiAnaWRsZVJpZ2h0JztcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlUGxheWVyQ29tbWFuZChwbGF5ZXIsIGlkbGVEaXIpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBsZXQgZGlyZWN0aW9uO1xyXG5cclxuICAgICAgICAgICAgLy8gbW92aW1pZW50byBob3Jpem9udGFsIG5vcm1hbFxyXG4gICAgICAgICAgICBpZiAobWFwcGluZy5sZWZ0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKG1hcHBpbmcucmlnaHRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAncmlnaHQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIG5vIHNlIHB1bHNhIG5hZGEsIGFzw60gcXVlIHNlIHF1ZWRhIGlkbGUgc2Vnw7puIGhhY2lhIGTDs25kZSBtaXJhYmFcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAocGxheWVyLmZhY2luZyA9PT0gJ2xlZnQnKSA/ICdpZGxlTGVmdCc6ICdpZGxlUmlnaHQnO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBzZSBhcGxpY2EgbW92aW1pZW50by9pZGxlIFNPTE8gc2kgbm8gZXN0w6Egc2FsdGFuZG9cclxuICAgICAgICAgICAgLy8gc2kgZXN0w6Egc2FsdGFuZG8sIG5vIHNlIHByb2Nlc2EgZWwgbW92aW1pZW50byBwYXJhIG5vIHNvYnJlc2NyaWJpciBsYSBhbmltYWNpw7NuXHJcbiAgICAgICAgICAgIGlmICghcGxheWVyLmlzSnVtcGluZykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVQbGF5ZXJDb21tYW5kKHBsYXllciwgZGlyZWN0aW9uKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gcmVjZXBjacOzblxyXG4gICAgICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKG1hcHBpbmcucmVjZWl2ZUtleU9iaikpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlY2VpdmVEaXIgPSAocGxheWVyLmZhY2luZyA9PT0gJ2xlZnQnKSA/ICdyZWNlaXZlTGVmdCcgOiAncmVjZWl2ZVJpZ2h0JztcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlUGxheWVyQ29tbWFuZChwbGF5ZXIsIHJlY2VpdmVEaXIpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBzYWx0by9yZW1hdGVcclxuICAgICAgICAgICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bihtYXBwaW5nLmp1bXBLZXlPYmopKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBqdW1wRGlyID0gKHBsYXllci5mYWNpbmcgPT09ICdsZWZ0JykgPyAnanVtcExlZnQnIDogJ2p1bXBSaWdodCc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IucHJvY2VzcyhcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTW92ZVBsYXllckNvbW1hbmQocGxheWVyLCBqdW1wRGlyKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gUG93ZXJVcHNcclxuICAgICAgICAgICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bihtYXBwaW5nLnBvd2VyS2V5T2JqKSkge1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnVzZU5leHRQb3dlclVwKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBsYXllckludmVudG9yeVVJKHBsYXllcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gc2UgYWN0dWFsaXphIGVsIGVzdGFkbyBkZSBsb3MganVnYWRvcmVzIChzdWVsbywgZXRjLilcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4gcGxheWVyLnVwZGF0ZSgpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhIGxhIHBlbG90YVxyXG4gICAgX2NyZWF0ZUJhbGwoKSB7XHJcbiAgICAgICAgdGhpcy5iYWxsID0gbmV3IEJhbGwodGhpcywgdGhpcy53b3JsZFdpZHRoIC8gMiwgMTUwKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb25maWd1cmEgbGFzIGNvbGlzaW9uZXMgZGUgbGEgcGVsb3RhXHJcbiAgICBfc2V0dXBCYWxsQ29sbGlzaW9ucygpIHtcclxuICAgICAgICAvLyBjb2xpc2lvbmVzIGRlIGxhIHBlbG90YSBjb24gbG9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQub3ZlcmxhcChcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgKCkgPT4gdGhpcy5fb25CYWxsUGxheWVyQ29sbGlzaW9uKHRoaXMuYmFsbCwgcGxheWVyKSxcclxuICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICB0aGlzXHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGNvbGlzacOzbiBwZWxvdGEtcmVkXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcih0aGlzLmJhbGwuc3ByaXRlLCB0aGlzLnJlZCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBFc3RvIHNlIGRpc3BhcmEgYWwgdG9jYXIgbGEgcmVkXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMYSBwZWxvdGEgdG9jYSBsYSByZWQhJyk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBQb3IgZWplbXBsbywgc2UgcHVlZGUgZnJlbmFyIGxhIHBlbG90YTpcclxuICAgICAgICAgICAgdGhpcy5iYWxsLnNwcml0ZS5zZXRWZWxvY2l0eVgodGhpcy5iYWxsLnNwcml0ZS5ib2R5LnZlbG9jaXR5LnggKiAwLjUpO1xyXG4gICAgICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLnNldFZlbG9jaXR5WSh0aGlzLmJhbGwuc3ByaXRlLmJvZHkudmVsb2NpdHkueSAqIDAuNSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGNvbGlzacOzbiBkZSBsYSBwZWxvdGEgY29uIGVsIHN1ZWxvIChkaXNwYXJhIHB1bnR1YWNpw7NuKVxyXG4gICAgICAgIGNvbnN0IGdyb3VuZFkgPSB0aGlzLndvcmxkSGVpZ2h0IC0gMTA7XHJcbiAgICAgICAgdGhpcy5iYWxsLnNwcml0ZS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5iYWxsLnNwcml0ZS5zZXRCb3VuY2UoMC44KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb25maWd1cmEgbG9zIGV2ZW50IGxpc3RlbmVycyBkZSBsYSBwZWxvdGFcclxuICAgIF9zZXR1cEJhbGxFdmVudHMoKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudHMub24oJ3JhbGx5Q29uY2x1ZGVkJywgKGRhdGEpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYFJhbGx5IGNvbmNsdWRlZDogJHtkYXRhLnNjb3JpbmdQbGF5ZXJJZH0gc2NvcmVzIWApO1xyXG4gICAgICAgICAgICBjb25zdCBzY29yZXJJZCA9IGRhdGEuc2NvcmluZ1BsYXllcklkO1xyXG5cclxuICAgICAgICAgICAgLy8gc2UgY29nZSBlbCBwbGF5ZXIgcXVlIGhhIGFub3RhZG9cclxuICAgICAgICAgICAgY29uc3Qgc2NvcmluZ1BsYXllciA9IHRoaXMucGxheWVycy5nZXQoc2NvcmVySWQpO1xyXG4gICAgICAgICAgICBjb25zdCBtdWx0aXBsaWVyID0gc2NvcmluZ1BsYXllciA/IChzY29yaW5nUGxheWVyLnNjb3JlTXVsdGlwbGllciB8fCAxKSA6IDE7XHJcblxyXG4gICAgICAgICAgICAvLyAxIHB1bnRvIGJhc2UgKiBtdWx0aXBsaWNhZG9yXHJcbiAgICAgICAgICAgIGNvbnN0IHBvaW50c1RvQWRkID0gbXVsdGlwbGllcjtcclxuXHJcbiAgICAgICAgICAgIGlmIChzY29yZXJJZCA9PT0gJ3BsYXllcjEnKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBtYXJjYWRvciB2aXN1YWxcclxuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzTGVmdCArPSBwb2ludHNUb0FkZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVMZWZ0LnNldFRleHQodGhpcy5wb2ludHNMZWZ0LnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHB1bnRvcyBkZWwgc2V0IChwYXJhIGzDs2dpY2EgZGUgc2V0cylcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVQMSArPSBwb2ludHNUb0FkZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChzY29yZXJJZCA9PT0gJ3BsYXllcjInKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBvaW50c1JpZ2h0ICs9IHBvaW50c1RvQWRkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yaWdodFNjb3JlLnNldFRleHQodGhpcy5wb2ludHNSaWdodC50b1N0cmluZygpKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjb3JlUDIgKz0gcG9pbnRzVG9BZGQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gc2UgcmVwcm9kdWNlIGVsIGVmZWN0byBkZSBzb25pZG8gZGUgcHVudG9cclxuICAgICAgICAgICAgdGhpcy5wbGF5U2Z4KHRoaXMuc2Z4LnBvaW50KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbmRpY2nDs24gZGUgMTEgcHVudG9zIGNvbiAyIGRlIGRpZmVyZW5jaWFcclxuICAgICAgICAgICAgdGhpcy5fY2hlY2tXaW5Db25kaXRpb24oKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNYW5lamEgY29saXNpw7NuIGVudHJlIHBlbG90YSB5IGp1Z2Fkb3JcclxuICAgIF9vbkJhbGxQbGF5ZXJDb2xsaXNpb24oYmFsbCwgcGxheWVyKSB7XHJcbiAgICAgICAgaWYgKCFiYWxsLmlzQmFsbExpdmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3QgaXNKdW1waW5nID0gIXBsYXllci5zcHJpdGUuYm9keS5ibG9ja2VkLmRvd247XHJcbiAgICAgICAgY29uc3QgaXNSZWNlaXZpbmcgPSBwbGF5ZXIuaXNSZWNlaXZpbmc7XHJcbiAgICAgICAgY29uc3QgcGxheWVyRGlyZWN0aW9uID0gcGxheWVyLmZhY2luZztcclxuXHJcbiAgICAgICAgYmFsbC5oaXQocGxheWVyLCBwbGF5ZXJEaXJlY3Rpb24sIGlzSnVtcGluZywgaXNSZWNlaXZpbmcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbnRyb2xhIGVsIGZpbmFsIGRlbCBqdWVnb1xyXG4gICAgX2VuZEdhbWUod2lubmVyKSB7XHJcbiAgICAgICAgLy8gc2UgcGFyYSBlbCB0aW1lciBkZWwgc2V0XHJcbiAgICAgICAgaWYgKHRoaXMudGltZXJFdmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQucmVtb3ZlKGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lckV2ZW50ID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNlIGRldGllbmUgbGEgZsOtc2ljYSBkZSBlc3RhIGVzY2VuYSBhbnRlcyBkZSBzYWxpclxyXG4gICAgICAgIGlmICh0aGlzLnBoeXNpY3MgJiYgdGhpcy5waHlzaWNzLndvcmxkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy53b3JsZC5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydChcIkVuZEdhbWVfU2NlbmVcIiwge1xyXG4gICAgICAgICAgICB3aW5uZXI6IHdpbm5lcixcclxuICAgICAgICAgICAgcGxheWVyMTogdGhpcy5wbGF5ZXIxLFxyXG4gICAgICAgICAgICBwbGF5ZXIyOiB0aGlzLnBsYXllcjIsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyaWZpY2Egc2kgYWxnw7puIGp1Z2Fkb3IgaGEgZ2FuYWRvIGVsIHNldFxyXG4gICAgX2NoZWNrV2luQ29uZGl0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IG1pblBvaW50cyA9IDExOyAgIC8vIHB1bnRvcyBtw61uaW1vcyBwYXJhIGdhbmFyXHJcbiAgICAgICAgY29uc3QgbWluRGlmZiA9IDI7ICAgICAgLy8gZGlmZXJlbmNpYSBtw61uaW1hIGRlIHB1bnRvcyBwYXJhIGdhbmFyXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gZGlmZXJlbmNpYSBkZSBwdW50b3NcclxuICAgICAgICBjb25zdCBzY29yZURpZmYgPSB0aGlzLnNjb3JlUDEgLSB0aGlzLnNjb3JlUDI7XHJcbiAgICAgICAgY29uc3QgbWF4U2NvcmUgPSBNYXRoLm1heCh0aGlzLnNjb3JlUDEsIHRoaXMuc2NvcmVQMik7XHJcblxyXG4gICAgICAgIC8vIHNpIG5vIHNlIGN1bXBsZSBhbGd1bmEgZGUgbGFzIGNvbmRpY2lvbmVzLCBubyBzZSB0ZXJtaW5hIGVsIHNldFxyXG4gICAgICAgIGlmIChtYXhTY29yZSA8IG1pblBvaW50cyB8fCBNYXRoLmFicyhzY29yZURpZmYpIDwgbWluRGlmZikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzaW5vLCBzZSBkZXRlcm1pbmEgZWwgZ2FuYWRvciBkZWwgc2V0XHJcbiAgICAgICAgY29uc3Qgd2lubmVyID0gc2NvcmVEaWZmID4gMCA/IFwicGxheWVyMVwiIDogXCJwbGF5ZXIyXCI7XHJcbiAgICAgICAgdGhpcy5fZW5kU2V0KHdpbm5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29udHJvbGEgZWwgZmluYWwgZGUgdW4gc2V0XHJcbiAgICBfZW5kU2V0KHdpbm5lcikge1xyXG4gICAgICAgIC8vIGFjdHVhbGl6YXIgc2V0cyBnYW5hZG9zXHJcbiAgICAgICAgaWYgKHdpbm5lciA9PT0gJ3BsYXllcjEnKSB0aGlzLnNldHNQMSsrO1xyXG4gICAgICAgIGVsc2UgaWYgKHdpbm5lciA9PT0gJ3BsYXllcjInKSB0aGlzLnNldHNQMisrO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhgU2V0IHRlcm1pbmFkby4gU2NvcmUgc2V0czogUDE9JHt0aGlzLnNldHNQMX0sIFAyPSR7dGhpcy5zZXRzUDJ9YCk7XHJcblxyXG4gICAgICAgIC8vIG1vc3RyYXIgbWVuc2FqZSBkZSBnYW5hZG9yIGRlIHNldFxyXG4gICAgICAgIGNvbnN0IHdpbm5lckxhYmVsID0gKHdpbm5lciA9PT0gJ3BsYXllcjEnKSA/ICdKdWdhZG9yIDEnIDogJ0p1Z2Fkb3IgMic7XHJcbiAgICAgICAgdGhpcy5zZXRXaW5uZXJUZXh0LnNldFRleHQoYFNldCBwYXJhICR7d2lubmVyTGFiZWx9YCk7XHJcbiAgICAgICAgdGhpcy5zZXRXaW5uZXJUZXh0LnNldFZpc2libGUodHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vIEF2YW56YXIgbsO6bWVybyBkZSBzZXRcclxuICAgICAgICB0aGlzLmN1cnJlbnRTZXQrKztcclxuXHJcbiAgICAgICAgY29uc3QgbWF0Y2hPdmVyID0gKHRoaXMuc2V0c1AxID09PSAyIHx8IHRoaXMuc2V0c1AyID09PSAyKTtcclxuXHJcbiAgICAgICAgaWYgKG1hdGNoT3Zlcikge1xyXG4gICAgICAgICAgICAvLyDDumx0aW1vIHNldDogbW9zdHJhbW9zIGVsIG1lbnNhamUgMnMgeSBsdWVnbyBwYXNhbW9zIGEgbGEgZXNjZW5hIGZpbmFsXHJcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyAoc2kgcXVpZXJlcywgYXF1w60gcG9kcsOtYXMgb2N1bHRhciBlbCB0ZXh0bylcclxuICAgICAgICAgICAgICAgIHRoaXMuX2VuZEdhbWUod2lubmVyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gc2V0IGludGVybWVkaW86IG1vc3RyYW1vcyBlbCBtZW5zYWplIDJzLCBsbyBvY3VsdGFtb3MgeSByZWluaWNpYW1vcyBlbCBzZXRcclxuICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDIwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldFdpbm5lclRleHQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFdpbm5lclRleHQuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNldFNldCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVpbmljaWEgZWwgZXN0YWRvIHBhcmEgdW4gbnVldm8gc2V0XHJcbiAgICBfcmVzZXRTZXQoKSB7XHJcbiAgICAgICAgLy8gc2UgYWN0dWFsaXphIGVsIHRleHRvIGRlbCBzZXQgYWN0dWFsXHJcbiAgICAgICAgdGhpcy5zZXRUZXh0LnNldFRleHQoYFNFVCAke3RoaXMuY3VycmVudFNldH1gKTtcclxuXHJcbiAgICAgICAgLy8gc2UgcmVpbmljaWEgZWwgdGllbXBvXHJcbiAgICAgICAgdGhpcy50aWVtcG9SZXN0YW50ZSA9IHRoaXMudGllbXBvVG90YWw7XHJcbiAgICAgICAgdGhpcy50aW1lckV2ZW50LnBhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudXBkYXRlVGltZXIoKTtcclxuXHJcbiAgICAgICAgLy8gc2UgcmVpbmljaWEgbGEgcHVudHVhY2nDs24gZGVsIHNldCAobMOzZ2ljYSlcclxuICAgICAgICB0aGlzLnNjb3JlUDEgPSAwO1xyXG4gICAgICAgIHRoaXMuc2NvcmVQMiA9IDA7XHJcblxyXG4gICAgICAgIC8vIHNlIHJlaW5pY2lhIGVsIG1hcmNhZG9yIHZpc3VhbCBlbiBwYW50YWxsYVxyXG4gICAgICAgIHRoaXMucG9pbnRzTGVmdCA9IDA7XHJcbiAgICAgICAgdGhpcy5wb2ludHNSaWdodCA9IDA7XHJcbiAgICAgICAgdGhpcy5zY29yZUxlZnQuc2V0VGV4dCgnMCcpO1xyXG4gICAgICAgIHRoaXMucmlnaHRTY29yZS5zZXRUZXh0KCcwJyk7XHJcblxyXG4gICAgICAgIC8vIHNlIHJlaW5pY2lhIGxhIHBlbG90YVxyXG4gICAgICAgIHRoaXMuYmFsbC5yZXNldFJhbGx5KCk7XHJcblxyXG4gICAgICAgIC8vIHNlIHJlcG9zaWNpb25hbiBsb3MganVnYWRvcmVzIGEgc3VzIHBvc2ljaW9uZXMgaW5pY2lhbGVzXHJcbiAgICAgICAgY29uc3QgcDEgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgY29uc3QgcDIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJyk7XHJcblxyXG4gICAgICAgIHAxLnNldFBvc2l0aW9uKHRoaXMud29ybGRXaWR0aCAqIDAuMjUsIHRoaXMud29ybGRIZWlnaHQgKiAwLjcpO1xyXG4gICAgICAgIHAyLnNldFBvc2l0aW9uKHRoaXMud29ybGRXaWR0aCAqIDAuNzUsIHRoaXMud29ybGRIZWlnaHQgKiAwLjcpO1xyXG5cclxuICAgICAgICBwMS5pZGxlUmlnaHQoKTtcclxuICAgICAgICBwMi5pZGxlTGVmdCgpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXlTZngodGhpcy5zZngud2hpc3RsZSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gUGFudGFsbGEgZGUgVHV0b3JpYWxcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBhcHBseVN0b3JlZFZvbHVtZSwgcGxheUNsaWNrIH0gZnJvbSAnLi4vVUkvQXVkaW8uanMnO1xyXG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiwgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFR1dG9yaWFsX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdUdXRvcmlhbF9TY2VuZScpO1xyXG5cclxuICAgICAgICAvLyB1biDDum5pY28gdHV0b3JpYWwgY29uIHDDoWdpbmFzXHJcbiAgICAgICAgdGhpcy5wYWdlSW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMucmV0dXJuU2NlbmUgPSAnTWVudV9TY2VuZSc7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgLy8gZXNjZW5hIGRlc2RlIGxhIHF1ZSBzZSBhYnJpw7MgZWwgdHV0b3JpYWwsIHBhcmEgcmVhbnVkYXJsYVxyXG4gICAgICAgIHRoaXMucmV0dXJuU2NlbmUgPSBkYXRhPy5yZXR1cm5TY2VuZSA/PyAnTWVudV9TY2VuZSc7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBpbcOhZ2VuZXMgZGVsIHR1dG9yaWFsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0dXQwX2NvbnRyb2xlcycsICdBU1NFVFMvVFVUT1JJQUwvVFVUMF9Db250cm9sZXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0dXQxX3NldCcsICdBU1NFVFMvVFVUT1JJQUwvVFVUMV9TZXQucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0dXQyX3BlbG90YScsICdBU1NFVFMvVFVUT1JJQUwvVFVUMl9QZWxvdGEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0dXQzX3Bvd2VydXAnLCAnQVNTRVRTL1RVVE9SSUFML1RVVDNfUG93ZXJ1cC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dDRfbGlzdGEnLCAnQVNTRVRTL1RVVE9SSUFML1RVVDRfTGlzdGEucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGZvbmRvIHkgdWlcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0ZMRUNIQV9WT0xWRVIucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xyXG5cclxuICAgICAgICBjb25zdCBzdHlsZSA9IHtcclxuICAgICAgICAgICAgLi4uKHRoaXMuZ2FtZS5nbG9iYWxzPy5kZWZhdWx0VGV4dFN0eWxlID8/IHtcclxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdWVDMyMycsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gZm9uZG9cclxuICAgICAgICB0aGlzLmFkZFxyXG4gICAgICAgICAgICAuaW1hZ2UoMCwgMCwgJ2ZvbmRvJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpXHJcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gdMOtdHVsb1xyXG4gICAgICAgIHRoaXMubWFpblRpdGxlVGV4dCA9IHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC50ZXh0KGNlbnRlclgsIGhlaWdodCAqIDAuMSwgJ1R1dG9yaWFsJywge1xyXG4gICAgICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzQycHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBWb2x2ZXIgYXRyw6FzXHJcbiAgICAgICAgY3JlYXRlSWNvbkJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcclxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC4wOCxcclxuICAgICAgICAgICAgdGV4dHVyZTogJ2JvdG9uVm9sdmVyJyxcclxuICAgICAgICAgICAgc2NhbGU6IDEsXHJcbiAgICAgICAgICAgIGhvdmVyU2NhbGU6IDEuMSxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWVudV9TY2VuZScpLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBjb250ZW5pZG8gZGVsIHR1dG9yaWFsIChzbGlkZXMgbyBww6FnaW5hcylcclxuICAgICAgICB0aGlzLnBhZ2VJbmRleCA9IDA7XHJcbiAgICAgICAgdGhpcy5wYWdlcyA9IFtcclxuICAgICAgICAgICAgeyBrZXk6ICd0dXQwX2NvbnRyb2xlcycsIHRpdGxlOiAnQ29udHJvbGVzJyB9LFxyXG4gICAgICAgICAgICB7IGtleTogJ3R1dDFfc2V0JywgdGl0bGU6ICdSZWdsYXMgYsOhc2ljYXM6IHNldCcgfSxcclxuICAgICAgICAgICAgeyBrZXk6ICd0dXQyX3BlbG90YScsIHRpdGxlOiAnUmVnbGFzIGLDoXNpY2FzOiBwZWxvdGEnIH0sXHJcbiAgICAgICAgICAgIHsga2V5OiAndHV0M19wb3dlcnVwJywgdGl0bGU6ICdSZWdsYXMgYsOhc2ljYXM6IHBvd2VyLXVwcycgfSxcclxuICAgICAgICAgICAgeyBrZXk6ICd0dXQ0X2xpc3RhJywgdGl0bGU6ICdMaXN0YSBkZSBwb3dlci11cHMnIH1cclxuICAgICAgICBdO1xyXG5cclxuICAgICAgICAvLyBwYW5lbCBwYXJhIGltYWdlbmVzOiBtYXhpbW8gdGFtYW5vIGNvbiBtYXJnZW5lc1xyXG4gICAgICAgIGNvbnN0IHBhbmVsTWFyZ2luID0gTWF0aC5tYXgoOCwgTWF0aC5yb3VuZChNYXRoLm1pbih3aWR0aCwgaGVpZ2h0KSAqIDAuMDE1KSk7XHJcbiAgICAgICAgY29uc3QgcGFuZWxHYXAgPSBNYXRoLm1heCg2LCBNYXRoLnJvdW5kKGhlaWdodCAqIDAuMDEyKSk7XHJcbiAgICAgICAgY29uc3QgbmF2WSA9IGhlaWdodCAqIDAuOTE7XHJcblxyXG4gICAgICAgIGNvbnN0IHBhbmVsVG9wID0gdGhpcy5tYWluVGl0bGVUZXh0LnkgKyB0aGlzLm1haW5UaXRsZVRleHQuaGVpZ2h0ICsgcGFuZWxHYXA7XHJcbiAgICAgICAgY29uc3QgcGFuZWxCb3R0b20gPSBuYXZZIC0gcGFuZWxHYXA7XHJcbiAgICAgICAgY29uc3QgcGFuZWxIZWlnaHQgPSBNYXRoLm1heCgwLCBwYW5lbEJvdHRvbSAtIHBhbmVsVG9wKTtcclxuICAgICAgICBjb25zdCBwYW5lbFdpZHRoID0gTWF0aC5tYXgoMCwgd2lkdGggLSBwYW5lbE1hcmdpbiAqIDIpO1xyXG5cclxuICAgICAgICB0aGlzLmxheW91dCA9IHtcclxuICAgICAgICAgICAgcGFuZWxUb3AsXHJcbiAgICAgICAgICAgIHBhbmVsSGVpZ2h0LFxyXG4gICAgICAgICAgICBwYW5lbFdpZHRoLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGltYWdlbiBkZSBsYSBwYWdpbmFcclxuICAgICAgICB0aGlzLnNsaWRlSW1hZ2UgPSB0aGlzLmFkZC5pbWFnZShcclxuICAgICAgICAgICAgY2VudGVyWCxcclxuICAgICAgICAgICAgcGFuZWxUb3AgKyBwYW5lbEhlaWdodCAvIDIsXHJcbiAgICAgICAgICAgIHRoaXMucGFnZXNbMF0ua2V5XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLl9maXRJbWFnZSh0aGlzLnNsaWRlSW1hZ2UsIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gaW5kaWNhZG9yIGRlIHBhZ2luYVxyXG4gICAgICAgIHRoaXMucGFnZUluZGljYXRvciA9IHRoaXMuYWRkLnRleHQoY2VudGVyWCwgbmF2WSArIDIwLCAnJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBCT1RPTkVTIERFIE5BVkVHQUNJw5NOXHJcbiAgICAgICAgY29uc3QgYnV0dG9uVGV4dFN0eWxlID0geyAuLi5zdHlsZSwgZm9udFNpemU6ICcyOHB4JywgY29sb3I6ICcjMDAwMDAwJyB9O1xyXG4gICAgICAgIC8vIGJvdMOzbiBBbnRlcmlvclxyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogY2VudGVyWCAtIDE2NSxcclxuICAgICAgICAgICAgeTogbmF2WSArIDIwLFxyXG4gICAgICAgICAgICBsYWJlbDogJ0FudGVyaW9yJyxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5wcmV2KCksXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGJvdMOzbiBTaWd1aWVudGVcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IGNlbnRlclggKyAxNjUsXHJcbiAgICAgICAgICAgIHk6IG5hdlkgKyAyMCxcclxuICAgICAgICAgICAgbGFiZWw6ICdTaWd1aWVudGUnLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLm5leHQoKSxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyUGFnZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIF9maXRJbWFnZShpbWcsIG1heFcsIG1heEgpIHtcclxuICAgICAgICBjb25zdCBzY2FsZSA9IE1hdGgubWluKG1heFcgLyBpbWcud2lkdGgsIG1heEggLyBpbWcuaGVpZ2h0KTtcclxuICAgICAgICBpbWcuc2V0U2NhbGUoc2NhbGUpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlclBhZ2UoKSB7XHJcbiAgICAgICAgY29uc3QgcCA9IHRoaXMucGFnZXNbdGhpcy5wYWdlSW5kZXhdO1xyXG4gICAgICAgIHRoaXMubWFpblRpdGxlVGV4dC5zZXRUZXh0KHAudGl0bGUgPz8gJ1R1dG9yaWFsJyk7XHJcbiAgICAgICAgdGhpcy5zbGlkZUltYWdlLnNldFRleHR1cmUocC5rZXkpO1xyXG4gICAgICAgIHRoaXMuX2ZpdEltYWdlKHRoaXMuc2xpZGVJbWFnZSwgdGhpcy5sYXlvdXQucGFuZWxXaWR0aCwgdGhpcy5sYXlvdXQucGFuZWxIZWlnaHQpO1xyXG4gICAgICAgIHRoaXMucGFnZUluZGljYXRvci5zZXRUZXh0KGAke3RoaXMucGFnZUluZGV4ICsgMX0gZGUgJHt0aGlzLnBhZ2VzLmxlbmd0aH1gKTtcclxuICAgIH1cclxuXHJcbiAgICBuZXh0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhZ2VJbmRleCA8IHRoaXMucGFnZXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhZ2VJbmRleCsrO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlclBhZ2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJldigpIHtcclxuICAgICAgICBpZiAodGhpcy5wYWdlSW5kZXggPiAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZUluZGV4LS07XHJcbiAgICAgICAgICAgIHRoaXMucmVuZGVyUGFnZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbn1cclxuIiwiLy8gUGFudGFsbGEgZGUgQ29uZmlndXJhY2nDs25cclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBlbnN1cmVTdG9yZWRBdWRpb1NldHRpbmdzLCBnZXRTdG9yZWRNdXNpY1ZvbHVtZSwgZ2V0U3RvcmVkU2Z4Vm9sdW1lLCBzZXRTdG9yZWRNdXNpY1ZvbHVtZSwgc2V0U3RvcmVkU2Z4Vm9sdW1lLCBhcHBseVN0b3JlZFZvbHVtZSB9IGZyb20gJy4uL1VJL0F1ZGlvLmpzJztcclxuaW1wb3J0IHsgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENvbmZpZ3VyYXRpb25fU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NvbmZpZ3VyYXRpb25fU2NlbmUnKTtcclxuXHJcbiAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZVNsaWRlciA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zZnhWb2x1bWVTbGlkZXIgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gaW3DoWdlbmVzIGZvbmRvIHkgdWlcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0ZMRUNIQV9WT0xWRVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGNvbnRyb2xlc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZGVyVGVjbGFzJywgJ0FTU0VUUy9VSS9DT05UUk9MRVMvZGVyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnaXpxVGVjbGFzJywgJ0FTU0VUUy9VSS9DT05UUk9MRVMvaXpxLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBzb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHMuZGVmYXVsdFRleHRTdHlsZTtcclxuXHJcbiAgICAgICAgLy8gRm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSlcclxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvIGRlIGxhIGVzY2VuYVxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC4xLCAnQ29uZmlndXJhY2nDs24nLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gU3VidGl0dWxvIGRlIG11c2ljYVxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC4yLCAnVm9sdW1lbiBkZSBsYSBtw7pzaWNhJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLy8vIFZPTFVNRU5FUyAvLy8vXHJcbiAgICAgICAgZW5zdXJlU3RvcmVkQXVkaW9TZXR0aW5ncygpO1xyXG4gICAgICAgIGNvbnN0IGluaXRpYWxNdXNpY1ZvbHVtZSA9IGdldFN0b3JlZE11c2ljVm9sdW1lKCk7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbFNmeFZvbHVtZSA9IGdldFN0b3JlZFNmeFZvbHVtZSgpO1xyXG5cclxuICAgICAgICAvLyBzZSBhcGxpY2EgZWwgdm9sdW1lbiBuYWRhIG1hcyBjYXJnYXJcclxuICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gYmFycmEgZGUgdm9sdW1lbiAobXVzaWNhKVxyXG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIgPSB0aGlzLmFkZFxyXG4gICAgICAgICAgICAuZG9tKGNlbnRlclgsIGhlaWdodCAqIDAuMjYpXHJcbiAgICAgICAgICAgIC5jcmVhdGVGcm9tSFRNTChgPGlucHV0IHR5cGU9XCJyYW5nZVwiIG1pbj1cIjBcIiBtYXg9XCIxXCIgc3RlcD1cIjAuMDFcIiB2YWx1ZT1cIiR7aW5pdGlhbE11c2ljVm9sdW1lfVwiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIndpZHRoOjIyMHB4OyBoZWlnaHQ6MjBweDsgYWNjZW50LWNvbG9yOiMwMGFhZmY7IGJvcmRlci1yYWRpdXM6NXB4O1wiLz5cclxuICAgICAgICAgICAgYCk7XHJcblxyXG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIuYWRkTGlzdGVuZXIoJ2lucHV0Jyk7XHJcbiAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZVNsaWRlci5vbignaW5wdXQnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgICAgICAgICBpZiAoISh0YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50KSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgc2V0U3RvcmVkTXVzaWNWb2x1bWUodGFyZ2V0LnZhbHVlKTtcclxuICAgICAgICAgICAgYXBwbHlTdG9yZWRWb2x1bWUodGhpcyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFN1YnRpdHVsbyBkZSBlZmVjdG9zXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjMyLCAnVm9sdW1lbiBkZSBlZmVjdG9zJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBiYXJyYSBkZSB2b2x1bWVuIChlZmVjdG9zKVxyXG4gICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyID0gdGhpcy5hZGRcclxuICAgICAgICAgICAgLmRvbShjZW50ZXJYLCBoZWlnaHQgKiAwLjM4KVxyXG4gICAgICAgICAgICAuY3JlYXRlRnJvbUhUTUwoYDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBtaW49XCIwXCIgbWF4PVwiMVwiIHN0ZXA9XCIwLjAxXCIgdmFsdWU9XCIke2luaXRpYWxTZnhWb2x1bWV9XCJcclxuICAgICAgICAgICAgICAgIHN0eWxlPVwid2lkdGg6MjIwcHg7IGhlaWdodDoyMHB4OyBhY2NlbnQtY29sb3I6IzAwYWFmZjsgYm9yZGVyLXJhZGl1czo1cHg7XCIvPlxyXG4gICAgICAgICAgICBgKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZnhWb2x1bWVTbGlkZXIuYWRkTGlzdGVuZXIoJ2lucHV0Jyk7XHJcbiAgICAgICAgdGhpcy5zZnhWb2x1bWVTbGlkZXIub24oJ2lucHV0JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHNldFN0b3JlZFNmeFZvbHVtZSh0YXJnZXQudmFsdWUpO1xyXG4gICAgICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLy8vLy8vL1xyXG5cclxuICAgICAgICAvLyBib3TDs24gVm9sdmVyIGF0csOhc1xyXG4gICAgICAgIGNyZWF0ZUljb25CdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuMDYsXHJcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXHJcbiAgICAgICAgICAgIHRleHR1cmU6ICdib3RvblZvbHZlcicsXHJcbiAgICAgICAgICAgIHNjYWxlOiAxLFxyXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gU2VwYXJhZG9yIHZpc3VhbFxyXG4gICAgICAgIGNvbnN0IGxpbmUgPSB0aGlzLmFkZC5ncmFwaGljcygpO1xyXG4gICAgICAgICAgICBsaW5lLmxpbmVTdHlsZSgzLCAweDAwMDAwMCwgMSk7IC8vIGdyb3NvciwgY29sb3IsIGFscGhhXHJcbiAgICAgICAgICAgIGxpbmUuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIGxpbmUubW92ZVRvKHdpZHRoICogMC4xLCBoZWlnaHQgKiAwLjQ2KTsgICAvLyBpbmljaW8gKDIwJSBkZWwgYW5jaG8pXHJcbiAgICAgICAgICAgIGxpbmUubGluZVRvKHdpZHRoICogMC45LCBoZWlnaHQgKiAwLjQ2KTsgICAvLyBmaW5hbCAoODAlIGRlbCBhbmNobylcclxuICAgICAgICAgICAgbGluZS5zdHJva2VQYXRoKCk7XHJcblxyXG4gICAgICAgIC8vIENvbnRyb2xlc1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC41MiwgJ0NvbnRyb2xlcycsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3Qgc2VwYXJhdGlvbiA9IDQwMDtcclxuXHJcbiAgICAgICAgLy8gTWluaS10dXRvcmlhbFxyXG4gICAgICAgIC8vIFRFQ0xBUyBERVJFQ0hBXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyICsgc2VwYXJhdGlvbiAvIDIsIDM4MCwgJ2RlclRlY2xhcycpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjM1KVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgLy8gVEVDTEFTIElaUVVJRVJEQVxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiAtIHNlcGFyYXRpb24gLyAyLCAzODAsICdpenFUZWNsYXMnKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4zNSlcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBzZSBsaW1waWEgZWwgc2xpZGVyIGFsIHNhbGlyIGRlIGxhIGVzY2VuYVxyXG4gICAgICAgIC8vIChhc8OtIHNlIGV2aXRhIHF1ZSBzZSBhY3VtdWxlbiBzaSBlbnRyYXMgeSBzYWxlcyB2YXJpYXMgdmVjZXMpXHJcbiAgICAgICAgdGhpcy5ldmVudHMub25jZShQaGFzZXIuU2NlbmVzLkV2ZW50cy5TSFVURE9XTiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tdXNpY1ZvbHVtZVNsaWRlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZVNsaWRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZVNsaWRlciA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2Z4Vm9sdW1lU2xpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIFBhbnRhbGxhIGRlIENyw6lkaXRvc1xuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xuaW1wb3J0IHsgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xuXG5leHBvcnQgY2xhc3MgQ3JlZGl0c19TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdDcmVkaXRzX1NjZW5lJyk7XG4gICAgfVxuXG4gICAgcHJlbG9hZCgpIHtcbiAgICAgICAgLy8gaW3DoWdlbmVzIGZvbmRvIHkgdWlcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9GTEVDSEFfVk9MVkVSLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsb2dvJywgJ0FTU0VUUy9MT0dPL2xvZ29fZW1wcmVzYS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjbycsJ0FTU0VUUy9VSS9NQVJDT1MvVkFDSU9TL01BUkNPU19FU0NFTkFSSU8ucG5nJylcblxuICAgICAgICAvLyBzb25pZG9cbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xuXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHM/LmRlZmF1bHRUZXh0U3R5bGUgPz8ge1xuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGZvbmRvXG4gICAgICAgIHRoaXMuYWRkXG4gICAgICAgICAgICAuaW1hZ2UoMCwgMCwgJ2ZvbmRvJylcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSlcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICAvLyB0w610dWxvXG4gICAgICAgIHRoaXMuYWRkXG4gICAgICAgICAgICAudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjE1LCAnQ3LDqWRpdG9zJywge1xuICAgICAgICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBub21icmVzIGRlbCBlcXVpcG9cbiAgICAgICAgY29uc3Qgbm9tYnJlc0VxdWlwbyA9IFtcbiAgICAgICAgICAgICdHUlVQTyA1IC0gU1VOU0VUIEFSQ0FERScsXG4gICAgICAgICAgICAnU2FyYSBCdWVubyBFc3RlYmFuJyxcbiAgICAgICAgICAgICdBbnRvbmlvIE1vcsOhbiBCYXJyZXJhJyxcbiAgICAgICAgICAgICdDcmlzdGluZSBOaW9rYSBUZXdvJyxcbiAgICAgICAgICAgICfDgWx2YXJvIEliw6HDsWV6IE1vbnRlcm8nLFxuICAgICAgICBdO1xuXG4gICAgICAgIC8vIG1hcmNvIGNlbnRyYWRvXG4gICAgICAgIGNvbnN0IGZyYW1lWSA9IGhlaWdodCAqIDAuNDI7XG4gICAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5hZGQuaW1hZ2UoY2VudGVyWCwgZnJhbWVZLCAnbWFyY28nKS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBlc2NhbGEgZGVsIG1hcmNvIHNlZ8O6biBsYSByZXNvbHVjacOzblxuICAgICAgICBjb25zdCB0YXJnZXRGcmFtZVdpZHRoID0gd2lkdGggKiAwLjQ1O1xuICAgICAgICBjb25zdCBzY2FsZSA9IHRhcmdldEZyYW1lV2lkdGggLyBmcmFtZS53aWR0aDtcbiAgICAgICAgZnJhbWUuc2V0U2NhbGUoc2NhbGUpO1xuXG4gICAgICAgIC8vIHRleHRvcyBkZW50cm8gZGVsIG1hcmNvIGNlbnRyYWRvcyB2ZXJ0aWNhbG1lbnRlXG4gICAgICAgIGNvbnN0IGxpbmVTcGFjaW5nID0gMzA7XG4gICAgICAgIGNvbnN0IHN0YXJ0WSA9IGZyYW1lWSAtICgobm9tYnJlc0VxdWlwby5sZW5ndGggLSAxKSAqIGxpbmVTcGFjaW5nKSAvIDI7XG5cbiAgICAgICAgbm9tYnJlc0VxdWlwby5mb3JFYWNoKChub21icmUsIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGlzSGVhZGVyID0gaSA9PT0gMDtcbiAgICAgICAgICAgIHRoaXMuYWRkXG4gICAgICAgICAgICAgICAgLnRleHQoY2VudGVyWCwgc3RhcnRZICsgaSAqIGxpbmVTcGFjaW5nLCBub21icmUsIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uc3R5bGUsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBpc0hlYWRlciA/ICcyMnB4JyA6ICcyMHB4JyxcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gbG9nbyBlbXByZXNhXG4gICAgICAgIHRoaXMuYWRkXG4gICAgICAgICAgICAuaW1hZ2UoY2VudGVyWCwgaGVpZ2h0ICogMC43OCwgJ2xvZ28nKVxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC42KTtcblxuICAgICAgICAvLyBib3TDs24gVm9sdmVyIGF0csOhc1xuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxuICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsIi8vUGFudGFsbGEgZGUgRmluXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY3JlYXRlVUlCdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBFbmRHYW1lX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdFbmRHYW1lX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy53aW5uZXIgPSBkYXRhLndpbm5lcjtcclxuICAgICAgICB0aGlzLnBsYXllcjEgPSBkYXRhLnBsYXllcjE7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIyID0gZGF0YS5wbGF5ZXIyO1xyXG4gICAgfVxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBpbcOhZ2VuZXMgZm9uZG8geSB1aVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9HX1NFTEVDQ0lPTkFETy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9HLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBzb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkgeyBcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlO1xyXG5cclxuICAgICAgICBjb25zdCBjaGFyUDEgPSB0aGlzLnBsYXllcjEubmFtZTtcclxuICAgICAgICBjb25zdCBjaGFyUDIgPSB0aGlzLnBsYXllcjIubmFtZTtcclxuXHJcbiAgICAgICAgLy8gRm9uZG8gKGNvbG9yIGNyZW1hKVxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpLnNldE9yaWdpbigwKS5zZXREZXB0aCgtMSk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG8gcHJpbmNpcGFsXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAqIDAuMTgsIFwiwqFGSU4gREVMIFBBUlRJRE8hXCIsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBkZWwgZ2FuYWRvclxyXG4gICAgICAgIGNvbnN0IHdpbm5lclRleHQgPVxyXG4gICAgICAgICAgICB0aGlzLndpbm5lciA9PT0gXCJwbGF5ZXIxXCJcclxuICAgICAgICAgICAgICAgID8gXCJHYW5hZG9yOiBcIiArIGNoYXJQMVxyXG4gICAgICAgICAgICAgICAgOiBcIkdhbmFkb3I6IFwiICsgY2hhclAyO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0ICogMC40MCwgd2lubmVyVGV4dCwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBwYXJhIHZvbHZlciBhbCBtZW7DuiBwcmluY2lwYWxcclxuICAgICAgICBjb25zdCBidXR0b25UZXh0U3R5bGUgPSB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI2cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoIC8gMixcclxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC42MCxcclxuICAgICAgICAgICAgbGFiZWw6ICdWb2x2ZXIgYSBpbmljaW8nLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgc2NhbGU6IDMsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiLy8gUGFudGFsbGEgcGFyYSBlbGVnaXIgTW9kbyBkZSBKdWVnb1xyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uLCBjcmVhdGVJY29uQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XHJcbmltcG9ydCB7IGFwcGx5U3RvcmVkVm9sdW1lIH0gZnJvbSAnLi4vVUkvQXVkaW8uanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1vZGVHYW1lX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdNb2RlR2FtZV9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gYm90b25lc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fU0VMRUNDSU9ORE8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX1NJTl9TRUxFQ0NJT05BUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0ZMRUNIQV9WT0xWRVIucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGZvbmRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIHNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHM/LmRlZmF1bHRUZXh0U3R5bGUgPz8ge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHNlIGFwbGljYSBlbCB2b2x1bWVuXHJcbiAgICAgICAgYXBwbHlTdG9yZWRWb2x1bWUodGhpcyk7XHJcblxyXG4gICAgICAgIC8vIGZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpXHJcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gdMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC50ZXh0KHdpZHRoIC8gMiwgaGVpZ2h0ICogMC4xOCwgJ01vZG8gZGUgSnVlZ28nLCB7XHJcbiAgICAgICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgICAgIGZvbnRTaXplOiAnNDBweCcsXHJcbiAgICAgICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICAgICAgZm9udFN0eWxlOiAnYm9sZCcsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gbGF5b3V0XHJcbiAgICAgICAgY29uc3QgYnV0dG9uWSA9IGhlaWdodCAqIDAuNTtcclxuICAgICAgICBjb25zdCBzcGFjaW5nID0gTWF0aC5taW4oMjgwLCB3aWR0aCAqIDAuMyk7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRYID0gd2lkdGggLyAyIC0gc3BhY2luZyAvIDI7XHJcblxyXG4gICAgICAgIGNvbnN0IGJ1dHRvblRleHRTdHlsZSA9IHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3RhcnRNb2RlID0gKG1vZGUpID0+IHtcclxuICAgICAgICAgICAgLy8gU2UgcGFzYSBlbCBtb2RvIGEgbGEgc2lndWllbnRlIGVzY2VuYVxyXG4gICAgICAgICAgICBpZiAobW9kZSA9PT0gJ2xvY2FsJykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnU2VsZWN0UGxheWVyX1NjZW5lJywgeyBtb2RlOiBtb2RlIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTG9nZ2luZ19TY2VuZScsIHsgbW9kZTogbW9kZSB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBMT0NBTFxyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogc3RhcnRYLFxyXG4gICAgICAgICAgICB5OiBidXR0b25ZLFxyXG4gICAgICAgICAgICBsYWJlbDogJ0xvY2FsJyxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gc3RhcnRNb2RlKCdsb2NhbCcpLFxyXG4gICAgICAgICAgICBzY2FsZTogMixcclxuICAgICAgICAgICAgdGV4dHVyZU5vcm1hbDogJ2JvdG9uU2luU2VsZWNjaW9uYXInLFxyXG4gICAgICAgICAgICB0ZXh0dXJlSG92ZXI6ICdib3RvblNlbGVjY2lvbmFkbycsXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gUkVEXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBzdGFydFggKyBzcGFjaW5nLFxyXG4gICAgICAgICAgICB5OiBidXR0b25ZLFxyXG4gICAgICAgICAgICBsYWJlbDogJ1JlZCcsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHN0YXJ0TW9kZSgnb25saW5lJyksXHJcbiAgICAgICAgICAgIHNjYWxlOiAyLFxyXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW5TZWxlY2Npb25hcicsXHJcbiAgICAgICAgICAgIHRleHR1cmVIb3ZlcjogJ2JvdG9uU2VsZWNjaW9uYWRvJyxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiB2b2x2ZXJcclxuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogd2lkdGggKiAwLjA2LFxyXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjA4LFxyXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxyXG4gICAgICAgICAgICBzY2FsZTogMSxcclxuICAgICAgICAgICAgaG92ZXJTY2FsZTogMS4xLFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyksXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLy9QYW50YWxsYSBkZSBQYXVzYVxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgUGF1c2VfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ1BhdXNlX1NjZW5lJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBJbcOhZ2VuZXMgZm9uZG8geSB1aVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvVk9MVkVSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9HX1NFTEVDQ0lPTkFETy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9HLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBTb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHMuZGVmYXVsdFRleHRTdHlsZTsgXHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpLnNldE9yaWdpbigwKS5zZXREZXB0aCgtMSk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGhlaWdodCAqIDAuMTgsICdQQVVTQScsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBidXR0b25UZXh0U3R5bGUgPSB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIENvbnRpbnVhclxyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogY2VudGVyWCxcclxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC41MixcclxuICAgICAgICAgICAgbGFiZWw6ICdDb250aW51YXInLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgc2NhbGU6IDIsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUoJ0dhbWVfU2NlbmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gTWVuw7ogUHJpbmNpcGFsXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBjZW50ZXJYLFxyXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjY2LFxyXG4gICAgICAgICAgICBsYWJlbDogJ01lbsO6IFByaW5jaXBhbCcsXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxyXG4gICAgICAgICAgICBzY2FsZTogMixcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZ2FtZVNjZW5lID0gdGhpcy5zY2VuZS5nZXQoJ0dhbWVfU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIGlmIChnYW1lU2NlbmUpIHtcclxuICAgICAgICAgICAgICAgICAgICBnYW1lU2NlbmUuaW5wdXQua2V5Ym9hcmQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZVNjZW5lLmlucHV0LmtleWJvYXJkLnJlbW92ZUFsbEtleXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoJ0dhbWVfU2NlbmUnKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiLy9QYW50YWxsYSBkZSBTZWxlY2Npb24gZGUganVnYWRvclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xuaW1wb3J0IHsgYXBwbHlTdG9yZWRWb2x1bWUsIHBsYXlDbGljayB9IGZyb20gJy4uL1VJL0F1ZGlvLmpzJztcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uLCBjcmVhdGVJY29uQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XG5cbmV4cG9ydCBjbGFzcyBTZWxlY3RQbGF5ZXJfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignU2VsZWN0UGxheWVyX1NjZW5lJyk7XG5cbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gW107XG4gICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSAwOyAgICAgICAvLyAwIC0+IGp1Z2Fkb3IxLCAxIC0+IGp1Z2Fkb3IyLCBudWxsIC0+IGFtYm9zIGNvbXBsZXRvc1xuICAgICAgICB0aGlzLnBsYXllcklucHV0cyA9IFtdOyAgICAgLy8gRE9NRWxlbWVudHMgUGhhc2VyXG4gICAgICAgIHRoaXMucGxheWVySW5wdXRFbHMgPSBbXTsgICAvLyBIVE1MSW5wdXRFbGVtZW50XG4gICAgICAgIHRoaXMudHVyblRleHQgPSBudWxsO1xuICAgIH1cblxuICAgIGluaXQoZGF0YSkge1xuICAgICAgICB0aGlzLm1vZGUgPSBkYXRhLm1vZGU7XG4gICAgICAgIGNvbnNvbGUubG9nKCdNb2RvIGRlIEp1ZWdvOicsIHRoaXMubW9kZSk7XG4gICAgICAgIHRoaXMuaXNIb3N0ID0gZGF0YS5pc0hvc3Q7XG4gICAgICAgIGNvbnNvbGUubG9nKCdIb3N0OicsIHRoaXMuaXNIb3N0KTtcbiAgICB9XG5cbiAgICBwcmVsb2FkKCkge1xuICAgICAgICAvLyBib3RvbmVzXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fU0VMRUNDSU9ORE8ucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW5TZWxlY2Npb25hcicsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9TSU5fU0VMRUNDSU9OQVIucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvVk9MVkVSLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfU0lOU0VMRUNDSU9OQVIucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRS5wbmcnKTtcblxuICAgICAgICAvLyBmb25kb1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjb0p1Z2Fkb3InLCAnQVNTRVRTL1VJL01BUkNPUy9WQUNJT1MvTUFSQ09fUEVSU09OQUpFX1NFTEVDQ0lPTkFETy5wbmcnKTtcblxuICAgICAgICAvLyBwZXJzb25hamVzXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2hhcmFjdGVyQScsICdBU1NFVFMvUEVSU09OQUpFUy9QRVJTT05BSkVTX1BPU0UvcGVyc29uYWplc19hLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NoYXJhY3RlckInLCAnQVNTRVRTL1BFUlNPTkFKRVMvUEVSU09OQUpFU19QT1NFL3BlcnNvbmFqZXNfYi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjaGFyYWN0ZXJDJywgJ0FTU0VUUy9QRVJTT05BSkVTL1BFUlNPTkFKRVNfUE9TRS9wZXJzb25hamVfYy5wbmcnKTtcblxuICAgICAgICAvLyBzb25pZG9cbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gc2UgbGltcGlhbiB0b2RhcyBsYXMgdGVjbGFzIGNhcHR1cmFkYXMgcG9yIG90cmFzIGVzY2VuYXNcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5yZW1vdmVBbGxLZXlzKHRydWUpO1xuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLnJlbW92ZUFsbExpc3RlbmVycygpO1xuXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcblxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzPy5kZWZhdWx0VGV4dFN0eWxlID8/IHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBzZSBhcGxpY2EgZWwgdm9sdW1lblxuICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcblxuICAgICAgICAvLyBGb25kb1xuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKVxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxuICAgICAgICAgICAgLnNldERlcHRoKC0xKVxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIC8vIFTDrXR1bG9cbiAgICAgICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDUwLCAnU2VsZWNjaW9uYSBQZXJzb25hamUnLCB7XG4gICAgICAgICAgICAuLi5zdHlsZSwgZm9udFNpemU6ICc0MHB4JywgY29sb3I6ICcjMDAwJywgZm9udFN0eWxlOiAnYm9sZCcsXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIC8vIFNlZ3VuIGVsIG1vZG8gc2UgY3JlYSB1bmEgVUkgdSBvdHJhXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdsb2NhbCcpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTG9jYWxVSSh3aWR0aCwgaGVpZ2h0LCBzdHlsZSk7XG4gICAgICAgIH0gXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdvbmxpbmUnKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZU9ubGluZVVJKHdpZHRoLCBoZWlnaHQsIHN0eWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJvdMOzbiB2b2x2ZXJcbiAgICAgICAgY3JlYXRlSWNvbkJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuMDYsXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjA4LFxuICAgICAgICAgICAgdGV4dHVyZTogJ2JvdG9uVm9sdmVyJyxcbiAgICAgICAgICAgIHNjYWxlOiAxLFxuICAgICAgICAgICAgaG92ZXJTY2FsZTogMS4xLFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01vZGVHYW1lX1NjZW5lJyksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHNlIGxpbXBpYSBET00gYWwgc2FsaXJcbiAgICAgICAgdGhpcy5ldmVudHMub25jZShQaGFzZXIuU2NlbmVzLkV2ZW50cy5TSFVURE9XTiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dHMuZm9yRWFjaCgoZG9tKSA9PiBkb20/LmRlc3Ryb3koKSk7XG4gICAgICAgICAgICB0aGlzLnBsYXllcklucHV0cyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dEVscyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY3JlYXRlTG9jYWxVSSh3aWR0aCwgaGVpZ2h0LCBzdHlsZSkge1xuICAgICAgICAvLyBEYXRvcyBkZSBsb3MganVnYWRvcmVzXG4gICAgICAgIHRoaXMucGxheWVycyA9IFtcbiAgICAgICAgICAgIHsgbmFtZTogJycsIGNoYXJhY3RlcjogbnVsbCwgY29sb3I6IDB4MDBhYWZmLCBiaWdJbWFnZTogbnVsbCwgYmlnRnJhbWU6IG51bGwsIGZyYW1lOiBudWxsIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICcnLCBjaGFyYWN0ZXI6IG51bGwsIGNvbG9yOiAweGZmNTU1NSwgYmlnSW1hZ2U6IG51bGwsIGJpZ0ZyYW1lOiBudWxsLCBmcmFtZTogbnVsbCB9LFxuICAgICAgICBdO1xuXG4gICAgICAgIC8vIFRleHRvIGRlIHR1cm5vXG4gICAgICAgIHRoaXMudHVyblRleHQgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgOTAsICdUdXJubzogSnVnYWRvciAxJywge1xuICAgICAgICAgICAgLi4uc3R5bGUsIGZvbnRTaXplOiAnMThweCcsIGNvbG9yOiAnIzAwMCcsXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIC8vIFVJIGp1Z2Fkb3JlcyArIG1pbmlhdHVyYXNcbiAgICAgICAgdGhpcy5jcmVhdGVQbGF5ZXJzVUkoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVDaGFyYWN0ZXJNaW5pYXR1cmVzKDAsIDApO1xuICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XG5cbiAgICAgICAgLy8gQm90w7NuIFNpZ3VpZW50ZVxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXG4gICAgICAgICAgICB5OiA1MDAsXG4gICAgICAgICAgICBsYWJlbDogJ1NpZ3VpZW50ZScsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLmhhbmRsZU5leHQoKSxcbiAgICAgICAgICAgIHNjYWxlOiAxLjUsXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW1wbGUnLFxuICAgICAgICAgICAgdGV4dHVyZUhvdmVyOiAnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLFxuICAgICAgICAgICAgdGV4dFN0eWxlOiB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzE0cHgnLCBjb2xvcjogJyMwMDAnIH0sXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNyZWF0ZU9ubGluZVVJKHdpZHRoLCBoZWlnaHQsIHN0eWxlKSB7XG4gICAgICAgIC8vIERhdG9zIGRlbCBqdWdhZG9yXG4gICAgICAgIHRoaXMucGxheWVycyA9IFtcbiAgICAgICAgICAgIHsgbmFtZTogdGhpcy5yZWdpc3RyeS5nZXQoJ3VzZXJuYW1lJykgfHwgJ0p1Z2Fkb3JYJywgY2hhcmFjdGVyOiBudWxsLCBjb2xvcjogMHgwMGFhZmYsIGJpZ0ltYWdlOiBudWxsLCBiaWdGcmFtZTogbnVsbCwgZnJhbWU6IG51bGwgfVxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxMDAsIGAke3RoaXMucGxheWVyc1swXS5uYW1lfWAsIHsgXG4gICAgICAgICAgICAuLi5zdHlsZSwgZm9udFNpemU6ICcyOHB4JywgY29sb3I6ICcjMDAwJywgZm9udFN0eWxlOiAnYm9sZCcgXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuICAgICAgICBcbiAgICAgICAgLy8gVGV4dG8gZGUgdHVybm8gKEVzdGFkbyBlbiBlc3RlIGNhc28sIHBlcm8gY29uIGVsIG1pc21vIG5vbWJyZSBwYXJhIG1hbnRlcm5lciBsYSBtaXNtYSBmdW5jaW9uYWxpZGFkKVxuICAgICAgICB0aGlzLnR1cm5UZXh0ID0gdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDEzMCwgJ05pbmfDum4gcGVyc29uYWplIHNlbGVjY2lvbmFkbycsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlLCBmb250U2l6ZTogJzE4cHgnLCBjb2xvcjogJyMwMDAnLFxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBVSSBqdWdhZG9yZXMgKyBtaW5pYXR1cmFzXG4gICAgICAgIHRoaXMuY3JlYXRlUGxheWVyT25saW5lVUkoKTtcbiAgICAgICAgdGhpcy5jcmVhdGVDaGFyYWN0ZXJNaW5pYXR1cmVzKDE1MCwgMCk7XG5cbiAgICAgICAgLy8gQm90w7NuIFNpZ3VpZW50ZVxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXG4gICAgICAgICAgICB5OiA1MDAsXG4gICAgICAgICAgICBsYWJlbDogJ1NpZ3VpZW50ZScsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLmhhbmRsZU5leHQoKSxcbiAgICAgICAgICAgIHNjYWxlOiAxLjUsXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW1wbGUnLFxuICAgICAgICAgICAgdGV4dHVyZUhvdmVyOiAnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLFxuICAgICAgICAgICAgdGV4dFN0eWxlOiB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzE0cHgnLCBjb2xvcjogJyMwMDAnIH0sXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBDcmVhIGxhIFVJIGRlIHNlbGVjY2nDs24gZGUganVnYWRvcmVzXG4gICAgY3JlYXRlUGxheWVyc1VJKCkge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHMuZGVmYXVsdFRleHRTdHlsZTtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbnNYID0gW3dpZHRoICogMC4yNSwgd2lkdGggKiAwLjc1XTtcblxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaCgocGxheWVyLCBpZHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHggPSBwb3NpdGlvbnNYW2lkeF07XG5cbiAgICAgICAgICAgIC8vIExhYmVsIG5vbWJyZVxuICAgICAgICAgICAgdGhpcy5hZGQudGV4dCh4LCAxMDAsICdOb21icmU6JywgeyAuLi5zdHlsZSwgZm9udFNpemU6ICcyNHB4JywgY29sb3I6ICcjMDAwJyB9KVxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAgICAgLy8gSW5wdXQgbm9tYnJlXG4gICAgICAgICAgICBjb25zdCBkb20gPSB0aGlzLmFkZC5kb20oeCwgMTQwKS5jcmVhdGVGcm9tSFRNTChgXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJOb21icmUganVnYWRvclwiIG1heGxlbmd0aD1cIjEwXCJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIlxuICAgICAgICAgICAgICAgICAgICB3aWR0aDoxNTBweDtcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzo2cHg7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZToxNnB4O1xuICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseToke3N0eWxlLmZvbnRGYW1pbHl9O1xuICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOjEycHg7XG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogNnB4IHNvbGlkICNGRkFBMDA7XG4gICAgICAgICAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246Y2VudGVyO1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiNmMGYwZjA7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjJzLCBib3gtc2hhZG93IDAuMnM7XCJcbiAgICAgICAgICAgICAgICBvbmZvY3VzPVwidGhpcy5zdHlsZS5ib3JkZXJDb2xvcj0nI0ZGODMxNic7IHRoaXMuc3R5bGUuYm94U2hhZG93PScwIDAgNXB4ICNGRjgzMTYnO1wiXG4gICAgICAgICAgICAgICAgb25ibHVyPVwidGhpcy5zdHlsZS5ib3JkZXJDb2xvcj0nI0ZGQUEwMCc7IHRoaXMuc3R5bGUuYm94U2hhZG93PSdub25lJztcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAgICAgY29uc3QgaW5wdXRFbCA9IC8qKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudH0gKi8gKGRvbS5ub2RlLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykpO1xuXG4gICAgICAgICAgICAvLyBwYXJhIHF1ZSBlbCB0ZWNsYWRvIG5vIGludGVyZmllcmEgY29uIFBoYXNlclxuICAgICAgICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpKTtcblxuICAgICAgICAgICAgLy8gTGV0cmFzICsgZXNwYWNpb3NcbiAgICAgICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaW5wdXRFbC52YWx1ZSA9IGlucHV0RWwudmFsdWUucmVwbGFjZSgvW15hLXpBLVrDgC3Dv8Oxw5EgXS9nLCAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRzW2lkeF0gPSBkb207XG4gICAgICAgICAgICB0aGlzLnBsYXllcklucHV0RWxzW2lkeF0gPSBpbnB1dEVsO1xuXG4gICAgICAgICAgICAvLyDigJxTbG904oCdIGdyYW5kZSArIG1hcmNvXG4gICAgICAgICAgICBwbGF5ZXIuYmlnSW1hZ2UgPSB0aGlzLmFkZC5pbWFnZSh3aWR0aCAqICgwLjI1ICsgMC41ICogaWR4KSwgaGVpZ2h0ICogMC42LCAnY2hhcmFjdGVyQScpXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEuMilcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAgICAgICAgIHBsYXllci5iaWdGcmFtZSA9IHRoaXMuYWRkLmltYWdlKHBsYXllci5iaWdJbWFnZS54LCBwbGF5ZXIuYmlnSW1hZ2UueSwgJ21hcmNvSnVnYWRvcicpXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDIuOClcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgICAgICAuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgIHBsYXllci5iaWdGcmFtZS50ZXh0dXJlLnNldEZpbHRlcihQaGFzZXIuVGV4dHVyZXMuRmlsdGVyTW9kZS5ORUFSRVNUKTtcblxuICAgICAgICAgICAgLy8gTWFyY28gc29icmUgbWluaWF0dXJhIChyZWN0w6FuZ3VsbylcbiAgICAgICAgICAgIHBsYXllci5mcmFtZSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCA2MCwgMTIwKVxuICAgICAgICAgICAgICAgIC5zZXRTdHJva2VTdHlsZSg0LCBwbGF5ZXIuY29sb3IpXG4gICAgICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBUdXJubyBlbXBpZXphIGVuIGp1Z2Fkb3IgMVxuICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gMDtcbiAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xuICAgIH1cblxuICAgIGNyZWF0ZVBsYXllck9ubGluZVVJKCkge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG5cbiAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wbGF5ZXJzWzBdO1xuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xuXG4gICAgICAgIC8vIOKAnFNsb3TigJ0gZ3JhbmRlICsgbWFyY29cbiAgICAgICAgcGxheWVyLmJpZ0ltYWdlID0gdGhpcy5hZGQuaW1hZ2UoY2VudGVyWCAtIDE1MCwgaGVpZ2h0ICogMC41OCwgJ2NoYXJhY3RlckEnKVxuICAgICAgICAgICAgLnNldFNjYWxlKDEuMilcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xuXG4gICAgICAgIHBsYXllci5iaWdGcmFtZSA9IHRoaXMuYWRkLmltYWdlKHBsYXllci5iaWdJbWFnZS54LCBwbGF5ZXIuYmlnSW1hZ2UueSwgJ21hcmNvSnVnYWRvcicpXG4gICAgICAgICAgICAuc2V0U2NhbGUoMi44KVxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgcGxheWVyLmJpZ0ZyYW1lLnRleHR1cmUuc2V0RmlsdGVyKFBoYXNlci5UZXh0dXJlcy5GaWx0ZXJNb2RlLk5FQVJFU1QpO1xuXG4gICAgICAgIC8vIE1hcmNvIHNvYnJlIG1pbmlhdHVyYSAocmVjdMOhbmd1bG8pXG4gICAgICAgIHBsYXllci5mcmFtZSA9IHRoaXMuYWRkLnJlY3RhbmdsZSgwLCAwLCA2MCwgMTIwKVxuICAgICAgICAgICAgLnNldFN0cm9rZVN0eWxlKDQsIHBsYXllci5jb2xvcilcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICB9XG5cbiAgICAvLyBDcmVhIGxhcyBtaW5pYXR1cmFzIGRlIGxvcyBwZXJzb25hamVzIHNlbGVjY2lvbmFibGVzXG4gICAgY3JlYXRlQ2hhcmFjdGVyTWluaWF0dXJlcyh4LCB5KSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcblxuICAgICAgICBjb25zdCBwZXJzb25hamVzID0gWydjaGFyYWN0ZXJBJywgJ2NoYXJhY3RlckInLCAnY2hhcmFjdGVyQyddO1xuICAgICAgICBjb25zdCBzcGFjaW5nID0gMTUwO1xuICAgICAgICBjb25zdCBzdGFydFggPSB3aWR0aCAvIDIgLSBzcGFjaW5nIC8gMjtcbiAgICAgICAgY29uc3Qgc3RhcnRZID0gaGVpZ2h0ICogMC41O1xuXG4gICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IFtcbiAgICAgICAgICAgIHsgeDogc3RhcnRYICsgeCwgeTogc3RhcnRZICsgeSB9LFxuICAgICAgICAgICAgeyB4OiBzdGFydFggKyB4ICsgc3BhY2luZywgeTogc3RhcnRZICsgeSB9LFxuICAgICAgICAgICAgeyB4OiBzdGFydFggKyB4ICsgc3BhY2luZyAvIDIsIHk6IHN0YXJ0WSArIHkgKyBzcGFjaW5nIC8gMiB9LFxuICAgICAgICBdO1xuXG4gICAgICAgIHBlcnNvbmFqZXMuZm9yRWFjaCgobm9tYnJlLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBtaW5pID0gdGhpcy5hZGQuaW1hZ2UocG9zaXRpb25zW2ldLngsIHBvc2l0aW9uc1tpXS55LCBub21icmUpXG4gICAgICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjQ1KVxuICAgICAgICAgICAgICAgIC5zZXREYXRhKCdjaGFyYWN0ZXJOYW1lJywgbm9tYnJlKTtcblxuICAgICAgICAgICAgbWluaS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcGxheUNsaWNrKHRoaXMsICdzb25pZG9DbGljaycpO1xuICAgICAgICAgICAgICAgIHRoaXMub25NaW5pQ2xpY2tlZChub21icmUsIG1pbmkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEzDs2dpY2EgYWwgaGFjZXIgY2xpY2sgc29icmUgdW5hIG1pbmlhdHVyYSAocGVyc29uYWplKVxuICAgIG9uTWluaUNsaWNrZWQoY2hhcmFjdGVyTmFtZSwgbWluaSkge1xuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnb25saW5lJykge1xuICAgICAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wbGF5ZXJzWzBdO1xuXG4gICAgICAgICAgICAvLyBTaSBlbCBwZXJzb25hamUgeWEgZXMgZWwgc2VsZWNjaW9uYWRvLCBzZSBkZXNlbGVjY2lvbmFcbiAgICAgICAgICAgIGlmIChwbGF5ZXIuY2hhcmFjdGVyID09PSBjaGFyYWN0ZXJOYW1lKSB7XG4gICAgICAgICAgICAgICAgcGxheWVyLmNoYXJhY3RlciA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5iaWdJbWFnZSkgcGxheWVyLmJpZ0ltYWdlLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuZnJhbWUpIHBsYXllci5mcmFtZS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gU2kgZXMgdW5vIG51ZXZvLCBzZSBzZWxlY2Npb25hICh5IGF1dG9tw6F0aWNhbWVudGUgZGVzbWFyY2EgZWwgYW50ZXJpb3Igc2kgbG8gaHViaWVyYSlcbiAgICAgICAgICAgICAgICBwbGF5ZXIuY2hhcmFjdGVyID0gY2hhcmFjdGVyTmFtZTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmJpZ0ltYWdlKSBwbGF5ZXIuYmlnSW1hZ2Uuc2V0VGV4dHVyZShjaGFyYWN0ZXJOYW1lKS5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuZnJhbWUpIHBsYXllci5mcmFtZS5zZXRQb3NpdGlvbihtaW5pLngsIG1pbmkueSkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcbiAgICAgICAgICAgIHJldHVybjsgLy8gU2FsaW1vcyBwYXJhIG5vIGVqZWN1dGFyIGxhIGzDs2dpY2EgZGUgdHVybm9zIGRlbCBtb2RvIGxvY2FsXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBvd25lckluZGV4ID0gdGhpcy5wbGF5ZXJzLmZpbmRJbmRleChwID0+IHAuY2hhcmFjdGVyID09PSBjaGFyYWN0ZXJOYW1lKTtcblxuICAgICAgICAvLyBzaSBlbCBwZXJzb25hamUgeWEgcGVydGVuZWNlIGEgYWxndWllbiwgc2UgZGVzZWxlY2Npb25hIHNpZW1wcmVcbiAgICAgICAgaWYgKG93bmVySW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBjb25zdCBvd25lciA9IHRoaXMucGxheWVyc1tvd25lckluZGV4XTtcblxuICAgICAgICAgICAgb3duZXIuY2hhcmFjdGVyID0gbnVsbDtcblxuICAgICAgICAgICAgaWYgKG93bmVyLmJpZ0ltYWdlKSBvd25lci5iaWdJbWFnZS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgIGlmIChvd25lci5mcmFtZSkgb3duZXIuZnJhbWUuc2V0VmlzaWJsZShmYWxzZSk7XG5cbiAgICAgICAgICAgIC8vIEVsIHR1cm5vIHBhc2EgYSBlc2UganVnYWRvciBwYXJhIHF1ZSBlbGlqYSBpbm1lZGlhdGFtZW50ZSBvdHJvXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gb3duZXJJbmRleDtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpIGVsIHBlcnNvbmFqZSBubyBwZXJ0ZW5lY2UgYSBuYWRpZSwgbG8gYXNpZ25hbW9zIHNlZ8O6biBlbCB0dXJubyAobyBzZWfDum4gcXVpw6luIGZhbHRlKVxuICAgICAgICBjb25zdCBwMSA9IHRoaXMucGxheWVyc1swXTtcbiAgICAgICAgY29uc3QgcDIgPSB0aGlzLnBsYXllcnNbMV07XG5cbiAgICAgICAgbGV0IHRhcmdldEluZGV4ID0gdGhpcy5jdXJyZW50VHVybjtcblxuICAgICAgICAvLyBzaSBjdXJyZW50VHVybiBlcyBudWxsIChhbWJvcyB5YSB0ZW7DrWFuKSwgbm8gc2UgZGVqYSByZWVtcGxhemFyIHNpbiBkZXNlbGVjY2lvbmFyIGFudGVzLFxuICAgICAgICAvLyBwZXJvIHNpIHVubyBlc3TDoSB2YWPDrW8sIHNlIGVsaWdlIGF1dG9tw6F0aWNhbWVudGUgZWwgdmFjw61vXG4gICAgICAgIGlmICh0YXJnZXRJbmRleCA9PT0gbnVsbCB8fCB0YXJnZXRJbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoIXAxLmNoYXJhY3RlciAmJiBwMi5jaGFyYWN0ZXIpIHRhcmdldEluZGV4ID0gMDtcbiAgICAgICAgICAgIGVsc2UgaWYgKCFwMi5jaGFyYWN0ZXIgJiYgcDEuY2hhcmFjdGVyKSB0YXJnZXRJbmRleCA9IDE7XG4gICAgICAgICAgICBlbHNlIGlmICghcDEuY2hhcmFjdGVyICYmICFwMi5jaGFyYWN0ZXIpIHRhcmdldEluZGV4ID0gMDtcbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGFtYm9zIHRpZW5lbiBwZXJzb25hamU6IHBhcmEgY2FtYmlhciwgcHJpbWVybyBkZXNlbGVjY2lvbmEgdW5vIChjbGljayBlbiBzdSBtaW5pKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMucGxheWVyc1t0YXJnZXRJbmRleF07XG4gICAgICAgIGNvbnN0IG90aGVyID0gdGhpcy5wbGF5ZXJzWzEgLSB0YXJnZXRJbmRleF07XG5cbiAgICAgICAgLy8gbm8gc2UgcGVybWl0ZSBlc2NvZ2VyIHVubyBxdWUgdGVuZ2EgZWwgb3Ryb1xuICAgICAgICBpZiAob3RoZXIuY2hhcmFjdGVyID09PSBjaGFyYWN0ZXJOYW1lKSByZXR1cm47XG5cbiAgICAgICAgLy8gQXNpZ25hciBwZXJzb25hamVcbiAgICAgICAgdGFyZ2V0LmNoYXJhY3RlciA9IGNoYXJhY3Rlck5hbWU7XG5cbiAgICAgICAgaWYgKHRhcmdldC5iaWdJbWFnZSkgdGFyZ2V0LmJpZ0ltYWdlLnNldFRleHR1cmUoY2hhcmFjdGVyTmFtZSkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgaWYgKHRhcmdldC5mcmFtZSkgdGFyZ2V0LmZyYW1lLnNldFBvc2l0aW9uKG1pbmkueCwgbWluaS55KS5zZXRWaXNpYmxlKHRydWUpO1xuXG4gICAgICAgIC8vIHR1cm5vOiBzaSBlbCBvdHJvIGHDum4gbm8gZWxpZ2nDsywgcGFzYSBhbCBvdHJvOyBzaSB5YSBlbGlnacOzLCBxdWVkYSBlbiBudWxsIChhbWJvcyBsaXN0b3MpXG4gICAgICAgIGlmICghb3RoZXIuY2hhcmFjdGVyKSB0aGlzLmN1cnJlbnRUdXJuID0gMSAtIHRhcmdldEluZGV4O1xuICAgICAgICBlbHNlIHRoaXMuY3VycmVudFR1cm4gPSBudWxsO1xuXG4gICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcbiAgICB9XG5cbiAgICAvLyBDb250cm9sYSBxdWUgcGFzYSBhbCBoYWNlciBjbGljayBlbiBlbCBib3TDs24gU2lndWllbnRlXG4gICAgaGFuZGxlTmV4dCgpIHtcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ2xvY2FsJykge1xuICAgICAgICAgICAgIGNvbnN0IG5hbWUxID0gdGhpcy5wbGF5ZXJJbnB1dEVscz8uWzBdPy52YWx1ZT8udHJpbSgpID8/ICcnO1xuICAgICAgICAgICAgY29uc3QgcDFIYXNDaGFyID0gISF0aGlzLnBsYXllcnM/LlswXT8uY2hhcmFjdGVyO1xuXG4gICAgICAgICAgICBjb25zdCBuYW1lMiA9IHRoaXMucGxheWVySW5wdXRFbHM/LlsxXT8udmFsdWU/LnRyaW0oKSA/PyAnJztcbiAgICAgICAgICAgIGNvbnN0IHAySGFzQ2hhciA9ICEhdGhpcy5wbGF5ZXJzPy5bMV0/LmNoYXJhY3RlcjtcblxuICAgICAgICAgICAgY29uc3QgcmVhZHkgPSAobmFtZTEubGVuZ3RoID4gMCkgJiYgKG5hbWUyLmxlbmd0aCA+IDApICYmIHAxSGFzQ2hhciAmJiBwMkhhc0NoYXI7XG5cbiAgICAgICAgICAgIGlmICghcmVhZHkpIHtcbiAgICAgICAgICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgdGV4dG8gZGUgYXJyaWJhICh0dXJuVGV4dCkgY29uIGVsIG1lbnNhamUgZXNwZWPDrWZpY29cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XG5cbiAgICAgICAgICAgICAgICAvLyBzZSBkZXN0YWNhIGVsIG1lbnNhamUgZW4gcm9qbyBkdXJhbnRlIDFzXG4gICAgICAgICAgICAgICAgdGhpcy5mbGFzaFR1cm5UZXh0KCcjYjAwMDAwJywgOTAwKTtcblxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gc2UgZ3VhcmRhbiBub21icmVzXG4gICAgICAgICAgICB0aGlzLnBsYXllcnNbMF0ubmFtZSA9IG5hbWUxO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzWzFdLm5hbWUgPSBuYW1lMjtcblxuICAgICAgICAgICAgLy8gc2UgcGFzYSBhIGxhIHNpZ3VpZW50ZSBlc2NlbmFcbiAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NlbGVjdFNjZW5hcmlvX1NjZW5lJywge1xuICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLnBsYXllcnNbMF0sXG4gICAgICAgICAgICAgICAgcGxheWVyMjogdGhpcy5wbGF5ZXJzWzFdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnb25saW5lJykge1xuICAgICAgICAgICAgY29uc3QgcDFIYXNDaGFyID0gISF0aGlzLnBsYXllcnM/LlswXT8uY2hhcmFjdGVyO1xuXG4gICAgICAgICAgICBpZiAoIXAxSGFzQ2hhcikge1xuICAgICAgICAgICAgICAgIC8vIFNvbG8gYXZpc2Ftb3Mgc2kgbm8gaGEgZWxlZ2lkbyBwZXJzb25hamVcbiAgICAgICAgICAgICAgICB0aGlzLmZsYXNoVHVyblRleHQoJyNiMDAwMDAnLCA5MDApO1xuICAgICAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRGViZXMgZWxlZ2lyIHVuIHBlcnNvbmFqZSBwcmltZXJvJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LnNldCgnbXlDaGFyYWN0ZXInLCB0aGlzLnBsYXllcnNbMF0uY2hhcmFjdGVyKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNIb3N0KSB7XG4gICAgICAgICAgICAgICAgLy8gU295IGVsIGFkbWluOiBwdWVkbyBwYXNhciBhIGVsZWdpciBlc2NlbmFyaW9cbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RTY2VuYXJpb19TY2VuZScsIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLnBsYXllcnNbMF0sXG4gICAgICAgICAgICAgICAgICAgIGlzSG9zdDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAvLyBObyBwYXNhbW9zIHBsYXllcjIgcG9ycXVlIHNlIHVuaXLDoSBlbiByZWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTG9iYnlfU2NlbmUnLCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyMjogdGhpcy5wbGF5ZXJzWzBdLFxuICAgICAgICAgICAgICAgICAgICBpc0hvc3Q6IGZhbHNlIFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gSGFjZSBwYXJwYWRlYXIgZWwgdGV4dG8gZGUgdHVybm8gY29uIHVuIGNvbG9yIHJvam8gZHVyYW50ZSB1bm9zIG1pbGlzZWd1bmRvc1xuICAgIGZsYXNoVHVyblRleHQoY29sb3IgPSAnI2IwMDAwMCcsIG1zID0gOTAwKSB7XG4gICAgICAgIGlmICghdGhpcy50dXJuVGV4dCkgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IG9sZENvbG9yID0gdGhpcy50dXJuVGV4dC5zdHlsZS5jb2xvciB8fCAnIzAwMDAwMCc7XG4gICAgICAgIHRoaXMudHVyblRleHQuc2V0Q29sb3IoY29sb3IpO1xuXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbChtcywgKCkgPT4ge1xuICAgICAgICAgICAgLy8gdnVlbHZlIGFsIGNvbG9yIG5vcm1hbCB5IHJlZnJlc2NhIGVsIHRleHRvIHBvciBzaSBjYW1iacOzIGFsZ29cbiAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0Q29sb3Iob2xkQ29sb3IpO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBY3R1YWxpemEgZWwgdGV4dG8gZGUgdHVybm8vZXN0YWRvIGFjdHVhbFxuICAgIHVwZGF0ZVR1cm5UZXh0KCkge1xuICAgICAgICBpZiAoIXRoaXMudHVyblRleHQpIHJldHVybjtcblxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnbG9jYWwnKSB7XG4gICAgICAgICAgICBjb25zdCBuYW1lMSA9IHRoaXMucGxheWVySW5wdXRFbHM/LlswXT8udmFsdWU/LnRyaW0oKSA/PyAnJztcbiAgICAgICAgICAgIGNvbnN0IG5hbWUyID0gdGhpcy5wbGF5ZXJJbnB1dEVscz8uWzFdPy52YWx1ZT8udHJpbSgpID8/ICcnO1xuXG4gICAgICAgICAgICBjb25zdCBwMUhhc0NoYXIgPSAhIXRoaXMucGxheWVycz8uWzBdPy5jaGFyYWN0ZXI7XG4gICAgICAgICAgICBjb25zdCBwMkhhc0NoYXIgPSAhIXRoaXMucGxheWVycz8uWzFdPy5jaGFyYWN0ZXI7XG5cbiAgICAgICAgICAgIGNvbnN0IHAxSGFzTmFtZSA9IG5hbWUxLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICBjb25zdCBwMkhhc05hbWUgPSBuYW1lMi5sZW5ndGggPiAwO1xuXG4gICAgICAgICAgICBjb25zdCBhbGxDaGFycyA9IHAxSGFzQ2hhciAmJiBwMkhhc0NoYXI7XG4gICAgICAgICAgICBjb25zdCBhbGxOYW1lcyA9IHAxSGFzTmFtZSAmJiBwMkhhc05hbWU7XG5cbiAgICAgICAgICAgIC8vIHNpIHRvZG8gZXN0w6EgY29tcGxldG9cbiAgICAgICAgICAgIGlmIChhbGxDaGFycyAmJiBhbGxOYW1lcykge1xuICAgICAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0VGV4dCgnTGlzdG86IGFtYm9zIGp1Z2Fkb3JlcyB0aWVuZW4gbm9tYnJlIHkgcGVyc29uYWplJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzaSBmYWx0YW4gTk9NQlJFUyAoeSB5YSBlc3TDoW4gbG9zIHBlcnNvbmFqZXMpLCBlc3BlY2lmaWNhIHF1acOpblxuICAgICAgICAgICAgaWYgKGFsbENoYXJzICYmICFhbGxOYW1lcykge1xuICAgICAgICAgICAgICAgIGlmICghcDFIYXNOYW1lICYmICFwMkhhc05hbWUpIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRmFsdGFuIGxvcyBub21icmVzIGRlIEp1Z2Fkb3IgMSB5IEp1Z2Fkb3IgMicpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFwMUhhc05hbWUpIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRmFsdGEgZWwgbm9tYnJlIGRlbCBKdWdhZG9yIDEnKTtcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRmFsdGEgZWwgbm9tYnJlIGRlbCBKdWdhZG9yIDInKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNpIGZhbHRhbiBQRVJTT05BSkVTICh5IHlhIGVzdMOhbiBsb3Mgbm9tYnJlcyksIGVzcGVjaWZpY2EgcXVpw6luXG4gICAgICAgICAgICBpZiAoYWxsTmFtZXMgJiYgIWFsbENoYXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwMUhhc0NoYXIgJiYgIXAySGFzQ2hhcikgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YW4gbG9zIHBlcnNvbmFqZXMgZGVsIEp1Z2Fkb3IgMSB5IEp1Z2Fkb3IgMicpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFwMUhhc0NoYXIpIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRmFsdGEgZWwgcGVyc29uYWplIGRlbCBKdWdhZG9yIDEnKTtcbiAgICAgICAgICAgICAgICBlbHNlIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRmFsdGEgZWwgcGVyc29uYWplIGRlbCBKdWdhZG9yIDInKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNpIGZhbHRhbiBjb3NhcyBtaXh0YXMgKG5vbWJyZXMgeSBwZXJzb25hamVzKVxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFR1cm4gPT09IG51bGwgfHwgdGhpcy5jdXJyZW50VHVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdDb21wbGV0YSBub21icmVzIHkgcGVyc29uYWplcycpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy50dXJuVGV4dC5zZXRUZXh0KGBUdXJubzogSnVnYWRvciAke3RoaXMuY3VycmVudFR1cm4gKyAxfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ29ubGluZScpIHtcbiAgICBcbiAgICAgICAgICAgIGNvbnN0IHAxSGFzQ2hhciA9ICEhdGhpcy5wbGF5ZXJzPy5bMF0/LmNoYXJhY3RlcjtcblxuICAgICAgICAgICAgaWYgKCFwMUhhc0NoYXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ05pbmfDum4gcGVyc29uYWplIHNlbGVjY2lvbmFkbycpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0xpc3RvOiBlbCBqdWdhZG9yIHRpZW5lIHBlcnNvbmFqZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSIsIi8vUGFudGFsbGEgZGUgU2VsZWNjaW9uIGRlIGVzY2VuYXJpb1xuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xuaW1wb3J0IHsgYXBwbHlTdG9yZWRWb2x1bWUsIHBsYXlDbGljayB9IGZyb20gJy4uL1VJL0F1ZGlvLmpzJztcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uLCBjcmVhdGVJY29uQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XG5cbmV4cG9ydCBjbGFzcyBTZWxlY3RTY2VuYXJpb19TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdTZWxlY3RTY2VuYXJpb19TY2VuZScpO1xuICAgICAgICB0aGlzLnNlbGVjdGVkU2NlbmFyaW8gPSAnR3ltJztcbiAgICAgICAgdGhpcy5tb2RlID0gJ2xvY2FsJztcbiAgICB9XG5cbiAgICBwcmVsb2FkKCkge1xuICAgICAgICAvLyBCb3RvbmVzXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfU0lOU0VMRUNDSU9OQVIucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvRkxFQ0hBX1ZPTFZFUi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZScsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX1NJTlNFTEVDQ0lPTkFSLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0UucG5nJyk7XG5cbiAgICAgICAgLy8gRm9uZG9cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XG5cbiAgICAgICAgLy8gRXNjZW5hcmlvc1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0d5bScsICdBU1NFVFMvRk9ORE9TL0dJTU5BU0lPLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BsYXlhJywgJ0FTU0VUUy9GT05ET1MvUExBWUEucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSmFyZGluJywgJ0FTU0VUUy9GT05ET1MvSkFSRElOLnBuZycpO1xuXG4gICAgICAgIC8vIFNvbmlkb1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XG5cbiAgICAgICAgLy8gTWFyY29cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjbycsICcvQVNTRVRTL1VJL01BUkNPUy9WQUNJT1MvTUFSQ09TX0VTQ0VOQVJJTycpXG4gICAgfVxuXG4gICAgaW5pdChkYXRhKSB7XG4gICAgICAgIHRoaXMucGxheWVyMSA9IGRhdGEucGxheWVyMTtcbiAgICAgICAgdGhpcy5wbGF5ZXIyID0gZGF0YS5wbGF5ZXIyO1xuICAgICAgICB0aGlzLm1vZGUgPSBkYXRhLm1vZGUgfHwgJ2xvY2FsJztcbiAgICAgICAgdGhpcy5pc0hvc3QgPSBkYXRhLmlzSG9zdCB8fCBmYWxzZTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlO1xuXG4gICAgICAgIC8vIHNlIGFwbGljYSBlbCB2b2x1bWVuXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xuXG4gICAgICAgIC8vIEZvbmRvXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XG5cbiAgICAgICAgLy8gVMOtdHVsb1xuICAgICAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgNTAsICdTZWxlY2Npb25hIEVzY2VuYXJpbycsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMCcsXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBJbWFnZW4gZGVsIGVzY2VuYXJpbyBzZWxlY2Npb25hZG9cbiAgICAgICAgdGhpcy5zZWxlY3RlZFNjZW5hcmlvID0gJ0d5bSc7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJbWFnZSA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgMjQwLCB0aGlzLnNlbGVjdGVkU2NlbmFyaW8pLnNldFNjYWxlKDAuNSk7XG5cbiAgICAgICAgLy8gRXNjZW5hcmlvcyAoYm90b25lcylcbiAgICAgICAgY29uc3QgZXNjZW5hcmlvcyA9IFsnR3ltJywgJ1BsYXlhJywgJ0phcmRpbiddO1xuICAgICAgICBjb25zdCBzcGFjaW5nID0gMjAwO1xuICAgICAgICBjb25zdCBzdGFydFggPSB3aWR0aCAvIDIgLSBzcGFjaW5nO1xuXG4gICAgICAgIGNvbnN0IHNjZW5hcmlvQnV0dG9ucyA9IHt9O1xuXG4gICAgICAgIC8vIGZ1bmNpw7NuIHBhcmEgc2VsZWNjaW9uYXIgZXNjZW5hcmlvXG4gICAgICAgIGNvbnN0IHNldFNlbGVjdGVkU2NlbmFyaW8gPSAobm9tYnJlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkU2NlbmFyaW8gPSBub21icmU7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW1hZ2Uuc2V0VGV4dHVyZShub21icmUpLnNldFNjYWxlKDAuNSk7XG5cbiAgICAgICAgICAgIC8vIHNlIGRlamEgbWFyY2FkbyBlbCBzZWxlY2Npb25hZG9cbiAgICAgICAgICAgIGVzY2VuYXJpb3MuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgc2NlbmFyaW9CdXR0b25zW2tleV0uc2V0VGV4dHVyZShrZXkgPT09IG5vbWJyZSA/ICdib3RvblNlbGVjY2lvbmFkbycgOiAnYm90b25TaW5TZWxlY2Npb25hcicpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZXNjZW5hcmlvcy5mb3JFYWNoKChub21icmUsIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvdG9uID0gdGhpcy5hZGQuaW1hZ2Uoc3RhcnRYICsgaSAqIHNwYWNpbmcsIDQ0MCwgJ2JvdG9uU2luU2VsZWNjaW9uYXInKVxuICAgICAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMS43NSk7XG5cbiAgICAgICAgICAgIHNjZW5hcmlvQnV0dG9uc1tub21icmVdID0gYm90b247XG5cbiAgICAgICAgICAgIC8vIHRleHRvIGVuIGVsIGNlbnRyb1xuICAgICAgICAgICAgY29uc3QgdGV4dG8gPSB0aGlzLmFkZC50ZXh0KDAsIDAsIG5vbWJyZSwgeyAuLi5zdHlsZSwgZm9udFNpemU6ICcyNHB4JywgY29sb3I6ICcjMDAwJyB9KTtcbiAgICAgICAgICAgIFBoYXNlci5EaXNwbGF5LkFsaWduLkluLkNlbnRlcih0ZXh0bywgYm90b24pO1xuXG4gICAgICAgICAgICAvLyBob3ZlclxuICAgICAgICAgICAgYm90b24ub24oJ3BvaW50ZXJvdmVyJywgKCkgPT4gYm90b24uc2V0VGV4dHVyZSgnYm90b25TZWxlY2Npb25hZG8nKSk7XG4gICAgICAgICAgICBib3Rvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBib3Rvbi5zZXRUZXh0dXJlKHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyA9PT0gbm9tYnJlID8gJ2JvdG9uU2VsZWNjaW9uYWRvJyA6ICdib3RvblNpblNlbGVjY2lvbmFyJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gY2xpY2s6IHNvbmlkbyArIHNlbGVjY2lvbmFyXG4gICAgICAgICAgICBib3Rvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiBwbGF5Q2xpY2sodGhpcywgJ3Nvbmlkb0NsaWNrJykpO1xuICAgICAgICAgICAgYm90b24ub24oJ3BvaW50ZXJ1cCcsIChwb2ludGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5zaWRlID0gYm90b24uZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnRlci54LCBwb2ludGVyLnkpO1xuICAgICAgICAgICAgICAgIGlmICghaW5zaWRlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRTY2VuYXJpbyhub21icmUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHNlIG1hcmNhIGVsIGVzY2VuYXJpbyBwb3IgZGVmZWN0byB2aXN1YWxtZW50ZVxuICAgICAgICBzZXRTZWxlY3RlZFNjZW5hcmlvKHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyk7XG5cbiAgICAgICAgLy8gTWFyY29cbiAgICAgICAgY29uc3QgZnJhbWVZID0gMjQwOyAvLyBZIGRlIGxhIGltYWdlbiBkZWwgZXNjZW5hcmlvXG4gICAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyLCBmcmFtZVksICdtYXJjbycpLnNldE9yaWdpbigwLjUpO1xuICAgICAgICBmcmFtZS50ZXh0dXJlLnNldEZpbHRlcihQaGFzZXIuVGV4dHVyZXMuRmlsdGVyTW9kZS5ORUFSRVNUKTtcblxuICAgICAgICAvLyBBanVzdGUgZGVsIHRhbWHDsW8gZGVsIG1hcmNvXG4gICAgICAgIGNvbnN0IHRhcmdldEZyYW1lV2lkdGggPSA1MDA7IFxuICAgICAgICBjb25zdCB0YXJnZXRGcmFtZUhlaWdodCA9IDMwMDtcbiAgICAgICAgZnJhbWUuc2V0RGlzcGxheVNpemUodGFyZ2V0RnJhbWVXaWR0aCwgdGFyZ2V0RnJhbWVIZWlnaHQpO1xuXG4gICAgICAgIC8vIGJvdMOzbiBTaWd1aWVudGVcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xuICAgICAgICAgICAgeDogd2lkdGggLyAyLFxuICAgICAgICAgICAgeTogNTAwLFxuICAgICAgICAgICAgbGFiZWw6ICdTaWd1aWVudGUnLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdsb2NhbCcpe1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lX1NjZW5lJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyMTogdGhpcy5wbGF5ZXIxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyMjogdGhpcy5wbGF5ZXIyLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRTY2VuYXJpbzogdGhpcy5zZWxlY3RlZFNjZW5hcmlvLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNIb3N0OiB0aGlzLmlzSG9zdFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdMb2JieV9TY2VuZScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcjE6IHRoaXMucGxheWVyMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcjI6IHRoaXMucGxheWVyMixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkU2NlbmFyaW86IHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSG9zdDogdGhpcy5pc0hvc3RcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNjYWxlOiAxLjUsXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW1wbGUnLFxuICAgICAgICAgICAgdGV4dHVyZUhvdmVyOiAnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLFxuICAgICAgICAgICAgdGV4dFN0eWxlOiB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzEycHgnLCBjb2xvcjogJyMwMDAnIH0sXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBib3TDs24gVm9sdmVyIGF0csOhc1xuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxuICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NlbGVjdFBsYXllcl9TY2VuZScsIHsgXG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgICAgICAgICAgICAgaXNIb3N0OiB0aGlzLmlzSG9zdFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59IiwiLy9QYW50YWxsYSBkZSBMb2JieVxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xuaW1wb3J0IHsgY3JlYXRlVUlCdXR0b24sIGNyZWF0ZUljb25CdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcblxuZXhwb3J0IGNsYXNzIExvYmJ5X1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ0xvYmJ5X1NjZW5lJyk7XG4gICAgICAgIHRoaXMuaXNQbGF5ZXJSZWFkeSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGluaXQoZGF0YSkge1xuICAgICAgICAvLyBSZWN1cGVyYW1vcyBlbCBtb2RvLCBlbCByb2wgeSBsb3MgZGF0b3MgZGUganVnYWRvclxuICAgICAgICB0aGlzLm1vZGUgPSBkYXRhLm1vZGU7XG4gICAgICAgIHRoaXMuaXNIb3N0ID0gZGF0YS5pc0hvc3Q7XG4gICAgICAgIHRoaXMucGxheWVyMSA9IGRhdGEucGxheWVyMTsgLy8gU2kgZXMgSG9zdFxuICAgICAgICB0aGlzLnBsYXllcjIgPSBkYXRhLnBsYXllcjI7IC8vIFNpIGVzIEludml0YWRvXG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZygnTG9iYnkgaW5pY2lhZG8gY29tbzonLCB0aGlzLmlzSG9zdCA/ICdIb3N0JyA6ICdJbnZpdGFkbycpO1xuICAgIH1cblxuICAgIHByZWxvYWQoKSB7XG4gICAgICAgIC8vIEltw6FnZW5lcyBmb25kbyB5IHVpXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvVk9MVkVSLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjbycsJ0FTU0VUUy9VSS9NQVJDT1MvVkFDSU9TL01BUkNPU19FU0NFTkFSSU8ucG5nJylcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZScsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX1NJTlNFTEVDQ0lPTkFSLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0UucG5nJyk7XG5cbiAgICAgICAgLy8gU29uaWRvXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHMuZGVmYXVsdFRleHRTdHlsZTsgXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcblxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKS5zZXRPcmlnaW4oMCkuc2V0RGVwdGgoLTEpO1xuXG4gICAgICAgIC8vIFTDrXR1bG9cbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjE4LCAnTE9CQlknLCB7XG4gICAgICAgICAgICAuLi5zdHlsZSwgZm9udFNpemU6ICc0MHB4JywgY29sb3I6ICcjMDAwJywgZm9udFN0eWxlOiAnYm9sZCdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgLy8gRmlsdHJvIGRlbCBtYXJjb1xuICAgICAgICBjb25zdCBmcmFtZVkgPSBoZWlnaHQgKiAwLjQ4O1xuICAgICAgICBjb25zdCBmcmFtZSA9IHRoaXMuYWRkLmltYWdlKGNlbnRlclgsIGZyYW1lWSwgJ21hcmNvJykuc2V0T3JpZ2luKDAuNSk7XG4gICAgICAgIGZyYW1lLnRleHR1cmUuc2V0RmlsdGVyKFBoYXNlci5UZXh0dXJlcy5GaWx0ZXJNb2RlLk5FQVJFU1QpO1xuXG4gICAgICAgIC8vIEVzY2FsYSBkZWwgbWFyY29cbiAgICAgICAgY29uc3QgdGFyZ2V0RnJhbWVXaWR0aCA9IHdpZHRoICogMC4zO1xuICAgICAgICBjb25zdCB0YXJnZXRGcmFtZUhlaWdodCA9IGhlaWdodCAqIDAuMztcbiAgICAgICAgZnJhbWUuc2V0RGlzcGxheVNpemUodGFyZ2V0RnJhbWVXaWR0aCwgdGFyZ2V0RnJhbWVIZWlnaHQpO1xuXG4gICAgICAgIC8vIENvbmZpZ3VyYWNpw7NuIGRlIG5vbWJyZXMgeSBlc3RhZG9zXG4gICAgICAgIGNvbnN0IGxpbmVTcGFjaW5nID0gNDA7XG4gICAgICAgIGNvbnN0IHN0YXJ0WSA9IGZyYW1lWSAtIGxpbmVTcGFjaW5nO1xuXG4gICAgICAgIC8vIFTDrXR1bG8vRW5jYWJlemFkbyBkZWwgTG9iYnkgKGRlbnRybyBkZWwgbWFyY28gYXJyaWJhKVxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIHN0YXJ0WSwgXCJFU1RBRE8gREUgSlVHQURPUkVTXCIsIHtcbiAgICAgICAgICAgIC4uLnN0eWxlLFxuICAgICAgICAgICAgZm9udFNpemU6ICcyMnB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXG4gICAgICAgICAgICBmb250U3R5bGU6ICdib2xkJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLyBKdWdhZG9yIDFcbiAgICAgICAgY29uc3QgbmFtZTEgPSB0aGlzLmlzSG9zdCA/ICh0aGlzLnBsYXllcjE/Lm5hbWUgfHwgJ1TDuicpIDogKHRoaXMucGxheWVyMT8ubmFtZSB8fCAnQWRtaW4uLi4nKTtcbiAgICAgICAgdGhpcy5wMVN0YXR1c1RleHQgPSB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGZyYW1lWSwgYCR7bmFtZTF9IC0tLSDinYxgLCB7XG4gICAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIC8vIEp1Z2Fkb3IgMlxuICAgICAgICBjb25zdCBuYW1lMiA9ICF0aGlzLmlzSG9zdCA/ICh0aGlzLnBsYXllcjI/Lm5hbWUgfHwgJ1TDuicpIDogKHRoaXMucGxheWVyMj8ubmFtZSB8fCAnRXNwZXJhbmRvLi4uJyk7XG4gICAgICAgIHRoaXMucDJTdGF0dXNUZXh0ID0gdGhpcy5hZGQudGV4dChjZW50ZXJYLCBmcmFtZVkgKyBsaW5lU3BhY2luZywgYCR7bmFtZTJ9IC0tLSDinYxgLCB7XG4gICAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIC8vIEJvdMOzbiBMaXN0b1xuICAgICAgICB0aGlzLmJ0bkxpc3RvID0gY3JlYXRlVUlCdXR0b24odGhpcywge1xuICAgICAgICAgICAgeDogY2VudGVyWCxcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuNzUsXG4gICAgICAgICAgICBsYWJlbDogJ0xpc3RvPycsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnRvZ2dsZVJlYWR5KCksXG4gICAgICAgICAgICBzY2FsZTogMS41LFxuICAgICAgICAgICAgdGV4dHVyZU5vcm1hbDogJ2JvdG9uU2ltcGxlJyxcbiAgICAgICAgICAgIHRleHR1cmVIb3ZlcjogJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJyxcbiAgICAgICAgICAgIHRleHRTdHlsZTogeyAuLi5zdHlsZSwgZm9udFNpemU6ICcxNHB4JywgY29sb3I6ICcjMDAwJyB9LFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJ1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBCb3TDs24gVm9sdmVyXG4gICAgICAgIHRoaXMuYnRuVm9sdmVyID0gY3JlYXRlSWNvbkJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuMDYsXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjA4LFxuICAgICAgICAgICAgdGV4dHVyZTogJ2JvdG9uVm9sdmVyJyxcbiAgICAgICAgICAgIHNjYWxlOiAxLFxuICAgICAgICAgICAgaG92ZXJTY2FsZTogMS4xLFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuaGFuZGxlQmFjaygpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHRvZ2dsZVJlYWR5KCkge1xuICAgICAgICB0aGlzLmlzUGxheWVyUmVhZHkgPSAhdGhpcy5pc1BsYXllclJlYWR5O1xuICAgICAgICBjb25zdCBlbW9qaSA9IHRoaXMuaXNQbGF5ZXJSZWFkeSA/ICfinIUnIDogJ+KdjCc7XG4gICAgICAgIFxuICAgICAgICAvLyBBY3R1YWxpemFtb3MgdmlzdWFsbWVudGUgTlVFU1RSTyBlc3RhZG9cbiAgICAgICAgaWYgKHRoaXMuaXNIb3N0KSB7XG4gICAgICAgICAgICB0aGlzLnAxU3RhdHVzVGV4dC5zZXRUZXh0KGAke3RoaXMucGxheWVyMS5uYW1lfSAtLS0gJHtlbW9qaX1gKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucDJTdGF0dXNUZXh0LnNldFRleHQoYCR7dGhpcy5wbGF5ZXIyLm5hbWV9IC0tLSAke2Vtb2ppfWApO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbnVldm9UZXh0b0JvdG9uID0gdGhpcy5pc1BsYXllclJlYWR5ID8gJ0NBTkNFTEFSJyA6ICdMSVNUTz8nO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuYnRuTGlzdG8uc2V0TGFiZWwpIHtcbiAgICAgICAgICAgIHRoaXMuYnRuTGlzdG8uc2V0TGFiZWwobnVldm9UZXh0b0JvdG9uKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmJ0bkxpc3RvLnRleHQpIHtcbiAgICAgICAgICAgIHRoaXMuYnRuTGlzdG8udGV4dC5zZXRUZXh0KG51ZXZvVGV4dG9Cb3Rvbik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEJsb3F1ZWFyL0Rlc2Jsb3F1ZWFyIGJvdMOzbiB2b2x2ZXJcbiAgICAgICAgaWYgKHRoaXMuaXNQbGF5ZXJSZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5idG5Wb2x2ZXIuZGlzYWJsZUludGVyYWN0aXZlKCk7XG4gICAgICAgICAgICB0aGlzLmJ0blZvbHZlci5zZXRBbHBoYSgwLjMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5idG5Wb2x2ZXIuc2V0SW50ZXJhY3RpdmUoKTtcbiAgICAgICAgICAgIHRoaXMuYnRuVm9sdmVyLnNldEFscGhhKDEpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQXF1w60gZXMgZG9uZGUgZW52aWEgYWwgc2Vydmlkb3JcbiAgICAgICAgLy8gc29ja2V0LmVtaXQoJ3BsYXllcl9yZWFkeV9zdGF0dXMnLCB0aGlzLmlzUGxheWVyUmVhZHkpO1xuICAgIH1cblxuICAgIGhhbmRsZUJhY2soKSB7XG4gICAgICAgIGNvbnN0IHRhcmdldFNjZW5lID0gdGhpcy5pc0hvc3QgPyAnU2VsZWN0U2NlbmFyaW9fU2NlbmUnIDogJ1NlbGVjdFBsYXllcl9TY2VuZSc7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmlzSG9zdCA/IHsgbW9kZTogdGhpcy5tb2RlLCBwbGF5ZXIxOiB0aGlzLnBsYXllcjEsIGlzSG9zdDogdHJ1ZSB9IDogeyBtb2RlOiB0aGlzLm1vZGUsIGlzSG9zdDogZmFsc2UgfTtcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydCh0YXJnZXRTY2VuZSwgZGF0YSk7XG4gICAgfVxufSIsIi8vUGFudGFsbGEgZGUgTG9nZ2luZ1xuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xuaW1wb3J0IHsgY3JlYXRlVUlCdXR0b24sIGNyZWF0ZUljb25CdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcblxuZXhwb3J0IGNsYXNzIExvZ2dpbmdfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcignTG9nZ2luZ19TY2VuZScpO1xuICAgICAgICB0aGlzLmlzUGxheWVyUmVhZHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5hcGlVcmwgPSAnL2FwaSc7XG4gICAgfVxuXG4gICAgYXN5bmMgaW5pdChkYXRhKSB7XG4gICAgICAgIHRoaXMubW9kZSA9IGRhdGEubW9kZTtcblxuICAgICAgICBjb25zdCBzYXZlZE5hbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndm9sZXlfdXNlcm5hbWUnKTtcbiAgICAgICAgY29uc3Qgc2F2ZWRQYXNzID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3ZvbGV5X3Bhc3N3b3JkJyk7IC8vIEd1YXJkYSBsYSBwYXNzIChvIHVuIHRva2VuKSBwYXJhIHJlLWxvZ3VlYXJcblxuICAgICAgICBpZiAoc2F2ZWROYW1lICYmIHNhdmVkUGFzcykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbnRlbnRhbmRvIGF1dG8tbG9naW4gcGFyYTpcIiwgc2F2ZWROYW1lKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRW4gbHVnYXIgZGUgZW50cmFyIGRpcmVjdG8sIHByZWd1bnRhbW9zIGFsIHNlcnZpZG9yIHBhcmEgcXVlIG5vcyBhc2lnbmUgSG9zdC9JbnZpdGFkb1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3RoaXMuYXBpVXJsfS9sb2dpbmAsIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVzZXJuYW1lOiBzYXZlZE5hbWUsIHBhc3N3b3JkOiBzYXZlZFBhc3MgfSlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KCd1c2VybmFtZScsIHJlc0RhdGEudXNlcm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LnNldCgnaXNIb3N0JywgcmVzRGF0YS5pc0hvc3QpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RQbGF5ZXJfU2NlbmUnLCB7IG1vZGU6IHRoaXMubW9kZSwgaXNIb3N0OiByZXNEYXRhLmlzSG9zdCB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkF1dG8tbG9naW4gZmFsbGlkb1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByZWxvYWQoKSB7XG4gICAgICAgIC8vIGJvdG9uZXNcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZScsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX1NJTlNFTEVDQ0lPTkFSLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0UucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvRkxFQ0hBX1ZPTFZFUi5wbmcnKTtcblxuICAgICAgICAvLyBmb25kb1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcblxuICAgICAgICAvLyBzb25pZG9cbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xuICAgICAgICBcbiAgICAgICAgLy8gbWFyY29cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjbycsJ0FTU0VUUy9VSS9NQVJDT1MvVkFDSU9TL01BUkNPU19FU0NFTkFSSU8ucG5nJylcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscz8uZGVmYXVsdFRleHRTdHlsZSA/PyB7IGZvbnRGYW1pbHk6ICdBcmlhbCcgfTtcblxuICAgICAgICAvLyBGb25kb1xuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKS5zZXRPcmlnaW4oMCkuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCkuc2V0RGVwdGgoLTEpO1xuXG4gICAgICAgIC8vIFRpdHVsb1xuICAgICAgICB0aGlzLnRpdGxlVGV4dCA9IHRoaXMuYWRkLnRleHQoY2VudGVyWCwgNjAsICdJTklDSUFSIFNFU0nDk04nLCB7XG4gICAgICAgICAgICAuLi5zdHlsZSwgZm9udFNpemU6ICczNnB4JywgY29sb3I6ICcjMDAwJywgZm9udFN0eWxlOiAnYm9sZCdcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgLy8gTWFyY29cbiAgICAgICAgY29uc3QgbWFyY28gPSB0aGlzLmFkZC5pbWFnZShjZW50ZXJYLCBoZWlnaHQgKiAwLjUyLCAnbWFyY28nKS5zZXRPcmlnaW4oMC41KTtcbiAgICAgICAgbWFyY28uc2V0RGlzcGxheVNpemUod2lkdGggKiAwLjQsIGhlaWdodCAqIDAuNjUpO1xuICAgICAgICBtYXJjby50ZXh0dXJlLnNldEZpbHRlcihQaGFzZXIuVGV4dHVyZXMuRmlsdGVyTW9kZS5ORUFSRVNUKTsgLy8gU29sbyBhIGVzdGEgaW5zdGFuY2lhXG5cbiAgICAgICAgLy8gSU5QVVRTXG4gICAgICAgIC8vIFVzdWFyaW9cbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjI4LCAnVXN1YXJpbzonLCB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzIwcHgnLCBjb2xvcjogJyMwMDAnIH0pLnNldE9yaWdpbigwLjUpO1xuICAgICAgICB0aGlzLnVzZXJJbnB1dCA9IHRoaXMuY3JlYXRlSHRtbElucHV0KGNlbnRlclgsIGhlaWdodCAqIDAuMzUsICdOb21icmUgZGUgdXN1YXJpbycsIHN0eWxlKTtcblxuICAgICAgICAvLyBDb250cmFzZcOxYVxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGhlaWdodCAqIDAuNDUsICdDb250cmFzZcOxYTonLCB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzIwcHgnLCBjb2xvcjogJyMwMDAnIH0pLnNldE9yaWdpbigwLjUpO1xuICAgICAgICB0aGlzLnBhc3NJbnB1dCA9IHRoaXMuY3JlYXRlSHRtbElucHV0KGNlbnRlclgsIGhlaWdodCAqIDAuNTIsICcqKioqKioqKicsIHN0eWxlLCB0cnVlKTtcblxuICAgICAgICAvLyAtLS0gQk9UT05FUyAtLS1cbiAgICAgICAgLy8gQm90w7NuIFByaW5jaXBhbFxuICAgICAgICB0aGlzLm1haW5CdG4gPSBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiBjZW50ZXJYLFxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC42NSxcbiAgICAgICAgICAgIGxhYmVsOiAnRU5UUkFSJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuaGFuZGxlU3VibWl0KCksXG4gICAgICAgICAgICBzY2FsZTogMS42LFxuICAgICAgICAgICAgdGV4dHVyZU5vcm1hbDogJ2JvdG9uU2ltcGxlJyxcbiAgICAgICAgICAgIHRleHR1cmVIb3ZlcjogJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJyxcbiAgICAgICAgICAgIHRleHRTdHlsZTogeyAuLi5zdHlsZSwgZm9udFNpemU6ICcxNHB4JywgY29sb3I6ICcjMDAwJyB9LFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJ1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBUZXh0byBwYXJhIGFsdGVybmFyIGVudHJlIExvZ2luIHkgUmVnaXN0cm9cbiAgICAgICAgdGhpcy50b2dnbGVUZXh0ID0gdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjc1LCAnwr9Bw7puIG5vIHRpZW5lcyBjdWVudGE/IFJlZ8Otc3RyYXRlIGFxdcOtJywge1xuICAgICAgICAgICAgLi4uc3R5bGUsIGZvbnRTaXplOiAnMTZweCcsIGNvbG9yOiAnIzAwMDBFRScsIGZvbnRTdHlsZTogJ2l0YWxpYydcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xuXG4gICAgICAgIHRoaXMudG9nZ2xlVGV4dC5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB0aGlzLnRvZ2dsZU1vZGUoKSk7XG5cbiAgICAgICAgLy8gQm90w7NuIFZvbHZlclxuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxuICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTW9kZUdhbWVfU2NlbmUnKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGVIdG1sSW5wdXQoeCwgeSwgcGxhY2Vob2xkZXIsIHN0eWxlLCBpc1Bhc3N3b3JkID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IGlzUGFzc3dvcmQgPyAncGFzc3dvcmQnIDogJ3RleHQnO1xuICAgICAgICBjb25zdCBkb20gPSB0aGlzLmFkZC5kb20oeCwgeSkuY3JlYXRlRnJvbUhUTUwoYFxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCIke3R5cGV9XCIgcGxhY2Vob2xkZXI9XCIke3BsYWNlaG9sZGVyfVwiIFxuICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDoxODBweDsgcGFkZGluZzo4cHg7IGZvbnQtc2l6ZToxNnB4OyBmb250LWZhbWlseToke3N0eWxlLmZvbnRGYW1pbHl9OyBcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6MTJweDsgYm9yZGVyOiA2cHggc29saWQgI0ZGQUEwMDsgdGV4dC1hbGlnbjpjZW50ZXI7IG91dGxpbmU6bm9uZTtcIiAvPlxuICAgICAgICBgKTtcblxuICAgICAgICBjb25zdCBpbnB1dEVsID0gZG9tLm5vZGUucXVlcnlTZWxlY3RvcignaW5wdXQnKTtcbiAgICAgICAgXG4gICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCAoKSA9PiB0aGlzLmlucHV0LmtleWJvYXJkLmVuYWJsZWQgPSBmYWxzZSk7XG4gICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHRoaXMuaW5wdXQua2V5Ym9hcmQuZW5hYmxlZCA9IHRydWUpO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGlucHV0RWw7XG4gICAgfVxuXG4gICAgdG9nZ2xlTW9kZSgpIHtcbiAgICAgICAgdGhpcy5pc1JlZ2lzdGVyaW5nID0gIXRoaXMuaXNSZWdpc3RlcmluZztcbiAgICAgICAgdGhpcy50aXRsZVRleHQuc2V0VGV4dCh0aGlzLmlzUmVnaXN0ZXJpbmcgPyAnUkVHSVNUUkFSU0UnIDogJ0lOSUNJQVIgU0VTScOTTicpO1xuICAgICAgICB0aGlzLm1haW5CdG4udGV4dC5zZXRUZXh0KHRoaXMuaXNSZWdpc3RlcmluZyA/ICdDUkVBUiBDVUVOVEEnIDogJ0VOVFJBUicpO1xuICAgICAgICB0aGlzLnRvZ2dsZVRleHQuc2V0VGV4dCh0aGlzLmlzUmVnaXN0ZXJpbmcgPyAnwr9ZYSB0aWVuZXMgY3VlbnRhPyBJbmljaWEgc2VzacOzbicgOiAnwr9Bw7puIG5vIHRpZW5lcyBjdWVudGE/IFJlZ8Otc3RyYXRlIGFxdcOtJyk7XG4gICAgfVxuXG4gICAgYXN5bmMgaGFuZGxlU3VibWl0KCkge1xuICAgICAgICAvLyBPYnRlbmVtb3MgbG9zIHZhbG9yZXMgZGUgbG9zIGVsZW1lbnRvcyBIVE1MIHJlYWxlc1xuICAgICAgICBjb25zdCB1c2VybmFtZVZhbHVlID0gdGhpcy51c2VySW5wdXQudmFsdWUudHJpbSgpO1xuICAgICAgICBjb25zdCBwYXNzd29yZFZhbHVlID0gdGhpcy5wYXNzSW5wdXQudmFsdWUudHJpbSgpO1xuXG4gICAgICAgIGlmICh1c2VybmFtZVZhbHVlLmxlbmd0aCA8IDMpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiVXN1YXJpbyBkZW1hc2lhZG8gY29ydG9cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFzc3dvcmRWYWx1ZS5sZW5ndGggPCAzKSB7XG4gICAgICAgICAgICBhbGVydChcIkNvbnRyYXNlw7FhIGRlbWFzaWFkbyBjb3J0YVwiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGVuZHBvaW50ID0gdGhpcy5pc1JlZ2lzdGVyaW5nID8gJy9yZWdpc3RlcicgOiAnL2xvZ2luJztcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLmFwaVVybH0ke2VuZHBvaW50fWAsIHtcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IFxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWVWYWx1ZSwgXG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFZhbHVlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1JlZ2lzdGVyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNpIGVzIHJlZ2lzdHJvLCBOTyBlbnRyYW1vcyBhbCBqdWVnb1xuICAgICAgICAgICAgICAgICAgICBhbGVydChcIsKhUmVnaXN0cm8gY29tcGxldGFkbyBjb24gw6l4aXRvISBBaG9yYSBwdWVkZXMgaW5pY2lhciBzZXNpw7NuLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVNb2RlKCk7IC8vIENhbWJpbyBhIG1vZG8gbG9naW4gYXV0b23DoXRpY2FtZW50ZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZXJJbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFzc0lucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBMb2dpbjogR3VhcmRhbW9zIGRhdG9zIGVuIGVsIHJlZ2lzdHJ5XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KCd1c2VybmFtZScsIHVzZXJuYW1lVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdHJ5LnNldCgndXNlclRva2VuJywgZGF0YS50b2tlbik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KCdpc0hvc3QnLCBkYXRhLmlzSG9zdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUGVyc2lzdGVuY2lhIGxvY2FsIHBhcmEgYXV0by1sb2dpblxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndm9sZXlfc2Vzc2lvbl90b2tlbicsIGRhdGEudG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndm9sZXlfdXNlcm5hbWUnLCB1c2VybmFtZVZhbHVlKTtcblxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTG9naW4gY29ycmVjdG8uIFVzdWFyaW86ICR7dXNlcm5hbWVWYWx1ZX0gfCBIb3N0OiAke2RhdGEuaXNIb3N0fWApO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RQbGF5ZXJfU2NlbmUnLCB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSG9zdDogZGF0YS5pc0hvc3RcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhbGVydChkYXRhLmVycm9yIHx8ICdFcnJvciBlbiBsYSBhdXRlbnRpY2FjacOzbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjb25lY3RhbmRvIGEgbGEgQVBJOlwiLCBlcnIpO1xuICAgICAgICAgICAgYWxlcnQoXCJObyBzZSBwdWRvIGNvbmVjdGFyIGNvbiBlbCBzZXJ2aWRvci5cIik7XG4gICAgICAgIH1cbiAgICB9XG59IiwiLy8gQmFzZSBkZWwganVlZ28sIGVzdHJ1Y3R1cmEgeSBhY2Nlc28gYSB0b2RvcyBsb3MgYXJjaGl2b3NcclxuaW1wb3J0IFBoYXNlciBmcm9tIFwicGhhc2VyXCI7XHJcbmltcG9ydCB7IE1lbnVfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvTWVudV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBHYW1lX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0dhbWVfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgVHV0b3JpYWxfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvVHV0b3JpYWxfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgQ29uZmlndXJhdGlvbl9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9Db25maWd1cmF0aW9uX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IENyZWRpdHNfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvQ3JlZGl0c19TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBFbmRHYW1lX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0VuZEdhbWVfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgTW9kZUdhbWVfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvTW9kZUdhbWVfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgUGF1c2VfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvUGF1c2VfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgU2VsZWN0UGxheWVyX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL1NlbGVjdFBsYXllcl9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBTZWxlY3RTY2VuYXJpb19TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9TZWxlY3RTY2VuYXJpb19TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBMb2JieV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9Mb2JieV9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBMb2dnaW5nX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0xvZ2dpbmdfU2NlbmUuanNcIjtcclxuXHJcbihhc3luYyAoKSA9PiB7XG4gICAgLy8gZmFsbGJhY2sgcGFyYSBldml0YXIgcHJvYmxlbWFzIGNvbiBsYXMgZnVlbnRlcyBwZXJzb25hbGl6YWRhc1xuICAgIGlmIChkb2N1bWVudC5mb250cyAmJiBkb2N1bWVudC5mb250cy5sb2FkKSB7XG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgIGRvY3VtZW50LmZvbnRzLmxvYWQoJzIwcHggXCJNaUZ1ZW50ZVwiJyksXG4gICAgICAgICAgICBkb2N1bWVudC5mb250cy5sb2FkKCcyMHB4IFwiVlQzMjNcIicpXG4gICAgICAgIF0pO1xuICAgICAgICBhd2FpdCBkb2N1bWVudC5mb250cy5yZWFkeTtcbiAgICB9XG5cclxuICAgIGNvbnN0IGdsb2JhbHMgPSB7XHJcbiAgICAgICAgZGVmYXVsdFRleHRTdHlsZTogeyBmb250RmFtaWx5OiAnTWlGdWVudGUnLCBmb250U2l6ZTogJzIwcHgnLCBjb2xvcjogJyNmZmZmZmYnIH0sXHJcbiAgICAgICAgbXVzaWM6IG51bGxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICAgIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gICAgICAgIHdpZHRoOiA5NjAsXHJcbiAgICAgICAgaGVpZ2h0OiA1NDAsXHJcbiAgICAgICAgcGFyZW50OiAnZ2FtZS1jb250YWluZXInLFxyXG4gICAgICAgIHBoeXNpY3M6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgICAgIGFyY2FkZToge1xyXG4gICAgICAgICAgICAgICAgZ3Jhdml0eToge3g6IDAsIHk6IDMwMH0sXHJcbiAgICAgICAgICAgICAgICBkZWJ1ZzogZmFsc2UgLy8gcG9uZXIgYSB0cnVlIHBhcmEgdmVyIGxhcyBsw61uZWFzIGRlIGxvcyBjdWVycG9zIGbDrXNpY29zXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGRvbToge1xyXG4gICAgICAgICAgICBjcmVhdGVDb250YWluZXI6IHRydWVcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNhbGxiYWNrczoge1xyXG4gICAgICAgICAgICBwcmVCb290OiAoZ2FtZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgZ2FtZS5nbG9iYWxzID0gZ2xvYmFscztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2NlbmU6IFtNZW51X1NjZW5lLCBHYW1lX1NjZW5lLCBUdXRvcmlhbF9TY2VuZSwgQ29uZmlndXJhdGlvbl9TY2VuZSwgQ3JlZGl0c19TY2VuZSwgRW5kR2FtZV9TY2VuZSwgUGF1c2VfU2NlbmUsIE1vZGVHYW1lX1NjZW5lLCBTZWxlY3RQbGF5ZXJfU2NlbmUsIFNlbGVjdFNjZW5hcmlvX1NjZW5lLCBMb2JieV9TY2VuZSwgTG9nZ2luZ19TY2VuZV0sXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOicjODY3NWYxJyxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgZ2FtZSA9bmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsICgpID0+IHtcclxuICAgICAgICBjb25zdCB1c2VybmFtZSA9IGdhbWUucmVnaXN0cnkuZ2V0KCd1c2VybmFtZScpO1xyXG4gICAgICAgIGlmICh1c2VybmFtZSkge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KTtcclxuICAgICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtkYXRhXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vanNvbicgfSk7XHJcbiAgICAgICAgICAgIG5hdmlnYXRvci5zZW5kQmVhY29uKCcvYXBpL2xvZ291dCcsIGJsb2IpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KSgpO1xyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZSIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJQaGFzZXIiLCJTRlhfVk9MVU1FX0tFWSIsIk1VU0lDX1ZPTFVNRV9LRVkiLCJMRUdBQ1lfVk9MVU1FX0tFWSIsInBhcnNlU3RvcmVkVm9sdW1lIiwicmF3IiwiZGVmYXVsdFZhbHVlIiwidiIsIk51bWJlciIsInBhcnNlRmxvYXQiLCJTdHJpbmciLCJpc0Zpbml0ZSIsIkNsYW1wIiwiZ2V0U3RvcmVkVm9sdW1lQnlLZXkiLCJmYWxsYmFja0tleSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJmYWxsYmFja1JhdyIsImdldFN0b3JlZFNmeFZvbHVtZSIsImdldFN0b3JlZE11c2ljVm9sdW1lIiwiYXBwbHlTdG9yZWRWb2x1bWUiLCJzY2VuZSIsIm9wdGlvbnMiLCJzZnhWb2x1bWUiLCJtdXNpY1ZvbHVtZSIsInNvdW5kIiwidm9sdW1lIiwibXVzaWMiLCJnYW1lIiwiZ2xvYmFscyIsInNldFZvbHVtZSIsInBsYXlDbGljayIsInBsYXkiLCJjcmVhdGVVSUJ1dHRvbiIsIngiLCJ5IiwibGFiZWwiLCJvbkNsaWNrIiwidGV4dHVyZU5vcm1hbCIsInRleHR1cmVIb3ZlciIsInNjYWxlIiwidGV4dFN0eWxlIiwiY2xpY2tTb3VuZEtleSIsImJ1dHRvbiIsImFkZCIsInNwcml0ZSIsInNldFNjYWxlIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwidGV4dCIsInNldE9yaWdpbiIsInNldE5vcm1hbCIsInNldFRleHR1cmUiLCJzZXRIb3ZlciIsIm9uIiwicG9pbnRlciIsImdldEJvdW5kcyIsImNvbnRhaW5zIiwiY3JlYXRlSWNvbkJ1dHRvbiIsInRleHR1cmUiLCJob3ZlclNjYWxlIiwiTWVudV9TY2VuZSIsImNvbnN0cnVjdG9yIiwic3VwZXIiLCJwcmVsb2FkIiwidGhpcyIsImxvYWQiLCJpbWFnZSIsImF1ZGlvIiwiY3JlYXRlIiwic291bmRLZXkiLCJsb29wIiwidHJ5UGxheSIsImlzUGxheWluZyIsImVyciIsImNvbnNvbGUiLCJ3YXJuIiwiaW5wdXQiLCJvbmNlIiwiYXN5bmMiLCJjdHgiLCJjb250ZXh0Iiwic3RhdGUiLCJyZXN1bWUiLCJlbnN1cmVMb29waW5nTXVzaWMiLCJzdHlsZSIsImRlZmF1bHRUZXh0U3R5bGUiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJjb2xvciIsIndpZHRoIiwiaGVpZ2h0IiwiY2VudGVyWCIsInJpZ2h0SGFsZlgiLCJzZXREZXB0aCIsInNldERpc3BsYXlTaXplIiwiZmlyc3RCdXR0b25ZIiwiYnV0dG9uVGV4dFN0eWxlIiwic3RhcnQiLCJidXR0b25TcGFjaW5nIiwiaGFuZGxlTG9nb3V0IiwidXNlcm5hbWUiLCJyZWdpc3RyeSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicmVtb3ZlSXRlbSIsIlBPV0VSVVBfRFVSQVRJT05fTVMiLCJ2ZWxvY2lkYWQiLCJyYWxlbnRpemFyIiwicGFyYWxpemFyIiwicG9yMiIsInBvcjMiLCJQbGF5ZXIiLCJpZCIsImNoYXJhY3RlclR5cGUiLCJiYXNlTW92ZVNwZWVkIiwibW92ZVNwZWVkIiwianVtcFNwZWVkIiwiYWN0aXZlUG93ZXJVcHMiLCJpc1BhcmFseXplZCIsInBhcmFseXNpc1R3ZWVuIiwic3BlZWRFZmZlY3RBY3RpdmUiLCJzbG93RWZmZWN0QWN0aXZlIiwic2NvcmVNdWx0aXBsaWVyIiwibXVsdGlwbGllclRleHQiLCJzdHJva2UiLCJzdHJva2VUaGlja25lc3MiLCJzZXRWaXNpYmxlIiwicG93ZXJVcEludmVudG9yeSIsImlzUmVjZWl2aW5nIiwiYm91bmRzTGVmdCIsImJvdW5kc1JpZ2h0IiwiYm91bmRzVG9wIiwiYm91bmRzQm90dG9tIiwiQ0hBUkFDVEVSX0NPTkZJRyIsImNoYXJhY3RlckEiLCJ0ZXh0dXJlS2V5Iiwic3RhcnRGcmFtZSIsImlkbGVMZWZ0QW5pbSIsImlkbGVSaWdodEFuaW0iLCJydW5MZWZ0QW5pbSIsInJ1blJpZ2h0QW5pbSIsImp1bXBMZWZ0QW5pbSIsImp1bXBSaWdodEFuaW0iLCJyZWNlaXZlTGVmdEFuaW0iLCJyZWNlaXZlUmlnaHRBbmltIiwiY2hhcmFjdGVyQiIsImNoYXJhY3RlckMiLCJjb25maWciLCJwaHlzaWNzIiwic2V0U2l6ZSIsInNldERhdGEiLCJmYWNpbmciLCJpc09uR3JvdW5kIiwiaXNKdW1waW5nIiwianVtcFN0YXJ0VGltZSIsImFuaW0iLCJlcnJvciIsImlzR3JvdW5kZWQiLCJibG9ja2VkIiwiZG93biIsInRvdWNoaW5nIiwiaXNOZWFyR3JvdW5kIiwidGhyZXNob2xkIiwiZ3JvdW5kWSIsImZlZXRZIiwiTWF0aCIsImFicyIsIm1vdmVMZWZ0Iiwic2V0VmVsb2NpdHlYIiwicGxheUFuaW1hdGlvbiIsIm1vdmVSaWdodCIsImp1bXBMZWZ0IiwidGltZSIsIm5vdyIsInNldFZlbG9jaXR5WSIsInBsYXlTZngiLCJzZngiLCJqdW1wIiwianVtcFJpZ2h0IiwicmVjZWl2ZUxlZnQiLCJyZWNlaXZlUmlnaHQiLCJpZGxlTGVmdCIsImlkbGVSaWdodCIsInNldEJvdW5kcyIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsImNsYW1wV2l0aGluQm91bmRzIiwiaGFsZldpZHRoIiwic2V0UG9zaXRpb24iLCJzZXRWZWxvY2l0eSIsInVwZGF0ZU11bHRpcGxpZXJUZXh0UG9zaXRpb24iLCJvZmZzZXRZIiwiZGlzcGxheUhlaWdodCIsImFuaW1LZXkiLCJhbmltcyIsImN1cnJlbnRBbmltIiwidXBkYXRlIiwid2FzT25Hcm91bmQiLCJjdXJyZW50S2V5IiwiYXBwbHlQb3dlclVwIiwidHlwZSIsImxlbmd0aCIsInB1c2giLCJ1c2VOZXh0UG93ZXJVcCIsInNoaWZ0IiwiYWN0aXZhdGVQb3dlclVwIiwiYXBwbHlPclJlZnJlc2hUaW1lZEVmZmVjdCIsIm9wcG9uZW50IiwiZ2V0T3Bwb25lbnQiLCJ1cGRhdGVQb3dlclVwcyIsInNwZWVkTmVlZHNSZWNhbGMiLCJzY29yZU5lZWRzUmVjYWxjIiwic2V0U3BlZWRFZmZlY3QiLCJzZXRTbG93RWZmZWN0Iiwic2V0UGFyYWx5emVkIiwicmVjYWxjdWxhdGVNb3ZlU3BlZWQiLCJyZWNhbGN1bGF0ZVNjb3JlRWZmZWN0Iiwic2V0VGludCIsInNldEFscGhhIiwic3RvcCIsInR3ZWVucyIsInRhcmdldHMiLCJhbHBoYSIsInlveW8iLCJkdXJhdGlvbiIsInJlcGVhdCIsInJlZnJlc2hQb3dlclVwVmlzdWFscyIsImFjdGl2ZSIsIm11bHQiLCJtdWx0aXBsaWVyIiwibWF4Iiwic2V0VGV4dCIsImR1cmF0aW9uTXMiLCJjbGVhclRpbnQiLCJwbGF5ZXJzIiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwiZmluZCIsInAiLCJBcHBseVBvd2VyVXBDb21tYW5kIiwicGxheWVyIiwicG93ZXJVcFR5cGUiLCJzdG9yZWQiLCJleGVjdXRlIiwiUG93ZXJVcCIsImlzQ29sbGVjdGVkIiwiX2Rlc3Ryb3llZCIsIl9jb29sZG93blVudGlsIiwiZmFkZVN0YXJ0IiwibGlmZXRpbWUiLCJfb3ZlcmxhcHMiLCJmYWRlVHdlZW4iLCJfbGlmZXRpbWVUaW1lciIsInN0YXRpY0ltYWdlIiwicmVmcmVzaEJvZHkiLCJmYWRlRGVsYXkiLCJtaW4iLCJmYWRlRHVyYXRpb24iLCJkZWxheSIsImZvckVhY2giLCJjIiwib3ZlcmxhcCIsImNvbGxlY3QiLCJkZWxheWVkQ2FsbCIsImRlc3Ryb3kiLCJsb2ciLCJjbWQiLCJjb21tYW5kUHJvY2Vzc29yIiwicHJvY2VzcyIsInVwZGF0ZVBsYXllckludmVudG9yeVVJIiwiaXNBcnJheSIsInJlbW92ZSIsInBvd2VyVXBzIiwiZmlsdGVyIiwiQmFsbCIsInNldEJvdW5jZSIsInNldENvbGxpZGVXb3JsZEJvdW5kcyIsImxhc3RUb3VjaGVkQnkiLCJ0b3VjaENvdW50IiwiY291cnRTaWRlIiwiaXNCYWxsTGl2ZSIsIm5ldFgiLCJsYXN0SGl0VGltZSIsImxhc3RIaXRQbGF5ZXJJZCIsImhpdCIsInBsYXllckZhY2luZ0RpcmVjdGlvbiIsIm9uRmFsdGEiLCJ2ZWxvY2l0eVgiLCJ2ZWxvY2l0eVkiLCJyZWNlaXZlIiwic3Bpa2UiLCJiYXNlU3BlZWRYIiwiY3Jvc3NOZXQiLCJvbkdyb3VuZGVkIiwiYmFsbE9uTGVmdCIsImJhbGxPblJpZ2h0Iiwib25SYWxseUVuZCIsInJlc2V0UmFsbHkiLCJmYWx0YVR5cGUiLCJmYWx0aW5nUGxheWVyIiwic2NvcmluZ1BsYXllcklkIiwiZXZlbnRzIiwiZW1pdCIsIl9nZXRTdWJ0bGVOdWRnZSIsInNwYXduWCIsInNpZGVQYWRkaW5nIiwid29ybGRXaWR0aCIsIm9mZnNldCIsInJhbmRvbSIsInNldFNlcnZlUG9zaXRpb24iLCJzY29yaW5nUGxheWVyIiwiY2xhbXAiLCJ2YWx1ZSIsIm51ZGdlVmVsb2NpdHlYIiwibnVkZ2UiLCJDb21tYW5kUHJvY2Vzc29yIiwiTWFwIiwiZ2FtZVNjZW5lIiwic2V0UGxheWVycyIsInNldEdhbWVTY2VuZSIsImNvbW1hbmQiLCJDb21tYW5kIiwic2VyaWFsaXplIiwiZ2V0UGxheWVyIiwiTW92ZVBsYXllckNvbW1hbmQiLCJkaXJlY3Rpb24iLCJwbGF5ZXJJZCIsIkdhbWVfU2NlbmUiLCJ0aWVtcG9Ub3RhbCIsInRpZW1wb1Jlc3RhbnRlIiwidGltZXJUZXh0IiwidGltZXJFdmVudCIsImluaXQiLCJkYXRhIiwiaW5wdXRNYXBwaW5ncyIsInBsYXllcjEiLCJwbGF5ZXIyIiwic2VsZWN0ZWRTY2VuYXJpbyIsImJhbGwiLCJzY29yZVAxIiwic2NvcmVQMiIsInNldHNQMSIsInNldHNQMiIsIm1heFNldHMiLCJjdXJyZW50U2V0Iiwic3ByaXRlc2hlZXQiLCJmcmFtZVdpZHRoIiwiZnJhbWVIZWlnaHQiLCJ3b3JsZEhlaWdodCIsIndoaXN0bGUiLCJwb2ludCIsInNldFNjcm9sbEZhY3RvciIsInRpbWVySWNvbiIsInNldEZyYW1lIiwic2V0V2lubmVyVGV4dCIsImFkZEV2ZW50IiwiY2FsbGJhY2siLCJ1cGRhdGVUaW1lciIsImNhbGxiYWNrU2NvcGUiLCJyZWQiLCJzdGF0aWNTcHJpdGUiLCJyZWRUZXh0dXJlIiwidGV4dHVyZXMiLCJnZXRTb3VyY2VJbWFnZSIsInNldE9mZnNldCIsInVwZGF0ZUZyb21HYW1lT2JqZWN0IiwiX2NyZWF0ZUFuaW1hdGlvbnMiLCJwb2ludHNMZWZ0IiwicG9pbnRzUmlnaHQiLCJzY29yZUZyYW1lTGVmdCIsInNjb3JlRnJhbWVSaWdodCIsInNjb3JlTGVmdCIsInJpZ2h0U2NvcmUiLCJncm91bmRIZWlnaHQiLCJncm91bmQiLCJyZWN0YW5nbGUiLCJleGlzdGluZyIsIl9jcmVhdGVQbGF5ZXJzIiwiX3NldHVwUGh5c2ljc1dvcmxkIiwiX3NldHVwSW5wdXRNYXBwaW5ncyIsIm1heFBvd2VyVXBzIiwicG93ZXJVcFNwYXduQ29uZmlnIiwibWluRGVsYXlNcyIsIm1heERlbGF5TXMiLCJ3ZWlnaHRzIiwiY29vbGRvd25NcyIsInBvd2VyVXBMYXN0U3Bhd25BdCIsImludmVudG9yeVVJIiwic2NoZWR1bGVQb3dlclVwU3Bhd24iLCJpbnZlbnRvcnlGcmFtZXMiLCJfY3JlYXRlQmFsbCIsIl9zZXR1cEJhbGxDb2xsaXNpb25zIiwiX3NldHVwQmFsbEV2ZW50cyIsImtleWJvYXJkIiwicGF1c2UiLCJwYXVzZWQiLCJsYXVuY2giLCJCZXR3ZWVuIiwiX2dldFdlaWdodGVkUG93ZXJVcFR5cGUiLCJwb3dlclVwIiwiZW50cmllcyIsIndlaWdodCIsImNvb2xkb3duIiwibGFzdCIsInRvdGFsIiwicmVkdWNlIiwic3VtIiwicm9sbCIsIl9oYW5kbGVJbnB1dEZvckFsbFBsYXllcnMiLCJtaW51dG9zIiwiZmxvb3IiLCJzZWd1bmRvcyIsImZvcm1hdG8iLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiX2VuZFNldCIsIl9yZXNldFNldCIsInVpIiwiaSIsImZyYW1lcyIsImdlbmVyYXRlRnJhbWVOdW1iZXJzIiwiZW5kIiwiZnJhbWVSYXRlIiwicmV2ZXJzZSIsImNoYXJQMSIsImNoYXJhY3RlciIsImNoYXJQMiIsInAxIiwicDIiLCJzZXQiLCJjb3VydEJvdHRvbSIsImNvbGxpZGVyIiwibGVmdEtleSIsInJpZ2h0S2V5IiwianVtcEtleSIsInJlY2VpdmVLZXkiLCJwb3dlcktleSIsIm1hcCIsImxlZnRLZXlPYmoiLCJhZGRLZXkiLCJLZXlib2FyZCIsIktleUNvZGVzIiwicmlnaHRLZXlPYmoiLCJqdW1wS2V5T2JqIiwicmVjZWl2ZUtleU9iaiIsInBvd2VyS2V5T2JqIiwibWFwcGluZyIsImlkbGVEaXIiLCJpc0Rvd24iLCJKdXN0RG93biIsInJlY2VpdmVEaXIiLCJqdW1wRGlyIiwiX29uQmFsbFBsYXllckNvbGxpc2lvbiIsInZlbG9jaXR5Iiwic2NvcmVySWQiLCJwb2ludHNUb0FkZCIsIl9jaGVja1dpbkNvbmRpdGlvbiIsInBsYXllckRpcmVjdGlvbiIsIl9lbmRHYW1lIiwid2lubmVyIiwid29ybGQiLCJzY29yZURpZmYiLCJ3aW5uZXJMYWJlbCIsIlR1dG9yaWFsX1NjZW5lIiwicGFnZUluZGV4IiwicmV0dXJuU2NlbmUiLCJtYWluVGl0bGVUZXh0IiwicGFnZXMiLCJ0aXRsZSIsInBhbmVsTWFyZ2luIiwicm91bmQiLCJwYW5lbEdhcCIsIm5hdlkiLCJwYW5lbFRvcCIsInBhbmVsQm90dG9tIiwicGFuZWxIZWlnaHQiLCJwYW5lbFdpZHRoIiwibGF5b3V0Iiwic2xpZGVJbWFnZSIsIl9maXRJbWFnZSIsInBhZ2VJbmRpY2F0b3IiLCJwcmV2IiwibmV4dCIsInJlbmRlclBhZ2UiLCJpbWciLCJtYXhXIiwibWF4SCIsIkNvbmZpZ3VyYXRpb25fU2NlbmUiLCJtdXNpY1ZvbHVtZVNsaWRlciIsInNmeFZvbHVtZVNsaWRlciIsImhhc1NmeCIsImhhc011c2ljIiwibGVnYWN5Vm9sdW1lIiwiZ2V0TGVnYWN5Vm9sdW1lIiwiaW5pdGlhbFZvbHVtZSIsInNldEl0ZW0iLCJlbnN1cmVTdG9yZWRBdWRpb1NldHRpbmdzIiwiaW5pdGlhbE11c2ljVm9sdW1lIiwiaW5pdGlhbFNmeFZvbHVtZSIsImRvbSIsImNyZWF0ZUZyb21IVE1MIiwiYWRkTGlzdGVuZXIiLCJldmVudCIsInRhcmdldCIsIkhUTUxJbnB1dEVsZW1lbnQiLCJzZXRTdG9yZWRNdXNpY1ZvbHVtZSIsInNldFN0b3JlZFNmeFZvbHVtZSIsImxpbmUiLCJncmFwaGljcyIsImxpbmVTdHlsZSIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZVBhdGgiLCJzZXBhcmF0aW9uIiwiRXZlbnRzIiwiU0hVVERPV04iLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJDcmVkaXRzX1NjZW5lIiwibm9tYnJlc0VxdWlwbyIsImZyYW1lWSIsImZyYW1lIiwic3RhcnRZIiwibm9tYnJlIiwiaXNIZWFkZXIiLCJFbmRHYW1lX1NjZW5lIiwibmFtZSIsIndpbm5lclRleHQiLCJNb2RlR2FtZV9TY2VuZSIsImZvbnRTdHlsZSIsImJ1dHRvblkiLCJzcGFjaW5nIiwic3RhcnRYIiwic3RhcnRNb2RlIiwibW9kZSIsIlBhdXNlX1NjZW5lIiwicmVtb3ZlQWxsS2V5cyIsIlNlbGVjdFBsYXllcl9TY2VuZSIsImN1cnJlbnRUdXJuIiwicGxheWVySW5wdXRzIiwicGxheWVySW5wdXRFbHMiLCJ0dXJuVGV4dCIsImlzSG9zdCIsImNyZWF0ZUxvY2FsVUkiLCJjcmVhdGVPbmxpbmVVSSIsImVuYWJsZWQiLCJiaWdJbWFnZSIsImJpZ0ZyYW1lIiwiY3JlYXRlUGxheWVyc1VJIiwiY3JlYXRlQ2hhcmFjdGVyTWluaWF0dXJlcyIsInVwZGF0ZVR1cm5UZXh0IiwiaGFuZGxlTmV4dCIsImNyZWF0ZVBsYXllck9ubGluZVVJIiwicG9zaXRpb25zWCIsImlkeCIsImlucHV0RWwiLCJub2RlIiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwicmVwbGFjZSIsInNldEZpbHRlciIsIkZpbHRlck1vZGUiLCJORUFSRVNUIiwic2V0U3Ryb2tlU3R5bGUiLCJwb3NpdGlvbnMiLCJtaW5pIiwib25NaW5pQ2xpY2tlZCIsImNoYXJhY3Rlck5hbWUiLCJvd25lckluZGV4IiwiZmluZEluZGV4Iiwib3duZXIiLCJ0YXJnZXRJbmRleCIsIm90aGVyIiwibmFtZTEiLCJ0cmltIiwicDFIYXNDaGFyIiwibmFtZTIiLCJwMkhhc0NoYXIiLCJmbGFzaFR1cm5UZXh0IiwibXMiLCJvbGRDb2xvciIsInNldENvbG9yIiwicDFIYXNOYW1lIiwicDJIYXNOYW1lIiwiYWxsQ2hhcnMiLCJhbGxOYW1lcyIsInVuZGVmaW5lZCIsIlNlbGVjdFNjZW5hcmlvX1NjZW5lIiwic2VsZWN0ZWRJbWFnZSIsImVzY2VuYXJpb3MiLCJzY2VuYXJpb0J1dHRvbnMiLCJzZXRTZWxlY3RlZFNjZW5hcmlvIiwiYm90b24iLCJ0ZXh0byIsIkFsaWduIiwiSW4iLCJDZW50ZXIiLCJMb2JieV9TY2VuZSIsImlzUGxheWVyUmVhZHkiLCJ0YXJnZXRGcmFtZVdpZHRoIiwidGFyZ2V0RnJhbWVIZWlnaHQiLCJwMVN0YXR1c1RleHQiLCJwMlN0YXR1c1RleHQiLCJidG5MaXN0byIsInRvZ2dsZVJlYWR5IiwiYnRuVm9sdmVyIiwiaGFuZGxlQmFjayIsImVtb2ppIiwibnVldm9UZXh0b0JvdG9uIiwic2V0TGFiZWwiLCJkaXNhYmxlSW50ZXJhY3RpdmUiLCJ0YXJnZXRTY2VuZSIsIkxvZ2dpbmdfU2NlbmUiLCJhcGlVcmwiLCJzYXZlZE5hbWUiLCJzYXZlZFBhc3MiLCJyZXNwb25zZSIsInBhc3N3b3JkIiwicmVzRGF0YSIsImpzb24iLCJvayIsInRpdGxlVGV4dCIsIm1hcmNvIiwidXNlcklucHV0IiwiY3JlYXRlSHRtbElucHV0IiwicGFzc0lucHV0IiwibWFpbkJ0biIsImhhbmRsZVN1Ym1pdCIsInRvZ2dsZVRleHQiLCJ0b2dnbGVNb2RlIiwicGxhY2Vob2xkZXIiLCJpc1Bhc3N3b3JkIiwiaXNSZWdpc3RlcmluZyIsInVzZXJuYW1lVmFsdWUiLCJwYXNzd29yZFZhbHVlIiwiYWxlcnQiLCJlbmRwb2ludCIsInRva2VuIiwiZG9jdW1lbnQiLCJmb250cyIsIlByb21pc2UiLCJhbGwiLCJyZWFkeSIsInBhcmVudCIsImRlZmF1bHQiLCJhcmNhZGUiLCJncmF2aXR5IiwiZGVidWciLCJjcmVhdGVDb250YWluZXIiLCJjYWxsYmFja3MiLCJwcmVCb290IiwiYmFja2dyb3VuZENvbG9yIiwid2luZG93IiwiYmxvYiIsIkJsb2IiLCJuYXZpZ2F0b3IiLCJzZW5kQmVhY29uIl0sInNvdXJjZVJvb3QiOiIifQ==