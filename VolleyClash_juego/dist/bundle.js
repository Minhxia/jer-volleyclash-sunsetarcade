(()=>{"use strict";var e={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},d:(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var i=e.n(t);const s="sfxVolume",a="musicVolume",r="globalVolume",o="volume";function n(e,t){const s=Number.parseFloat(e??String(t));return Number.isFinite(s)?i().Math.Clamp(s,0,1):t}function h(e,t,s=1){const a=localStorage.getItem(e);if(null!==a)return n(a,s);const r=t?localStorage.getItem(t):null;return null!==r?n(r,s):i().Math.Clamp(s,0,1)}function l(e=1){return h(s,o,e)}function c(e=1){return h(a,o,e)}function d(e=1){return h(r,null,e)}function p(e,t={}){let s=d(),a=l(),r=c();"number"==typeof t?(a=i().Math.Clamp(Number(t),0,1),r=a):(a=t.sfxVolume??a,r=t.musicVolume??r),e.sound.volume=s;const o=e.game.globals.music;o&&"setVolume"in o&&o.setVolume(r)}function m(e,t="sonidoClick"){e.sound.play(t,{volume:l()})}function S(e,{x:t,y:i,label:s,onClick:a,textureNormal:r="botonSinSeleccionar",textureHover:o="botonSeleccionado",scale:n=2,textStyle:h={},clickSoundKey:l="sonidoClick"}){const c=e.add.sprite(t,i,r).setScale(n).setInteractive({useHandCursor:!0}),d=e.add.text(t,i,s,h).setOrigin(.5),p=()=>c.setTexture(r),S=()=>c.setTexture(o);return c.on("pointerover",S),c.on("pointerout",p),c.on("pointerdown",()=>{S(),m(e,l)}),c.on("pointerup",e=>{c.getBounds().contains(e.x,e.y)?(S(),a?.()):p()}),{button:c,text:d}}function u(e,t){const{x:i,y:s,texture:a,onClick:r,scale:o=1,hoverScale:n=1.1,clickSoundKey:h="sonidoClick"}=t,l=e.add.sprite(i,s,a).setScale(o).setInteractive({useHandCursor:!0});return l.on("pointerover",()=>l.setScale(o*n)),l.on("pointerout",()=>l.setScale(o)),l.on("pointerdown",()=>{m(e,h)}),l.on("pointerup",e=>{l.getBounds().contains(e.x,e.y)&&r()}),l}class g extends i().Scene{constructor(){super("Menu_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.image("fondoMenuPrincipal","ASSETS/FONDOS/MENU_PRINCIPAL.png"),this.load.image("logoEmpresa","ASSETS/LOGO/logo_empresa.png"),this.load.audio("sonidoGeneral","ASSETS/SONIDO/SONIDO1.mp3"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){p(this),function(e,t,{loop:i=!0}={}){const s=c();let a=e.game.globals.music;a||(a=e.sound.add(t,{loop:i,volume:s}),e.game.globals.music=a),a&&"setVolume"in a&&a.setVolume(s);const r=()=>{if(a&&"play"in a&&(!("isPlaying"in a)||!a.isPlaying))try{a.play()}catch(e){console.warn("[Audio.js] No se ha podido reproducir todav?a la m?sica.",e)}};r(),e.input.once("pointerdown",async()=>{const t=e.sound.context;if(t&&"suspended"===t.state)try{await t.resume()}catch{}r()})}(this,"sonidoGeneral",{loop:!0});const e=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"},{width:t,height:i}=this.scale,s=t/2,a=s+s/2;this.add.image(0,0,"fondoMenuPrincipal").setOrigin(0).setDepth(-1).setDisplaySize(t,i),this.add.text(a,115,"Volley Clash",{...e,fontSize:"68px",color:"#ffffff"}).setOrigin(.5);const r=i/2-63,o={...e,fontSize:"28px",color:"#000000"};S(this,{x:a,y:r,label:"Jugar",onClick:()=>this.scene.start("ModeGame_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),S(this,{x:a,y:r+70,label:"Tutorial",onClick:()=>this.scene.start("Tutorial_Scene",{returnScene:"Menu_Scene"}),textStyle:o,clickSoundKey:"sonidoClick"}),S(this,{x:a,y:r+140,label:"Configuración",onClick:()=>this.scene.start("Configuration_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),S(this,{x:a,y:r+210,label:"Créditos",onClick:()=>this.scene.start("Credits_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),this.add.image(this.scale.width-20,this.scale.height-20,"logoEmpresa").setScale(.42).setOrigin(1,1)}}const f={velocidad:4e3,ralentizar:4e3,paralizar:2500,por2:4e3,por3:4e3};class y{constructor(e,t,i,s,a){this.scene=e,this.id=t,this.characterType=a,this.baseMoveSpeed=250,this.moveSpeed=this.baseMoveSpeed,this.jumpSpeed=275,this.activePowerUps={},this.isParalyzed=!1,this.paralysisTween=null,this.speedEffectActive=!1,this.slowEffectActive=!1,this.scoreMultiplier=1,this.multiplierText=this.scene.add.text(i,s-50,"",{fontFamily:"Arial",fontSize:"20px",color:"#ffffff",stroke:"#000000",strokeThickness:4}).setOrigin(.5,1).setDepth(20).setVisible(!1),this.powerUpInventory=[],this.isReceiving=!1,this.boundsLeft=0,this.boundsRight=960,this.boundsTop=0,this.boundsBottom=540;const r={characterA:{textureKey:"charA_move",startFrame:0,idleLeftAnim:"charA_idleLeft",idleRightAnim:"charA_idleRight",runLeftAnim:"charA_runLeft",runRightAnim:"charA_runRight",jumpLeftAnim:"charA_jumpLeft",jumpRightAnim:"charA_jumpRight",receiveLeftAnim:"charA_receiveLeft",receiveRightAnim:"charA_receiveRight",victory:"charA_victory"},characterB:{textureKey:"charB_move",startFrame:0,idleLeftAnim:"charB_idleLeft",idleRightAnim:"charB_idleRight",runLeftAnim:"charB_runLeft",runRightAnim:"charB_runRight",jumpLeftAnim:"charB_jumpLeft",jumpRightAnim:"charB_jumpRight",receiveLeftAnim:"charB_receiveLeft",receiveRightAnim:"charB_receiveRight",victory:"charB_victory"},characterC:{textureKey:"charC_move",startFrame:0,idleLeftAnim:"charC_idleLeft",idleRightAnim:"charC_idleRight",runLeftAnim:"charC_runLeft",runRightAnim:"charC_runRight",jumpLeftAnim:"charC_jumpLeft",jumpRightAnim:"charC_jumpRight",receiveLeftAnim:"charC_receiveLeft",receiveRightAnim:"charC_receiveRight",victory:"charC_victory"}};this.config=r[a]||r.characterA,this.sprite=this.scene.physics.add.sprite(i,s,this.config.textureKey,this.config.startFrame),this.sprite.setScale(2.5),this.sprite.body.setSize(.9*this.sprite.width,.9*this.sprite.height,!0),this.sprite.setData("player",this),this.facing="right",this.isOnGround=!1,this.isJumping=!1,this.jumpStartTime=0,this.sprite.on("animationcomplete",e=>{try{e.key!==this.config.receiveLeftAnim&&e.key!==this.config.receiveRightAnim||(this.isReceiving=!1)}catch(t){console.error(`Animation complete handler error for ${e.key}:`,t)}})}isGrounded(){const e=this.sprite.body;return!!e&&(e.blocked.down||e.touching.down)}isNearGround(e=12){const t=this.sprite.body;if(!t)return!1;if("number"!=typeof this.scene.groundY)return!1;const i=t.y+t.height;return Math.abs(i-this.scene.groundY)<=e}moveLeft(){this.isParalyzed||this.isReceiving||(this.sprite.setVelocityX(-this.moveSpeed),this.facing="left",this.playAnimation(this.config.runLeftAnim))}moveRight(){this.isParalyzed||this.isReceiving||(this.sprite.setVelocityX(this.moveSpeed),this.facing="right",this.playAnimation(this.config.runRightAnim))}jumpLeft(){this.isParalyzed||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!1,this.isJumping=!0,this.jumpStartTime=this.scene.time.now,this.sprite.setVelocityY(-this.jumpSpeed),this.facing="left",this.playAnimation(this.config.jumpLeftAnim),this.scene?.playSfx?.(this.scene?.sfx?.jump))}jumpRight(){this.isParalyzed||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!1,this.isJumping=!0,this.jumpStartTime=this.scene.time.now,this.sprite.setVelocityY(-this.jumpSpeed),this.facing="right",this.playAnimation(this.config.jumpRightAnim),this.scene?.playSfx?.(this.scene?.sfx?.jump))}receiveLeft(){this.isParalyzed||this.isReceiving||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!0,this.sprite.setVelocityX(0),this.facing="left",this.playAnimation(this.config.receiveLeftAnim))}receiveRight(){this.isParalyzed||this.isReceiving||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!0,this.sprite.setVelocityX(0),this.facing="right",this.playAnimation(this.config.receiveRightAnim))}idleLeft(){this.isReceiving||(this.sprite.setVelocityX(0),this.facing="left",this.playAnimation(this.config.idleLeftAnim))}idleRight(){this.isReceiving||(this.sprite.setVelocityX(0),this.facing="right",this.playAnimation(this.config.idleRightAnim))}setBounds(e,t,i,s){this.boundsLeft=e,this.boundsRight=t,this.boundsTop=i,this.boundsBottom=s}clampWithinBounds(){const e=this.sprite.width/2;this.sprite.x-e<this.boundsLeft&&(this.sprite.x=this.boundsLeft+e,this.sprite.setVelocityX(0)),this.sprite.x+e>this.boundsRight&&(this.sprite.x=this.boundsRight-e,this.sprite.setVelocityX(0))}setPosition(e,t){this.sprite&&(this.sprite.setPosition(e,t),this.sprite.setVelocity(0,0),this.updateMultiplierTextPosition())}updateMultiplierTextPosition(){if(!this.multiplierText||!this.sprite)return;const e=.6*(this.sprite.displayHeight||this.sprite.height||40);this.multiplierText.setPosition(this.sprite.x,this.sprite.y-e)}playAnimation(e){if(!e)return;if(!this.sprite.anims)return;if(this.isJumping&&e!==this.config.jumpLeftAnim&&e!==this.config.jumpRightAnim)return;const t=this.sprite.anims.currentAnim;this.sprite.anims.isPlaying&&t&&t.key===e||this.sprite.anims.play(e,!0)}update(){if(this.sprite.body){const e=this.isOnGround;this.isOnGround=this.isGrounded();const t=this.sprite.anims.currentAnim,i=t?t.key:null;this.isParalyzed&&this.sprite.setVelocityX(0),this.isReceiving&&i!==this.config.receiveLeftAnim&&i!==this.config.receiveRightAnim&&(this.isReceiving=!1),this.isJumping&&i&&i!==this.config.jumpLeftAnim&&i!==this.config.jumpRightAnim&&(this.isJumping=!1),this.isJumping&&this.scene.time.now-this.jumpStartTime>1500&&(this.isJumping=!1),this.isJumping&&!e&&this.isOnGround&&(this.isJumping=!1,"left"===this.facing?this.idleLeft():this.idleRight())}this.clampWithinBounds(),this.updateMultiplierTextPosition()}applyPowerUp(e){return!(this.powerUpInventory.length>=2||(this.powerUpInventory.push(e),0))}useNextPowerUp(){if(0===this.powerUpInventory.length)return;const e=this.powerUpInventory.shift();this.activatePowerUp(e)}activatePowerUp(e){switch(e){case"velocidad":this.applyOrRefreshTimedEffect("velocidad",f.velocidad);break;case"ralentizar":{const e=this.getOpponent();e&&e.applyOrRefreshTimedEffect("ralentizar",f.ralentizar);break}case"paralizar":{const e=this.getOpponent();e&&e.applyOrRefreshTimedEffect("paralizar",f.paralizar);break}case"por2":case"por3":this.applyOrRefreshTimedEffect(e,f[e])}}updatePowerUps(){const e=this.scene.time.now;let t=!1,i=!1;for(const s in this.activePowerUps)if(!(e<=this.activePowerUps[s]))switch(delete this.activePowerUps[s],s){case"velocidad":this.setSpeedEffect(!1),t=!0;break;case"ralentizar":this.setSlowEffect(!1),t=!0;break;case"paralizar":this.setParalyzed(!1);break;case"por2":case"por3":i=!0}t&&this.recalculateMoveSpeed(),i&&this.recalculateScoreEffect()}setParalyzed(e){this.isParalyzed=e,e?(this.sprite.setTint(16733525),this.sprite.setAlpha(1),this.paralysisTween&&(this.paralysisTween.stop(),this.paralysisTween=null),this.paralysisTween=this.scene.tweens.add({targets:this.sprite,alpha:.3,yoyo:!0,duration:200,repeat:-1}),this.sprite.setVelocityX(0)):(this.sprite.setAlpha(1),this.paralysisTween&&(this.paralysisTween.stop(),this.paralysisTween=null),this.refreshPowerUpVisuals())}setSpeedEffect(e){this.speedEffectActive=e,this.refreshPowerUpVisuals()}setSlowEffect(e){this.slowEffectActive=e,this.refreshPowerUpVisuals()}recalculateMoveSpeed(){let e=1;this.activePowerUps.velocidad&&(e*=1.5),this.activePowerUps.ralentizar&&(e*=.5),this.moveSpeed=this.baseMoveSpeed*e}recalculateScoreEffect(){let e=1;this.activePowerUps.por2&&(e=Math.max(e,2)),this.activePowerUps.por3&&(e=Math.max(e,3)),this.scoreMultiplier=e,this.multiplierText&&(this.scoreMultiplier>1?(this.multiplierText.setText("x"+this.scoreMultiplier),this.multiplierText.setVisible(!0)):this.multiplierText.setVisible(!1)),this.refreshPowerUpVisuals()}applyOrRefreshTimedEffect(e,t){const i=this.scene.time.now;this.activePowerUps[e]=i+t,"velocidad"===e&&this.setSpeedEffect(!0),"ralentizar"===e&&this.setSlowEffect(!0),"paralizar"===e&&this.setParalyzed(!0),"velocidad"!==e&&"ralentizar"!==e||this.recalculateMoveSpeed(),"por2"!==e&&"por3"!==e||this.recalculateScoreEffect()}refreshPowerUpVisuals(){this.isParalyzed||(this.slowEffectActive?this.sprite.setTint(5592575):this.speedEffectActive?this.sprite.setTint(16747520):this.scoreMultiplier>1?this.sprite.setTint(3329330):this.sprite.clearTint())}getOpponent(){return this.scene.players?Array.from(this.scene.players.values()).find(e=>e!==this):null}}class x{constructor(e,t){this.player=e,this.powerUpType=t,this.stored=!1}execute(){return this.stored=this.player.applyPowerUp(this.powerUpType),this.stored}}class T{constructor(e,t,i,s){this.scene=e,this.type=s,this.isCollected=!1,this._destroyed=!1,this._cooldownUntil=0,this.fadeStart=3e3,this.lifetime=5e3,this._overlaps=[],this.fadeTween=null,this._lifetimeTimer=null,this.sprite=e.physics.add.staticImage(t,i,s).setScale(1.2).setInteractive(),this.sprite.refreshBody&&this.sprite.refreshBody();const a=Math.max(0,Math.min(this.fadeStart,this.lifetime)),r=Math.max(0,this.lifetime-a);r>0&&(this.fadeTween=e.tweens.add({targets:this.sprite,alpha:0,delay:a,duration:r}));const o=e.players;o&&"function"==typeof o.forEach&&o.forEach(t=>{if(!t?.sprite)return;const i=e.physics.add.overlap(t.sprite,this.sprite,()=>this.collect(t),null,this);this._overlaps.push(i)}),this._lifetimeTimer=e.time.delayedCall(this.lifetime,()=>{this.destroy()})}collect(e){if(console.log("[PowerUp] overlap con",e.id,"tipo",this.type),this._destroyed)return;if(this.isCollected)return;const t=this.scene.time.now;if(this._cooldownUntil&&t<this._cooldownUntil)return;this.isCollected=!0;const i=new x(e,this.type);if(this.scene.commandProcessor.process(i),!i.stored)return this.isCollected=!1,void(this._cooldownUntil=t+300);this.destroy(),this.scene.updatePlayerInventoryUI?.(e)}destroy(){if(!this._destroyed){if(this._destroyed=!0,Array.isArray(this._overlaps)&&(this._overlaps.forEach(e=>{try{e.destroy()}catch{}}),this._overlaps=[]),this.fadeTween){try{this.fadeTween.stop()}catch{}this.fadeTween=null}if(this._lifetimeTimer&&(this._lifetimeTimer.remove(!1),this._lifetimeTimer=null),this.sprite){try{this.sprite.destroy()}catch{}this.sprite=null}Array.isArray(this.scene.powerUps)&&(this.scene.powerUps=this.scene.powerUps.filter(e=>e!==this))}}}class A{constructor(e,t,i){this.scene=e,this.players=null,this.commandProcessor=null,this.sprite=e.physics.add.sprite(t,i,"ball"),this.sprite.setScale(1),this.sprite.setBounce(.8),this.sprite.setCollideWorldBounds(!0),this.sprite.setData("ball",this),this.lastTouchedBy=null,this.touchCount=0,this.courtSide="left",this.isBallLive=!0,this.netX=480,this.lastHitTime=0,this.lastHitPlayerId=null}_getRandomFactor(e=.95,t=1.05){return e+(t-e)*Math.random()}hit(e,t,i,s=!1){if(!this.isBallLive)return;const a=this.scene.time.now;if(this.lastHitPlayerId===e.id&&a-this.lastHitTime<120)return;if(this.lastHitPlayerId=e.id,this.lastHitTime=a,this.lastTouchedBy===e.id?this.touchCount++:(this.touchCount=1,this.lastTouchedBy=e.id),this.touchCount>3)return void this.onFalta("toqueExcedido",e);let r,o;if(s?this.scene?.playSfx?.(this.scene?.sfx?.receive):i&&this.scene?.playSfx?.(this.scene?.sfx?.spike),s){const e=180,i=-350,s=this._getRandomFactor();r="left"===t?-e*s:e*s,o=i*this._getRandomFactor()}else if(i){const e=220,i=-150,s=this._getRandomFactor();r="left"===t?-e*s:e*s,o=i*this._getRandomFactor()}else{const e=180;r="left"===t?-e:e,o=-100}this.sprite.setVelocity(r,o),r>0?this.courtSide="right":r<0&&(this.courtSide="left")}crossNet(){this.touchCount=0,this.lastTouchedBy=null,this.courtSide="left"===this.courtSide?"right":"left"}onGrounded(){if(!this.isBallLive)return;const e=this.sprite.x<this.netX,t=this.sprite.x>this.netX;e?(this.onRallyEnd("player2"),this.resetRally("player2")):t&&(this.onRallyEnd("player1"),this.resetRally("player1"))}onFalta(e,t){if(!this.isBallLive)return;const i="player1"===t.id?"player2":"player1";this.onRallyEnd(i),this.resetRally(i)}onRallyEnd(e){this.isBallLive=!1,this.scene.events.emit("rallyConcluded",{scoringPlayerId:e,touchCount:this.touchCount,lastTouchedBy:this.lastTouchedBy})}_getSubtleNudge(e,t,i){const s=12*(Math.random()<.5?-1:1);return{spawnX:Math.max(t,Math.min(i-t,e+s)),velocityX:s}}setServePosition(e){const t=this.scene.worldWidth??this.scene.scale?.width??2*this.netX,i=(e,t,i)=>Math.max(t,Math.min(i,e));let s=this.netX,a=0;if("player1"===e||"player2"===e){const a=this.scene.players?.get?this.scene.players.get(e):null;s=a?.sprite?"player1"===e?i(a.sprite.x,60,this.netX-60):i(a.sprite.x,this.netX+60,t-60):"player1"===e?this.netX-100:this.netX+100}else{const e=this._getSubtleNudge(s,60,t);s=e.spawnX,a=e.velocityX}this.sprite.setPosition(s,100),this.sprite.setVelocity(a,0)}resetRally(e){this.isBallLive=!0,this.lastTouchedBy=null,this.touchCount=0,this.setServePosition(e),this.lastHitTime=0,this.lastHitPlayerId=null}update(){this.isBallLive&&(this.sprite.x<this.netX-20?this.courtSide="left":this.sprite.x>this.netX+20&&(this.courtSide="right"))}}class E{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class O{execute(){}serialize(){}getPlayer(){}}class b extends O{constructor(e,t){super(),this.player=e,this.direction=t}execute(){switch(this.direction){case"left":this.player.moveLeft();break;case"right":this.player.moveRight();break;case"jumpLeft":this.player.jumpLeft();break;case"jumpRight":this.player.jumpRight();break;case"receiveLeft":this.player.receiveLeft();break;case"receiveRight":this.player.receiveRight();break;case"idleLeft":this.player.idleLeft();break;default:this.player.idleRight()}}getPlayer(){return this.player.id}serialize(){return{type:"MovePlayerCommand",playerId:this.player.id,direction:this.direction}}}class _ extends i().Scene{tiempoTotal=60;tiempoRestante=this.tiempoTotal;timerText;timerEvent;constructor(){super("Game_Scene")}init(e){this.players=new Map,this.inputMappings=[],this.commandProcessor=new E,this.player1=e.player1,this.player2=e.player2,this.selectedScenario=e.selectedScenario,this.ball=null,this.scoreP1=0,this.scoreP2=0,this.setsP1=0,this.setsP2=0,this.maxSets=3,this.currentSet=1,this.isGoldenPoint=!1,this.isSetEnding=!1}preload(){this.load.spritesheet("charA_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_A/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charA_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_A/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.spritesheet("charB_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_B/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charB_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_B/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.spritesheet("charC_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_C/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charC_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_C/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.image("Gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("Playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("Jardin","ASSETS/FONDOS/JARDIN.png"),this.load.image("por2","ASSETS/ITEMS/POWER UPS/MULTIPLICADOR 2.png"),this.load.image("por3","ASSETS/ITEMS/POWER UPS/MULTIPLICADOR 3.png"),this.load.image("paralizar","ASSETS/ITEMS/POWER UPS/PARALIZADO.png"),this.load.image("ralentizar","ASSETS/ITEMS/POWER UPS/RELENTIZAR.png"),this.load.image("velocidad","ASSETS/ITEMS/POWER UPS/VELOCIDAD.png"),this.load.image("marcoPowerUp","ASSETS/JUEGO/Base_powerUp.png"),this.load.image("ball","ASSETS/ITEMS/PELOTAS/P_NORMAL.png"),this.load.image("red","ASSETS/JUEGO/RED.png"),this.load.image("reloj","ASSETS/JUEGO/TIMER.png"),this.load.image("marcoGeneral","ASSETS/JUEGO/MARCADOR_SET.png"),this.load.audio("sfx_silbato","ASSETS/SONIDO/Silbato_inicio_partido_1p4s.mp3"),this.load.audio("sfx_remate","ASSETS/SONIDO/Toque_pelota_remate_03s.mp3"),this.load.audio("sfx_recepcion","ASSETS/SONIDO/Toque_pelota_recepcion.mp3"),this.load.audio("sfx_salto","ASSETS/SONIDO/SonidoSalto_1p.mp3"),this.load.audio("sfx_punto","ASSETS/SONIDO/SonidoPunto.mp3")}create(){const{width:e,height:t}=this.scale;this.worldWidth=e,this.worldHeight=t;const i=this.game.globals.defaultTextStyle;this.sfx={whistle:"sfx_silbato",spike:"sfx_remate",receive:"sfx_recepcion",jump:"sfx_salto",point:"sfx_punto"},this.playSfx(this.sfx.whistle),this.timerText=this.add.text(this.scale.width/2,30,"",{...i,fontSize:"32px",color:"#ffffff"}).setOrigin(.5,0).setScrollFactor(0).setDepth(9999),this.timerIcon=this.add.image(this.scale.width/2,45,"reloj").setOrigin(.5).setScale(2).setScrollFactor(0).setDepth(9e3),this.setFrame=this.add.image(this.scale.width/2,120,"marcoGeneral").setOrigin(.5).setScale(1).setDepth(9998),this.setText=this.add.text(this.scale.width/2,120,`SET ${this.currentSet}`,{...i,fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setDepth(9999);const s=this.setFrame.displayWidth,a=this.setFrame.displayHeight,r=this.setFrame.y+Math.round(a/2)+13,o=Math.round(.22*s);this.setScoreFrameLeft=this.add.image(this.scale.width/2-o,r,"marcoGeneral").setOrigin(.5).setScale(.4,.38).setDepth(9998),this.setScoreFrameRight=this.add.image(this.scale.width/2+o,r,"marcoGeneral").setOrigin(.5).setScale(.4,.38).setDepth(9998),this.setScoreLeft=this.add.text(this.scale.width/2-o,r,`${this.setsP1}`,{...i,fontSize:"28px",color:"#ffffff"}).setOrigin(.5).setDepth(9999),this.setScoreRight=this.add.text(this.scale.width/2+o,r,`${this.setsP2}`,{...i,fontSize:"28px",color:"#ffffff"}).setOrigin(.5).setDepth(9999),this.setWinnerText=this.add.text(this.scale.width/2,205,"",{...i,fontSize:"28px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5).setDepth(9999).setVisible(!1),this.timerEvent=this.time.addEvent({delay:1e3,callback:this.updateTimer,callbackScope:this,loop:!0}),this.updateTimer(),this.add.image(e/2,t/2,this.selectedScenario).setOrigin(.5).setDisplaySize(e,t).setDepth(-1);const n=this.physics.add.staticSprite(e/2,t-160,"red").setScale(.6),h=this.textures.get("red").getSourceImage();n.body.setSize(.5*h.width,.5*h.height),n.body.setOffset(-n.body.width/2,-n.body.height/2),n.body.updateFromGameObject(),this.red=n,this._createAnimations(),this.pointsLeft=0,this.pointsRight=0,this.scoreFrameLeft=this.add.image(200,50,"marcoGeneral").setScale(.8,.55).setOrigin(.5),this.scoreFrameRight=this.add.image(this.worldWidth-200,50,"marcoGeneral").setScale(.8,.55).setOrigin(.5),this.scoreLeft=this.add.text(200,45,"0",{...i,fontSize:"40px",color:"#ffffffff"}).setOrigin(.5).setDepth(9999),this.rightScore=this.add.text(this.worldWidth-200,45,"0",{...i,fontSize:"40px",color:"#ffffffff"}).setOrigin(.5).setDepth(9999),this.groundHeight=20,this.groundY=this.worldHeight-90;const l=this.add.rectangle(this.worldWidth/2,this.groundY,this.worldWidth,20).setOrigin(.5,0).setVisible(!1);this.physics.add.existing(l,!0),this._createPlayers(),this._setupPhysicsWorld(l),this._setupInputMappings(),this.powerUps=[],this.maxPowerUps=2,this.powerUpSpawnConfig={minDelayMs:3500,maxDelayMs:7e3,weights:{velocidad:3,ralentizar:2,paralizar:1,por2:3,por3:2},cooldownMs:{paralizar:1e4}},this.powerUpLastSpawnAt={},this.inventoryUI={player1:[this.add.image(50,50,"por2").setScale(1.4).setVisible(!1).setDepth(1),this.add.image(110,50,"por2").setScale(1.4).setVisible(!1).setDepth(1)],player2:[this.add.image(this.worldWidth-110,50,"por2").setScale(1.4).setVisible(!1).setDepth(1),this.add.image(this.worldWidth-50,50,"por2").setScale(1.4).setVisible(!1).setDepth(1)]},this.schedulePowerUpSpawn(),this.inventoryFrames={player1:[this.add.image(50,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0),this.add.image(110,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0)],player2:[this.add.image(this.worldWidth-110,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0),this.add.image(this.worldWidth-50,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0)]},this._createBall(),this.ball.setServePosition(),this._setupBallCollisions(),this._setupBallEvents(),this.input.keyboard.on("keydown-ESC",()=>{this.scene.pause(),this.timerEvent.paused=!0,this.scene.launch("Pause_Scene")}),this.input.keyboard.on("keydown-F",()=>{const e=this.scoreP1>=this.scoreP2?"player1":"player2";this._endGame(e)}),this.events.on("resume",()=>{this.timerEvent.paused=!1})}schedulePowerUpSpawn(){const{minDelayMs:e,maxDelayMs:t}=this.powerUpSpawnConfig,s=i().Math.Between(e,t);this.time.delayedCall(s,()=>{if(this.powerUps.length<this.maxPowerUps){const e=i().Math.Between(80,this.worldWidth-80),t=i().Math.Between(this.worldHeight-220,this.worldHeight-120),s=this._getWeightedPowerUpType();if(s){const i=new T(this,e,t,s);this.powerUps.push(i),this.powerUpLastSpawnAt[s]=this.time.now}}this.schedulePowerUpSpawn()})}_getWeightedPowerUpType(){const{weights:e,cooldownMs:t}=this.powerUpSpawnConfig,s=this.time.now,a=Object.entries(e).filter(([e,i])=>{if(i<=0)return!1;const a=t?.[e];if(!a)return!0;const r=this.powerUpLastSpawnAt?.[e]||0;return s-r>=a});if(!a.length)return null;const r=a.reduce((e,[,t])=>e+t,0);let o=i().Math.Between(1,r);for(const[e,t]of a)if(o-=t,o<=0)return console.log("[Game_Scene] Power-up aleatorio: ",e),e;return a[a.length-1][0]}playSfx(e){e&&this.sound.play(e,{volume:l()})}update(){this._handleInputForAllPlayers(),this.players.forEach(e=>e.updatePowerUps()),this.ball&&(this.ball.update(),this.ball.isBallLive&&this.ball.sprite.y>this.groundY&&this.ball.onGrounded(),(this.ball.sprite.x<475&&"right"===this.ball.courtSide||this.ball.sprite.x>485&&"left"===this.ball.courtSide)&&this.ball.crossNet())}updateTimer(){this.tiempoRestante--;const e=Math.floor(this.tiempoRestante/60),t=this.tiempoRestante%60,i=`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`;this.timerText.setText(i),this.tiempoRestante<=0&&(this.timerEvent.paused=!0,console.log("FIN DEL TIEMPO"),this.scoreP1>this.scoreP2?this._endSet("player1"):this.scoreP2>this.scoreP1?this._endSet("player2"):(console.log("Empate en el set"),this.isGoldenPoint=!0,this.setWinnerText&&(this.setWinnerText.setText("EMPATE: punto de oro"),this.setWinnerText.setVisible(!0))))}updateSetScoreUI(){this.setScoreLeft&&this.setScoreLeft.setText(this.setsP1.toString()),this.setScoreRight&&this.setScoreRight.setText(this.setsP2.toString())}updatePlayerInventoryUI(e){const t=this.inventoryUI[e.id];for(let i=0;i<2;i++)e.powerUpInventory[i]?(t[i].setTexture(e.powerUpInventory[i]),t[i].setVisible(!0)):t[i].setVisible(!1)}_createAnimations(){this.anims.create({key:"charA_idleRight",frames:this.anims.generateFrameNumbers("charA_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charA_idleLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charA_receiveRight",frames:this.anims.generateFrameNumbers("charA_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charA_receiveLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charA_runRight",frames:this.anims.generateFrameNumbers("charA_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charA_runLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charA_jumpRight",frames:this.anims.generateFrameNumbers("charA_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charA_jumpLeft",frames:this.anims.generateFrameNumbers("charA_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charB_idleRight",frames:this.anims.generateFrameNumbers("charB_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charB_idleLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charB_receiveRight",frames:this.anims.generateFrameNumbers("charB_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charB_receiveLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charB_runRight",frames:this.anims.generateFrameNumbers("charB_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charB_runLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charB_jumpRight",frames:this.anims.generateFrameNumbers("charB_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charB_jumpLeft",frames:this.anims.generateFrameNumbers("charB_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charC_idleRight",frames:this.anims.generateFrameNumbers("charC_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charC_idleLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charC_receiveRight",frames:this.anims.generateFrameNumbers("charC_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charC_receiveLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charC_runRight",frames:this.anims.generateFrameNumbers("charC_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charC_runLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charC_jumpRight",frames:this.anims.generateFrameNumbers("charC_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charC_jumpLeft",frames:this.anims.generateFrameNumbers("charC_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0})}_createPlayers(){const e=this.player1.character,t=this.player2.character,i=new y(this,"player1",.25*this.worldWidth,this.groundY-100,e),s=new y(this,"player2",.75*this.worldWidth,this.groundY-100,t);this.players.set("player1",i),this.players.set("player2",s);const a=Math.floor(this.groundY);i.setBounds(80,455,50,a),s.setBounds(505,this.worldWidth-80,50,a),this.commandProcessor.setPlayers(this.players),this.commandProcessor.setGameScene(this),i.idleRight(),s.idleLeft()}_setupPhysicsWorld(e){this.players.forEach(t=>{this.physics.add.collider(t.sprite,e),this.physics.add.collider(t.sprite,this.red,()=>{console.log(`${t.id} tocó la red!`),t.sprite.setVelocityX(0)})})}_setupInputMappings(){this.inputMappings=[{playerId:"player1",leftKey:"A",rightKey:"D",jumpKey:"W",receiveKey:"S",powerKey:"E"},{playerId:"player2",leftKey:"J",rightKey:"L",jumpKey:"I",receiveKey:"K",powerKey:"O"}].map(e=>({playerId:e.playerId,leftKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.rightKey]),jumpKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.jumpKey]),receiveKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.receiveKey]),powerKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.powerKey])}))}_handleInputForAllPlayers(){this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);if(!t)return;if(t.isParalyzed){const e="left"===t.facing?"idleLeft":"idleRight";return void this.commandProcessor.process(new b(t,e))}let s;if(s=e.leftKeyObj.isDown?"left":e.rightKeyObj.isDown?"right":"left"===t.facing?"idleLeft":"idleRight",t.isJumping||this.commandProcessor.process(new b(t,s)),i().Input.Keyboard.JustDown(e.receiveKeyObj)){const e="left"===t.facing?"receiveLeft":"receiveRight";this.commandProcessor.process(new b(t,e))}if(i().Input.Keyboard.JustDown(e.jumpKeyObj)){const e="left"===t.facing?"jumpLeft":"jumpRight";this.commandProcessor.process(new b(t,e))}i().Input.Keyboard.JustDown(e.powerKeyObj)&&(t.useNextPowerUp(),this.updatePlayerInventoryUI(t))}),this.players.forEach(e=>e.update())}_createBall(){this.ball=new A(this,this.worldWidth/2,150)}_setupBallCollisions(){this.players.forEach(e=>{this.physics.add.overlap(this.ball.sprite,e.sprite,()=>this._onBallPlayerCollision(this.ball,e),null,this)}),this.physics.add.collider(this.ball.sprite,this.red,()=>{console.log("La pelota toca la red!"),this.ball.sprite.setVelocityX(.5*this.ball.sprite.body.velocity.x),this.ball.sprite.setVelocityY(.5*this.ball.sprite.body.velocity.y)}),this.worldHeight,this.ball.sprite.setCollideWorldBounds(!0),this.ball.sprite.setBounce(.8)}_setupBallEvents(){this.events.on("rallyConcluded",e=>{if(this.isSetEnding)return;console.log(`Rally concluded: ${e.scoringPlayerId} scores!`);const t=e.scoringPlayerId,i=this.players.get(t),s=i&&i.scoreMultiplier||1;if("player1"===t?(this.pointsLeft+=s,this.scoreLeft.setText(this.pointsLeft.toString()),this.scoreP1+=s):"player2"===t&&(this.pointsRight+=s,this.rightScore.setText(this.pointsRight.toString()),this.scoreP2+=s),this.playSfx(this.sfx.point),this.isGoldenPoint)return this.isGoldenPoint=!1,void this._endSet(t);this._checkWinCondition()})}_isBallInHitZone(e,t,i,s){const a=t.sprite.body;if(!a)return!1;const r=e.x,o=e.y,n=a.y,h=a.height,l=a.x+.5*a.width,c=i?{top:-.1,bottom:.6}:s?{top:.35,bottom:.85}:{top:.25,bottom:.85};if(o<n+h*c.top||o>n+h*c.bottom)return!1;const d="right"===t.facing,p=s||i,m=a.width*(p?.9:.75),S=a.width*(p?.25:.15);return!(r<(d?l-S:l-m)||r>(d?l+m:l+S))}_onBallPlayerCollision(e,t){if(!e.isBallLive)return;const i=!t.sprite.body.blocked.down,s=t.isReceiving,a=t.facing;this._isBallInHitZone(e.sprite,t,i,s)&&e.hit(t,a,i,s)}_endGame(e){this.timerEvent&&(this.timerEvent.remove(!1),this.timerEvent=null),this.playSfx(this.sfx.whistle),this.physics&&this.physics.world&&this.physics.world.pause(),this.scene.start("EndGame_Scene",{winner:e,player1:this.player1,player2:this.player2})}_checkWinCondition(){const e=this.scoreP1-this.scoreP2;if(Math.max(this.scoreP1,this.scoreP2)<11||Math.abs(e)<2)return;const t=e>0?"player1":"player2";this._endSet(t)}_endSet(e){if(this.isSetEnding)return;this.isSetEnding=!0,this.ball?.sprite&&(this.ball.isBallLive=!1,this.ball.sprite.setVelocity(0,0)),"player1"===e?this.setsP1++:"player2"===e&&this.setsP2++,console.log(`Set terminado. Score sets: P1=${this.setsP1}, P2=${this.setsP2}`),this.updateSetScoreUI();const t="player1"===e?"Jugador 1":"Jugador 2";this.setWinnerText.setText(`SET para ${t}`),this.setWinnerText.setVisible(!0),this.currentSet++,2===this.setsP1||2===this.setsP2?this.time.delayedCall(2e3,()=>{this._endGame(e)}):this.time.delayedCall(2e3,()=>{this.setWinnerText&&this.setWinnerText.setVisible(!1),this._resetSet()})}_resetSet(){this.isSetEnding=!1,this.isGoldenPoint=!1,this.setText.setText(`SET ${this.currentSet}`),this.tiempoRestante=this.tiempoTotal,this.timerEvent.paused=!1,this.updateTimer(),this.scoreP1=0,this.scoreP2=0,this.pointsLeft=0,this.pointsRight=0,this.scoreLeft.setText("0"),this.rightScore.setText("0"),this.ball.resetRally();const e=this.players.get("player1"),t=this.players.get("player2");e.setPosition(.25*this.worldWidth,.7*this.worldHeight),t.setPosition(.75*this.worldWidth,.7*this.worldHeight),e.idleRight(),t.idleLeft(),this.playSfx(this.sfx.whistle)}}class v extends i().Scene{constructor(){super("Tutorial_Scene"),this.pageIndex=0,this.returnScene="Menu_Scene"}init(e){this.returnScene=e?.returnScene??"Menu_Scene"}preload(){this.load.image("tut0_controles","ASSETS/TUTORIAL/TUT0_Controles.png"),this.load.image("tut1_set","ASSETS/TUTORIAL/TUT1_Set.png"),this.load.image("tut2_pelota","ASSETS/TUTORIAL/TUT2_Pelota.png"),this.load.image("tut3_powerup","ASSETS/TUTORIAL/TUT3_Powerup.png"),this.load.image("tut4_lista","ASSETS/TUTORIAL/TUT4_Lista.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png")}create(){const{width:e,height:t}=this.scale,i=e/2,s={...this.game.globals?.defaultTextStyle??{fontFamily:"VT323",fontSize:"20px",color:"#000000"}};p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.mainTitleText=this.add.text(i,.1*t,"Tutorial",{...s,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start(this.returnScene)}),this.pageIndex=0,this.pages=[{key:"tut0_controles",title:"Controles"},{key:"tut1_set",title:"Reglas básicas: set"},{key:"tut2_pelota",title:"Reglas básicas: pelota"},{key:"tut3_powerup",title:"Reglas básicas: power-ups"},{key:"tut4_lista",title:"Lista de power-ups"}];const a=Math.max(8,Math.round(.015*Math.min(e,t))),r=Math.max(6,Math.round(.012*t)),o=.91*t,n=this.mainTitleText.y+this.mainTitleText.height+r,h=o-r,l=Math.max(0,h-n),c=Math.max(0,e-2*a);this.layout={panelTop:n,panelHeight:l,panelWidth:c},this.slideImage=this.add.image(i,n+l/2,this.pages[0].key),this._fitImage(this.slideImage,c,l),this.pageIndicator=this.add.text(i,o+20,"",{...s,fontSize:"28px",color:"#000"}).setOrigin(.5);const d={...s,fontSize:"28px",color:"#000000"};this.prevBtn=S(this,{x:i-165,y:o+20,label:"Anterior",onClick:()=>this.prev(),textStyle:d,clickSoundKey:"sonidoClick"}),this.nextBtn=S(this,{x:i+165,y:o+20,label:"Siguiente",onClick:()=>this.next(),textStyle:d,clickSoundKey:"sonidoClick"}),this.renderPage()}_fitImage(e,t,i){const s=Math.min(t/e.width,i/e.height);e.setScale(s)}renderPage(){const e=this.pages[this.pageIndex];this.mainTitleText.setText(e.title??"Tutorial"),this.slideImage.setTexture(e.key),this._fitImage(this.slideImage,this.layout.panelWidth,this.layout.panelHeight),this.pageIndicator.setText(`${this.pageIndex+1} de ${this.pages.length}`);const t=0===this.pageIndex;this.toggleButtonState(this.prevBtn,!t);const i=this.pageIndex===this.pages.length-1;this.toggleButtonState(this.nextBtn,!i)}next(){this.pageIndex<this.pages.length-1&&(this.pageIndex++,this.renderPage())}prev(){this.pageIndex>0&&(this.pageIndex--,this.renderPage())}toggleButtonState(e,t){const i=e.button,s=e.text;t?(i.setInteractive(),i.setAlpha(1),s.setAlpha(1)):(i.disableInteractive(),i.setAlpha(0),s.setAlpha(0))}}class I extends i().Scene{constructor(){super("Configuration_Scene"),this.musicVolumeSlider=null,this.sfxVolumeSlider=null,this.globalVolumeSlider=null}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,h=e/2,S=this.game.globals.defaultTextStyle;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(h,.1*t,"Configuración",{...S,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),function(e=1){const t=null!==localStorage.getItem(s),i=null!==localStorage.getItem(a);if(t&&i)return;const r=function(e=1){const t=localStorage.getItem(o);return null===t?null:n(t,e)}(e),h=r&&r>0?r:e;t||localStorage.setItem(s,String(h)),i||localStorage.setItem(a,String(h))}();const g=d(),f=c(),y=l();p(this);const x=.18*t,T=.05*t,A=t/2-(2*x+T)/2,E=A,O=E+T,b=A+x,_=b+T,v=A+2*x,I=v+T;this.add.text(h,E,"Volumen General",{...S,fontSize:"28px",color:"#000"}).setOrigin(.5),this.globalVolumeSlider=this.add.dom(h,O).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${g}" \n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>`),this.globalVolumeSlider.addListener("input"),this.globalVolumeSlider.on("input",e=>{e.target instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(r,String(t))}(e.target.value),p(this))}),this.add.text(h,b,"Volumen Música",{...S,fontSize:"28px",color:"#000"}).setOrigin(.5),this.musicVolumeSlider=this.add.dom(h,_).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${f}"\n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>\n            `),this.musicVolumeSlider.addListener("input"),this.musicVolumeSlider.on("input",e=>{const t=e.target;t instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(a,String(t))}(t.value),p(this))}),this.add.text(h,v,"Volumen Efectos",{...S,fontSize:"28px",color:"#000"}).setOrigin(.5),this.sfxVolumeSlider=this.add.dom(h,I).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${y}"\n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>\n            `),this.sfxVolumeSlider.addListener("input"),this.sfxVolumeSlider.on("input",e=>{const t=e.target;t instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(s,String(t))}(t.value),p(this))}),this.sfxVolumeSlider.addListener("change"),this.sfxVolumeSlider.on("change",e=>{m(this,"sonidoClick")}),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start("Menu_Scene")}),this.events.once(i().Scenes.Events.SHUTDOWN,()=>{this.musicVolumeSlider&&(this.musicVolumeSlider.removeAllListeners(),this.musicVolumeSlider.destroy(),this.musicVolumeSlider=null),this.sfxVolumeSlider&&(this.sfxVolumeSlider.removeAllListeners(),this.sfxVolumeSlider.destroy(),this.sfxVolumeSlider=null),this.globalVolumeSlider&&(this.globalVolumeSlider.removeAllListeners(),this.globalVolumeSlider.destroy(),this.globalVolumeSlider=null)})}}class R extends i().Scene{constructor(){super("Credits_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondoMenuPrincipal","ASSETS/FONDOS/MENU_PRINCIPAL.png"),this.load.image("logo","ASSETS/LOGO/logo_empresa.png"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"};this.add.image(0,0,"fondoMenuPrincipal").setOrigin(0).setDepth(-2).setDisplaySize(e,t),this.add.rectangle(0,0,e,t,0,.5).setOrigin(0).setDepth(-1);const s=["GRUPO 5 - SUNSET ARCADE","Sara Bueno Esteban","Antonio Morán Barrera","Cristine Nioka Tewo","Álvaro Ibáñez Montero"],a=.38*e,r=.46*t,o=.75*e,n=.46*t;this.add.rectangle(o,n,a,r,1118481,.7).setOrigin(.5).setStrokeStyle(2,16777215,.2);const h=n-36*(s.length-1)/2;s.forEach((e,t)=>{const s=0===t;this.add.text(o,h+36*t,e,{...i,fontFamily:"VT323",fontSize:s?"36px":"32px",color:s?"#f5d76e":"#ffffff"}).setOrigin(.5)}),this.add.text(o,.1*t,"Créditos",{...i,fontSize:"42px",color:"#ffffff"}).setOrigin(.5);const l=o,c=n+r/2+.16*t-3;this.add.image(l,c,"logo").setOrigin(.5).setScale(.7),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start("Menu_Scene")})}}class w extends i().Scene{constructor(){super("EndGame_Scene")}init(e){this.winner=e.winner,this.player1=e.player1,this.player2=e.player2}preload(){this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3"),this.load.spritesheet("victoria_A","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_A/A_VICTORIA.png",{frameWidth:128,frameHeight:128}),this.load.spritesheet("victoria_B","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_B/A_VICTORIA.png",{frameWidth:128,frameHeight:128}),this.load.spritesheet("victoria_C","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_C/A_VICTORIA.png",{frameWidth:128,frameHeight:128})}create(){this._createAnimations();const{width:e,height:t}=this.scale,i=this.game.globals.defaultTextStyle,s=this.player1.name,a=this.player1.character,r=this.player2.name,o=this.player2.character;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(e/2,.18*t,"¡Fin del partido!",{...i,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5);const n=.33*t,h=.9*t,l=.04*t,c=(n+h)/2-.02*t,d="player1"===this.winner?"Victoria de: "+s:"Victoria de: "+r;this.add.text(e/2,n,d,{...i,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5);const p="player1"===this.winner?a:o,m={characterA:{spriteKey:"victoria_A",animKey:"charA_victory"},characterB:{spriteKey:"victoria_B",animKey:"charB_victory"},characterC:{spriteKey:"victoria_C",animKey:"charC_victory"}},{spriteKey:u,animKey:g}=m[p]||m.characterA;this.winnerSpriteSlot=this.add.container(e/2,c);const f=this.add.sprite(0,0,u),y=h-n-2*l,x=.6*e,T=.85*Math.min(y/f.height,x/f.width);f.setScale(Math.max(.2,T)),f.play(g),this.winnerSpriteSlot.add(f),S(this,{x:e/2,y:h,label:"Menú Principal",onClick:()=>{this.scene.start("Menu_Scene")},textStyle:{...i,fontSize:"28px",color:"#000000"},clickSoundKey:"sonidoClick"})}_createAnimations(){this.anims.create({key:"charA_victory",frames:this.anims.generateFrameNumbers("victoria_A",{start:0,end:1}),frameRate:4,repeat:-1}),this.anims.create({key:"charB_victory",frames:this.anims.generateFrameNumbers("victoria_B",{start:0,end:1}),frameRate:4,repeat:-1}),this.anims.create({key:"charC_victory",frames:this.anims.generateFrameNumbers("victoria_C",{start:0,end:1}),frameRate:4,repeat:-1})}}class C extends i().Scene{constructor(){super("ModeGame_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#000000"};p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,.18*t,"Modo de Juego",{...i,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5);const s=.5*t,a=Math.min(280,.3*e),r=e/2-a/2,o={...i,fontSize:"28px",color:"#000000"},n=e=>{this.registry.set("mode",e),console.log("Modo seleccionado:",e),this.scene.start("SelectPlayer_Scene",{mode:e})};S(this,{x:r,y:s,label:"Local",onClick:()=>n("local"),scale:2,textureNormal:"botonSinSeleccionar",textureHover:"botonSeleccionado",textStyle:o,clickSoundKey:"sonidoClick"});const h=S(this,{x:r+a,y:s,label:"Red",onClick:null,scale:2,textureNormal:"botonSinSeleccionar",textureHover:"botonSeleccionado",textStyle:o,clickSoundKey:"sonidoClick"});h.button.disableInteractive(),h.button.setAlpha(.5),h.text.setAlpha(.5),h.text.setAlign("center"),this.add.text(h.button.x,h.button.y+Math.round(.55*h.button.displayHeight)+12,"No disponible",{...o,fontFamily:"VT323",fontSize:"24px",color:"#ff0000"}).setOrigin(.5),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.scene.start("Menu_Scene")})}}class N extends i().Scene{constructor(){super("Pause_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const e=this.game.globals.defaultTextStyle,{width:t,height:i}=this.scale,s=t/2;this.add.rectangle(0,0,t,i,0,.88).setOrigin(0).setDepth(-1),this.add.text(s,.18*i,"Pausa",{...e,fontSize:"42px",color:"#ffffff"}).setOrigin(.5);const a={...e,fontSize:"28px",color:"#000000"},r=.46*i,o=.14*i;S(this,{x:s,y:r,label:"Continuar",textStyle:a,scale:2,onClick:()=>{this.scene.stop(),this.scene.resume("Game_Scene")}}),S(this,{x:s,y:r+o,label:"Tutorial",textStyle:a,scale:2,onClick:()=>{this.scene.start("Tutorial_Scene",{returnScene:"Pause_Scene"})}}),S(this,{x:s,y:r+2*o,label:"Menú Principal",textStyle:a,scale:2,onClick:()=>{const e=this.scene.get("Game_Scene");e&&(e.input.keyboard.removeAllListeners(),e.input.keyboard.removeAllKeys()),this.scene.stop("Game_Scene"),this.scene.start("Menu_Scene")}})}}class P extends i().Scene{constructor(){super("SelectPlayer_Scene"),this.players=[],this.currentTurn=0,this.playerInputs=[],this.playerInputEls=[],this.turnText=null}init(e){this.mode=this.registry.get("mode"),console.log("Modo de Juego:",this.mode),this.isHost=this.registry.get("isHost"),console.log("Host:",this.isHost)}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("marcoJugador","ASSETS/UI/MARCOS/VACIOS/MARCO_PERSONAJE_SELECCIONADO.png"),this.load.image("characterA","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_a.png"),this.load.image("characterB","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_b.png"),this.load.image("characterC","ASSETS/PERSONAJES/PERSONAJES_POSE/personaje_c.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){this.input.keyboard.removeAllKeys(!0),this.input.keyboard.removeAllListeners();const{width:e,height:t}=this.scale,s=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"};p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,50,"Selecciona Personaje",{...s,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),"local"===this.mode&&this.createLocalUI(e,t,s),"online"===this.mode&&this.createOnlineUI(e,t,s),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.scene.start("ModeGame_Scene")}),this.events.once(i().Scenes.Events.SHUTDOWN,()=>{this.playerInputs.forEach(e=>e?.destroy()),this.playerInputs=[],this.playerInputEls=[],this.input.keyboard.enabled=!0})}createLocalUI(e,t,i){this.players=[{name:"",character:null,color:43775,bigImage:null,bigFrame:null,frame:null},{name:"",character:null,color:16733525,bigImage:null,bigFrame:null,frame:null}],this.turnText=this.add.text(e/2,95,"TURNO: Jugador 1",{...i,fontFamily:"VT323",fontSize:"28px",color:"#000"}).setOrigin(.5),this.createPlayersUI(25),this.createCharacterMiniatures(0,25),this.updateTurnText(),S(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>this.handleNext(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...i,fontSize:"18px",color:"#000"},clickSoundKey:"sonidoClick"})}createOnlineUI(e,t,i){this.players=[{name:this.registry.get("username")||"JugadorX",character:null,color:43775,bigImage:null,bigFrame:null,frame:null}],this.add.text(e/2,140,`${this.players[0].name}`,{...i,fontSize:"28px",color:"#000",fontStyle:"bold"}).setOrigin(.5),this.turnText=this.add.text(e/2,130,"Ningún personaje seleccionado",{...i,fontSize:"18px",color:"#000"}).setOrigin(.5),this.createPlayerOnlineUI(40),this.createCharacterMiniatures(150,40),S(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>this.handleNext(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...i,fontSize:"18px",color:"#000"},clickSoundKey:"sonidoClick"})}createPlayersUI(e=0){const{width:t,height:s}=this.scale,a=this.game.globals.defaultTextStyle,r=[.25*t,.75*t];this.players.forEach((o,n)=>{const h=r[n];this.add.text(h,100+e,"Nombre:",{...a,fontSize:"24px",color:"#000"}).setOrigin(.5);const l=this.add.dom(h,140+e).createFromHTML(`\n                <input type="text" placeholder="Nombre jugador" maxlength="10"\n                style="\n                    width:150px;\n                    padding:6px;\n                    font-size:16px;\n                    font-family:${a.fontFamily};\n                    border-radius:12px;\n                    border: 6px solid #FFAA00;\n                    outline: none;\n                    text-align:center;\n                    background-color:#f0f0f0;\n                    transition: border-color 0.2s, box-shadow 0.2s;"\n                onfocus="this.style.borderColor='#FF8316'; this.style.boxShadow='0 0 5px #FF8316';"\n                onblur="this.style.borderColor='#FFAA00'; this.style.boxShadow='none';"\n                />\n            `),c=l.node.querySelector("input");c.addEventListener("focus",e=>{this.input.keyboard.enabled=!1,e.stopPropagation()}),c.addEventListener("blur",e=>{this.input.keyboard.enabled=!0,e.stopPropagation()}),c.addEventListener("keydown",e=>e.stopPropagation()),c.addEventListener("input",()=>{c.value=c.value.replace(/[^a-zA-ZÀ-ÿñÑ ]/g,""),this.updateTurnText()}),this.playerInputs[n]=l,this.playerInputEls[n]=c,o.bigImage=this.add.image(t*(.25+.5*n),.6*s+e,"characterA").setScale(1.2).setOrigin(.5).setVisible(!1),o.bigFrame=this.add.image(o.bigImage.x,o.bigImage.y,"marcoJugador").setScale(2.8).setOrigin(.5).setVisible(!0),o.bigFrame.texture.setFilter(i().Textures.FilterMode.NEAREST),o.frame=this.add.rectangle(0,0,60,120).setStrokeStyle(4,o.color).setVisible(!1)}),this.currentTurn=0,this.updateTurnText()}createPlayerOnlineUI(e=0){const{width:t,height:s}=this.scale,a=this.players[0],r=t/2;a.bigImage=this.add.image(r-150,.58*s+e,"characterA").setScale(1.2).setOrigin(.5).setVisible(!1),a.bigFrame=this.add.image(a.bigImage.x,a.bigImage.y,"marcoJugador").setScale(2.8).setOrigin(.5).setVisible(!0),a.bigFrame.texture.setFilter(i().Textures.FilterMode.NEAREST),a.frame=this.add.rectangle(0,0,60,120).setStrokeStyle(4,a.color).setVisible(!1)}createCharacterMiniatures(e,t){const{width:i,height:s}=this.scale,a=i/2-75,r=.5*s,o=[{x:a+e,y:r+t},{x:a+e+150,y:r+t},{x:a+e+75,y:r+t+75}];["characterA","characterB","characterC"].forEach((e,t)=>{const i=this.add.image(o[t].x,o[t].y,e).setInteractive({useHandCursor:!0}).setScale(.45).setData("characterName",e);i.on("pointerdown",()=>{m(this,"sonidoClick"),this.onMiniClicked(e,i)})})}onMiniClicked(e,t){if("online"===this.mode){const i=this.players[0];return i.character===e?(i.character=null,i.bigImage&&i.bigImage.setVisible(!1),i.frame&&i.frame.setVisible(!1)):(i.character=e,i.bigImage&&i.bigImage.setTexture(e).setVisible(!0),i.frame&&i.frame.setPosition(t.x,t.y).setVisible(!0)),void this.updateTurnText()}const i=this.players.findIndex(t=>t.character===e);if(-1!==i){const e=this.players[i];return e.character=null,e.bigImage&&e.bigImage.setVisible(!1),e.frame&&e.frame.setVisible(!1),this.currentTurn=i,void this.updateTurnText()}const s=this.players[0],a=this.players[1];let r=this.currentTurn;if(null==r)if(!s.character&&a.character)r=0;else if(!a.character&&s.character)r=1;else{if(s.character||a.character)return;r=0}const o=this.players[r],n=this.players[1-r];n.character!==e&&(o.character=e,o.bigImage&&o.bigImage.setTexture(e).setVisible(!0),o.frame&&o.frame.setPosition(t.x,t.y).setVisible(!0),n.character?this.currentTurn=null:this.currentTurn=1-r,this.updateTurnText())}handleNext(){if("local"===this.mode){const e=this.playerInputEls?.[0]?.value?.trim()??"",t=!!this.players?.[0]?.character,i=this.playerInputEls?.[1]?.value?.trim()??"",s=!!this.players?.[1]?.character;if(!(e.length>0&&i.length>0&&t&&s))return this.updateTurnText(),void this.flashTurnText("#b00000",900);this.players[0].name=e,this.players[1].name=i,this.scene.start("SelectScenario_Scene",{mode:this.mode,player1:this.players[0],player2:this.players[1]})}if("online"===this.mode){if(!this.players?.[0]?.character)return this.flashTurnText("#b00000",900),void this.turnText.setText("Debes elegir un personaje primero");this.registry.set("myCharacter",this.players[0].character),this.isHost?this.scene.start("SelectScenario_Scene",{mode:this.mode,player1:this.players[0],isHost:!0}):this.scene.start("Lobby_Scene",{mode:this.mode,player2:this.players[0],isHost:!1})}}flashTurnText(e="#b00000",t=900){if(!this.turnText)return;const i=this.turnText.style.color||"#000000";this.turnText.setColor(e),this.time.delayedCall(t,()=>{this.turnText.setColor(i),this.updateTurnText()})}updateTurnText(){if(this.turnText){if("local"===this.mode){const e=this.playerInputEls?.[0]?.value?.trim()??"",t=this.playerInputEls?.[1]?.value?.trim()??"",i=!!this.players?.[0]?.character,s=!!this.players?.[1]?.character,a=e.length>0,r=t.length>0,o=i&&s,n=a&&r;if(o&&n)return void this.turnText.setText("¡Listo para continuar!");if(o&&!n)return void(a||r?a?this.turnText.setText("Falta el nombre de Jugador 2"):this.turnText.setText("Falta el nombre de Jugador 1"):this.turnText.setText("Faltan los nombres de Jugador 1 y Jugador 2"));if(n&&!o)return void(i||s?i?this.turnText.setText("Falta el personaje de Jugador 2"):this.turnText.setText("Falta el personaje de Jugador 1"):this.turnText.setText("Faltan los personajes de Jugador 1 y Jugador 2"));if(null===this.currentTurn||void 0===this.currentTurn)return void this.turnText.setText("Completa nombres y personajes");this.turnText.setText(`TURNO: Jugador ${this.currentTurn+1}`)}"online"===this.mode&&(this.players?.[0]?.character?this.turnText.setText("Listo: el jugador tiene personaje"):this.turnText.setText("Ningún personaje seleccionado"))}}}class B extends i().Scene{constructor(){super("SelectScenario_Scene"),this.selectedScenario="Gym",this.mode="local"}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("Gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("Playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("Jardin","ASSETS/FONDOS/JARDIN.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3"),this.load.image("marco","/ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png")}init(e){this.player1=e.player1,this.player2=e.player2,this.mode=e.mode||"local",this.isHost=e.isHost||!1}create(){const{width:e,height:t}=this.scale,s=this.game.globals.defaultTextStyle;p(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,50,"Selecciona Escenario",{...s,fontSize:"42px",color:"#5f0000ff"}).setOrigin(.5),this.selectedScenario="Gym",this.selectedImage=this.add.image(e/2,240,this.selectedScenario).setScale(.5);const a=["Gym","Playa","Jardin"],r=e/2-200,o={},n=e=>{this.selectedScenario=e,this.selectedImage.setTexture(e).setScale(.5),a.forEach(t=>{o[t].setTexture(t===e?"botonSeleccionado":"botonSinSeleccionar")})};a.forEach((e,t)=>{const a=this.add.image(r+200*t,440,"botonSinSeleccionar").setInteractive({useHandCursor:!0}).setScale(1.75);o[e]=a;const h=this.add.text(0,0,e,{...s,fontSize:"28px",color:"#000"});i().Display.Align.In.Center(h,a),a.on("pointerover",()=>a.setTexture("botonSeleccionado")),a.on("pointerout",()=>{a.setTexture(this.selectedScenario===e?"botonSeleccionado":"botonSinSeleccionar")}),a.on("pointerdown",()=>m(this,"sonidoClick")),a.on("pointerup",t=>{a.getBounds().contains(t.x,t.y)&&n(e)})}),n(this.selectedScenario);const h=this.add.image(e/2,240,"marco").setOrigin(.5);h.texture.setFilter(i().Textures.FilterMode.NEAREST),h.setDisplaySize(500,300),S(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>{"local"===this.mode?this.scene.start("Game_Scene",{player1:this.player1,player2:this.player2,selectedScenario:this.selectedScenario,mode:this.mode,isHost:this.isHost}):this.scene.start("Lobby_Scene",{player1:this.player1,player2:this.player2,selectedScenario:this.selectedScenario,mode:this.mode,isHost:this.isHost})},scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...s,fontSize:"18px",color:"#000"},clickSoundKey:"sonidoClick"}),u(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>{this.scene.start("SelectPlayer_Scene",{mode:this.mode,isHost:this.isHost})}})}}(async()=>{document.fonts&&document.fonts.load&&(await Promise.all([document.fonts.load('20px "MiFuente"'),document.fonts.load('20px "VT323"')]),await document.fonts.ready);const e={defaultTextStyle:{fontFamily:"MiFuente",fontSize:"20px",color:"#ffffff"},music:null},t={type:i().AUTO,width:960,height:540,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{x:0,y:300},debug:!1}},dom:{createContainer:!0},callbacks:{preBoot:t=>{t.globals=e}},scene:[g,_,v,I,R,w,N,C,P,B],backgroundColor:"#8675f1"};new(i().Game)(t)})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYnVuZGxlLmpzIiwibWFwcGluZ3MiOiJtQkFDQSxJQUFJQSxFQUFzQixDQ0ExQkEsRUFBeUJDLElBQ3hCLElBQUlDLEVBQVNELEdBQVVBLEVBQU9FLFdBQzdCLElBQU9GLEVBQWlCLFFBQ3hCLElBQU0sRUFFUCxPQURBRCxFQUFvQkksRUFBRUYsRUFBUSxDQUFFRyxFQUFHSCxJQUM1QkEsR0NMUkYsRUFBd0IsQ0FBQ00sRUFBU0MsS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYUCxFQUFvQlMsRUFBRUYsRUFBWUMsS0FBU1IsRUFBb0JTLEVBQUVILEVBQVNFLElBQzVFRSxPQUFPQyxlQUFlTCxFQUFTRSxFQUFLLENBQUVJLFlBQVksRUFBTUMsSUFBS04sRUFBV0MsTUNKM0VSLEVBQXdCLENBQUNjLEVBQUtDLElBQVVMLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUtKLEVBQUtDLElDQWxGLE1BQU0sRUFBK0JJLE8sYUNFckMsTUFBTUMsRUFBaUIsWUFDakJDLEVBQW1CLGNBQ25CQyxFQUFvQixlQUNwQkMsRUFBb0IsU0FFMUIsU0FBU0MsRUFBa0JDLEVBQUtDLEdBQzVCLE1BQU1DLEVBQUlDLE9BQU9DLFdBQVdKLEdBQU9LLE9BQU9KLElBRTFDLE9BQUtFLE9BQU9HLFNBQVNKLEdBRWQsU0FBWUssTUFBTUwsRUFBRyxFQUFHLEdBRkNELENBR3BDLENBSUEsU0FBU08sRUFBcUJ6QixFQUFLMEIsRUFBYVIsRUFBZSxHQUMzRCxNQUFNRCxFQUFNVSxhQUFhQyxRQUFRNUIsR0FDakMsR0FBWSxPQUFSaUIsRUFBYyxPQUFPRCxFQUFrQkMsRUFBS0MsR0FFaEQsTUFBTVcsRUFBY0gsRUFBY0MsYUFBYUMsUUFBUUYsR0FBZSxLQUN0RSxPQUFvQixPQUFoQkcsRUFBNkJiLEVBQWtCYSxFQUFhWCxHQUV6RCxTQUFZTSxNQUFNTixFQUFjLEVBQUcsRUFDOUMsQ0F3Qk8sU0FBU1ksRUFBbUJaLEVBQWUsR0FDOUMsT0FBT08sRUFBcUJiLEVBQWdCRyxFQUFtQkcsRUFDbkUsQ0FHTyxTQUFTYSxFQUFxQmIsRUFBZSxHQUNoRCxPQUFPTyxFQUFxQlosRUFBa0JFLEVBQW1CRyxFQUNyRSxDQUdPLFNBQVNjLEVBQXNCZCxFQUFlLEdBQ2pELE9BQU9PLEVBQXFCWCxFQUFtQixLQUFNSSxFQUN6RCxDQTJCTyxTQUFTZSxFQUFrQkMsRUFBT0MsRUFBVSxDQUFDLEdBQ2hELElBQUlDLEVBQVlKLElBQ1pLLEVBQVlQLElBQ1pRLEVBQWNQLElBRUssaUJBQVpJLEdBQ1BFLEVBQVksU0FBWWIsTUFBTUosT0FBT2UsR0FBVSxFQUFHLEdBQ2xERyxFQUFjRCxJQUVkQSxFQUFZRixFQUFRRSxXQUFhQSxFQUNqQ0MsRUFBY0gsRUFBUUcsYUFBZUEsR0FJekNKLEVBQU1LLE1BQU1DLE9BQVNKLEVBRXJCLE1BQU1LLEVBQVFQLEVBQU1RLEtBQUtDLFFBQVFGLE1BQzdCQSxHQUFTLGNBQWVBLEdBQ3hCQSxFQUFNRyxVQUFVTixFQUV4QixDQUdPLFNBQVNPLEVBQVVYLEVBQU9sQyxFQUFNLGVBQ25Da0MsRUFBTUssTUFBTU8sS0FBSzlDLEVBQUssQ0FBRXdDLE9BQVFWLEtBQ3BDLENDOUdPLFNBQVNpQixFQUFlYixHQUFPLEVBQ2xDYyxFQUFDLEVBQUVDLEVBQUMsTUFDSkMsRUFBSyxRQUNMQyxFQUFPLGNBQ1BDLEVBQWdCLHNCQUFxQixhQUNyQ0MsRUFBZSxvQkFBbUIsTUFDbENDLEVBQVEsRUFBQyxVQUNUQyxFQUFZLENBQUMsRUFBQyxjQUNkQyxFQUFnQixnQkFFaEIsTUFBTUMsRUFBU3ZCLEVBQU13QixJQUFJQyxPQUFPWCxFQUFHQyxFQUFHRyxHQUNqQ1EsU0FBU04sR0FDVE8sZUFBZSxDQUFFQyxlQUFlLElBRS9CQyxFQUFPN0IsRUFBTXdCLElBQUlLLEtBQUtmLEVBQUdDLEVBQUdDLEVBQU9LLEdBQVdTLFVBQVUsSUFHeERDLEVBQVksSUFBTVIsRUFBT1MsV0FBV2QsR0FDcENlLEVBQVcsSUFBTVYsRUFBT1MsV0FBV2IsR0FvQnpDLE9BbEJBSSxFQUFPVyxHQUFHLGNBQWVELEdBQ3pCVixFQUFPVyxHQUFHLGFBQWNILEdBQ3hCUixFQUFPVyxHQUFHLGNBQWUsS0FDckJELElBQ0F0QixFQUFVWCxFQUFPc0IsS0FHckJDLEVBQU9XLEdBQUcsWUFBY0MsSUFDTFosRUFBT2EsWUFBWUMsU0FBU0YsRUFBUXJCLEVBQUdxQixFQUFRcEIsSUFNOURrQixJQUNBaEIsT0FMSWMsTUFRRCxDQUFFUixTQUFRTSxPQUNyQixDQUdPLFNBQVNTLEVBQWlCdEMsRUFBT0MsR0FDcEMsTUFBTSxFQUNGYSxFQUFDLEVBQUVDLEVBQUMsUUFDSndCLEVBQU8sUUFDUHRCLEVBQU8sTUFDUEcsRUFBUSxFQUFDLFdBQ1RvQixFQUFhLElBQUcsY0FDaEJsQixFQUFnQixlQUNoQnJCLEVBRUVzQixFQUFTdkIsRUFBTXdCLElBQ2hCQyxPQUFPWCxFQUFHQyxFQUFHd0IsR0FDYmIsU0FBU04sR0FDVE8sZUFBZSxDQUFFQyxlQUFlLElBZXJDLE9BWkFMLEVBQU9XLEdBQUcsY0FBZSxJQUFNWCxFQUFPRyxTQUFTTixFQUFRb0IsSUFDdkRqQixFQUFPVyxHQUFHLGFBQWMsSUFBTVgsRUFBT0csU0FBU04sSUFDOUNHLEVBQU9XLEdBQUcsY0FBZSxLQUNyQnZCLEVBQVVYLEVBQU9zQixLQUdyQkMsRUFBT1csR0FBRyxZQUFjQyxJQUNMWixFQUFPYSxZQUFZQyxTQUFTRixFQUFRckIsRUFBR3FCLEVBQVFwQixJQUU5REUsTUFHR00sQ0FDWCxDQ3JFTyxNQUFNa0IsVUFBbUIsVUFDNUIsV0FBQUMsR0FDSUMsTUFBTSxhQUNWLENBRUEsT0FBQUMsR0FFSUMsS0FBS0MsS0FBS0MsTUFBTSxvQkFBcUIsbURBQ3JDRixLQUFLQyxLQUFLQyxNQUFNLHNCQUF1QixzQ0FDdkNGLEtBQUtDLEtBQUtDLE1BQU0scUJBQXNCLG9DQUd0Q0YsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLGdDQUcvQkYsS0FBS0MsS0FBS0UsTUFBTSxnQkFBaUIsNkJBQ2pDSCxLQUFLQyxLQUFLRSxNQUFNLGNBQWUsZ0NBQ25DLENBRUEsTUFBQUMsR0FFSWxELEVBQWtCOEMsTUYwRm5CLFNBQTRCN0MsRUFBT2tELEdBQVUsS0FBRUMsR0FBTyxHQUFTLENBQUMsR0FDbkUsTUFBTTdDLEVBQVNULElBQ2YsSUFBSVUsRUFBUVAsRUFBTVEsS0FBS0MsUUFBUUYsTUFDMUJBLElBQ0RBLEVBQVFQLEVBQU1LLE1BQU1tQixJQUFJMEIsRUFBVSxDQUFFQyxPQUFNN0MsV0FDMUNOLEVBQU1RLEtBQUtDLFFBQVFGLE1BQVFBLEdBSTNCQSxHQUFTLGNBQWVBLEdBQU9BLEVBQU1HLFVBQVVKLEdBRW5ELE1BQU04QyxFQUFVLEtBQ1osR0FBSzdDLEdBQVcsU0FBVUEsTUFHdEIsY0FBZUEsS0FBU0EsRUFBTThDLFdBRWxDLElBQ0k5QyxFQUFNSyxNQUNWLENBQUUsTUFBTzBDLEdBQ0xDLFFBQVFDLEtBQUssMkRBQTRERixFQUM3RSxHQUlKRixJQUdBcEQsRUFBTXlELE1BQU1DLEtBQUssY0FBZUMsVUFDNUIsTUFBTUMsRUFBTTVELEVBQU1LLE1BQU13RCxRQUN4QixHQUFJRCxHQUFxQixjQUFkQSxFQUFJRSxNQUNYLFVBQ1VGLEVBQUlHLFFBQ2QsQ0FBRSxNQUFRLENBRWRYLEtBSVIsQ0VoSVFZLENBQW1CbkIsS0FBTSxnQkFBaUIsQ0FBRU0sTUFBTSxJQUdsRCxNQUFNYyxFQUFRcEIsS0FBS3JDLEtBQUtDLFNBQVN5RCxrQkFBb0IsQ0FDakRDLFdBQVksUUFDWkMsU0FBVSxPQUNWQyxNQUFPLFlBSUwsTUFBRUMsRUFBSyxPQUFFQyxHQUFXMUIsS0FBS3pCLE1BQ3pCb0QsRUFBVUYsRUFBUSxFQUNsQkcsRUFBYUQsRUFBV0EsRUFBVSxFQUdyQjNCLEtBQUtyQixJQUFJdUIsTUFBTSxFQUFHLEVBQUcsc0JBQ25DakIsVUFBVSxHQUNWNEMsVUFBVSxHQUNKQyxlQUFlTCxFQUFPQyxHQUdqQzFCLEtBQUtyQixJQUFJSyxLQUFLNEMsRUFBWSxJQUFLLGVBQWdCLElBQ3hDUixFQUNIRyxTQUFVLE9BQ1ZDLE1BQU8sWUFDUnZDLFVBQVUsSUFHYixNQUFNOEMsRUFBZUwsRUFBUyxFQUFJLEdBRTVCTSxFQUFrQixJQUFLWixFQUFPRyxTQUFVLE9BQVFDLE1BQU8sV0FHN0R4RCxFQUFlZ0MsS0FBTSxDQUNqQi9CLEVBQUcyRCxFQUNIMUQsRUFBRzZELEVBQ0g1RCxNQUFPLFFBQ1BDLFFBQVMsSUFBTTRCLEtBQUs3QyxNQUFNOEUsTUFBTSxrQkFDaEN6RCxVQUFXd0QsRUFDWHZELGNBQWUsZ0JBSW5CVCxFQUFlZ0MsS0FBTSxDQUNqQi9CLEVBQUcyRCxFQUNIMUQsRUFBRzZELEVBaEJlLEdBaUJsQjVELE1BQU8sV0FDUEMsUUFBUyxJQUFNNEIsS0FBSzdDLE1BQU04RSxNQUFNLGlCQUFrQixDQUFFQyxZQUFhLGVBQ2pFMUQsVUFBV3dELEVBQ1h2RCxjQUFlLGdCQUluQlQsRUFBZWdDLEtBQU0sQ0FDakIvQixFQUFHMkQsRUFDSDFELEVBQUc2RCxFQUFlSSxJQUNsQmhFLE1BQU8sZ0JBQ1BDLFFBQVMsSUFBTTRCLEtBQUs3QyxNQUFNOEUsTUFBTSx1QkFDaEN6RCxVQUFXd0QsRUFDWHZELGNBQWUsZ0JBSW5CVCxFQUFlZ0MsS0FBTSxDQUNqQi9CLEVBQUcyRCxFQUNIMUQsRUFBRzZELEVBQWVJLElBQ2xCaEUsTUFBTyxXQUNQQyxRQUFTLElBQU00QixLQUFLN0MsTUFBTThFLE1BQU0saUJBQ2hDekQsVUFBV3dELEVBQ1h2RCxjQUFlLGdCQUtuQnVCLEtBQUtyQixJQUFJdUIsTUFBTUYsS0FBS3pCLE1BQU1rRCxNQUFRLEdBQUl6QixLQUFLekIsTUFBTW1ELE9BQVMsR0FBSSxlQUN6RDdDLFNBQVMsS0FDVEksVUFBVSxFQUFHLEVBQ3RCLEVDdEdKLE1BQU1tRCxFQUFzQixDQUMxQkMsVUFBVyxJQUNYQyxXQUFZLElBQ1pDLFVBQVcsS0FDWEMsS0FBTSxJQUNOQyxLQUFNLEtBUUQsTUFBTUMsRUFFVCxXQUFBN0MsQ0FBWTFDLEVBQU93RixFQUFJMUUsRUFBR0MsRUFBRzBFLEdBRXpCNUMsS0FBSzdDLE1BQVFBLEVBQ2I2QyxLQUFLMkMsR0FBS0EsRUFDVjNDLEtBQUs0QyxjQUFnQkEsRUFHckI1QyxLQUFLNkMsY0FBZ0IsSUFDckI3QyxLQUFLOEMsVUFBWTlDLEtBQUs2QyxjQUV0QjdDLEtBQUsrQyxVQUFZLElBRWpCL0MsS0FBS2dELGVBQWlCLENBQUMsRUFHdkJoRCxLQUFLaUQsYUFBYyxFQUNuQmpELEtBQUtrRCxlQUFpQixLQUN0QmxELEtBQUttRCxtQkFBb0IsRUFDekJuRCxLQUFLb0Qsa0JBQW1CLEVBRXhCcEQsS0FBS3FELGdCQUFrQixFQUV2QnJELEtBQUtzRCxlQUFpQnRELEtBQUs3QyxNQUFNd0IsSUFBSUssS0FBS2YsRUFBR0MsRUFBSSxHQUFJLEdBQUksQ0FDckRvRCxXQUFZLFFBQ1pDLFNBQVUsT0FDVkMsTUFBTyxVQUNQK0IsT0FBUSxVQUNSQyxnQkFBaUIsSUFFaEJ2RSxVQUFVLEdBQUssR0FDZjRDLFNBQVMsSUFDVDRCLFlBQVcsR0FFaEJ6RCxLQUFLMEQsaUJBQW1CLEdBRXhCMUQsS0FBSzJELGFBQWMsRUFHbkIzRCxLQUFLNEQsV0FBYSxFQUNsQjVELEtBQUs2RCxZQUFjLElBQ25CN0QsS0FBSzhELFVBQVksRUFDakI5RCxLQUFLK0QsYUFBZSxJQUdwQixNQUFNQyxFQUFtQixDQUVyQkMsV0FBWSxDQUNSQyxXQUFZLGFBQ1pDLFdBQVksRUFDWkMsYUFBYyxpQkFDZEMsY0FBZSxrQkFDZkMsWUFBYSxnQkFDYkMsYUFBYyxpQkFDZEMsYUFBYyxpQkFDZEMsY0FBZSxrQkFDZkMsZ0JBQWlCLG9CQUNqQkMsaUJBQWtCLHFCQUNsQkMsUUFBUSxpQkFHWkMsV0FBWSxDQUNSWCxXQUFZLGFBQ1pDLFdBQVksRUFDWkMsYUFBYyxpQkFDZEMsY0FBZSxrQkFDZkMsWUFBYSxnQkFDYkMsYUFBYyxpQkFDZEMsYUFBYyxpQkFDZEMsY0FBZSxrQkFDZkMsZ0JBQWlCLG9CQUNqQkMsaUJBQWtCLHFCQUNsQkMsUUFBUSxpQkFHWkUsV0FBWSxDQUNSWixXQUFZLGFBQ1pDLFdBQVksRUFDWkMsYUFBYyxpQkFDZEMsY0FBZSxrQkFDZkMsWUFBYSxnQkFDYkMsYUFBYyxpQkFDZEMsYUFBYyxpQkFDZEMsY0FBZSxrQkFDZkMsZ0JBQWlCLG9CQUNqQkMsaUJBQWtCLHFCQUNsQkMsUUFBUSxrQkFLaEI1RSxLQUFLK0UsT0FBU2YsRUFBaUJwQixJQUFrQm9CLEVBQWlCQyxXQUdsRWpFLEtBQUtwQixPQUFTb0IsS0FBSzdDLE1BQU02SCxRQUFRckcsSUFBSUMsT0FDakNYLEVBQ0FDLEVBQ0E4QixLQUFLK0UsT0FBT2IsV0FDWmxFLEtBQUsrRSxPQUFPWixZQUdoQm5FLEtBQUtwQixPQUFPQyxTQUFTLEtBR3JCbUIsS0FBS3BCLE9BQU9xRyxLQUFLQyxRQUE0QixHQUFwQmxGLEtBQUtwQixPQUFPNkMsTUFBa0MsR0FBckJ6QixLQUFLcEIsT0FBTzhDLFFBQWMsR0FJNUUxQixLQUFLcEIsT0FBT3VHLFFBQVEsU0FBVW5GLE1BRzlCQSxLQUFLb0YsT0FBUyxRQUdkcEYsS0FBS3FGLFlBQWEsRUFHbEJyRixLQUFLc0YsV0FBWSxFQUdqQnRGLEtBQUt1RixjQUFnQixFQUdyQnZGLEtBQUtwQixPQUFPUyxHQUFHLG9CQUFzQm1HLElBQ2pDLElBRVFBLEVBQUt2SyxNQUFRK0UsS0FBSytFLE9BQU9MLGlCQUN6QmMsRUFBS3ZLLE1BQVErRSxLQUFLK0UsT0FBT0osbUJBRXpCM0UsS0FBSzJELGFBQWMsRUFJM0IsQ0FBRSxNQUFPOEIsR0FDTC9FLFFBQVErRSxNQUFNLHdDQUF3Q0QsRUFBS3ZLLE9BQVF3SyxFQUN2RSxHQUdSLENBR0EsVUFBQUMsR0FDSSxNQUFNVCxFQUFPakYsS0FBS3BCLE9BQU9xRyxLQUN6QixRQUFLQSxJQUlFQSxFQUFLVSxRQUFRQyxNQUFRWCxFQUFLWSxTQUFTRCxLQUM5QyxDQUdBLFlBQUFFLENBQWFDLEVBQVksSUFDckIsTUFBTWQsRUFBT2pGLEtBQUtwQixPQUFPcUcsS0FDekIsSUFBS0EsRUFBTSxPQUFPLEVBQ2xCLEdBQWtDLGlCQUF2QmpGLEtBQUs3QyxNQUFNNkksUUFBc0IsT0FBTyxFQUduRCxNQUFNQyxFQUFRaEIsRUFBSy9HLEVBQUkrRyxFQUFLdkQsT0FDNUIsT0FBT3dFLEtBQUtDLElBQUlGLEVBQVFqRyxLQUFLN0MsTUFBTTZJLFVBQVlELENBQ25ELENBSUEsUUFBQUssR0FDUXBHLEtBQUtpRCxhQUFlakQsS0FBSzJELGNBRTdCM0QsS0FBS3BCLE9BQU95SCxjQUFjckcsS0FBSzhDLFdBQy9COUMsS0FBS29GLE9BQVMsT0FDZHBGLEtBQUtzRyxjQUFjdEcsS0FBSytFLE9BQU9ULGFBQ25DLENBRUEsU0FBQWlDLEdBQ1F2RyxLQUFLaUQsYUFBZWpELEtBQUsyRCxjQUU3QjNELEtBQUtwQixPQUFPeUgsYUFBYXJHLEtBQUs4QyxXQUM5QjlDLEtBQUtvRixPQUFTLFFBQ2RwRixLQUFLc0csY0FBY3RHLEtBQUsrRSxPQUFPUixjQUNuQyxDQUdBLFFBQUFpQyxHQUNReEcsS0FBS2lELGNBRUxqRCxLQUFLMEYsY0FBZ0IxRixLQUFLOEYsYUFBYSxPQUV2QzlGLEtBQUsyRCxhQUFjLEVBRW5CM0QsS0FBS3NGLFdBQVksRUFDakJ0RixLQUFLdUYsY0FBZ0J2RixLQUFLN0MsTUFBTXNKLEtBQUtDLElBQ3JDMUcsS0FBS3BCLE9BQU8rSCxjQUFjM0csS0FBSytDLFdBQy9CL0MsS0FBS29GLE9BQVMsT0FDZHBGLEtBQUtzRyxjQUFjdEcsS0FBSytFLE9BQU9QLGNBQy9CeEUsS0FBSzdDLE9BQU95SixVQUFVNUcsS0FBSzdDLE9BQU8wSixLQUFLQyxNQUUvQyxDQUVBLFNBQUFDLEdBQ1EvRyxLQUFLaUQsY0FFTGpELEtBQUswRixjQUFnQjFGLEtBQUs4RixhQUFhLE9BQ3ZDOUYsS0FBSzJELGFBQWMsRUFFbkIzRCxLQUFLc0YsV0FBWSxFQUNqQnRGLEtBQUt1RixjQUFnQnZGLEtBQUs3QyxNQUFNc0osS0FBS0MsSUFDckMxRyxLQUFLcEIsT0FBTytILGNBQWMzRyxLQUFLK0MsV0FDL0IvQyxLQUFLb0YsT0FBUyxRQUNkcEYsS0FBS3NHLGNBQWN0RyxLQUFLK0UsT0FBT04sZUFDL0J6RSxLQUFLN0MsT0FBT3lKLFVBQVU1RyxLQUFLN0MsT0FBTzBKLEtBQUtDLE1BRS9DLENBR0EsV0FBQUUsR0FDUWhILEtBQUtpRCxhQUNMakQsS0FBSzJELGNBR0wzRCxLQUFLMEYsY0FBZ0IxRixLQUFLOEYsYUFBYSxPQUN2QzlGLEtBQUsyRCxhQUFjLEVBQ25CM0QsS0FBS3BCLE9BQU95SCxhQUFhLEdBQ3pCckcsS0FBS29GLE9BQVMsT0FDZHBGLEtBQUtzRyxjQUFjdEcsS0FBSytFLE9BQU9MLGlCQUV2QyxDQUVBLFlBQUF1QyxHQUNRakgsS0FBS2lELGFBQ0xqRCxLQUFLMkQsY0FHTDNELEtBQUswRixjQUFnQjFGLEtBQUs4RixhQUFhLE9BQ3ZDOUYsS0FBSzJELGFBQWMsRUFDbkIzRCxLQUFLcEIsT0FBT3lILGFBQWEsR0FDekJyRyxLQUFLb0YsT0FBUyxRQUNkcEYsS0FBS3NHLGNBQWN0RyxLQUFLK0UsT0FBT0osa0JBRXZDLENBR0EsUUFBQXVDLEdBQ1FsSCxLQUFLMkQsY0FHVDNELEtBQUtwQixPQUFPeUgsYUFBYSxHQUN6QnJHLEtBQUtvRixPQUFTLE9BRWRwRixLQUFLc0csY0FBY3RHLEtBQUsrRSxPQUFPWCxjQUNuQyxDQUVBLFNBQUErQyxHQUNRbkgsS0FBSzJELGNBR1QzRCxLQUFLcEIsT0FBT3lILGFBQWEsR0FDekJyRyxLQUFLb0YsT0FBUyxRQUVkcEYsS0FBS3NHLGNBQWN0RyxLQUFLK0UsT0FBT1YsZUFDbkMsQ0FJQSxTQUFBK0MsQ0FBVUMsRUFBTUMsRUFBT0MsRUFBS0MsR0FDeEJ4SCxLQUFLNEQsV0FBYXlELEVBQ2xCckgsS0FBSzZELFlBQWN5RCxFQUNuQnRILEtBQUs4RCxVQUFZeUQsRUFDakJ2SCxLQUFLK0QsYUFBZXlELENBQ3hCLENBR0EsaUJBQUFDLEdBQ0ksTUFBTUMsRUFBWTFILEtBQUtwQixPQUFPNkMsTUFBUSxFQUVsQ3pCLEtBQUtwQixPQUFPWCxFQUFJeUosRUFBWTFILEtBQUs0RCxhQUNqQzVELEtBQUtwQixPQUFPWCxFQUFJK0IsS0FBSzRELFdBQWE4RCxFQUNsQzFILEtBQUtwQixPQUFPeUgsYUFBYSxJQUV6QnJHLEtBQUtwQixPQUFPWCxFQUFJeUosRUFBWTFILEtBQUs2RCxjQUNqQzdELEtBQUtwQixPQUFPWCxFQUFJK0IsS0FBSzZELFlBQWM2RCxFQUNuQzFILEtBQUtwQixPQUFPeUgsYUFBYSxHQUVqQyxDQUlBLFdBQUFzQixDQUFZMUosRUFBR0MsR0FDTjhCLEtBQUtwQixTQUVWb0IsS0FBS3BCLE9BQU8rSSxZQUFZMUosRUFBR0MsR0FDM0I4QixLQUFLcEIsT0FBT2dKLFlBQVksRUFBRyxHQUczQjVILEtBQUs2SCwrQkFDVCxDQUdBLDRCQUFBQSxHQUNJLElBQUs3SCxLQUFLc0QsaUJBQW1CdEQsS0FBS3BCLE9BQVEsT0FHMUMsTUFDTWtKLEVBQXFCLElBRFY5SCxLQUFLcEIsT0FBT21KLGVBQWlCL0gsS0FBS3BCLE9BQU84QyxRQUFVLElBR3BFMUIsS0FBS3NELGVBQWVxRSxZQUNoQjNILEtBQUtwQixPQUFPWCxFQUNaK0IsS0FBS3BCLE9BQU9WLEVBQUk0SixFQUV4QixDQUdBLGFBQUF4QixDQUFjMEIsR0FDVixJQUFLQSxFQUFTLE9BQ2QsSUFBS2hJLEtBQUtwQixPQUFPcUosTUFBTyxPQUd4QixHQUNJakksS0FBS3NGLFdBQ0wwQyxJQUFZaEksS0FBSytFLE9BQU9QLGNBQ3hCd0QsSUFBWWhJLEtBQUsrRSxPQUFPTixjQUV4QixPQUdKLE1BQU15RCxFQUFjbEksS0FBS3BCLE9BQU9xSixNQUFNQyxZQUNsQ2xJLEtBQUtwQixPQUFPcUosTUFBTXpILFdBQWEwSCxHQUFlQSxFQUFZak4sTUFBUStNLEdBSXRFaEksS0FBS3BCLE9BQU9xSixNQUFNbEssS0FBS2lLLEdBQVMsRUFDcEMsQ0FHQSxNQUFBRyxHQUNJLEdBQUluSSxLQUFLcEIsT0FBT3FHLEtBQU0sQ0FDbEIsTUFBTW1ELEVBQWNwSSxLQUFLcUYsV0FDekJyRixLQUFLcUYsV0FBYXJGLEtBQUswRixhQUV2QixNQUFNd0MsRUFBY2xJLEtBQUtwQixPQUFPcUosTUFBTUMsWUFDaENHLEVBQWFILEVBQWNBLEVBQVlqTixJQUFNLEtBRS9DK0UsS0FBS2lELGFBQ0xqRCxLQUFLcEIsT0FBT3lILGFBQWEsR0FLekJyRyxLQUFLMkQsYUFDTDBFLElBQWVySSxLQUFLK0UsT0FBT0wsaUJBQzNCMkQsSUFBZXJJLEtBQUsrRSxPQUFPSixtQkFFM0IzRSxLQUFLMkQsYUFBYyxHQU1uQjNELEtBQUtzRixXQUNMK0MsR0FDQUEsSUFBZXJJLEtBQUsrRSxPQUFPUCxjQUMzQjZELElBQWVySSxLQUFLK0UsT0FBT04sZ0JBRTNCekUsS0FBS3NGLFdBQVksR0FJakJ0RixLQUFLc0YsV0FBY3RGLEtBQUs3QyxNQUFNc0osS0FBS0MsSUFBTTFHLEtBQUt1RixjQUFnQixPQUM5RHZGLEtBQUtzRixXQUFZLEdBSWpCdEYsS0FBS3NGLFlBQWM4QyxHQUFlcEksS0FBS3FGLGFBQ3ZDckYsS0FBS3NGLFdBQVksRUFDRyxTQUFoQnRGLEtBQUtvRixPQUNMcEYsS0FBS2tILFdBRUxsSCxLQUFLbUgsWUFHakIsQ0FDQW5ILEtBQUt5SCxvQkFFTHpILEtBQUs2SCw4QkFDVCxDQUdBLFlBQUFTLENBQWFDLEdBRVQsUUFBSXZJLEtBQUswRCxpQkFBaUI4RSxRQUFVLElBRXBDeEksS0FBSzBELGlCQUFpQitFLEtBQUtGLEdBQ3BCLEdBQ1gsQ0FFQSxjQUFBRyxHQUNJLEdBQXFDLElBQWpDMUksS0FBSzBELGlCQUFpQjhFLE9BQWMsT0FFeEMsTUFBTUQsRUFBT3ZJLEtBQUswRCxpQkFBaUJpRixRQUNuQzNJLEtBQUs0SSxnQkFBZ0JMLEVBQ3pCLENBR0EsZUFBQUssQ0FBZ0JMLEdBQ1osT0FBUUEsR0FDSixJQUFLLFlBQ0R2SSxLQUFLNkksMEJBQTBCLFlBQWF6RyxFQUFvQkMsV0FDaEUsTUFDSixJQUFLLGFBQWMsQ0FDZixNQUFNeUcsRUFBVzlJLEtBQUsrSSxjQUNsQkQsR0FDQUEsRUFBU0QsMEJBQTBCLGFBQWN6RyxFQUFvQkUsWUFFekUsS0FDSixDQUNBLElBQUssWUFBYSxDQUNkLE1BQU13RyxFQUFXOUksS0FBSytJLGNBQ2xCRCxHQUNBQSxFQUFTRCwwQkFBMEIsWUFBYXpHLEVBQW9CRyxXQUV4RSxLQUNKLENBQ0EsSUFBSyxPQUNMLElBQUssT0FDRHZDLEtBQUs2SSwwQkFBMEJOLEVBQU1uRyxFQUFvQm1HLElBR3JFLENBR0EsY0FBQVMsR0FDSSxNQUFNdEMsRUFBTTFHLEtBQUs3QyxNQUFNc0osS0FBS0MsSUFFNUIsSUFBSXVDLEdBQW1CLEVBQ25CQyxHQUFtQixFQUd2QixJQUFLLE1BQU1YLEtBQVF2SSxLQUFLZ0QsZUFDcEIsS0FBSTBELEdBQU8xRyxLQUFLZ0QsZUFBZXVGLElBSS9CLGNBRk92SSxLQUFLZ0QsZUFBZXVGLEdBRW5CQSxHQUNKLElBQUssWUFDRHZJLEtBQUttSixnQkFBZSxHQUNwQkYsR0FBbUIsRUFDbkIsTUFDSixJQUFLLGFBQ0RqSixLQUFLb0osZUFBYyxHQUNuQkgsR0FBbUIsRUFDbkIsTUFDSixJQUFLLFlBQ0RqSixLQUFLcUosY0FBYSxHQUNsQixNQUNKLElBQUssT0FDTCxJQUFLLE9BQ0RILEdBQW1CLEVBSzNCRCxHQUFrQmpKLEtBQUtzSix1QkFDdkJKLEdBQWtCbEosS0FBS3VKLHdCQUMvQixDQUtBLFlBQUFGLENBQWFwRyxHQUNUakQsS0FBS2lELFlBQWNBLEVBRWZBLEdBRUFqRCxLQUFLcEIsT0FBTzRLLFFBQVEsVUFDcEJ4SixLQUFLcEIsT0FBTzZLLFNBQVMsR0FHakJ6SixLQUFLa0QsaUJBQ0xsRCxLQUFLa0QsZUFBZXdHLE9BQ3BCMUosS0FBS2tELGVBQWlCLE1BRzFCbEQsS0FBS2tELGVBQWlCbEQsS0FBSzdDLE1BQU13TSxPQUFPaEwsSUFBSSxDQUN4Q2lMLFFBQVM1SixLQUFLcEIsT0FDZGlMLE1BQU8sR0FDUEMsTUFBTSxFQUNOQyxTQUFVLElBQ1ZDLFFBQVMsSUFJYmhLLEtBQUtwQixPQUFPeUgsYUFBYSxLQUl6QnJHLEtBQUtwQixPQUFPNkssU0FBUyxHQUVqQnpKLEtBQUtrRCxpQkFDTGxELEtBQUtrRCxlQUFld0csT0FDcEIxSixLQUFLa0QsZUFBaUIsTUFJMUJsRCxLQUFLaUssd0JBRWIsQ0FHQSxjQUFBZCxDQUFlZSxHQUNYbEssS0FBS21ELGtCQUFvQitHLEVBQ3pCbEssS0FBS2lLLHVCQUNULENBR0EsYUFBQWIsQ0FBY2MsR0FDVmxLLEtBQUtvRCxpQkFBbUI4RyxFQUN4QmxLLEtBQUtpSyx1QkFDVCxDQUdBLG9CQUFBWCxHQUNJLElBQUlhLEVBQU8sRUFFUG5LLEtBQUtnRCxlQUFlWCxZQUFXOEgsR0E3Z0I5QixLQThnQkRuSyxLQUFLZ0QsZUFBZVYsYUFBWTZILEdBN2dCOUIsSUErZ0JObkssS0FBSzhDLFVBQVk5QyxLQUFLNkMsY0FBZ0JzSCxDQUMxQyxDQUdBLHNCQUFBWixHQUNJLElBQUlhLEVBQWEsRUFFYnBLLEtBQUtnRCxlQUFxQixPQUMxQm9ILEVBQWFsRSxLQUFLbUUsSUFBSUQsRUFBWSxJQUVsQ3BLLEtBQUtnRCxlQUFxQixPQUMxQm9ILEVBQWFsRSxLQUFLbUUsSUFBSUQsRUFBWSxJQUd0Q3BLLEtBQUtxRCxnQkFBa0IrRyxFQUduQnBLLEtBQUtzRCxpQkFDRHRELEtBQUtxRCxnQkFBa0IsR0FDdkJyRCxLQUFLc0QsZUFBZWdILFFBQVEsSUFBTXRLLEtBQUtxRCxpQkFDdkNyRCxLQUFLc0QsZUFBZUcsWUFBVyxJQUUvQnpELEtBQUtzRCxlQUFlRyxZQUFXLElBS3ZDekQsS0FBS2lLLHVCQUNULENBR0EseUJBQUFwQixDQUEwQk4sRUFBTWdDLEdBQzVCLE1BQU03RCxFQUFNMUcsS0FBSzdDLE1BQU1zSixLQUFLQyxJQUM1QjFHLEtBQUtnRCxlQUFldUYsR0FBUTdCLEVBQU02RCxFQUdyQixjQUFUaEMsR0FBc0J2SSxLQUFLbUosZ0JBQWUsR0FDakMsZUFBVFosR0FBdUJ2SSxLQUFLb0osZUFBYyxHQUNqQyxjQUFUYixHQUFzQnZJLEtBQUtxSixjQUFhLEdBRy9CLGNBQVRkLEdBQWlDLGVBQVRBLEdBQ3hCdkksS0FBS3NKLHVCQUVJLFNBQVRmLEdBQTRCLFNBQVRBLEdBQ25CdkksS0FBS3VKLHdCQUViLENBR0EscUJBQUFVLEdBRVFqSyxLQUFLaUQsY0FNTGpELEtBQUtvRCxpQkFFTHBELEtBQUtwQixPQUFPNEssUUFBUSxTQUNieEosS0FBS21ELGtCQUVabkQsS0FBS3BCLE9BQU80SyxRQUFRLFVBQ2J4SixLQUFLcUQsZ0JBQWtCLEVBRTlCckQsS0FBS3BCLE9BQU80SyxRQUFRLFNBR3BCeEosS0FBS3BCLE9BQU80TCxZQUVwQixDQUdBLFdBQUF6QixHQUNJLE9BQUsvSSxLQUFLN0MsTUFBTXNOLFFBQ1RDLE1BQU1DLEtBQUszSyxLQUFLN0MsTUFBTXNOLFFBQVFHLFVBQVVDLEtBQUtDLEdBQUtBLElBQU05SyxNQUQvQixJQUVwQyxFQ3htQkcsTUFBTStLLEVBQ1QsV0FBQWxMLENBQVltTCxFQUFRQyxHQUNoQmpMLEtBQUtnTCxPQUFTQSxFQUNkaEwsS0FBS2lMLFlBQWNBLEVBQ25CakwsS0FBS2tMLFFBQVMsQ0FDbEIsQ0FFQSxPQUFBQyxHQUVJLE9BREFuTCxLQUFLa0wsT0FBU2xMLEtBQUtnTCxPQUFPMUMsYUFBYXRJLEtBQUtpTCxhQUNyQ2pMLEtBQUtrTCxNQUNoQixFQ1JHLE1BQU1FLEVBQ1QsV0FBQXZMLENBQVkxQyxFQUFPYyxFQUFHQyxFQUFHcUssR0FDckJ2SSxLQUFLN0MsTUFBUUEsRUFDYjZDLEtBQUt1SSxLQUFPQSxFQUVadkksS0FBS3FMLGFBQWMsRUFDbkJyTCxLQUFLc0wsWUFBYSxFQUNsQnRMLEtBQUt1TCxlQUFpQixFQUV0QnZMLEtBQUt3TCxVQUFZLElBQ2pCeEwsS0FBS3lMLFNBQVcsSUFFaEJ6TCxLQUFLMEwsVUFBWSxHQUNqQjFMLEtBQUsyTCxVQUFZLEtBQ2pCM0wsS0FBSzRMLGVBQWlCLEtBRXRCNUwsS0FBS3BCLE9BQVN6QixFQUFNNkgsUUFBUXJHLElBQUlrTixZQUFZNU4sRUFBR0MsRUFBR3FLLEdBQzdDMUosU0FBUyxLQUNUQyxpQkFHRGtCLEtBQUtwQixPQUFPa04sYUFBYTlMLEtBQUtwQixPQUFPa04sY0FHekMsTUFBTUMsRUFBWTdGLEtBQUttRSxJQUFJLEVBQUduRSxLQUFLOEYsSUFBSWhNLEtBQUt3TCxVQUFXeEwsS0FBS3lMLFdBQ3REUSxFQUFlL0YsS0FBS21FLElBQUksRUFBR3JLLEtBQUt5TCxTQUFXTSxHQUU3Q0UsRUFBZSxJQUNmak0sS0FBSzJMLFVBQVl4TyxFQUFNd00sT0FBT2hMLElBQUksQ0FDOUJpTCxRQUFTNUosS0FBS3BCLE9BQ2RpTCxNQUFPLEVBQ1BxQyxNQUFPSCxFQUNQaEMsU0FBVWtDLEtBS2xCLE1BQU14QixFQUFVdE4sRUFBTXNOLFFBQ2xCQSxHQUFzQyxtQkFBcEJBLEVBQVEwQixTQUMxQjFCLEVBQVEwQixRQUFRbkIsSUFDWixJQUFLQSxHQUFRcE0sT0FBUSxPQUVyQixNQUFNd04sRUFBSWpQLEVBQU02SCxRQUFRckcsSUFBSTBOLFFBQ3hCckIsRUFBT3BNLE9BQ1BvQixLQUFLcEIsT0FDTCxJQUFNb0IsS0FBS3NNLFFBQVF0QixHQUNuQixLQUNBaEwsTUFFSkEsS0FBSzBMLFVBQVVqRCxLQUFLMkQsS0FLNUJwTSxLQUFLNEwsZUFBaUJ6TyxFQUFNc0osS0FBSzhGLFlBQVl2TSxLQUFLeUwsU0FBVSxLQUN4RHpMLEtBQUt3TSxXQUViLENBR0EsT0FBQUYsQ0FBUXRCLEdBR0osR0FGQXRLLFFBQVErTCxJQUFJLHdCQUF5QnpCLEVBQU9ySSxHQUFJLE9BQVEzQyxLQUFLdUksTUFFekR2SSxLQUFLc0wsV0FBWSxPQUNyQixHQUFJdEwsS0FBS3FMLFlBQWEsT0FHdEIsTUFBTTNFLEVBQU0xRyxLQUFLN0MsTUFBTXNKLEtBQUtDLElBQzVCLEdBQUkxRyxLQUFLdUwsZ0JBQWtCN0UsRUFBTTFHLEtBQUt1TCxlQUFnQixPQUV0RHZMLEtBQUtxTCxhQUFjLEVBRW5CLE1BQU1xQixFQUFNLElBQUkzQixFQUFvQkMsRUFBUWhMLEtBQUt1SSxNQUlqRCxHQUhBdkksS0FBSzdDLE1BQU13UCxpQkFBaUJDLFFBQVFGLElBRy9CQSxFQUFJeEIsT0FHTCxPQUZBbEwsS0FBS3FMLGFBQWMsT0FDbkJyTCxLQUFLdUwsZUFBaUI3RSxFQUFNLEtBSWhDMUcsS0FBS3dNLFVBQ0x4TSxLQUFLN0MsTUFBTTBQLDBCQUEwQjdCLEVBQ3pDLENBR0EsT0FBQXdCLEdBQ0ksSUFBSXhNLEtBQUtzTCxXQUFULENBWUEsR0FYQXRMLEtBQUtzTCxZQUFhLEVBR2RaLE1BQU1vQyxRQUFROU0sS0FBSzBMLGFBQ25CMUwsS0FBSzBMLFVBQVVTLFFBQVFDLElBQ25CLElBQU1BLEVBQUVJLFNBQVcsQ0FBRSxNQUFPLElBRWhDeE0sS0FBSzBMLFVBQVksSUFJakIxTCxLQUFLMkwsVUFBVyxDQUNoQixJQUFNM0wsS0FBSzJMLFVBQVVqQyxNQUFRLENBQUUsTUFBTyxDQUN0QzFKLEtBQUsyTCxVQUFZLElBQ3JCLENBU0EsR0FOSTNMLEtBQUs0TCxpQkFDTDVMLEtBQUs0TCxlQUFlbUIsUUFBTyxHQUMzQi9NLEtBQUs0TCxlQUFpQixNQUl0QjVMLEtBQUtwQixPQUFRLENBQ2IsSUFBTW9CLEtBQUtwQixPQUFPNE4sU0FBVyxDQUFFLE1BQU8sQ0FDdEN4TSxLQUFLcEIsT0FBUyxJQUNsQixDQUdJOEwsTUFBTW9DLFFBQVE5TSxLQUFLN0MsTUFBTTZQLFlBQ3pCaE4sS0FBSzdDLE1BQU02UCxTQUFXaE4sS0FBSzdDLE1BQU02UCxTQUFTQyxPQUFPbkMsR0FBS0EsSUFBTTlLLE1BL0JyQyxDQWlDL0IsRUMzSEcsTUFBTWtOLEVBQ1QsV0FBQXJOLENBQVkxQyxFQUFPYyxFQUFHQyxHQUNsQjhCLEtBQUs3QyxNQUFRQSxFQUNiNkMsS0FBS3lLLFFBQVUsS0FDZnpLLEtBQUsyTSxpQkFBbUIsS0FFeEIzTSxLQUFLcEIsT0FBU3pCLEVBQU02SCxRQUFRckcsSUFBSUMsT0FBT1gsRUFBR0MsRUFBRyxRQUM3QzhCLEtBQUtwQixPQUFPQyxTQUFTLEdBQ3JCbUIsS0FBS3BCLE9BQU91TyxVQUFVLElBQ3RCbk4sS0FBS3BCLE9BQU93Tyx1QkFBc0IsR0FDbENwTixLQUFLcEIsT0FBT3VHLFFBQVEsT0FBUW5GLE1BRzVCQSxLQUFLcU4sY0FBZ0IsS0FDckJyTixLQUFLc04sV0FBYSxFQUNsQnROLEtBQUt1TixVQUFZLE9BQ2pCdk4sS0FBS3dOLFlBQWEsRUFHbEJ4TixLQUFLeU4sS0FBTyxJQUdaek4sS0FBSzBOLFlBQWMsRUFDbkIxTixLQUFLMk4sZ0JBQWtCLElBRzNCLENBR0EsZ0JBQUFDLENBQWlCNUIsRUFBTSxJQUFNM0IsRUFBTSxNQUMvQixPQUFPMkIsR0FBTzNCLEVBQU0yQixHQUFPOUYsS0FBSzJILFFBQ3BDLENBR0EsR0FBQUMsQ0FBSTlDLEVBQVErQyxFQUF1QnpJLEVBQVczQixHQUFjLEdBQ3hELElBQUszRCxLQUFLd04sV0FBWSxPQUV0QixNQUFNOUcsRUFBTTFHLEtBQUs3QyxNQUFNc0osS0FBS0MsSUFJNUIsR0FBSTFHLEtBQUsyTixrQkFBb0IzQyxFQUFPckksSUFBTytELEVBQU0xRyxLQUFLME4sWUFBZSxJQUNqRSxPQWNKLEdBVkExTixLQUFLMk4sZ0JBQWtCM0MsRUFBT3JJLEdBQzlCM0MsS0FBSzBOLFlBQWNoSCxFQUdmMUcsS0FBS3FOLGdCQUFrQnJDLEVBQU9ySSxHQUM5QjNDLEtBQUtzTixjQUVMdE4sS0FBS3NOLFdBQWEsRUFDbEJ0TixLQUFLcU4sY0FBZ0JyQyxFQUFPckksSUFFNUIzQyxLQUFLc04sV0FBYSxFQUVsQixZQURBdE4sS0FBS2dPLFFBQVEsZ0JBQWlCaEQsR0FZbEMsSUFBSWlELEVBQVdDLEVBRWYsR0FWSXZLLEVBQ0EzRCxLQUFLN0MsT0FBT3lKLFVBQVU1RyxLQUFLN0MsT0FBTzBKLEtBQUtzSCxTQUNoQzdJLEdBQ1B0RixLQUFLN0MsT0FBT3lKLFVBQVU1RyxLQUFLN0MsT0FBTzBKLEtBQUt1SCxPQU92Q3pLLEVBQWEsQ0FHYixNQUFNMEssRUFBYSxJQUNiQyxHQUFvQixJQUNwQkMsRUFBZ0J2TyxLQUFLNE4sbUJBSXZCSyxFQUQwQixTQUExQkYsR0FDYU0sRUFBYUUsRUFFZEYsRUFBYUUsRUFFN0JMLEVBQVlJLEVBUFV0TyxLQUFLNE4sa0JBUS9CLE1BQU8sR0FBSXRJLEVBQVcsQ0FHbEIsTUFBTStJLEVBQWEsSUFDYkMsR0FBb0IsSUFDcEJDLEVBQWdCdk8sS0FBSzROLG1CQUl2QkssRUFEMEIsU0FBMUJGLEdBQ2FNLEVBQWFFLEVBRWRGLEVBQWFFLEVBRTdCTCxFQUFZSSxFQVBVdE8sS0FBSzROLGtCQVEvQixLQUFPLENBRUgsTUFBTVMsRUFBYSxJQUdmSixFQUQwQixTQUExQkYsR0FDYU0sRUFFREEsRUFFaEJILEdBQWEsR0FDakIsQ0FFQWxPLEtBQUtwQixPQUFPZ0osWUFBWXFHLEVBQVdDLEdBRy9CRCxFQUFZLEVBQ1pqTyxLQUFLdU4sVUFBWSxRQUNWVSxFQUFZLElBQ25Cak8sS0FBS3VOLFVBQVksT0FFekIsQ0FHQSxRQUFBaUIsR0FFSXhPLEtBQUtzTixXQUFhLEVBQ2xCdE4sS0FBS3FOLGNBQWdCLEtBR3JCck4sS0FBS3VOLFVBQStCLFNBQW5Cdk4sS0FBS3VOLFVBQXVCLFFBQVUsTUFDM0QsQ0FHQSxVQUFBa0IsR0FDSSxJQUFLek8sS0FBS3dOLFdBQVksT0FFdEIsTUFBTWtCLEVBQWExTyxLQUFLcEIsT0FBT1gsRUFBSStCLEtBQUt5TixLQUNsQ2tCLEVBQWMzTyxLQUFLcEIsT0FBT1gsRUFBSStCLEtBQUt5TixLQUdyQ2lCLEdBQ0ExTyxLQUFLNE8sV0FBVyxXQUNoQjVPLEtBQUs2TyxXQUFXLFlBQ1RGLElBQ1AzTyxLQUFLNE8sV0FBVyxXQUNoQjVPLEtBQUs2TyxXQUFXLFdBRXhCLENBR0EsT0FBQWIsQ0FBUWMsRUFBV0MsR0FDZixJQUFLL08sS0FBS3dOLFdBQVksT0FHdEIsTUFBTXdCLEVBQXVDLFlBQXJCRCxFQUFjcE0sR0FBbUIsVUFBWSxVQUVyRTNDLEtBQUs0TyxXQUFXSSxHQUNoQmhQLEtBQUs2TyxXQUFXRyxFQUNwQixDQUdBLFVBQUFKLENBQVdJLEdBQ1BoUCxLQUFLd04sWUFBYSxFQUdsQnhOLEtBQUs3QyxNQUFNOFIsT0FBT0MsS0FBSyxpQkFBa0IsQ0FDckNGLGdCQUFpQkEsRUFDakIxQixXQUFZdE4sS0FBS3NOLFdBQ2pCRCxjQUFlck4sS0FBS3FOLGVBRTVCLENBR0EsZUFBQThCLENBQWdCQyxFQUFRQyxFQUFhQyxHQUNqQyxNQUNNQyxFQUFnQixJQURUckosS0FBSzJILFNBQVcsSUFBTyxFQUFJLEdBSXhDLE1BQU8sQ0FBRXVCLE9BRlFsSixLQUFLbUUsSUFBSWdGLEVBQWFuSixLQUFLOEYsSUFBSXNELEVBQWFELEVBQWFELEVBQVNHLElBRXhEdEIsVUFBV3NCLEVBQzFDLENBR0EsZ0JBQUFDLENBQWlCQyxHQUNiLE1BRU1ILEVBQWF0UCxLQUFLN0MsTUFBTW1TLFlBQWN0UCxLQUFLN0MsTUFBTW9CLE9BQU9rRCxPQUFxQixFQUFaekIsS0FBS3lOLEtBQ3RFaUMsRUFBUSxDQUFDQyxFQUFPM0QsRUFBSzNCLElBQVFuRSxLQUFLbUUsSUFBSTJCLEVBQUs5RixLQUFLOEYsSUFBSTNCLEVBQUtzRixJQUUvRCxJQUFJUCxFQUFTcFAsS0FBS3lOLEtBQ2RtQyxFQUFpQixFQUlyQixHQUYyQyxZQUFsQkgsR0FBaUQsWUFBbEJBLEVBRWxDLENBQ2xCLE1BQU16RSxFQUFTaEwsS0FBSzdDLE1BQU1zTixTQUFTblAsSUFBTTBFLEtBQUs3QyxNQUFNc04sUUFBUW5QLElBQUltVSxHQUFpQixLQUd6RUwsRUFGSnBFLEdBQVFwTSxPQUNjLFlBQWxCNlEsRUFDU0MsRUFBTTFFLEVBQU9wTSxPQUFPWCxFQWJyQixHQWFxQytCLEtBQUt5TixLQWIxQyxJQWVDaUMsRUFBTTFFLEVBQU9wTSxPQUFPWCxFQUFHK0IsS0FBS3lOLEtBZjdCLEdBZWlENkIsRUFmakQsSUFrQmUsWUFBbEJHLEVBQThCelAsS0FBS3lOLEtBQU8sSUFBTXpOLEtBQUt5TixLQUFPLEdBRTdFLEtBQ0ssQ0FDRCxNQUFNb0MsRUFBUTdQLEtBQUttUCxnQkFBZ0JDLEVBdEJuQixHQXNCd0NFLEdBQ3hERixFQUFTUyxFQUFNVCxPQUNmUSxFQUFpQkMsRUFBTTVCLFNBQzNCLENBRUFqTyxLQUFLcEIsT0FBTytJLFlBQVl5SCxFQTVCVCxLQTZCZnBQLEtBQUtwQixPQUFPZ0osWUFBWWdJLEVBQWdCLEVBQzVDLENBR0EsVUFBQWYsQ0FBV1ksR0FDUHpQLEtBQUt3TixZQUFhLEVBQ2xCeE4sS0FBS3FOLGNBQWdCLEtBQ3JCck4sS0FBS3NOLFdBQWEsRUFDbEJ0TixLQUFLd1AsaUJBQWlCQyxHQUd0QnpQLEtBQUswTixZQUFjLEVBQ25CMU4sS0FBSzJOLGdCQUFrQixJQUMzQixDQUlBLE1BQUF4RixHQUNTbkksS0FBS3dOLGFBR054TixLQUFLcEIsT0FBT1gsRUFBSStCLEtBQUt5TixLQUFPLEdBQzVCek4sS0FBS3VOLFVBQVksT0FDVnZOLEtBQUtwQixPQUFPWCxFQUFJK0IsS0FBS3lOLEtBQU8sS0FDbkN6TixLQUFLdU4sVUFBWSxTQUV6QixFQzdPRyxNQUFNdUMsRUFFVCxXQUFBalEsR0FDSUcsS0FBS3lLLFFBQVUsSUFBSXNGLElBQ25CL1AsS0FBS2dRLFVBQVksSUFDckIsQ0FFQSxVQUFBQyxDQUFXeEYsR0FDUHpLLEtBQUt5SyxRQUFVQSxDQUNuQixDQUVBLFlBQUF5RixDQUFhRixHQUNUaFEsS0FBS2dRLFVBQVlBLENBQ3JCLENBRUEsT0FBQXBELENBQVF1RCxHQUNKQSxFQUFRaEYsU0FFWixFQ2xCRyxNQUFNaUYsRUFFVCxPQUFBakYsR0FBVyxDQUVYLFNBQUFrRixHQUFhLENBRWIsU0FBQUMsR0FBYSxFQ0ZWLE1BQU1DLFVBQTBCSCxFQUNuQyxXQUFBdlEsQ0FBWW1MLEVBQVF3RixHQUNoQjFRLFFBQ0FFLEtBQUtnTCxPQUFTQSxFQUNkaEwsS0FBS3dRLFVBQVlBLENBQ3JCLENBRUEsT0FBQXJGLEdBQ0ssT0FBUW5MLEtBQUt3USxXQUVWLElBQUssT0FDRHhRLEtBQUtnTCxPQUFPNUUsV0FDWixNQUVKLElBQUssUUFDRHBHLEtBQUtnTCxPQUFPekUsWUFDWixNQUVKLElBQUssV0FDRHZHLEtBQUtnTCxPQUFPeEUsV0FDWixNQUVKLElBQUssWUFDRHhHLEtBQUtnTCxPQUFPakUsWUFDWixNQUVKLElBQUssY0FDRC9HLEtBQUtnTCxPQUFPaEUsY0FDWixNQUVKLElBQUssZUFDRGhILEtBQUtnTCxPQUFPL0QsZUFDWixNQUVKLElBQUssV0FDRGpILEtBQUtnTCxPQUFPOUQsV0FDWixNQUdKLFFBQ0lsSCxLQUFLZ0wsT0FBTzdELFlBR3hCLENBR0EsU0FBQW1KLEdBQ0ksT0FBT3RRLEtBQUtnTCxPQUFPckksRUFDdkIsQ0FFQSxTQUFBME4sR0FDSSxNQUFPLENBQ0g5SCxLQUFNLG9CQUNOa0ksU0FBVXpRLEtBQUtnTCxPQUFPckksR0FDdEI2TixVQUFXeFEsS0FBS3dRLFVBRXhCLEVDbERHLE1BQU1FLFVBQW1CLFVBQzVCQyxZQUFjLEdBQ2RDLGVBQWlCNVEsS0FBSzJRLFlBQ3RCRSxVQUNBQyxXQUNBLFdBQUFqUixHQUNJQyxNQUFNLGFBQ1YsQ0FFQSxJQUFBaVIsQ0FBS0MsR0FDRGhSLEtBQUt5SyxRQUFVLElBQUlzRixJQUNuQi9QLEtBQUtpUixjQUFnQixHQUNyQmpSLEtBQUsyTSxpQkFBbUIsSUFBSW1ELEVBQzVCOVAsS0FBS2tSLFFBQVVGLEVBQUtFLFFBQ3BCbFIsS0FBS21SLFFBQVVILEVBQUtHLFFBQ3BCblIsS0FBS29SLGlCQUFtQkosRUFBS0ksaUJBQzdCcFIsS0FBS3FSLEtBQU8sS0FDWnJSLEtBQUtzUixRQUFVLEVBQ2Z0UixLQUFLdVIsUUFBVSxFQUNmdlIsS0FBS3dSLE9BQVMsRUFDZHhSLEtBQUt5UixPQUFTLEVBQ2R6UixLQUFLMFIsUUFBVSxFQUNmMVIsS0FBSzJSLFdBQWEsRUFDbEIzUixLQUFLNFIsZUFBZ0IsRUFDckI1UixLQUFLNlIsYUFBYyxDQUN2QixDQUVBLE9BQUE5UixHQUVJQyxLQUFLQyxLQUFLNlIsWUFDTixhQUNBLDJFQUNBLENBQUVDLFdBQVksR0FBSUMsWUFBYSxLQUVuQ2hTLEtBQUtDLEtBQUs2UixZQUNOLGFBQ0EsaUVBQ0EsQ0FBRUMsV0FBWSxHQUFJQyxZQUFhLEtBR25DaFMsS0FBS0MsS0FBSzZSLFlBQ04sYUFDQSwyRUFDQSxDQUFFQyxXQUFZLEdBQUlDLFlBQWEsS0FFbkNoUyxLQUFLQyxLQUFLNlIsWUFDTixhQUNBLGlFQUNBLENBQUVDLFdBQVksR0FBSUMsWUFBYSxLQUduQ2hTLEtBQUtDLEtBQUs2UixZQUNOLGFBQ0EsMkVBQ0EsQ0FBRUMsV0FBWSxHQUFJQyxZQUFhLEtBRW5DaFMsS0FBS0MsS0FBSzZSLFlBQ04sYUFDQSxpRUFDQSxDQUFFQyxXQUFZLEdBQUlDLFlBQWEsS0FJbkNoUyxLQUFLQyxLQUFLQyxNQUFNLE1BQU8sOEJBQ3ZCRixLQUFLQyxLQUFLQyxNQUFNLFFBQVMsMkJBQ3pCRixLQUFLQyxLQUFLQyxNQUFNLFNBQVUsNEJBRzFCRixLQUFLQyxLQUFLQyxNQUFNLE9BQVEsOENBQ3hCRixLQUFLQyxLQUFLQyxNQUFNLE9BQVEsOENBQ3hCRixLQUFLQyxLQUFLQyxNQUFNLFlBQWEseUNBQzdCRixLQUFLQyxLQUFLQyxNQUFNLGFBQWMseUNBQzlCRixLQUFLQyxLQUFLQyxNQUFNLFlBQWEsd0NBQzdCRixLQUFLQyxLQUFLQyxNQUFNLGVBQWdCLGlDQUdoQ0YsS0FBS0MsS0FBS0MsTUFBTSxPQUFRLHFDQUV4QkYsS0FBS0MsS0FBS0MsTUFBTSxNQUFPLHdCQUV2QkYsS0FBS0MsS0FBS0MsTUFBTSxRQUFTLDBCQUV6QkYsS0FBS0MsS0FBS0MsTUFBTSxlQUFnQixpQ0FHaENGLEtBQUtDLEtBQUtFLE1BQU0sY0FBZSxpREFDL0JILEtBQUtDLEtBQUtFLE1BQU0sYUFBYyw2Q0FDOUJILEtBQUtDLEtBQUtFLE1BQU0sZ0JBQWlCLDRDQUNqQ0gsS0FBS0MsS0FBS0UsTUFBTSxZQUFhLG9DQUM3QkgsS0FBS0MsS0FBS0UsTUFBTSxZQUFhLGdDQUVqQyxDQUVBLE1BQUFDLEdBRUksTUFBTSxNQUFFcUIsRUFBSyxPQUFFQyxHQUFXMUIsS0FBS3pCLE1BQy9CeUIsS0FBS3NQLFdBQWE3TixFQUNsQnpCLEtBQUtpUyxZQUFjdlEsRUFDbkIsTUFBTU4sRUFBUXBCLEtBQUtyQyxLQUFLQyxRQUFReUQsaUJBR2hDckIsS0FBSzZHLElBQU0sQ0FDUHFMLFFBQVMsY0FDVDlELE1BQU8sYUFDUEQsUUFBUyxnQkFDVHJILEtBQU0sWUFDTnFMLE1BQU8sYUFHWG5TLEtBQUs0RyxRQUFRNUcsS0FBSzZHLElBQUlxTCxTQUd0QmxTLEtBQUs2USxVQUFZN1EsS0FBS3JCLElBQUlLLEtBQUtnQixLQUFLekIsTUFBTWtELE1BQVEsRUFBRyxHQUFJLEdBQUksSUFDdERMLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxZQUVWdkMsVUFBVSxHQUFLLEdBQ2ZtVCxnQkFBZ0IsR0FDaEJ2USxTQUFTLE1BRVY3QixLQUFLcVMsVUFBWXJTLEtBQUtyQixJQUFJdUIsTUFBTUYsS0FBS3pCLE1BQU1rRCxNQUFRLEVBQUcsR0FBSSxTQUNyRHhDLFVBQVUsSUFDVkosU0FBUyxHQUNUdVQsZ0JBQWdCLEdBQ2hCdlEsU0FBUyxLQUdkN0IsS0FBS3NTLFNBQVd0UyxLQUFLckIsSUFBSXVCLE1BQU1GLEtBQUt6QixNQUFNa0QsTUFBUSxFQUFHLElBQUssZ0JBQ3JEeEMsVUFBVSxJQUNWSixTQUFTLEdBQ1RnRCxTQUFTLE1BR2Q3QixLQUFLc0ssUUFBVXRLLEtBQUtyQixJQUFJSyxLQUFLZ0IsS0FBS3pCLE1BQU1rRCxNQUFRLEVBQUcsSUFBSyxPQUFPekIsS0FBSzJSLGFBQWMsSUFDM0V2USxFQUNIRyxTQUFVLE9BQ1ZDLE1BQU8sWUFFVnZDLFVBQVUsSUFDVjRDLFNBQVMsTUFFVixNQUFNMFEsRUFBZ0J2UyxLQUFLc1MsU0FBU0UsYUFDOUJDLEVBQWlCelMsS0FBS3NTLFNBQVN2SyxjQUMvQjJLLEVBQVkxUyxLQUFLc1MsU0FBU3BVLEVBQUlnSSxLQUFLeU0sTUFBTUYsRUFBaUIsR0FBSyxHQUMvREcsRUFBa0IxTSxLQUFLeU0sTUFBc0IsSUFBaEJKLEdBSW5DdlMsS0FBSzZTLGtCQUFvQjdTLEtBQUtyQixJQUFJdUIsTUFBTUYsS0FBS3pCLE1BQU1rRCxNQUFRLEVBQUltUixFQUFpQkYsRUFBVyxnQkFDdEZ6VCxVQUFVLElBQ1ZKLFNBTHVCLEdBQ0EsS0FLdkJnRCxTQUFTLE1BRWQ3QixLQUFLOFMsbUJBQXFCOVMsS0FBS3JCLElBQUl1QixNQUFNRixLQUFLekIsTUFBTWtELE1BQVEsRUFBSW1SLEVBQWlCRixFQUFXLGdCQUN2RnpULFVBQVUsSUFDVkosU0FWdUIsR0FDQSxLQVV2QmdELFNBQVMsTUFFZDdCLEtBQUsrUyxhQUFlL1MsS0FBS3JCLElBQUlLLEtBQUtnQixLQUFLekIsTUFBTWtELE1BQVEsRUFBSW1SLEVBQWlCRixFQUFXLEdBQUcxUyxLQUFLd1IsU0FBVSxJQUNoR3BRLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxZQUVWdkMsVUFBVSxJQUNWNEMsU0FBUyxNQUVWN0IsS0FBS2dULGNBQWdCaFQsS0FBS3JCLElBQUlLLEtBQUtnQixLQUFLekIsTUFBTWtELE1BQVEsRUFBSW1SLEVBQWlCRixFQUFXLEdBQUcxUyxLQUFLeVIsU0FBVSxJQUNqR3JRLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxZQUVWdkMsVUFBVSxJQUNWNEMsU0FBUyxNQUdWN0IsS0FBS2lULGNBQWdCalQsS0FBS3JCLElBQUlLLEtBQUtnQixLQUFLekIsTUFBTWtELE1BQVEsRUFBRyxJQUFLLEdBQUksSUFDM0RMLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxVQUNQK0IsT0FBUSxVQUNSQyxnQkFBaUIsSUFFcEJ2RSxVQUFVLElBQ1Y0QyxTQUFTLE1BQ1Q0QixZQUFXLEdBR1p6RCxLQUFLOFEsV0FBYTlRLEtBQUt5RyxLQUFLeU0sU0FBUyxDQUNqQ2hILE1BQU8sSUFDUGlILFNBQVVuVCxLQUFLb1QsWUFDZkMsY0FBZXJULEtBQ2ZNLE1BQU0sSUFHVk4sS0FBS29ULGNBR0xwVCxLQUFLckIsSUFBSXVCLE1BQU11QixFQUFRLEVBQUdDLEVBQVMsRUFBRzFCLEtBQUtvUixrQkFDdENuUyxVQUFVLElBQ1Y2QyxlQUFlTCxFQUFPQyxHQUN0QkcsVUFBVSxHQUdmLE1BQU15UixFQUFNdFQsS0FBS2dGLFFBQVFyRyxJQUFJNFUsYUFBYTlSLEVBQVEsRUFBR0MsRUFBUyxJQUFLLE9BQU83QyxTQUFTLElBRTdFMlUsRUFBYXhULEtBQUt5VCxTQUFTblksSUFBSSxPQUFPb1ksaUJBQzVDSixFQUFJck8sS0FBS0MsUUFBMkIsR0FBbkJzTyxFQUFXL1IsTUFBaUMsR0FBcEIrUixFQUFXOVIsUUFDcEQ0UixFQUFJck8sS0FBSzBPLFdBQVdMLEVBQUlyTyxLQUFLeEQsTUFBTSxHQUFJNlIsRUFBSXJPLEtBQUt2RCxPQUFPLEdBQ3ZENFIsRUFBSXJPLEtBQUsyTyx1QkFDVDVULEtBQUtzVCxJQUFNQSxFQUVYdFQsS0FBSzZULG9CQUlMN1QsS0FBSzhULFdBQWEsRUFDbEI5VCxLQUFLK1QsWUFBYyxFQUVuQi9ULEtBQUtnVSxlQUFpQmhVLEtBQUtyQixJQUFJdUIsTUFBTSxJQUFLLEdBQUksZ0JBQWdCckIsU0FBUyxHQUFLLEtBQU1JLFVBQVUsSUFDNUZlLEtBQUtpVSxnQkFBa0JqVSxLQUFLckIsSUFBSXVCLE1BQU1GLEtBQUtzUCxXQUFhLElBQUssR0FBSSxnQkFBZ0J6USxTQUFTLEdBQUssS0FBTUksVUFBVSxJQUUvR2UsS0FBS2tVLFVBQVlsVSxLQUFLckIsSUFBSUssS0FBSyxJQUFLLEdBQUksSUFBSyxJQUN0Q29DLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxjQUNSdkMsVUFBVSxJQUFLNEMsU0FBUyxNQUUzQjdCLEtBQUttVSxXQUFhblUsS0FBS3JCLElBQUlLLEtBQUtnQixLQUFLc1AsV0FBYSxJQUFLLEdBQUksSUFBSyxJQUN6RGxPLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxjQUNSdkMsVUFBVSxJQUFLNEMsU0FBUyxNQU0zQjdCLEtBQUtvVSxhQUZnQixHQUdyQnBVLEtBQUtnRyxRQUFVaEcsS0FBS2lTLFlBRkMsR0FJckIsTUFBTW9DLEVBQVNyVSxLQUFLckIsSUFBSTJWLFVBQ3BCdFUsS0FBS3NQLFdBQWEsRUFDbEJ0UCxLQUFLZ0csUUFDTGhHLEtBQUtzUCxXQVJZLElBVW5CclEsVUFBVSxHQUFLLEdBQUd3RSxZQUFXLEdBRS9CekQsS0FBS2dGLFFBQVFyRyxJQUFJNFYsU0FBU0YsR0FBUSxHQUdsQ3JVLEtBQUt3VSxpQkFHTHhVLEtBQUt5VSxtQkFBbUJKLEdBRXhCclUsS0FBSzBVLHNCQUdMMVUsS0FBS2dOLFNBQVcsR0FDaEJoTixLQUFLMlUsWUFBYyxFQUduQjNVLEtBQUs0VSxtQkFBcUIsQ0FFdEJDLFdBQVksS0FDWkMsV0FBWSxJQUNaQyxRQUFTLENBQ0wxUyxVQUFXLEVBQ1hDLFdBQVksRUFDWkMsVUFBVyxFQUNYQyxLQUFNLEVBQ05DLEtBQU0sR0FFVnVTLFdBQVksQ0FHUnpTLFVBQVcsTUFHbkJ2QyxLQUFLaVYsbUJBQXFCLENBQUMsRUFFM0JqVixLQUFLa1YsWUFBYyxDQUNmaEUsUUFBUyxDQUNMbFIsS0FBS3JCLElBQUl1QixNQUFNLEdBQUksR0FBSSxRQUFRckIsU0FBUyxLQUFLNEUsWUFBVyxHQUFPNUIsU0FBUyxHQUN4RTdCLEtBQUtyQixJQUFJdUIsTUFBTSxJQUFLLEdBQUksUUFBUXJCLFNBQVMsS0FBSzRFLFlBQVcsR0FBTzVCLFNBQVMsSUFFN0VzUCxRQUFTLENBQ0xuUixLQUFLckIsSUFBSXVCLE1BQU1GLEtBQUtzUCxXQUFhLElBQUssR0FBSSxRQUFRelEsU0FBUyxLQUFLNEUsWUFBVyxHQUFPNUIsU0FBUyxHQUMzRjdCLEtBQUtyQixJQUFJdUIsTUFBTUYsS0FBS3NQLFdBQWEsR0FBSSxHQUFJLFFBQVF6USxTQUFTLEtBQUs0RSxZQUFXLEdBQU81QixTQUFTLEtBSWxHN0IsS0FBS21WLHVCQUdMblYsS0FBS29WLGdCQUFrQixDQUNuQmxFLFFBQVMsQ0FDTGxSLEtBQUtyQixJQUFJdUIsTUFBTSxHQUFJLEdBQUksZ0JBQWdCckIsU0FBUyxHQUFHSSxVQUFVLElBQUs0QyxTQUFTLEdBQzNFN0IsS0FBS3JCLElBQUl1QixNQUFNLElBQUssR0FBSSxnQkFBZ0JyQixTQUFTLEdBQUdJLFVBQVUsSUFBSzRDLFNBQVMsSUFFaEZzUCxRQUFTLENBQ0xuUixLQUFLckIsSUFBSXVCLE1BQU1GLEtBQUtzUCxXQUFhLElBQUssR0FBSSxnQkFBZ0J6USxTQUFTLEdBQUdJLFVBQVUsSUFBSzRDLFNBQVMsR0FDOUY3QixLQUFLckIsSUFBSXVCLE1BQU1GLEtBQUtzUCxXQUFhLEdBQUksR0FBSSxnQkFBZ0J6USxTQUFTLEdBQUdJLFVBQVUsSUFBSzRDLFNBQVMsS0FLckc3QixLQUFLcVYsY0FFTHJWLEtBQUtxUixLQUFLN0IsbUJBRVZ4UCxLQUFLc1YsdUJBRUx0VixLQUFLdVYsbUJBRUx2VixLQUFLWSxNQUFNNFUsU0FBU25XLEdBQUcsY0FBZSxLQUVsQ1csS0FBSzdDLE1BQU1zWSxRQUNYelYsS0FBSzhRLFdBQVc0RSxRQUFTLEVBQ3pCMVYsS0FBSzdDLE1BQU13WSxPQUFPLGlCQUl0QjNWLEtBQUtZLE1BQU00VSxTQUFTblcsR0FBRyxZQUFhLEtBQ2hDLE1BQU11VyxFQUFTNVYsS0FBS3NSLFNBQVd0UixLQUFLdVIsUUFBVSxVQUFZLFVBQzFEdlIsS0FBSzZWLFNBQVNELEtBRWxCNVYsS0FBS2lQLE9BQU81UCxHQUFHLFNBQVUsS0FDckJXLEtBQUs4USxXQUFXNEUsUUFBUyxHQUVqQyxDQUdBLG9CQUFBUCxHQUNJLE1BQU0sV0FBRU4sRUFBVSxXQUFFQyxHQUFlOVUsS0FBSzRVLG1CQUNsQzFJLEVBQVEsU0FBWTRKLFFBQVFqQixFQUFZQyxHQUU5QzlVLEtBQUt5RyxLQUFLOEYsWUFBWUwsRUFBTyxLQUN6QixHQUFJbE0sS0FBS2dOLFNBQVN4RSxPQUFTeEksS0FBSzJVLFlBQWEsQ0FDekMsTUFBTTFXLEVBQUksU0FBWTZYLFFBQVEsR0FBSTlWLEtBQUtzUCxXQUFhLElBQzlDcFIsRUFBSSxTQUFZNFgsUUFBUTlWLEtBQUtpUyxZQUFjLElBQUtqUyxLQUFLaVMsWUFBYyxLQUVuRTFKLEVBQU92SSxLQUFLK1YsMEJBQ2xCLEdBQUl4TixFQUFNLENBQ04sTUFBTXlOLEVBQVUsSUFBSTVLLEVBQVFwTCxLQUFNL0IsRUFBR0MsRUFBR3FLLEdBQ3hDdkksS0FBS2dOLFNBQVN2RSxLQUFLdU4sR0FDbkJoVyxLQUFLaVYsbUJBQW1CMU0sR0FBUXZJLEtBQUt5RyxLQUFLQyxHQUM5QyxDQUNKLENBRUExRyxLQUFLbVYsd0JBRWIsQ0FHQSx1QkFBQVksR0FDSSxNQUFNLFFBQUVoQixFQUFPLFdBQUVDLEdBQWVoVixLQUFLNFUsbUJBRS9CbE8sRUFBTTFHLEtBQUt5RyxLQUFLQyxJQUNoQnVQLEVBQVU5YSxPQUFPOGEsUUFBUWxCLEdBQVM5SCxPQUFPLEVBQUUxRSxFQUFNMk4sTUFHbkQsR0FBSUEsR0FBVSxFQUFHLE9BQU8sRUFFeEIsTUFBTUMsRUFBV25CLElBQWF6TSxHQUM5QixJQUFLNE4sRUFBVSxPQUFPLEVBQ3RCLE1BQU1DLEVBQU9wVyxLQUFLaVYscUJBQXFCMU0sSUFBUyxFQUNoRCxPQUFPN0IsRUFBTTBQLEdBQVFELElBSXpCLElBQUtGLEVBQVF6TixPQUFRLE9BQU8sS0FHNUIsTUFBTTZOLEVBQVFKLEVBQVFLLE9BQU8sQ0FBQ0MsR0FBTSxDQUFFTCxLQUFZSyxFQUFNTCxFQUFRLEdBQ2hFLElBQUlNLEVBQU8sU0FBWVYsUUFBUSxFQUFHTyxHQUVsQyxJQUFLLE1BQU85TixFQUFNMk4sS0FBV0QsRUFHekIsR0FGQU8sR0FBUU4sRUFFSk0sR0FBUSxFQUVSLE9BREE5VixRQUFRK0wsSUFBSSxvQ0FBcUNsRSxHQUMxQ0EsRUFLZixPQUFPME4sRUFBUUEsRUFBUXpOLE9BQVMsR0FBRyxFQUN2QyxDQUdBLE9BQUE1QixDQUFRM0wsR0FDQ0EsR0FFTCtFLEtBQUt4QyxNQUFNTyxLQUFLOUMsRUFBSyxDQUFFd0MsT0FBUVYsS0FDbkMsQ0FHQSxNQUFBb0wsR0FFSW5JLEtBQUt5Vyw0QkFFTHpXLEtBQUt5SyxRQUFRMEIsUUFBUW5CLEdBQVVBLEVBQU9oQyxrQkFFbENoSixLQUFLcVIsT0FDTHJSLEtBQUtxUixLQUFLbEosU0FHTm5JLEtBQUtxUixLQUFLN0QsWUFBY3hOLEtBQUtxUixLQUFLelMsT0FBT1YsRUFBSThCLEtBQUtnRyxTQUNsRGhHLEtBQUtxUixLQUFLNUMsY0FHVnpPLEtBQUtxUixLQUFLelMsT0FBT1gsRUFBSSxLQUErQixVQUF4QitCLEtBQUtxUixLQUFLOUQsV0FFL0J2TixLQUFLcVIsS0FBS3pTLE9BQU9YLEVBQUksS0FBK0IsU0FBeEIrQixLQUFLcVIsS0FBSzlELFlBRDdDdk4sS0FBS3FSLEtBQUs3QyxXQUt0QixDQUdBLFdBQUE0RSxHQUNJcFQsS0FBSzRRLGlCQUdMLE1BQU04RixFQUFVeFEsS0FBS3lRLE1BQU0zVyxLQUFLNFEsZUFBaUIsSUFDM0NnRyxFQUFXNVcsS0FBSzRRLGVBQWlCLEdBQ2pDaUcsRUFBVSxHQUFHSCxFQUFRSSxXQUFXQyxTQUFTLEVBQUcsUUFBUUgsRUFBU0UsV0FBV0MsU0FBUyxFQUFHLE9BRTFGL1csS0FBSzZRLFVBQVV2RyxRQUFRdU0sR0FFbkI3VyxLQUFLNFEsZ0JBQWtCLElBQ3ZCNVEsS0FBSzhRLFdBQVc0RSxRQUFTLEVBQ3pCaFYsUUFBUStMLElBQUksa0JBRVJ6TSxLQUFLc1IsUUFBVXRSLEtBQUt1UixRQUFTdlIsS0FBS2dYLFFBQVEsV0FDckNoWCxLQUFLdVIsUUFBVXZSLEtBQUtzUixRQUFTdFIsS0FBS2dYLFFBQVEsWUFFL0N0VyxRQUFRK0wsSUFBSSxvQkFDWnpNLEtBQUs0UixlQUFnQixFQUNqQjVSLEtBQUtpVCxnQkFDTGpULEtBQUtpVCxjQUFjM0ksUUFBUSx3QkFDM0J0SyxLQUFLaVQsY0FBY3hQLFlBQVcsS0FJOUMsQ0FFQSxnQkFBQXdULEdBQ1FqWCxLQUFLK1MsY0FBYy9TLEtBQUsrUyxhQUFhekksUUFBUXRLLEtBQUt3UixPQUFPc0YsWUFDekQ5VyxLQUFLZ1QsZUFBZWhULEtBQUtnVCxjQUFjMUksUUFBUXRLLEtBQUt5UixPQUFPcUYsV0FDbkUsQ0FHQSx1QkFBQWpLLENBQXdCN0IsR0FDcEIsTUFBTWtNLEVBQUtsWCxLQUFLa1YsWUFBWWxLLEVBQU9ySSxJQUVuQyxJQUFLLElBQUl3VSxFQUFJLEVBQUdBLEVBQUksRUFBR0EsSUFDZm5NLEVBQU90SCxpQkFBaUJ5VCxJQUN4QkQsRUFBR0MsR0FBR2hZLFdBQVc2TCxFQUFPdEgsaUJBQWlCeVQsSUFDekNELEVBQUdDLEdBQUcxVCxZQUFXLElBRWpCeVQsRUFBR0MsR0FBRzFULFlBQVcsRUFHN0IsQ0FJQSxpQkFBQW9RLEdBRUk3VCxLQUFLaUksTUFBTTdILE9BQU8sQ0FDZG5GLElBQUssa0JBQ0xtYyxPQUFRcFgsS0FBS2lJLE1BQU1vUCxxQkFBcUIsYUFBYyxDQUFFcFYsTUFBTyxFQUFHcVYsSUFBSyxJQUN2RUMsVUFBVyxFQUNYdk4sUUFBUyxJQUViaEssS0FBS2lJLE1BQU03SCxPQUFPLENBQ2RuRixJQUFLLGlCQUNMbWMsT0FBUXBYLEtBQUtpSSxNQUFNb1AscUJBQXFCLGFBQWMsQ0FBRXBWLE1BQU8sR0FBSXFWLElBQUssS0FBTUUsVUFDOUVELFVBQVcsRUFDWHZOLFFBQVMsSUFHYmhLLEtBQUtpSSxNQUFNN0gsT0FBTyxDQUNkbkYsSUFBSyxxQkFDTG1jLE9BQVFwWCxLQUFLaUksTUFBTW9QLHFCQUFxQixhQUFjLENBQUVwVixNQUFPLEVBQUdxVixJQUFLLEtBQ3ZFQyxVQUFXLEdBQ1h2TixPQUFRLElBRVpoSyxLQUFLaUksTUFBTTdILE9BQU8sQ0FDZG5GLElBQUssb0JBQ0xtYyxPQUFRcFgsS0FBS2lJLE1BQU1vUCxxQkFBcUIsYUFBYyxDQUFFcFYsTUFBTyxHQUFJcVYsSUFBSyxLQUFNRSxVQUM5RUQsVUFBVyxHQUNYdk4sT0FBUSxJQUdaaEssS0FBS2lJLE1BQU03SCxPQUFPLENBQ2RuRixJQUFLLGlCQUNMbWMsT0FBUXBYLEtBQUtpSSxNQUFNb1AscUJBQXFCLGFBQWMsQ0FBRXBWLE1BQU8sR0FBSXFWLElBQUssS0FDeEVDLFVBQVcsR0FDWHZOLFFBQVMsSUFFYmhLLEtBQUtpSSxNQUFNN0gsT0FBTyxDQUNkbkYsSUFBSyxnQkFDTG1jLE9BQVFwWCxLQUFLaUksTUFBTW9QLHFCQUFxQixhQUFjLENBQUVwVixNQUFPLEdBQUlxVixJQUFLLEtBQU1FLFVBQzlFRCxVQUFXLEdBQ1h2TixRQUFTLElBR2JoSyxLQUFLaUksTUFBTTdILE9BQU8sQ0FDZG5GLElBQUssa0JBQ0xtYyxPQUFRcFgsS0FBS2lJLE1BQU1vUCxxQkFBcUIsYUFBYyxDQUFFcFYsTUFBTyxFQUFHcVYsSUFBSyxLQUN2RUMsVUFBVyxHQUNYdk4sT0FBUSxJQUVaaEssS0FBS2lJLE1BQU03SCxPQUFPLENBQ2RuRixJQUFLLGlCQUNMbWMsT0FBUXBYLEtBQUtpSSxNQUFNb1AscUJBQXFCLGFBQWMsQ0FBRXBWLE1BQU8sR0FBSXFWLElBQUssS0FBTUUsVUFDOUVELFVBQVcsR0FDWHZOLE9BQVEsSUFLWmhLLEtBQUtpSSxNQUFNN0gsT0FBTyxDQUNkbkYsSUFBSyxrQkFDTG1jLE9BQVFwWCxLQUFLaUksTUFBTW9QLHFCQUFxQixhQUFjLENBQUVwVixNQUFPLEVBQUdxVixJQUFLLElBQ3ZFQyxVQUFXLEVBQ1h2TixRQUFTLElBRWJoSyxLQUFLaUksTUFBTTdILE9BQU8sQ0FDZG5GLElBQUssaUJBQ0xtYyxPQUFRcFgsS0FBS2lJLE1BQU1vUCxxQkFBcUIsYUFBYyxDQUFFcFYsTUFBTyxHQUFJcVYsSUFBSyxLQUFNRSxVQUM5RUQsVUFBVyxFQUNYdk4sUUFBUyxJQUdiaEssS0FBS2lJLE1BQU03SCxPQUFPLENBQ2RuRixJQUFLLHFCQUNMbWMsT0FBUXBYLEtBQUtpSSxNQUFNb1AscUJBQXFCLGFBQWMsQ0FBRXBWLE1BQU8sRUFBR3FWLElBQUssS0FDdkVDLFVBQVcsR0FDWHZOLE9BQVEsSUFFWmhLLEtBQUtpSSxNQUFNN0gsT0FBTyxDQUNkbkYsSUFBSyxvQkFDTG1jLE9BQVFwWCxLQUFLaUksTUFBTW9QLHFCQUFxQixhQUFjLENBQUVwVixNQUFPLEdBQUlxVixJQUFLLEtBQU1FLFVBQzlFRCxVQUFXLEdBQ1h2TixPQUFRLElBR1poSyxLQUFLaUksTUFBTTdILE9BQU8sQ0FDZG5GLElBQUssaUJBQ0xtYyxPQUFRcFgsS0FBS2lJLE1BQU1vUCxxQkFBcUIsYUFBYyxDQUFFcFYsTUFBTyxHQUFJcVYsSUFBSyxLQUN4RUMsVUFBVyxHQUNYdk4sUUFBUyxJQUViaEssS0FBS2lJLE1BQU03SCxPQUFPLENBQ2RuRixJQUFLLGdCQUNMbWMsT0FBUXBYLEtBQUtpSSxNQUFNb1AscUJBQXFCLGFBQWMsQ0FBRXBWLE1BQU8sR0FBSXFWLElBQUssS0FBTUUsVUFDOUVELFVBQVcsR0FDWHZOLFFBQVMsSUFHYmhLLEtBQUtpSSxNQUFNN0gsT0FBTyxDQUNkbkYsSUFBSyxrQkFDTG1jLE9BQVFwWCxLQUFLaUksTUFBTW9QLHFCQUFxQixhQUFjLENBQUVwVixNQUFPLEVBQUdxVixJQUFLLEtBQ3ZFQyxVQUFXLEdBQ1h2TixPQUFRLElBRVpoSyxLQUFLaUksTUFBTTdILE9BQU8sQ0FDZG5GLElBQUssaUJBQ0xtYyxPQUFRcFgsS0FBS2lJLE1BQU1vUCxxQkFBcUIsYUFBYyxDQUFFcFYsTUFBTyxHQUFJcVYsSUFBSyxLQUFNRSxVQUM5RUQsVUFBVyxHQUNYdk4sT0FBUSxJQUtaaEssS0FBS2lJLE1BQU03SCxPQUFPLENBQ2RuRixJQUFLLGtCQUNMbWMsT0FBUXBYLEtBQUtpSSxNQUFNb1AscUJBQXFCLGFBQWMsQ0FBRXBWLE1BQU8sRUFBR3FWLElBQUssSUFDdkVDLFVBQVcsRUFDWHZOLFFBQVMsSUFFYmhLLEtBQUtpSSxNQUFNN0gsT0FBTyxDQUNkbkYsSUFBSyxpQkFDTG1jLE9BQVFwWCxLQUFLaUksTUFBTW9QLHFCQUFxQixhQUFjLENBQUVwVixNQUFPLEdBQUlxVixJQUFLLEtBQU1FLFVBQzlFRCxVQUFXLEVBQ1h2TixRQUFTLElBR2JoSyxLQUFLaUksTUFBTTdILE9BQU8sQ0FDZG5GLElBQUsscUJBQ0xtYyxPQUFRcFgsS0FBS2lJLE1BQU1vUCxxQkFBcUIsYUFBYyxDQUFFcFYsTUFBTyxFQUFHcVYsSUFBSyxLQUN2RUMsVUFBVyxHQUNYdk4sT0FBUSxJQUVaaEssS0FBS2lJLE1BQU03SCxPQUFPLENBQ2RuRixJQUFLLG9CQUNMbWMsT0FBUXBYLEtBQUtpSSxNQUFNb1AscUJBQXFCLGFBQWMsQ0FBRXBWLE1BQU8sR0FBSXFWLElBQUssS0FBTUUsVUFDOUVELFVBQVcsR0FDWHZOLE9BQVEsSUFHWmhLLEtBQUtpSSxNQUFNN0gsT0FBTyxDQUNkbkYsSUFBSyxpQkFDTG1jLE9BQVFwWCxLQUFLaUksTUFBTW9QLHFCQUFxQixhQUFjLENBQUVwVixNQUFPLEdBQUlxVixJQUFLLEtBQ3hFQyxVQUFXLEdBQ1h2TixRQUFTLElBRWJoSyxLQUFLaUksTUFBTTdILE9BQU8sQ0FDZG5GLElBQUssZ0JBQ0xtYyxPQUFRcFgsS0FBS2lJLE1BQU1vUCxxQkFBcUIsYUFBYyxDQUFFcFYsTUFBTyxHQUFJcVYsSUFBSyxLQUFNRSxVQUM5RUQsVUFBVyxHQUNYdk4sUUFBUyxJQUdiaEssS0FBS2lJLE1BQU03SCxPQUFPLENBQ2RuRixJQUFLLGtCQUNMbWMsT0FBUXBYLEtBQUtpSSxNQUFNb1AscUJBQXFCLGFBQWMsQ0FBRXBWLE1BQU8sRUFBR3FWLElBQUssS0FDdkVDLFVBQVcsR0FDWHZOLE9BQVEsSUFFWmhLLEtBQUtpSSxNQUFNN0gsT0FBTyxDQUNkbkYsSUFBSyxpQkFDTG1jLE9BQVFwWCxLQUFLaUksTUFBTW9QLHFCQUFxQixhQUFjLENBQUVwVixNQUFPLEdBQUlxVixJQUFLLEtBQU1FLFVBQzlFRCxVQUFXLEdBQ1h2TixPQUFRLEdBR2hCLENBR0EsY0FBQXdLLEdBQ0ksTUFBTWlELEVBQVN6WCxLQUFLa1IsUUFBUXdHLFVBQ3RCQyxFQUFTM1gsS0FBS21SLFFBQVF1RyxVQUV0QkUsRUFBSyxJQUFJbFYsRUFDWDFDLEtBQ0EsVUFDa0IsSUFBbEJBLEtBQUtzUCxXQUNMdFAsS0FBS2dHLFFBQVUsSUFDZnlSLEdBR0VJLEVBQUssSUFBSW5WLEVBQ1gxQyxLQUNBLFVBQ2tCLElBQWxCQSxLQUFLc1AsV0FDTHRQLEtBQUtnRyxRQUFVLElBQ2YyUixHQUdKM1gsS0FBS3lLLFFBQVFxTixJQUFJLFVBQVdGLEdBQzVCNVgsS0FBS3lLLFFBQVFxTixJQUFJLFVBQVdELEdBRzVCLE1BR01FLEVBQWM3UixLQUFLeVEsTUFBTTNXLEtBQUtnRyxTQUtwQzRSLEVBQUd4USxVQUgwQixHQUdNLElBUmxCLEdBUXVEMlEsR0FHeEVGLEVBQUd6USxVQUFVLElBQTJCcEgsS0FBS3NQLFdBTmhCLEdBTFosR0FXeUV5SSxHQUUxRi9YLEtBQUsyTSxpQkFBaUJzRCxXQUFXalEsS0FBS3lLLFNBQ3RDekssS0FBSzJNLGlCQUFpQnVELGFBQWFsUSxNQUduQzRYLEVBQUd6USxZQUNIMFEsRUFBRzNRLFVBQ1AsQ0FHQSxrQkFBQXVOLENBQW1CSixHQUNmclUsS0FBS3lLLFFBQVEwQixRQUFRbkIsSUFFakJoTCxLQUFLZ0YsUUFBUXJHLElBQUlxWixTQUFTaE4sRUFBT3BNLE9BQVF5VixHQUd6Q3JVLEtBQUtnRixRQUFRckcsSUFBSXFaLFNBQVNoTixFQUFPcE0sT0FBUW9CLEtBQUtzVCxJQUFLLEtBQy9DNVMsUUFBUStMLElBQUksR0FBR3pCLEVBQU9ySSxtQkFDdEJxSSxFQUFPcE0sT0FBT3lILGFBQWEsTUFHdkMsQ0FHQSxtQkFBQXFPLEdBc0JJMVUsS0FBS2lSLGNBckJlLENBRWhCLENBQ0lSLFNBQVUsVUFDVndILFFBQVMsSUFDVEMsU0FBVSxJQUNWQyxRQUFTLElBQ1RDLFdBQVksSUFDWkMsU0FBVSxLQUdkLENBQ0k1SCxTQUFVLFVBQ1Z3SCxRQUFTLElBQ1RDLFNBQVUsSUFDVkMsUUFBUyxJQUNUQyxXQUFZLElBQ1pDLFNBQVUsTUFJZUMsSUFBSXZULElBQzFCLENBQ0gwTCxTQUFVMUwsRUFBTzBMLFNBQ2pCOEgsV0FBWXZZLEtBQUtZLE1BQU00VSxTQUFTZ0QsT0FDNUIsVUFBYUMsU0FBU0MsU0FBUzNULEVBQU9rVCxVQUUxQ1UsWUFBYTNZLEtBQUtZLE1BQU00VSxTQUFTZ0QsT0FDN0IsVUFBYUMsU0FBU0MsU0FBUzNULEVBQU9tVCxXQUUxQ1UsV0FBWTVZLEtBQUtZLE1BQU00VSxTQUFTZ0QsT0FDNUIsVUFBYUMsU0FBU0MsU0FBUzNULEVBQU9vVCxVQUUxQ1UsY0FBZTdZLEtBQUtZLE1BQU00VSxTQUFTZ0QsT0FDL0IsVUFBYUMsU0FBU0MsU0FBUzNULEVBQU9xVCxhQUUxQ1UsWUFBYTlZLEtBQUtZLE1BQU00VSxTQUFTZ0QsT0FDN0IsVUFBYUMsU0FBU0MsU0FBUzNULEVBQU9zVCxhQUl0RCxDQUdBLHlCQUFBNUIsR0FDSXpXLEtBQUtpUixjQUFjOUUsUUFBUTRNLElBQ3ZCLE1BQU0vTixFQUFTaEwsS0FBS3lLLFFBQVFuUCxJQUFJeWQsRUFBUXRJLFVBQ3hDLElBQUt6RixFQUFRLE9BR2IsR0FBSUEsRUFBTy9ILFlBQWEsQ0FDcEIsTUFBTStWLEVBQTZCLFNBQWxCaE8sRUFBTzVGLE9BQXFCLFdBQWEsWUFJMUQsWUFIQXBGLEtBQUsyTSxpQkFBaUJDLFFBQ2xCLElBQUkyRCxFQUFrQnZGLEVBQVFnTyxHQUd0QyxDQUVBLElBQUl4SSxFQXVCSixHQW5CSUEsRUFEQXVJLEVBQVFSLFdBQVdVLE9BQ1AsT0FFUEYsRUFBUUosWUFBWU0sT0FDYixRQUltQixTQUFsQmpPLEVBQU81RixPQUFxQixXQUFZLFlBS3BENEYsRUFBTzFGLFdBQ1J0RixLQUFLMk0saUJBQWlCQyxRQUNsQixJQUFJMkQsRUFBa0J2RixFQUFRd0YsSUFLbEMsVUFBYWlJLFNBQVNTLFNBQVNILEVBQVFGLGVBQWdCLENBQ3ZELE1BQU1NLEVBQWdDLFNBQWxCbk8sRUFBTzVGLE9BQXFCLGNBQWdCLGVBQ2hFcEYsS0FBSzJNLGlCQUFpQkMsUUFDbEIsSUFBSTJELEVBQWtCdkYsRUFBUW1PLEdBRXRDLENBR0EsR0FBSSxVQUFhVixTQUFTUyxTQUFTSCxFQUFRSCxZQUFhLENBQ3BELE1BQU1RLEVBQTZCLFNBQWxCcE8sRUFBTzVGLE9BQXFCLFdBQWEsWUFDMURwRixLQUFLMk0saUJBQWlCQyxRQUNsQixJQUFJMkQsRUFBa0J2RixFQUFRb08sR0FFdEMsQ0FHSSxVQUFhWCxTQUFTUyxTQUFTSCxFQUFRRCxlQUN2QzlOLEVBQU90QyxpQkFDUDFJLEtBQUs2TSx3QkFBd0I3QixNQUtyQ2hMLEtBQUt5SyxRQUFRMEIsUUFBUW5CLEdBQVVBLEVBQU83QyxTQUMxQyxDQUdBLFdBQUFrTixHQUNJclYsS0FBS3FSLEtBQU8sSUFBSW5FLEVBQUtsTixLQUFNQSxLQUFLc1AsV0FBYSxFQUFHLElBQ3BELENBR0Esb0JBQUFnRyxHQUVJdFYsS0FBS3lLLFFBQVEwQixRQUFRbkIsSUFDakJoTCxLQUFLZ0YsUUFBUXJHLElBQUkwTixRQUNick0sS0FBS3FSLEtBQUt6UyxPQUNWb00sRUFBT3BNLE9BQ1AsSUFBTW9CLEtBQUtxWix1QkFBdUJyWixLQUFLcVIsS0FBTXJHLEdBQzdDLEtBQ0FoTCxRQUtSQSxLQUFLZ0YsUUFBUXJHLElBQUlxWixTQUFTaFksS0FBS3FSLEtBQUt6UyxPQUFRb0IsS0FBS3NULElBQUssS0FFbEQ1UyxRQUFRK0wsSUFBSSwwQkFHWnpNLEtBQUtxUixLQUFLelMsT0FBT3lILGFBQWdELEdBQW5DckcsS0FBS3FSLEtBQUt6UyxPQUFPcUcsS0FBS3FVLFNBQVNyYixHQUM3RCtCLEtBQUtxUixLQUFLelMsT0FBTytILGFBQWdELEdBQW5DM0csS0FBS3FSLEtBQUt6UyxPQUFPcUcsS0FBS3FVLFNBQVNwYixLQUlqRDhCLEtBQUtpUyxZQUNyQmpTLEtBQUtxUixLQUFLelMsT0FBT3dPLHVCQUFzQixHQUN2Q3BOLEtBQUtxUixLQUFLelMsT0FBT3VPLFVBQVUsR0FDL0IsQ0FHQSxnQkFBQW9JLEdBQ0l2VixLQUFLaVAsT0FBTzVQLEdBQUcsaUJBQW1CMlIsSUFDOUIsR0FBSWhSLEtBQUs2UixZQUFhLE9BQ3RCblIsUUFBUStMLElBQUksb0JBQW9CdUUsRUFBS2hDLDJCQUNyQyxNQUFNdUssRUFBV3ZJLEVBQUtoQyxnQkFHaEJTLEVBQWdCelAsS0FBS3lLLFFBQVFuUCxJQUFJaWUsR0FJakNDLEVBSGEvSixHQUFpQkEsRUFBY3BNLGlCQUF3QixFQXNCMUUsR0FqQmlCLFlBQWJrVyxHQUVBdlosS0FBSzhULFlBQWMwRixFQUNuQnhaLEtBQUtrVSxVQUFVNUosUUFBUXRLLEtBQUs4VCxXQUFXZ0QsWUFHdkM5VyxLQUFLc1IsU0FBV2tJLEdBRUUsWUFBYkQsSUFDTHZaLEtBQUsrVCxhQUFleUYsRUFDcEJ4WixLQUFLbVUsV0FBVzdKLFFBQVF0SyxLQUFLK1QsWUFBWStDLFlBRXpDOVcsS0FBS3VSLFNBQVdpSSxHQUdwQnhaLEtBQUs0RyxRQUFRNUcsS0FBSzZHLElBQUlzTCxPQUVsQm5TLEtBQUs0UixjQUdMLE9BRkE1UixLQUFLNFIsZUFBZ0IsT0FDckI1UixLQUFLZ1gsUUFBUXVDLEdBTWpCdlosS0FBS3laLHNCQUViLENBR0EsZ0JBQUFDLENBQWlCQyxFQUFZM08sRUFBUTFGLEVBQVczQixHQUM1QyxNQUFNc0IsRUFBTytGLEVBQU9wTSxPQUFPcUcsS0FDM0IsSUFBS0EsRUFBTSxPQUFPLEVBRWxCLE1BQU0yVSxFQUFRRCxFQUFXMWIsRUFDbkI0YixFQUFRRixFQUFXemIsRUFDbkI0YixFQUFVN1UsRUFBSy9HLEVBQ2Y2YixFQUFhOVUsRUFBS3ZELE9BQ2xCc1ksRUFBYy9VLEVBQUtoSCxFQUFpQixHQUFiZ0gsRUFBS3hELE1BRTVCd1ksRUFBTzNVLEVBQ1AsQ0FBRWlDLEtBQU0sR0FBS0MsT0FBUSxJQUNwQjdELEVBQWMsQ0FBRTRELElBQUssSUFBTUMsT0FBUSxLQUFTLENBQUVELElBQUssSUFBTUMsT0FBUSxLQUt4RSxHQUFJcVMsRUFIWUMsRUFBVUMsRUFBYUUsRUFBSzFTLEtBR3JCc1MsRUFGSkMsRUFBVUMsRUFBYUUsRUFBS3pTLE9BRzNDLE9BQU8sRUFHWCxNQUFNMFMsRUFBZ0MsVUFBbEJsUCxFQUFPNUYsT0FDckIrVSxFQUFVeFcsR0FBZTJCLEVBQ3pCOFUsRUFBZW5WLEVBQUt4RCxPQUFTMFksRUFBVSxHQUFNLEtBQzdDRSxFQUFZcFYsRUFBS3hELE9BQVMwWSxFQUFVLElBQU8sS0FJakQsUUFBSVAsR0FIU00sRUFBY0YsRUFBY0ssRUFBWUwsRUFBY0ksSUFHL0NSLEdBRlBNLEVBQWNGLEVBQWNJLEVBQWVKLEVBQWNLLEdBSzFFLENBR0Esc0JBQUFoQixDQUF1QmhJLEVBQU1yRyxHQUN6QixJQUFLcUcsRUFBSzdELFdBQVksT0FFdEIsTUFBTWxJLEdBQWEwRixFQUFPcE0sT0FBT3FHLEtBQUtVLFFBQVFDLEtBQ3hDakMsRUFBY3FILEVBQU9ySCxZQUNyQjJXLEVBQWtCdFAsRUFBTzVGLE9BRTFCcEYsS0FBSzBaLGlCQUFpQnJJLEVBQUt6UyxPQUFRb00sRUFBUTFGLEVBQVczQixJQUkzRDBOLEVBQUt2RCxJQUFJOUMsRUFBUXNQLEVBQWlCaFYsRUFBVzNCLEVBQ2pELENBR0EsUUFBQWtTLENBQVNELEdBRUQ1VixLQUFLOFEsYUFDTDlRLEtBQUs4USxXQUFXL0QsUUFBTyxHQUN2Qi9NLEtBQUs4USxXQUFhLE1BSXRCOVEsS0FBSzRHLFFBQVE1RyxLQUFLNkcsSUFBSXFMLFNBR2xCbFMsS0FBS2dGLFNBQVdoRixLQUFLZ0YsUUFBUXVWLE9BQzdCdmEsS0FBS2dGLFFBQVF1VixNQUFNOUUsUUFHdkJ6VixLQUFLN0MsTUFBTThFLE1BQU0sZ0JBQWlCLENBQzlCMlQsT0FBUUEsRUFDUjFFLFFBQVNsUixLQUFLa1IsUUFDZEMsUUFBU25SLEtBQUttUixTQUV0QixDQUdBLGtCQUFBc0ksR0FDSSxNQUlNZSxFQUFZeGEsS0FBS3NSLFFBQVV0UixLQUFLdVIsUUFJdEMsR0FIaUJyTCxLQUFLbUUsSUFBSXJLLEtBQUtzUixRQUFTdFIsS0FBS3VSLFNBTDNCLElBUVVyTCxLQUFLQyxJQUFJcVUsR0FQckIsRUFRWixPQUlKLE1BQU01RSxFQUFTNEUsRUFBWSxFQUFJLFVBQVksVUFDM0N4YSxLQUFLZ1gsUUFBUXBCLEVBQ2pCLENBR0EsT0FBQW9CLENBQVFwQixHQUNKLEdBQUk1VixLQUFLNlIsWUFBYSxPQUN0QjdSLEtBQUs2UixhQUFjLEVBQ2Y3UixLQUFLcVIsTUFBTXpTLFNBQ1hvQixLQUFLcVIsS0FBSzdELFlBQWEsRUFDdkJ4TixLQUFLcVIsS0FBS3pTLE9BQU9nSixZQUFZLEVBQUcsSUFHckIsWUFBWGdPLEVBQXNCNVYsS0FBS3dSLFNBQ1gsWUFBWG9FLEdBQXNCNVYsS0FBS3lSLFNBRXBDL1EsUUFBUStMLElBQUksaUNBQWlDek0sS0FBS3dSLGNBQWN4UixLQUFLeVIsVUFFckV6UixLQUFLaVgsbUJBR0wsTUFBTXdELEVBQTBCLFlBQVg3RSxFQUF3QixZQUFjLFlBQzNENVYsS0FBS2lULGNBQWMzSSxRQUFRLFlBQVltUSxLQUN2Q3phLEtBQUtpVCxjQUFjeFAsWUFBVyxHQUc5QnpELEtBQUsyUixhQUU4QixJQUFoQjNSLEtBQUt3UixRQUFnQyxJQUFoQnhSLEtBQUt5UixPQUl6Q3pSLEtBQUt5RyxLQUFLOEYsWUFBWSxJQUFNLEtBRXhCdk0sS0FBSzZWLFNBQVNELEtBSWxCNVYsS0FBS3lHLEtBQUs4RixZQUFZLElBQU0sS0FDcEJ2TSxLQUFLaVQsZUFDTGpULEtBQUtpVCxjQUFjeFAsWUFBVyxHQUVsQ3pELEtBQUswYSxhQUdqQixDQUdBLFNBQUFBLEdBQ0kxYSxLQUFLNlIsYUFBYyxFQUNuQjdSLEtBQUs0UixlQUFnQixFQUVyQjVSLEtBQUtzSyxRQUFRQSxRQUFRLE9BQU90SyxLQUFLMlIsY0FHakMzUixLQUFLNFEsZUFBaUI1USxLQUFLMlEsWUFDM0IzUSxLQUFLOFEsV0FBVzRFLFFBQVMsRUFDekIxVixLQUFLb1QsY0FHTHBULEtBQUtzUixRQUFVLEVBQ2Z0UixLQUFLdVIsUUFBVSxFQUdmdlIsS0FBSzhULFdBQWEsRUFDbEI5VCxLQUFLK1QsWUFBYyxFQUNuQi9ULEtBQUtrVSxVQUFVNUosUUFBUSxLQUN2QnRLLEtBQUttVSxXQUFXN0osUUFBUSxLQUd4QnRLLEtBQUtxUixLQUFLeEMsYUFHVixNQUFNK0ksRUFBSzVYLEtBQUt5SyxRQUFRblAsSUFBSSxXQUN0QnVjLEVBQUs3WCxLQUFLeUssUUFBUW5QLElBQUksV0FFNUJzYyxFQUFHalEsWUFBOEIsSUFBbEIzSCxLQUFLc1AsV0FBc0MsR0FBbkJ0UCxLQUFLaVMsYUFDNUM0RixFQUFHbFEsWUFBOEIsSUFBbEIzSCxLQUFLc1AsV0FBc0MsR0FBbkJ0UCxLQUFLaVMsYUFFNUMyRixFQUFHelEsWUFDSDBRLEVBQUczUSxXQUVIbEgsS0FBSzRHLFFBQVE1RyxLQUFLNkcsSUFBSXFMLFFBQzFCLEVDL2hDRyxNQUFNeUksVUFBdUIsVUFDaEMsV0FBQTlhLEdBQ0lDLE1BQU0sa0JBR05FLEtBQUs0YSxVQUFZLEVBQ2pCNWEsS0FBS2tDLFlBQWMsWUFDdkIsQ0FFQSxJQUFBNk8sQ0FBS0MsR0FFRGhSLEtBQUtrQyxZQUFjOE8sR0FBTTlPLGFBQWUsWUFDNUMsQ0FFQSxPQUFBbkMsR0FFSUMsS0FBS0MsS0FBS0MsTUFBTSxpQkFBa0Isc0NBQ2xDRixLQUFLQyxLQUFLQyxNQUFNLFdBQVksZ0NBQzVCRixLQUFLQyxLQUFLQyxNQUFNLGNBQWUsbUNBQy9CRixLQUFLQyxLQUFLQyxNQUFNLGVBQWdCLG9DQUNoQ0YsS0FBS0MsS0FBS0MsTUFBTSxhQUFjLGtDQUc5QkYsS0FBS0MsS0FBS0MsTUFBTSxRQUFTLGdDQUN6QkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLHNDQUNuQyxDQUVBLE1BQUFFLEdBQ0ksTUFBTSxNQUFFcUIsRUFBSyxPQUFFQyxHQUFXMUIsS0FBS3pCLE1BQ3pCb0QsRUFBVUYsRUFBUSxFQUVsQkwsRUFBUSxJQUNOcEIsS0FBS3JDLEtBQUtDLFNBQVN5RCxrQkFBb0IsQ0FDdkNDLFdBQVksUUFDWkMsU0FBVSxPQUNWQyxNQUFPLFlBSWZ0RSxFQUFrQjhDLE1BR2xCQSxLQUFLckIsSUFDQXVCLE1BQU0sRUFBRyxFQUFHLFNBQ1pqQixVQUFVLEdBQ1Y0QyxVQUFVLEdBQ1ZDLGVBQWVMLEVBQU9DLEdBRzNCMUIsS0FBSzZhLGNBQWdCN2EsS0FBS3JCLElBQ3JCSyxLQUFLMkMsRUFBa0IsR0FBVEQsRUFBYyxXQUFZLElBQ2xDTixFQUNIRyxTQUFVLE9BQ1ZDLE1BQU8sY0FFVnZDLFVBQVUsSUFHZlEsRUFBaUJPLEtBQU0sQ0FDbkIvQixFQUFXLElBQVJ3RCxFQUNIdkQsRUFBWSxJQUFUd0QsRUFDSGhDLFFBQVMsY0FDVG5CLE1BQU8sRUFDUG9CLFdBQVksSUFDWnZCLFFBQVMsSUFBTTRCLEtBQUs3QyxNQUFNOEUsTUFBTWpDLEtBQUtrQyxlQUl6Q2xDLEtBQUs0YSxVQUFZLEVBQ2pCNWEsS0FBSzhhLE1BQVEsQ0FDVCxDQUFFN2YsSUFBSyxpQkFBa0I4ZixNQUFPLGFBQ2hDLENBQUU5ZixJQUFLLFdBQVk4ZixNQUFPLHVCQUMxQixDQUFFOWYsSUFBSyxjQUFlOGYsTUFBTywwQkFDN0IsQ0FBRTlmLElBQUssZUFBZ0I4ZixNQUFPLDZCQUM5QixDQUFFOWYsSUFBSyxhQUFjOGYsTUFBTyx1QkFJaEMsTUFBTUMsRUFBYzlVLEtBQUttRSxJQUFJLEVBQUduRSxLQUFLeU0sTUFBZ0MsS0FBMUJ6TSxLQUFLOEYsSUFBSXZLLEVBQU9DLEtBQ3JEdVosRUFBVy9VLEtBQUttRSxJQUFJLEVBQUduRSxLQUFLeU0sTUFBZSxLQUFUalIsSUFDbEN3WixFQUFnQixJQUFUeFosRUFFUHlaLEVBQVduYixLQUFLNmEsY0FBYzNjLEVBQUk4QixLQUFLNmEsY0FBY25aLE9BQVN1WixFQUM5REcsRUFBY0YsRUFBT0QsRUFDckJJLEVBQWNuVixLQUFLbUUsSUFBSSxFQUFHK1EsRUFBY0QsR0FDeENHLEVBQWFwVixLQUFLbUUsSUFBSSxFQUFHNUksRUFBc0IsRUFBZHVaLEdBRXZDaGIsS0FBS3ViLE9BQVMsQ0FDVkosV0FDQUUsY0FDQUMsY0FJSnRiLEtBQUt3YixXQUFheGIsS0FBS3JCLElBQUl1QixNQUN2QnlCLEVBQ0F3WixFQUFXRSxFQUFjLEVBQ3pCcmIsS0FBSzhhLE1BQU0sR0FBRzdmLEtBRWxCK0UsS0FBS3liLFVBQVV6YixLQUFLd2IsV0FBWUYsRUFBWUQsR0FHNUNyYixLQUFLMGIsY0FBZ0IxYixLQUFLckIsSUFBSUssS0FBSzJDLEVBQVN1WixFQUFPLEdBQUksR0FBSSxJQUNwRDlaLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxTQUNSdkMsVUFBVSxJQUdiLE1BQU0rQyxFQUFrQixJQUFLWixFQUFPRyxTQUFVLE9BQVFDLE1BQU8sV0FFN0R4QixLQUFLMmIsUUFBVTNkLEVBQWVnQyxLQUFNLENBQ2hDL0IsRUFBRzBELEVBQVUsSUFDYnpELEVBQUdnZCxFQUFPLEdBQ1YvYyxNQUFPLFdBQ1BDLFFBQVMsSUFBTTRCLEtBQUs0YixPQUNwQnBkLFVBQVd3RCxFQUNYdkQsY0FBZSxnQkFHbkJ1QixLQUFLNmIsUUFBVTdkLEVBQWVnQyxLQUFNLENBQ2hDL0IsRUFBRzBELEVBQVUsSUFDYnpELEVBQUdnZCxFQUFPLEdBQ1YvYyxNQUFPLFlBQ1BDLFFBQVMsSUFBTTRCLEtBQUs4YixPQUNwQnRkLFVBQVd3RCxFQUNYdkQsY0FBZSxnQkFHbkJ1QixLQUFLK2IsWUFDVCxDQUdBLFNBQUFOLENBQVVPLEVBQUtDLEVBQU1DLEdBQ2pCLE1BQU0zZCxFQUFRMkgsS0FBSzhGLElBQUlpUSxFQUFPRCxFQUFJdmEsTUFBT3lhLEVBQU9GLEVBQUl0YSxRQUNwRHNhLEVBQUluZCxTQUFTTixFQUNqQixDQUdBLFVBQUF3ZCxHQUNJLE1BQU1qUixFQUFJOUssS0FBSzhhLE1BQU05YSxLQUFLNGEsV0FDMUI1YSxLQUFLNmEsY0FBY3ZRLFFBQVFRLEVBQUVpUSxPQUFTLFlBQ3RDL2EsS0FBS3diLFdBQVdyYyxXQUFXMkwsRUFBRTdQLEtBQzdCK0UsS0FBS3liLFVBQVV6YixLQUFLd2IsV0FBWXhiLEtBQUt1YixPQUFPRCxXQUFZdGIsS0FBS3ViLE9BQU9GLGFBQ3BFcmIsS0FBSzBiLGNBQWNwUixRQUFRLEdBQUd0SyxLQUFLNGEsVUFBWSxRQUFRNWEsS0FBSzhhLE1BQU10UyxVQUdsRSxNQUFNMlQsRUFBaUMsSUFBbkJuYyxLQUFLNGEsVUFDekI1YSxLQUFLb2Msa0JBQWtCcGMsS0FBSzJiLFNBQVVRLEdBR3RDLE1BQU1FLEVBQWFyYyxLQUFLNGEsWUFBYzVhLEtBQUs4YSxNQUFNdFMsT0FBUyxFQUMxRHhJLEtBQUtvYyxrQkFBa0JwYyxLQUFLNmIsU0FBVVEsRUFDMUMsQ0FHQSxJQUFBUCxHQUNROWIsS0FBSzRhLFVBQVk1YSxLQUFLOGEsTUFBTXRTLE9BQVMsSUFDckN4SSxLQUFLNGEsWUFDTDVhLEtBQUsrYixhQUViLENBR0EsSUFBQUgsR0FDUTViLEtBQUs0YSxVQUFZLElBQ2pCNWEsS0FBSzRhLFlBQ0w1YSxLQUFLK2IsYUFFYixDQUdBLGlCQUFBSyxDQUFrQkUsRUFBUUMsR0FDdEIsTUFBTTNkLEVBQVMwZCxFQUFPNWQsT0FDaEJNLEVBQU9zZCxFQUFPdGQsS0FFaEJ1ZCxHQUNBM2QsRUFBT0UsaUJBQ1BGLEVBQU82SyxTQUFTLEdBQ2hCekssRUFBS3lLLFNBQVMsS0FFZDdLLEVBQU80ZCxxQkFDUDVkLEVBQU82SyxTQUFTLEdBQ2hCekssRUFBS3lLLFNBQVMsR0FFdEIsRUN6TEcsTUFBTWdULFVBQTRCLFVBQ3JDLFdBQUE1YyxHQUNJQyxNQUFNLHVCQUVORSxLQUFLMGMsa0JBQW9CLEtBQ3pCMWMsS0FBSzJjLGdCQUFrQixLQUN2QjNjLEtBQUs0YyxtQkFBcUIsSUFDOUIsQ0FFQSxPQUFBN2MsR0FFSUMsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLHVDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxRQUFTLGdDQUd6QkYsS0FBS0MsS0FBS0UsTUFBTSxjQUFlLGdDQUNuQyxDQUVBLE1BQUFDLEdBQ0ksTUFBTSxNQUFFcUIsRUFBSyxPQUFFQyxHQUFXMUIsS0FBS3pCLE1BQ3pCb0QsRUFBVUYsRUFBUSxFQUNsQkwsRUFBUXBCLEtBQUtyQyxLQUFLQyxRQUFReUQsaUJBR2hDckIsS0FBS3JCLElBQUl1QixNQUFNLEVBQUcsRUFBRyxTQUNoQmpCLFVBQVUsR0FDVjRDLFVBQVUsR0FDVkMsZUFBZUwsRUFBT0MsR0FHM0IxQixLQUFLckIsSUFBSUssS0FBSzJDLEVBQWtCLEdBQVRELEVBQWMsZ0JBQWlCLElBQy9DTixFQUNIRyxTQUFVLE9BQ1ZDLE1BQU8sY0FDUnZDLFVBQVUsSVpKZCxTQUFtQzlDLEVBQWUsR0FDckQsTUFBTTBnQixFQUFrRCxPQUF6Q2pnQixhQUFhQyxRQUFRaEIsR0FDOUJpaEIsRUFBc0QsT0FBM0NsZ0IsYUFBYUMsUUFBUWYsR0FFdEMsR0FBSStnQixHQUFVQyxFQUFVLE9BRXhCLE1BQU1DLEVBZFYsU0FBeUI1Z0IsRUFBZSxHQUNwQyxNQUFNRCxFQUFNVSxhQUFhQyxRQUFRYixHQUNqQyxPQUFZLE9BQVJFLEVBQXFCLEtBRWxCRCxFQUFrQkMsRUFBS0MsRUFDbEMsQ0FTeUI2Z0IsQ0FBZ0I3Z0IsR0FDL0I4Z0IsRUFBZ0JGLEdBQWdCQSxFQUFlLEVBQUlBLEVBQWU1Z0IsRUFFbkUwZ0IsR0FBUWpnQixhQUFhc2dCLFFBQVFyaEIsRUFBZ0JVLE9BQU8wZ0IsSUFDcERILEdBQVVsZ0IsYUFBYXNnQixRQUFRcGhCLEVBQWtCUyxPQUFPMGdCLEdBQ2pFLENZSlFFLEdBQ0EsTUFBTUMsRUFBc0JuZ0IsSUFDdEJvZ0IsRUFBcUJyZ0IsSUFDckJzZ0IsRUFBbUJ2Z0IsSUFHekJHLEVBQWtCOEMsTUFHbEIsTUFDTXVkLEVBQXNCLElBQVQ3YixFQUNiOGIsRUFBNEIsSUFBVDliLEVBRW5CK2IsRUFBYS9iLEVBQVMsR0FEUixFQUFpQjZiLEVBQWFDLEdBQ0YsRUFFMUNFLEVBQWVELEVBQ2ZFLEVBQWdCRCxFQUFlRixFQUMvQkksRUFBY0gsRUFBWUYsRUFDMUJNLEVBQWVELEVBQWNKLEVBQzdCTSxFQUFZTCxFQUEwQixFQUFiRixFQUN6QlEsRUFBYUQsRUFBWU4sRUFHL0J4ZCxLQUFLckIsSUFBSUssS0FBSzJDLEVBQVMrYixFQUFjLGtCQUFtQixJQUNqRHRjLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxTQUNSdkMsVUFBVSxJQUdiZSxLQUFLNGMsbUJBQXFCNWMsS0FBS3JCLElBQUlxZixJQUFJcmMsRUFBU2djLEdBQzNDTSxlQUFlLDBEQUEwRGIscUdBRzlFcGQsS0FBSzRjLG1CQUFtQnNCLFlBQVksU0FDcENsZSxLQUFLNGMsbUJBQW1CdmQsR0FBRyxRQUFVOGUsSUFDM0JBLEVBQU1DLGtCQUFrQkMsbUJaZG5DLFNBQStCNWdCLEdBQ2xDLE1BQU1yQixFQUFJLFNBQVlLLE1BQU1KLE9BQU9vQixHQUFTLEVBQUcsR0FDL0NiLGFBQWFzZ0IsUUFBUW5oQixFQUFtQlEsT0FBT0gsR0FFbkQsQ1lXWWtpQixDQUFzQkgsRUFBTUMsT0FBT3pPLE9BQ25DelMsRUFBa0I4QyxTQUt0QkEsS0FBS3JCLElBQUlLLEtBQUsyQyxFQUFTaWMsRUFBYSxpQkFBa0IsSUFDL0N4YyxFQUNIRyxTQUFVLE9BQ1ZDLE1BQU8sU0FDUnZDLFVBQVUsSUFHYmUsS0FBSzBjLGtCQUFvQjFjLEtBQUtyQixJQUN6QnFmLElBQUlyYyxFQUFTa2MsR0FDYkksZUFBZSwwREFBMERaLGtIQUk5RXJkLEtBQUswYyxrQkFBa0J3QixZQUFZLFNBQ25DbGUsS0FBSzBjLGtCQUFrQnJkLEdBQUcsUUFBVThlLElBQ2hDLE1BQU1DLEVBQVNELEVBQU1DLE9BQ2ZBLGFBQWtCQyxtQlp0QjdCLFNBQThCNWdCLEdBQ2pDLE1BQU1yQixFQUFJLFNBQVlLLE1BQU1KLE9BQU9vQixHQUFTLEVBQUcsR0FDL0NiLGFBQWFzZ0IsUUFBUXBoQixFQUFrQlMsT0FBT0gsR0FHbEQsQ1ltQlltaUIsQ0FBcUJILEVBQU96TyxPQUM1QnpTLEVBQWtCOEMsU0FJdEJBLEtBQUtyQixJQUFJSyxLQUFLMkMsRUFBU21jLEVBQVcsa0JBQW1CLElBQzlDMWMsRUFDSEcsU0FBVSxPQUNWQyxNQUFPLFNBQ1J2QyxVQUFVLElBR2JlLEtBQUsyYyxnQkFBa0IzYyxLQUFLckIsSUFDdkJxZixJQUFJcmMsRUFBU29jLEdBQ2JFLGVBQWUsMERBQTBEWCxrSEFJOUV0ZCxLQUFLMmMsZ0JBQWdCdUIsWUFBWSxTQUNqQ2xlLEtBQUsyYyxnQkFBZ0J0ZCxHQUFHLFFBQVU4ZSxJQUM5QixNQUFNQyxFQUFTRCxFQUFNQyxPQUNmQSxhQUFrQkMsbUJackQ3QixTQUE0QjVnQixHQUMvQixNQUFNckIsRUFBSSxTQUFZSyxNQUFNSixPQUFPb0IsR0FBUyxFQUFHLEdBQy9DYixhQUFhc2dCLFFBQVFyaEIsRUFBZ0JVLE9BQU9ILEdBR2hELENZa0RZb2lCLENBQW1CSixFQUFPek8sT0FDMUJ6UyxFQUFrQjhDLFNBR3RCQSxLQUFLMmMsZ0JBQWdCdUIsWUFBWSxVQUNqQ2xlLEtBQUsyYyxnQkFBZ0J0ZCxHQUFHLFNBQVc4ZSxJQUUvQnJnQixFQUFVa0MsS0FBTSxpQkFLcEJQLEVBQWlCTyxLQUFNLENBQ25CL0IsRUFBVyxJQUFSd0QsRUFDSHZELEVBQVksSUFBVHdELEVBQ0hoQyxRQUFTLGNBQ1RuQixNQUFPLEVBQ1BvQixXQUFZLElBQ1p2QixRQUFTLElBQU00QixLQUFLN0MsTUFBTThFLE1BQU0sZ0JBS3BDakMsS0FBS2lQLE9BQU9wTyxLQUFLLFdBQWM0ZCxPQUFPQyxTQUFVLEtBQ3hDMWUsS0FBSzBjLG9CQUNMMWMsS0FBSzBjLGtCQUFrQmlDLHFCQUN2QjNlLEtBQUswYyxrQkFBa0JsUSxVQUN2QnhNLEtBQUswYyxrQkFBb0IsTUFFekIxYyxLQUFLMmMsa0JBQ0wzYyxLQUFLMmMsZ0JBQWdCZ0MscUJBQ3JCM2UsS0FBSzJjLGdCQUFnQm5RLFVBQ3JCeE0sS0FBSzJjLGdCQUFrQixNQUV2QjNjLEtBQUs0YyxxQkFDTDVjLEtBQUs0YyxtQkFBbUIrQixxQkFDeEIzZSxLQUFLNGMsbUJBQW1CcFEsVUFDeEJ4TSxLQUFLNGMsbUJBQXFCLE9BR3RDLEVDbEtHLE1BQU1nQyxVQUFzQixVQUMvQixXQUFBL2UsR0FDSUMsTUFBTSxnQkFDVixDQUVBLE9BQUFDLEdBRUlDLEtBQUtDLEtBQUtDLE1BQU0sY0FBZSx1Q0FDL0JGLEtBQUtDLEtBQUtDLE1BQU0scUJBQXNCLG9DQUN0Q0YsS0FBS0MsS0FBS0MsTUFBTSxPQUFRLGdDQUN4QkYsS0FBS0MsS0FBS0MsTUFBTSxRQUFTLGdEQUd6QkYsS0FBS0MsS0FBS0UsTUFBTSxjQUFlLGdDQUNuQyxDQUVBLE1BQUFDLEdBQ0ksTUFBTSxNQUFFcUIsRUFBSyxPQUFFQyxHQUFXMUIsS0FBS3pCLE1BR3pCNkMsRUFBUXBCLEtBQUtyQyxLQUFLQyxTQUFTeUQsa0JBQW9CLENBQ2pEQyxXQUFZLFFBQ1pDLFNBQVUsT0FDVkMsTUFBTyxXQUlYeEIsS0FBS3JCLElBQUl1QixNQUFNLEVBQUcsRUFBRyxzQkFDaEJqQixVQUFVLEdBQ1Y0QyxVQUFVLEdBQ1ZDLGVBQWVMLEVBQU9DLEdBRzNCMUIsS0FBS3JCLElBQUkyVixVQUFVLEVBQUcsRUFBRzdTLEVBQU9DLEVBQVEsRUFBVSxJQUM3Q3pDLFVBQVUsR0FDVjRDLFVBQVUsR0FHZixNQUFNZ2QsRUFBZ0IsQ0FDbEIsMEJBQ0EscUJBQ0Esd0JBQ0Esc0JBQ0EseUJBSUVDLEVBQW9CLElBQVJyZCxFQUNac2QsRUFBc0IsSUFBVHJkLEVBQ2JzZCxFQUFnQixJQUFSdmQsRUFDUndkLEVBQWlCLElBQVR2ZCxFQUVEMUIsS0FBS3JCLElBQ2IyVixVQUFVMEssRUFBT0MsRUFBT0gsRUFBV0MsRUFBWSxRQUFVLElBQ3pEOWYsVUFBVSxJQUNWaWdCLGVBQWUsRUFBRyxTQUFVLElBRWpDLE1BQ01DLEVBQVNGLEVBREssSUFDS0osRUFBY3JXLE9BQVMsR0FBb0IsRUFFcEVxVyxFQUFjMVMsUUFBUSxDQUFDaVQsRUFBUWpJLEtBQzNCLE1BQU1rSSxFQUFpQixJQUFObEksRUFDakJuWCxLQUFLckIsSUFDQUssS0FBS2dnQixFQUFPRyxFQU5ELEdBTVVoSSxFQUFpQmlJLEVBQVEsSUFDeENoZSxFQUNIRSxXQUFZLFFBQ1pDLFNBQVU4ZCxFQUFXLE9BQVMsT0FDOUI3ZCxNQUFPNmQsRUFBVyxVQUFZLFlBRWpDcGdCLFVBQVUsTUFJbkJlLEtBQUtyQixJQUFJSyxLQUFLZ2dCLEVBQWdCLEdBQVR0ZCxFQUFjLFdBQVksSUFDcENOLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxZQUVWdkMsVUFBVSxJQUdmLE1BQU1xZ0IsRUFBUU4sRUFDUk8sRUFBUU4sRUFBU0YsRUFBYSxFQUFjLElBQVRyZCxFQUFnQixFQUN6RDFCLEtBQUtyQixJQUNBdUIsTUFBTW9mLEVBQU9DLEVBQU8sUUFDcEJ0Z0IsVUFBVSxJQUNWSixTQUFTLElBR2RZLEVBQWlCTyxLQUFNLENBQ25CL0IsRUFBVyxJQUFSd0QsRUFDSHZELEVBQVksSUFBVHdELEVBQ0hoQyxRQUFTLGNBQ1RuQixNQUFPLEVBQ1BvQixXQUFZLElBQ1p2QixRQUFTLElBQU00QixLQUFLN0MsTUFBTThFLE1BQU0sZUFFeEMsRUNqR0csTUFBTXVkLFVBQXNCLFVBQy9CLFdBQUEzZixHQUNJQyxNQUFNLGdCQUNWLENBRUEsSUFBQWlSLENBQUtDLEdBQ0RoUixLQUFLNFYsT0FBUzVFLEVBQUs0RSxPQUNuQjVWLEtBQUtrUixRQUFVRixFQUFLRSxRQUNwQmxSLEtBQUttUixRQUFVSCxFQUFLRyxPQUN4QixDQUNBLE9BQUFwUixHQUVJQyxLQUFLQyxLQUFLQyxNQUFNLFFBQVMsZ0NBQ3pCRixLQUFLQyxLQUFLQyxNQUFNLG9CQUFxQixtREFDckNGLEtBQUtDLEtBQUtDLE1BQU0sc0JBQXVCLHNDQUd2Q0YsS0FBS0MsS0FBS0UsTUFBTSxjQUFlLGlDQUcvQkgsS0FBS0MsS0FBSzZSLFlBQ04sYUFDQSwyREFDQSxDQUFDQyxXQUFXLElBQUlDLFlBQWEsTUFDakNoUyxLQUFLQyxLQUFLNlIsWUFDTixhQUNBLDJEQUNBLENBQUNDLFdBQVcsSUFBSUMsWUFBYSxNQUNqQ2hTLEtBQUtDLEtBQUs2UixZQUNOLGFBQ0EsMkRBQ0EsQ0FBQ0MsV0FBVyxJQUFJQyxZQUFhLEtBQ3JDLENBRUEsTUFBQTVSLEdBQ0lKLEtBQUs2VCxvQkFDTCxNQUFNLE1BQUVwUyxFQUFLLE9BQUVDLEdBQVcxQixLQUFLekIsTUFDekI2QyxFQUFRcEIsS0FBS3JDLEtBQUtDLFFBQVF5RCxpQkFFMUJvVyxFQUFTelgsS0FBS2tSLFFBQVF1TyxLQUN0QkMsRUFBVzFmLEtBQUtrUixRQUFRd0csVUFDeEJDLEVBQVMzWCxLQUFLbVIsUUFBUXNPLEtBQ3RCRSxFQUFXM2YsS0FBS21SLFFBQVF1RyxVQUc5QjFYLEtBQUtyQixJQUFJdUIsTUFBTSxFQUFHLEVBQUcsU0FBU2pCLFVBQVUsR0FBRzRDLFVBQVUsR0FHckQ3QixLQUFLckIsSUFBSUssS0FBS3lDLEVBQVEsRUFBWSxJQUFUQyxFQUFlLG9CQUFxQixJQUN0RE4sRUFDSEcsU0FBVSxPQUNWQyxNQUFPLGNBQ1J2QyxVQUFVLElBRWIsTUFBTTJnQixFQUF1QixJQUFUbGUsRUFDZG1lLEVBQW1CLEdBQVRuZSxFQUNWb2UsRUFBeUIsSUFBVHBlLEVBQ2hCcWUsR0FBaUJILEVBQWNDLEdBQVcsRUFBYSxJQUFUbmUsRUFHOUNzZSxFQUNjLFlBQWhCaGdCLEtBQUs0VixPQUNDLGdCQUFrQjZCLEVBQ2xCLGdCQUFrQkUsRUFFNUIzWCxLQUFLckIsSUFBSUssS0FBS3lDLEVBQVEsRUFBR21lLEVBQWFJLEVBQVksSUFDM0M1ZSxFQUNIRyxTQUFVLE9BQ1ZDLE1BQU8sY0FDUnZDLFVBQVUsSUFDYixNQUFNZ2hCLEVBQWtDLFlBQWhCamdCLEtBQUs0VixPQUF1QjhKLEVBQVdDLEVBRXpETyxFQUFnQixDQUNsQmpjLFdBQVksQ0FBRWtjLFVBQVcsYUFBY25ZLFFBQVMsaUJBQ2hEbkQsV0FBWSxDQUFFc2IsVUFBVyxhQUFjblksUUFBUyxpQkFDaERsRCxXQUFZLENBQUVxYixVQUFXLGFBQWNuWSxRQUFTLG1CQUc5QyxVQUFFbVksRUFBUyxRQUFFblksR0FBWWtZLEVBQWNELElBQW9CQyxFQUFjamMsV0FHL0VqRSxLQUFLb2dCLGlCQUFtQnBnQixLQUFLckIsSUFBSTBoQixVQUFVNWUsRUFBUSxFQUFHc2UsR0FFdEQsTUFBTU8sRUFBZXRnQixLQUFLckIsSUFBSUMsT0FBTyxFQUFHLEVBQUd1aEIsR0FDckNJLEVBQW1CVixFQUFVRCxFQUErQixFQUFoQkUsRUFDNUNVLEVBQXlCLEdBQVIvZSxFQUNqQmxELEVBR0YsSUFIVTJILEtBQUs4RixJQUNmdVUsRUFBa0JELEVBQWE1ZSxPQUMvQjhlLEVBQWlCRixFQUFhN2UsT0FFbEM2ZSxFQUFhemhCLFNBQVNxSCxLQUFLbUUsSUFBSSxHQUFLOUwsSUFDcEMraEIsRUFBYXZpQixLQUFLaUssR0FDbEJoSSxLQUFLb2dCLGlCQUFpQnpoQixJQUFJMmhCLEdBUTFCdGlCLEVBQWVnQyxLQUFNLENBQ2pCL0IsRUFBR3dELEVBQVEsRUFDWHZELEVBQUcyaEIsRUFDSDFoQixNQUFPLGlCQUNQQyxRQUFTLEtBQ0w0QixLQUFLN0MsTUFBTThFLE1BQU0sZUFFckJ6RCxVQVpvQixJQUNqQjRDLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxXQVVQL0MsY0FBZSxlQUV2QixDQUNBLGlCQUFBb1YsR0FDSTdULEtBQUtpSSxNQUFNN0gsT0FBTyxDQUNkbkYsSUFBSyxnQkFDTG1jLE9BQVFwWCxLQUFLaUksTUFBTW9QLHFCQUFxQixhQUFjLENBQUVwVixNQUFPLEVBQUdxVixJQUFLLElBQ3ZFQyxVQUFXLEVBQ1h2TixRQUFTLElBR2JoSyxLQUFLaUksTUFBTTdILE9BQU8sQ0FDZG5GLElBQUssZ0JBQ0xtYyxPQUFRcFgsS0FBS2lJLE1BQU1vUCxxQkFBcUIsYUFBYyxDQUFFcFYsTUFBTyxFQUFHcVYsSUFBSyxJQUN2RUMsVUFBVyxFQUNYdk4sUUFBUyxJQUdiaEssS0FBS2lJLE1BQU03SCxPQUFPLENBQ2RuRixJQUFLLGdCQUNMbWMsT0FBUXBYLEtBQUtpSSxNQUFNb1AscUJBQXFCLGFBQWMsQ0FBRXBWLE1BQU8sRUFBR3FWLElBQUssSUFDdkVDLFVBQVcsRUFDWHZOLFFBQVMsR0FFakIsRUNuSUcsTUFBTXlXLFVBQXVCLFVBQ2hDLFdBQUE1Z0IsR0FDSUMsTUFBTSxpQkFDVixDQUVBLE9BQUFDLEdBRUlDLEtBQUtDLEtBQUtDLE1BQU0sb0JBQXFCLDJDQUNyQ0YsS0FBS0MsS0FBS0MsTUFBTSxzQkFBdUIsK0NBQ3ZDRixLQUFLQyxLQUFLQyxNQUFNLGNBQWUsdUNBRy9CRixLQUFLQyxLQUFLQyxNQUFNLFFBQVMsZ0NBR3pCRixLQUFLQyxLQUFLRSxNQUFNLGNBQWUsZ0NBQ25DLENBRUEsTUFBQUMsR0FDSSxNQUFNLE1BQUVxQixFQUFLLE9BQUVDLEdBQVcxQixLQUFLekIsTUFFekI2QyxFQUFRcEIsS0FBS3JDLEtBQUtDLFNBQVN5RCxrQkFBb0IsQ0FDakRDLFdBQVksUUFDWkMsU0FBVSxPQUNWQyxNQUFPLFdBSVh0RSxFQUFrQjhDLE1BR2xCQSxLQUFLckIsSUFBSXVCLE1BQU0sRUFBRyxFQUFHLFNBQ2hCakIsVUFBVSxHQUNWNEMsVUFBVSxHQUNWQyxlQUFlTCxFQUFPQyxHQUczQjFCLEtBQUtyQixJQUNBSyxLQUFLeUMsRUFBUSxFQUFZLElBQVRDLEVBQWUsZ0JBQWlCLElBQzFDTixFQUNIRyxTQUFVLE9BQ1ZDLE1BQU8sY0FFVnZDLFVBQVUsSUFHZixNQUFNNGdCLEVBQW1CLEdBQVRuZSxFQUNWZ2YsRUFBVXhhLEtBQUs4RixJQUFJLElBQWEsR0FBUnZLLEdBQ3hCa2YsRUFBU2xmLEVBQVEsRUFBSWlmLEVBQVUsRUFFL0IxZSxFQUFrQixJQUNqQlosRUFDSEcsU0FBVSxPQUNWQyxNQUFPLFdBR0xvZixFQUFhQyxJQUNmN2dCLEtBQUs4Z0IsU0FBU2hKLElBQUksT0FBUStJLEdBQzFCbmdCLFFBQVErTCxJQUFJLHFCQUFzQm9VLEdBQ2xDN2dCLEtBQUs3QyxNQUFNOEUsTUFBTSxxQkFBc0IsQ0FBRTRlLEtBQU1BLEtBSW5EN2lCLEVBQWVnQyxLQUFNLENBQ2pCL0IsRUFBRzBpQixFQUNIemlCLEVBQUcyaEIsRUFDSDFoQixNQUFPLFFBQ1BDLFFBQVMsSUFBTXdpQixFQUFVLFNBQ3pCcmlCLE1BQU8sRUFDUEYsY0FBZSxzQkFDZkMsYUFBYyxvQkFDZEUsVUFBV3dELEVBQ1h2RCxjQUFlLGdCQUluQixNQUFNc2lCLEVBQVkvaUIsRUFBZWdDLEtBQU0sQ0FDbkMvQixFQUFHMGlCLEVBQVNELEVBQ1p4aUIsRUFBRzJoQixFQUNIMWhCLE1BQU8sTUFDUEMsUUFBUyxLQUNURyxNQUFPLEVBQ1BGLGNBQWUsc0JBQ2ZDLGFBQWMsb0JBQ2RFLFVBQVd3RCxFQUNYdkQsY0FBZSxnQkFHbkJzaUIsRUFBVXJpQixPQUFPOGQscUJBQ2pCdUUsRUFBVXJpQixPQUFPK0ssU0FBUyxJQUMxQnNYLEVBQVUvaEIsS0FBS3lLLFNBQVMsSUFDeEJzWCxFQUFVL2hCLEtBQUtnaUIsU0FBUyxVQUd4QmhoQixLQUFLckIsSUFBSUssS0FDTCtoQixFQUFVcmlCLE9BQU9ULEVBQ2pCOGlCLEVBQVVyaUIsT0FBT1IsRUFBSWdJLEtBQUt5TSxNQUF1QyxJQUFqQ29PLEVBQVVyaUIsT0FBT3FKLGVBQXdCLEdBQ3pFLGdCQUNBLElBQUsvRixFQUFpQlYsV0FBWSxRQUFTQyxTQUFVLE9BQVFDLE1BQU8sWUFDdEV2QyxVQUFVLElBR1pRLEVBQWlCTyxLQUFNLENBQ25CL0IsRUFBVyxJQUFSd0QsRUFDSHZELEVBQVksSUFBVHdELEVBQ0hoQyxRQUFTLGNBQ1RuQixNQUFPLEVBQ1BvQixXQUFZLElBQ1psQixjQUFlLGNBQ2ZMLFFBQVMsSUFBTTRCLEtBQUs3QyxNQUFNOEUsTUFBTSxlQUV4QyxFQ2hIRyxNQUFNZ2YsVUFBb0IsVUFDN0IsV0FBQXBoQixHQUNJQyxNQUFNLGNBQ1YsQ0FFQSxPQUFBQyxHQUVJQyxLQUFLQyxLQUFLQyxNQUFNLGNBQWUsZ0NBQy9CRixLQUFLQyxLQUFLQyxNQUFNLFFBQVMsZ0NBQ3pCRixLQUFLQyxLQUFLQyxNQUFNLG9CQUFxQixtREFDckNGLEtBQUtDLEtBQUtDLE1BQU0sc0JBQXVCLHNDQUd2Q0YsS0FBS0MsS0FBS0UsTUFBTSxjQUFlLGdDQUNuQyxDQUVBLE1BQUFDLEdBQ0ksTUFBTWdCLEVBQVFwQixLQUFLckMsS0FBS0MsUUFBUXlELGtCQUMxQixNQUFFSSxFQUFLLE9BQUVDLEdBQVcxQixLQUFLekIsTUFDekJvRCxFQUFVRixFQUFRLEVBRXhCekIsS0FBS3JCLElBQUkyVixVQUFVLEVBQUcsRUFBRzdTLEVBQU9DLEVBQVEsRUFBVSxLQUM3Q3pDLFVBQVUsR0FDVjRDLFVBQVUsR0FHZjdCLEtBQUtyQixJQUFJSyxLQUFLMkMsRUFBa0IsSUFBVEQsRUFBZSxRQUFTLElBQ3hDTixFQUNIRyxTQUFVLE9BQ1ZDLE1BQU8sWUFDUnZDLFVBQVUsSUFFYixNQUFNK0MsRUFBa0IsSUFDakJaLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxXQUdMMGYsRUFBd0IsSUFBVHhmLEVBQ2ZTLEVBQXlCLElBQVRULEVBR3RCMUQsRUFBZWdDLEtBQU0sQ0FDakIvQixFQUFHMEQsRUFDSHpELEVBQUdnakIsRUFDSC9pQixNQUFPLFlBQ1BLLFVBQVd3RCxFQUNYekQsTUFBTyxFQUNQSCxRQUFTLEtBQ0w0QixLQUFLN0MsTUFBTXVNLE9BQ1gxSixLQUFLN0MsTUFBTStELE9BQU8saUJBSzFCbEQsRUFBZWdDLEtBQU0sQ0FDakIvQixFQUFHMEQsRUFDSHpELEVBQUdnakIsRUFBZS9lLEVBQ2xCaEUsTUFBTyxXQUNQSyxVQUFXd0QsRUFDWHpELE1BQU8sRUFDUEgsUUFBUyxLQUNMNEIsS0FBSzdDLE1BQU04RSxNQUFNLGlCQUFrQixDQUFFQyxZQUFhLG1CQUsxRGxFLEVBQWVnQyxLQUFNLENBQ2pCL0IsRUFBRzBELEVBQ0h6RCxFQUFHZ2pCLEVBQStCLEVBQWhCL2UsRUFDbEJoRSxNQUFPLGlCQUNQSyxVQUFXd0QsRUFDWHpELE1BQU8sRUFDUEgsUUFBUyxLQUNMLE1BQU00UixFQUFZaFEsS0FBSzdDLE1BQU03QixJQUFJLGNBQzdCMFUsSUFDQUEsRUFBVXBQLE1BQU00VSxTQUFTbUoscUJBQ3pCM08sRUFBVXBQLE1BQU00VSxTQUFTMkwsaUJBRzdCbmhCLEtBQUs3QyxNQUFNdU0sS0FBSyxjQUNoQjFKLEtBQUs3QyxNQUFNOEUsTUFBTSxnQkFHN0IsRUNuRkcsTUFBTW1mLFVBQTJCLFVBQ3BDLFdBQUF2aEIsR0FDSUMsTUFBTSxzQkFFTkUsS0FBS3lLLFFBQVUsR0FDZnpLLEtBQUtxaEIsWUFBYyxFQUNuQnJoQixLQUFLc2hCLGFBQWUsR0FDcEJ0aEIsS0FBS3VoQixlQUFpQixHQUN0QnZoQixLQUFLd2hCLFNBQVcsSUFDcEIsQ0FFQSxJQUFBelEsQ0FBS0MsR0FDRGhSLEtBQUs2Z0IsS0FBTzdnQixLQUFLOGdCLFNBQVN4bEIsSUFBSSxRQUM5Qm9GLFFBQVErTCxJQUFJLGlCQUFrQnpNLEtBQUs2Z0IsTUFDbkM3Z0IsS0FBS3loQixPQUFTemhCLEtBQUs4Z0IsU0FBU3hsQixJQUFJLFVBQ2hDb0YsUUFBUStMLElBQUksUUFBU3pNLEtBQUt5aEIsT0FDOUIsQ0FFQSxPQUFBMWhCLEdBRUlDLEtBQUtDLEtBQUtDLE1BQU0sb0JBQXFCLDJDQUNyQ0YsS0FBS0MsS0FBS0MsTUFBTSxzQkFBdUIsK0NBQ3ZDRixLQUFLQyxLQUFLQyxNQUFNLGNBQWUsZ0NBQy9CRixLQUFLQyxLQUFLQyxNQUFNLGNBQWUsbURBQy9CRixLQUFLQyxLQUFLQyxNQUFNLDBCQUEyQixvQ0FHM0NGLEtBQUtDLEtBQUtDLE1BQU0sUUFBUyxnQ0FDekJGLEtBQUtDLEtBQUtDLE1BQU0sZUFBZ0IsNERBR2hDRixLQUFLQyxLQUFLQyxNQUFNLGFBQWMsc0RBQzlCRixLQUFLQyxLQUFLQyxNQUFNLGFBQWMsc0RBQzlCRixLQUFLQyxLQUFLQyxNQUFNLGFBQWMscURBRzlCRixLQUFLQyxLQUFLRSxNQUFNLGNBQWUsZ0NBQ25DLENBRUEsTUFBQUMsR0FFSUosS0FBS1ksTUFBTTRVLFNBQVMyTCxlQUFjLEdBQ2xDbmhCLEtBQUtZLE1BQU00VSxTQUFTbUoscUJBRXBCLE1BQU0sTUFBRWxkLEVBQUssT0FBRUMsR0FBVzFCLEtBQUt6QixNQUV6QjZDLEVBQVFwQixLQUFLckMsS0FBS0MsU0FBU3lELGtCQUFvQixDQUNqREMsV0FBWSxRQUNaQyxTQUFVLE9BQ1ZDLE1BQU8sV0FJWHRFLEVBQWtCOEMsTUFHbEJBLEtBQUtyQixJQUFJdUIsTUFBTSxFQUFHLEVBQUcsU0FDaEJqQixVQUFVLEdBQ1Y0QyxVQUFVLEdBQ1ZDLGVBQWVMLEVBQU9DLEdBRzNCMUIsS0FBS3JCLElBQUlLLEtBQUt5QyxFQUFRLEVBQUcsR0FBSSx1QkFBd0IsSUFDOUNMLEVBQ0hHLFNBQVUsT0FDVkMsTUFBTyxjQUNSdkMsVUFBVSxJQUdLLFVBQWRlLEtBQUs2Z0IsTUFDTDdnQixLQUFLMGhCLGNBQWNqZ0IsRUFBT0MsRUFBUU4sR0FFcEIsV0FBZHBCLEtBQUs2Z0IsTUFDTDdnQixLQUFLMmhCLGVBQWVsZ0IsRUFBT0MsRUFBUU4sR0FJdkMzQixFQUFpQk8sS0FBTSxDQUNuQi9CLEVBQVcsSUFBUndELEVBQ0h2RCxFQUFZLElBQVR3RCxFQUNIaEMsUUFBUyxjQUNUbkIsTUFBTyxFQUNQb0IsV0FBWSxJQUNabEIsY0FBZSxjQUNmTCxRQUFTLElBQU00QixLQUFLN0MsTUFBTThFLE1BQU0sb0JBSXBDakMsS0FBS2lQLE9BQU9wTyxLQUFLLFdBQWM0ZCxPQUFPQyxTQUFVLEtBQzVDMWUsS0FBS3NoQixhQUFhblYsUUFBUzZSLEdBQVFBLEdBQUt4UixXQUN4Q3hNLEtBQUtzaEIsYUFBZSxHQUNwQnRoQixLQUFLdWhCLGVBQWlCLEdBQ3RCdmhCLEtBQUtZLE1BQU00VSxTQUFTK0csU0FBVSxHQUV0QyxDQUVBLGFBQUFtRixDQUFjamdCLEVBQU9DLEVBQVFOLEdBRXpCcEIsS0FBS3lLLFFBQVUsQ0FDWCxDQUFFZ1YsS0FBTSxHQUFJL0gsVUFBVyxLQUFNbFcsTUFBTyxNQUFVb2dCLFNBQVUsS0FBTUMsU0FBVSxLQUFNQyxNQUFPLE1BQ3JGLENBQUVyQyxLQUFNLEdBQUkvSCxVQUFXLEtBQU1sVyxNQUFPLFNBQVVvZ0IsU0FBVSxLQUFNQyxTQUFVLEtBQU1DLE1BQU8sT0FJekY5aEIsS0FBS3doQixTQUFXeGhCLEtBQUtyQixJQUFJSyxLQUFLeUMsRUFBUSxFQUFHLEdBQUksbUJBQW9CLElBQzFETCxFQUNIRSxXQUFZLFFBQ1pDLFNBQVUsT0FDVkMsTUFBTyxTQUNSdkMsVUFBVSxJQUtiZSxLQUFLK2hCLGdCQUhvQixJQUl6Qi9oQixLQUFLZ2lCLDBCQUEwQixFQUpOLElBS3pCaGlCLEtBQUtpaUIsaUJBR0xqa0IsRUFBZWdDLEtBQU0sQ0FDakIvQixFQUFHd0QsRUFBUSxFQUNYdkQsRUFBRyxJQUNIQyxNQUFPLFlBQ1BDLFFBQVMsSUFBTTRCLEtBQUtraUIsYUFDcEIzakIsTUFBTyxJQUNQRixjQUFlLGNBQ2ZDLGFBQWMsMEJBQ2RFLFVBQVcsSUFBSzRDLEVBQU9HLFNBQVUsT0FBUUMsTUFBTyxRQUNoRC9DLGNBQWUsZUFFdkIsQ0FFQSxjQUFBa2pCLENBQWVsZ0IsRUFBT0MsRUFBUU4sR0FFMUJwQixLQUFLeUssUUFBVSxDQUNYLENBQUVnVixLQUFNemYsS0FBSzhnQixTQUFTeGxCLElBQUksYUFBZSxXQUFZb2MsVUFBVyxLQUFNbFcsTUFBTyxNQUFVb2dCLFNBQVUsS0FBTUMsU0FBVSxLQUFNQyxNQUFPLE9BS2xJOWhCLEtBQUtyQixJQUFJSyxLQUFLeUMsRUFBUSxFQUFHLElBQXdCLEdBQUd6QixLQUFLeUssUUFBUSxHQUFHZ1YsT0FBUSxJQUNyRXJlLEVBQU9HLFNBQVUsT0FBUUMsTUFBTyxPQUFRMmdCLFVBQVcsU0FDdkRsakIsVUFBVSxJQUdiZSxLQUFLd2hCLFNBQVd4aEIsS0FBS3JCLElBQUlLLEtBQUt5QyxFQUFRLEVBQUcsSUFBSyxnQ0FBaUMsSUFDeEVMLEVBQU9HLFNBQVUsT0FBUUMsTUFBTyxTQUNwQ3ZDLFVBQVUsSUFHYmUsS0FBS29pQixxQkFab0IsSUFhekJwaUIsS0FBS2dpQiwwQkFBMEIsSUFiTixJQWdCekJoa0IsRUFBZWdDLEtBQU0sQ0FDakIvQixFQUFHd0QsRUFBUSxFQUNYdkQsRUFBRyxJQUNIQyxNQUFPLFlBQ1BDLFFBQVMsSUFBTTRCLEtBQUtraUIsYUFDcEIzakIsTUFBTyxJQUNQRixjQUFlLGNBQ2ZDLGFBQWMsMEJBQ2RFLFVBQVcsSUFBSzRDLEVBQU9HLFNBQVUsT0FBUUMsTUFBTyxRQUNoRC9DLGNBQWUsZUFFdkIsQ0FHQSxlQUFBc2pCLENBQWdCamEsRUFBVSxHQUN0QixNQUFNLE1BQUVyRyxFQUFLLE9BQUVDLEdBQVcxQixLQUFLekIsTUFDekI2QyxFQUFRcEIsS0FBS3JDLEtBQUtDLFFBQVF5RCxpQkFFMUJnaEIsRUFBYSxDQUFTLElBQVI1Z0IsRUFBc0IsSUFBUkEsR0FFbEN6QixLQUFLeUssUUFBUTBCLFFBQVEsQ0FBQ25CLEVBQVFzWCxLQUMxQixNQUFNcmtCLEVBQUlva0IsRUFBV0MsR0FHckJ0aUIsS0FBS3JCLElBQUlLLEtBQUtmLEVBQUcsSUFBTTZKLEVBQVMsVUFBVyxJQUFLMUcsRUFBT0csU0FBVSxPQUFRQyxNQUFPLFNBQzNFdkMsVUFBVSxJQUdmLE1BQU0rZSxFQUFNaGUsS0FBS3JCLElBQUlxZixJQUFJL2YsRUFBRyxJQUFNNkosR0FBU21XLGVBQWUsdVBBTXBDN2MsRUFBTUUseWdCQVl0QmloQixFQUEyQ3ZFLEVBQUl3RSxLQUFLQyxjQUFjLFNBR3hFRixFQUFRRyxpQkFBaUIsUUFBVUMsSUFDL0IzaUIsS0FBS1ksTUFBTTRVLFNBQVMrRyxTQUFVLEVBQzlCb0csRUFBRUMsb0JBRU5MLEVBQVFHLGlCQUFpQixPQUFTQyxJQUM5QjNpQixLQUFLWSxNQUFNNFUsU0FBUytHLFNBQVUsRUFDOUJvRyxFQUFFQyxvQkFFTkwsRUFBUUcsaUJBQWlCLFVBQVlDLEdBQU1BLEVBQUVDLG1CQUc3Q0wsRUFBUUcsaUJBQWlCLFFBQVMsS0FDOUJILEVBQVE1UyxNQUFRNFMsRUFBUTVTLE1BQU1rVCxRQUFRLG1CQUFvQixJQUMxRDdpQixLQUFLaWlCLG1CQUdUamlCLEtBQUtzaEIsYUFBYWdCLEdBQU90RSxFQUN6QmhlLEtBQUt1aEIsZUFBZWUsR0FBT0MsRUFHM0J2WCxFQUFPNFcsU0FBVzVoQixLQUFLckIsSUFBSXVCLE1BQU11QixHQUFTLElBQU8sR0FBTTZnQixHQUFlLEdBQVQ1Z0IsRUFBZW9HLEVBQVMsY0FDaEZqSixTQUFTLEtBQ1RJLFVBQVUsSUFDVndFLFlBQVcsR0FFaEJ1SCxFQUFPNlcsU0FBVzdoQixLQUFLckIsSUFBSXVCLE1BQU04SyxFQUFPNFcsU0FBUzNqQixFQUFHK00sRUFBTzRXLFNBQVMxakIsRUFBRyxnQkFDbEVXLFNBQVMsS0FDVEksVUFBVSxJQUNWd0UsWUFBVyxHQUNoQnVILEVBQU82VyxTQUFTbmlCLFFBQVFvakIsVUFBVSxhQUFnQkMsV0FBV0MsU0FHN0RoWSxFQUFPOFcsTUFBUTloQixLQUFLckIsSUFBSTJWLFVBQVUsRUFBRyxFQUFHLEdBQUksS0FDdkM0SyxlQUFlLEVBQUdsVSxFQUFPeEosT0FDekJpQyxZQUFXLEtBSXBCekQsS0FBS3FoQixZQUFjLEVBQ25CcmhCLEtBQUtpaUIsZ0JBQ1QsQ0FFQSxvQkFBQUcsQ0FBcUJ0YSxFQUFVLEdBQzNCLE1BQU0sTUFBRXJHLEVBQUssT0FBRUMsR0FBVzFCLEtBQUt6QixNQUV6QnlNLEVBQVNoTCxLQUFLeUssUUFBUSxHQUN0QjlJLEVBQVVGLEVBQVEsRUFHeEJ1SixFQUFPNFcsU0FBVzVoQixLQUFLckIsSUFBSXVCLE1BQU15QixFQUFVLElBQWMsSUFBVEQsRUFBZ0JvRyxFQUFTLGNBQ3BFakosU0FBUyxLQUNUSSxVQUFVLElBQ1Z3RSxZQUFXLEdBRWhCdUgsRUFBTzZXLFNBQVc3aEIsS0FBS3JCLElBQUl1QixNQUFNOEssRUFBTzRXLFNBQVMzakIsRUFBRytNLEVBQU80VyxTQUFTMWpCLEVBQUcsZ0JBQ2xFVyxTQUFTLEtBQ1RJLFVBQVUsSUFDVndFLFlBQVcsR0FDaEJ1SCxFQUFPNlcsU0FBU25pQixRQUFRb2pCLFVBQVUsYUFBZ0JDLFdBQVdDLFNBRzdEaFksRUFBTzhXLE1BQVE5aEIsS0FBS3JCLElBQUkyVixVQUFVLEVBQUcsRUFBRyxHQUFJLEtBQ3ZDNEssZUFBZSxFQUFHbFUsRUFBT3hKLE9BQ3pCaUMsWUFBVyxFQUNwQixDQUdBLHlCQUFBdWUsQ0FBMEIvakIsRUFBR0MsR0FDekIsTUFBTSxNQUFFdUQsRUFBSyxPQUFFQyxHQUFXMUIsS0FBS3pCLE1BSXpCb2lCLEVBQVNsZixFQUFRLEVBQUlpZixHQUNyQnZCLEVBQWtCLEdBQVR6ZCxFQUVUdWhCLEVBQVksQ0FDZCxDQUFFaGxCLEVBQUcwaUIsRUFBUzFpQixFQUFHQyxFQUFHaWhCLEVBQVNqaEIsR0FDN0IsQ0FBRUQsRUFBRzBpQixFQUFTMWlCLEVBTkYsSUFNZUMsRUFBR2loQixFQUFTamhCLEdBQ3ZDLENBQUVELEVBQUcwaUIsRUFBUzFpQixFQUFJeWlCLEdBQWF4aUIsRUFBR2loQixFQUFTamhCLEVBQUl3aUIsS0FSaEMsQ0FBQyxhQUFjLGFBQWMsY0FXckN2VSxRQUFRLENBQUNpVCxFQUFRakksS0FDeEIsTUFBTStMLEVBQU9sakIsS0FBS3JCLElBQUl1QixNQUFNK2lCLEVBQVU5TCxHQUFHbFosRUFBR2dsQixFQUFVOUwsR0FBR2paLEVBQUdraEIsR0FDdkR0Z0IsZUFBZSxDQUFFQyxlQUFlLElBQ2hDRixTQUFTLEtBQ1RzRyxRQUFRLGdCQUFpQmlhLEdBRTlCOEQsRUFBSzdqQixHQUFHLGNBQWUsS0FDbkJ2QixFQUFVa0MsS0FBTSxlQUNoQkEsS0FBS21qQixjQUFjL0QsRUFBUThELE1BR3ZDLENBR0EsYUFBQUMsQ0FBY0MsRUFBZUYsR0FDekIsR0FBa0IsV0FBZGxqQixLQUFLNmdCLEtBQW1CLENBQ3hCLE1BQU03VixFQUFTaEwsS0FBS3lLLFFBQVEsR0FjNUIsT0FYSU8sRUFBTzBNLFlBQWMwTCxHQUNyQnBZLEVBQU8wTSxVQUFZLEtBQ2YxTSxFQUFPNFcsVUFBVTVXLEVBQU80VyxTQUFTbmUsWUFBVyxHQUM1Q3VILEVBQU84VyxPQUFPOVcsRUFBTzhXLE1BQU1yZSxZQUFXLEtBRzFDdUgsRUFBTzBNLFVBQVkwTCxFQUNmcFksRUFBTzRXLFVBQVU1VyxFQUFPNFcsU0FBU3ppQixXQUFXaWtCLEdBQWUzZixZQUFXLEdBQ3RFdUgsRUFBTzhXLE9BQU85VyxFQUFPOFcsTUFBTW5hLFlBQVl1YixFQUFLamxCLEVBQUdpbEIsRUFBS2hsQixHQUFHdUYsWUFBVyxTQUUxRXpELEtBQUtpaUIsZ0JBRVQsQ0FFQSxNQUFNb0IsRUFBYXJqQixLQUFLeUssUUFBUTZZLFVBQVV4WSxHQUFLQSxFQUFFNE0sWUFBYzBMLEdBRy9ELElBQW9CLElBQWhCQyxFQUFtQixDQUNuQixNQUFNRSxFQUFRdmpCLEtBQUt5SyxRQUFRNFksR0FVM0IsT0FSQUUsRUFBTTdMLFVBQVksS0FFZDZMLEVBQU0zQixVQUFVMkIsRUFBTTNCLFNBQVNuZSxZQUFXLEdBQzFDOGYsRUFBTXpCLE9BQU95QixFQUFNekIsTUFBTXJlLFlBQVcsR0FHeEN6RCxLQUFLcWhCLFlBQWNnQyxPQUNuQnJqQixLQUFLaWlCLGdCQUVULENBR0EsTUFBTXJLLEVBQUs1WCxLQUFLeUssUUFBUSxHQUNsQm9OLEVBQUs3WCxLQUFLeUssUUFBUSxHQUV4QixJQUFJK1ksRUFBY3hqQixLQUFLcWhCLFlBSXZCLEdBQUltQyxRQUNBLElBQUs1TCxFQUFHRixXQUFhRyxFQUFHSCxVQUFXOEwsRUFBYyxPQUM1QyxJQUFLM0wsRUFBR0gsV0FBYUUsRUFBR0YsVUFBVzhMLEVBQWMsTUFDakQsSUFBSzVMLEVBQUdGLFdBQWNHLEVBQUdILFVBRzFCLE9BSHFDOEwsRUFBYyxDQUl2RCxDQUdKLE1BQU1wRixFQUFTcGUsS0FBS3lLLFFBQVErWSxHQUN0QkMsRUFBUXpqQixLQUFLeUssUUFBUSxFQUFJK1ksR0FHM0JDLEVBQU0vTCxZQUFjMEwsSUFHeEJoRixFQUFPMUcsVUFBWTBMLEVBRWZoRixFQUFPd0QsVUFBVXhELEVBQU93RCxTQUFTemlCLFdBQVdpa0IsR0FBZTNmLFlBQVcsR0FDdEUyYSxFQUFPMEQsT0FBTzFELEVBQU8wRCxNQUFNbmEsWUFBWXViLEVBQUtqbEIsRUFBR2lsQixFQUFLaGxCLEdBQUd1RixZQUFXLEdBR2pFZ2dCLEVBQU0vTCxVQUNOMVgsS0FBS3FoQixZQUFjLEtBREZyaEIsS0FBS3FoQixZQUFjLEVBQUltQyxFQUc3Q3hqQixLQUFLaWlCLGlCQUNULENBR0EsVUFBQUMsR0FDSSxHQUFrQixVQUFkbGlCLEtBQUs2Z0IsS0FBa0IsQ0FDdEIsTUFBTTZDLEVBQVExakIsS0FBS3VoQixpQkFBaUIsSUFBSTVSLE9BQU9nVSxRQUFVLEdBQ3BEQyxJQUFjNWpCLEtBQUt5SyxVQUFVLElBQUlpTixVQUVqQ21NLEVBQVE3akIsS0FBS3VoQixpQkFBaUIsSUFBSTVSLE9BQU9nVSxRQUFVLEdBQ25ERyxJQUFjOWpCLEtBQUt5SyxVQUFVLElBQUlpTixVQUl2QyxLQUZlZ00sRUFBTWxiLE9BQVMsR0FBT3FiLEVBQU1yYixPQUFTLEdBQU1vYixHQUFhRSxHQVNuRSxPQUxBOWpCLEtBQUtpaUIsc0JBR0xqaUIsS0FBSytqQixjQUFjLFVBQVcsS0FNbEMvakIsS0FBS3lLLFFBQVEsR0FBR2dWLEtBQU9pRSxFQUN2QjFqQixLQUFLeUssUUFBUSxHQUFHZ1YsS0FBT29FLEVBR3ZCN2pCLEtBQUs3QyxNQUFNOEUsTUFBTSx1QkFBd0IsQ0FDckM0ZSxLQUFNN2dCLEtBQUs2Z0IsS0FDWDNQLFFBQVNsUixLQUFLeUssUUFBUSxHQUN0QjBHLFFBQVNuUixLQUFLeUssUUFBUSxJQUU5QixDQUVBLEdBQWtCLFdBQWR6SyxLQUFLNmdCLEtBQW1CLENBR3hCLElBRm9CN2dCLEtBQUt5SyxVQUFVLElBQUlpTixVQU1uQyxPQUZBMVgsS0FBSytqQixjQUFjLFVBQVcsVUFDOUIvakIsS0FBS3doQixTQUFTbFgsUUFBUSxxQ0FJMUJ0SyxLQUFLOGdCLFNBQVNoSixJQUFJLGNBQWU5WCxLQUFLeUssUUFBUSxHQUFHaU4sV0FFN0MxWCxLQUFLeWhCLE9BRUx6aEIsS0FBSzdDLE1BQU04RSxNQUFNLHVCQUF3QixDQUNyQzRlLEtBQU03Z0IsS0FBSzZnQixLQUNYM1AsUUFBU2xSLEtBQUt5SyxRQUFRLEdBQ3RCZ1gsUUFBUSxJQUlaemhCLEtBQUs3QyxNQUFNOEUsTUFBTSxjQUFlLENBQzVCNGUsS0FBTTdnQixLQUFLNmdCLEtBQ1gxUCxRQUFTblIsS0FBS3lLLFFBQVEsR0FDdEJnWCxRQUFRLEdBR3BCLENBQ0osQ0FHQSxhQUFBc0MsQ0FBY3ZpQixFQUFRLFVBQVd3aUIsRUFBSyxLQUNsQyxJQUFLaGtCLEtBQUt3aEIsU0FBVSxPQUVwQixNQUFNeUMsRUFBV2prQixLQUFLd2hCLFNBQVNwZ0IsTUFBTUksT0FBUyxVQUM5Q3hCLEtBQUt3aEIsU0FBUzBDLFNBQVMxaUIsR0FFdkJ4QixLQUFLeUcsS0FBSzhGLFlBQVl5WCxFQUFJLEtBRXRCaGtCLEtBQUt3aEIsU0FBUzBDLFNBQVNELEdBQ3ZCamtCLEtBQUtpaUIsa0JBRWIsQ0FHQSxjQUFBQSxHQUNJLEdBQUtqaUIsS0FBS3doQixTQUFWLENBRUEsR0FBa0IsVUFBZHhoQixLQUFLNmdCLEtBQWtCLENBQ3ZCLE1BQU02QyxFQUFRMWpCLEtBQUt1aEIsaUJBQWlCLElBQUk1UixPQUFPZ1UsUUFBVSxHQUNuREUsRUFBUTdqQixLQUFLdWhCLGlCQUFpQixJQUFJNVIsT0FBT2dVLFFBQVUsR0FFbkRDLElBQWM1akIsS0FBS3lLLFVBQVUsSUFBSWlOLFVBQ2pDb00sSUFBYzlqQixLQUFLeUssVUFBVSxJQUFJaU4sVUFFakN5TSxFQUFZVCxFQUFNbGIsT0FBUyxFQUMzQjRiLEVBQVlQLEVBQU1yYixPQUFTLEVBRTNCNmIsRUFBV1QsR0FBYUUsRUFDeEJRLEVBQVdILEdBQWFDLEVBRzlCLEdBQUlDLEdBQVlDLEVBRVosWUFEQXRrQixLQUFLd2hCLFNBQVNsWCxRQUFRLDBCQUsxQixHQUFJK1osSUFBYUMsRUFJYixZQUhLSCxHQUFjQyxFQUNURCxFQUNMbmtCLEtBQUt3aEIsU0FBU2xYLFFBQVEsZ0NBRE50SyxLQUFLd2hCLFNBQVNsWCxRQUFRLGdDQURidEssS0FBS3doQixTQUFTbFgsUUFBUSxnREFPeEQsR0FBSWdhLElBQWFELEVBSWIsWUFIS1QsR0FBY0UsRUFDVEYsRUFDTDVqQixLQUFLd2hCLFNBQVNsWCxRQUFRLG1DQUROdEssS0FBS3doQixTQUFTbFgsUUFBUSxtQ0FEYnRLLEtBQUt3aEIsU0FBU2xYLFFBQVEsbURBT3hELEdBQXlCLE9BQXJCdEssS0FBS3FoQixrQkFBNkNrRCxJQUFyQnZrQixLQUFLcWhCLFlBRWxDLFlBREFyaEIsS0FBS3doQixTQUFTbFgsUUFBUSxpQ0FJMUJ0SyxLQUFLd2hCLFNBQVNsWCxRQUFRLGtCQUFrQnRLLEtBQUtxaEIsWUFBYyxJQUMvRCxDQUVrQixXQUFkcmhCLEtBQUs2Z0IsT0FFZTdnQixLQUFLeUssVUFBVSxJQUFJaU4sVUFLbkMxWCxLQUFLd2hCLFNBQVNsWCxRQUFRLHFDQUZ0QnRLLEtBQUt3aEIsU0FBU2xYLFFBQVEsaUNBbkRKLENBd0Q5QixFQzFmRyxNQUFNa2EsVUFBNkIsVUFDdEMsV0FBQTNrQixHQUNJQyxNQUFNLHdCQUNORSxLQUFLb1IsaUJBQW1CLE1BQ3hCcFIsS0FBSzZnQixLQUFPLE9BQ2hCLENBRUEsT0FBQTlnQixHQUVJQyxLQUFLQyxLQUFLQyxNQUFNLG9CQUFxQixvQ0FDckNGLEtBQUtDLEtBQUtDLE1BQU0sc0JBQXVCLG1EQUN2Q0YsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLHVDQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSxjQUFlLG1EQUMvQkYsS0FBS0MsS0FBS0MsTUFBTSwwQkFBMkIsb0NBRzNDRixLQUFLQyxLQUFLQyxNQUFNLFFBQVMsZ0NBR3pCRixLQUFLQyxLQUFLQyxNQUFNLE1BQU8sOEJBQ3ZCRixLQUFLQyxLQUFLQyxNQUFNLFFBQVMsMkJBQ3pCRixLQUFLQyxLQUFLQyxNQUFNLFNBQVUsNEJBRzFCRixLQUFLQyxLQUFLRSxNQUFNLGNBQWUsaUNBRy9CSCxLQUFLQyxLQUFLQyxNQUFNLFFBQVMsZ0RBQzdCLENBRUEsSUFBQTZRLENBQUtDLEdBQ0RoUixLQUFLa1IsUUFBVUYsRUFBS0UsUUFDcEJsUixLQUFLbVIsUUFBVUgsRUFBS0csUUFDcEJuUixLQUFLNmdCLEtBQU83UCxFQUFLNlAsTUFBUSxRQUN6QjdnQixLQUFLeWhCLE9BQVN6USxFQUFLeVEsU0FBVSxDQUNqQyxDQUVBLE1BQUFyaEIsR0FDSSxNQUFNLE1BQUVxQixFQUFLLE9BQUVDLEdBQVcxQixLQUFLekIsTUFDekI2QyxFQUFRcEIsS0FBS3JDLEtBQUtDLFFBQVF5RCxpQkFHaENuRSxFQUFrQjhDLE1BR2xCQSxLQUFLckIsSUFBSXVCLE1BQU0sRUFBRyxFQUFHLFNBQ2hCakIsVUFBVSxHQUNWNEMsVUFBVSxHQUNWQyxlQUFlTCxFQUFPQyxHQUczQjFCLEtBQUtyQixJQUFJSyxLQUFLeUMsRUFBUSxFQUFHLEdBQUksdUJBQXdCLElBQzlDTCxFQUNIRyxTQUFVLE9BQ1ZDLE1BQU8sY0FDUnZDLFVBQVUsSUFHYmUsS0FBS29SLGlCQUFtQixNQUN4QnBSLEtBQUt5a0IsY0FBZ0J6a0IsS0FBS3JCLElBQUl1QixNQUFNdUIsRUFBUSxFQUFHLElBQUt6QixLQUFLb1Isa0JBQWtCdlMsU0FBUyxJQUdwRixNQUFNNmxCLEVBQWEsQ0FBQyxNQUFPLFFBQVMsVUFFOUIvRCxFQUFTbGYsRUFBUSxFQURQLElBR1ZrakIsRUFBa0IsQ0FBQyxFQUduQkMsRUFBdUJ4RixJQUN6QnBmLEtBQUtvUixpQkFBbUJnTyxFQUN4QnBmLEtBQUt5a0IsY0FBY3RsQixXQUFXaWdCLEdBQVF2Z0IsU0FBUyxJQUcvQzZsQixFQUFXdlksUUFBU2xSLElBQ2hCMHBCLEVBQWdCMXBCLEdBQUtrRSxXQUFXbEUsSUFBUW1rQixFQUFTLG9CQUFzQiwwQkFJL0VzRixFQUFXdlksUUFBUSxDQUFDaVQsRUFBUWpJLEtBQ3hCLE1BQU0wTixFQUFRN2tCLEtBQUtyQixJQUFJdUIsTUFBTXlnQixFQWpCakIsSUFpQjBCeEosRUFBYSxJQUFLLHVCQUNuRHJZLGVBQWUsQ0FBRUMsZUFBZSxJQUNoQ0YsU0FBUyxNQUVkOGxCLEVBQWdCdkYsR0FBVXlGLEVBRzFCLE1BQU1DLEVBQVE5a0IsS0FBS3JCLElBQUlLLEtBQUssRUFBRyxFQUFHb2dCLEVBQVEsSUFBS2hlLEVBQU9HLFNBQVUsT0FBUUMsTUFBTyxTQUMvRSxZQUFldWpCLE1BQU1DLEdBQUdDLE9BQU9ILEVBQU9ELEdBR3RDQSxFQUFNeGxCLEdBQUcsY0FBZSxJQUFNd2xCLEVBQU0xbEIsV0FBVyxzQkFDL0MwbEIsRUFBTXhsQixHQUFHLGFBQWMsS0FDbkJ3bEIsRUFBTTFsQixXQUFXYSxLQUFLb1IsbUJBQXFCZ08sRUFBUyxvQkFBc0IseUJBSTlFeUYsRUFBTXhsQixHQUFHLGNBQWUsSUFBTXZCLEVBQVVrQyxLQUFNLGdCQUM5QzZrQixFQUFNeGxCLEdBQUcsWUFBY0MsSUFDSnVsQixFQUFNdGxCLFlBQVlDLFNBQVNGLEVBQVFyQixFQUFHcUIsRUFBUXBCLElBRTdEMG1CLEVBQW9CeEYsT0FLNUJ3RixFQUFvQjVrQixLQUFLb1Isa0JBR3pCLE1BQ00wUSxFQUFROWhCLEtBQUtyQixJQUFJdUIsTUFBTXVCLEVBQVEsRUFEdEIsSUFDaUMsU0FBU3hDLFVBQVUsSUFDbkU2aUIsRUFBTXBpQixRQUFRb2pCLFVBQVUsYUFBZ0JDLFdBQVdDLFNBS25EbEIsRUFBTWhnQixlQUZtQixJQUNDLEtBSTFCOUQsRUFBZWdDLEtBQU0sQ0FDakIvQixFQUFHd0QsRUFBUSxFQUNYdkQsRUFBRyxJQUNIQyxNQUFPLFlBQ1BDLFFBQVMsS0FDYSxVQUFkNEIsS0FBSzZnQixLQUNMN2dCLEtBQUs3QyxNQUFNOEUsTUFBTSxhQUFjLENBQzNCaVAsUUFBU2xSLEtBQUtrUixRQUNkQyxRQUFTblIsS0FBS21SLFFBQ2RDLGlCQUFrQnBSLEtBQUtvUixpQkFDdkJ5UCxLQUFNN2dCLEtBQUs2Z0IsS0FDWFksT0FBUXpoQixLQUFLeWhCLFNBR2pCemhCLEtBQUs3QyxNQUFNOEUsTUFBTSxjQUFlLENBQzVCaVAsUUFBU2xSLEtBQUtrUixRQUNkQyxRQUFTblIsS0FBS21SLFFBQ2RDLGlCQUFrQnBSLEtBQUtvUixpQkFDdkJ5UCxLQUFNN2dCLEtBQUs2Z0IsS0FDWFksT0FBUXpoQixLQUFLeWhCLFVBSXpCbGpCLE1BQU8sSUFDUEYsY0FBZSxjQUNmQyxhQUFjLDBCQUNkRSxVQUFXLElBQUs0QyxFQUFPRyxTQUFVLE9BQVFDLE1BQU8sUUFDaEQvQyxjQUFlLGdCQUluQmdCLEVBQWlCTyxLQUFNLENBQ25CL0IsRUFBVyxJQUFSd0QsRUFDSHZELEVBQVksSUFBVHdELEVBQ0hoQyxRQUFTLGNBQ1RuQixNQUFPLEVBQ1BvQixXQUFZLElBQ1psQixjQUFlLGNBQ2ZMLFFBQVMsS0FDTDRCLEtBQUs3QyxNQUFNOEUsTUFBTSxxQkFBc0IsQ0FDbkM0ZSxLQUFNN2dCLEtBQUs2Z0IsS0FDWFksT0FBUXpoQixLQUFLeWhCLFdBSTdCLEVDNUpKLFdBRVF5RCxTQUFTQyxPQUFTRCxTQUFTQyxNQUFNbGxCLGFBQzNCbWxCLFFBQVFDLElBQUksQ0FDZEgsU0FBU0MsTUFBTWxsQixLQUFLLG1CQUNwQmlsQixTQUFTQyxNQUFNbGxCLEtBQUssd0JBRWxCaWxCLFNBQVNDLE1BQU1HLE9BR3pCLE1BQU0xbkIsRUFBVSxDQUNaeUQsaUJBQWtCLENBQUVDLFdBQVksV0FBWUMsU0FBVSxPQUFRQyxNQUFPLFdBQ3JFOUQsTUFBTyxNQUdMcUgsRUFBUyxDQUNYd0QsS0FBTSxTQUNOOUcsTUFBTyxJQUNQQyxPQUFRLElBQ1I2akIsT0FBUSxpQkFDUnZnQixRQUFTLENBQ0x3Z0IsUUFBUyxTQUNUQyxPQUFRLENBQ0pDLFFBQVMsQ0FBRXpuQixFQUFHLEVBQUdDLEVBQUcsS0FDcEJ5bkIsT0FBTyxJQUdmM0gsSUFBSyxDQUNENEgsaUJBQWlCLEdBRXJCQyxVQUFXLENBQ1BDLFFBQVVub0IsSUFDTkEsRUFBS0MsUUFBVUEsSUFHdkJULE1BQU8sQ0FBQ3lDLEVBQVk4USxFQUFZaUssRUFBZ0I4QixFQUFxQm1DLEVBQWVZLEVBQWV5QixFQUFhUixFQUFnQlcsRUFBb0JvRCxHQUNwSnVCLGdCQUFpQixXQUdSLElBQUksVUFBWWhoQixFQUNoQyxFQXhDRCxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vZXh0ZXJuYWwgdmFyIFwiUGhhc2VyXCIiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvVUkvQXVkaW8uanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvVUkvQnV0dG9ucy5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvTWVudV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9FbnRpdGllcy9QbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvQ29tbWFuZHMvQXBwbHlQb3dlclVwQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9FbnRpdGllcy9Qb3dlclVwLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0VudGl0aWVzL0JhbGwuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvQ29tbWFuZHMvQ29tbWFuZFByb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9Db21tYW5kcy9Db21tYW5kLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0NvbW1hbmRzL01vdmVQbGF5ZXJDb21tYW5kLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9HYW1lX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9UdXRvcmlhbF9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvQ29uZmlndXJhdGlvbl9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvQ3JlZGl0c19TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvRW5kR2FtZV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvTW9kZUdhbWVfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL1BhdXNlX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9TZWxlY3RQbGF5ZXJfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL1NlbGVjdFNjZW5hcmlvX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSBQaGFzZXI7IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuY29uc3QgU0ZYX1ZPTFVNRV9LRVkgPSAnc2Z4Vm9sdW1lJztcclxuY29uc3QgTVVTSUNfVk9MVU1FX0tFWSA9ICdtdXNpY1ZvbHVtZSc7XHJcbmNvbnN0IEdMT0JBTF9WT0xVTUVfS0VZID0gJ2dsb2JhbFZvbHVtZSc7XHJcbmNvbnN0IExFR0FDWV9WT0xVTUVfS0VZID0gJ3ZvbHVtZSc7XHJcblxyXG5mdW5jdGlvbiBwYXJzZVN0b3JlZFZvbHVtZShyYXcsIGRlZmF1bHRWYWx1ZSkge1xyXG4gICAgY29uc3QgdiA9IE51bWJlci5wYXJzZUZsb2F0KHJhdyA/PyBTdHJpbmcoZGVmYXVsdFZhbHVlKSk7XHJcblxyXG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodikpIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblxyXG4gICAgcmV0dXJuIFBoYXNlci5NYXRoLkNsYW1wKHYsIDAsIDEpO1xyXG59XHJcblxyXG4vLy8vIEdldHRlcnMmU2V0dGVycyAvLy8vXHJcbi8vIE9idGllbmUgZWwgdm9sdW1lbiBhbG1hY2VuYWRvIGNvbiB1bmEgY2xhdmVcclxuZnVuY3Rpb24gZ2V0U3RvcmVkVm9sdW1lQnlLZXkoa2V5LCBmYWxsYmFja0tleSwgZGVmYXVsdFZhbHVlID0gMSkge1xyXG4gICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcclxuICAgIGlmIChyYXcgIT09IG51bGwpIHJldHVybiBwYXJzZVN0b3JlZFZvbHVtZShyYXcsIGRlZmF1bHRWYWx1ZSk7XHJcblxyXG4gICAgY29uc3QgZmFsbGJhY2tSYXcgPSBmYWxsYmFja0tleSA/IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGZhbGxiYWNrS2V5KSA6IG51bGw7XHJcbiAgICBpZiAoZmFsbGJhY2tSYXcgIT09IG51bGwpIHJldHVybiBwYXJzZVN0b3JlZFZvbHVtZShmYWxsYmFja1JhdywgZGVmYXVsdFZhbHVlKTtcclxuXHJcbiAgICByZXR1cm4gUGhhc2VyLk1hdGguQ2xhbXAoZGVmYXVsdFZhbHVlLCAwLCAxKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0TGVnYWN5Vm9sdW1lKGRlZmF1bHRWYWx1ZSA9IDEpIHtcclxuICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKExFR0FDWV9WT0xVTUVfS0VZKTtcclxuICAgIGlmIChyYXcgPT09IG51bGwpIHJldHVybiBudWxsO1xyXG5cclxuICAgIHJldHVybiBwYXJzZVN0b3JlZFZvbHVtZShyYXcsIGRlZmF1bHRWYWx1ZSk7XHJcbn1cclxuXHJcbi8vIEFzZWd1cmEgcXVlIGV4aXN0YW4gbG9zIHZhbG9yZXMgZGUgdm9sdW1lbiBhbG1hY2VuYWRvc1xyXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlU3RvcmVkQXVkaW9TZXR0aW5ncyhkZWZhdWx0VmFsdWUgPSAxKSB7XHJcbiAgICBjb25zdCBoYXNTZnggPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTRlhfVk9MVU1FX0tFWSkgIT09IG51bGw7XHJcbiAgICBjb25zdCBoYXNNdXNpYyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKE1VU0lDX1ZPTFVNRV9LRVkpICE9PSBudWxsO1xyXG5cclxuICAgIGlmIChoYXNTZnggJiYgaGFzTXVzaWMpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBsZWdhY3lWb2x1bWUgPSBnZXRMZWdhY3lWb2x1bWUoZGVmYXVsdFZhbHVlKTtcclxuICAgIGNvbnN0IGluaXRpYWxWb2x1bWUgPSBsZWdhY3lWb2x1bWUgJiYgbGVnYWN5Vm9sdW1lID4gMCA/IGxlZ2FjeVZvbHVtZSA6IGRlZmF1bHRWYWx1ZTtcclxuXHJcbiAgICBpZiAoIWhhc1NmeCkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU0ZYX1ZPTFVNRV9LRVksIFN0cmluZyhpbml0aWFsVm9sdW1lKSk7XHJcbiAgICBpZiAoIWhhc011c2ljKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShNVVNJQ19WT0xVTUVfS0VZLCBTdHJpbmcoaW5pdGlhbFZvbHVtZSkpO1xyXG59XHJcblxyXG4vLyBPYnRpZW5lIGVsIHZvbHVtZW4gYWxtYWNlbmFkbyBwYXJhIGxvcyBlZmVjdG9zIGRlIHNvbmlkb1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RvcmVkU2Z4Vm9sdW1lKGRlZmF1bHRWYWx1ZSA9IDEpIHtcclxuICAgIHJldHVybiBnZXRTdG9yZWRWb2x1bWVCeUtleShTRlhfVk9MVU1FX0tFWSwgTEVHQUNZX1ZPTFVNRV9LRVksIGRlZmF1bHRWYWx1ZSk7XHJcbn1cclxuXHJcbi8vIE9idGllbmUgZWwgdm9sdW1lbiBhbG1hY2VuYWRvIHBhcmEgbGEgbcO6c2ljYVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RvcmVkTXVzaWNWb2x1bWUoZGVmYXVsdFZhbHVlID0gMSkge1xyXG4gICAgcmV0dXJuIGdldFN0b3JlZFZvbHVtZUJ5S2V5KE1VU0lDX1ZPTFVNRV9LRVksIExFR0FDWV9WT0xVTUVfS0VZLCBkZWZhdWx0VmFsdWUpO1xyXG59XHJcblxyXG4vLyBPYnRpZW5lIGVsIHZvbHVtZW4gZ2xvYmFsXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRTdG9yZWRHbG9iYWxWb2x1bWUoZGVmYXVsdFZhbHVlID0gMSkge1xyXG4gICAgcmV0dXJuIGdldFN0b3JlZFZvbHVtZUJ5S2V5KEdMT0JBTF9WT0xVTUVfS0VZLCBudWxsLCBkZWZhdWx0VmFsdWUpO1xyXG59XHJcblxyXG4vLyBBbG1hY2VuYSBlbCB2b2x1bWVuIGdsb2JhbFxyXG5leHBvcnQgZnVuY3Rpb24gc2V0U3RvcmVkR2xvYmFsVm9sdW1lKHZvbHVtZSkge1xyXG4gICAgY29uc3QgdiA9IFBoYXNlci5NYXRoLkNsYW1wKE51bWJlcih2b2x1bWUpLCAwLCAxKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKEdMT0JBTF9WT0xVTUVfS0VZLCBTdHJpbmcodikpO1xyXG4gICAgcmV0dXJuIHY7XHJcbn1cclxuXHJcbi8vIEFsbWFjZW5hIGVsIHZvbHVtZW4gcGFyYSBsb3MgZWZlY3RvcyBkZSBzb25pZG9cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFN0b3JlZFNmeFZvbHVtZSh2b2x1bWUpIHtcclxuICAgIGNvbnN0IHYgPSBQaGFzZXIuTWF0aC5DbGFtcChOdW1iZXIodm9sdW1lKSwgMCwgMSk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShTRlhfVk9MVU1FX0tFWSwgU3RyaW5nKHYpKTtcclxuXHJcbiAgICByZXR1cm4gdjtcclxufVxyXG5cclxuLy8gQWxtYWNlbmEgZWwgdm9sdW1lbiBwYXJhIGxhIG3DunNpY2FcclxuZXhwb3J0IGZ1bmN0aW9uIHNldFN0b3JlZE11c2ljVm9sdW1lKHZvbHVtZSkge1xyXG4gICAgY29uc3QgdiA9IFBoYXNlci5NYXRoLkNsYW1wKE51bWJlcih2b2x1bWUpLCAwLCAxKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKE1VU0lDX1ZPTFVNRV9LRVksIFN0cmluZyh2KSk7XHJcblxyXG4gICAgcmV0dXJuIHY7XHJcbn1cclxuLy8vLy8vLy8vXHJcblxyXG4vLyBBcGxpY2EgZWwgdm9sdW1lbiBhbCBTb3VuZE1hbmFnZXIgeSBhIGxhIG3DunNpY2EgZ2xvYmFsXHJcbmV4cG9ydCBmdW5jdGlvbiBhcHBseVN0b3JlZFZvbHVtZShzY2VuZSwgb3B0aW9ucyA9IHt9KSB7XHJcbiAgICBsZXQgZ2xvYmFsVm9sID0gZ2V0U3RvcmVkR2xvYmFsVm9sdW1lKCk7XHJcbiAgICBsZXQgc2Z4Vm9sdW1lID0gZ2V0U3RvcmVkU2Z4Vm9sdW1lKCk7XHJcbiAgICBsZXQgbXVzaWNWb2x1bWUgPSBnZXRTdG9yZWRNdXNpY1ZvbHVtZSgpO1xyXG5cclxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICBzZnhWb2x1bWUgPSBQaGFzZXIuTWF0aC5DbGFtcChOdW1iZXIob3B0aW9ucyksIDAsIDEpO1xyXG4gICAgICAgIG11c2ljVm9sdW1lID0gc2Z4Vm9sdW1lO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBzZnhWb2x1bWUgPSBvcHRpb25zLnNmeFZvbHVtZSA/PyBzZnhWb2x1bWU7XHJcbiAgICAgICAgbXVzaWNWb2x1bWUgPSBvcHRpb25zLm11c2ljVm9sdW1lID8/IG11c2ljVm9sdW1lO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHNlIHVzYSBlbCB2b2x1bWVuIGdsb2JhbCBjb21vIG1hc3RlclxyXG4gICAgc2NlbmUuc291bmQudm9sdW1lID0gZ2xvYmFsVm9sO1xyXG5cclxuICAgIGNvbnN0IG11c2ljID0gc2NlbmUuZ2FtZS5nbG9iYWxzLm11c2ljO1xyXG4gICAgaWYgKG11c2ljICYmICdzZXRWb2x1bWUnIGluIG11c2ljKSB7XHJcbiAgICAgICAgbXVzaWMuc2V0Vm9sdW1lKG11c2ljVm9sdW1lKTtcclxuICAgIH1cclxufVxyXG5cclxuLy8gUmVwcm9kdWNlIHVuIHNvbmlkbyBkZSBjbGlja1xyXG5leHBvcnQgZnVuY3Rpb24gcGxheUNsaWNrKHNjZW5lLCBrZXkgPSAnc29uaWRvQ2xpY2snKSB7XHJcbiAgICBzY2VuZS5zb3VuZC5wbGF5KGtleSwgeyB2b2x1bWU6IGdldFN0b3JlZFNmeFZvbHVtZSgpIH0pO1xyXG59XHJcblxyXG4vLyBSZXByb2R1Y2UgbGEgbcO6c2ljYSBkZSBmb25kbyBlbiBidWNsZVxyXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlTG9vcGluZ011c2ljKHNjZW5lLCBzb3VuZEtleSwgeyBsb29wID0gdHJ1ZSB9ID0ge30pIHtcclxuICAgIGNvbnN0IHZvbHVtZSA9IGdldFN0b3JlZE11c2ljVm9sdW1lKCk7XHJcbiAgICBsZXQgbXVzaWMgPSBzY2VuZS5nYW1lLmdsb2JhbHMubXVzaWM7XHJcbiAgICBpZiAoIW11c2ljKSB7XHJcbiAgICAgICAgbXVzaWMgPSBzY2VuZS5zb3VuZC5hZGQoc291bmRLZXksIHsgbG9vcCwgdm9sdW1lIH0pO1xyXG4gICAgICAgIHNjZW5lLmdhbWUuZ2xvYmFscy5tdXNpYyA9IG11c2ljO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHNlIGFjdHVhbGl6YSB2b2x1bWVuIHNpIGVsIHRpcG8gbG8gc29wb3J0YVxyXG4gICAgaWYgKG11c2ljICYmICdzZXRWb2x1bWUnIGluIG11c2ljKSBtdXNpYy5zZXRWb2x1bWUodm9sdW1lKTtcclxuXHJcbiAgICBjb25zdCB0cnlQbGF5ID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICghbXVzaWMgfHwgISgncGxheScgaW4gbXVzaWMpKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIG5vIHNlIHJlaW5pY2lhIHNpIHlhIGVzdD8gc29uYW5kb1xyXG4gICAgICAgIGlmICgnaXNQbGF5aW5nJyBpbiBtdXNpYyAmJiBtdXNpYy5pc1BsYXlpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbXVzaWMucGxheSgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tBdWRpby5qc10gTm8gc2UgaGEgcG9kaWRvIHJlcHJvZHVjaXIgdG9kYXY/YSBsYSBtP3NpY2EuJywgZXJyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHByaW1lcm8gc2UgaW50ZW50YSByZXByb2R1Y2lyIG5hZGEgbcOhcyBjYXJnYXJcclxuICAgIHRyeVBsYXkoKTtcclxuXHJcbiAgICAvLyBzaW5vLCBzZSByZWludGVudGEgdHJhcyBsYSBwcmltZXJhIGludGVyYWNjacOzbi9jbGlja1xyXG4gICAgc2NlbmUuaW5wdXQub25jZSgncG9pbnRlcmRvd24nLCBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY3R4ID0gc2NlbmUuc291bmQuY29udGV4dDtcclxuICAgICAgICBpZiAoY3R4ICYmIGN0eC5zdGF0ZSA9PT0gJ3N1c3BlbmRlZCcpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGN0eC5yZXN1bWUoKTtcclxuICAgICAgICAgICAgfSBjYXRjaCB7IH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5UGxheSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIG11c2ljO1xyXG59XHJcbiIsImltcG9ydCB7IHBsYXlDbGljayB9IGZyb20gJy4vQXVkaW8uanMnO1xyXG5cclxuLy8gQ3JlYSB1biBib3TDs24gYmFzZSBwYXJhIGxhIFVJXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVVSUJ1dHRvbihzY2VuZSwge1xyXG4gICAgeCwgeSxcclxuICAgIGxhYmVsLFxyXG4gICAgb25DbGljayxcclxuICAgIHRleHR1cmVOb3JtYWwgPSAnYm90b25TaW5TZWxlY2Npb25hcicsXHJcbiAgICB0ZXh0dXJlSG92ZXIgPSAnYm90b25TZWxlY2Npb25hZG8nLFxyXG4gICAgc2NhbGUgPSAyLFxyXG4gICAgdGV4dFN0eWxlID0ge30sXHJcbiAgICBjbGlja1NvdW5kS2V5ID0gJ3Nvbmlkb0NsaWNrJyxcclxufSkge1xyXG4gICAgY29uc3QgYnV0dG9uID0gc2NlbmUuYWRkLnNwcml0ZSh4LCB5LCB0ZXh0dXJlTm9ybWFsKVxyXG4gICAgICAgIC5zZXRTY2FsZShzY2FsZSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgIGNvbnN0IHRleHQgPSBzY2VuZS5hZGQudGV4dCh4LCB5LCBsYWJlbCwgdGV4dFN0eWxlKS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAvLyBldmVudG9zIGRlbCBib3TDs25cclxuICAgIGNvbnN0IHNldE5vcm1hbCA9ICgpID0+IGJ1dHRvbi5zZXRUZXh0dXJlKHRleHR1cmVOb3JtYWwpO1xyXG4gICAgY29uc3Qgc2V0SG92ZXIgPSAoKSA9PiBidXR0b24uc2V0VGV4dHVyZSh0ZXh0dXJlSG92ZXIpO1xyXG5cclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcm92ZXInLCBzZXRIb3Zlcik7XHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJvdXQnLCBzZXROb3JtYWwpO1xyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICBzZXRIb3ZlcigpO1xyXG4gICAgICAgIHBsYXlDbGljayhzY2VuZSwgY2xpY2tTb3VuZEtleSk7XHJcbiAgICB9KTtcclxuICAgIC8vIHNvbG8gc2UgbGFuemEgc2kgc2Ugc3VlbHRhIGVuY2ltYVxyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVydXAnLCAocG9pbnRlcikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluc2lkZSA9IGJ1dHRvbi5nZXRCb3VuZHMoKS5jb250YWlucyhwb2ludGVyLngsIHBvaW50ZXIueSk7XHJcbiAgICAgICAgaWYgKCFpbnNpZGUpIHsgXHJcbiAgICAgICAgICAgIHNldE5vcm1hbCgpOyBcclxuICAgICAgICAgICAgcmV0dXJuOyBcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNldEhvdmVyKCk7XHJcbiAgICAgICAgb25DbGljaz8uKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4geyBidXR0b24sIHRleHQgfTtcclxufVxyXG5cclxuLy8gQ3JlYSB1biBib3TDs24gYmFzZSBjb24gdW4gaWNvbm8gKGNvbW8gZWwgZGUgdm9sdmVyIGF0csOhcylcclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUljb25CdXR0b24oc2NlbmUsIG9wdGlvbnMpIHtcclxuICAgIGNvbnN0IHtcclxuICAgICAgICB4LCB5LFxyXG4gICAgICAgIHRleHR1cmUsXHJcbiAgICAgICAgb25DbGljayxcclxuICAgICAgICBzY2FsZSA9IDEsXHJcbiAgICAgICAgaG92ZXJTY2FsZSA9IDEuMSxcclxuICAgICAgICBjbGlja1NvdW5kS2V5ID0gJ3Nvbmlkb0NsaWNrJyxcclxuICAgIH0gPSBvcHRpb25zO1xyXG5cclxuICAgIGNvbnN0IGJ1dHRvbiA9IHNjZW5lLmFkZFxyXG4gICAgICAgIC5zcHJpdGUoeCwgeSwgdGV4dHVyZSlcclxuICAgICAgICAuc2V0U2NhbGUoc2NhbGUpXHJcbiAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAvLyBldmVudG9zIGRlbCBib3TDs25cclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcm92ZXInLCAoKSA9PiBidXR0b24uc2V0U2NhbGUoc2NhbGUgKiBob3ZlclNjYWxlKSk7XHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiBidXR0b24uc2V0U2NhbGUoc2NhbGUpKTtcclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgcGxheUNsaWNrKHNjZW5lLCBjbGlja1NvdW5kS2V5KTtcclxuICAgIH0pO1xyXG4gICAgLy8gc29sbyBzZSBsYW56YSBzaSBzZSBzdWVsdGEgZW5jaW1hXHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJ1cCcsIChwb2ludGVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5zaWRlID0gYnV0dG9uLmdldEJvdW5kcygpLmNvbnRhaW5zKHBvaW50ZXIueCwgcG9pbnRlci55KTtcclxuICAgICAgICBpZiAoIWluc2lkZSkgcmV0dXJuO1xyXG4gICAgICAgIG9uQ2xpY2soKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBidXR0b247XHJcbn1cclxuIiwiLy8gUGFudGFsbGEgZGVsIE1lbsO6IFByaW5jaXBhbFxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xuaW1wb3J0IHsgY3JlYXRlVUlCdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcbmltcG9ydCB7IGVuc3VyZUxvb3BpbmdNdXNpYywgYXBwbHlTdG9yZWRWb2x1bWUgfSBmcm9tICcuLi9VSS9BdWRpby5qcyc7XG5cbmV4cG9ydCBjbGFzcyBNZW51X1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ01lbnVfU2NlbmUnKTtcbiAgICB9XG5cbiAgICBwcmVsb2FkKCkge1xuICAgICAgICAvLyBib3RvbmVzXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9HX1NFTEVDQ0lPTkFETy5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfRy5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kb01lbnVQcmluY2lwYWwnLCAnQVNTRVRTL0ZPTkRPUy9NRU5VX1BSSU5DSVBBTC5wbmcnKTtcblxuICAgICAgICAvLyBsb2dvXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbG9nb0VtcHJlc2EnLCAnQVNTRVRTL0xPR08vbG9nb19lbXByZXNhLnBuZycpO1xuXG4gICAgICAgIC8vIGF1ZGlvXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvR2VuZXJhbCcsICdBU1NFVFMvU09OSURPL1NPTklETzEubXAzJyk7XG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcbiAgICB9XG5cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIC8vIG3DunNpY2EgZGUgZm9uZG9cbiAgICAgICAgYXBwbHlTdG9yZWRWb2x1bWUodGhpcyk7XG4gICAgICAgIGVuc3VyZUxvb3BpbmdNdXNpYyh0aGlzLCAnc29uaWRvR2VuZXJhbCcsIHsgbG9vcDogdHJ1ZSB9KTtcblxuICAgICAgICAvLyBlc3RpbG8gYmFzZSBkZWwgdGV4dG9cbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscz8uZGVmYXVsdFRleHRTdHlsZSA/PyB7XG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIC8vIGxheW91dFxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XG4gICAgICAgIGNvbnN0IHJpZ2h0SGFsZlggPSBjZW50ZXJYICsgKGNlbnRlclggLyAyKTtcblxuICAgICAgICAvLyBmb25kbyBhanVzdGFkbyBhbCBjYW52YXNcbiAgICAgICAgY29uc3QgYmFja2dyb3VuZCA9IHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kb01lbnVQcmluY2lwYWwnKVxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxuICAgICAgICAgICAgLnNldERlcHRoKC0xKTtcbiAgICAgICAgYmFja2dyb3VuZC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgICAgXG4gICAgICAgIC8vIHTDrXR1bG8gZGVsIGp1ZWdvXG4gICAgICAgIHRoaXMuYWRkLnRleHQocmlnaHRIYWxmWCwgMTE1LCAnVm9sbGV5IENsYXNoJywge1xuICAgICAgICAgICAgLi4uc3R5bGUsXG4gICAgICAgICAgICBmb250U2l6ZTogJzY4cHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcblxuICAgICAgICAvLy8vIEJPVE9ORVMgLy8vL1xuICAgICAgICBjb25zdCBmaXJzdEJ1dHRvblkgPSBoZWlnaHQgLyAyIC0gNjM7XG4gICAgICAgIGNvbnN0IGJ1dHRvblNwYWNpbmcgPSA3MDtcbiAgICAgICAgY29uc3QgYnV0dG9uVGV4dFN0eWxlID0geyAuLi5zdHlsZSwgZm9udFNpemU6ICcyOHB4JywgY29sb3I6ICcjMDAwMDAwJyB9O1xuXG4gICAgICAgIC8vIGJvdMOzbiBKdWdhclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiByaWdodEhhbGZYLFxuICAgICAgICAgICAgeTogZmlyc3RCdXR0b25ZLFxuICAgICAgICAgICAgbGFiZWw6ICdKdWdhcicsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNb2RlR2FtZV9TY2VuZScpLFxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBib3TDs24gVHV0b3JpYWxcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xuICAgICAgICAgICAgeDogcmlnaHRIYWxmWCxcbiAgICAgICAgICAgIHk6IGZpcnN0QnV0dG9uWSArIGJ1dHRvblNwYWNpbmcsXG4gICAgICAgICAgICBsYWJlbDogJ1R1dG9yaWFsJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ1R1dG9yaWFsX1NjZW5lJywgeyByZXR1cm5TY2VuZTogJ01lbnVfU2NlbmUnIH0pLFxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBib3TDs24gQ29uZmlndXJhY2nDs25cbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xuICAgICAgICAgICAgeDogcmlnaHRIYWxmWCxcbiAgICAgICAgICAgIHk6IGZpcnN0QnV0dG9uWSArIGJ1dHRvblNwYWNpbmcgKiAyLFxuICAgICAgICAgICAgbGFiZWw6ICdDb25maWd1cmFjacOzbicsXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdDb25maWd1cmF0aW9uX1NjZW5lJyksXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGJvdMOzbiBDcsOpZGl0b3NcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xuICAgICAgICAgICAgeDogcmlnaHRIYWxmWCxcbiAgICAgICAgICAgIHk6IGZpcnN0QnV0dG9uWSArIGJ1dHRvblNwYWNpbmcgKiAzLFxuICAgICAgICAgICAgbGFiZWw6ICdDcsOpZGl0b3MnLFxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnQ3JlZGl0c19TY2VuZScpLFxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxuICAgICAgICB9KTtcbiAgICAgICAgLy8vLy8vLy8vXG5cbiAgICAgICAgLy8gbG9nbyBkZSBsYSBlbXByZXNhXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKHRoaXMuc2NhbGUud2lkdGggLSAyMCwgdGhpcy5zY2FsZS5oZWlnaHQgLSAyMCwgJ2xvZ29FbXByZXNhJylcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjQyKVxuICAgICAgICAgICAgLnNldE9yaWdpbigxLCAxKTtcbiAgICB9XG59XG4iLCIvLyBDbGFzZSBkZSBsYSBlbnRpZGFkIFwicGVyc29uYWplXCIsIHNlIHRpZW5lIGVuIGN1ZW50YSBxdWUgc29uIDMgcGVyc29uYWplcyBkaXN0aW50b3NcclxuXHJcbmNvbnN0IFBPV0VSVVBfRFVSQVRJT05fTVMgPSB7XHJcbiAgdmVsb2NpZGFkOiA0MDAwLFxyXG4gIHJhbGVudGl6YXI6IDQwMDAsXHJcbiAgcGFyYWxpemFyOiAyNTAwLFxyXG4gIHBvcjI6IDQwMDAsXHJcbiAgcG9yMzogNDAwMCxcclxufTtcclxuXHJcbmNvbnN0IFNQRUVEX01VTFQgPSB7XHJcbiAgdmVsb2NpZGFkOiAxLjUsXHJcbiAgcmFsZW50aXphcjogMC41LFxyXG59O1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXllciB7XHJcblxyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIGlkLCB4LCB5LCBjaGFyYWN0ZXJUeXBlKSB7XHJcbiAgICAgICAgLy8gSU5JQ0lBTElaQUNJw5NOXHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMuaWQgPSBpZDsgICAgICAgICAgICAgICAgICAgICAgIC8vIGlkZW50aWZpY2Fkb3IgZGVsIGp1Z2Fkb3IgKFAxLCBQMilcclxuICAgICAgICB0aGlzLmNoYXJhY3RlclR5cGUgPSBjaGFyYWN0ZXJUeXBlOyAvLyBpbmRpY2EgcXXDqSBwZXJzb25hamUgc2UgaGEgZWxlZ2lkb1xyXG5cclxuICAgICAgICAvLyB2ZWxvY2lkYWQgZGUgbW92aW1pZW50b1xyXG4gICAgICAgIHRoaXMuYmFzZU1vdmVTcGVlZCA9IDI1MDtcclxuICAgICAgICB0aGlzLm1vdmVTcGVlZCA9IHRoaXMuYmFzZU1vdmVTcGVlZDtcclxuXHJcbiAgICAgICAgdGhpcy5qdW1wU3BlZWQgPSAyNzU7ICAgLy8gZnVlcnphIGRlIHNhbHRvXHJcblxyXG4gICAgICAgIHRoaXMuYWN0aXZlUG93ZXJVcHMgPSB7fTsgICAvLyBwb3dlcnVwcyBhY3Rpdm9zXHJcblxyXG4gICAgICAgIC8vIGVzdGFkb3MgZGUgcG93ZXItdXBzXHJcbiAgICAgICAgdGhpcy5pc1BhcmFseXplZCA9IGZhbHNlOyAgICAgICAvLyBwYXJhIGVsIHBvd2VyIHVwIFwicGFyYWxpemFyXCJcclxuICAgICAgICB0aGlzLnBhcmFseXNpc1R3ZWVuID0gbnVsbDsgICAgIC8vIGFsIHF1ZWRhcnNlIHBhcmFsaXphZG8gLT4gcm9qb1xyXG4gICAgICAgIHRoaXMuc3BlZWRFZmZlY3RBY3RpdmUgPSBmYWxzZTsgLy8gdmVsb2NpZGFkIC0+IGNpYW4vdmVyZGVcclxuICAgICAgICB0aGlzLnNsb3dFZmZlY3RBY3RpdmUgPSBmYWxzZTsgIC8vIHJhbGVudGl6YWRvIC0+IGF6dWxcclxuXHJcbiAgICAgICAgdGhpcy5zY29yZU11bHRpcGxpZXIgPSAxOyAgICAgICAvLyBwYXJhIHBvcjIgLyBwb3IzXHJcbiAgICAgICAgLy8gdGV4dG8gZmxvdGFudGUgcGFyYSBtb3N0cmFyIHgyIC8geDNcclxuICAgICAgICB0aGlzLm11bHRpcGxpZXJUZXh0ID0gdGhpcy5zY2VuZS5hZGQudGV4dCh4LCB5IC0gNTAsICcnLCB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgIHN0cm9rZTogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICBzdHJva2VUaGlja25lc3M6IDRcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSwgMSlcclxuICAgICAgICAgICAgLnNldERlcHRoKDIwKVxyXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5wb3dlclVwSW52ZW50b3J5ID0gW107IC8vIG3DoXhpbW8gMlxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuaXNSZWNlaXZpbmcgPSBmYWxzZTsgICAvLyBlc3RhZG8gZGUgcmVjZXBjacOzblxyXG5cclxuICAgICAgICAvLyBsw61taXRlcyBkZSBtb3ZpbWllbnRvIHBlcnNvbmFsaXphZG9zXHJcbiAgICAgICAgdGhpcy5ib3VuZHNMZWZ0ID0gMDtcclxuICAgICAgICB0aGlzLmJvdW5kc1JpZ2h0ID0gOTYwO1xyXG4gICAgICAgIHRoaXMuYm91bmRzVG9wID0gMDtcclxuICAgICAgICB0aGlzLmJvdW5kc0JvdHRvbSA9IDU0MDtcclxuXHJcbiAgICAgICAgLy8gY29uZmlndXJhY2nDs24gZGUgbG9zIHNwcml0ZXMgeSBsYXMgYW5pbWFjaW9uZXMgc2Vnw7puIGVsIHBlcnNvbmFqZSBlbGVnaWRvXHJcbiAgICAgICAgY29uc3QgQ0hBUkFDVEVSX0NPTkZJRyA9IHtcclxuICAgICAgICAgICAgLy8gZXF1aWxpYnJhZG8geSBzaW1ww6F0aWNvXHJcbiAgICAgICAgICAgIGNoYXJhY3RlckE6IHtcclxuICAgICAgICAgICAgICAgIHRleHR1cmVLZXk6ICdjaGFyQV9tb3ZlJyxcclxuICAgICAgICAgICAgICAgIHN0YXJ0RnJhbWU6IDAsXHJcbiAgICAgICAgICAgICAgICBpZGxlTGVmdEFuaW06ICdjaGFyQV9pZGxlTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBpZGxlUmlnaHRBbmltOiAnY2hhckFfaWRsZVJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHJ1bkxlZnRBbmltOiAnY2hhckFfcnVuTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBydW5SaWdodEFuaW06ICdjaGFyQV9ydW5SaWdodCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wTGVmdEFuaW06ICdjaGFyQV9qdW1wTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wUmlnaHRBbmltOiAnY2hhckFfanVtcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVMZWZ0QW5pbTogJ2NoYXJBX3JlY2VpdmVMZWZ0JyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVSaWdodEFuaW06ICdjaGFyQV9yZWNlaXZlUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgdmljdG9yeTpcImNoYXJBX3ZpY3RvcnlcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyByw6FwaWRvIHkgY29tcGV0aXRpdm9cclxuICAgICAgICAgICAgY2hhcmFjdGVyQjoge1xyXG4gICAgICAgICAgICAgICAgdGV4dHVyZUtleTogJ2NoYXJCX21vdmUnLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRGcmFtZTogMCxcclxuICAgICAgICAgICAgICAgIGlkbGVMZWZ0QW5pbTogJ2NoYXJCX2lkbGVMZWZ0JyxcclxuICAgICAgICAgICAgICAgIGlkbGVSaWdodEFuaW06ICdjaGFyQl9pZGxlUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgcnVuTGVmdEFuaW06ICdjaGFyQl9ydW5MZWZ0JyxcclxuICAgICAgICAgICAgICAgIHJ1blJpZ2h0QW5pbTogJ2NoYXJCX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIGp1bXBMZWZ0QW5pbTogJ2NoYXJCX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgICAgIGp1bXBSaWdodEFuaW06ICdjaGFyQl9qdW1wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZUxlZnRBbmltOiAnY2hhckJfcmVjZWl2ZUxlZnQnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZVJpZ2h0QW5pbTogJ2NoYXJCX3JlY2VpdmVSaWdodCcsXHJcbiAgICAgICAgICAgICAgICB2aWN0b3J5OlwiY2hhckJfdmljdG9yeVwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGRpdmVydGlkbyB5IGFsZ28gZGlzdHJhw61kb1xyXG4gICAgICAgICAgICBjaGFyYWN0ZXJDOiB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0dXJlS2V5OiAnY2hhckNfbW92ZScsXHJcbiAgICAgICAgICAgICAgICBzdGFydEZyYW1lOiAwLFxyXG4gICAgICAgICAgICAgICAgaWRsZUxlZnRBbmltOiAnY2hhckNfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICAgICAgaWRsZVJpZ2h0QW5pbTogJ2NoYXJDX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgICAgICBydW5MZWZ0QW5pbTogJ2NoYXJDX3J1bkxlZnQnLFxyXG4gICAgICAgICAgICAgICAgcnVuUmlnaHRBbmltOiAnY2hhckNfcnVuUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAganVtcExlZnRBbmltOiAnY2hhckNfanVtcExlZnQnLFxyXG4gICAgICAgICAgICAgICAganVtcFJpZ2h0QW5pbTogJ2NoYXJDX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlTGVmdEFuaW06ICdjaGFyQ19yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlUmlnaHRBbmltOiAnY2hhckNfcmVjZWl2ZVJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHZpY3Rvcnk6XCJjaGFyQ192aWN0b3J5XCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHNpIHZpZW5lIHVuIHRpcG8gZGUgcGVyc29uYWplIGludsOhbGlkbywgc2UgdXNhIGNoYXJhY3RlckEgcG9yIGRlZmVjdG9cclxuICAgICAgICB0aGlzLmNvbmZpZyA9IENIQVJBQ1RFUl9DT05GSUdbY2hhcmFjdGVyVHlwZV0gfHwgQ0hBUkFDVEVSX0NPTkZJRy5jaGFyYWN0ZXJBO1xyXG5cclxuICAgICAgICAvLyBzZSBjcmVhIGVsIHNwcml0ZSBmw61zaWNvIGRlbCBqdWdhZG9yXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLnNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZShcclxuICAgICAgICAgICAgeCxcclxuICAgICAgICAgICAgeSxcclxuICAgICAgICAgICAgdGhpcy5jb25maWcudGV4dHVyZUtleSxcclxuICAgICAgICAgICAgdGhpcy5jb25maWcuc3RhcnRGcmFtZVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgLy8gc2UgaGFjZSB1biBwb2NvIG3DoXMgZ3JhbmRlXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2NhbGUoMi41KTtcclxuICAgICAgICAvLyBzZSBhanVzdGEgbGEgaGl0Ym94IGFsIG51ZXZvIHRhbWHDsW8gcGFyYSBsYXMgY29saXNpb25lcywgc2UgcmVkdWNlblxyXG4gICAgICAgIC8vdGhpcy5zcHJpdGUuYm9keS5zZXRTaXplKHRoaXMuc3ByaXRlLndpZHRoLCB0aGlzLnNwcml0ZS5oZWlnaHQsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLmJvZHkuc2V0U2l6ZSh0aGlzLnNwcml0ZS53aWR0aCAqIDAuOSwgdGhpcy5zcHJpdGUuaGVpZ2h0ICogMC45LCB0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gc2UgZ3VhcmRhIHVuYSByZWZlcmVuY2lhIGhhY2lhIFBsYXllciBkZW50cm8gZGVsIHByb3BpbyBzcHJpdGVcclxuICAgICAgICAvLyAoZXMgw7p0aWwgc2kgZW4gY29saXNpb25lcyBzZSBxdWllcmUgYWNjZWRlciBhIGxhIGzDs2dpY2EpXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGF0YSgncGxheWVyJywgdGhpcyk7XHJcblxyXG4gICAgICAgIC8vIHBhcmEgY29udHJvbGFyIGRpcmVjY2nDs24gYWN0dWFsXHJcbiAgICAgICAgdGhpcy5mYWNpbmcgPSAncmlnaHQnO1xyXG5cclxuICAgICAgICAvLyBlc3RhZG8gc2ltcGxlOiBlbiBlbCBhaXJlIG8gbm9cclxuICAgICAgICB0aGlzLmlzT25Hcm91bmQgPSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBmbGFnIHBhcmEgc2FiZXIgc2kgZXN0w6EgZW4gYW5pbWFjacOzbiBkZSBzYWx0b1xyXG4gICAgICAgIHRoaXMuaXNKdW1waW5nID0gZmFsc2U7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gdGltZXN0YW1wIHBhcmEgZGV0ZWN0YXIgc2kgaXNKdW1waW5nIHNlIHF1ZWRhIHN0dWNrICh0aW1lb3V0IGRlIDEgc2VndW5kbylcclxuICAgICAgICB0aGlzLmp1bXBTdGFydFRpbWUgPSAwO1xyXG5cclxuICAgICAgICAvLyBjdWFuZG8gc2UgdGVybWluZSBsYSBhbmltYWNpw7NuIGRlIHJlY2liaXIsIHNlIGRlamEgZGUgXCJlc3RhciByZWNpYmllbmRvXCJcclxuICAgICAgICB0aGlzLnNwcml0ZS5vbignYW5pbWF0aW9uY29tcGxldGUnLCAoYW5pbSkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIGFuaW0ua2V5ID09PSB0aGlzLmNvbmZpZy5yZWNlaXZlTGVmdEFuaW0gfHxcclxuICAgICAgICAgICAgICAgICAgICBhbmltLmtleSA9PT0gdGhpcy5jb25maWcucmVjZWl2ZVJpZ2h0QW5pbVxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGVsIHNhbHRvIHRlcm1pbmEgc2Vnw7puIGxhIGbDrXNpY2EgKyB1cGRhdGUoKSwgbm8gcG9yIGxhIGFuaW1hY2nDs24uXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBBbmltYXRpb24gY29tcGxldGUgaGFuZGxlciBlcnJvciBmb3IgJHthbmltLmtleX06YCwgZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8vIEhlbHBlciBwYXJhIHZlcmlmaWNhciBzaSBlc3TDoSBlbiBlbCBzdWVsbyBkZSBmb3JtYSBmaWFibGVcclxuICAgIGlzR3JvdW5kZWQoKSB7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMuc3ByaXRlLmJvZHk7XHJcbiAgICAgICAgaWYgKCFib2R5KSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIGJsb2NrZWQuZG93biDihpIgY29saXNpb25lcyBjb24gbMOtbWl0ZXMgZGVsIG11bmRvXHJcbiAgICAgICAgLy8gdG91Y2hpbmcuZG93biDihpIgY29saXNpb25lcyBjb24gb3Ryb3MgY3VlcnBvc1xyXG4gICAgICAgIHJldHVybiBib2R5LmJsb2NrZWQuZG93biB8fCBib2R5LnRvdWNoaW5nLmRvd247XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29tcHJ1ZWJhIHNpIGxvcyBwaWVzIGRlbCBqdWdhZG9yIGVzdMOhbiBjZXJjYSBkZWwgc3VlbG9cclxuICAgIGlzTmVhckdyb3VuZCh0aHJlc2hvbGQgPSAxMikge1xyXG4gICAgICAgIGNvbnN0IGJvZHkgPSB0aGlzLnNwcml0ZS5ib2R5O1xyXG4gICAgICAgIGlmICghYm9keSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zY2VuZS5ncm91bmRZICE9PSAnbnVtYmVyJykgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAvLyBwYXJ0ZSBpbmZlcmlvciBkZWwgYm9keSAobm8gZGVsIHNwcml0ZSBlc2NhbGFkbylcclxuICAgICAgICBjb25zdCBmZWV0WSA9IGJvZHkueSArIGJvZHkuaGVpZ2h0O1xyXG4gICAgICAgIHJldHVybiBNYXRoLmFicyhmZWV0WSAtIHRoaXMuc2NlbmUuZ3JvdW5kWSkgPD0gdGhyZXNob2xkO1xyXG4gICAgfVxyXG5cclxuICAgIC8vLy8gQU5JTUFDSU9ORVMgLy8vL1xyXG4gICAgLy8gTW92aW1pZW50byBkZWwgcGVyc29uYWplIGhhY2lhIGxhIGl6cXVpZXJkYVxyXG4gICAgbW92ZUxlZnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQgfHwgdGhpcy5pc1JlY2VpdmluZykgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoLXRoaXMubW92ZVNwZWVkKTtcclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdsZWZ0JztcclxuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcucnVuTGVmdEFuaW0pO1xyXG4gICAgfVxyXG4gICAgLy8gTW92aW1pZW50byBkZWwgcGVyc29uYWplIGhhY2lhIGxhIGRlcmVjaGFcclxuICAgIG1vdmVSaWdodCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCB8fCB0aGlzLmlzUmVjZWl2aW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCh0aGlzLm1vdmVTcGVlZCk7XHJcbiAgICAgICAgdGhpcy5mYWNpbmcgPSAncmlnaHQnO1xyXG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5ydW5SaWdodEFuaW0pO1xyXG4gICAgfSAgICBcclxuXHJcbiAgICAvLyBTYWx0by9yZW1hdGUgZGVsIHBlcnNvbmFqZSBoYWNpYSBsYSBpenF1aWVyZGFcclxuICAgIGp1bXBMZWZ0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzR3JvdW5kZWQoKSB8fCB0aGlzLmlzTmVhckdyb3VuZCgyMCkpIHtcclxuICAgICAgICAgICAgLy8gcG9yIHNpIHVuYSByZWNlcGNpw7NuIHNlIHF1ZWTDsyBhIG1lZGlhcywgc2UgY2FuY2VsYVxyXG4gICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuanVtcFN0YXJ0VGltZSA9IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WSgtdGhpcy5qdW1wU3BlZWQpO1xyXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9ICdsZWZ0JztcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLmp1bXBMZWZ0QW5pbSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmU/LnBsYXlTZng/Lih0aGlzLnNjZW5lPy5zZng/Lmp1bXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIFNhbHRvL3JlbWF0ZSBkZWwgcGVyc29uYWplIGhhY2lhIGxhIGRlcmVjaGFcclxuICAgIGp1bXBSaWdodCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc0dyb3VuZGVkKCkgfHwgdGhpcy5pc05lYXJHcm91bmQoMjApKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNSZWNlaXZpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5qdW1wU3RhcnRUaW1lID0gdGhpcy5zY2VuZS50aW1lLm5vdztcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlZKC10aGlzLmp1bXBTcGVlZCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gJ3JpZ2h0JztcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLmp1bXBSaWdodEFuaW0pO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lPy5wbGF5U2Z4Py4odGhpcy5zY2VuZT8uc2Z4Py5qdW1wKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVjZXBjacOzbiBkZWwgcGVyc29uYWplIHBvciBsYSBpenF1aWVyZGFcclxuICAgIHJlY2VpdmVMZWZ0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkKSByZXR1cm47XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjsgLy8gbm8gc2UgcmVpbmljaWEgc2kgeWEgZXN0w6EgcmVjaWJpZW5kbyBcclxuXHJcbiAgICAgICAgLy8gc2kgZXN0w6EgdG9jYW5kbyBlbCBzdWVsbywgcmVjaWJlIGxhIHBlbG90YVxyXG4gICAgICAgIGlmICh0aGlzLmlzR3JvdW5kZWQoKSB8fCB0aGlzLmlzTmVhckdyb3VuZCgyMCkpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSAnbGVmdCc7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5yZWNlaXZlTGVmdEFuaW0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIFJlY2VwY2nDs24gZGVsIHBlcnNvbmFqZSBwb3IgbGEgZGVyZWNoYVxyXG4gICAgcmVjZWl2ZVJpZ2h0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkKSByZXR1cm47XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjsgLy8gbm8gc2UgcmVpbmljaWEgc2kgeWEgZXN0w6EgcmVjaWJpZW5kbyBcclxuXHJcbiAgICAgICAgLy8gc2kgZXN0w6EgdG9jYW5kbyBlbCBzdWVsbywgcmVjaWJlIGxhIHBlbG90YVxyXG4gICAgICAgIGlmICh0aGlzLmlzR3JvdW5kZWQoKSB8fCB0aGlzLmlzTmVhckdyb3VuZCgyMCkpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSAncmlnaHQnO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcucmVjZWl2ZVJpZ2h0QW5pbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFBlcnNvbmFqZSBpZGxlIGl6ZGFcclxuICAgIGlkbGVMZWZ0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUmVjZWl2aW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIHNpZW1wcmUgZGV0ZW5lciBsYSB2ZWxvY2lkYWQgaG9yaXpvbnRhbCBhbCBlbnRyYXIgZW4gaWRsZVxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdsZWZ0JztcclxuICAgICAgICAvLyByZXByb2R1Y2lyIGxhIGFuaW1hY2nDs24gZGUgaWRsZVxyXG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5pZGxlTGVmdEFuaW0pO1xyXG4gICAgfVxyXG4gICAgLy8gUGVyc29uYWplIGlkbGUgZGNoYVxyXG4gICAgaWRsZVJpZ2h0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUmVjZWl2aW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIHNpZW1wcmUgZGV0ZW5lciBsYSB2ZWxvY2lkYWQgaG9yaXpvbnRhbCBhbCBlbnRyYXIgZW4gaWRsZVxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcbiAgICAgICAgLy8gcmVwcm9kdWNpciBsYSBhbmltYWNpw7NuIGRlIGlkbGVcclxuICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcuaWRsZVJpZ2h0QW5pbSk7XHJcbiAgICB9XHJcbiAgICAvLy8vLy8vL1xyXG5cclxuICAgIC8vIEVzdGFibGVjZXIgbG9zIGzDrW1pdGVzIGRlIG1vdmltaWVudG8gZGVsIGp1Z2Fkb3IgKHBhcmEgY29uZmluYXIgYSBsYSBjYW5jaGEpXHJcbiAgICBzZXRCb3VuZHMobGVmdCwgcmlnaHQsIHRvcCwgYm90dG9tKSB7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNMZWZ0ID0gbGVmdDtcclxuICAgICAgICB0aGlzLmJvdW5kc1JpZ2h0ID0gcmlnaHQ7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNUb3AgPSB0b3A7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNCb3R0b20gPSBib3R0b207XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWFudGVuZXIgZWwganVnYWRvciBkZW50cm8gZGUgbG9zIGzDrW1pdGVzXHJcbiAgICBjbGFtcFdpdGhpbkJvdW5kcygpIHtcclxuICAgICAgICBjb25zdCBoYWxmV2lkdGggPSB0aGlzLnNwcml0ZS53aWR0aCAvIDI7XHJcbiAgICAgICAgLy8gbGltaXRhciBwb3NpY2nDs24gaG9yaXpvbnRhbCAoWClcclxuICAgICAgICBpZiAodGhpcy5zcHJpdGUueCAtIGhhbGZXaWR0aCA8IHRoaXMuYm91bmRzTGVmdCkge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS54ID0gdGhpcy5ib3VuZHNMZWZ0ICsgaGFsZldpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS54ICsgaGFsZldpZHRoID4gdGhpcy5ib3VuZHNSaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS54ID0gdGhpcy5ib3VuZHNSaWdodCAtIGhhbGZXaWR0aDtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBNb3ZlciBlbCBqdWdhZG9yIGEgdW5hIHBvc2ljacOzbiBjb25jcmV0YSAoeSBkZXRlbmVybG8pXHJcbiAgICAvLyAoc2UgbGxhbWEgYWwgY2FtYmlhciBkZSBzZXRzKVxyXG4gICAgc2V0UG9zaXRpb24oeCwgeSkge1xyXG4gICAgICAgIGlmICghdGhpcy5zcHJpdGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0UG9zaXRpb24oeCwgeSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHkoMCwgMCk7IC8vIHBvciBzaSB2ZW7DrWEgY29uIHZlbG9jaWRhZFxyXG5cclxuICAgICAgICAvLyBhY3R1YWxpemFyIHRhbWJpw6luIGxhIHBvc2ljacOzbiBkZWwgdGV4dG8geDIveDNcclxuICAgICAgICB0aGlzLnVwZGF0ZU11bHRpcGxpZXJUZXh0UG9zaXRpb24oKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdXBkYXRlTXVsdGlwbGllclRleHRQb3NpdGlvbigpIHtcclxuICAgICAgICBpZiAoIXRoaXMubXVsdGlwbGllclRleHQgfHwgIXRoaXMuc3ByaXRlKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIGFsdHVyYSDigJx2aXN1YWzigJ0gZGVsIHNwcml0ZSBwYXJhIGNvbG9jYXIgZWwgdGV4dG8gZW5jaW1hIGRlIGxhIGNhYmV6YVxyXG4gICAgICAgIGNvbnN0IGRpc3BsYXlIID0gdGhpcy5zcHJpdGUuZGlzcGxheUhlaWdodCB8fCB0aGlzLnNwcml0ZS5oZWlnaHQgfHwgNDA7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IGRpc3BsYXlIICogMC42OyAvLyBhanVzdGEgc2kgcXVpZXJlcyBtw6FzIGFycmliYS9hYmFqb1xyXG5cclxuICAgICAgICB0aGlzLm11bHRpcGxpZXJUZXh0LnNldFBvc2l0aW9uKFxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS54LFxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS55IC0gb2Zmc2V0WVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVwcm9kdWNlIHVuYSBhbmltYWNpw7NuIHNpIGV4aXN0ZSAoc29sbyBzaSBubyBlc3TDoSB5YSByZXByb2R1Y2nDqW5kb3NlKVxyXG4gICAgcGxheUFuaW1hdGlvbihhbmltS2V5KSB7XHJcbiAgICAgICAgaWYgKCFhbmltS2V5KSByZXR1cm47XHJcbiAgICAgICAgaWYgKCF0aGlzLnNwcml0ZS5hbmltcykgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBzaSBlc3RhbW9zIGVuIHNhbHRvLCBpZ25vcmFyIGN1YWxxdWllciBhbmltYWNpw7NuIHF1ZSBubyBzZWEgZGUgc2FsdG9cclxuICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nICYmXHJcbiAgICAgICAgICAgIGFuaW1LZXkgIT09IHRoaXMuY29uZmlnLmp1bXBMZWZ0QW5pbSAmJlxyXG4gICAgICAgICAgICBhbmltS2V5ICE9PSB0aGlzLmNvbmZpZy5qdW1wUmlnaHRBbmltXHJcbiAgICAgICAgKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRBbmltID0gdGhpcy5zcHJpdGUuYW5pbXMuY3VycmVudEFuaW07XHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLmFuaW1zLmlzUGxheWluZyAmJiBjdXJyZW50QW5pbSAmJiBjdXJyZW50QW5pbS5rZXkgPT09IGFuaW1LZXkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYW5pbXMucGxheShhbmltS2V5LCB0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3R1YWxpemFyIGZsYWdzIGNvbW8gaXNPbkdyb3VuZCAoc2UgbGxhbWEgYSBlc3RvIGRlc2RlIGxhIGVzY2VuYSwgZW4gY2FkYSBmcmFtZSlcclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zcHJpdGUuYm9keSkge1xyXG4gICAgICAgICAgICBjb25zdCB3YXNPbkdyb3VuZCA9IHRoaXMuaXNPbkdyb3VuZDtcclxuICAgICAgICAgICAgdGhpcy5pc09uR3JvdW5kID0gdGhpcy5pc0dyb3VuZGVkKCk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50QW5pbSA9IHRoaXMuc3ByaXRlLmFuaW1zLmN1cnJlbnRBbmltO1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50S2V5ID0gY3VycmVudEFuaW0gPyBjdXJyZW50QW5pbS5rZXkgOiBudWxsO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTsgLy8gcG9yIHNpIGFjYXNvXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGZhaWxzYWZlIHJlY2VwY2nDs246IHNpIGVsIGZsYWcgZGljZSBcInJlY2liaWVuZG9cIiBwZXJvIGxhIGFuaW1hY2nDs24gbm8gbG8gZXNcclxuICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyAmJlxyXG4gICAgICAgICAgICAgICAgY3VycmVudEtleSAhPT0gdGhpcy5jb25maWcucmVjZWl2ZUxlZnRBbmltICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50S2V5ICE9PSB0aGlzLmNvbmZpZy5yZWNlaXZlUmlnaHRBbmltXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBmYWlsc2FmZSBzYWx0bzogc2kgaXNKdW1waW5nIGVzIHRydWUgcGVybyBsYSBhbmltYWNpw7NuIGFjdHVhbCBOTyBlcyBkZSBzYWx0b1xyXG4gICAgICAgICAgICAvLyAoeSBoYXkgYW5pbWFjacOzbiksIHNlIGFzdW1lIHF1ZSB0ZXJtaW7Ds1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzSnVtcGluZyAmJlxyXG4gICAgICAgICAgICAgICAgY3VycmVudEtleSAmJlxyXG4gICAgICAgICAgICAgICAgY3VycmVudEtleSAhPT0gdGhpcy5jb25maWcuanVtcExlZnRBbmltICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50S2V5ICE9PSB0aGlzLmNvbmZpZy5qdW1wUmlnaHRBbmltXHJcbiAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gdGltZW91dCBkZSBzYWx0byBwb3Igc2VndXJpZGFkXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzSnVtcGluZyAmJiAodGhpcy5zY2VuZS50aW1lLm5vdyAtIHRoaXMuanVtcFN0YXJ0VGltZSA+IDE1MDApKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBhdGVycml6YWplIHJlYWxcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNKdW1waW5nICYmICF3YXNPbkdyb3VuZCAmJiB0aGlzLmlzT25Hcm91bmQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mYWNpbmcgPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaWRsZUxlZnQoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZGxlUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNsYW1wV2l0aGluQm91bmRzKCk7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlTXVsdGlwbGllclRleHRQb3NpdGlvbigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFVzbyBkZSBsb3MgcG93ZXItdXBzXHJcbiAgICBhcHBseVBvd2VyVXAodHlwZSkge1xyXG4gICAgICAgIC8vIGludmVudGFyaW8gbcOheGltbyBkZSAyXHJcbiAgICAgICAgaWYgKHRoaXMucG93ZXJVcEludmVudG9yeS5sZW5ndGggPj0gMikgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLnBvd2VyVXBJbnZlbnRvcnkucHVzaCh0eXBlKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICB1c2VOZXh0UG93ZXJVcCgpIHtcclxuICAgICAgICBpZiAodGhpcy5wb3dlclVwSW52ZW50b3J5Lmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCB0eXBlID0gdGhpcy5wb3dlclVwSW52ZW50b3J5LnNoaWZ0KCk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmF0ZVBvd2VyVXAodHlwZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWN0aXZhIGVsIGVmZWN0byBkZWwgcG93ZXItdXBcclxuICAgIGFjdGl2YXRlUG93ZXJVcCh0eXBlKSB7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3ZlbG9jaWRhZCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5T3JSZWZyZXNoVGltZWRFZmZlY3QoJ3ZlbG9jaWRhZCcsIFBPV0VSVVBfRFVSQVRJT05fTVMudmVsb2NpZGFkKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdyYWxlbnRpemFyJzoge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3Bwb25lbnQgPSB0aGlzLmdldE9wcG9uZW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAob3Bwb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHBvbmVudC5hcHBseU9yUmVmcmVzaFRpbWVkRWZmZWN0KCdyYWxlbnRpemFyJywgUE9XRVJVUF9EVVJBVElPTl9NUy5yYWxlbnRpemFyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgJ3BhcmFsaXphcic6IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG9wcG9uZW50ID0gdGhpcy5nZXRPcHBvbmVudCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wcG9uZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3Bwb25lbnQuYXBwbHlPclJlZnJlc2hUaW1lZEVmZmVjdCgncGFyYWxpemFyJywgUE9XRVJVUF9EVVJBVElPTl9NUy5wYXJhbGl6YXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSAncG9yMic6XHJcbiAgICAgICAgICAgIGNhc2UgJ3BvcjMnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseU9yUmVmcmVzaFRpbWVkRWZmZWN0KHR5cGUsIFBPV0VSVVBfRFVSQVRJT05fTVNbdHlwZV0pO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdHVhbGl6YSBsb3MgcG93ZXItdXBzXHJcbiAgICB1cGRhdGVQb3dlclVwcygpIHtcclxuICAgICAgICBjb25zdCBub3cgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG5cclxuICAgICAgICBsZXQgc3BlZWROZWVkc1JlY2FsYyA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBzY29yZU5lZWRzUmVjYWxjID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHNlIHJldmlzYW4gdG9kb3MgbG9zIHBvd2VyLXVwcyBhY3Rpdm9zXHJcbiAgICAgICAgZm9yIChjb25zdCB0eXBlIGluIHRoaXMuYWN0aXZlUG93ZXJVcHMpIHtcclxuICAgICAgICAgICAgaWYgKG5vdyA8PSB0aGlzLmFjdGl2ZVBvd2VyVXBzW3R5cGVdKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmFjdGl2ZVBvd2VyVXBzW3R5cGVdO1xyXG5cclxuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICd2ZWxvY2lkYWQnOlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3BlZWRFZmZlY3QoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkTmVlZHNSZWNhbGMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncmFsZW50aXphcic6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTbG93RWZmZWN0KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICBzcGVlZE5lZWRzUmVjYWxjID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3BhcmFsaXphcic6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRQYXJhbHl6ZWQoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncG9yMic6XHJcbiAgICAgICAgICAgICAgICBjYXNlICdwb3IzJzpcclxuICAgICAgICAgICAgICAgICAgICBzY29yZU5lZWRzUmVjYWxjID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHNwZWVkTmVlZHNSZWNhbGMpIHRoaXMucmVjYWxjdWxhdGVNb3ZlU3BlZWQoKTtcclxuICAgICAgICBpZiAoc2NvcmVOZWVkc1JlY2FsYykgdGhpcy5yZWNhbGN1bGF0ZVNjb3JlRWZmZWN0KCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIC8vLy8gRUZFQ1RPUyBWSVNVQUxFUyBERSBMT1MgUE9XRVItVVBTIC8vLy9cclxuICAgIC8vIHBhcmFsaXphciAtPiByb2pvICsgcGFycGFkZW9cclxuICAgIHNldFBhcmFseXplZChpc1BhcmFseXplZCkge1xyXG4gICAgICAgIHRoaXMuaXNQYXJhbHl6ZWQgPSBpc1BhcmFseXplZDtcclxuXHJcbiAgICAgICAgaWYgKGlzUGFyYWx5emVkKSB7XHJcbiAgICAgICAgICAgIC8vIGZlZWRiYWNrIHZpc3VhbDogcm9qbyArIHBhcnBhZGVvXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHhmZjU1NTUpOyAgIC8vIHJvaml6b1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRBbHBoYSgxKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHBvciBzaSB5YSBoYWLDrWEgdW4gdHdlZW4gYW50ZXJpb3JcclxuICAgICAgICAgICAgaWYgKHRoaXMucGFyYWx5c2lzVHdlZW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyYWx5c2lzVHdlZW4uc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2VlbiA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucGFyYWx5c2lzVHdlZW4gPSB0aGlzLnNjZW5lLnR3ZWVucy5hZGQoe1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0czogdGhpcy5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICBhbHBoYTogMC4zLFxyXG4gICAgICAgICAgICAgICAgeW95bzogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyMDAsXHJcbiAgICAgICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8gc2VndXJpZGFkIGV4dHJhOiBxdWUgc2UgcXVlZGUgcXVpZXRvIGhvcml6b250YWxtZW50ZVxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHF1aXRhciBzb2xvIGVsIGVmZWN0byBkZSBwYXJwYWRlbywgZWwgY29sb3Igc2UgcmVjYWxjdWxhXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMucGFyYWx5c2lzVHdlZW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyYWx5c2lzVHdlZW4uc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2VlbiA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFZvbHZlbW9zIGEgYXBsaWNhciBlbCBjb2xvciBkZSBvdHJvcyBwb3dlci11cHMgYWN0aXZvcyAoc2kgbG9zIGhheSlcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoUG93ZXJVcFZpc3VhbHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIC8vIHZlbG9jaWRhZCAtPiBuYXJhbmphXHJcbiAgICBzZXRTcGVlZEVmZmVjdChhY3RpdmUpIHtcclxuICAgICAgICB0aGlzLnNwZWVkRWZmZWN0QWN0aXZlID0gYWN0aXZlO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFBvd2VyVXBWaXN1YWxzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcmFsZW50aXphciAtPiBhenVsXHJcbiAgICBzZXRTbG93RWZmZWN0KGFjdGl2ZSkge1xyXG4gICAgICAgIHRoaXMuc2xvd0VmZmVjdEFjdGl2ZSA9IGFjdGl2ZTtcclxuICAgICAgICB0aGlzLnJlZnJlc2hQb3dlclVwVmlzdWFscygpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBSZWNhbGN1bGEgbGEgdmVsb2NpZGFkIGRlIG1vdmltaWVudG8gc2Vnw7puIGxvcyBwb3dlci11cHMgcXVlIGVzdMOpbiBhY3Rpdm9zXHJcbiAgICByZWNhbGN1bGF0ZU1vdmVTcGVlZCgpIHtcclxuICAgICAgICBsZXQgbXVsdCA9IDE7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVBvd2VyVXBzLnZlbG9jaWRhZCkgbXVsdCAqPSBTUEVFRF9NVUxULnZlbG9jaWRhZDtcclxuICAgICAgICBpZiAodGhpcy5hY3RpdmVQb3dlclVwcy5yYWxlbnRpemFyKSBtdWx0ICo9IFNQRUVEX01VTFQucmFsZW50aXphcjtcclxuXHJcbiAgICAgICAgdGhpcy5tb3ZlU3BlZWQgPSB0aGlzLmJhc2VNb3ZlU3BlZWQgKiBtdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlY2FsY3VsYSBlbCBtdWx0aXBsaWNhZG9yIGRlIHB1bnR1YWNpw7NuIGVuIGZ1bmNpw7NuIGRlIHBvcjIvcG9yMyBhY3Rpdm9zXHJcbiAgICByZWNhbGN1bGF0ZVNjb3JlRWZmZWN0KCkge1xyXG4gICAgICAgIGxldCBtdWx0aXBsaWVyID0gMTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlUG93ZXJVcHNbJ3BvcjInXSkge1xyXG4gICAgICAgICAgICBtdWx0aXBsaWVyID0gTWF0aC5tYXgobXVsdGlwbGllciwgMik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVBvd2VyVXBzWydwb3IzJ10pIHtcclxuICAgICAgICAgICAgbXVsdGlwbGllciA9IE1hdGgubWF4KG11bHRpcGxpZXIsIDMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zY29yZU11bHRpcGxpZXIgPSBtdWx0aXBsaWVyO1xyXG5cclxuICAgICAgICAvLyBmZWVkYmFjayB2aXN1YWwgY29uIHRleHRvIHgyIC8geDNcclxuICAgICAgICBpZiAodGhpcy5tdWx0aXBsaWVyVGV4dCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zY29yZU11bHRpcGxpZXIgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpcGxpZXJUZXh0LnNldFRleHQoJ3gnICsgdGhpcy5zY29yZU11bHRpcGxpZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdWx0aXBsaWVyVGV4dC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdWx0aXBsaWVyVGV4dC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gbWFudGVuZXIgbG9zIGNvbG9yZXMgcXVlIHlhIHNlIHRlbsOtYW5cclxuICAgICAgICB0aGlzLnJlZnJlc2hQb3dlclVwVmlzdWFscygpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFwbGljYSBvIGFjdHVhbGl6YSBsYSBkdXJhY2nDs24gZGUgdW4gcG93ZXItdXBcclxuICAgIGFwcGx5T3JSZWZyZXNoVGltZWRFZmZlY3QodHlwZSwgZHVyYXRpb25Ncykge1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVQb3dlclVwc1t0eXBlXSA9IG5vdyArIGR1cmF0aW9uTXM7XHJcblxyXG4gICAgICAgIC8vIHNlIGFjdGl2YSBlbCBmZWVkYmFjay9lc3RhZG9cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3ZlbG9jaWRhZCcpIHRoaXMuc2V0U3BlZWRFZmZlY3QodHJ1ZSk7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdyYWxlbnRpemFyJykgdGhpcy5zZXRTbG93RWZmZWN0KHRydWUpO1xyXG4gICAgICAgIGlmICh0eXBlID09PSAncGFyYWxpemFyJykgdGhpcy5zZXRQYXJhbHl6ZWQodHJ1ZSk7XHJcblxyXG4gICAgICAgIC8vIHNlIHJlY2FsY3VsYW4gbG9zIGVmZWN0b3Mgc2kgZXMgbmVjZXNhcmlvXHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICd2ZWxvY2lkYWQnIHx8IHR5cGUgPT09ICdyYWxlbnRpemFyJykge1xyXG4gICAgICAgICAgICB0aGlzLnJlY2FsY3VsYXRlTW92ZVNwZWVkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0eXBlID09PSAncG9yMicgfHwgdHlwZSA9PT0gJ3BvcjMnKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjYWxjdWxhdGVTY29yZUVmZmVjdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBEZWNpZGUgcXXDqSB0aW50ZSBtb3N0cmFyIHNlZ8O6biBlbCBlc3RhZG8gYWN0dWFsXHJcbiAgICByZWZyZXNoUG93ZXJVcFZpc3VhbHMoKSB7XHJcbiAgICAgICAgLy8gc2kgZXN0w6EgcGFyYWxpemFkbywgbGEgcGFyw6FsaXNpcyBtYW5kYSAoY29sb3IgIHJvam8gKyBwYXJwYWRlbylcclxuICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBQaGFzZXIgc29sbyBwZXJtaXRlIHVuIGNvbG9yIGEgbGEgdmV6IHBvciBzcHJpdGUsIHBvciBlc28gbGFcclxuICAgICAgICAvLyBwcmlvcmlkYWQgdmlzdWFsIGVzOiByYWxlbnRpemFyID4gdmVsb2NpZGFkID4gbXVsdGlwbGljYWRvclxyXG4gICAgICAgIGlmICh0aGlzLnNsb3dFZmZlY3RBY3RpdmUpIHtcclxuICAgICAgICAgICAgLy8gYXp1bCBvc2N1cm8gcGFyYSByYWxlbnRpemFyXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHg1NTU1ZmYpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zcGVlZEVmZmVjdEFjdGl2ZSkge1xyXG4gICAgICAgICAgICAvLyBuYXJhbmphIHBhcmEgdmVsb2NpZGFkXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHhmZjhjMDApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zY29yZU11bHRpcGxpZXIgPiAxKSB7XHJcbiAgICAgICAgICAgIC8vIHZlcmRlIHBhcmEgeDIgLyB4M1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4MzJjZDMyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBzaW4gZWZlY3Rvc1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5jbGVhclRpbnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLy8vLy8vXHJcblxyXG4gICAgZ2V0T3Bwb25lbnQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNjZW5lLnBsYXllcnMpIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuc2NlbmUucGxheWVycy52YWx1ZXMoKSkuZmluZChwID0+IHAgIT09IHRoaXMpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBBcHBseVBvd2VyVXBDb21tYW5kIHtcbiAgICBjb25zdHJ1Y3RvcihwbGF5ZXIsIHBvd2VyVXBUeXBlKSB7XG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyO1xuICAgICAgICB0aGlzLnBvd2VyVXBUeXBlID0gcG93ZXJVcFR5cGU7XG4gICAgICAgIHRoaXMuc3RvcmVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZXhlY3V0ZSgpIHtcbiAgICAgICAgdGhpcy5zdG9yZWQgPSB0aGlzLnBsYXllci5hcHBseVBvd2VyVXAodGhpcy5wb3dlclVwVHlwZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlZDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBBcHBseVBvd2VyVXBDb21tYW5kIH0gZnJvbSBcIi4uL0NvbW1hbmRzL0FwcGx5UG93ZXJVcENvbW1hbmRcIjtcblxuZXhwb3J0IGNsYXNzIFBvd2VyVXAge1xuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5LCB0eXBlKSB7XG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcblxuICAgICAgICB0aGlzLmlzQ29sbGVjdGVkID0gZmFsc2U7ICAgLy8gcGFyYSBldml0YXIgcmVjb2dlciB2YXJpYXMgdmVjZXNcbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gZmFsc2U7ICAgIC8vIHBhcmEgZXZpdGFyIGRlc3RydWlyIHZhcmlhcyB2ZWNlc1xuICAgICAgICB0aGlzLl9jb29sZG93blVudGlsID0gMDsgICAgLy8gdGllbXBvIGhhc3RhIGVsIHF1ZSBubyBzZSBwdWVkZSByZWNvZ2VyXG5cbiAgICAgICAgdGhpcy5mYWRlU3RhcnQgPSAzMDAwOyAgICAgIC8vIG1zIGhhc3RhIGVtcGV6YXIgYSBkZXN2YW5lY2Vyc2VcbiAgICAgICAgdGhpcy5saWZldGltZSA9IDUwMDA7ICAgICAgIC8vIG1zIGRlIHZpZGEgdG90YWxcblxuICAgICAgICB0aGlzLl9vdmVybGFwcyA9IFtdOyAgICAgICAgLy8gY29sbGlkZXJzIG92ZXJsYXBzXG4gICAgICAgIHRoaXMuZmFkZVR3ZWVuID0gbnVsbDsgICAgICAvLyB0d2VlbiBkZSBmYWRlXG4gICAgICAgIHRoaXMuX2xpZmV0aW1lVGltZXIgPSBudWxsOyAvLyB0aW1lciBkZSB2aWRhXG5cbiAgICAgICAgdGhpcy5zcHJpdGUgPSBzY2VuZS5waHlzaWNzLmFkZC5zdGF0aWNJbWFnZSh4LCB5LCB0eXBlKVxuICAgICAgICAgICAgLnNldFNjYWxlKDEuMilcbiAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSgpO1xuXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YSBlbCBib2R5IHRyYXMgZWwgZXNjYWxhZG9cbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLnJlZnJlc2hCb2R5KSB0aGlzLnNwcml0ZS5yZWZyZXNoQm9keSgpO1xuXG4gICAgICAgIC8vIHNlIGd1YXJkYSBlbCB0d2VlbiBwYXJhIHBvZGVyIHBhcmFybG8gZW4gZGVzdHJveVxuICAgICAgICBjb25zdCBmYWRlRGVsYXkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbih0aGlzLmZhZGVTdGFydCwgdGhpcy5saWZldGltZSkpO1xuICAgICAgICBjb25zdCBmYWRlRHVyYXRpb24gPSBNYXRoLm1heCgwLCB0aGlzLmxpZmV0aW1lIC0gZmFkZURlbGF5KTtcblxuICAgICAgICBpZiAoZmFkZUR1cmF0aW9uID4gMCkge1xuICAgICAgICAgICAgdGhpcy5mYWRlVHdlZW4gPSBzY2VuZS50d2VlbnMuYWRkKHtcbiAgICAgICAgICAgICAgICB0YXJnZXRzOiB0aGlzLnNwcml0ZSxcbiAgICAgICAgICAgICAgICBhbHBoYTogMCxcbiAgICAgICAgICAgICAgICBkZWxheTogZmFkZURlbGF5LFxuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBmYWRlRHVyYXRpb25cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gb3ZlcmxhcHMgY29uIGxvcyBqdWdhZG9yZXNcbiAgICAgICAgY29uc3QgcGxheWVycyA9IHNjZW5lLnBsYXllcnM7XG4gICAgICAgIGlmIChwbGF5ZXJzICYmIHR5cGVvZiBwbGF5ZXJzLmZvckVhY2ggPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcGxheWVyPy5zcHJpdGUpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBzY2VuZS5waHlzaWNzLmFkZC5vdmVybGFwKFxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwcml0ZSxcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4gdGhpcy5jb2xsZWN0KHBsYXllciksXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRoaXNcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHRoaXMuX292ZXJsYXBzLnB1c2goYyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRpbWVyIGRlIHZpZGFcbiAgICAgICAgdGhpcy5fbGlmZXRpbWVUaW1lciA9IHNjZW5lLnRpbWUuZGVsYXllZENhbGwodGhpcy5saWZldGltZSwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJlY29nZSBlbCBwb3dlci11cFxuICAgIGNvbGxlY3QocGxheWVyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdbUG93ZXJVcF0gb3ZlcmxhcCBjb24nLCBwbGF5ZXIuaWQsICd0aXBvJywgdGhpcy50eXBlKTtcblxuICAgICAgICBpZiAodGhpcy5fZGVzdHJveWVkKSByZXR1cm47XG4gICAgICAgIGlmICh0aGlzLmlzQ29sbGVjdGVkKSByZXR1cm47XG5cbiAgICAgICAgLy8gc2kgZWwgaW52ZW50YXJpbyBlc3TDoSBsbGVubyB5IGVsIGp1Z2Fkb3Igc2UgcXVlZGEgZW5jaW1hLCBzZSBldml0YSBlbCBzcGFtXG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMuc2NlbmUudGltZS5ub3c7XG4gICAgICAgIGlmICh0aGlzLl9jb29sZG93blVudGlsICYmIG5vdyA8IHRoaXMuX2Nvb2xkb3duVW50aWwpIHJldHVybjtcblxuICAgICAgICB0aGlzLmlzQ29sbGVjdGVkID0gdHJ1ZTtcblxuICAgICAgICBjb25zdCBjbWQgPSBuZXcgQXBwbHlQb3dlclVwQ29tbWFuZChwbGF5ZXIsIHRoaXMudHlwZSk7XG4gICAgICAgIHRoaXMuc2NlbmUuY29tbWFuZFByb2Nlc3Nvci5wcm9jZXNzKGNtZCk7XG5cbiAgICAgICAgLy8gc2kgTk8gc2UgcHVlZGUgZ3VhcmRhciBwb3JxdWUgZWwgaW52ZW50YXJpbyBlc3TDoSBsbGVubywgTk8gc2UgZGVzdHJ1eWVcbiAgICAgICAgaWYgKCFjbWQuc3RvcmVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzQ29sbGVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9jb29sZG93blVudGlsID0gbm93ICsgMzAwO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuc2NlbmUudXBkYXRlUGxheWVySW52ZW50b3J5VUk/LihwbGF5ZXIpO1xuICAgIH1cblxuICAgIC8vIERlc3RydXllIGVsIHBvd2VyLXVwXG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkgcmV0dXJuO1xuICAgICAgICB0aGlzLl9kZXN0cm95ZWQgPSB0cnVlO1xuXG4gICAgICAgIC8vIGNvbGxpZGVycyBvdmVybGFwc1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLl9vdmVybGFwcykpIHtcbiAgICAgICAgICAgIHRoaXMuX292ZXJsYXBzLmZvckVhY2goYyA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHsgYy5kZXN0cm95KCk7IH0gY2F0Y2gge31cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fb3ZlcmxhcHMgPSBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHR3ZWVuXG4gICAgICAgIGlmICh0aGlzLmZhZGVUd2Vlbikge1xuICAgICAgICAgICAgdHJ5IHsgdGhpcy5mYWRlVHdlZW4uc3RvcCgpOyB9IGNhdGNoIHt9XG4gICAgICAgICAgICB0aGlzLmZhZGVUd2VlbiA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aW1lclxuICAgICAgICBpZiAodGhpcy5fbGlmZXRpbWVUaW1lcikge1xuICAgICAgICAgICAgdGhpcy5fbGlmZXRpbWVUaW1lci5yZW1vdmUoZmFsc2UpO1xuICAgICAgICAgICAgdGhpcy5fbGlmZXRpbWVUaW1lciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzcHJpdGVcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlKSB7XG4gICAgICAgICAgICB0cnkgeyB0aGlzLnNwcml0ZS5kZXN0cm95KCk7IH0gY2F0Y2gge31cbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbmFsbWVudGUsIHNlIHF1aXRhIGRlbCBhcnJheVxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnNjZW5lLnBvd2VyVXBzKSkge1xuICAgICAgICAgICAgdGhpcy5zY2VuZS5wb3dlclVwcyA9IHRoaXMuc2NlbmUucG93ZXJVcHMuZmlsdGVyKHAgPT4gcCAhPT0gdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJleHBvcnQgY2xhc3MgQmFsbCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgeCwgeSkge1xyXG4gICAgICAgIHRoaXMuc2NlbmUgPSBzY2VuZTtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3NvciA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlID0gc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKHgsIHksICdiYWxsJyk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0U2NhbGUoMS4wKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRCb3VuY2UoMC44KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRDb2xsaWRlV29ybGRCb3VuZHModHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0RGF0YSgnYmFsbCcsIHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBzZWd1aW1pZW50byBkZWwgZXN0YWRvIGRlbCByYWxseVxyXG4gICAgICAgIHRoaXMubGFzdFRvdWNoZWRCeSA9IG51bGw7ICAgICAgLy8gaWQgZGVsIGp1Z2Fkb3IgKCdwbGF5ZXIxJyBvICdwbGF5ZXIyJylcclxuICAgICAgICB0aGlzLnRvdWNoQ291bnQgPSAwOyAgICAgICAgICAgIC8vIHRvcXVlcyBlbiBlbCByYWxseSBhY3R1YWwgcG9yIGxhZG8gZGUgbGEgY2FuY2hhXHJcbiAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAnbGVmdCc7ICAgICAgICAvLyBsYWRvIGRlIGxhIGNhbmNoYSBkb25kZSBlc3TDoSBsYSBwZWxvdGFcclxuICAgICAgICB0aGlzLmlzQmFsbExpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyBwb3NpY2nDs24gZGUgbGEgcmVkIChoYXJkY29kZWFkbyBwYXJhIGFuY2hvIGRlIDk2MHB4KVxyXG4gICAgICAgIHRoaXMubmV0WCA9IDQ4MDtcclxuXHJcbiAgICAgICAgLy8gcGFyYSBldml0YXIgdG9xdWVzIG3Dumx0aXBsZXMgcG9yIGVzdGFyIHBlZ2FkYSB5IHF1ZSBcImRlc2FwYXJlemNhXCJcclxuICAgICAgICB0aGlzLmxhc3RIaXRUaW1lID0gMDtcclxuICAgICAgICB0aGlzLmxhc3RIaXRQbGF5ZXJJZCA9IG51bGw7XHJcblx0XHRcclxuICAgICAgICAvL3RoaXMuaXNGaXJzdFNlcnZlID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZW5lcmEgdW4gbsO6bWVybyBhbGVhdG9yaW8gcGFyYSB2YXJpYXIgbGV2ZW1lbnRlIGxhIHZlbG9jaWRhZCBkZSBsYSBwZWxvdGFcclxuICAgIF9nZXRSYW5kb21GYWN0b3IobWluID0gMC45NSwgbWF4ID0gMS4wNSkge1xyXG4gICAgICAgIHJldHVybiBtaW4gKyAobWF4IC0gbWluKSAqIE1hdGgucmFuZG9tKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2UgbGxhbWEgY3VhbmRvIHVuIGp1Z2Fkb3IgZ29scGVhIGxhIHBlbG90YVxyXG4gICAgaGl0KHBsYXllciwgcGxheWVyRmFjaW5nRGlyZWN0aW9uLCBpc0p1bXBpbmcsIGlzUmVjZWl2aW5nID0gZmFsc2UpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBub3cgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG5cclxuICAgICAgICAvLyBzaSBlcyBlbCBtaXNtbyBqdWdhZG9yIHkgaGEgcGFzYWRvIG11eSBwb2NvIHRpZW1wbyxcclxuICAgICAgICAvLyBpZ25vcmFtb3MgZXNlIFwidG9xdWVcIiBwYXJhIG5vIHN1bWFyIG3DoXMgZ29scGVzXHJcbiAgICAgICAgaWYgKHRoaXMubGFzdEhpdFBsYXllcklkID09PSBwbGF5ZXIuaWQgJiYgKG5vdyAtIHRoaXMubGFzdEhpdFRpbWUpIDwgMTIwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdHJhbW9zIGVzdGUgbnVldm8gZ29scGUgdsOhbGlkb1xyXG4gICAgICAgIHRoaXMubGFzdEhpdFBsYXllcklkID0gcGxheWVyLmlkO1xyXG4gICAgICAgIHRoaXMubGFzdEhpdFRpbWUgPSBub3c7XHJcblxyXG4gICAgICAgIC8vIHNlIGluY3JlbWVudGEgZWwgY29udGFkb3IgZGUgdG9xdWVzIHNpIGVsIG1pc21vIGp1Z2Fkb3IgY29udGluw7phLCBzZSByZWluaWNpYSBzaSBlcyBlbCBvdHJvXHJcbiAgICAgICAgaWYgKHRoaXMubGFzdFRvdWNoZWRCeSA9PT0gcGxheWVyLmlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG91Y2hDb3VudCsrO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudG91Y2hDb3VudCA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdFRvdWNoZWRCeSA9IHBsYXllci5pZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudG91Y2hDb3VudCA+IDMpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkZhbHRhKCd0b3F1ZUV4Y2VkaWRvJywgcGxheWVyKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzZSByZXByb2R1Y2UgZWwgZWZlY3RvIGRlIHNvbmlkbyBzZWfDum4gZWwgdGlwbyBkZSBnb2xwZVxyXG4gICAgICAgIGlmIChpc1JlY2VpdmluZykge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lPy5wbGF5U2Z4Py4odGhpcy5zY2VuZT8uc2Z4Py5yZWNlaXZlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzSnVtcGluZykge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lPy5wbGF5U2Z4Py4odGhpcy5zY2VuZT8uc2Z4Py5zcGlrZSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8gc2UgY2FsY3VsYSB2ZWxvY2lkYWQgZGUgbGEgcGVsb3RhIHNlZ8O6biBsYSBkaXJlY2Npw7NuIGRlbCBqdWdhZG9yIHkgc2kgZXN0w6Egc2FsdGFuZG8vcmVjaWJpZW5kb1xyXG4gICAgICAgIGxldCB2ZWxvY2l0eVgsIHZlbG9jaXR5WTtcclxuXHJcbiAgICAgICAgaWYgKGlzUmVjZWl2aW5nKSB7XHJcbiAgICAgICAgICAgIC8vIHJlY2VwY2nDs246IHBhcsOhYm9sYSBsYXJnYSB5IGFuY2hhICh0cmF5ZWN0b3JpYSBkZWZlbnNpdmEpXHJcbiAgICAgICAgICAgIC8vIG1lbm9yIHZlbG9jaWRhZCBob3Jpem9udGFsLCBtYXlvciB2ZWxvY2lkYWQgdmVydGljYWwgcGFyYSBlbCBhcmNvXHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2VTcGVlZFggPSAxODA7XHJcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsU3RyZW5ndGggPSAtMzUwOyAvLyBjb21wb25lbnRlIHZlcnRpY2FsIG1heW9yIHBhcmEgZWwgYXJjb1xyXG4gICAgICAgICAgICBjb25zdCByYW5kb21GYWN0b3JYID0gdGhpcy5fZ2V0UmFuZG9tRmFjdG9yKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmRvbUZhY3RvclkgPSB0aGlzLl9nZXRSYW5kb21GYWN0b3IoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXJGYWNpbmdEaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlYID0gLWJhc2VTcGVlZFggKiByYW5kb21GYWN0b3JYO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlYID0gYmFzZVNwZWVkWCAqIHJhbmRvbUZhY3Rvclg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmVsb2NpdHlZID0gdmVydGljYWxTdHJlbmd0aCAqIHJhbmRvbUZhY3Rvclk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0p1bXBpbmcpIHtcclxuICAgICAgICAgICAgLy8gc2FsdG8vYXRhcXVlOiBob3Jpem9udGFsIGZ1ZXJ0ZSwgdmVydGljYWwgZMOpYmlsIChyZW1hdGUvc21hc2gpXHJcbiAgICAgICAgICAgIC8vIGFsdGEgdmVsb2NpZGFkIGhvcml6b250YWwsIGJhamEgdmVsb2NpZGFkIHZlcnRpY2FsIHBhcmEgdHJheWVjdG9yaWEgcGxhbmFcclxuICAgICAgICAgICAgY29uc3QgYmFzZVNwZWVkWCA9IDIyMDtcclxuICAgICAgICAgICAgY29uc3QgdmVydGljYWxTdHJlbmd0aCA9IC0xNTA7IC8vIGNvbXBvbmVudGUgdmVydGljYWwgYmFqbyBwYXJhIGF0YXF1ZSBwbGFub1xyXG4gICAgICAgICAgICBjb25zdCByYW5kb21GYWN0b3JYID0gdGhpcy5fZ2V0UmFuZG9tRmFjdG9yKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJhbmRvbUZhY3RvclkgPSB0aGlzLl9nZXRSYW5kb21GYWN0b3IoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXJGYWNpbmdEaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlYID0gLWJhc2VTcGVlZFggKiByYW5kb21GYWN0b3JYO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlYID0gYmFzZVNwZWVkWCAqIHJhbmRvbUZhY3Rvclg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmVsb2NpdHlZID0gdmVydGljYWxTdHJlbmd0aCAqIHJhbmRvbUZhY3Rvclk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gZ29scGUgcmVndWxhciBkZXNkZSBlbCBzdWVsb1xyXG4gICAgICAgICAgICBjb25zdCBiYXNlU3BlZWRYID0gMTgwO1xyXG5cclxuICAgICAgICAgICAgaWYgKHBsYXllckZhY2luZ0RpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSAtYmFzZVNwZWVkWDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5WCA9IGJhc2VTcGVlZFg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmVsb2NpdHlZID0gLTEwMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5KHZlbG9jaXR5WCwgdmVsb2NpdHlZKTtcclxuXHJcbiAgICAgICAgLy8gc2UgYWN0dWFsaXphciBlbCBsYWRvIGRlIGxhIGNhbmNoYSBzZWfDum4gbGEgZGlyZWNjacOzbiBkZSBsYSB2ZWxvY2lkYWRcclxuICAgICAgICBpZiAodmVsb2NpdHlYID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvdXJ0U2lkZSA9ICdyaWdodCc7XHJcbiAgICAgICAgfSBlbHNlIGlmICh2ZWxvY2l0eVggPCAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY291cnRTaWRlID0gJ2xlZnQnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBTZSBsbGFtYSBjdWFuZG8gbGEgcGVsb3RhIGNydXphIGxhIHJlZFxyXG4gICAgY3Jvc3NOZXQoKSB7XHJcbiAgICAgICAgLy8gc2UgcmVpbmljaWEgZWwgY29udGFkb3IgZGUgdG9xdWVzIHBhcmEgZWwgbnVldm8gbGFkbyBkZSBjYW5jaGFcclxuICAgICAgICB0aGlzLnRvdWNoQ291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMubGFzdFRvdWNoZWRCeSA9IG51bGw7XHJcblxyXG4gICAgICAgIC8vIHNlIGNhbWJpYSBkZSBsYWRvIGRlIGNhbmNoYVxyXG4gICAgICAgIHRoaXMuY291cnRTaWRlID0gdGhpcy5jb3VydFNpZGUgPT09ICdsZWZ0JyA/ICdyaWdodCcgOiAnbGVmdCc7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2UgbGxhbWEgY3VhbmRvIGxhIHBlbG90YSB0b2NhIGVsIHN1ZWxvXHJcbiAgICBvbkdyb3VuZGVkKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0JhbGxMaXZlKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGJhbGxPbkxlZnQgPSB0aGlzLnNwcml0ZS54IDwgdGhpcy5uZXRYO1xyXG4gICAgICAgIGNvbnN0IGJhbGxPblJpZ2h0ID0gdGhpcy5zcHJpdGUueCA+IHRoaXMubmV0WDtcclxuXHJcbiAgICAgICAgLy8gZGV0ZXJtaW5hciBxdWnDqW4gYW5vdGFcclxuICAgICAgICBpZiAoYmFsbE9uTGVmdCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uUmFsbHlFbmQoJ3BsYXllcjInKTsgLy8gcGxheWVyMiBhbm90YVxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0UmFsbHkoJ3BsYXllcjInKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGJhbGxPblJpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMub25SYWxseUVuZCgncGxheWVyMScpOyAvLyBwbGF5ZXIxIGFub3RhXHJcbiAgICAgICAgICAgIHRoaXMucmVzZXRSYWxseSgncGxheWVyMScpO1xyXG4gICAgICAgIH1cclxuICAgIH0gICAgXHJcblxyXG4gICAgLy8gU2UgbGxhbWEgY3VhbmRvIG9jdXJyZSB1bmEgZmFsdGEgKGRlbWFzaWFkb3MgdG9xdWVzLCBwZWxvdGEgZnVlcmEgZGUgbMOtbWl0ZXMsIGV0Yy4pXHJcbiAgICBvbkZhbHRhKGZhbHRhVHlwZSwgZmFsdGluZ1BsYXllcikge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0JhbGxMaXZlKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIHNlIGRldGVybWluYXIgZWwganVnYWRvciBxdWUgYW5vdGEgKG9wdWVzdG8gYWwgcXVlIGNvbWV0acOzIGZhbHRhKVxyXG4gICAgICAgIGNvbnN0IHNjb3JpbmdQbGF5ZXJJZCA9IGZhbHRpbmdQbGF5ZXIuaWQgPT09ICdwbGF5ZXIxJyA/ICdwbGF5ZXIyJyA6ICdwbGF5ZXIxJztcclxuXHJcbiAgICAgICAgdGhpcy5vblJhbGx5RW5kKHNjb3JpbmdQbGF5ZXJJZCk7XHJcbiAgICAgICAgdGhpcy5yZXNldFJhbGx5KHNjb3JpbmdQbGF5ZXJJZCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2UgbGxhbWEgY3VhbmRvIGZpbmFsaXphIHVuIHJhbGx5IChhbGd1aWVuIGFub3RhKVxyXG4gICAgb25SYWxseUVuZChzY29yaW5nUGxheWVySWQpIHtcclxuICAgICAgICB0aGlzLmlzQmFsbExpdmUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gc2UgbGFuemEgdW4gZXZlbnRvIHBhcmEgcXVlIEdhbWVfU2NlbmUgbWFuZWplIGxhIHB1bnR1YWNpw7NuXHJcbiAgICAgICAgdGhpcy5zY2VuZS5ldmVudHMuZW1pdCgncmFsbHlDb25jbHVkZWQnLCB7XHJcbiAgICAgICAgICAgIHNjb3JpbmdQbGF5ZXJJZDogc2NvcmluZ1BsYXllcklkLFxyXG4gICAgICAgICAgICB0b3VjaENvdW50OiB0aGlzLnRvdWNoQ291bnQsXHJcbiAgICAgICAgICAgIGxhc3RUb3VjaGVkQnk6IHRoaXMubGFzdFRvdWNoZWRCeVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEVtcHVqb24gc3V0aWwgYWwgc2FxdWUgcGFyYSBldml0YXIgcXVlIGNhaWdhIHNvYnJlIGxhIHJlZFxyXG4gICAgX2dldFN1YnRsZU51ZGdlKHNwYXduWCwgc2lkZVBhZGRpbmcsIHdvcmxkV2lkdGgpIHtcclxuICAgICAgICBjb25zdCBzaWduID0gTWF0aC5yYW5kb20oKSA8IDAuNSA/IC0xIDogMTtcclxuICAgICAgICBjb25zdCBvZmZzZXQgPSBzaWduICogMTI7XHJcbiAgICAgICAgY29uc3QgY2xhbXBlZFggPSBNYXRoLm1heChzaWRlUGFkZGluZywgTWF0aC5taW4od29ybGRXaWR0aCAtIHNpZGVQYWRkaW5nLCBzcGF3blggKyBvZmZzZXQpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHsgc3Bhd25YOiBjbGFtcGVkWCwgdmVsb2NpdHlYOiBvZmZzZXQgfTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb2xvY2EgbGEgcGVsb3RhIHBhcmEgZWwgc2FxdWUgc2luIHJlaW5pY2lhciBlbCByYWxseVxyXG4gICAgc2V0U2VydmVQb3NpdGlvbihzY29yaW5nUGxheWVyKSB7XHJcbiAgICAgICAgY29uc3Qgc3Bhd25ZID0gMTAwO1xyXG4gICAgICAgIGNvbnN0IHNpZGVQYWRkaW5nID0gNjA7XHJcbiAgICAgICAgY29uc3Qgd29ybGRXaWR0aCA9IHRoaXMuc2NlbmUud29ybGRXaWR0aCA/PyB0aGlzLnNjZW5lLnNjYWxlPy53aWR0aCA/PyB0aGlzLm5ldFggKiAyO1xyXG4gICAgICAgIGNvbnN0IGNsYW1wID0gKHZhbHVlLCBtaW4sIG1heCkgPT4gTWF0aC5tYXgobWluLCBNYXRoLm1pbihtYXgsIHZhbHVlKSk7XHJcblxyXG4gICAgICAgIGxldCBzcGF3blggPSB0aGlzLm5ldFg7XHJcbiAgICAgICAgbGV0IG51ZGdlVmVsb2NpdHlYID0gMDtcclxuXHJcbiAgICAgICAgY29uc3QgaGFzU2NvcmluZ1BsYXllciA9IHNjb3JpbmdQbGF5ZXIgPT09ICdwbGF5ZXIxJyB8fCBzY29yaW5nUGxheWVyID09PSAncGxheWVyMic7XHJcblxyXG4gICAgICAgIGlmIChoYXNTY29yaW5nUGxheWVyKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMuc2NlbmUucGxheWVycz8uZ2V0ID8gdGhpcy5zY2VuZS5wbGF5ZXJzLmdldChzY29yaW5nUGxheWVyKSA6IG51bGw7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXI/LnNwcml0ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNjb3JpbmdQbGF5ZXIgPT09ICdwbGF5ZXIxJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwYXduWCA9IGNsYW1wKHBsYXllci5zcHJpdGUueCwgc2lkZVBhZGRpbmcsIHRoaXMubmV0WCAtIHNpZGVQYWRkaW5nKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Bhd25YID0gY2xhbXAocGxheWVyLnNwcml0ZS54LCB0aGlzLm5ldFggKyBzaWRlUGFkZGluZywgd29ybGRXaWR0aCAtIHNpZGVQYWRkaW5nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNwYXduWCA9IHNjb3JpbmdQbGF5ZXIgPT09ICdwbGF5ZXIxJyA/IHRoaXMubmV0WCAtIDEwMCA6IHRoaXMubmV0WCArIDEwMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgbnVkZ2UgPSB0aGlzLl9nZXRTdWJ0bGVOdWRnZShzcGF3blgsIHNpZGVQYWRkaW5nLCB3b3JsZFdpZHRoKTtcclxuICAgICAgICAgICAgc3Bhd25YID0gbnVkZ2Uuc3Bhd25YO1xyXG4gICAgICAgICAgICBudWRnZVZlbG9jaXR5WCA9IG51ZGdlLnZlbG9jaXR5WDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFBvc2l0aW9uKHNwYXduWCwgc3Bhd25ZKTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eShudWRnZVZlbG9jaXR5WCwgMCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVpbmljaWEgZWwgZXN0YWRvIGRlbCByYWxseSB5IHJlcG9zaWNpb25hIGxhIHBlbG90YSBwYXJhIGVsIHNhcXVlXHJcbiAgICByZXNldFJhbGx5KHNjb3JpbmdQbGF5ZXIpIHtcclxuICAgICAgICB0aGlzLmlzQmFsbExpdmUgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMubGFzdFRvdWNoZWRCeSA9IG51bGw7XHJcbiAgICAgICAgdGhpcy50b3VjaENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLnNldFNlcnZlUG9zaXRpb24oc2NvcmluZ1BsYXllcik7XHJcblxyXG4gICAgICAgIC8vIGxpbXBpYXIgaW5mbyBkZSDDumx0aW1vIGdvbHBlXHJcbiAgICAgICAgdGhpcy5sYXN0SGl0VGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5sYXN0SGl0UGxheWVySWQgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvLyBBY3R1YWxpemEgZWwgZXN0YWRvIGRlIGxhIHBlbG90YSBjYWRhIGZyYW1lIChzZSByYXN0cmVhIGVsIGxhZG8gZGUgbGEgY2FuY2hhIHNlZ8O6biBsYSBwb3NpY2nDs24pXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQmFsbExpdmUpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gc2UgYWN0dWFsaXphIGVsIGxhZG8gZGUgY2FuY2hhIHNlZ8O6biBwb3NpY2nDs24gYWN0dWFsXHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLnggPCB0aGlzLm5ldFggLSAyMCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvdXJ0U2lkZSA9ICdsZWZ0JztcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3ByaXRlLnggPiB0aGlzLm5ldFggKyAyMCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvdXJ0U2lkZSA9ICdyaWdodCc7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBDb21tYW5kUHJvY2Vzc29yIHtcclxuICAgIFxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gbnVsbDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgc2V0UGxheWVycyhwbGF5ZXJzKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gcGxheWVycztcclxuICAgIH1cclxuXHJcbiAgICBzZXRHYW1lU2NlbmUoZ2FtZVNjZW5lKSB7XHJcbiAgICAgICAgdGhpcy5nYW1lU2NlbmUgPSBnYW1lU2NlbmU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvY2Vzcyhjb21tYW5kKSB7XHJcbiAgICAgICAgY29tbWFuZC5leGVjdXRlKCk7XHJcbiAgICAgICAgLy8gU2VudCBvdmVyIHRoZSB3ZWJzb2NrZXRcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBDb21tYW5kIHtcclxuICAgIFxyXG4gICAgZXhlY3V0ZSgpIHt9XHJcblxyXG4gICAgc2VyaWFsaXplKCkge31cclxuXHJcbiAgICBnZXRQbGF5ZXIoKSB7fVxyXG59IiwiLy8gQ2xhc2UgcXVlIHNlIGVuY2FyZ2EgZGUgbGEgbMOzZ2ljYSBkZWwgbW92aW1pZW50byBkZWwgcGVyc29uYWplXHJcblxyXG5pbXBvcnQgeyBDb21tYW5kIH0gZnJvbSAnLi9Db21tYW5kLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNb3ZlUGxheWVyQ29tbWFuZCBleHRlbmRzIENvbW1hbmQge1xyXG4gICAgY29uc3RydWN0b3IocGxheWVyLCBkaXJlY3Rpb24pIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMucGxheWVyID0gcGxheWVyOyAgICAgICAvLyBpbnN0YW5jaWEgZGVsIHBlcnNvbmFqZVxyXG4gICAgICAgIHRoaXMuZGlyZWN0aW9uID0gZGlyZWN0aW9uOyAvLyBkaXJlY2Npw7NuIGRlIG1vdm1pZW50b1xyXG4gICAgfVxyXG5cclxuICAgIGV4ZWN1dGUoKSB7XHJcbiAgICAgICAgIHN3aXRjaCAodGhpcy5kaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgLy8gY29ycmVyIGhhY2lhIGxhIGl6ZGFcclxuICAgICAgICAgICAgY2FzZSAnbGVmdCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5tb3ZlTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIGNvcnJlciBoYWNpYSBsYSBkY2hhXHJcbiAgICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLm1vdmVSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIHNhbHRhci9yZW1hdGFyIGEgbGEgaXpkYVxyXG4gICAgICAgICAgICBjYXNlICdqdW1wTGVmdCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5qdW1wTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIHNhbHRhci9yZW1hdGEgYSBsYSBkY2hhXHJcbiAgICAgICAgICAgIGNhc2UgJ2p1bXBSaWdodCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5qdW1wUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyByZWNpYmlyIHBvciBsYSBpemRhXHJcbiAgICAgICAgICAgIGNhc2UgJ3JlY2VpdmVMZWZ0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnJlY2VpdmVMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gcmVjaWJpciBwb3IgbGEgZGNoYVxyXG4gICAgICAgICAgICBjYXNlICdyZWNlaXZlUmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIucmVjZWl2ZVJpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gcGFyYWRvLCBpZGxlIGl6ZGFcclxuICAgICAgICAgICAgY2FzZSAnaWRsZUxlZnQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuaWRsZUxlZnQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBwYXJhZG8sIGlkbGUgZGNoYSAoeSBjYXNvIHBvciBkZWZlY3RvKVxyXG4gICAgICAgICAgICAvL2Nhc2UgJ2lkbGVSaWdodCc6XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5pZGxlUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBwYXJhIGVsIG1vZG8gRU4gUkVEXHJcbiAgICBnZXRQbGF5ZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGxheWVyLmlkO1xyXG4gICAgfVxyXG5cclxuICAgIHNlcmlhbGl6ZSgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0eXBlOiAnTW92ZVBsYXllckNvbW1hbmQnLFxyXG4gICAgICAgICAgICBwbGF5ZXJJZDogdGhpcy5wbGF5ZXIuaWQsXHJcbiAgICAgICAgICAgIGRpcmVjdGlvbjogdGhpcy5kaXJlY3Rpb25cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIENsYXNlIGRlIGxhIGVzY2VuYSBkZSBqdWVnb1xyXG5cclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBQbGF5ZXIgfSBmcm9tICcuLi9FbnRpdGllcy9QbGF5ZXIuanMnO1xyXG5pbXBvcnQgeyBQb3dlclVwIH0gZnJvbSAnLi4vRW50aXRpZXMvUG93ZXJVcC5qcyc7XHJcbmltcG9ydCB7IEJhbGwgfSBmcm9tICcuLi9FbnRpdGllcy9CYWxsLmpzJztcclxuaW1wb3J0IHsgQ29tbWFuZFByb2Nlc3NvciB9IGZyb20gJy4uL0NvbW1hbmRzL0NvbW1hbmRQcm9jZXNzb3IuanMnO1xyXG5pbXBvcnQgeyBNb3ZlUGxheWVyQ29tbWFuZCB9IGZyb20gJy4uL0NvbW1hbmRzL01vdmVQbGF5ZXJDb21tYW5kLmpzJztcclxuaW1wb3J0IHsgZ2V0U3RvcmVkU2Z4Vm9sdW1lIH0gZnJvbSAnLi4vVUkvQXVkaW8uanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgdGllbXBvVG90YWwgPSA2MDsgLy8gcGFyYSAyIG1pbiBwb25lciAxMjAgc2VndW5kb3NcclxuICAgIHRpZW1wb1Jlc3RhbnRlID0gdGhpcy50aWVtcG9Ub3RhbDtcclxuICAgIHRpbWVyVGV4dDtcclxuICAgIHRpbWVyRXZlbnQ7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignR2FtZV9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MgPSBbXTtcclxuICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IgPSBuZXcgQ29tbWFuZFByb2Nlc3NvcigpO1xyXG4gICAgICAgIHRoaXMucGxheWVyMSA9IGRhdGEucGxheWVyMTtcclxuICAgICAgICB0aGlzLnBsYXllcjIgPSBkYXRhLnBsYXllcjI7XHJcbiAgICAgICAgdGhpcy5zZWxlY3RlZFNjZW5hcmlvID0gZGF0YS5zZWxlY3RlZFNjZW5hcmlvO1xyXG4gICAgICAgIHRoaXMuYmFsbCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5zY29yZVAxID0gMDtcclxuICAgICAgICB0aGlzLnNjb3JlUDIgPSAwO1xyXG4gICAgICAgIHRoaXMuc2V0c1AxID0gMDtcclxuICAgICAgICB0aGlzLnNldHNQMiA9IDA7XHJcbiAgICAgICAgdGhpcy5tYXhTZXRzID0gMzsgLy8gbWVqb3IgZGUgM1xuICAgICAgICB0aGlzLmN1cnJlbnRTZXQgPSAxOyAvLyBzZXQgYWN0dWFsXG4gICAgICAgIHRoaXMuaXNHb2xkZW5Qb2ludCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU2V0RW5kaW5nID0gZmFsc2U7XG4gICAgfVxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIGNoYXJhY3RlckFcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoXHJcbiAgICAgICAgICAgICdjaGFyQV9tb3ZlJyxcclxuICAgICAgICAgICAgJ0FTU0VUUy9QRVJTT05BSkVTL0FOSU1BQ0lPTkVTL1BFUlNPTkFKRV9BL0FOSU1BQ0lPTkVTX0NPUlJFUl9SRUNJQklSLnBuZycsXHJcbiAgICAgICAgICAgIHsgZnJhbWVXaWR0aDogMjksIGZyYW1lSGVpZ2h0OiA0NCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoXHJcbiAgICAgICAgICAgICdjaGFyQV9qdW1wJyxcclxuICAgICAgICAgICAgJ0FTU0VUUy9QRVJTT05BSkVTL0FOSU1BQ0lPTkVTL1BFUlNPTkFKRV9BL0FOSU1BQ0lPTl9SRU1BVEUucG5nJyxcclxuICAgICAgICAgICAgeyBmcmFtZVdpZHRoOiAzMiwgZnJhbWVIZWlnaHQ6IDQ0IH1cclxuICAgICAgICApO1xyXG4gICAgICAgIC8vIGNoYXJhY3RlckJcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoXHJcbiAgICAgICAgICAgICdjaGFyQl9tb3ZlJyxcclxuICAgICAgICAgICAgJ0FTU0VUUy9QRVJTT05BSkVTL0FOSU1BQ0lPTkVTL1BFUlNPTkFKRV9CL0FOSU1BQ0lPTkVTX0NPUlJFUl9SRUNJQklSLnBuZycsXHJcbiAgICAgICAgICAgIHsgZnJhbWVXaWR0aDogMjksIGZyYW1lSGVpZ2h0OiA0NCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoXHJcbiAgICAgICAgICAgICdjaGFyQl9qdW1wJyxcclxuICAgICAgICAgICAgJ0FTU0VUUy9QRVJTT05BSkVTL0FOSU1BQ0lPTkVTL1BFUlNPTkFKRV9CL0FOSU1BQ0lPTl9SRU1BVEUucG5nJyxcclxuICAgICAgICAgICAgeyBmcmFtZVdpZHRoOiAzMiwgZnJhbWVIZWlnaHQ6IDQ0IH1cclxuICAgICAgICApO1xyXG4gICAgICAgIC8vIGNoYXJhY3RlckNcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoXHJcbiAgICAgICAgICAgICdjaGFyQ19tb3ZlJyxcclxuICAgICAgICAgICAgJ0FTU0VUUy9QRVJTT05BSkVTL0FOSU1BQ0lPTkVTL1BFUlNPTkFKRV9DL0FOSU1BQ0lPTkVTX0NPUlJFUl9SRUNJQklSLnBuZycsXHJcbiAgICAgICAgICAgIHsgZnJhbWVXaWR0aDogMjksIGZyYW1lSGVpZ2h0OiA0NCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoXHJcbiAgICAgICAgICAgICdjaGFyQ19qdW1wJyxcclxuICAgICAgICAgICAgJ0FTU0VUUy9QRVJTT05BSkVTL0FOSU1BQ0lPTkVTL1BFUlNPTkFKRV9DL0FOSU1BQ0lPTl9SRU1BVEUucG5nJyxcclxuICAgICAgICAgICAgeyBmcmFtZVdpZHRoOiAzMiwgZnJhbWVIZWlnaHQ6IDQ0IH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICAvLyBFc2NlbmFyaW9zXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdHeW0nLCAnQVNTRVRTL0ZPTkRPUy9HSU1OQVNJTy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BsYXlhJywgJ0FTU0VUUy9GT05ET1MvUExBWUEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdKYXJkaW4nLCAnQVNTRVRTL0ZPTkRPUy9KQVJESU4ucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFBvd2VyVXBzXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwb3IyJywgJ0FTU0VUUy9JVEVNUy9QT1dFUiBVUFMvTVVMVElQTElDQURPUiAyLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9yMycsICdBU1NFVFMvSVRFTVMvUE9XRVIgVVBTL01VTFRJUExJQ0FET1IgMy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BhcmFsaXphcicsICdBU1NFVFMvSVRFTVMvUE9XRVIgVVBTL1BBUkFMSVpBRE8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdyYWxlbnRpemFyJywgJ0FTU0VUUy9JVEVNUy9QT1dFUiBVUFMvUkVMRU5USVpBUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3ZlbG9jaWRhZCcsICdBU1NFVFMvSVRFTVMvUE9XRVIgVVBTL1ZFTE9DSURBRC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hcmNvUG93ZXJVcCcsICdBU1NFVFMvSlVFR08vQmFzZV9wb3dlclVwLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBQZWxvdGFcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JhbGwnLCAnQVNTRVRTL0lURU1TL1BFTE9UQVMvUF9OT1JNQUwucG5nJyk7XHJcbiAgICAgICAgLy8gUmVkXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdyZWQnLCAnQVNTRVRTL0pVRUdPL1JFRC5wbmcnKTtcclxuICAgICAgICAvLyBDcm9uw7NtZXRyb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncmVsb2onLCAnQVNTRVRTL0pVRUdPL1RJTUVSLnBuZycpO1xyXG4gICAgICAgIC8vIE1hcmNvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjb0dlbmVyYWwnLCAnQVNTRVRTL0pVRUdPL01BUkNBRE9SX1NFVC5wbmcnKTsgICAgICAgIFxyXG5cclxuICAgICAgICAvLyBFZmVjdG9zIGRlIHNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4X3NpbGJhdG8nLCAnQVNTRVRTL1NPTklETy9TaWxiYXRvX2luaWNpb19wYXJ0aWRvXzFwNHMubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZnhfcmVtYXRlJywgJ0FTU0VUUy9TT05JRE8vVG9xdWVfcGVsb3RhX3JlbWF0ZV8wM3MubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZnhfcmVjZXBjaW9uJywgJ0FTU0VUUy9TT05JRE8vVG9xdWVfcGVsb3RhX3JlY2VwY2lvbi5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeF9zYWx0bycsICdBU1NFVFMvU09OSURPL1Nvbmlkb1NhbHRvXzFwLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4X3B1bnRvJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvUHVudG8ubXAzJyk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICAvLyBzZSBndWFyZGFuIGxhcyBkaW1lbnNpb25lc1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICB0aGlzLndvcmxkV2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLndvcmxkSGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHMuZGVmYXVsdFRleHRTdHlsZTtcclxuXHJcbiAgICAgICAgLy8gc2UgZGVmaW5lbiBsb3MgZWZlY3RvcyBkZSBzb25pZG9cclxuICAgICAgICB0aGlzLnNmeCA9IHtcclxuICAgICAgICAgICAgd2hpc3RsZTogJ3NmeF9zaWxiYXRvJyxcclxuICAgICAgICAgICAgc3Bpa2U6ICdzZnhfcmVtYXRlJyxcclxuICAgICAgICAgICAgcmVjZWl2ZTogJ3NmeF9yZWNlcGNpb24nLFxyXG4gICAgICAgICAgICBqdW1wOiAnc2Z4X3NhbHRvJyxcclxuICAgICAgICAgICAgcG9pbnQ6ICdzZnhfcHVudG8nXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBzZSByZXByb2R1Y2UgZWwgc2lsYmF0byBkZSBpbmljaW8gZGUgcGFydGlkb1xyXG4gICAgICAgIHRoaXMucGxheVNmeCh0aGlzLnNmeC53aGlzdGxlKTtcclxuXHJcbiAgICAgICAgLy8gQ3JvbsOzbWV0cm9cclxuICAgICAgICB0aGlzLnRpbWVyVGV4dCA9IHRoaXMuYWRkLnRleHQodGhpcy5zY2FsZS53aWR0aCAvIDIsIDMwLCBcIlwiLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc2V0T3JpZ2luKDAuNSwgMClcclxuICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXHJcbiAgICAgICAgLnNldERlcHRoKDk5OTkpO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWVySWNvbiA9IHRoaXMuYWRkLmltYWdlKHRoaXMuc2NhbGUud2lkdGggLyAyLCA0NSwgJ3JlbG9qJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgyKVxyXG4gICAgICAgICAgICAuc2V0U2Nyb2xsRmFjdG9yKDApXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCg5MDAwKTsgLy8gZGViYWpvIGRlbCB0ZXh0b1xyXG5cclxuICAgICAgICAvLyBtYXJjbyBkZSBzZXRcclxuICAgICAgICB0aGlzLnNldEZyYW1lID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5zY2FsZS53aWR0aCAvIDIsIDEyMCwgJ21hcmNvR2VuZXJhbCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMSlcclxuICAgICAgICAgICAgLnNldERlcHRoKDk5OTgpO1xyXG5cclxuICAgICAgICAvLyB0ZXh0byBkZWwgc2V0IGFjdHVhbFxyXG4gICAgICAgIHRoaXMuc2V0VGV4dCA9IHRoaXMuYWRkLnRleHQodGhpcy5zY2FsZS53aWR0aCAvIDIsIDEyMCwgYFNFVCAke3RoaXMuY3VycmVudFNldH1gLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0RGVwdGgoOTk5OSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHNldEZyYW1lV2lkdGggPSB0aGlzLnNldEZyYW1lLmRpc3BsYXlXaWR0aDtcclxuICAgICAgICBjb25zdCBzZXRGcmFtZUhlaWdodCA9IHRoaXMuc2V0RnJhbWUuZGlzcGxheUhlaWdodDtcclxuICAgICAgICBjb25zdCBzZXRTY29yZVkgPSB0aGlzLnNldEZyYW1lLnkgKyBNYXRoLnJvdW5kKHNldEZyYW1lSGVpZ2h0IC8gMikgKyAxMztcclxuICAgICAgICBjb25zdCBzZXRTY29yZU9mZnNldFggPSBNYXRoLnJvdW5kKHNldEZyYW1lV2lkdGggKiAwLjIyKTtcclxuICAgICAgICBjb25zdCBzZXRTY29yZUZyYW1lU2NhbGVYID0gMC40O1xyXG4gICAgICAgIGNvbnN0IHNldFNjb3JlRnJhbWVTY2FsZVkgPSAwLjM4O1xyXG5cclxuICAgICAgICB0aGlzLnNldFNjb3JlRnJhbWVMZWZ0ID0gdGhpcy5hZGQuaW1hZ2UodGhpcy5zY2FsZS53aWR0aCAvIDIgLSBzZXRTY29yZU9mZnNldFgsIHNldFNjb3JlWSwgJ21hcmNvR2VuZXJhbCcpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoc2V0U2NvcmVGcmFtZVNjYWxlWCwgc2V0U2NvcmVGcmFtZVNjYWxlWSlcclxuICAgICAgICAgICAgLnNldERlcHRoKDk5OTgpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFNjb3JlRnJhbWVSaWdodCA9IHRoaXMuYWRkLmltYWdlKHRoaXMuc2NhbGUud2lkdGggLyAyICsgc2V0U2NvcmVPZmZzZXRYLCBzZXRTY29yZVksICdtYXJjb0dlbmVyYWwnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKHNldFNjb3JlRnJhbWVTY2FsZVgsIHNldFNjb3JlRnJhbWVTY2FsZVkpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCg5OTk4KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTY29yZUxlZnQgPSB0aGlzLmFkZC50ZXh0KHRoaXMuc2NhbGUud2lkdGggLyAyIC0gc2V0U2NvcmVPZmZzZXRYLCBzZXRTY29yZVksIGAke3RoaXMuc2V0c1AxfWAsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgIC5zZXREZXB0aCg5OTk5KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRTY29yZVJpZ2h0ID0gdGhpcy5hZGQudGV4dCh0aGlzLnNjYWxlLndpZHRoIC8gMiArIHNldFNjb3JlT2Zmc2V0WCwgc2V0U2NvcmVZLCBgJHt0aGlzLnNldHNQMn1gLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0RGVwdGgoOTk5OSk7XHJcblxyXG4gICAgICAgIC8vIHRleHRvIHBhcmEgbW9zdHJhciBlbCBnYW5hZG9yIGRlbCBzZXRcclxuICAgICAgICB0aGlzLnNldFdpbm5lclRleHQgPSB0aGlzLmFkZC50ZXh0KHRoaXMuc2NhbGUud2lkdGggLyAyLCAyMDUsICcnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnLFxyXG4gICAgICAgICAgICBzdHJva2U6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgc3Ryb2tlVGhpY2tuZXNzOiAzXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAuc2V0RGVwdGgoOTk5OSlcclxuICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSk7XHJcblxyXG4gICAgICAgIC8vIGluaWNpYXIgZWwgY29udGFkb3IgcGFyYSBlbCBjcm9uw7NtZXRyb1xyXG4gICAgICAgIHRoaXMudGltZXJFdmVudCA9IHRoaXMudGltZS5hZGRFdmVudCh7XHJcbiAgICAgICAgICAgIGRlbGF5OiAxMDAwLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogdGhpcy51cGRhdGVUaW1lcixcclxuICAgICAgICAgICAgY2FsbGJhY2tTY29wZTogdGhpcyxcclxuICAgICAgICAgICAgbG9vcDogdHJ1ZVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZVRpbWVyKCk7XHJcblxyXG4gICAgICAgIC8vIEZPTkRPIERFTCBFU0NFTkFSSU8gU0VMRUNDSU9OQURPXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyLCBoZWlnaHQgLyAyLCB0aGlzLnNlbGVjdGVkU2NlbmFyaW8pXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodClcclxuICAgICAgICAgICAgLnNldERlcHRoKC0xKTsgXHJcblxyXG4gICAgICAgIC8vIFJlZFxyXG4gICAgICAgIGNvbnN0IHJlZCA9IHRoaXMucGh5c2ljcy5hZGQuc3RhdGljU3ByaXRlKHdpZHRoIC8gMiwgaGVpZ2h0IC0gMTYwLCAncmVkJykuc2V0U2NhbGUoMC42KTtcclxuXHJcbiAgICAgICAgY29uc3QgcmVkVGV4dHVyZSA9IHRoaXMudGV4dHVyZXMuZ2V0KCdyZWQnKS5nZXRTb3VyY2VJbWFnZSgpO1xyXG4gICAgICAgIHJlZC5ib2R5LnNldFNpemUocmVkVGV4dHVyZS53aWR0aCAqIDAuNSwgcmVkVGV4dHVyZS5oZWlnaHQgKiAwLjUpOyAvLyBtdWx0aXBsaWNhciBwb3IgZWwgc2NhbGVcclxuICAgICAgICByZWQuYm9keS5zZXRPZmZzZXQoLXJlZC5ib2R5LndpZHRoLzIsIC1yZWQuYm9keS5oZWlnaHQvMik7XHJcbiAgICAgICAgcmVkLmJvZHkudXBkYXRlRnJvbUdhbWVPYmplY3QoKTtcclxuICAgICAgICB0aGlzLnJlZCA9IHJlZDtcclxuXHJcbiAgICAgICAgdGhpcy5fY3JlYXRlQW5pbWF0aW9ucygpO1xyXG5cclxuICAgICAgICAvL1BVTlRVQUNJT04gREUgTE9TIEpVR0FET1JFU1xyXG4gICAgICAgIC8vIE1hcmNvcyBkZSBwdW50dWFjacOzblxyXG4gICAgICAgIHRoaXMucG9pbnRzTGVmdCA9IDA7XHJcbiAgICAgICAgdGhpcy5wb2ludHNSaWdodCA9IDA7XHJcblxyXG4gICAgICAgIHRoaXMuc2NvcmVGcmFtZUxlZnQgPSB0aGlzLmFkZC5pbWFnZSgyMDAsIDUwLCAnbWFyY29HZW5lcmFsJykuc2V0U2NhbGUoMC44LCAwLjU1KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB0aGlzLnNjb3JlRnJhbWVSaWdodCA9IHRoaXMuYWRkLmltYWdlKHRoaXMud29ybGRXaWR0aCAtIDIwMCwgNTAsICdtYXJjb0dlbmVyYWwnKS5zZXRTY2FsZSgwLjgsIDAuNTUpLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLnNjb3JlTGVmdCA9IHRoaXMuYWRkLnRleHQoMjAwLCA0NSwgJzAnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCg5OTk5KTtcclxuXHJcbiAgICAgICAgdGhpcy5yaWdodFNjb3JlID0gdGhpcy5hZGQudGV4dCh0aGlzLndvcmxkV2lkdGggLSAyMDAsIDQ1LCAnMCcsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDk5OTkpO1xyXG5cclxuICAgICAgICAvLyBzdWVsbyBkZSBwcnVlYmE6IGNyZWFyIHVuIGN1ZXJwbyBlc3TDoXRpY28gcmVjdGFuZ3VsYXIgaW52aXNpYmxlXHJcbiAgICAgICAgLy8gQ29uZmlndXJhYmxlOiBhbHR1cmEgeSBkZXNwbGF6YW1pZW50byBkZXNkZSBlbCBmb25kbyAoYGdyb3VuZE9mZnNldGApXHJcbiAgICAgICAgY29uc3QgZ3JvdW5kSGVpZ2h0ID0gMjA7XHJcbiAgICAgICAgY29uc3QgZ3JvdW5kT2Zmc2V0ID0gOTA7IC8vIGVsZXZhciBlbCBzdWVsbyAxMDBweCBkZXNkZSBlbCBmb25kb1xyXG4gICAgICAgIHRoaXMuZ3JvdW5kSGVpZ2h0ID0gZ3JvdW5kSGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuZ3JvdW5kWSA9IHRoaXMud29ybGRIZWlnaHQgLSBncm91bmRPZmZzZXQ7XHJcblxyXG4gICAgICAgIGNvbnN0IGdyb3VuZCA9IHRoaXMuYWRkLnJlY3RhbmdsZShcclxuICAgICAgICAgICAgdGhpcy53b3JsZFdpZHRoIC8gMixcclxuICAgICAgICAgICAgdGhpcy5ncm91bmRZLFxyXG4gICAgICAgICAgICB0aGlzLndvcmxkV2lkdGgsXHJcbiAgICAgICAgICAgIGdyb3VuZEhlaWdodFxyXG4gICAgICAgICkuc2V0T3JpZ2luKDAuNSwgMCkuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgLy8gYcOxYWRpciB1biBjdWVycG8gZsOtc2ljbyBlc3TDoXRpY28gYWwgcmVjdMOhbmd1bG9cclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmV4aXN0aW5nKGdyb3VuZCwgdHJ1ZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gcHJpbWVybyBzZSBjcmVhbiBsb3MganVnYWRvcmVzXHJcbiAgICAgICAgdGhpcy5fY3JlYXRlUGxheWVycygpO1xyXG4gICAgICAgIC8vIGRlc3B1w6lzLCBzZSBtb250YW4gbGFzIGNvbGlzaW9uZXMgY29uIGVsIHN1ZWxvLCByZWQsIGV0Yy5cclxuICAgICAgICAvLyBtb250YXIgY29saXNpb25lcyBmw61zaWNhcyBlbnRyZSBqdWdhZG9yZXMgeSBzdWVsbyBwYXJhIHF1ZSBib2R5LmJsb2NrZWQuZG93biBmdW5jaW9uZVxyXG4gICAgICAgIHRoaXMuX3NldHVwUGh5c2ljc1dvcmxkKGdyb3VuZCk7XHJcbiAgICAgICAgLy8gcG9yIMO6bHRpbW8sIHNlIGFzaWduYW4gbGFzIHRlY2xhc1xyXG4gICAgICAgIHRoaXMuX3NldHVwSW5wdXRNYXBwaW5ncygpO1xyXG5cclxuICAgICAgICAvLyBwb3dlcnVwc1xyXG4gICAgICAgIHRoaXMucG93ZXJVcHMgPSBbXTtcclxuICAgICAgICB0aGlzLm1heFBvd2VyVXBzID0gMjtcclxuICAgICAgICAvLyBsYSBhcGFyaWNpw7NuIGRlIHBvd2VyLXVwcyBzb24gbWVub3MgZnJlY3VlbnRlcyB5IGNvbiBwZXNvcywgcGFyYSBxdWUgdW5vcyBzYWxnYW5cclxuICAgICAgICAvLyBtw6FzIHF1ZSBvdHJvcyAocG9yIGVqZW1wbG8sIHNlIHJlZHVjZSBsYSBhcGFyaWNpw7NuIGRlIHBhcmFsaXphcilcclxuICAgICAgICB0aGlzLnBvd2VyVXBTcGF3bkNvbmZpZyA9IHtcclxuICAgICAgICAgICAgLy8gZW50cmUgMy41IHkgNyBzZWd1bmRvc1xyXG4gICAgICAgICAgICBtaW5EZWxheU1zOiAzNTAwLFxyXG4gICAgICAgICAgICBtYXhEZWxheU1zOiA3MDAwLFxyXG4gICAgICAgICAgICB3ZWlnaHRzOiB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2lkYWQ6IDMsXHJcbiAgICAgICAgICAgICAgICByYWxlbnRpemFyOiAyLFxyXG4gICAgICAgICAgICAgICAgcGFyYWxpemFyOiAxLFxyXG4gICAgICAgICAgICAgICAgcG9yMjogMyxcclxuICAgICAgICAgICAgICAgIHBvcjM6IDJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY29vbGRvd25Nczoge1xyXG4gICAgICAgICAgICAgICAgLy8gcGFyYSBldml0YXIgcXVlIHNhbGdhbiBtdXkgc2VndWlkb3MgeSB1biBqdWdhZG9yIG5vIHB1ZWRhIG1vdmVyc2VcclxuICAgICAgICAgICAgICAgIC8vIGR1cmFudGUgbXVjaG8gdGllbXBvXHJcbiAgICAgICAgICAgICAgICBwYXJhbGl6YXI6IDEwMDAwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucG93ZXJVcExhc3RTcGF3bkF0ID0ge307XHJcblxyXG4gICAgICAgIHRoaXMuaW52ZW50b3J5VUkgPSB7XHJcbiAgICAgICAgICAgIHBsYXllcjE6IFtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKDUwLCA1MCwgJ3BvcjInKS5zZXRTY2FsZSgxLjQpLnNldFZpc2libGUoZmFsc2UpLnNldERlcHRoKDEpLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMTEwLCA1MCwgJ3BvcjInKS5zZXRTY2FsZSgxLjQpLnNldFZpc2libGUoZmFsc2UpLnNldERlcHRoKDEpXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHBsYXllcjI6IFtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKHRoaXMud29ybGRXaWR0aCAtIDExMCwgNTAsICdwb3IyJykuc2V0U2NhbGUoMS40KS5zZXRWaXNpYmxlKGZhbHNlKS5zZXREZXB0aCgxKSxcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKHRoaXMud29ybGRXaWR0aCAtIDUwLCA1MCwgJ3BvcjInKS5zZXRTY2FsZSgxLjQpLnNldFZpc2libGUoZmFsc2UpLnNldERlcHRoKDEpXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB0aGlzLnNjaGVkdWxlUG93ZXJVcFNwYXduKCk7XHJcblxyXG4gICAgICAgIC8vIE1hcmNvcyBkZWwgaW52ZW50YXJpb1xyXG4gICAgICAgIHRoaXMuaW52ZW50b3J5RnJhbWVzID0ge1xyXG4gICAgICAgICAgICBwbGF5ZXIxOiBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSg1MCwgNTAsICdtYXJjb1Bvd2VyVXAnKS5zZXRTY2FsZSgxKS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgwKSxcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKDExMCwgNTAsICdtYXJjb1Bvd2VyVXAnKS5zZXRTY2FsZSgxKS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgwKVxyXG4gICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICBwbGF5ZXIyOiBbXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSh0aGlzLndvcmxkV2lkdGggLSAxMTAsIDUwLCAnbWFyY29Qb3dlclVwJykuc2V0U2NhbGUoMSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoMCksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSh0aGlzLndvcmxkV2lkdGggLSA1MCwgNTAsICdtYXJjb1Bvd2VyVXAnKS5zZXRTY2FsZSgxKS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgwKVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gaW5pY2lhbGl6YWNpw7NuIGRlIGxhIHBlbG90YVxyXG4gICAgICAgIHRoaXMuX2NyZWF0ZUJhbGwoKTtcclxuICAgICAgICAvLyBlbXB1asOzbiBzdXTDrWwgcGFyYSBldml0YXIgcXVlIHNlIHF1ZWRlIHNvYnJlIGxhIHJlZCBhbCBpbmljaW9cclxuICAgICAgICB0aGlzLmJhbGwuc2V0U2VydmVQb3NpdGlvbigpO1xyXG4gICAgICAgIC8vIGNvbGxpZGVycyBkZSBsYSBwZWxvdGFcclxuICAgICAgICB0aGlzLl9zZXR1cEJhbGxDb2xsaXNpb25zKCk7XHJcbiAgICAgICAgLy8gZXZlbnRvcyBkZSBsYSBwZWxvdGFcclxuICAgICAgICB0aGlzLl9zZXR1cEJhbGxFdmVudHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5vbihcImtleWRvd24tRVNDXCIsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gc2UgZGV0aWVuZSBlbCBnYW1lIGxvb3BcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQucGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5sYXVuY2goXCJQYXVzZV9TY2VuZVwiKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gYWNjZXNvIGRpcmVjdG8gYSBsYSBlc2NlbmEgZGUgZmluIGRlIHBhcnRpZGFcclxuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKFwia2V5ZG93bi1GXCIsICgpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qgd2lubmVyID0gdGhpcy5zY29yZVAxID49IHRoaXMuc2NvcmVQMiA/IFwicGxheWVyMVwiIDogXCJwbGF5ZXIyXCI7XHJcbiAgICAgICAgICAgIHRoaXMuX2VuZEdhbWUod2lubmVyKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigncmVzdW1lJywgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQucGF1c2VkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gR2VuZXJhIHVuIG51ZXZvIHBvd2VyLXVwIGVuIHVuYSBwb3NpY2nDs24gYWxlYXRvcmlhIGNhZGEgY2llcnRvIHRpZW1wb1xyXG4gICAgc2NoZWR1bGVQb3dlclVwU3Bhd24oKSB7XHJcbiAgICAgICAgY29uc3QgeyBtaW5EZWxheU1zLCBtYXhEZWxheU1zIH0gPSB0aGlzLnBvd2VyVXBTcGF3bkNvbmZpZztcclxuICAgICAgICBjb25zdCBkZWxheSA9IFBoYXNlci5NYXRoLkJldHdlZW4obWluRGVsYXlNcywgbWF4RGVsYXlNcyk7XHJcblxyXG4gICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbChkZWxheSwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wb3dlclVwcy5sZW5ndGggPCB0aGlzLm1heFBvd2VyVXBzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gUGhhc2VyLk1hdGguQmV0d2Vlbig4MCwgdGhpcy53b3JsZFdpZHRoIC0gODApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IFBoYXNlci5NYXRoLkJldHdlZW4odGhpcy53b3JsZEhlaWdodCAtIDIyMCwgdGhpcy53b3JsZEhlaWdodCAtIDEyMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZSA9IHRoaXMuX2dldFdlaWdodGVkUG93ZXJVcFR5cGUoKTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG93ZXJVcCA9IG5ldyBQb3dlclVwKHRoaXMsIHgsIHksIHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG93ZXJVcHMucHVzaChwb3dlclVwKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvd2VyVXBMYXN0U3Bhd25BdFt0eXBlXSA9IHRoaXMudGltZS5ub3c7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVQb3dlclVwU3Bhd24oKTsgLy8gcmVjdXJzaXZvXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gT2J0aWVuZSB1biB0aXBvIGRlIHBvd2VyLXVwIGJhc2FkbyBlbiBsb3MgcGVzb3MgY29uZmlndXJhZG9zIGFudGVyaW9ybWVudGVcclxuICAgIF9nZXRXZWlnaHRlZFBvd2VyVXBUeXBlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgd2VpZ2h0cywgY29vbGRvd25NcyB9ID0gdGhpcy5wb3dlclVwU3Bhd25Db25maWc7XHJcblxyXG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMudGltZS5ub3c7XHJcbiAgICAgICAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHdlaWdodHMpLmZpbHRlcigoW3R5cGUsIHdlaWdodF0pID0+IHtcclxuICAgICAgICAgICAgLy8gc2UgZmlsdHJhbiBsb3MgdGlwb3MgcXVlIG5vIHNlIHB1ZWRlbiB1c2FyXHJcbiAgICAgICAgICAgIC8vIHNpIGVsIHBlc28gZXMgMFxyXG4gICAgICAgICAgICBpZiAod2VpZ2h0IDw9IDApIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgLy8gc2kgdG9kYXbDrWEgZXN0w6EgZW4gY29vbGRvd24gZGVzZGUgbGEgw7psdGltYSBhcGFyaWNpw7NuXHJcbiAgICAgICAgICAgIGNvbnN0IGNvb2xkb3duID0gY29vbGRvd25Ncz8uW3R5cGVdO1xyXG4gICAgICAgICAgICBpZiAoIWNvb2xkb3duKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc3QgbGFzdCA9IHRoaXMucG93ZXJVcExhc3RTcGF3bkF0Py5bdHlwZV0gfHwgMDtcclxuICAgICAgICAgICAgcmV0dXJuIG5vdyAtIGxhc3QgPj0gY29vbGRvd247XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHNpIG5vIHF1ZWRhIG5pbmfDum4gdGlwbyBkaXNwb25pYmxlLCBzZSBkZXZ1ZWx2ZSBudWxsXHJcbiAgICAgICAgaWYgKCFlbnRyaWVzLmxlbmd0aCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIC8vIHNlIHN1bWFuIHRvZG9zIGxvcyBwZXNvcywgc2UgZWxpZ2UgdW4gbsO6bWVybyBhbGVhdG9yaW8gZW50cmUgMSB5IGVzYSBzdW1hXHJcbiAgICAgICAgY29uc3QgdG90YWwgPSBlbnRyaWVzLnJlZHVjZSgoc3VtLCBbLCB3ZWlnaHRdKSA9PiBzdW0gKyB3ZWlnaHQsIDApO1xyXG4gICAgICAgIGxldCByb2xsID0gUGhhc2VyLk1hdGguQmV0d2VlbigxLCB0b3RhbCk7XHJcbiAgICAgICAgLy8gc2UgdmFuIHJlc3RhbmRvIHBlc29zIGhhc3RhIHF1ZSBlbCBjb250YWRvciBjYWUgZW4gdW4gdGlwb1xyXG4gICAgICAgIGZvciAoY29uc3QgW3R5cGUsIHdlaWdodF0gb2YgZW50cmllcykge1xyXG4gICAgICAgICAgICByb2xsIC09IHdlaWdodDtcclxuICAgICAgICAgICAgLy8gc2UgZGV2dWVsdmUgZWwgdGlwb1xyXG4gICAgICAgICAgICBpZiAocm9sbCA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0dhbWVfU2NlbmVdIFBvd2VyLXVwIGFsZWF0b3JpbzogJywgdHlwZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gc2kgcG9yIGFsZ3VuYSByYXrDs24gbm8gY2FlIGVuIG5pbmd1bm8sIHNlIGRldnVlbHZlIGVsIMO6bHRpbW8gdGlwbyB2w6FsaWRvXHJcbiAgICAgICAgcmV0dXJuIGVudHJpZXNbZW50cmllcy5sZW5ndGggLSAxXVswXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXByb2R1Y2UgdW4gZWZlY3RvIGRlIHNvbmlkb1xyXG4gICAgcGxheVNmeChrZXkpIHtcclxuICAgICAgICBpZiAoIWtleSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoa2V5LCB7IHZvbHVtZTogZ2V0U3RvcmVkU2Z4Vm9sdW1lKCkgfSk7XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIC8vIEJ1Y2xlIHByaW5jaXBhbCBkZWwganVlZ29cclxuICAgIHVwZGF0ZSgpIHtcclxuICAgICAgICAvLyBzZSBwcm9jZXNhbiBsb3MgaW5wdXRzIGRlIGxvcyBqdWdhZG9yZXNcclxuICAgICAgICB0aGlzLl9oYW5kbGVJbnB1dEZvckFsbFBsYXllcnMoKTtcclxuICAgICAgICAvLyBzZSBhY3R1YWxpemFuIGxvcyBwb3dlci11cHNcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4gcGxheWVyLnVwZGF0ZVBvd2VyVXBzKCkpO1xyXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YSBlbCBlc3RhZG8gZGUgbGEgcGVsb3RhXHJcbiAgICAgICAgaWYgKHRoaXMuYmFsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmJhbGwudXBkYXRlKCk7XHJcbiAgICAgICAgICAgIC8vIHZlcmlmaWNhciBzaSBsYSBwZWxvdGEgZ29scGVhIGVsIHN1ZWxvIChjb21wYXJhciBjb24gbGEgcG9zaWNpw7NuIGRlbCBzdWVsbylcclxuICAgICAgICAgICAgLy8gZ3JvdW5kWSBlcyBsYSBwYXJ0ZSBzdXBlcmlvciBkZWwgc3VlbG9cclxuICAgICAgICAgICAgaWYgKHRoaXMuYmFsbC5pc0JhbGxMaXZlICYmIHRoaXMuYmFsbC5zcHJpdGUueSA+IHRoaXMuZ3JvdW5kWSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLm9uR3JvdW5kZWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyB2ZXJpZmljYXIgc2kgbGEgcGVsb3RhIGNydXphIGxhIHJlZCAocmVkIGVzdMOhIGVuIHggPSA0ODApXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJhbGwuc3ByaXRlLnggPCA0NzUgJiYgdGhpcy5iYWxsLmNvdXJ0U2lkZSA9PT0gJ3JpZ2h0Jykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLmNyb3NzTmV0KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5iYWxsLnNwcml0ZS54ID4gNDg1ICYmIHRoaXMuYmFsbC5jb3VydFNpZGUgPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLmNyb3NzTmV0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWN0dWFsaXphIGVsIHRlbXBvcml6YWRvciBjYWRhIHNlZ3VuZG9cclxuICAgIHVwZGF0ZVRpbWVyKCkge1xyXG4gICAgICAgIHRoaXMudGllbXBvUmVzdGFudGUtLTtcclxuXHJcbiAgICAgICAgLy8gRm9ybWF0b1xyXG4gICAgICAgIGNvbnN0IG1pbnV0b3MgPSBNYXRoLmZsb29yKHRoaXMudGllbXBvUmVzdGFudGUgLyA2MCk7XHJcbiAgICAgICAgY29uc3Qgc2VndW5kb3MgPSB0aGlzLnRpZW1wb1Jlc3RhbnRlICUgNjA7XHJcbiAgICAgICAgY29uc3QgZm9ybWF0byA9IGAke21pbnV0b3MudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfToke3NlZ3VuZG9zLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWVyVGV4dC5zZXRUZXh0KGZvcm1hdG8pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50aWVtcG9SZXN0YW50ZSA8PSAwKSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudC5wYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkZJTiBERUwgVElFTVBPXCIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NvcmVQMSA+IHRoaXMuc2NvcmVQMikgdGhpcy5fZW5kU2V0KFwicGxheWVyMVwiKTtcclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zY29yZVAyID4gdGhpcy5zY29yZVAxKSB0aGlzLl9lbmRTZXQoXCJwbGF5ZXIyXCIpO1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiRW1wYXRlIGVuIGVsIHNldFwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNHb2xkZW5Qb2ludCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXRXaW5uZXJUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRXaW5uZXJUZXh0LnNldFRleHQoJ0VNUEFURTogcHVudG8gZGUgb3JvJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRXaW5uZXJUZXh0LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlU2V0U2NvcmVVSSgpIHtcclxuICAgICAgICBpZiAodGhpcy5zZXRTY29yZUxlZnQpIHRoaXMuc2V0U2NvcmVMZWZ0LnNldFRleHQodGhpcy5zZXRzUDEudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0U2NvcmVSaWdodCkgdGhpcy5zZXRTY29yZVJpZ2h0LnNldFRleHQodGhpcy5zZXRzUDIudG9TdHJpbmcoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWN0dWFsaXphIGxhIFVJIGRlbCBpbnZlbnRhcmlvIGRlIHBvd2VyLXVwcyBkZSB1biBqdWdhZG9yXHJcbiAgICB1cGRhdGVQbGF5ZXJJbnZlbnRvcnlVSShwbGF5ZXIpIHtcclxuICAgICAgICBjb25zdCB1aSA9IHRoaXMuaW52ZW50b3J5VUlbcGxheWVyLmlkXTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKHBsYXllci5wb3dlclVwSW52ZW50b3J5W2ldKSB7XHJcbiAgICAgICAgICAgICAgICB1aVtpXS5zZXRUZXh0dXJlKHBsYXllci5wb3dlclVwSW52ZW50b3J5W2ldKTtcclxuICAgICAgICAgICAgICAgIHVpW2ldLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1aVtpXS5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8vLyBNw4lUT0RPUyBBVVhJTElBUkVTIC8vLy9cclxuICAgIC8vIENyZWEgbGFzIGFuaW1hY2lvbmVzIGRlIGxvcyAzIHBlcnNvbmFqZXNcclxuICAgIF9jcmVhdGVBbmltYXRpb25zKCkge1xyXG4gICAgICAgIC8vLy8gQ2hhcmFjdGVyQSAvLy8vXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9pZGxlUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX21vdmUnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX2lkbGVMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9tb3ZlJywgeyBzdGFydDogMjAsIGVuZDogMjEgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA1LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfcmVjZWl2ZVJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9tb3ZlJywgeyBzdGFydDogMCwgZW5kOiAxMCB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfcmVjZWl2ZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX21vdmUnLCB7IHN0YXJ0OiAxMSwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMVxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9ydW5SaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfbW92ZScsIHsgc3RhcnQ6IDIyLCBlbmQ6IDMyIH0pLCAvLyBmaWxhIDJcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfcnVuTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfbW92ZScsIHsgc3RhcnQ6IDMzLCBlbmQ6IDQzIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAzXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMjIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9qdW1wUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX2p1bXAnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEyIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9qdW1wTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfanVtcCcsIHsgc3RhcnQ6IDEzLCBlbmQ6IDI1IH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vLy8vLy8vXHJcblxyXG4gICAgICAgIC8vLy8gQ2hhcmFjdGVyQiAvLy8vXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9pZGxlUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX21vdmUnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX2lkbGVMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9tb3ZlJywgeyBzdGFydDogMjAsIGVuZDogMjEgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA1LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7ICAgICAgIFxyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX3JlY2VpdmVSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDAsIGVuZDogMTAgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX3JlY2VpdmVMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9tb3ZlJywgeyBzdGFydDogMTEsIGVuZDogMjEgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDFcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfcnVuUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX21vdmUnLCB7IHN0YXJ0OiAyMiwgZW5kOiAzMiB9KSwgLy8gZmlsYSAyXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMjIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX3J1bkxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX21vdmUnLCB7IHN0YXJ0OiAzMywgZW5kOiA0MyB9KS5yZXZlcnNlKCksIC8vIGZpbGEgM1xyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDIyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfanVtcFJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9qdW1wJywgeyBzdGFydDogMCwgZW5kOiAxMiB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfanVtcExlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX2p1bXAnLCB7IHN0YXJ0OiAxMywgZW5kOiAyNSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMVxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLy8vLy8vL1xyXG5cclxuICAgICAgICAvLy8vIENoYXJhY3RlckMgLy8vL1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfaWRsZVJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19tb3ZlJywgeyBzdGFydDogMCwgZW5kOiAxIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA1LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19pZGxlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfbW92ZScsIHsgc3RhcnQ6IDIwLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pOyAgICAgIFxyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX3JlY2VpdmVSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfbW92ZScsIHsgc3RhcnQ6IDAsIGVuZDogMTAgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX3JlY2VpdmVMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19tb3ZlJywgeyBzdGFydDogMTEsIGVuZDogMjEgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDFcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfcnVuUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX21vdmUnLCB7IHN0YXJ0OiAyMiwgZW5kOiAzMiB9KSwgLy8gZmlsYSAyXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMjIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX3J1bkxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX21vdmUnLCB7IHN0YXJ0OiAzMywgZW5kOiA0MyB9KS5yZXZlcnNlKCksIC8vIGZpbGEgM1xyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDIyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfanVtcFJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19qdW1wJywgeyBzdGFydDogMCwgZW5kOiAxMiB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfanVtcExlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX2p1bXAnLCB7IHN0YXJ0OiAxMywgZW5kOiAyNSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMVxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLy8vLy8vL1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWEgbG9zIHBlcnNvbmFqZXMgZGUgY2FkYSBqdWdhZG9yXHJcbiAgICBfY3JlYXRlUGxheWVycygpIHtcclxuICAgICAgICBjb25zdCBjaGFyUDEgPSB0aGlzLnBsYXllcjEuY2hhcmFjdGVyO1xyXG4gICAgICAgIGNvbnN0IGNoYXJQMiA9IHRoaXMucGxheWVyMi5jaGFyYWN0ZXI7XHJcblxyXG4gICAgICAgIGNvbnN0IHAxID0gbmV3IFBsYXllcihcclxuICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgJ3BsYXllcjEnLFxyXG4gICAgICAgICAgICB0aGlzLndvcmxkV2lkdGggKiAwLjI1LCAgIC8vIGl6cXVpZXJkYVxyXG4gICAgICAgICAgICB0aGlzLmdyb3VuZFkgLSAxMDAsICAgICAgICAvLyBhcnJpYmEgZGVsIHN1ZWxvIChtw6FzIG1hcmdlbilcclxuICAgICAgICAgICAgY2hhclAxXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgY29uc3QgcDIgPSBuZXcgUGxheWVyKFxyXG4gICAgICAgICAgICB0aGlzLFxyXG4gICAgICAgICAgICAncGxheWVyMicsXHJcbiAgICAgICAgICAgIHRoaXMud29ybGRXaWR0aCAqIDAuNzUsICAgLy8gZGVyZWNoYVxyXG4gICAgICAgICAgICB0aGlzLmdyb3VuZFkgLSAxMDAsICAgICAgICAvLyBhcnJpYmEgZGVsIHN1ZWxvIChtw6FzIG1hcmdlbilcclxuICAgICAgICAgICAgY2hhclAyXHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMScsIHAxKTtcclxuICAgICAgICB0aGlzLnBsYXllcnMuc2V0KCdwbGF5ZXIyJywgcDIpO1xyXG5cclxuICAgICAgICAvLyBzZSBlc3RhYmxlY2VuIGxvcyBsw61taXRlcyBkZSBsYSBjYW5jaGEgcGFyYSBjYWRhIGp1Z2Fkb3JcclxuICAgICAgICBjb25zdCBjb3VydFRvcCA9IDUwO1xyXG4gICAgICAgIC8vIGFsaW5lYXIgZWwgbMOtbWl0ZSBpbmZlcmlvciBqdXN0byBwb3IgZW5jaW1hIGRlbCBzdWVsb1xyXG4gICAgICAgIC8vIGNvbW8gZWwgZ3JvdW5kIGFob3JhIHRpZW5lIG9yaWdpbiBlbiAoMC41LCAwKSwgZ3JvdW5kWSBlcyBsYSBwYXJ0ZSBzdXBlcmlvclxyXG4gICAgICAgIGNvbnN0IGNvdXJ0Qm90dG9tID0gTWF0aC5mbG9vcih0aGlzLmdyb3VuZFkpO1xyXG4gICAgICAgIGNvbnN0IGNvdXJ0SW50ZXJpb3JNYXJnaW4gPSAyNTtcclxuICAgICAgICBjb25zdCBjb3VydEV4dGVyaW9ydE1hcmdpbiA9IDgwO1xyXG5cclxuICAgICAgICAvLyBwbGF5ZXIxIChpenF1aWVyZGEpOlxyXG4gICAgICAgIHAxLnNldEJvdW5kcyhjb3VydEV4dGVyaW9ydE1hcmdpbiwgNDgwIC0gY291cnRJbnRlcmlvck1hcmdpbiwgY291cnRUb3AsIGNvdXJ0Qm90dG9tKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBwbGF5ZXIyIChkZXJlY2hhKTpcclxuICAgICAgICBwMi5zZXRCb3VuZHMoNDgwICsgY291cnRJbnRlcmlvck1hcmdpbiwgdGhpcy53b3JsZFdpZHRoIC0gY291cnRFeHRlcmlvcnRNYXJnaW4sIGNvdXJ0VG9wLCBjb3VydEJvdHRvbSk7XHJcblxyXG4gICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5zZXRQbGF5ZXJzKHRoaXMucGxheWVycyk7XHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnNldEdhbWVTY2VuZSh0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gcG9yIGRlZmVjdG8sIGFuaW1hY2nDs24gaWRsZVxyXG4gICAgICAgIHAxLmlkbGVSaWdodCgpO1xyXG4gICAgICAgIHAyLmlkbGVMZWZ0KCk7XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIC8vIENyZWEgZWwgc3VlbG8sIGxhIHJlZCwgbG9zIGzDrW1pdGVzLCBldGMuXHJcbiAgICBfc2V0dXBQaHlzaWNzV29ybGQoZ3JvdW5kKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgLy8gY29saXNpw7NuIGp1Z2Fkb3Itc3VlbG9cclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5jb2xsaWRlcihwbGF5ZXIuc3ByaXRlLCBncm91bmQpO1xyXG5cclxuICAgICAgICAgICAgLy8gY29saXNpw7NuIGp1Z2Fkb3ItcmVkXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLnNwcml0ZSwgdGhpcy5yZWQsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGAke3BsYXllci5pZH0gdG9jw7MgbGEgcmVkIWApO1xyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFzaWduYSBsb3MgY29udHJvbGVzL3RlY2xhcyBkZSBjYWRhIGp1Z2Fkb3JcclxuICAgIF9zZXR1cElucHV0TWFwcGluZ3MoKSB7XHJcbiAgICAgICAgY29uc3QgaW5wdXRDb25maWcgPSBbXHJcbiAgICAgICAgICAgIC8vIGp1Z2Fkb3IgMVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjEnLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0EnLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdEJyxcclxuICAgICAgICAgICAgICAgIGp1bXBLZXk6ICdXJyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVLZXk6ICdTJyxcclxuICAgICAgICAgICAgICAgIHBvd2VyS2V5OiAnRSdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8ganVnYWRvciAyXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBsYXllcklkOiAncGxheWVyMicsXHJcbiAgICAgICAgICAgICAgICBsZWZ0S2V5OiAnSicsXHJcbiAgICAgICAgICAgICAgICByaWdodEtleTogJ0wnLFxyXG4gICAgICAgICAgICAgICAganVtcEtleTogJ0knLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZUtleTogJ0snLFxyXG4gICAgICAgICAgICAgICAgcG93ZXJLZXk6ICdPJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gaW5wdXRDb25maWcubWFwKGNvbmZpZyA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogY29uZmlnLnBsYXllcklkLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoXHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5sZWZ0S2V5XVxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShcclxuICAgICAgICAgICAgICAgICAgICBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnJpZ2h0S2V5XVxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIGp1bXBLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFxyXG4gICAgICAgICAgICAgICAgICAgIFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcuanVtcEtleV1cclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShcclxuICAgICAgICAgICAgICAgICAgICBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnJlY2VpdmVLZXldXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgcG93ZXJLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFxyXG4gICAgICAgICAgICAgICAgICAgIFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcucG93ZXJLZXldXHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUHJvY2VzYSBlbCBpbnB1dCBkZSBsb3MgZG9zIGp1Z2Fkb3Jlc1xyXG4gICAgX2hhbmRsZUlucHV0Rm9yQWxsUGxheWVycygpIHtcclxuICAgICAgICB0aGlzLmlucHV0TWFwcGluZ3MuZm9yRWFjaChtYXBwaW5nID0+IHtcclxuICAgICAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldChtYXBwaW5nLnBsYXllcklkKTtcclxuICAgICAgICAgICAgaWYgKCFwbGF5ZXIpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIC8vIHNpIGVzdMOhIHBhcmFsaXphZG8sIHNlIGRlamEgZW4gaWRsZVxyXG4gICAgICAgICAgICBpZiAocGxheWVyLmlzUGFyYWx5emVkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpZGxlRGlyID0gKHBsYXllci5mYWNpbmcgPT09ICdsZWZ0JykgPyAnaWRsZUxlZnQnIDogJ2lkbGVSaWdodCc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IucHJvY2VzcyhcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTW92ZVBsYXllckNvbW1hbmQocGxheWVyLCBpZGxlRGlyKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IGRpcmVjdGlvbjtcclxuXHJcbiAgICAgICAgICAgIC8vIG1vdmltaWVudG8gaG9yaXpvbnRhbCBub3JtYWxcclxuICAgICAgICAgICAgaWYgKG1hcHBpbmcubGVmdEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdsZWZ0JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChtYXBwaW5nLnJpZ2h0S2V5T2JqLmlzRG93bikge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gJ3JpZ2h0JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBubyBzZSBwdWxzYSBuYWRhLCBhc8OtIHF1ZSBzZSBxdWVkYSBpZGxlIHNlZ8O6biBoYWNpYSBkw7NuZGUgbWlyYWJhXHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uID0gKHBsYXllci5mYWNpbmcgPT09ICdsZWZ0JykgPyAnaWRsZUxlZnQnOiAnaWRsZVJpZ2h0JztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gc2UgYXBsaWNhIG1vdmltaWVudG8vaWRsZSBTT0xPIHNpIG5vIGVzdMOhIHNhbHRhbmRvXHJcbiAgICAgICAgICAgIC8vIHNpIGVzdMOhIHNhbHRhbmRvLCBubyBzZSBwcm9jZXNhIGVsIG1vdmltaWVudG8gcGFyYSBubyBzb2JyZXNjcmliaXIgbGEgYW5pbWFjacOzblxyXG4gICAgICAgICAgICBpZiAoIXBsYXllci5pc0p1bXBpbmcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlUGxheWVyQ29tbWFuZChwbGF5ZXIsIGRpcmVjdGlvbilcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHJlY2VwY2nDs25cclxuICAgICAgICAgICAgaWYgKFBoYXNlci5JbnB1dC5LZXlib2FyZC5KdXN0RG93bihtYXBwaW5nLnJlY2VpdmVLZXlPYmopKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWNlaXZlRGlyID0gKHBsYXllci5mYWNpbmcgPT09ICdsZWZ0JykgPyAncmVjZWl2ZUxlZnQnIDogJ3JlY2VpdmVSaWdodCc7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IucHJvY2VzcyhcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTW92ZVBsYXllckNvbW1hbmQocGxheWVyLCByZWNlaXZlRGlyKVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gc2FsdG8vcmVtYXRlXHJcbiAgICAgICAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24obWFwcGluZy5qdW1wS2V5T2JqKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QganVtcERpciA9IChwbGF5ZXIuZmFjaW5nID09PSAnbGVmdCcpID8gJ2p1bXBMZWZ0JyA6ICdqdW1wUmlnaHQnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVQbGF5ZXJDb21tYW5kKHBsYXllciwganVtcERpcilcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIFBvd2VyVXBzXHJcbiAgICAgICAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24obWFwcGluZy5wb3dlcktleU9iaikpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci51c2VOZXh0UG93ZXJVcCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQbGF5ZXJJbnZlbnRvcnlVSShwbGF5ZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YSBlbCBlc3RhZG8gZGUgbG9zIGp1Z2Fkb3JlcyAoc3VlbG8sIGV0Yy4pXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHBsYXllci51cGRhdGUoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ3JlYSBsYSBwZWxvdGFcclxuICAgIF9jcmVhdGVCYWxsKCkge1xyXG4gICAgICAgIHRoaXMuYmFsbCA9IG5ldyBCYWxsKHRoaXMsIHRoaXMud29ybGRXaWR0aCAvIDIsIDE1MCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29uZmlndXJhIGxhcyBjb2xpc2lvbmVzIGRlIGxhIHBlbG90YVxyXG4gICAgX3NldHVwQmFsbENvbGxpc2lvbnMoKSB7XHJcbiAgICAgICAgLy8gY29saXNpb25lcyBkZSBsYSBwZWxvdGEgY29uIGxvcyBqdWdhZG9yZXNcclxuICAgICAgICB0aGlzLnBsYXllcnMuZm9yRWFjaChwbGF5ZXIgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgcGxheWVyLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgICgpID0+IHRoaXMuX29uQmFsbFBsYXllckNvbGxpc2lvbih0aGlzLmJhbGwsIHBsYXllciksXHJcbiAgICAgICAgICAgICAgICBudWxsLFxyXG4gICAgICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBjb2xpc2nDs24gcGVsb3RhLXJlZFxyXG4gICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIodGhpcy5iYWxsLnNwcml0ZSwgdGhpcy5yZWQsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gRXN0byBzZSBkaXNwYXJhIGFsIHRvY2FyIGxhIHJlZFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnTGEgcGVsb3RhIHRvY2EgbGEgcmVkIScpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gUG9yIGVqZW1wbG8sIHNlIHB1ZWRlIGZyZW5hciBsYSBwZWxvdGE6XHJcbiAgICAgICAgICAgIHRoaXMuYmFsbC5zcHJpdGUuc2V0VmVsb2NpdHlYKHRoaXMuYmFsbC5zcHJpdGUuYm9keS52ZWxvY2l0eS54ICogMC41KTtcclxuICAgICAgICAgICAgdGhpcy5iYWxsLnNwcml0ZS5zZXRWZWxvY2l0eVkodGhpcy5iYWxsLnNwcml0ZS5ib2R5LnZlbG9jaXR5LnkgKiAwLjUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBjb2xpc2nDs24gZGUgbGEgcGVsb3RhIGNvbiBlbCBzdWVsbyAoZGlzcGFyYSBwdW50dWFjacOzbilcclxuICAgICAgICBjb25zdCBncm91bmRZID0gdGhpcy53b3JsZEhlaWdodCAtIDEwO1xyXG4gICAgICAgIHRoaXMuYmFsbC5zcHJpdGUuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuYmFsbC5zcHJpdGUuc2V0Qm91bmNlKDAuOCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29uZmlndXJhIGxvcyBldmVudCBsaXN0ZW5lcnMgZGUgbGEgcGVsb3RhXHJcbiAgICBfc2V0dXBCYWxsRXZlbnRzKCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdyYWxseUNvbmNsdWRlZCcsIChkYXRhKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1NldEVuZGluZykgcmV0dXJuO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFJhbGx5IGNvbmNsdWRlZDogJHtkYXRhLnNjb3JpbmdQbGF5ZXJJZH0gc2NvcmVzIWApO1xuICAgICAgICAgICAgY29uc3Qgc2NvcmVySWQgPSBkYXRhLnNjb3JpbmdQbGF5ZXJJZDtcblxyXG4gICAgICAgICAgICAvLyBzZSBjb2dlIGVsIHBsYXllciBxdWUgaGEgYW5vdGFkb1xyXG4gICAgICAgICAgICBjb25zdCBzY29yaW5nUGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldChzY29yZXJJZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBzY29yaW5nUGxheWVyID8gKHNjb3JpbmdQbGF5ZXIuc2NvcmVNdWx0aXBsaWVyIHx8IDEpIDogMTtcclxuXHJcbiAgICAgICAgICAgIC8vIDEgcHVudG8gYmFzZSAqIG11bHRpcGxpY2Fkb3JcclxuICAgICAgICAgICAgY29uc3QgcG9pbnRzVG9BZGQgPSBtdWx0aXBsaWVyO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNjb3JlcklkID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgICAgIC8vIG1hcmNhZG9yIHZpc3VhbFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludHNMZWZ0ICs9IHBvaW50c1RvQWRkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZUxlZnQuc2V0VGV4dCh0aGlzLnBvaW50c0xlZnQudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcHVudG9zIGRlbCBzZXQgKHBhcmEgbMOzZ2ljYSBkZSBzZXRzKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZVAxICs9IHBvaW50c1RvQWRkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNjb3JlcklkID09PSAncGxheWVyMicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzUmlnaHQgKz0gcG9pbnRzVG9BZGQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0U2NvcmUuc2V0VGV4dCh0aGlzLnBvaW50c1JpZ2h0LnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVQMiArPSBwb2ludHNUb0FkZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBzZSByZXByb2R1Y2UgZWwgZWZlY3RvIGRlIHNvbmlkbyBkZSBwdW50b1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlTZngodGhpcy5zZngucG9pbnQpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNHb2xkZW5Qb2ludCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0dvbGRlblBvaW50ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmRTZXQoc2NvcmVySWQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gY29uZGljacOzbiBkZSAxMSBwdW50b3MgY29uIDIgZGUgZGlmZXJlbmNpYVxyXG4gICAgICAgICAgICB0aGlzLl9jaGVja1dpbkNvbmRpdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFZlcmlmaWNhIHNpIGxhIHBlbG90YSBlc3TDoSBlbiBsYSB6b25hIHbDoWxpZGEgcGFyYSBnb2xwZWFybGFcclxuICAgIF9pc0JhbGxJbkhpdFpvbmUoYmFsbFNwcml0ZSwgcGxheWVyLCBpc0p1bXBpbmcsIGlzUmVjZWl2aW5nKSB7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IHBsYXllci5zcHJpdGUuYm9keTtcclxuICAgICAgICBpZiAoIWJvZHkpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3QgYmFsbFggPSBiYWxsU3ByaXRlLng7XHJcbiAgICAgICAgY29uc3QgYmFsbFkgPSBiYWxsU3ByaXRlLnk7XHJcbiAgICAgICAgY29uc3QgYm9keVRvcCA9IGJvZHkueTtcclxuICAgICAgICBjb25zdCBib2R5SGVpZ2h0ID0gYm9keS5oZWlnaHQ7XHJcbiAgICAgICAgY29uc3QgYm9keUNlbnRlclggPSBib2R5LnggKyBib2R5LndpZHRoICogMC41O1xyXG5cclxuICAgICAgICBjb25zdCB6b25lID0gaXNKdW1waW5nXHJcbiAgICAgICAgICAgID8geyB0b3A6IC0wLjEsIGJvdHRvbTogMC42IH1cclxuICAgICAgICAgICAgOiAoaXNSZWNlaXZpbmcgPyB7IHRvcDogMC4zNSwgYm90dG9tOiAwLjg1IH0gOiB7IHRvcDogMC4yNSwgYm90dG9tOiAwLjg1IH0pO1xyXG5cclxuICAgICAgICBjb25zdCB6b25lVG9wID0gYm9keVRvcCArIGJvZHlIZWlnaHQgKiB6b25lLnRvcDtcclxuICAgICAgICBjb25zdCB6b25lQm90dG9tID0gYm9keVRvcCArIGJvZHlIZWlnaHQgKiB6b25lLmJvdHRvbTtcclxuXHJcbiAgICAgICAgaWYgKGJhbGxZIDwgem9uZVRvcCB8fCBiYWxsWSA+IHpvbmVCb3R0b20pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgZmFjaW5nUmlnaHQgPSBwbGF5ZXIuZmFjaW5nID09PSAncmlnaHQnO1xyXG4gICAgICAgIGNvbnN0IHdpZGVIaXQgPSBpc1JlY2VpdmluZyB8fCBpc0p1bXBpbmc7XHJcbiAgICAgICAgY29uc3QgcmVhY2hGb3J3YXJkID0gYm9keS53aWR0aCAqICh3aWRlSGl0ID8gMC45IDogMC43NSk7XHJcbiAgICAgICAgY29uc3QgcmVhY2hCYWNrID0gYm9keS53aWR0aCAqICh3aWRlSGl0ID8gMC4yNSA6IDAuMTUpO1xyXG4gICAgICAgIGNvbnN0IG1pblggPSBmYWNpbmdSaWdodCA/IGJvZHlDZW50ZXJYIC0gcmVhY2hCYWNrIDogYm9keUNlbnRlclggLSByZWFjaEZvcndhcmQ7XHJcbiAgICAgICAgY29uc3QgbWF4WCA9IGZhY2luZ1JpZ2h0ID8gYm9keUNlbnRlclggKyByZWFjaEZvcndhcmQgOiBib2R5Q2VudGVyWCArIHJlYWNoQmFjaztcclxuXHJcbiAgICAgICAgaWYgKGJhbGxYIDwgbWluWCB8fCBiYWxsWCA+IG1heFgpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTWFuZWphIGNvbGlzacOzbiBlbnRyZSBwZWxvdGEgeSBqdWdhZG9yXHJcbiAgICBfb25CYWxsUGxheWVyQ29sbGlzaW9uKGJhbGwsIHBsYXllcikge1xyXG4gICAgICAgIGlmICghYmFsbC5pc0JhbGxMaXZlKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IGlzSnVtcGluZyA9ICFwbGF5ZXIuc3ByaXRlLmJvZHkuYmxvY2tlZC5kb3duO1xyXG4gICAgICAgIGNvbnN0IGlzUmVjZWl2aW5nID0gcGxheWVyLmlzUmVjZWl2aW5nO1xyXG4gICAgICAgIGNvbnN0IHBsYXllckRpcmVjdGlvbiA9IHBsYXllci5mYWNpbmc7XHJcblxyXG4gICAgICAgIGlmICghdGhpcy5faXNCYWxsSW5IaXRab25lKGJhbGwuc3ByaXRlLCBwbGF5ZXIsIGlzSnVtcGluZywgaXNSZWNlaXZpbmcpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGJhbGwuaGl0KHBsYXllciwgcGxheWVyRGlyZWN0aW9uLCBpc0p1bXBpbmcsIGlzUmVjZWl2aW5nKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb250cm9sYSBlbCBmaW5hbCBkZWwganVlZ29cclxuICAgIF9lbmRHYW1lKHdpbm5lcikge1xyXG4gICAgICAgIC8vIHNlIHBhcmEgZWwgdGltZXIgZGVsIHNldFxyXG4gICAgICAgIGlmICh0aGlzLnRpbWVyRXZlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lckV2ZW50LnJlbW92ZShmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzaWxiYXRvIGRlIGZpbmFsIGRlIHBhcnRpZG9cclxuICAgICAgICB0aGlzLnBsYXlTZngodGhpcy5zZngud2hpc3RsZSk7XHJcblxyXG4gICAgICAgIC8vIHNlIGRldGllbmUgbGEgZsOtc2ljYSBkZSBlc3RhIGVzY2VuYSBhbnRlcyBkZSBzYWxpclxyXG4gICAgICAgIGlmICh0aGlzLnBoeXNpY3MgJiYgdGhpcy5waHlzaWNzLndvcmxkKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy53b3JsZC5wYXVzZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zY2VuZS5zdGFydChcIkVuZEdhbWVfU2NlbmVcIiwge1xyXG4gICAgICAgICAgICB3aW5uZXI6IHdpbm5lcixcclxuICAgICAgICAgICAgcGxheWVyMTogdGhpcy5wbGF5ZXIxLFxyXG4gICAgICAgICAgICBwbGF5ZXIyOiB0aGlzLnBsYXllcjIsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVmVyaWZpY2Egc2kgYWxnw7puIGp1Z2Fkb3IgaGEgZ2FuYWRvIGVsIHNldFxyXG4gICAgX2NoZWNrV2luQ29uZGl0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IG1pblBvaW50cyA9IDExOyAgIC8vIHB1bnRvcyBtw61uaW1vcyBwYXJhIGdhbmFyXHJcbiAgICAgICAgY29uc3QgbWluRGlmZiA9IDI7ICAgICAgLy8gZGlmZXJlbmNpYSBtw61uaW1hIGRlIHB1bnRvcyBwYXJhIGdhbmFyXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gZGlmZXJlbmNpYSBkZSBwdW50b3NcclxuICAgICAgICBjb25zdCBzY29yZURpZmYgPSB0aGlzLnNjb3JlUDEgLSB0aGlzLnNjb3JlUDI7XHJcbiAgICAgICAgY29uc3QgbWF4U2NvcmUgPSBNYXRoLm1heCh0aGlzLnNjb3JlUDEsIHRoaXMuc2NvcmVQMik7XHJcblxyXG4gICAgICAgIC8vIHNpIG5vIHNlIGN1bXBsZSBhbGd1bmEgZGUgbGFzIGNvbmRpY2lvbmVzLCBubyBzZSB0ZXJtaW5hIGVsIHNldFxyXG4gICAgICAgIGlmIChtYXhTY29yZSA8IG1pblBvaW50cyB8fCBNYXRoLmFicyhzY29yZURpZmYpIDwgbWluRGlmZikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzaW5vLCBzZSBkZXRlcm1pbmEgZWwgZ2FuYWRvciBkZWwgc2V0XHJcbiAgICAgICAgY29uc3Qgd2lubmVyID0gc2NvcmVEaWZmID4gMCA/IFwicGxheWVyMVwiIDogXCJwbGF5ZXIyXCI7XHJcbiAgICAgICAgdGhpcy5fZW5kU2V0KHdpbm5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29udHJvbGEgZWwgZmluYWwgZGUgdW4gc2V0XHJcbiAgICBfZW5kU2V0KHdpbm5lcikge1xuICAgICAgICBpZiAodGhpcy5pc1NldEVuZGluZykgcmV0dXJuO1xuICAgICAgICB0aGlzLmlzU2V0RW5kaW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuYmFsbD8uc3ByaXRlKSB7XG4gICAgICAgICAgICB0aGlzLmJhbGwuaXNCYWxsTGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5iYWxsLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBhY3R1YWxpemFyIHNldHMgZ2FuYWRvc1xuICAgICAgICBpZiAod2lubmVyID09PSAncGxheWVyMScpIHRoaXMuc2V0c1AxKys7XG4gICAgICAgIGVsc2UgaWYgKHdpbm5lciA9PT0gJ3BsYXllcjInKSB0aGlzLnNldHNQMisrO1xuXHJcbiAgICAgICAgY29uc29sZS5sb2coYFNldCB0ZXJtaW5hZG8uIFNjb3JlIHNldHM6IFAxPSR7dGhpcy5zZXRzUDF9LCBQMj0ke3RoaXMuc2V0c1AyfWApO1xyXG5cclxuICAgICAgICB0aGlzLnVwZGF0ZVNldFNjb3JlVUkoKTtcclxuXHJcbiAgICAgICAgLy8gbW9zdHJhciBtZW5zYWplIGRlIGdhbmFkb3IgZGUgc2V0XHJcbiAgICAgICAgY29uc3Qgd2lubmVyTGFiZWwgPSAod2lubmVyID09PSAncGxheWVyMScpID8gJ0p1Z2Fkb3IgMScgOiAnSnVnYWRvciAyJztcclxuICAgICAgICB0aGlzLnNldFdpbm5lclRleHQuc2V0VGV4dChgU0VUIHBhcmEgJHt3aW5uZXJMYWJlbH1gKTtcclxuICAgICAgICB0aGlzLnNldFdpbm5lclRleHQuc2V0VmlzaWJsZSh0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gQXZhbnphciBuw7ptZXJvIGRlIHNldFxyXG4gICAgICAgIHRoaXMuY3VycmVudFNldCsrO1xyXG5cclxuICAgICAgICBjb25zdCBtYXRjaE92ZXIgPSAodGhpcy5zZXRzUDEgPT09IDIgfHwgdGhpcy5zZXRzUDIgPT09IDIpO1xyXG5cclxuICAgICAgICBpZiAobWF0Y2hPdmVyKSB7XHJcbiAgICAgICAgICAgIC8vIMO6bHRpbW8gc2V0OiBtb3N0cmFtb3MgZWwgbWVuc2FqZSAycyB5IGx1ZWdvIHBhc2Ftb3MgYSBsYSBlc2NlbmEgZmluYWxcclxuICAgICAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKDIwMDAsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIChzaSBxdWllcmVzLCBhcXXDrSBwb2Ryw61hcyBvY3VsdGFyIGVsIHRleHRvKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fZW5kR2FtZSh3aW5uZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBzZXQgaW50ZXJtZWRpbzogbW9zdHJhbW9zIGVsIG1lbnNhamUgMnMsIGxvIG9jdWx0YW1vcyB5IHJlaW5pY2lhbW9zIGVsIHNldFxyXG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0V2lubmVyVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuX3Jlc2V0U2V0KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWluaWNpYSBlbCBlc3RhZG8gcGFyYSB1biBudWV2byBzZXRcclxuICAgIF9yZXNldFNldCgpIHtcbiAgICAgICAgdGhpcy5pc1NldEVuZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzR29sZGVuUG9pbnQgPSBmYWxzZTtcbiAgICAgICAgLy8gc2UgYWN0dWFsaXphIGVsIHRleHRvIGRlbCBzZXQgYWN0dWFsXHJcbiAgICAgICAgdGhpcy5zZXRUZXh0LnNldFRleHQoYFNFVCAke3RoaXMuY3VycmVudFNldH1gKTtcclxuXHJcbiAgICAgICAgLy8gc2UgcmVpbmljaWEgZWwgdGllbXBvXHJcbiAgICAgICAgdGhpcy50aWVtcG9SZXN0YW50ZSA9IHRoaXMudGllbXBvVG90YWw7XHJcbiAgICAgICAgdGhpcy50aW1lckV2ZW50LnBhdXNlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudXBkYXRlVGltZXIoKTtcclxuXHJcbiAgICAgICAgLy8gc2UgcmVpbmljaWEgbGEgcHVudHVhY2nDs24gZGVsIHNldCAobMOzZ2ljYSlcclxuICAgICAgICB0aGlzLnNjb3JlUDEgPSAwO1xyXG4gICAgICAgIHRoaXMuc2NvcmVQMiA9IDA7XHJcblxyXG4gICAgICAgIC8vIHNlIHJlaW5pY2lhIGVsIG1hcmNhZG9yIHZpc3VhbCBlbiBwYW50YWxsYVxyXG4gICAgICAgIHRoaXMucG9pbnRzTGVmdCA9IDA7XHJcbiAgICAgICAgdGhpcy5wb2ludHNSaWdodCA9IDA7XHJcbiAgICAgICAgdGhpcy5zY29yZUxlZnQuc2V0VGV4dCgnMCcpO1xyXG4gICAgICAgIHRoaXMucmlnaHRTY29yZS5zZXRUZXh0KCcwJyk7XHJcblxyXG4gICAgICAgIC8vIHNlIHJlaW5pY2lhIGxhIHBlbG90YVxyXG4gICAgICAgIHRoaXMuYmFsbC5yZXNldFJhbGx5KCk7XHJcblxyXG4gICAgICAgIC8vIHNlIHJlcG9zaWNpb25hbiBsb3MganVnYWRvcmVzIGEgc3VzIHBvc2ljaW9uZXMgaW5pY2lhbGVzXHJcbiAgICAgICAgY29uc3QgcDEgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIxJyk7XHJcbiAgICAgICAgY29uc3QgcDIgPSB0aGlzLnBsYXllcnMuZ2V0KCdwbGF5ZXIyJyk7XHJcblxyXG4gICAgICAgIHAxLnNldFBvc2l0aW9uKHRoaXMud29ybGRXaWR0aCAqIDAuMjUsIHRoaXMud29ybGRIZWlnaHQgKiAwLjcpO1xyXG4gICAgICAgIHAyLnNldFBvc2l0aW9uKHRoaXMud29ybGRXaWR0aCAqIDAuNzUsIHRoaXMud29ybGRIZWlnaHQgKiAwLjcpO1xyXG5cclxuICAgICAgICBwMS5pZGxlUmlnaHQoKTtcclxuICAgICAgICBwMi5pZGxlTGVmdCgpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXlTZngodGhpcy5zZngud2hpc3RsZSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gUGFudGFsbGEgZGUgVHV0b3JpYWxcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBhcHBseVN0b3JlZFZvbHVtZSwgcGxheUNsaWNrIH0gZnJvbSAnLi4vVUkvQXVkaW8uanMnO1xyXG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiwgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFR1dG9yaWFsX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdUdXRvcmlhbF9TY2VuZScpO1xyXG5cclxuICAgICAgICAvLyB1biDDum5pY28gdHV0b3JpYWwgY29uIHDDoWdpbmFzXHJcbiAgICAgICAgdGhpcy5wYWdlSW5kZXggPSAwO1xyXG4gICAgICAgIHRoaXMucmV0dXJuU2NlbmUgPSAnTWVudV9TY2VuZSc7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgLy8gZXNjZW5hIGRlc2RlIGxhIHF1ZSBzZSBhYnJpw7MgZWwgdHV0b3JpYWwsIHBhcmEgcmVhbnVkYXJsYVxyXG4gICAgICAgIHRoaXMucmV0dXJuU2NlbmUgPSBkYXRhPy5yZXR1cm5TY2VuZSA/PyAnTWVudV9TY2VuZSc7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBpbcOhZ2VuZXMgZGVsIHR1dG9yaWFsXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0dXQwX2NvbnRyb2xlcycsICdBU1NFVFMvVFVUT1JJQUwvVFVUMF9Db250cm9sZXMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0dXQxX3NldCcsICdBU1NFVFMvVFVUT1JJQUwvVFVUMV9TZXQucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0dXQyX3BlbG90YScsICdBU1NFVFMvVFVUT1JJQUwvVFVUMl9QZWxvdGEucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd0dXQzX3Bvd2VydXAnLCAnQVNTRVRTL1RVVE9SSUFML1RVVDNfUG93ZXJ1cC5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3R1dDRfbGlzdGEnLCAnQVNTRVRTL1RVVE9SSUFML1RVVDRfTGlzdGEucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGZvbmRvIHkgdWlcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0ZMRUNIQV9WT0xWRVIucG5nJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xyXG5cclxuICAgICAgICBjb25zdCBzdHlsZSA9IHtcclxuICAgICAgICAgICAgLi4uKHRoaXMuZ2FtZS5nbG9iYWxzPy5kZWZhdWx0VGV4dFN0eWxlID8/IHtcclxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdWVDMyMycsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gZm9uZG9cclxuICAgICAgICB0aGlzLmFkZFxyXG4gICAgICAgICAgICAuaW1hZ2UoMCwgMCwgJ2ZvbmRvJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpXHJcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gdMOtdHVsb1xyXG4gICAgICAgIHRoaXMubWFpblRpdGxlVGV4dCA9IHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC50ZXh0KGNlbnRlclgsIGhlaWdodCAqIDAuMSwgJ1R1dG9yaWFsJywge1xyXG4gICAgICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzQycHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBWb2x2ZXIgYXRyw6FzXHJcbiAgICAgICAgY3JlYXRlSWNvbkJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcclxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC4wOCxcclxuICAgICAgICAgICAgdGV4dHVyZTogJ2JvdG9uVm9sdmVyJyxcclxuICAgICAgICAgICAgc2NhbGU6IDEsXHJcbiAgICAgICAgICAgIGhvdmVyU2NhbGU6IDEuMSxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCh0aGlzLnJldHVyblNjZW5lKSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gY29udGVuaWRvIGRlbCB0dXRvcmlhbCAoc2xpZGVzKVxyXG4gICAgICAgIHRoaXMucGFnZUluZGV4ID0gMDtcclxuICAgICAgICB0aGlzLnBhZ2VzID0gW1xyXG4gICAgICAgICAgICB7IGtleTogJ3R1dDBfY29udHJvbGVzJywgdGl0bGU6ICdDb250cm9sZXMnIH0sXHJcbiAgICAgICAgICAgIHsga2V5OiAndHV0MV9zZXQnLCB0aXRsZTogJ1JlZ2xhcyBiw6FzaWNhczogc2V0JyB9LFxyXG4gICAgICAgICAgICB7IGtleTogJ3R1dDJfcGVsb3RhJywgdGl0bGU6ICdSZWdsYXMgYsOhc2ljYXM6IHBlbG90YScgfSxcclxuICAgICAgICAgICAgeyBrZXk6ICd0dXQzX3Bvd2VydXAnLCB0aXRsZTogJ1JlZ2xhcyBiw6FzaWNhczogcG93ZXItdXBzJyB9LFxyXG4gICAgICAgICAgICB7IGtleTogJ3R1dDRfbGlzdGEnLCB0aXRsZTogJ0xpc3RhIGRlIHBvd2VyLXVwcycgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIC8vIHBhbmVsIHBhcmEgbGFzIGltw6FnZW5lc1xyXG4gICAgICAgIGNvbnN0IHBhbmVsTWFyZ2luID0gTWF0aC5tYXgoOCwgTWF0aC5yb3VuZChNYXRoLm1pbih3aWR0aCwgaGVpZ2h0KSAqIDAuMDE1KSk7XHJcbiAgICAgICAgY29uc3QgcGFuZWxHYXAgPSBNYXRoLm1heCg2LCBNYXRoLnJvdW5kKGhlaWdodCAqIDAuMDEyKSk7XHJcbiAgICAgICAgY29uc3QgbmF2WSA9IGhlaWdodCAqIDAuOTE7XHJcblxyXG4gICAgICAgIGNvbnN0IHBhbmVsVG9wID0gdGhpcy5tYWluVGl0bGVUZXh0LnkgKyB0aGlzLm1haW5UaXRsZVRleHQuaGVpZ2h0ICsgcGFuZWxHYXA7XHJcbiAgICAgICAgY29uc3QgcGFuZWxCb3R0b20gPSBuYXZZIC0gcGFuZWxHYXA7XHJcbiAgICAgICAgY29uc3QgcGFuZWxIZWlnaHQgPSBNYXRoLm1heCgwLCBwYW5lbEJvdHRvbSAtIHBhbmVsVG9wKTtcclxuICAgICAgICBjb25zdCBwYW5lbFdpZHRoID0gTWF0aC5tYXgoMCwgd2lkdGggLSBwYW5lbE1hcmdpbiAqIDIpO1xyXG5cclxuICAgICAgICB0aGlzLmxheW91dCA9IHtcclxuICAgICAgICAgICAgcGFuZWxUb3AsXHJcbiAgICAgICAgICAgIHBhbmVsSGVpZ2h0LFxyXG4gICAgICAgICAgICBwYW5lbFdpZHRoLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGltYWdlbiBkZSBsYSBwYWdpbmFcclxuICAgICAgICB0aGlzLnNsaWRlSW1hZ2UgPSB0aGlzLmFkZC5pbWFnZShcclxuICAgICAgICAgICAgY2VudGVyWCxcclxuICAgICAgICAgICAgcGFuZWxUb3AgKyBwYW5lbEhlaWdodCAvIDIsXHJcbiAgICAgICAgICAgIHRoaXMucGFnZXNbMF0ua2V5XHJcbiAgICAgICAgKTtcclxuICAgICAgICB0aGlzLl9maXRJbWFnZSh0aGlzLnNsaWRlSW1hZ2UsIHBhbmVsV2lkdGgsIHBhbmVsSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gaW5kaWNhZG9yIGRlIHBhZ2luYVxyXG4gICAgICAgIHRoaXMucGFnZUluZGljYXRvciA9IHRoaXMuYWRkLnRleHQoY2VudGVyWCwgbmF2WSArIDIwLCAnJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBCT1RPTkVTIERFIE5BVkVHQUNJw5NOXHJcbiAgICAgICAgY29uc3QgYnV0dG9uVGV4dFN0eWxlID0geyAuLi5zdHlsZSwgZm9udFNpemU6ICcyOHB4JywgY29sb3I6ICcjMDAwMDAwJyB9O1xyXG4gICAgICAgIC8vIGJvdMOzbiBBbnRlcmlvclxyXG4gICAgICAgIHRoaXMucHJldkJ0biA9IGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogY2VudGVyWCAtIDE2NSxcclxuICAgICAgICAgICAgeTogbmF2WSArIDIwLFxyXG4gICAgICAgICAgICBsYWJlbDogJ0FudGVyaW9yJyxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5wcmV2KCksXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGJvdMOzbiBTaWd1aWVudGVcclxuICAgICAgICB0aGlzLm5leHRCdG4gPSBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IGNlbnRlclggKyAxNjUsXHJcbiAgICAgICAgICAgIHk6IG5hdlkgKyAyMCxcclxuICAgICAgICAgICAgbGFiZWw6ICdTaWd1aWVudGUnLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLm5leHQoKSxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyUGFnZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFqdXN0YSBsYSBpbWFnZW4gYWwgdGFtYcOxbyBtw6F4aW1vIHBlcm1pdGlkb1xyXG4gICAgX2ZpdEltYWdlKGltZywgbWF4VywgbWF4SCkge1xyXG4gICAgICAgIGNvbnN0IHNjYWxlID0gTWF0aC5taW4obWF4VyAvIGltZy53aWR0aCwgbWF4SCAvIGltZy5oZWlnaHQpO1xyXG4gICAgICAgIGltZy5zZXRTY2FsZShzY2FsZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVuZGVyaXphIGxhIHDDoWdpbmEgYWN0dWFsXHJcbiAgICByZW5kZXJQYWdlKCkge1xyXG4gICAgICAgIGNvbnN0IHAgPSB0aGlzLnBhZ2VzW3RoaXMucGFnZUluZGV4XTtcclxuICAgICAgICB0aGlzLm1haW5UaXRsZVRleHQuc2V0VGV4dChwLnRpdGxlID8/ICdUdXRvcmlhbCcpO1xyXG4gICAgICAgIHRoaXMuc2xpZGVJbWFnZS5zZXRUZXh0dXJlKHAua2V5KTtcclxuICAgICAgICB0aGlzLl9maXRJbWFnZSh0aGlzLnNsaWRlSW1hZ2UsIHRoaXMubGF5b3V0LnBhbmVsV2lkdGgsIHRoaXMubGF5b3V0LnBhbmVsSGVpZ2h0KTtcclxuICAgICAgICB0aGlzLnBhZ2VJbmRpY2F0b3Iuc2V0VGV4dChgJHt0aGlzLnBhZ2VJbmRleCArIDF9IGRlICR7dGhpcy5wYWdlcy5sZW5ndGh9YCk7XHJcbiAgICBcclxuICAgICAgICAgLy8gQm90w7NuIEFudGVyaW9yOiBzZSBkZXNoYWJpbGl0YSBzaSBlc3RhbW9zIGVuIGxhIHDDoWdpbmEgMFxyXG4gICAgICAgIGNvbnN0IGlzRmlyc3RQYWdlID0gdGhpcy5wYWdlSW5kZXggPT09IDA7XHJcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSh0aGlzLnByZXZCdG4sICFpc0ZpcnN0UGFnZSk7XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBTaWd1aWVudGU6IHNlIGRlc2hhYmlsaXRhIHNpIGVzdGFtb3MgZW4gbGEgw7psdGltYSBww6FnaW5hXHJcbiAgICAgICAgY29uc3QgaXNMYXN0UGFnZSA9IHRoaXMucGFnZUluZGV4ID09PSB0aGlzLnBhZ2VzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSh0aGlzLm5leHRCdG4sICFpc0xhc3RQYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJciBhIGxhIHDDoWdpbmEgc2lndWllbnRlXHJcbiAgICBuZXh0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhZ2VJbmRleCA8IHRoaXMucGFnZXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhZ2VJbmRleCsrO1xyXG4gICAgICAgICAgICB0aGlzLnJlbmRlclBhZ2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSXIgYSBsYSBww6FnaW5hIGFudGVyaW9yXHJcbiAgICBwcmV2KCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBhZ2VJbmRleCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5wYWdlSW5kZXgtLTtcclxuICAgICAgICAgICAgdGhpcy5yZW5kZXJQYWdlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEhlbHBlciBwYXJhIGFjdGl2YXIvZGVzYWN0aXZhciBib3RvbmVzXHJcbiAgICB0b2dnbGVCdXR0b25TdGF0ZShidG5PYmosIGVuYWJsZWQpIHtcclxuICAgICAgICBjb25zdCBzcHJpdGUgPSBidG5PYmouYnV0dG9uO1xyXG4gICAgICAgIGNvbnN0IHRleHQgPSBidG5PYmoudGV4dDtcclxuXHJcbiAgICAgICAgaWYgKGVuYWJsZWQpIHtcclxuICAgICAgICAgICAgc3ByaXRlLnNldEludGVyYWN0aXZlKCk7XHJcbiAgICAgICAgICAgIHNwcml0ZS5zZXRBbHBoYSgxKTtcclxuICAgICAgICAgICAgdGV4dC5zZXRBbHBoYSgxKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzcHJpdGUuZGlzYWJsZUludGVyYWN0aXZlKCk7XHJcbiAgICAgICAgICAgIHNwcml0ZS5zZXRBbHBoYSgwKTtcclxuICAgICAgICAgICAgdGV4dC5zZXRBbHBoYSgwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG59XHJcbiIsIi8vIFBhbnRhbGxhIGRlIENvbmZpZ3VyYWNpw7NuXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgZW5zdXJlU3RvcmVkQXVkaW9TZXR0aW5ncywgZ2V0U3RvcmVkTXVzaWNWb2x1bWUsIGdldFN0b3JlZFNmeFZvbHVtZSwgZ2V0U3RvcmVkR2xvYmFsVm9sdW1lLCBzZXRTdG9yZWRNdXNpY1ZvbHVtZSwgc2V0U3RvcmVkU2Z4Vm9sdW1lLCBzZXRTdG9yZWRHbG9iYWxWb2x1bWUsIGFwcGx5U3RvcmVkVm9sdW1lLCBwbGF5Q2xpY2sgfSBmcm9tICcuLi9VSS9BdWRpby5qcyc7XHJcbmltcG9ydCB7IGNyZWF0ZUljb25CdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0aW9uX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDb25maWd1cmF0aW9uX1NjZW5lJyk7XHJcblxyXG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyID0gbnVsbDtcclxuICAgICAgICB0aGlzLmdsb2JhbFZvbHVtZVNsaWRlciA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBpbcOhZ2VuZXMgZm9uZG8geSB1aVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvRkxFQ0hBX1ZPTFZFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gc29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7XHJcblxyXG4gICAgICAgIC8vIEZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpXHJcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gVMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC4xLCAnQ29uZmlndXJhY2nDs24nLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8vLyBWT0xVTUVORVMgLy8vL1xyXG4gICAgICAgIGVuc3VyZVN0b3JlZEF1ZGlvU2V0dGluZ3MoKTtcclxuICAgICAgICBjb25zdCBpbml0aWFsR2xvYmFsVm9sdW1lID0gZ2V0U3RvcmVkR2xvYmFsVm9sdW1lKCk7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbE11c2ljVm9sdW1lID0gZ2V0U3RvcmVkTXVzaWNWb2x1bWUoKTtcclxuICAgICAgICBjb25zdCBpbml0aWFsU2Z4Vm9sdW1lID0gZ2V0U3RvcmVkU2Z4Vm9sdW1lKCk7XHJcblxyXG4gICAgICAgIC8vIHNlIGFwbGljYSBlbCB2b2x1bWVuIG5hZGEgbWFzIGNhcmdhclxyXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBsYXlvdXQgZGUgbG9zIHNsaWRlcnNcclxuICAgICAgICBjb25zdCBzZWN0aW9ucyA9IDM7XHJcbiAgICAgICAgY29uc3Qgc2VjdGlvbkdhcCA9IGhlaWdodCAqIDAuMTg7XHJcbiAgICAgICAgY29uc3QgbGFiZWxUb1NsaWRlckdhcCA9IGhlaWdodCAqIDAuMDU7XHJcbiAgICAgICAgY29uc3QgZ3JvdXBIZWlnaHQgPSAoc2VjdGlvbnMgLSAxKSAqIHNlY3Rpb25HYXAgKyBsYWJlbFRvU2xpZGVyR2FwO1xyXG4gICAgICAgIGNvbnN0IGdyb3VwVG9wWSA9IChoZWlnaHQgLyAyKSAtIChncm91cEhlaWdodCAvIDIpO1xyXG5cclxuICAgICAgICBjb25zdCBnbG9iYWxMYWJlbFkgPSBncm91cFRvcFk7XHJcbiAgICAgICAgY29uc3QgZ2xvYmFsU2xpZGVyWSA9IGdsb2JhbExhYmVsWSArIGxhYmVsVG9TbGlkZXJHYXA7XHJcbiAgICAgICAgY29uc3QgbXVzaWNMYWJlbFkgPSBncm91cFRvcFkgKyBzZWN0aW9uR2FwO1xyXG4gICAgICAgIGNvbnN0IG11c2ljU2xpZGVyWSA9IG11c2ljTGFiZWxZICsgbGFiZWxUb1NsaWRlckdhcDtcclxuICAgICAgICBjb25zdCBzZnhMYWJlbFkgPSBncm91cFRvcFkgKyAoc2VjdGlvbkdhcCAqIDIpO1xyXG4gICAgICAgIGNvbnN0IHNmeFNsaWRlclkgPSBzZnhMYWJlbFkgKyBsYWJlbFRvU2xpZGVyR2FwO1xyXG5cclxuICAgICAgICAvLyBTdWJ0w610dWxvIGdsb2JhbFxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgZ2xvYmFsTGFiZWxZLCAnVm9sdW1lbiBHZW5lcmFsJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSwgXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsIFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGJhcnJhIGRlIHZvbHVtZW4gKGdsb2JhbClcclxuICAgICAgICB0aGlzLmdsb2JhbFZvbHVtZVNsaWRlciA9IHRoaXMuYWRkLmRvbShjZW50ZXJYLCBnbG9iYWxTbGlkZXJZKVxyXG4gICAgICAgICAgICAuY3JlYXRlRnJvbUhUTUwoYDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBtaW49XCIwXCIgbWF4PVwiMVwiIHN0ZXA9XCIwLjAxXCIgdmFsdWU9XCIke2luaXRpYWxHbG9iYWxWb2x1bWV9XCIgXHJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIndpZHRoOjIyMHB4OyBoZWlnaHQ6MjBweDsgYWNjZW50LWNvbG9yOiMwMGFhZmY7IGJvcmRlci1yYWRpdXM6NXB4O1wiLz5gKTtcclxuXHJcbiAgICAgICAgdGhpcy5nbG9iYWxWb2x1bWVTbGlkZXIuYWRkTGlzdGVuZXIoJ2lucHV0Jyk7XHJcbiAgICAgICAgdGhpcy5nbG9iYWxWb2x1bWVTbGlkZXIub24oJ2lucHV0JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghKGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpKSByZXR1cm47XHJcbiAgICAgICAgICAgIHNldFN0b3JlZEdsb2JhbFZvbHVtZShldmVudC50YXJnZXQudmFsdWUpO1xyXG4gICAgICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICAgIC8vIFN1YnTDrXR1bG8gZGUgbcO6c2ljYVxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgbXVzaWNMYWJlbFksICdWb2x1bWVuIE3DunNpY2EnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGJhcnJhIGRlIHZvbHVtZW4gKG3DunNpY2EpXHJcbiAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZVNsaWRlciA9IHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5kb20oY2VudGVyWCwgbXVzaWNTbGlkZXJZKVxyXG4gICAgICAgICAgICAuY3JlYXRlRnJvbUhUTUwoYDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBtaW49XCIwXCIgbWF4PVwiMVwiIHN0ZXA9XCIwLjAxXCIgdmFsdWU9XCIke2luaXRpYWxNdXNpY1ZvbHVtZX1cIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDoyMjBweDsgaGVpZ2h0OjIwcHg7IGFjY2VudC1jb2xvcjojMDBhYWZmOyBib3JkZXItcmFkaXVzOjVweDtcIi8+XHJcbiAgICAgICAgICAgIGApO1xyXG5cclxuICAgICAgICB0aGlzLm11c2ljVm9sdW1lU2xpZGVyLmFkZExpc3RlbmVyKCdpbnB1dCcpO1xyXG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIub24oJ2lucHV0JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHNldFN0b3JlZE11c2ljVm9sdW1lKHRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBTdWJ0w610dWxvIGRlIGVmZWN0b3NcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIHNmeExhYmVsWSwgJ1ZvbHVtZW4gRWZlY3RvcycsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjhweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gYmFycmEgZGUgdm9sdW1lbiAoZWZlY3RvcylcclxuICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlciA9IHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5kb20oY2VudGVyWCwgc2Z4U2xpZGVyWSlcclxuICAgICAgICAgICAgLmNyZWF0ZUZyb21IVE1MKGA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD1cIjFcIiBzdGVwPVwiMC4wMVwiIHZhbHVlPVwiJHtpbml0aWFsU2Z4Vm9sdW1lfVwiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIndpZHRoOjIyMHB4OyBoZWlnaHQ6MjBweDsgYWNjZW50LWNvbG9yOiMwMGFhZmY7IGJvcmRlci1yYWRpdXM6NXB4O1wiLz5cclxuICAgICAgICAgICAgYCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyLmFkZExpc3RlbmVyKCdpbnB1dCcpO1xyXG4gICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyLm9uKCdpbnB1dCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBzZXRTdG9yZWRTZnhWb2x1bWUodGFyZ2V0LnZhbHVlKTtcclxuICAgICAgICAgICAgYXBwbHlTdG9yZWRWb2x1bWUodGhpcyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyLmFkZExpc3RlbmVyKCdjaGFuZ2UnKTtcclxuICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlci5vbignY2hhbmdlJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHNlIHJlcHJvZHVjZSBhbCBzb2x0YXIgcGFyYSBkYXIgZmVlZGJhY2tcclxuICAgICAgICAgICAgcGxheUNsaWNrKHRoaXMsICdzb25pZG9DbGljaycpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vLy8vLy8vXHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBWb2x2ZXIgYXRyw6FzXHJcbiAgICAgICAgY3JlYXRlSWNvbkJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcclxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC4wOCxcclxuICAgICAgICAgICAgdGV4dHVyZTogJ2JvdG9uVm9sdmVyJyxcclxuICAgICAgICAgICAgc2NhbGU6IDEsXHJcbiAgICAgICAgICAgIGhvdmVyU2NhbGU6IDEuMSxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWVudV9TY2VuZScpLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzZSBsaW1waWEgZWwgc2xpZGVyIGFsIHNhbGlyIGRlIGxhIGVzY2VuYVxyXG4gICAgICAgIC8vIChhc8OtIHNlIGV2aXRhIHF1ZSBzZSBhY3VtdWxlbiBzaSBlbnRyYXMgeSBzYWxlcyB2YXJpYXMgdmVjZXMpXHJcbiAgICAgICAgdGhpcy5ldmVudHMub25jZShQaGFzZXIuU2NlbmVzLkV2ZW50cy5TSFVURE9XTiwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5tdXNpY1ZvbHVtZVNsaWRlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZVNsaWRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tdXNpY1ZvbHVtZVNsaWRlciA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHRoaXMuc2Z4Vm9sdW1lU2xpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlci5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodGhpcy5nbG9iYWxWb2x1bWVTbGlkZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsVm9sdW1lU2xpZGVyLnJlbW92ZUFsbExpc3RlbmVycygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxWb2x1bWVTbGlkZXIuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxWb2x1bWVTbGlkZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gUGFudGFsbGEgZGUgQ3LDqWRpdG9zXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIENyZWRpdHNfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0NyZWRpdHNfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIGltw6FnZW5lcyBmb25kbyB5IHVpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9GTEVDSEFfVk9MVkVSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG9NZW51UHJpbmNpcGFsJywgJ0FTU0VUUy9GT05ET1MvTUVOVV9QUklOQ0lQQUwucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsb2dvJywgJ0FTU0VUUy9MT0dPL2xvZ29fZW1wcmVzYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hcmNvJywgJ0FTU0VUUy9VSS9NQVJDT1MvVkFDSU9TL01BUkNPU19FU0NFTkFSSU8ucG5nJylcclxuXHJcbiAgICAgICAgLy8gc29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcclxuXHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscz8uZGVmYXVsdFRleHRTdHlsZSA/PyB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG9NZW51UHJpbmNpcGFsJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTIpXHJcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gY2FwYSBvc2N1cmEgcG9yIGVuY2ltYSBkZWwgZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHgwMDAwMDAsIDAuNTApXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAgICAgLnNldERlcHRoKC0xKTtcclxuXHJcbiAgICAgICAgLy8gbm9tYnJlIHkgbWllbWJyb3MgZGVsIGVxdWlwb1xyXG4gICAgICAgIGNvbnN0IG5vbWJyZXNFcXVpcG8gPSBbXHJcbiAgICAgICAgICAgICdHUlVQTyA1IC0gU1VOU0VUIEFSQ0FERScsXHJcbiAgICAgICAgICAgICdTYXJhIEJ1ZW5vIEVzdGViYW4nLFxyXG4gICAgICAgICAgICAnQW50b25pbyBNb3LDoW4gQmFycmVyYScsXHJcbiAgICAgICAgICAgICdDcmlzdGluZSBOaW9rYSBUZXdvJyxcclxuICAgICAgICAgICAgJ8OBbHZhcm8gSWLDocOxZXogTW9udGVybycsXHJcbiAgICAgICAgXTtcclxuXHJcbiAgICAgICAgLy90YXJqZXRhIGRvbmRlIHNlIG11ZXN0cmEgZWwgbm9tYnJlIGRlbCBlcXVpcG8geSBsb3MgbWllbWJyb3NcclxuICAgICAgICBjb25zdCBjYXJkV2lkdGggPSB3aWR0aCAqIDAuMzg7XHJcbiAgICAgICAgY29uc3QgY2FyZEhlaWdodCA9IGhlaWdodCAqIDAuNDY7XHJcbiAgICAgICAgY29uc3QgY2FyZFggPSB3aWR0aCAqIDAuNzU7XHJcbiAgICAgICAgY29uc3QgY2FyZFkgPSBoZWlnaHQgKiAwLjQ2O1xyXG5cclxuICAgICAgICBjb25zdCBjYXJkID0gdGhpcy5hZGRcclxuICAgICAgICAgICAgLnJlY3RhbmdsZShjYXJkWCwgY2FyZFksIGNhcmRXaWR0aCwgY2FyZEhlaWdodCwgMHgxMTExMTEsIDAuNylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIGNhcmQuc2V0U3Ryb2tlU3R5bGUoMiwgMHhmZmZmZmYsIDAuMik7XHJcblxyXG4gICAgICAgIGNvbnN0IGxpbmVTcGFjaW5nID0gMzY7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRZID0gY2FyZFkgLSAoKG5vbWJyZXNFcXVpcG8ubGVuZ3RoIC0gMSkgKiBsaW5lU3BhY2luZykgLyAyO1xyXG5cclxuICAgICAgICBub21icmVzRXF1aXBvLmZvckVhY2goKG5vbWJyZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpc0hlYWRlciA9IGkgPT09IDA7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkXHJcbiAgICAgICAgICAgICAgICAudGV4dChjYXJkWCwgc3RhcnRZICsgaSAqIGxpbmVTcGFjaW5nLCBub21icmUsIHtcclxuICAgICAgICAgICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnVlQzMjMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBpc0hlYWRlciA/ICczNnB4JyA6ICczMnB4JyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogaXNIZWFkZXIgPyAnI2Y1ZDc2ZScgOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICBcclxuICAgICAgICAvLyB0w610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjYXJkWCwgaGVpZ2h0ICogMC4xLCAnQ3LDqWRpdG9zJywge1xyXG4gICAgICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzQycHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGxvZ28gZW1wcmVzYVxyXG4gICAgICAgIGNvbnN0IGxvZ29YID0gY2FyZFg7XHJcbiAgICAgICAgY29uc3QgbG9nb1kgPSBjYXJkWSArIChjYXJkSGVpZ2h0IC8gMikgKyBoZWlnaHQgKiAwLjE2IC0gMztcclxuICAgICAgICB0aGlzLmFkZFxyXG4gICAgICAgICAgICAuaW1hZ2UobG9nb1gsIGxvZ29ZLCAnbG9nbycpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC43KTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIFZvbHZlciBhdHLDoXNcclxuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogd2lkdGggKiAwLjA2LFxyXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjA4LFxyXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxyXG4gICAgICAgICAgICBzY2FsZTogMSxcclxuICAgICAgICAgICAgaG92ZXJTY2FsZTogMS4xLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyksXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLy9QYW50YWxsYSBkZSBGaW5cclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVuZEdhbWVfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0VuZEdhbWVfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLndpbm5lciA9IGRhdGEud2lubmVyO1xyXG4gICAgICAgIHRoaXMucGxheWVyMSA9IGRhdGEucGxheWVyMTtcclxuICAgICAgICB0aGlzLnBsYXllcjIgPSBkYXRhLnBsYXllcjI7XHJcbiAgICB9XHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIGltw6FnZW5lcyBmb25kbyB5IHVpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX0dfU0VMRUNDSU9OQURPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW5TZWxlY2Npb25hcicsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX0cucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIHNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcclxuXHJcbiAgICAgICAgLy9BbmltYWNpb25lcyBkZSB2aWN0b3JpYVxyXG4gICAgICAgIHRoaXMubG9hZC5zcHJpdGVzaGVldChcclxuICAgICAgICAgICAgJ3ZpY3RvcmlhX0EnLCBcclxuICAgICAgICAgICAgJ0FTU0VUUy9QRVJTT05BSkVTL0FOSU1BQ0lPTkVTL1BFUlNPTkFKRV9BL0FfVklDVE9SSUEucG5nJywgXHJcbiAgICAgICAgICAgIHtmcmFtZVdpZHRoOjEyOCxmcmFtZUhlaWdodDogMTI4fSk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAndmljdG9yaWFfQicsIFxyXG4gICAgICAgICAgICAnQVNTRVRTL1BFUlNPTkFKRVMvQU5JTUFDSU9ORVMvUEVSU09OQUpFX0IvQV9WSUNUT1JJQS5wbmcnLCBcclxuICAgICAgICAgICAge2ZyYW1lV2lkdGg6MTI4LGZyYW1lSGVpZ2h0OiAxMjh9KTtcclxuICAgICAgICB0aGlzLmxvYWQuc3ByaXRlc2hlZXQoXHJcbiAgICAgICAgICAgICd2aWN0b3JpYV9DJywgXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQy9BX1ZJQ1RPUklBLnBuZycsIFxyXG4gICAgICAgICAgICB7ZnJhbWVXaWR0aDoxMjgsZnJhbWVIZWlnaHQ6IDEyOH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHsgXHJcbiAgICAgICAgdGhpcy5fY3JlYXRlQW5pbWF0aW9ucygpO1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7XHJcblxyXG4gICAgICAgIGNvbnN0IGNoYXJQMSA9IHRoaXMucGxheWVyMS5uYW1lO1xyXG4gICAgICAgIGNvbnN0IHNwcml0ZVAxID0gdGhpcy5wbGF5ZXIxLmNoYXJhY3RlcjtcclxuICAgICAgICBjb25zdCBjaGFyUDIgPSB0aGlzLnBsYXllcjIubmFtZTtcclxuICAgICAgICBjb25zdCBzcHJpdGVQMiA9IHRoaXMucGxheWVyMi5jaGFyYWN0ZXI7XHJcblxyXG4gICAgICAgIC8vIEZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvJykuc2V0T3JpZ2luKDApLnNldERlcHRoKC0xKTtcclxuXHJcbiAgICAgICAgLy8gVMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgKiAwLjE4LCBcIsKhRmluIGRlbCBwYXJ0aWRvIVwiLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3Qgd2lubmVyVGV4dFkgPSBoZWlnaHQgKiAwLjMzO1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvblkgPSBoZWlnaHQgKiAwLjkwO1xyXG4gICAgICAgIGNvbnN0IHNwcml0ZVBhZGRpbmcgPSBoZWlnaHQgKiAwLjA0O1xyXG4gICAgICAgIGNvbnN0IHNwcml0ZUNlbnRlclkgPSAod2lubmVyVGV4dFkgKyBidXR0b25ZKSAvIDIgLSBoZWlnaHQgKiAwLjAyO1xyXG5cclxuICAgICAgICAvLyBUZXh0byBpbmRpY2FuZG8gZWwgZ2FuYWRvclxyXG4gICAgICAgIGNvbnN0IHdpbm5lclRleHQgPVxyXG4gICAgICAgICAgICB0aGlzLndpbm5lciA9PT0gXCJwbGF5ZXIxXCJcclxuICAgICAgICAgICAgICAgID8gXCJWaWN0b3JpYSBkZTogXCIgKyBjaGFyUDFcclxuICAgICAgICAgICAgICAgIDogXCJWaWN0b3JpYSBkZTogXCIgKyBjaGFyUDI7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCB3aW5uZXJUZXh0WSwgd2lubmVyVGV4dCwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgY29uc3Qgd2lubmVyQ2hhcmFjdGVyID0gdGhpcy53aW5uZXIgPT09IFwicGxheWVyMVwiID8gc3ByaXRlUDEgOiBzcHJpdGVQMjtcclxuXHJcbiAgICAgICAgY29uc3QgdmljdG9yeUNvbmZpZyA9IHtcclxuICAgICAgICAgICAgY2hhcmFjdGVyQTogeyBzcHJpdGVLZXk6ICd2aWN0b3JpYV9BJywgYW5pbUtleTogJ2NoYXJBX3ZpY3RvcnknIH0sXHJcbiAgICAgICAgICAgIGNoYXJhY3RlckI6IHsgc3ByaXRlS2V5OiAndmljdG9yaWFfQicsIGFuaW1LZXk6ICdjaGFyQl92aWN0b3J5JyB9LFxyXG4gICAgICAgICAgICBjaGFyYWN0ZXJDOiB7IHNwcml0ZUtleTogJ3ZpY3RvcmlhX0MnLCBhbmltS2V5OiAnY2hhckNfdmljdG9yeScgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IHsgc3ByaXRlS2V5LCBhbmltS2V5IH0gPSB2aWN0b3J5Q29uZmlnW3dpbm5lckNoYXJhY3Rlcl0gfHwgdmljdG9yeUNvbmZpZy5jaGFyYWN0ZXJBO1xyXG5cclxuICAgICAgICAvLyBodWVjbyBwYXJhIGxvcyBzcHJpdGVzIGRlbCBnYW5hZG9yXHJcbiAgICAgICAgdGhpcy53aW5uZXJTcHJpdGVTbG90ID0gdGhpcy5hZGQuY29udGFpbmVyKHdpZHRoIC8gMiwgc3ByaXRlQ2VudGVyWSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHdpbm5lclNwcml0ZSA9IHRoaXMuYWRkLnNwcml0ZSgwLCAwLCBzcHJpdGVLZXkpO1xyXG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZUhlaWdodCA9IChidXR0b25ZIC0gd2lubmVyVGV4dFkpIC0gc3ByaXRlUGFkZGluZyAqIDI7XHJcbiAgICAgICAgY29uc3QgYXZhaWxhYmxlV2lkdGggPSB3aWR0aCAqIDAuNjtcclxuICAgICAgICBjb25zdCBzY2FsZSA9IE1hdGgubWluKFxyXG4gICAgICAgICAgICBhdmFpbGFibGVIZWlnaHQgLyB3aW5uZXJTcHJpdGUuaGVpZ2h0LFxyXG4gICAgICAgICAgICBhdmFpbGFibGVXaWR0aCAvIHdpbm5lclNwcml0ZS53aWR0aFxyXG4gICAgICAgICkgKiAwLjg1O1xyXG4gICAgICAgIHdpbm5lclNwcml0ZS5zZXRTY2FsZShNYXRoLm1heCgwLjIsIHNjYWxlKSk7XHJcbiAgICAgICAgd2lubmVyU3ByaXRlLnBsYXkoYW5pbUtleSk7XHJcbiAgICAgICAgdGhpcy53aW5uZXJTcHJpdGVTbG90LmFkZCh3aW5uZXJTcHJpdGUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGJvdMOzbiBwYXJhIHZvbHZlciBhbCBtZW7DuiBwcmluY2lwYWxcclxuICAgICAgICBjb25zdCBidXR0b25UZXh0U3R5bGUgPSB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoIC8gMixcclxuICAgICAgICAgICAgeTogYnV0dG9uWSxcclxuICAgICAgICAgICAgbGFiZWw6ICdNZW7DuiBQcmluY2lwYWwnLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgX2NyZWF0ZUFuaW1hdGlvbnMoKXtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX3ZpY3RvcnknLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3ZpY3RvcmlhX0EnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX3ZpY3RvcnknLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3ZpY3RvcmlhX0InLCB7IHN0YXJ0OiAwLCBlbmQ6IDEgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX3ZpY3RvcnknLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ3ZpY3RvcmlhX0MnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEgfSksXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNCxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIFBhbnRhbGxhIHBhcmEgZWxlZ2lyIE1vZG8gZGUgSnVlZ29cclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiwgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5pbXBvcnQgeyBhcHBseVN0b3JlZFZvbHVtZSB9IGZyb20gJy4uL1VJL0F1ZGlvLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNb2RlR2FtZV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTW9kZUdhbWVfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIGJvdG9uZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX1NFTEVDQ0lPTkRPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW5TZWxlY2Npb25hcicsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9TSU5fU0VMRUNDSU9OQVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9GTEVDSEFfVk9MVkVSLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBzb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscz8uZGVmYXVsdFRleHRTdHlsZSA/PyB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gc2UgYXBsaWNhIGVsIHZvbHVtZW5cclxuICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gZm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSlcclxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyB0w610dWxvXHJcbiAgICAgICAgdGhpcy5hZGRcclxuICAgICAgICAgICAgLnRleHQod2lkdGggLyAyLCBoZWlnaHQgKiAwLjE4LCAnTW9kbyBkZSBKdWVnbycsIHtcclxuICAgICAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICc0MnB4JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJ1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGxheW91dFxyXG4gICAgICAgIGNvbnN0IGJ1dHRvblkgPSBoZWlnaHQgKiAwLjU7XHJcbiAgICAgICAgY29uc3Qgc3BhY2luZyA9IE1hdGgubWluKDI4MCwgd2lkdGggKiAwLjMpO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0WCA9IHdpZHRoIC8gMiAtIHNwYWNpbmcgLyAyO1xyXG5cclxuICAgICAgICBjb25zdCBidXR0b25UZXh0U3R5bGUgPSB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IHN0YXJ0TW9kZSA9IChtb2RlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KCdtb2RlJywgbW9kZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNb2RvIHNlbGVjY2lvbmFkbzonLCBtb2RlKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnU2VsZWN0UGxheWVyX1NjZW5lJywgeyBtb2RlOiBtb2RlIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiBMT0NBTFxyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogc3RhcnRYLFxyXG4gICAgICAgICAgICB5OiBidXR0b25ZLFxyXG4gICAgICAgICAgICBsYWJlbDogJ0xvY2FsJyxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gc3RhcnRNb2RlKCdsb2NhbCcpLFxyXG4gICAgICAgICAgICBzY2FsZTogMixcclxuICAgICAgICAgICAgdGV4dHVyZU5vcm1hbDogJ2JvdG9uU2luU2VsZWNjaW9uYXInLFxyXG4gICAgICAgICAgICB0ZXh0dXJlSG92ZXI6ICdib3RvblNlbGVjY2lvbmFkbycsXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gUkVEXHJcbiAgICAgICAgY29uc3QgcmVkQnV0dG9uID0gY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBzdGFydFggKyBzcGFjaW5nLFxyXG4gICAgICAgICAgICB5OiBidXR0b25ZLFxyXG4gICAgICAgICAgICBsYWJlbDogJ1JlZCcsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6IG51bGwsXHJcbiAgICAgICAgICAgIHNjYWxlOiAyLFxyXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW5TZWxlY2Npb25hcicsXHJcbiAgICAgICAgICAgIHRleHR1cmVIb3ZlcjogJ2JvdG9uU2VsZWNjaW9uYWRvJyxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJlZEJ1dHRvbi5idXR0b24uZGlzYWJsZUludGVyYWN0aXZlKCk7XHJcbiAgICAgICAgcmVkQnV0dG9uLmJ1dHRvbi5zZXRBbHBoYSgwLjUpO1xyXG4gICAgICAgIHJlZEJ1dHRvbi50ZXh0LnNldEFscGhhKDAuNSk7XHJcbiAgICAgICAgcmVkQnV0dG9uLnRleHQuc2V0QWxpZ24oJ2NlbnRlcicpO1xyXG5cclxuICAgICAgICAvLyB0ZXh0byBcIk5vIGRpc3BvbmlibGVcIiBkZWJham8gZGVsIGJvdMOzblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoXHJcbiAgICAgICAgICAgIHJlZEJ1dHRvbi5idXR0b24ueCxcclxuICAgICAgICAgICAgcmVkQnV0dG9uLmJ1dHRvbi55ICsgTWF0aC5yb3VuZChyZWRCdXR0b24uYnV0dG9uLmRpc3BsYXlIZWlnaHQgKiAwLjU1KSArIDEyLFxyXG4gICAgICAgICAgICAnTm8gZGlzcG9uaWJsZScsXHJcbiAgICAgICAgICAgIHsgLi4uYnV0dG9uVGV4dFN0eWxlLCBmb250RmFtaWx5OiAnVlQzMjMnLCBmb250U2l6ZTogJzI0cHgnLCBjb2xvcjogJyNmZjAwMDAnIH1cclxuICAgICAgICApLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gdm9sdmVyXHJcbiAgICAgICAgY3JlYXRlSWNvbkJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcclxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC4wOCxcclxuICAgICAgICAgICAgdGV4dHVyZTogJ2JvdG9uVm9sdmVyJyxcclxuICAgICAgICAgICAgc2NhbGU6IDEsXHJcbiAgICAgICAgICAgIGhvdmVyU2NhbGU6IDEuMSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWVudV9TY2VuZScpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbiIsIi8vUGFudGFsbGEgZGUgUGF1c2FcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhdXNlX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdQYXVzZV9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gSW3DoWdlbmVzIGZvbmRvIHkgdWlcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL1ZPTFZFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfR19TRUxFQ0NJT05BRE8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfRy5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gU29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7IFxyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCwgMHgwMDAwMDAsIDAuODgpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAgICAgLnNldERlcHRoKC0xKTtcclxuXHJcbiAgICAgICAgLy8gVMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC4xOCwgJ1BhdXNhJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICBjb25zdCBidXR0b25UZXh0U3R5bGUgPSB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI4cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgY29uc3QgYnV0dG9uU3RhcnRZID0gaGVpZ2h0ICogMC40NjtcclxuICAgICAgICBjb25zdCBidXR0b25TcGFjaW5nID0gaGVpZ2h0ICogMC4xNDtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIENvbnRpbnVhclxyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogY2VudGVyWCxcclxuICAgICAgICAgICAgeTogYnV0dG9uU3RhcnRZLFxyXG4gICAgICAgICAgICBsYWJlbDogJ0NvbnRpbnVhcicsXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxyXG4gICAgICAgICAgICBzY2FsZTogMixcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnJlc3VtZSgnR2FtZV9TY2VuZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIGJvdG9uIFR1dG9yaWFsXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBjZW50ZXJYLFxyXG4gICAgICAgICAgICB5OiBidXR0b25TdGFydFkgKyBidXR0b25TcGFjaW5nLFxyXG4gICAgICAgICAgICBsYWJlbDogJ1R1dG9yaWFsJyxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIHNjYWxlOiAyLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdUdXRvcmlhbF9TY2VuZScsIHsgcmV0dXJuU2NlbmU6ICdQYXVzZV9TY2VuZScgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIE1lbsO6IFByaW5jaXBhbFxyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogY2VudGVyWCxcclxuICAgICAgICAgICAgeTogYnV0dG9uU3RhcnRZICsgYnV0dG9uU3BhY2luZyAqIDIsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnTWVuw7ogUHJpbmNpcGFsJyxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIHNjYWxlOiAyLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBnYW1lU2NlbmUgPSB0aGlzLnNjZW5lLmdldCgnR2FtZV9TY2VuZScpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGdhbWVTY2VuZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWVTY2VuZS5pbnB1dC5rZXlib2FyZC5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgICAgICAgICBnYW1lU2NlbmUuaW5wdXQua2V5Ym9hcmQucmVtb3ZlQWxsS2V5cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RvcCgnR2FtZV9TY2VuZScpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTWVudV9TY2VuZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIiwiLy8gUGFudGFsbGEgZGUgU2VsZWNjacOzbiBkZSBqdWdhZG9yXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XG5pbXBvcnQgeyBhcHBseVN0b3JlZFZvbHVtZSwgcGxheUNsaWNrIH0gZnJvbSAnLi4vVUkvQXVkaW8uanMnO1xuaW1wb3J0IHsgY3JlYXRlVUlCdXR0b24sIGNyZWF0ZUljb25CdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcblxuZXhwb3J0IGNsYXNzIFNlbGVjdFBsYXllcl9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdTZWxlY3RQbGF5ZXJfU2NlbmUnKTtcblxuICAgICAgICB0aGlzLnBsYXllcnMgPSBbXTtcbiAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IDA7ICAgIC8vIHR1cm5vczogMCAtPiBqdWdhZG9yMSwgMSAtPiBqdWdhZG9yMiwgbnVsbCAtPiBhbWJvcyBsaXN0b3NcbiAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dHMgPSBbXTtcbiAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dEVscyA9IFtdO1xuICAgICAgICB0aGlzLnR1cm5UZXh0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBpbml0KGRhdGEpIHtcbiAgICAgICAgdGhpcy5tb2RlID0gdGhpcy5yZWdpc3RyeS5nZXQoJ21vZGUnKTtcbiAgICAgICAgY29uc29sZS5sb2coJ01vZG8gZGUgSnVlZ286JywgdGhpcy5tb2RlKTtcbiAgICAgICAgdGhpcy5pc0hvc3QgPSB0aGlzLnJlZ2lzdHJ5LmdldCgnaXNIb3N0Jyk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdIb3N0OicsIHRoaXMuaXNIb3N0KTtcbiAgICB9XG5cbiAgICBwcmVsb2FkKCkge1xuICAgICAgICAvLyBib3RvbmVzXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fU0VMRUNDSU9ORE8ucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW5TZWxlY2Npb25hcicsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9TSU5fU0VMRUNDSU9OQVIucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvVk9MVkVSLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfU0lOU0VMRUNDSU9OQVIucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRS5wbmcnKTtcblxuICAgICAgICAvLyBmb25kb1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjb0p1Z2Fkb3InLCAnQVNTRVRTL1VJL01BUkNPUy9WQUNJT1MvTUFSQ09fUEVSU09OQUpFX1NFTEVDQ0lPTkFETy5wbmcnKTtcblxuICAgICAgICAvLyBwZXJzb25hamVzXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnY2hhcmFjdGVyQScsICdBU1NFVFMvUEVSU09OQUpFUy9QRVJTT05BSkVTX1BPU0UvcGVyc29uYWplc19hLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NoYXJhY3RlckInLCAnQVNTRVRTL1BFUlNPTkFKRVMvUEVSU09OQUpFU19QT1NFL3BlcnNvbmFqZXNfYi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdjaGFyYWN0ZXJDJywgJ0FTU0VUUy9QRVJTT05BSkVTL1BFUlNPTkFKRVNfUE9TRS9wZXJzb25hamVfYy5wbmcnKTtcblxuICAgICAgICAvLyBzb25pZG9cbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xuICAgIH1cblxuICAgIGNyZWF0ZSgpIHtcbiAgICAgICAgLy8gc2UgbGltcGlhbiB0b2RhcyBsYXMgdGVjbGFzIGNhcHR1cmFkYXMgcG9yIG90cmFzIGVzY2VuYXNcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5yZW1vdmVBbGxLZXlzKHRydWUpO1xuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLnJlbW92ZUFsbExpc3RlbmVycygpO1xuXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcblxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzPy5kZWZhdWx0VGV4dFN0eWxlID8/IHtcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBzZSBhcGxpY2EgZWwgdm9sdW1lblxuICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcblxuICAgICAgICAvLyBGb25kb1xuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKVxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxuICAgICAgICAgICAgLnNldERlcHRoKC0xKVxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIC8vIFTDrXR1bG9cbiAgICAgICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDUwLCAnU2VsZWNjaW9uYSBQZXJzb25hamUnLCB7XG4gICAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDJweCcsXG4gICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZidcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgLy8gc2Vnw7puIGVsIG1vZG8gc2UgY3JlYSB1bmEgVUkgdSBvdHJhXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdsb2NhbCcpIHtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTG9jYWxVSSh3aWR0aCwgaGVpZ2h0LCBzdHlsZSk7XG4gICAgICAgIH0gXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdvbmxpbmUnKSB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZU9ubGluZVVJKHdpZHRoLCBoZWlnaHQsIHN0eWxlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJvdMOzbiB2b2x2ZXJcbiAgICAgICAgY3JlYXRlSWNvbkJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuMDYsXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjA4LFxuICAgICAgICAgICAgdGV4dHVyZTogJ2JvdG9uVm9sdmVyJyxcbiAgICAgICAgICAgIHNjYWxlOiAxLFxuICAgICAgICAgICAgaG92ZXJTY2FsZTogMS4xLFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01vZGVHYW1lX1NjZW5lJyksXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHNlIGxpbXBpYSBET00gYWwgc2FsaXJcbiAgICAgICAgdGhpcy5ldmVudHMub25jZShQaGFzZXIuU2NlbmVzLkV2ZW50cy5TSFVURE9XTiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dHMuZm9yRWFjaCgoZG9tKSA9PiBkb20/LmRlc3Ryb3koKSk7XG4gICAgICAgICAgICB0aGlzLnBsYXllcklucHV0cyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dEVscyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY3JlYXRlTG9jYWxVSSh3aWR0aCwgaGVpZ2h0LCBzdHlsZSkge1xuICAgICAgICAvLyBEYXRvcyBkZSBsb3MganVnYWRvcmVzXG4gICAgICAgIHRoaXMucGxheWVycyA9IFtcbiAgICAgICAgICAgIHsgbmFtZTogJycsIGNoYXJhY3RlcjogbnVsbCwgY29sb3I6IDB4MDBhYWZmLCBiaWdJbWFnZTogbnVsbCwgYmlnRnJhbWU6IG51bGwsIGZyYW1lOiBudWxsIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICcnLCBjaGFyYWN0ZXI6IG51bGwsIGNvbG9yOiAweGZmNTU1NSwgYmlnSW1hZ2U6IG51bGwsIGJpZ0ZyYW1lOiBudWxsLCBmcmFtZTogbnVsbCB9LFxuICAgICAgICBdO1xuXG4gICAgICAgIC8vIFRleHRvIGRlIHR1cm5vXG4gICAgICAgIHRoaXMudHVyblRleHQgPSB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgOTUsICdUVVJOTzogSnVnYWRvciAxJywge1xuICAgICAgICAgICAgLi4uc3R5bGUsXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnVlQzMjMnLFxuICAgICAgICAgICAgZm9udFNpemU6ICcyOHB4JyxcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMCcsXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbk9mZnNldFkgPSAyNTtcblxuICAgICAgICAvLyBVSSBqdWdhZG9yZXMgKyBtaW5pYXR1cmFzXG4gICAgICAgIHRoaXMuY3JlYXRlUGxheWVyc1VJKHNlbGVjdGlvbk9mZnNldFkpO1xuICAgICAgICB0aGlzLmNyZWF0ZUNoYXJhY3Rlck1pbmlhdHVyZXMoMCwgc2VsZWN0aW9uT2Zmc2V0WSk7XG4gICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcblxuICAgICAgICAvLyBCb3TDs24gU2lndWllbnRlXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHdpZHRoIC8gMixcbiAgICAgICAgICAgIHk6IDUwMCxcbiAgICAgICAgICAgIGxhYmVsOiAnU2lndWllbnRlJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuaGFuZGxlTmV4dCgpLFxuICAgICAgICAgICAgc2NhbGU6IDEuNSxcbiAgICAgICAgICAgIHRleHR1cmVOb3JtYWw6ICdib3RvblNpbXBsZScsXG4gICAgICAgICAgICB0ZXh0dXJlSG92ZXI6ICdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMThweCcsIGNvbG9yOiAnIzAwMCcgfSxcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaydcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY3JlYXRlT25saW5lVUkod2lkdGgsIGhlaWdodCwgc3R5bGUpIHtcbiAgICAgICAgLy8gRGF0b3MgZGVsIGp1Z2Fkb3JcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gW1xuICAgICAgICAgICAgeyBuYW1lOiB0aGlzLnJlZ2lzdHJ5LmdldCgndXNlcm5hbWUnKSB8fCAnSnVnYWRvclgnLCBjaGFyYWN0ZXI6IG51bGwsIGNvbG9yOiAweDAwYWFmZiwgYmlnSW1hZ2U6IG51bGwsIGJpZ0ZyYW1lOiBudWxsLCBmcmFtZTogbnVsbCB9XG4gICAgICAgIF07XG5cbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uT2Zmc2V0WSA9IDQwO1xuXG4gICAgICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxMDAgKyBzZWxlY3Rpb25PZmZzZXRZLCBgJHt0aGlzLnBsYXllcnNbMF0ubmFtZX1gLCB7IFxuICAgICAgICAgICAgLi4uc3R5bGUsIGZvbnRTaXplOiAnMjhweCcsIGNvbG9yOiAnIzAwMCcsIGZvbnRTdHlsZTogJ2JvbGQnIFxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFRleHRvIGRlIHR1cm5vIChFc3RhZG8gZW4gZXN0ZSBjYXNvLCBwZXJvIGNvbiBlbCBtaXNtbyBub21icmUgcGFyYSBtYW50ZXJuZXIgbGEgbWlzbWEgZnVuY2lvbmFsaWRhZClcbiAgICAgICAgdGhpcy50dXJuVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxMzAsICdOaW5nw7puIHBlcnNvbmFqZSBzZWxlY2Npb25hZG8nLCB7XG4gICAgICAgICAgICAuLi5zdHlsZSwgZm9udFNpemU6ICcxOHB4JywgY29sb3I6ICcjMDAwJyxcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgLy8gVUkganVnYWRvcmVzICsgbWluaWF0dXJhc1xuICAgICAgICB0aGlzLmNyZWF0ZVBsYXllck9ubGluZVVJKHNlbGVjdGlvbk9mZnNldFkpO1xuICAgICAgICB0aGlzLmNyZWF0ZUNoYXJhY3Rlck1pbmlhdHVyZXMoMTUwLCBzZWxlY3Rpb25PZmZzZXRZKTtcblxuICAgICAgICAvLyBCb3TDs24gU2lndWllbnRlXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHdpZHRoIC8gMixcbiAgICAgICAgICAgIHk6IDUwMCxcbiAgICAgICAgICAgIGxhYmVsOiAnU2lndWllbnRlJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuaGFuZGxlTmV4dCgpLFxuICAgICAgICAgICAgc2NhbGU6IDEuNSxcbiAgICAgICAgICAgIHRleHR1cmVOb3JtYWw6ICdib3RvblNpbXBsZScsXG4gICAgICAgICAgICB0ZXh0dXJlSG92ZXI6ICdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMThweCcsIGNvbG9yOiAnIzAwMCcgfSxcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIENyZWEgbGEgVUkgZGUgc2VsZWNjacOzbiBkZSBqdWdhZG9yZXNcbiAgICBjcmVhdGVQbGF5ZXJzVUkob2Zmc2V0WSA9IDApIHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7XG5cbiAgICAgICAgY29uc3QgcG9zaXRpb25zWCA9IFt3aWR0aCAqIDAuMjUsIHdpZHRoICogMC43NV07XG5cbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2goKHBsYXllciwgaWR4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB4ID0gcG9zaXRpb25zWFtpZHhdO1xuXG4gICAgICAgICAgICAvLyBMYWJlbCBub21icmVcbiAgICAgICAgICAgIHRoaXMuYWRkLnRleHQoeCwgMTAwICsgb2Zmc2V0WSwgJ05vbWJyZTonLCB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzI0cHgnLCBjb2xvcjogJyMwMDAnIH0pXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xuXG4gICAgICAgICAgICAvLyBJbnB1dCBub21icmVcbiAgICAgICAgICAgIGNvbnN0IGRvbSA9IHRoaXMuYWRkLmRvbSh4LCAxNDAgKyBvZmZzZXRZKS5jcmVhdGVGcm9tSFRNTChgXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCJOb21icmUganVnYWRvclwiIG1heGxlbmd0aD1cIjEwXCJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIlxuICAgICAgICAgICAgICAgICAgICB3aWR0aDoxNTBweDtcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzo2cHg7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZToxNnB4O1xuICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseToke3N0eWxlLmZvbnRGYW1pbHl9O1xuICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOjEycHg7XG4gICAgICAgICAgICAgICAgICAgIGJvcmRlcjogNnB4IHNvbGlkICNGRkFBMDA7XG4gICAgICAgICAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7XG4gICAgICAgICAgICAgICAgICAgIHRleHQtYWxpZ246Y2VudGVyO1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiNmMGYwZjA7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjJzLCBib3gtc2hhZG93IDAuMnM7XCJcbiAgICAgICAgICAgICAgICBvbmZvY3VzPVwidGhpcy5zdHlsZS5ib3JkZXJDb2xvcj0nI0ZGODMxNic7IHRoaXMuc3R5bGUuYm94U2hhZG93PScwIDAgNXB4ICNGRjgzMTYnO1wiXG4gICAgICAgICAgICAgICAgb25ibHVyPVwidGhpcy5zdHlsZS5ib3JkZXJDb2xvcj0nI0ZGQUEwMCc7IHRoaXMuc3R5bGUuYm94U2hhZG93PSdub25lJztcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICBgKTtcblxuICAgICAgICAgICAgY29uc3QgaW5wdXRFbCA9IC8qKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudH0gKi8gKGRvbS5ub2RlLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykpO1xuXG4gICAgICAgICAgICAvLyBwYXJhIHF1ZSBlbCB0ZWNsYWRvIG5vIGludGVyZmllcmEgY29uIFBoYXNlclxuICAgICAgICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIChlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLmVuYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiBlLnN0b3BQcm9wYWdhdGlvbigpKTtcblxuICAgICAgICAgICAgLy8gTGV0cmFzICsgZXNwYWNpb3NcbiAgICAgICAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaW5wdXRFbC52YWx1ZSA9IGlucHV0RWwudmFsdWUucmVwbGFjZSgvW15hLXpBLVrDgC3Dv8Oxw5EgXS9nLCAnJyk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMucGxheWVySW5wdXRzW2lkeF0gPSBkb207XG4gICAgICAgICAgICB0aGlzLnBsYXllcklucHV0RWxzW2lkeF0gPSBpbnB1dEVsO1xuXG4gICAgICAgICAgICAvLyDigJxTbG904oCdIGdyYW5kZSArIG1hcmNvXG4gICAgICAgICAgICBwbGF5ZXIuYmlnSW1hZ2UgPSB0aGlzLmFkZC5pbWFnZSh3aWR0aCAqICgwLjI1ICsgMC41ICogaWR4KSwgaGVpZ2h0ICogMC42ICsgb2Zmc2V0WSwgJ2NoYXJhY3RlckEnKVxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgxLjIpXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xuXG4gICAgICAgICAgICBwbGF5ZXIuYmlnRnJhbWUgPSB0aGlzLmFkZC5pbWFnZShwbGF5ZXIuYmlnSW1hZ2UueCwgcGxheWVyLmJpZ0ltYWdlLnksICdtYXJjb0p1Z2Fkb3InKVxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgyLjgpXG4gICAgICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXG4gICAgICAgICAgICAgICAgLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICBwbGF5ZXIuYmlnRnJhbWUudGV4dHVyZS5zZXRGaWx0ZXIoUGhhc2VyLlRleHR1cmVzLkZpbHRlck1vZGUuTkVBUkVTVCk7XG5cbiAgICAgICAgICAgIC8vIE1hcmNvIHNvYnJlIG1pbmlhdHVyYSAocmVjdMOhbmd1bG8pXG4gICAgICAgICAgICBwbGF5ZXIuZnJhbWUgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgNjAsIDEyMClcbiAgICAgICAgICAgICAgICAuc2V0U3Ryb2tlU3R5bGUoNCwgcGxheWVyLmNvbG9yKVxuICAgICAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gVHVybm8gZW1waWV6YSBlbiBqdWdhZG9yIDFcbiAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IDA7XG4gICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcbiAgICB9XG5cbiAgICBjcmVhdGVQbGF5ZXJPbmxpbmVVSShvZmZzZXRZID0gMCkge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG5cbiAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wbGF5ZXJzWzBdO1xuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xuXG4gICAgICAgIC8vIOKAnFNsb3TigJ0gZ3JhbmRlICsgbWFyY29cbiAgICAgICAgcGxheWVyLmJpZ0ltYWdlID0gdGhpcy5hZGQuaW1hZ2UoY2VudGVyWCAtIDE1MCwgaGVpZ2h0ICogMC41OCArIG9mZnNldFksICdjaGFyYWN0ZXJBJylcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxLjIpXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcblxuICAgICAgICBwbGF5ZXIuYmlnRnJhbWUgPSB0aGlzLmFkZC5pbWFnZShwbGF5ZXIuYmlnSW1hZ2UueCwgcGxheWVyLmJpZ0ltYWdlLnksICdtYXJjb0p1Z2Fkb3InKVxuICAgICAgICAgICAgLnNldFNjYWxlKDIuOClcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxuICAgICAgICAgICAgLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIHBsYXllci5iaWdGcmFtZS50ZXh0dXJlLnNldEZpbHRlcihQaGFzZXIuVGV4dHVyZXMuRmlsdGVyTW9kZS5ORUFSRVNUKTtcblxuICAgICAgICAvLyBNYXJjbyBzb2JyZSBtaW5pYXR1cmEgKHJlY3TDoW5ndWxvKVxuICAgICAgICBwbGF5ZXIuZnJhbWUgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgNjAsIDEyMClcbiAgICAgICAgICAgIC5zZXRTdHJva2VTdHlsZSg0LCBwbGF5ZXIuY29sb3IpXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYSBsYXMgbWluaWF0dXJhcyBkZSBsb3MgcGVyc29uYWplcyBzZWxlY2Npb25hYmxlc1xuICAgIGNyZWF0ZUNoYXJhY3Rlck1pbmlhdHVyZXMoeCwgeSkge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG5cbiAgICAgICAgY29uc3QgcGVyc29uYWplcyA9IFsnY2hhcmFjdGVyQScsICdjaGFyYWN0ZXJCJywgJ2NoYXJhY3RlckMnXTtcbiAgICAgICAgY29uc3Qgc3BhY2luZyA9IDE1MDtcbiAgICAgICAgY29uc3Qgc3RhcnRYID0gd2lkdGggLyAyIC0gc3BhY2luZyAvIDI7XG4gICAgICAgIGNvbnN0IHN0YXJ0WSA9IGhlaWdodCAqIDAuNTtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbnMgPSBbXG4gICAgICAgICAgICB7IHg6IHN0YXJ0WCArIHgsIHk6IHN0YXJ0WSArIHkgfSxcbiAgICAgICAgICAgIHsgeDogc3RhcnRYICsgeCArIHNwYWNpbmcsIHk6IHN0YXJ0WSArIHkgfSxcbiAgICAgICAgICAgIHsgeDogc3RhcnRYICsgeCArIHNwYWNpbmcgLyAyLCB5OiBzdGFydFkgKyB5ICsgc3BhY2luZyAvIDIgfSxcbiAgICAgICAgXTtcblxuICAgICAgICBwZXJzb25hamVzLmZvckVhY2goKG5vbWJyZSwgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWluaSA9IHRoaXMuYWRkLmltYWdlKHBvc2l0aW9uc1tpXS54LCBwb3NpdGlvbnNbaV0ueSwgbm9tYnJlKVxuICAgICAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcbiAgICAgICAgICAgICAgICAuc2V0U2NhbGUoMC40NSlcbiAgICAgICAgICAgICAgICAuc2V0RGF0YSgnY2hhcmFjdGVyTmFtZScsIG5vbWJyZSk7XG5cbiAgICAgICAgICAgIG1pbmkub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHBsYXlDbGljayh0aGlzLCAnc29uaWRvQ2xpY2snKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uTWluaUNsaWNrZWQobm9tYnJlLCBtaW5pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBMw7NnaWNhIGFsIGhhY2VyIGNsaWNrIHNvYnJlIHVuYSBtaW5pYXR1cmEgKHBlcnNvbmFqZSlcbiAgICBvbk1pbmlDbGlja2VkKGNoYXJhY3Rlck5hbWUsIG1pbmkpIHtcbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ29ubGluZScpIHtcbiAgICAgICAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMucGxheWVyc1swXTtcblxuICAgICAgICAgICAgLy8gU2kgZWwgcGVyc29uYWplIHlhIGVzIGVsIHNlbGVjY2lvbmFkbywgc2UgZGVzZWxlY2Npb25hXG4gICAgICAgICAgICBpZiAocGxheWVyLmNoYXJhY3RlciA9PT0gY2hhcmFjdGVyTmFtZSkge1xuICAgICAgICAgICAgICAgIHBsYXllci5jaGFyYWN0ZXIgPSBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuYmlnSW1hZ2UpIHBsYXllci5iaWdJbWFnZS5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmZyYW1lKSBwbGF5ZXIuZnJhbWUuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNpIGVzIHVubyBudWV2bywgc2Ugc2VsZWNjaW9uYSAoeSBhdXRvbcOhdGljYW1lbnRlIGRlc21hcmNhIGVsIGFudGVyaW9yIHNpIGxvIGh1YmllcmEpXG4gICAgICAgICAgICAgICAgcGxheWVyLmNoYXJhY3RlciA9IGNoYXJhY3Rlck5hbWU7XG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5iaWdJbWFnZSkgcGxheWVyLmJpZ0ltYWdlLnNldFRleHR1cmUoY2hhcmFjdGVyTmFtZSkuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAocGxheWVyLmZyYW1lKSBwbGF5ZXIuZnJhbWUuc2V0UG9zaXRpb24obWluaS54LCBtaW5pLnkpLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XG4gICAgICAgICAgICByZXR1cm47IC8vIFNhbGltb3MgcGFyYSBubyBlamVjdXRhciBsYSBsw7NnaWNhIGRlIHR1cm5vcyBkZWwgbW9kbyBsb2NhbFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgb3duZXJJbmRleCA9IHRoaXMucGxheWVycy5maW5kSW5kZXgocCA9PiBwLmNoYXJhY3RlciA9PT0gY2hhcmFjdGVyTmFtZSk7XG5cbiAgICAgICAgLy8gc2kgZWwgcGVyc29uYWplIHlhIHBlcnRlbmVjZSBhIGFsZ3VpZW4sIHNlIGRlc2VsZWNjaW9uYSBzaWVtcHJlXG4gICAgICAgIGlmIChvd25lckluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgY29uc3Qgb3duZXIgPSB0aGlzLnBsYXllcnNbb3duZXJJbmRleF07XG5cbiAgICAgICAgICAgIG93bmVyLmNoYXJhY3RlciA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChvd25lci5iaWdJbWFnZSkgb3duZXIuYmlnSW1hZ2Uuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICBpZiAob3duZXIuZnJhbWUpIG93bmVyLmZyYW1lLnNldFZpc2libGUoZmFsc2UpO1xuXG4gICAgICAgICAgICAvLyBFbCB0dXJubyBwYXNhIGEgZXNlIGp1Z2Fkb3IgcGFyYSBxdWUgZWxpamEgaW5tZWRpYXRhbWVudGUgb3Ryb1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IG93bmVySW5kZXg7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaSBlbCBwZXJzb25hamUgbm8gcGVydGVuZWNlIGEgbmFkaWUsIGxvIGFzaWduYW1vcyBzZWfDum4gZWwgdHVybm8gKG8gc2Vnw7puIHF1acOpbiBmYWx0ZSlcbiAgICAgICAgY29uc3QgcDEgPSB0aGlzLnBsYXllcnNbMF07XG4gICAgICAgIGNvbnN0IHAyID0gdGhpcy5wbGF5ZXJzWzFdO1xuXG4gICAgICAgIGxldCB0YXJnZXRJbmRleCA9IHRoaXMuY3VycmVudFR1cm47XG5cbiAgICAgICAgLy8gc2kgY3VycmVudFR1cm4gZXMgbnVsbCAoYW1ib3MgeWEgdGVuw61hbiksIG5vIHNlIGRlamEgcmVlbXBsYXphciBzaW4gZGVzZWxlY2Npb25hciBhbnRlcyxcbiAgICAgICAgLy8gcGVybyBzaSB1bm8gZXN0w6EgdmFjw61vLCBzZSBlbGlnZSBhdXRvbcOhdGljYW1lbnRlIGVsIHZhY8Otb1xuICAgICAgICBpZiAodGFyZ2V0SW5kZXggPT09IG51bGwgfHwgdGFyZ2V0SW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKCFwMS5jaGFyYWN0ZXIgJiYgcDIuY2hhcmFjdGVyKSB0YXJnZXRJbmRleCA9IDA7XG4gICAgICAgICAgICBlbHNlIGlmICghcDIuY2hhcmFjdGVyICYmIHAxLmNoYXJhY3RlcikgdGFyZ2V0SW5kZXggPSAxO1xuICAgICAgICAgICAgZWxzZSBpZiAoIXAxLmNoYXJhY3RlciAmJiAhcDIuY2hhcmFjdGVyKSB0YXJnZXRJbmRleCA9IDA7XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBhbWJvcyB0aWVuZW4gcGVyc29uYWplOiBwYXJhIGNhbWJpYXIsIHByaW1lcm8gZGVzZWxlY2Npb25hIHVubyAoY2xpY2sgZW4gc3UgbWluaSlcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLnBsYXllcnNbdGFyZ2V0SW5kZXhdO1xuICAgICAgICBjb25zdCBvdGhlciA9IHRoaXMucGxheWVyc1sxIC0gdGFyZ2V0SW5kZXhdO1xuXG4gICAgICAgIC8vIG5vIHNlIHBlcm1pdGUgZXNjb2dlciB1bm8gcXVlIHRlbmdhIGVsIG90cm9cbiAgICAgICAgaWYgKG90aGVyLmNoYXJhY3RlciA9PT0gY2hhcmFjdGVyTmFtZSkgcmV0dXJuO1xuXG4gICAgICAgIC8vIEFzaWduYXIgcGVyc29uYWplXG4gICAgICAgIHRhcmdldC5jaGFyYWN0ZXIgPSBjaGFyYWN0ZXJOYW1lO1xuXG4gICAgICAgIGlmICh0YXJnZXQuYmlnSW1hZ2UpIHRhcmdldC5iaWdJbWFnZS5zZXRUZXh0dXJlKGNoYXJhY3Rlck5hbWUpLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgIGlmICh0YXJnZXQuZnJhbWUpIHRhcmdldC5mcmFtZS5zZXRQb3NpdGlvbihtaW5pLngsIG1pbmkueSkuc2V0VmlzaWJsZSh0cnVlKTtcblxuICAgICAgICAvLyB0dXJubzogc2kgZWwgb3RybyBhw7puIG5vIGVsaWdpw7MsIHBhc2EgYWwgb3Rybzsgc2kgeWEgZWxpZ2nDsywgcXVlZGEgZW4gbnVsbCAoYW1ib3MgbGlzdG9zKVxuICAgICAgICBpZiAoIW90aGVyLmNoYXJhY3RlcikgdGhpcy5jdXJyZW50VHVybiA9IDEgLSB0YXJnZXRJbmRleDtcbiAgICAgICAgZWxzZSB0aGlzLmN1cnJlbnRUdXJuID0gbnVsbDtcblxuICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XG4gICAgfVxuXG4gICAgLy8gQ29udHJvbGEgcXVlIHBhc2EgYWwgaGFjZXIgY2xpY2sgZW4gZWwgYm90w7NuIFNpZ3VpZW50ZVxuICAgIGhhbmRsZU5leHQoKSB7XG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdsb2NhbCcpIHtcbiAgICAgICAgICAgICBjb25zdCBuYW1lMSA9IHRoaXMucGxheWVySW5wdXRFbHM/LlswXT8udmFsdWU/LnRyaW0oKSA/PyAnJztcbiAgICAgICAgICAgIGNvbnN0IHAxSGFzQ2hhciA9ICEhdGhpcy5wbGF5ZXJzPy5bMF0/LmNoYXJhY3RlcjtcblxuICAgICAgICAgICAgY29uc3QgbmFtZTIgPSB0aGlzLnBsYXllcklucHV0RWxzPy5bMV0/LnZhbHVlPy50cmltKCkgPz8gJyc7XG4gICAgICAgICAgICBjb25zdCBwMkhhc0NoYXIgPSAhIXRoaXMucGxheWVycz8uWzFdPy5jaGFyYWN0ZXI7XG5cbiAgICAgICAgICAgIGNvbnN0IHJlYWR5ID0gKG5hbWUxLmxlbmd0aCA+IDApICYmIChuYW1lMi5sZW5ndGggPiAwKSAmJiBwMUhhc0NoYXIgJiYgcDJIYXNDaGFyO1xuXG4gICAgICAgICAgICBpZiAoIXJlYWR5KSB7XG4gICAgICAgICAgICAgICAgLy8gc2UgYWN0dWFsaXphIGVsIHRleHRvIGRlIGFycmliYSAodHVyblRleHQpIGNvbiBlbCBtZW5zYWplIGVzcGVjw61maWNvXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xuXG4gICAgICAgICAgICAgICAgLy8gc2UgZGVzdGFjYSBlbCBtZW5zYWplIGVuIHJvam8gZHVyYW50ZSAxc1xuICAgICAgICAgICAgICAgIHRoaXMuZmxhc2hUdXJuVGV4dCgnI2IwMDAwMCcsIDkwMCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNlIGd1YXJkYW4gbm9tYnJlc1xuICAgICAgICAgICAgdGhpcy5wbGF5ZXJzWzBdLm5hbWUgPSBuYW1lMTtcbiAgICAgICAgICAgIHRoaXMucGxheWVyc1sxXS5uYW1lID0gbmFtZTI7XG5cbiAgICAgICAgICAgIC8vIHNlIHBhc2EgYSBsYSBzaWd1aWVudGUgZXNjZW5hXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RTY2VuYXJpb19TY2VuZScsIHtcbiAgICAgICAgICAgICAgICBtb2RlOiB0aGlzLm1vZGUsXG4gICAgICAgICAgICAgICAgcGxheWVyMTogdGhpcy5wbGF5ZXJzWzBdLFxuICAgICAgICAgICAgICAgIHBsYXllcjI6IHRoaXMucGxheWVyc1sxXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ29ubGluZScpIHtcbiAgICAgICAgICAgIGNvbnN0IHAxSGFzQ2hhciA9ICEhdGhpcy5wbGF5ZXJzPy5bMF0/LmNoYXJhY3RlcjtcblxuICAgICAgICAgICAgaWYgKCFwMUhhc0NoYXIpIHtcbiAgICAgICAgICAgICAgICAvLyBzb2xvIHNlIGF2aXNhIHNpIG5vIGhhIGVsZWdpZG8gcGVyc29uYWplXG4gICAgICAgICAgICAgICAgdGhpcy5mbGFzaFR1cm5UZXh0KCcjYjAwMDAwJywgOTAwKTtcbiAgICAgICAgICAgICAgICB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0RlYmVzIGVsZWdpciB1biBwZXJzb25hamUgcHJpbWVybycpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ215Q2hhcmFjdGVyJywgdGhpcy5wbGF5ZXJzWzBdLmNoYXJhY3Rlcik7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzSG9zdCkge1xuICAgICAgICAgICAgICAgIC8vIFNveSBlbCBhZG1pbjogcHVlZG8gcGFzYXIgYSBlbGVnaXIgZXNjZW5hcmlvXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnU2VsZWN0U2NlbmFyaW9fU2NlbmUnLCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgICAgICAgICAgICAgcGxheWVyMTogdGhpcy5wbGF5ZXJzWzBdLFxuICAgICAgICAgICAgICAgICAgICBpc0hvc3Q6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gcGFzYW1vcyBwbGF5ZXIyIHBvcnF1ZSBzZSB1bmlyw6EgZW4gcmVkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0xvYmJ5X1NjZW5lJywge1xuICAgICAgICAgICAgICAgICAgICBtb2RlOiB0aGlzLm1vZGUsXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcjI6IHRoaXMucGxheWVyc1swXSxcbiAgICAgICAgICAgICAgICAgICAgaXNIb3N0OiBmYWxzZSBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhY2UgcGFycGFkZWFyIGVsIHRleHRvIGRlIHR1cm5vIGNvbiB1biBjb2xvciByb2pvIGR1cmFudGUgdW5vcyBtaWxpc2VndW5kb3NcbiAgICBmbGFzaFR1cm5UZXh0KGNvbG9yID0gJyNiMDAwMDAnLCBtcyA9IDkwMCkge1xuICAgICAgICBpZiAoIXRoaXMudHVyblRleHQpIHJldHVybjtcblxuICAgICAgICBjb25zdCBvbGRDb2xvciA9IHRoaXMudHVyblRleHQuc3R5bGUuY29sb3IgfHwgJyMwMDAwMDAnO1xuICAgICAgICB0aGlzLnR1cm5UZXh0LnNldENvbG9yKGNvbG9yKTtcblxuICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwobXMsICgpID0+IHtcbiAgICAgICAgICAgIC8vIHZ1ZWx2ZSBhbCBjb2xvciBub3JtYWwgeSByZWZyZXNjYSBlbCB0ZXh0byBwb3Igc2kgY2FtYmnDsyBhbGdvXG4gICAgICAgICAgICB0aGlzLnR1cm5UZXh0LnNldENvbG9yKG9sZENvbG9yKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gQWN0dWFsaXphIGVsIHRleHRvIGRlIHR1cm5vL2VzdGFkbyBhY3R1YWxcbiAgICB1cGRhdGVUdXJuVGV4dCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnR1cm5UZXh0KSByZXR1cm47XG5cbiAgICAgICAgaWYgKHRoaXMubW9kZSA9PT0gJ2xvY2FsJykge1xuICAgICAgICAgICAgY29uc3QgbmFtZTEgPSB0aGlzLnBsYXllcklucHV0RWxzPy5bMF0/LnZhbHVlPy50cmltKCkgPz8gJyc7XG4gICAgICAgICAgICBjb25zdCBuYW1lMiA9IHRoaXMucGxheWVySW5wdXRFbHM/LlsxXT8udmFsdWU/LnRyaW0oKSA/PyAnJztcblxuICAgICAgICAgICAgY29uc3QgcDFIYXNDaGFyID0gISF0aGlzLnBsYXllcnM/LlswXT8uY2hhcmFjdGVyO1xuICAgICAgICAgICAgY29uc3QgcDJIYXNDaGFyID0gISF0aGlzLnBsYXllcnM/LlsxXT8uY2hhcmFjdGVyO1xuXG4gICAgICAgICAgICBjb25zdCBwMUhhc05hbWUgPSBuYW1lMS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgY29uc3QgcDJIYXNOYW1lID0gbmFtZTIubGVuZ3RoID4gMDtcblxuICAgICAgICAgICAgY29uc3QgYWxsQ2hhcnMgPSBwMUhhc0NoYXIgJiYgcDJIYXNDaGFyO1xuICAgICAgICAgICAgY29uc3QgYWxsTmFtZXMgPSBwMUhhc05hbWUgJiYgcDJIYXNOYW1lO1xuXG4gICAgICAgICAgICAvLyBzaSB0b2RvIGVzdMOhIGNvbXBsZXRvXG4gICAgICAgICAgICBpZiAoYWxsQ2hhcnMgJiYgYWxsTmFtZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ8KhTGlzdG8gcGFyYSBjb250aW51YXIhJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzaSBmYWx0YW4gTk9NQlJFUyAoeSB5YSBlc3TDoW4gbG9zIHBlcnNvbmFqZXMpLCBlc3BlY2lmaWNhIHF1acOpblxuICAgICAgICAgICAgaWYgKGFsbENoYXJzICYmICFhbGxOYW1lcykge1xuICAgICAgICAgICAgICAgIGlmICghcDFIYXNOYW1lICYmICFwMkhhc05hbWUpIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRmFsdGFuIGxvcyBub21icmVzIGRlIEp1Z2Fkb3IgMSB5IEp1Z2Fkb3IgMicpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFwMUhhc05hbWUpIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRmFsdGEgZWwgbm9tYnJlIGRlIEp1Z2Fkb3IgMScpO1xuICAgICAgICAgICAgICAgIGVsc2UgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YSBlbCBub21icmUgZGUgSnVnYWRvciAyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzaSBmYWx0YW4gUEVSU09OQUpFUyAoeSB5YSBlc3TDoW4gbG9zIG5vbWJyZXMpLCBlc3BlY2lmaWNhIHF1acOpblxuICAgICAgICAgICAgaWYgKGFsbE5hbWVzICYmICFhbGxDaGFycykge1xuICAgICAgICAgICAgICAgIGlmICghcDFIYXNDaGFyICYmICFwMkhhc0NoYXIpIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRmFsdGFuIGxvcyBwZXJzb25hamVzIGRlIEp1Z2Fkb3IgMSB5IEp1Z2Fkb3IgMicpO1xuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFwMUhhc0NoYXIpIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRmFsdGEgZWwgcGVyc29uYWplIGRlIEp1Z2Fkb3IgMScpO1xuICAgICAgICAgICAgICAgIGVsc2UgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YSBlbCBwZXJzb25hamUgZGUgSnVnYWRvciAyJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBzaSBmYWx0YW4gY29zYXMgbWl4dGFzIChub21icmVzIHkgcGVyc29uYWplcylcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRUdXJuID09PSBudWxsIHx8IHRoaXMuY3VycmVudFR1cm4gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0VGV4dCgnQ29tcGxldGEgbm9tYnJlcyB5IHBlcnNvbmFqZXMnKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0VGV4dChgVFVSTk86IEp1Z2Fkb3IgJHt0aGlzLmN1cnJlbnRUdXJuICsgMX1gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdvbmxpbmUnKSB7XG4gICAgXG4gICAgICAgICAgICBjb25zdCBwMUhhc0NoYXIgPSAhIXRoaXMucGxheWVycz8uWzBdPy5jaGFyYWN0ZXI7XG5cbiAgICAgICAgICAgIGlmICghcDFIYXNDaGFyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdOaW5nw7puIHBlcnNvbmFqZSBzZWxlY2Npb25hZG8nKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdMaXN0bzogZWwganVnYWRvciB0aWVuZSBwZXJzb25hamUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8vUGFudGFsbGEgZGUgU2VsZWNjaW9uIGRlIGVzY2VuYXJpb1xuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xuaW1wb3J0IHsgYXBwbHlTdG9yZWRWb2x1bWUsIHBsYXlDbGljayB9IGZyb20gJy4uL1VJL0F1ZGlvLmpzJztcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uLCBjcmVhdGVJY29uQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XG5cbmV4cG9ydCBjbGFzcyBTZWxlY3RTY2VuYXJpb19TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdTZWxlY3RTY2VuYXJpb19TY2VuZScpO1xuICAgICAgICB0aGlzLnNlbGVjdGVkU2NlbmFyaW8gPSAnR3ltJztcbiAgICAgICAgdGhpcy5tb2RlID0gJ2xvY2FsJztcbiAgICB9XG5cbiAgICBwcmVsb2FkKCkge1xuICAgICAgICAvLyBCb3RvbmVzXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRS5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfU0lOU0VMRUNDSU9OQVIucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvRkxFQ0hBX1ZPTFZFUi5wbmcnKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZScsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX1NJTlNFTEVDQ0lPTkFSLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0UucG5nJyk7XG5cbiAgICAgICAgLy8gRm9uZG9cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XG5cbiAgICAgICAgLy8gRXNjZW5hcmlvc1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ0d5bScsICdBU1NFVFMvRk9ORE9TL0dJTU5BU0lPLnBuZycpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ1BsYXlhJywgJ0FTU0VUUy9GT05ET1MvUExBWUEucG5nJyk7XG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSmFyZGluJywgJ0FTU0VUUy9GT05ET1MvSkFSRElOLnBuZycpO1xuXG4gICAgICAgIC8vIFNvbmlkb1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XG5cbiAgICAgICAgLy8gTWFyY29cbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjbycsICcvQVNTRVRTL1VJL01BUkNPUy9WQUNJT1MvTUFSQ09TX0VTQ0VOQVJJTy5wbmcnKVxuICAgIH1cblxuICAgIGluaXQoZGF0YSkge1xuICAgICAgICB0aGlzLnBsYXllcjEgPSBkYXRhLnBsYXllcjE7XG4gICAgICAgIHRoaXMucGxheWVyMiA9IGRhdGEucGxheWVyMjtcbiAgICAgICAgdGhpcy5tb2RlID0gZGF0YS5tb2RlIHx8ICdsb2NhbCc7XG4gICAgICAgIHRoaXMuaXNIb3N0ID0gZGF0YS5pc0hvc3QgfHwgZmFsc2U7XG4gICAgfVxuXG4gICAgY3JlYXRlKCkge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHMuZGVmYXVsdFRleHRTdHlsZTtcblxuICAgICAgICAvLyBzZSBhcGxpY2EgZWwgdm9sdW1lblxuICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcblxuICAgICAgICAvLyBGb25kb1xuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKVxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxuICAgICAgICAgICAgLnNldERlcHRoKC0xKVxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xuXG4gICAgICAgIC8vIFTDrXR1bG9cbiAgICAgICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDUwLCAnU2VsZWNjaW9uYSBFc2NlbmFyaW8nLCB7XG4gICAgICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDJweCcsXG4gICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZidcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XG5cbiAgICAgICAgLy8gSW1hZ2VuIGRlbCBlc2NlbmFyaW8gc2VsZWNjaW9uYWRvXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyA9ICdHeW0nO1xuICAgICAgICB0aGlzLnNlbGVjdGVkSW1hZ2UgPSB0aGlzLmFkZC5pbWFnZSh3aWR0aCAvIDIsIDI0MCwgdGhpcy5zZWxlY3RlZFNjZW5hcmlvKS5zZXRTY2FsZSgwLjUpO1xuXG4gICAgICAgIC8vIEVzY2VuYXJpb3MgKGJvdG9uZXMpXG4gICAgICAgIGNvbnN0IGVzY2VuYXJpb3MgPSBbJ0d5bScsICdQbGF5YScsICdKYXJkaW4nXTtcbiAgICAgICAgY29uc3Qgc3BhY2luZyA9IDIwMDtcbiAgICAgICAgY29uc3Qgc3RhcnRYID0gd2lkdGggLyAyIC0gc3BhY2luZztcblxuICAgICAgICBjb25zdCBzY2VuYXJpb0J1dHRvbnMgPSB7fTtcblxuICAgICAgICAvLyBmdW5jacOzbiBwYXJhIHNlbGVjY2lvbmFyIGVzY2VuYXJpb1xuICAgICAgICBjb25zdCBzZXRTZWxlY3RlZFNjZW5hcmlvID0gKG5vbWJyZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFNjZW5hcmlvID0gbm9tYnJlO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEltYWdlLnNldFRleHR1cmUobm9tYnJlKS5zZXRTY2FsZSgwLjUpO1xuXG4gICAgICAgICAgICAvLyBzZSBkZWphIG1hcmNhZG8gZWwgc2VsZWNjaW9uYWRvXG4gICAgICAgICAgICBlc2NlbmFyaW9zLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHNjZW5hcmlvQnV0dG9uc1trZXldLnNldFRleHR1cmUoa2V5ID09PSBub21icmUgPyAnYm90b25TZWxlY2Npb25hZG8nIDogJ2JvdG9uU2luU2VsZWNjaW9uYXInKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGVzY2VuYXJpb3MuZm9yRWFjaCgobm9tYnJlLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib3RvbiA9IHRoaXMuYWRkLmltYWdlKHN0YXJ0WCArIGkgKiBzcGFjaW5nLCA0NDAsICdib3RvblNpblNlbGVjY2lvbmFyJylcbiAgICAgICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEuNzUpO1xuXG4gICAgICAgICAgICBzY2VuYXJpb0J1dHRvbnNbbm9tYnJlXSA9IGJvdG9uO1xuXG4gICAgICAgICAgICAvLyB0ZXh0byBlbiBlbCBjZW50cm9cbiAgICAgICAgICAgIGNvbnN0IHRleHRvID0gdGhpcy5hZGQudGV4dCgwLCAwLCBub21icmUsIHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMjhweCcsIGNvbG9yOiAnIzAwMCcgfSk7XG4gICAgICAgICAgICBQaGFzZXIuRGlzcGxheS5BbGlnbi5Jbi5DZW50ZXIodGV4dG8sIGJvdG9uKTtcblxuICAgICAgICAgICAgLy8gaG92ZXJcbiAgICAgICAgICAgIGJvdG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJvdG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJykpO1xuICAgICAgICAgICAgYm90b24ub24oJ3BvaW50ZXJvdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYm90b24uc2V0VGV4dHVyZSh0aGlzLnNlbGVjdGVkU2NlbmFyaW8gPT09IG5vbWJyZSA/ICdib3RvblNlbGVjY2lvbmFkbycgOiAnYm90b25TaW5TZWxlY2Npb25hcicpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIGNsaWNrOiBzb25pZG8gKyBzZWxlY2Npb25hclxuICAgICAgICAgICAgYm90b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gcGxheUNsaWNrKHRoaXMsICdzb25pZG9DbGljaycpKTtcbiAgICAgICAgICAgIGJvdG9uLm9uKCdwb2ludGVydXAnLCAocG9pbnRlcikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluc2lkZSA9IGJvdG9uLmdldEJvdW5kcygpLmNvbnRhaW5zKHBvaW50ZXIueCwgcG9pbnRlci55KTtcbiAgICAgICAgICAgICAgICBpZiAoIWluc2lkZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNldFNlbGVjdGVkU2NlbmFyaW8obm9tYnJlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBzZSBtYXJjYSBlbCBlc2NlbmFyaW8gcG9yIGRlZmVjdG8gdmlzdWFsbWVudGVcbiAgICAgICAgc2V0U2VsZWN0ZWRTY2VuYXJpbyh0aGlzLnNlbGVjdGVkU2NlbmFyaW8pO1xuXG4gICAgICAgIC8vIE1hcmNvXG4gICAgICAgIGNvbnN0IGZyYW1lWSA9IDI0MDsgLy8gWSBkZSBsYSBpbWFnZW4gZGVsIGVzY2VuYXJpb1xuICAgICAgICBjb25zdCBmcmFtZSA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgZnJhbWVZLCAnbWFyY28nKS5zZXRPcmlnaW4oMC41KTtcbiAgICAgICAgZnJhbWUudGV4dHVyZS5zZXRGaWx0ZXIoUGhhc2VyLlRleHR1cmVzLkZpbHRlck1vZGUuTkVBUkVTVCk7XG5cbiAgICAgICAgLy8gQWp1c3RlIGRlbCB0YW1hw7FvIGRlbCBtYXJjb1xuICAgICAgICBjb25zdCB0YXJnZXRGcmFtZVdpZHRoID0gNTAwOyBcbiAgICAgICAgY29uc3QgdGFyZ2V0RnJhbWVIZWlnaHQgPSAzMDA7XG4gICAgICAgIGZyYW1lLnNldERpc3BsYXlTaXplKHRhcmdldEZyYW1lV2lkdGgsIHRhcmdldEZyYW1lSGVpZ2h0KTtcblxuICAgICAgICAvLyBib3TDs24gU2lndWllbnRlXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcbiAgICAgICAgICAgIHg6IHdpZHRoIC8gMixcbiAgICAgICAgICAgIHk6IDUwMCxcbiAgICAgICAgICAgIGxhYmVsOiAnU2lndWllbnRlJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnbG9jYWwnKXtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnR2FtZV9TY2VuZScsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcjE6IHRoaXMucGxheWVyMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcjI6IHRoaXMucGxheWVyMixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkU2NlbmFyaW86IHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSG9zdDogdGhpcy5pc0hvc3RcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTG9iYnlfU2NlbmUnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLnBsYXllcjEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIyOiB0aGlzLnBsYXllcjIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFNjZW5hcmlvOiB0aGlzLnNlbGVjdGVkU2NlbmFyaW8sXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiB0aGlzLm1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0hvc3Q6IHRoaXMuaXNIb3N0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzY2FsZTogMS41LFxuICAgICAgICAgICAgdGV4dHVyZU5vcm1hbDogJ2JvdG9uU2ltcGxlJyxcbiAgICAgICAgICAgIHRleHR1cmVIb3ZlcjogJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJyxcbiAgICAgICAgICAgIHRleHRTdHlsZTogeyAuLi5zdHlsZSwgZm9udFNpemU6ICcxOHB4JywgY29sb3I6ICcjMDAwJyB9LFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gYm90w7NuIFZvbHZlciBhdHLDoXNcbiAgICAgICAgY3JlYXRlSWNvbkJ1dHRvbih0aGlzLCB7XG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuMDYsXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjA4LFxuICAgICAgICAgICAgdGV4dHVyZTogJ2JvdG9uVm9sdmVyJyxcbiAgICAgICAgICAgIHNjYWxlOiAxLFxuICAgICAgICAgICAgaG92ZXJTY2FsZTogMS4xLFxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RQbGF5ZXJfU2NlbmUnLCB7IFxuICAgICAgICAgICAgICAgICAgICBtb2RlOiB0aGlzLm1vZGUsXG4gICAgICAgICAgICAgICAgICAgIGlzSG9zdDogdGhpcy5pc0hvc3RcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufSIsIi8vIEJhc2UgZGVsIGp1ZWdvLCBlc3RydWN0dXJhIHkgYWNjZXNvIGEgdG9kb3MgbG9zIGFyY2hpdm9zXHJcbmltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBNZW51X1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL01lbnVfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgR2FtZV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9HYW1lX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFR1dG9yaWFsX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL1R1dG9yaWFsX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IENvbmZpZ3VyYXRpb25fU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvQ29uZmlndXJhdGlvbl9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBDcmVkaXRzX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0NyZWRpdHNfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgRW5kR2FtZV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9FbmRHYW1lX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IE1vZGVHYW1lX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL01vZGVHYW1lX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFBhdXNlX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL1BhdXNlX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFNlbGVjdFBsYXllcl9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9TZWxlY3RQbGF5ZXJfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgU2VsZWN0U2NlbmFyaW9fU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvU2VsZWN0U2NlbmFyaW9fU2NlbmUuanNcIjtcclxuXHJcbihhc3luYyAoKSA9PiB7XHJcbiAgICAvLyBmYWxsYmFjayBwYXJhIGV2aXRhciBwcm9ibGVtYXMgY29uIGxhcyBmdWVudGVzIHBlcnNvbmFsaXphZGFzXHJcbiAgICBpZiAoZG9jdW1lbnQuZm9udHMgJiYgZG9jdW1lbnQuZm9udHMubG9hZCkge1xyXG4gICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMubG9hZCgnMjBweCBcIk1pRnVlbnRlXCInKSxcclxuICAgICAgICAgICAgZG9jdW1lbnQuZm9udHMubG9hZCgnMjBweCBcIlZUMzIzXCInKVxyXG4gICAgICAgIF0pO1xyXG4gICAgICAgIGF3YWl0IGRvY3VtZW50LmZvbnRzLnJlYWR5O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGdsb2JhbHMgPSB7XHJcbiAgICAgICAgZGVmYXVsdFRleHRTdHlsZTogeyBmb250RmFtaWx5OiAnTWlGdWVudGUnLCBmb250U2l6ZTogJzIwcHgnLCBjb2xvcjogJyNmZmZmZmYnIH0sXHJcbiAgICAgICAgbXVzaWM6IG51bGxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgY29uZmlnID0ge1xyXG4gICAgICAgIHR5cGU6IFBoYXNlci5BVVRPLFxyXG4gICAgICAgIHdpZHRoOiA5NjAsXHJcbiAgICAgICAgaGVpZ2h0OiA1NDAsXHJcbiAgICAgICAgcGFyZW50OiAnZ2FtZS1jb250YWluZXInLFxyXG4gICAgICAgIHBoeXNpY3M6IHtcclxuICAgICAgICAgICAgZGVmYXVsdDogJ2FyY2FkZScsXHJcbiAgICAgICAgICAgIGFyY2FkZToge1xyXG4gICAgICAgICAgICAgICAgZ3Jhdml0eTogeyB4OiAwLCB5OiAzMDAgfSxcclxuICAgICAgICAgICAgICAgIGRlYnVnOiBmYWxzZSAvLyBwb25lciBhIHRydWUgcGFyYSB2ZXIgbGFzIGzDrW5lYXMgZGUgbG9zIGN1ZXJwb3MgZsOtc2ljb3NcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZG9tOiB7XHJcbiAgICAgICAgICAgIGNyZWF0ZUNvbnRhaW5lcjogdHJ1ZVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2FsbGJhY2tzOiB7XHJcbiAgICAgICAgICAgIHByZUJvb3Q6IChnYW1lKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBnYW1lLmdsb2JhbHMgPSBnbG9iYWxzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzY2VuZTogW01lbnVfU2NlbmUsIEdhbWVfU2NlbmUsIFR1dG9yaWFsX1NjZW5lLCBDb25maWd1cmF0aW9uX1NjZW5lLCBDcmVkaXRzX1NjZW5lLCBFbmRHYW1lX1NjZW5lLCBQYXVzZV9TY2VuZSwgTW9kZUdhbWVfU2NlbmUsIFNlbGVjdFBsYXllcl9TY2VuZSwgU2VsZWN0U2NlbmFyaW9fU2NlbmVdLFxyXG4gICAgICAgIGJhY2tncm91bmRDb2xvcjogJyM4Njc1ZjEnLFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBnYW1lID0gbmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7XHJcbn0pKCk7XHJcbiJdLCJuYW1lcyI6WyJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZXhwb3J0cyIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlBoYXNlciIsIlNGWF9WT0xVTUVfS0VZIiwiTVVTSUNfVk9MVU1FX0tFWSIsIkdMT0JBTF9WT0xVTUVfS0VZIiwiTEVHQUNZX1ZPTFVNRV9LRVkiLCJwYXJzZVN0b3JlZFZvbHVtZSIsInJhdyIsImRlZmF1bHRWYWx1ZSIsInYiLCJOdW1iZXIiLCJwYXJzZUZsb2F0IiwiU3RyaW5nIiwiaXNGaW5pdGUiLCJDbGFtcCIsImdldFN0b3JlZFZvbHVtZUJ5S2V5IiwiZmFsbGJhY2tLZXkiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZmFsbGJhY2tSYXciLCJnZXRTdG9yZWRTZnhWb2x1bWUiLCJnZXRTdG9yZWRNdXNpY1ZvbHVtZSIsImdldFN0b3JlZEdsb2JhbFZvbHVtZSIsImFwcGx5U3RvcmVkVm9sdW1lIiwic2NlbmUiLCJvcHRpb25zIiwiZ2xvYmFsVm9sIiwic2Z4Vm9sdW1lIiwibXVzaWNWb2x1bWUiLCJzb3VuZCIsInZvbHVtZSIsIm11c2ljIiwiZ2FtZSIsImdsb2JhbHMiLCJzZXRWb2x1bWUiLCJwbGF5Q2xpY2siLCJwbGF5IiwiY3JlYXRlVUlCdXR0b24iLCJ4IiwieSIsImxhYmVsIiwib25DbGljayIsInRleHR1cmVOb3JtYWwiLCJ0ZXh0dXJlSG92ZXIiLCJzY2FsZSIsInRleHRTdHlsZSIsImNsaWNrU291bmRLZXkiLCJidXR0b24iLCJhZGQiLCJzcHJpdGUiLCJzZXRTY2FsZSIsInNldEludGVyYWN0aXZlIiwidXNlSGFuZEN1cnNvciIsInRleHQiLCJzZXRPcmlnaW4iLCJzZXROb3JtYWwiLCJzZXRUZXh0dXJlIiwic2V0SG92ZXIiLCJvbiIsInBvaW50ZXIiLCJnZXRCb3VuZHMiLCJjb250YWlucyIsImNyZWF0ZUljb25CdXR0b24iLCJ0ZXh0dXJlIiwiaG92ZXJTY2FsZSIsIk1lbnVfU2NlbmUiLCJjb25zdHJ1Y3RvciIsInN1cGVyIiwicHJlbG9hZCIsInRoaXMiLCJsb2FkIiwiaW1hZ2UiLCJhdWRpbyIsImNyZWF0ZSIsInNvdW5kS2V5IiwibG9vcCIsInRyeVBsYXkiLCJpc1BsYXlpbmciLCJlcnIiLCJjb25zb2xlIiwid2FybiIsImlucHV0Iiwib25jZSIsImFzeW5jIiwiY3R4IiwiY29udGV4dCIsInN0YXRlIiwicmVzdW1lIiwiZW5zdXJlTG9vcGluZ011c2ljIiwic3R5bGUiLCJkZWZhdWx0VGV4dFN0eWxlIiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiY29sb3IiLCJ3aWR0aCIsImhlaWdodCIsImNlbnRlclgiLCJyaWdodEhhbGZYIiwic2V0RGVwdGgiLCJzZXREaXNwbGF5U2l6ZSIsImZpcnN0QnV0dG9uWSIsImJ1dHRvblRleHRTdHlsZSIsInN0YXJ0IiwicmV0dXJuU2NlbmUiLCJidXR0b25TcGFjaW5nIiwiUE9XRVJVUF9EVVJBVElPTl9NUyIsInZlbG9jaWRhZCIsInJhbGVudGl6YXIiLCJwYXJhbGl6YXIiLCJwb3IyIiwicG9yMyIsIlBsYXllciIsImlkIiwiY2hhcmFjdGVyVHlwZSIsImJhc2VNb3ZlU3BlZWQiLCJtb3ZlU3BlZWQiLCJqdW1wU3BlZWQiLCJhY3RpdmVQb3dlclVwcyIsImlzUGFyYWx5emVkIiwicGFyYWx5c2lzVHdlZW4iLCJzcGVlZEVmZmVjdEFjdGl2ZSIsInNsb3dFZmZlY3RBY3RpdmUiLCJzY29yZU11bHRpcGxpZXIiLCJtdWx0aXBsaWVyVGV4dCIsInN0cm9rZSIsInN0cm9rZVRoaWNrbmVzcyIsInNldFZpc2libGUiLCJwb3dlclVwSW52ZW50b3J5IiwiaXNSZWNlaXZpbmciLCJib3VuZHNMZWZ0IiwiYm91bmRzUmlnaHQiLCJib3VuZHNUb3AiLCJib3VuZHNCb3R0b20iLCJDSEFSQUNURVJfQ09ORklHIiwiY2hhcmFjdGVyQSIsInRleHR1cmVLZXkiLCJzdGFydEZyYW1lIiwiaWRsZUxlZnRBbmltIiwiaWRsZVJpZ2h0QW5pbSIsInJ1bkxlZnRBbmltIiwicnVuUmlnaHRBbmltIiwianVtcExlZnRBbmltIiwianVtcFJpZ2h0QW5pbSIsInJlY2VpdmVMZWZ0QW5pbSIsInJlY2VpdmVSaWdodEFuaW0iLCJ2aWN0b3J5IiwiY2hhcmFjdGVyQiIsImNoYXJhY3RlckMiLCJjb25maWciLCJwaHlzaWNzIiwiYm9keSIsInNldFNpemUiLCJzZXREYXRhIiwiZmFjaW5nIiwiaXNPbkdyb3VuZCIsImlzSnVtcGluZyIsImp1bXBTdGFydFRpbWUiLCJhbmltIiwiZXJyb3IiLCJpc0dyb3VuZGVkIiwiYmxvY2tlZCIsImRvd24iLCJ0b3VjaGluZyIsImlzTmVhckdyb3VuZCIsInRocmVzaG9sZCIsImdyb3VuZFkiLCJmZWV0WSIsIk1hdGgiLCJhYnMiLCJtb3ZlTGVmdCIsInNldFZlbG9jaXR5WCIsInBsYXlBbmltYXRpb24iLCJtb3ZlUmlnaHQiLCJqdW1wTGVmdCIsInRpbWUiLCJub3ciLCJzZXRWZWxvY2l0eVkiLCJwbGF5U2Z4Iiwic2Z4IiwianVtcCIsImp1bXBSaWdodCIsInJlY2VpdmVMZWZ0IiwicmVjZWl2ZVJpZ2h0IiwiaWRsZUxlZnQiLCJpZGxlUmlnaHQiLCJzZXRCb3VuZHMiLCJsZWZ0IiwicmlnaHQiLCJ0b3AiLCJib3R0b20iLCJjbGFtcFdpdGhpbkJvdW5kcyIsImhhbGZXaWR0aCIsInNldFBvc2l0aW9uIiwic2V0VmVsb2NpdHkiLCJ1cGRhdGVNdWx0aXBsaWVyVGV4dFBvc2l0aW9uIiwib2Zmc2V0WSIsImRpc3BsYXlIZWlnaHQiLCJhbmltS2V5IiwiYW5pbXMiLCJjdXJyZW50QW5pbSIsInVwZGF0ZSIsIndhc09uR3JvdW5kIiwiY3VycmVudEtleSIsImFwcGx5UG93ZXJVcCIsInR5cGUiLCJsZW5ndGgiLCJwdXNoIiwidXNlTmV4dFBvd2VyVXAiLCJzaGlmdCIsImFjdGl2YXRlUG93ZXJVcCIsImFwcGx5T3JSZWZyZXNoVGltZWRFZmZlY3QiLCJvcHBvbmVudCIsImdldE9wcG9uZW50IiwidXBkYXRlUG93ZXJVcHMiLCJzcGVlZE5lZWRzUmVjYWxjIiwic2NvcmVOZWVkc1JlY2FsYyIsInNldFNwZWVkRWZmZWN0Iiwic2V0U2xvd0VmZmVjdCIsInNldFBhcmFseXplZCIsInJlY2FsY3VsYXRlTW92ZVNwZWVkIiwicmVjYWxjdWxhdGVTY29yZUVmZmVjdCIsInNldFRpbnQiLCJzZXRBbHBoYSIsInN0b3AiLCJ0d2VlbnMiLCJ0YXJnZXRzIiwiYWxwaGEiLCJ5b3lvIiwiZHVyYXRpb24iLCJyZXBlYXQiLCJyZWZyZXNoUG93ZXJVcFZpc3VhbHMiLCJhY3RpdmUiLCJtdWx0IiwibXVsdGlwbGllciIsIm1heCIsInNldFRleHQiLCJkdXJhdGlvbk1zIiwiY2xlYXJUaW50IiwicGxheWVycyIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsImZpbmQiLCJwIiwiQXBwbHlQb3dlclVwQ29tbWFuZCIsInBsYXllciIsInBvd2VyVXBUeXBlIiwic3RvcmVkIiwiZXhlY3V0ZSIsIlBvd2VyVXAiLCJpc0NvbGxlY3RlZCIsIl9kZXN0cm95ZWQiLCJfY29vbGRvd25VbnRpbCIsImZhZGVTdGFydCIsImxpZmV0aW1lIiwiX292ZXJsYXBzIiwiZmFkZVR3ZWVuIiwiX2xpZmV0aW1lVGltZXIiLCJzdGF0aWNJbWFnZSIsInJlZnJlc2hCb2R5IiwiZmFkZURlbGF5IiwibWluIiwiZmFkZUR1cmF0aW9uIiwiZGVsYXkiLCJmb3JFYWNoIiwiYyIsIm92ZXJsYXAiLCJjb2xsZWN0IiwiZGVsYXllZENhbGwiLCJkZXN0cm95IiwibG9nIiwiY21kIiwiY29tbWFuZFByb2Nlc3NvciIsInByb2Nlc3MiLCJ1cGRhdGVQbGF5ZXJJbnZlbnRvcnlVSSIsImlzQXJyYXkiLCJyZW1vdmUiLCJwb3dlclVwcyIsImZpbHRlciIsIkJhbGwiLCJzZXRCb3VuY2UiLCJzZXRDb2xsaWRlV29ybGRCb3VuZHMiLCJsYXN0VG91Y2hlZEJ5IiwidG91Y2hDb3VudCIsImNvdXJ0U2lkZSIsImlzQmFsbExpdmUiLCJuZXRYIiwibGFzdEhpdFRpbWUiLCJsYXN0SGl0UGxheWVySWQiLCJfZ2V0UmFuZG9tRmFjdG9yIiwicmFuZG9tIiwiaGl0IiwicGxheWVyRmFjaW5nRGlyZWN0aW9uIiwib25GYWx0YSIsInZlbG9jaXR5WCIsInZlbG9jaXR5WSIsInJlY2VpdmUiLCJzcGlrZSIsImJhc2VTcGVlZFgiLCJ2ZXJ0aWNhbFN0cmVuZ3RoIiwicmFuZG9tRmFjdG9yWCIsImNyb3NzTmV0Iiwib25Hcm91bmRlZCIsImJhbGxPbkxlZnQiLCJiYWxsT25SaWdodCIsIm9uUmFsbHlFbmQiLCJyZXNldFJhbGx5IiwiZmFsdGFUeXBlIiwiZmFsdGluZ1BsYXllciIsInNjb3JpbmdQbGF5ZXJJZCIsImV2ZW50cyIsImVtaXQiLCJfZ2V0U3VidGxlTnVkZ2UiLCJzcGF3blgiLCJzaWRlUGFkZGluZyIsIndvcmxkV2lkdGgiLCJvZmZzZXQiLCJzZXRTZXJ2ZVBvc2l0aW9uIiwic2NvcmluZ1BsYXllciIsImNsYW1wIiwidmFsdWUiLCJudWRnZVZlbG9jaXR5WCIsIm51ZGdlIiwiQ29tbWFuZFByb2Nlc3NvciIsIk1hcCIsImdhbWVTY2VuZSIsInNldFBsYXllcnMiLCJzZXRHYW1lU2NlbmUiLCJjb21tYW5kIiwiQ29tbWFuZCIsInNlcmlhbGl6ZSIsImdldFBsYXllciIsIk1vdmVQbGF5ZXJDb21tYW5kIiwiZGlyZWN0aW9uIiwicGxheWVySWQiLCJHYW1lX1NjZW5lIiwidGllbXBvVG90YWwiLCJ0aWVtcG9SZXN0YW50ZSIsInRpbWVyVGV4dCIsInRpbWVyRXZlbnQiLCJpbml0IiwiZGF0YSIsImlucHV0TWFwcGluZ3MiLCJwbGF5ZXIxIiwicGxheWVyMiIsInNlbGVjdGVkU2NlbmFyaW8iLCJiYWxsIiwic2NvcmVQMSIsInNjb3JlUDIiLCJzZXRzUDEiLCJzZXRzUDIiLCJtYXhTZXRzIiwiY3VycmVudFNldCIsImlzR29sZGVuUG9pbnQiLCJpc1NldEVuZGluZyIsInNwcml0ZXNoZWV0IiwiZnJhbWVXaWR0aCIsImZyYW1lSGVpZ2h0Iiwid29ybGRIZWlnaHQiLCJ3aGlzdGxlIiwicG9pbnQiLCJzZXRTY3JvbGxGYWN0b3IiLCJ0aW1lckljb24iLCJzZXRGcmFtZSIsInNldEZyYW1lV2lkdGgiLCJkaXNwbGF5V2lkdGgiLCJzZXRGcmFtZUhlaWdodCIsInNldFNjb3JlWSIsInJvdW5kIiwic2V0U2NvcmVPZmZzZXRYIiwic2V0U2NvcmVGcmFtZUxlZnQiLCJzZXRTY29yZUZyYW1lUmlnaHQiLCJzZXRTY29yZUxlZnQiLCJzZXRTY29yZVJpZ2h0Iiwic2V0V2lubmVyVGV4dCIsImFkZEV2ZW50IiwiY2FsbGJhY2siLCJ1cGRhdGVUaW1lciIsImNhbGxiYWNrU2NvcGUiLCJyZWQiLCJzdGF0aWNTcHJpdGUiLCJyZWRUZXh0dXJlIiwidGV4dHVyZXMiLCJnZXRTb3VyY2VJbWFnZSIsInNldE9mZnNldCIsInVwZGF0ZUZyb21HYW1lT2JqZWN0IiwiX2NyZWF0ZUFuaW1hdGlvbnMiLCJwb2ludHNMZWZ0IiwicG9pbnRzUmlnaHQiLCJzY29yZUZyYW1lTGVmdCIsInNjb3JlRnJhbWVSaWdodCIsInNjb3JlTGVmdCIsInJpZ2h0U2NvcmUiLCJncm91bmRIZWlnaHQiLCJncm91bmQiLCJyZWN0YW5nbGUiLCJleGlzdGluZyIsIl9jcmVhdGVQbGF5ZXJzIiwiX3NldHVwUGh5c2ljc1dvcmxkIiwiX3NldHVwSW5wdXRNYXBwaW5ncyIsIm1heFBvd2VyVXBzIiwicG93ZXJVcFNwYXduQ29uZmlnIiwibWluRGVsYXlNcyIsIm1heERlbGF5TXMiLCJ3ZWlnaHRzIiwiY29vbGRvd25NcyIsInBvd2VyVXBMYXN0U3Bhd25BdCIsImludmVudG9yeVVJIiwic2NoZWR1bGVQb3dlclVwU3Bhd24iLCJpbnZlbnRvcnlGcmFtZXMiLCJfY3JlYXRlQmFsbCIsIl9zZXR1cEJhbGxDb2xsaXNpb25zIiwiX3NldHVwQmFsbEV2ZW50cyIsImtleWJvYXJkIiwicGF1c2UiLCJwYXVzZWQiLCJsYXVuY2giLCJ3aW5uZXIiLCJfZW5kR2FtZSIsIkJldHdlZW4iLCJfZ2V0V2VpZ2h0ZWRQb3dlclVwVHlwZSIsInBvd2VyVXAiLCJlbnRyaWVzIiwid2VpZ2h0IiwiY29vbGRvd24iLCJsYXN0IiwidG90YWwiLCJyZWR1Y2UiLCJzdW0iLCJyb2xsIiwiX2hhbmRsZUlucHV0Rm9yQWxsUGxheWVycyIsIm1pbnV0b3MiLCJmbG9vciIsInNlZ3VuZG9zIiwiZm9ybWF0byIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJfZW5kU2V0IiwidXBkYXRlU2V0U2NvcmVVSSIsInVpIiwiaSIsImZyYW1lcyIsImdlbmVyYXRlRnJhbWVOdW1iZXJzIiwiZW5kIiwiZnJhbWVSYXRlIiwicmV2ZXJzZSIsImNoYXJQMSIsImNoYXJhY3RlciIsImNoYXJQMiIsInAxIiwicDIiLCJzZXQiLCJjb3VydEJvdHRvbSIsImNvbGxpZGVyIiwibGVmdEtleSIsInJpZ2h0S2V5IiwianVtcEtleSIsInJlY2VpdmVLZXkiLCJwb3dlcktleSIsIm1hcCIsImxlZnRLZXlPYmoiLCJhZGRLZXkiLCJLZXlib2FyZCIsIktleUNvZGVzIiwicmlnaHRLZXlPYmoiLCJqdW1wS2V5T2JqIiwicmVjZWl2ZUtleU9iaiIsInBvd2VyS2V5T2JqIiwibWFwcGluZyIsImlkbGVEaXIiLCJpc0Rvd24iLCJKdXN0RG93biIsInJlY2VpdmVEaXIiLCJqdW1wRGlyIiwiX29uQmFsbFBsYXllckNvbGxpc2lvbiIsInZlbG9jaXR5Iiwic2NvcmVySWQiLCJwb2ludHNUb0FkZCIsIl9jaGVja1dpbkNvbmRpdGlvbiIsIl9pc0JhbGxJbkhpdFpvbmUiLCJiYWxsU3ByaXRlIiwiYmFsbFgiLCJiYWxsWSIsImJvZHlUb3AiLCJib2R5SGVpZ2h0IiwiYm9keUNlbnRlclgiLCJ6b25lIiwiZmFjaW5nUmlnaHQiLCJ3aWRlSGl0IiwicmVhY2hGb3J3YXJkIiwicmVhY2hCYWNrIiwicGxheWVyRGlyZWN0aW9uIiwid29ybGQiLCJzY29yZURpZmYiLCJ3aW5uZXJMYWJlbCIsIl9yZXNldFNldCIsIlR1dG9yaWFsX1NjZW5lIiwicGFnZUluZGV4IiwibWFpblRpdGxlVGV4dCIsInBhZ2VzIiwidGl0bGUiLCJwYW5lbE1hcmdpbiIsInBhbmVsR2FwIiwibmF2WSIsInBhbmVsVG9wIiwicGFuZWxCb3R0b20iLCJwYW5lbEhlaWdodCIsInBhbmVsV2lkdGgiLCJsYXlvdXQiLCJzbGlkZUltYWdlIiwiX2ZpdEltYWdlIiwicGFnZUluZGljYXRvciIsInByZXZCdG4iLCJwcmV2IiwibmV4dEJ0biIsIm5leHQiLCJyZW5kZXJQYWdlIiwiaW1nIiwibWF4VyIsIm1heEgiLCJpc0ZpcnN0UGFnZSIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiaXNMYXN0UGFnZSIsImJ0bk9iaiIsImVuYWJsZWQiLCJkaXNhYmxlSW50ZXJhY3RpdmUiLCJDb25maWd1cmF0aW9uX1NjZW5lIiwibXVzaWNWb2x1bWVTbGlkZXIiLCJzZnhWb2x1bWVTbGlkZXIiLCJnbG9iYWxWb2x1bWVTbGlkZXIiLCJoYXNTZngiLCJoYXNNdXNpYyIsImxlZ2FjeVZvbHVtZSIsImdldExlZ2FjeVZvbHVtZSIsImluaXRpYWxWb2x1bWUiLCJzZXRJdGVtIiwiZW5zdXJlU3RvcmVkQXVkaW9TZXR0aW5ncyIsImluaXRpYWxHbG9iYWxWb2x1bWUiLCJpbml0aWFsTXVzaWNWb2x1bWUiLCJpbml0aWFsU2Z4Vm9sdW1lIiwic2VjdGlvbkdhcCIsImxhYmVsVG9TbGlkZXJHYXAiLCJncm91cFRvcFkiLCJnbG9iYWxMYWJlbFkiLCJnbG9iYWxTbGlkZXJZIiwibXVzaWNMYWJlbFkiLCJtdXNpY1NsaWRlclkiLCJzZnhMYWJlbFkiLCJzZnhTbGlkZXJZIiwiZG9tIiwiY3JlYXRlRnJvbUhUTUwiLCJhZGRMaXN0ZW5lciIsImV2ZW50IiwidGFyZ2V0IiwiSFRNTElucHV0RWxlbWVudCIsInNldFN0b3JlZEdsb2JhbFZvbHVtZSIsInNldFN0b3JlZE11c2ljVm9sdW1lIiwic2V0U3RvcmVkU2Z4Vm9sdW1lIiwiRXZlbnRzIiwiU0hVVERPV04iLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJDcmVkaXRzX1NjZW5lIiwibm9tYnJlc0VxdWlwbyIsImNhcmRXaWR0aCIsImNhcmRIZWlnaHQiLCJjYXJkWCIsImNhcmRZIiwic2V0U3Ryb2tlU3R5bGUiLCJzdGFydFkiLCJub21icmUiLCJpc0hlYWRlciIsImxvZ29YIiwibG9nb1kiLCJFbmRHYW1lX1NjZW5lIiwibmFtZSIsInNwcml0ZVAxIiwic3ByaXRlUDIiLCJ3aW5uZXJUZXh0WSIsImJ1dHRvblkiLCJzcHJpdGVQYWRkaW5nIiwic3ByaXRlQ2VudGVyWSIsIndpbm5lclRleHQiLCJ3aW5uZXJDaGFyYWN0ZXIiLCJ2aWN0b3J5Q29uZmlnIiwic3ByaXRlS2V5Iiwid2lubmVyU3ByaXRlU2xvdCIsImNvbnRhaW5lciIsIndpbm5lclNwcml0ZSIsImF2YWlsYWJsZUhlaWdodCIsImF2YWlsYWJsZVdpZHRoIiwiTW9kZUdhbWVfU2NlbmUiLCJzcGFjaW5nIiwic3RhcnRYIiwic3RhcnRNb2RlIiwibW9kZSIsInJlZ2lzdHJ5IiwicmVkQnV0dG9uIiwic2V0QWxpZ24iLCJQYXVzZV9TY2VuZSIsImJ1dHRvblN0YXJ0WSIsInJlbW92ZUFsbEtleXMiLCJTZWxlY3RQbGF5ZXJfU2NlbmUiLCJjdXJyZW50VHVybiIsInBsYXllcklucHV0cyIsInBsYXllcklucHV0RWxzIiwidHVyblRleHQiLCJpc0hvc3QiLCJjcmVhdGVMb2NhbFVJIiwiY3JlYXRlT25saW5lVUkiLCJiaWdJbWFnZSIsImJpZ0ZyYW1lIiwiZnJhbWUiLCJjcmVhdGVQbGF5ZXJzVUkiLCJjcmVhdGVDaGFyYWN0ZXJNaW5pYXR1cmVzIiwidXBkYXRlVHVyblRleHQiLCJoYW5kbGVOZXh0IiwiZm9udFN0eWxlIiwiY3JlYXRlUGxheWVyT25saW5lVUkiLCJwb3NpdGlvbnNYIiwiaWR4IiwiaW5wdXRFbCIsIm5vZGUiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJyZXBsYWNlIiwic2V0RmlsdGVyIiwiRmlsdGVyTW9kZSIsIk5FQVJFU1QiLCJwb3NpdGlvbnMiLCJtaW5pIiwib25NaW5pQ2xpY2tlZCIsImNoYXJhY3Rlck5hbWUiLCJvd25lckluZGV4IiwiZmluZEluZGV4Iiwib3duZXIiLCJ0YXJnZXRJbmRleCIsIm90aGVyIiwibmFtZTEiLCJ0cmltIiwicDFIYXNDaGFyIiwibmFtZTIiLCJwMkhhc0NoYXIiLCJmbGFzaFR1cm5UZXh0IiwibXMiLCJvbGRDb2xvciIsInNldENvbG9yIiwicDFIYXNOYW1lIiwicDJIYXNOYW1lIiwiYWxsQ2hhcnMiLCJhbGxOYW1lcyIsInVuZGVmaW5lZCIsIlNlbGVjdFNjZW5hcmlvX1NjZW5lIiwic2VsZWN0ZWRJbWFnZSIsImVzY2VuYXJpb3MiLCJzY2VuYXJpb0J1dHRvbnMiLCJzZXRTZWxlY3RlZFNjZW5hcmlvIiwiYm90b24iLCJ0ZXh0byIsIkFsaWduIiwiSW4iLCJDZW50ZXIiLCJkb2N1bWVudCIsImZvbnRzIiwiUHJvbWlzZSIsImFsbCIsInJlYWR5IiwicGFyZW50IiwiZGVmYXVsdCIsImFyY2FkZSIsImdyYXZpdHkiLCJkZWJ1ZyIsImNyZWF0ZUNvbnRhaW5lciIsImNhbGxiYWNrcyIsInByZUJvb3QiLCJiYWNrZ3JvdW5kQ29sb3IiXSwic291cmNlUm9vdCI6IiJ9