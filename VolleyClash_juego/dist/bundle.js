(()=>{"use strict";var e={n:t=>{var i=t&&t.__esModule?()=>t.default:()=>t;return e.d(i,{a:i}),i},d:(t,i)=>{for(var s in i)e.o(i,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:i[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=Phaser;var i=e.n(t);const s="sfxVolume",a="musicVolume",r="volume";function o(e,t){const s=Number.parseFloat(e??String(t));return Number.isFinite(s)?i().Math.Clamp(s,0,1):t}function n(e,t,s=1){const a=localStorage.getItem(e);if(null!==a)return o(a,s);const r=t?localStorage.getItem(t):null;return null!==r?o(r,s):i().Math.Clamp(s,0,1)}function l(e=1){return n(s,r,e)}function h(e=1){return n(a,r,e)}function c(e,t={}){let s=l(),a=h();"number"==typeof t?(s=i().Math.Clamp(Number(t),0,1),a=s):(s=t.sfxVolume??s,a=t.musicVolume??a),e.sound.volume=1;const r=e.game.globals.music;r&&"setVolume"in r&&r.setVolume(a)}function d(e,t="sonidoClick"){e.sound.play(t,{volume:l()})}function p(e,{x:t,y:i,label:s,onClick:a,textureNormal:r="botonSinSeleccionar",textureHover:o="botonSeleccionado",scale:n=2,textStyle:l={},clickSoundKey:h="sonidoClick"}){const c=e.add.sprite(t,i,r).setScale(n).setInteractive({useHandCursor:!0}),p=e.add.text(t,i,s,l).setOrigin(.5),S=()=>c.setTexture(r),m=()=>c.setTexture(o);return c.on("pointerover",m),c.on("pointerout",S),c.on("pointerdown",()=>{m(),d(e,h)}),c.on("pointerup",e=>{c.getBounds().contains(e.x,e.y)?(m(),a?.()):S()}),{button:c,text:p}}function S(e,t){const{x:i,y:s,texture:a,onClick:r,scale:o=1,hoverScale:n=1.1,clickSoundKey:l="sonidoClick"}=t,h=e.add.sprite(i,s,a).setScale(o).setInteractive({useHandCursor:!0});return h.on("pointerover",()=>h.setScale(o*n)),h.on("pointerout",()=>h.setScale(o)),h.on("pointerdown",()=>{d(e,l)}),h.on("pointerup",e=>{h.getBounds().contains(e.x,e.y)&&r()}),h}class m extends i().Scene{constructor(){super("Menu_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.image("fondoMenuPrincipal","ASSETS/FONDOS/MENU_PRINCIPAL.png"),this.load.image("logoEmpresa","ASSETS/LOGO/logo_empresa.png"),this.load.audio("sonidoGeneral","ASSETS/SONIDO/SONIDO1.mp3"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){!function(e,t,{loop:i=!0}={}){const s=h();let a=e.game.globals.music;a||(a=e.sound.add(t,{loop:i,volume:s}),e.game.globals.music=a),a&&"setVolume"in a&&a.setVolume(s);const r=()=>{if(a&&"play"in a&&(!("isPlaying"in a)||!a.isPlaying))try{a.play()}catch(e){console.warn("[Audio.js] No se ha podido reproducir todav?a la m?sica.",e)}};r(),e.input.once("pointerdown",async()=>{const t=e.sound.context;if(t&&"suspended"===t.state)try{await t.resume()}catch{}r()})}(this,"sonidoGeneral",{loop:!0});const e=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"},{width:t,height:i}=this.scale,s=t/2,a=s+s/2;this.add.image(0,0,"fondoMenuPrincipal").setOrigin(0).setDepth(-1).setDisplaySize(t,i),this.add.text(a,100,"Volley Clash",{...e,fontSize:"32px",color:"#ffffff"}).setOrigin(.5);const r=i/2-60,o={...e,fontSize:"20px",color:"#000000"};p(this,{x:a,y:r,label:"Jugar",onClick:()=>this.scene.start("ModeGame_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),p(this,{x:a,y:r+70,label:"Configuración",onClick:()=>this.scene.start("Configuration_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),p(this,{x:a,y:r+140,label:"Créditos",onClick:()=>this.scene.start("Credits_Scene"),textStyle:o,clickSoundKey:"sonidoClick"}),p(this,{x:t-100,y:50,label:"Cerrar Sesión",onClick:()=>{this.handleLogout()},textStyle:o,clickSoundKey:"sonidoClick"}),this.add.image(this.scale.width-20,this.scale.height-20,"logoEmpresa").setScale(.5).setOrigin(1,1)}async handleLogout(){const e=this.registry.get("username");await fetch("/api/logout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})}),localStorage.removeItem("voley_username"),localStorage.removeItem("voley_session_token")}}const u={velocidad:4e3,ralentizar:3500,paralizar:2e3,por2:4e3,por3:3500};class g{constructor(e,t,i,s,a){this.scene=e,this.id=t,this.characterType=a,this.baseMoveSpeed=250,this.moveSpeed=this.baseMoveSpeed,this.jumpSpeed=275,this.activePowerUps={},this.isParalyzed=!1,this.paralysisTween=null,this.speedEffectActive=!1,this.slowEffectActive=!1,this.scoreMultiplier=1,this.multiplierText=this.scene.add.text(i,s-50,"",{fontFamily:"Arial",fontSize:"20px",color:"#ffffff",stroke:"#000000",strokeThickness:4}).setOrigin(.5,1).setDepth(20).setVisible(!1),this.powerUpInventory=[],this.isReceiving=!1,this.boundsLeft=0,this.boundsRight=960,this.boundsTop=0,this.boundsBottom=540;const r={characterA:{textureKey:"charA_move",startFrame:0,idleLeftAnim:"charA_idleLeft",idleRightAnim:"charA_idleRight",runLeftAnim:"charA_runLeft",runRightAnim:"charA_runRight",jumpLeftAnim:"charA_jumpLeft",jumpRightAnim:"charA_jumpRight",receiveLeftAnim:"charA_receiveLeft",receiveRightAnim:"charA_receiveRight"},characterB:{textureKey:"charB_move",startFrame:0,idleLeftAnim:"charB_idleLeft",idleRightAnim:"charB_idleRight",runLeftAnim:"charB_runLeft",runRightAnim:"charB_runRight",jumpLeftAnim:"charB_jumpLeft",jumpRightAnim:"charB_jumpRight",receiveLeftAnim:"charB_receiveLeft",receiveRightAnim:"charB_receiveRight"},characterC:{textureKey:"charC_move",startFrame:0,idleLeftAnim:"charC_idleLeft",idleRightAnim:"charC_idleRight",runLeftAnim:"charC_runLeft",runRightAnim:"charC_runRight",jumpLeftAnim:"charC_jumpLeft",jumpRightAnim:"charC_jumpRight",receiveLeftAnim:"charC_receiveLeft",receiveRightAnim:"charC_receiveRight"}};this.config=r[a]||r.characterA,this.sprite=this.scene.physics.add.sprite(i,s,this.config.textureKey,this.config.startFrame),this.sprite.setScale(2.5),this.sprite.body.setSize(.9*this.sprite.width,.9*this.sprite.height,!0),this.sprite.setData("player",this),this.facing="right",this.isOnGround=!1,this.isJumping=!1,this.jumpStartTime=0,this.sprite.on("animationcomplete",e=>{try{e.key!==this.config.receiveLeftAnim&&e.key!==this.config.receiveRightAnim||(this.isReceiving=!1)}catch(t){console.error(`Animation complete handler error for ${e.key}:`,t)}})}isGrounded(){const e=this.sprite.body;return!!e&&(e.blocked.down||e.touching.down)}isNearGround(e=12){const t=this.sprite.body;if(!t)return!1;if("number"!=typeof this.scene.groundY)return!1;const i=t.y+t.height;return Math.abs(i-this.scene.groundY)<=e}moveLeft(){this.isParalyzed||this.isReceiving||(this.sprite.setVelocityX(-this.moveSpeed),this.facing="left",this.playAnimation(this.config.runLeftAnim))}moveRight(){this.isParalyzed||this.isReceiving||(this.sprite.setVelocityX(this.moveSpeed),this.facing="right",this.playAnimation(this.config.runRightAnim))}jumpLeft(){this.isParalyzed||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!1,this.isJumping=!0,this.jumpStartTime=this.scene.time.now,this.sprite.setVelocityY(-this.jumpSpeed),this.facing="left",this.playAnimation(this.config.jumpLeftAnim),this.scene?.playSfx?.(this.scene?.sfx?.jump))}jumpRight(){this.isParalyzed||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!1,this.isJumping=!0,this.jumpStartTime=this.scene.time.now,this.sprite.setVelocityY(-this.jumpSpeed),this.facing="right",this.playAnimation(this.config.jumpRightAnim),this.scene?.playSfx?.(this.scene?.sfx?.jump))}receiveLeft(){this.isParalyzed||this.isReceiving||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!0,this.sprite.setVelocityX(0),this.facing="left",this.playAnimation(this.config.receiveLeftAnim))}receiveRight(){this.isParalyzed||this.isReceiving||(this.isGrounded()||this.isNearGround(20))&&(this.isReceiving=!0,this.sprite.setVelocityX(0),this.facing="right",this.playAnimation(this.config.receiveRightAnim))}idleLeft(){this.isReceiving||(this.sprite.setVelocityX(0),this.facing="left",this.playAnimation(this.config.idleLeftAnim))}idleRight(){this.isReceiving||(this.sprite.setVelocityX(0),this.facing="right",this.playAnimation(this.config.idleRightAnim))}setBounds(e,t,i,s){this.boundsLeft=e,this.boundsRight=t,this.boundsTop=i,this.boundsBottom=s}clampWithinBounds(){const e=this.sprite.width/2;this.sprite.x-e<this.boundsLeft&&(this.sprite.x=this.boundsLeft+e,this.sprite.setVelocityX(0)),this.sprite.x+e>this.boundsRight&&(this.sprite.x=this.boundsRight-e,this.sprite.setVelocityX(0))}setPosition(e,t){this.sprite&&(this.sprite.setPosition(e,t),this.sprite.setVelocity(0,0),this.updateMultiplierTextPosition())}updateMultiplierTextPosition(){if(!this.multiplierText||!this.sprite)return;const e=.6*(this.sprite.displayHeight||this.sprite.height||40);this.multiplierText.setPosition(this.sprite.x,this.sprite.y-e)}playAnimation(e){if(!e)return;if(!this.sprite.anims)return;if(this.isJumping&&e!==this.config.jumpLeftAnim&&e!==this.config.jumpRightAnim)return;const t=this.sprite.anims.currentAnim;this.sprite.anims.isPlaying&&t&&t.key===e||this.sprite.anims.play(e,!0)}update(){if(this.sprite.body){const e=this.isOnGround;this.isOnGround=this.isGrounded();const t=this.sprite.anims.currentAnim,i=t?t.key:null;this.isParalyzed&&this.sprite.setVelocityX(0),this.isReceiving&&i!==this.config.receiveLeftAnim&&i!==this.config.receiveRightAnim&&(this.isReceiving=!1),this.isJumping&&i&&i!==this.config.jumpLeftAnim&&i!==this.config.jumpRightAnim&&(this.isJumping=!1),this.isJumping&&this.scene.time.now-this.jumpStartTime>1500&&(this.isJumping=!1),this.isJumping&&!e&&this.isOnGround&&(this.isJumping=!1,"left"===this.facing?this.idleLeft():this.idleRight())}this.clampWithinBounds(),this.updateMultiplierTextPosition()}applyPowerUp(e){return!(this.powerUpInventory.length>=2||(this.powerUpInventory.push(e),0))}useNextPowerUp(){if(0===this.powerUpInventory.length)return;const e=this.powerUpInventory.shift();this.activatePowerUp(e)}activatePowerUp(e){switch(e){case"velocidad":this.applyOrRefreshTimedEffect("velocidad",u.velocidad);break;case"ralentizar":{const e=this.getOpponent();e&&e.applyOrRefreshTimedEffect("ralentizar",u.ralentizar);break}case"paralizar":{const e=this.getOpponent();e&&e.applyOrRefreshTimedEffect("paralizar",u.paralizar);break}case"por2":case"por3":this.applyOrRefreshTimedEffect(e,u[e])}}updatePowerUps(){const e=this.scene.time.now;let t=!1,i=!1;for(const s in this.activePowerUps)if(!(e<=this.activePowerUps[s]))switch(delete this.activePowerUps[s],s){case"velocidad":this.setSpeedEffect(!1),t=!0;break;case"ralentizar":this.setSlowEffect(!1),t=!0;break;case"paralizar":this.setParalyzed(!1);break;case"por2":case"por3":i=!0}t&&this.recalculateMoveSpeed(),i&&this.recalculateScoreEffect()}setParalyzed(e){this.isParalyzed=e,e?(this.sprite.setTint(16733525),this.sprite.setAlpha(1),this.paralysisTween&&(this.paralysisTween.stop(),this.paralysisTween=null),this.paralysisTween=this.scene.tweens.add({targets:this.sprite,alpha:.3,yoyo:!0,duration:200,repeat:-1}),this.sprite.setVelocityX(0)):(this.sprite.setAlpha(1),this.paralysisTween&&(this.paralysisTween.stop(),this.paralysisTween=null),this.refreshPowerUpVisuals())}setSpeedEffect(e){this.speedEffectActive=e,this.refreshPowerUpVisuals()}setSlowEffect(e){this.slowEffectActive=e,this.refreshPowerUpVisuals()}recalculateMoveSpeed(){let e=1;this.activePowerUps.velocidad&&(e*=1.5),this.activePowerUps.ralentizar&&(e*=.5),this.moveSpeed=this.baseMoveSpeed*e}recalculateScoreEffect(){let e=1;this.activePowerUps.por2&&(e=Math.max(e,2)),this.activePowerUps.por3&&(e=Math.max(e,3)),this.scoreMultiplier=e,this.multiplierText&&(this.scoreMultiplier>1?(this.multiplierText.setText("x"+this.scoreMultiplier),this.multiplierText.setVisible(!0)):this.multiplierText.setVisible(!1)),this.refreshPowerUpVisuals()}applyOrRefreshTimedEffect(e,t){const i=this.scene.time.now;this.activePowerUps[e]=i+t,"velocidad"===e&&this.setSpeedEffect(!0),"ralentizar"===e&&this.setSlowEffect(!0),"paralizar"===e&&this.setParalyzed(!0),"velocidad"!==e&&"ralentizar"!==e||this.recalculateMoveSpeed(),"por2"!==e&&"por3"!==e||this.recalculateScoreEffect()}refreshPowerUpVisuals(){this.isParalyzed||(this.slowEffectActive?this.sprite.setTint(5592575):this.speedEffectActive?this.sprite.setTint(5636061):this.scoreMultiplier>1?this.sprite.setTint(16768341):this.sprite.clearTint())}getOpponent(){return this.scene.players?Array.from(this.scene.players.values()).find(e=>e!==this):null}}class y{constructor(e,t){this.player=e,this.powerUpType=t,this.stored=!1}execute(){return this.stored=this.player.applyPowerUp(this.powerUpType),this.stored}}class f{constructor(e,t,i,s){this.scene=e,this.type=s,this.isCollected=!1,this._destroyed=!1,this._cooldownUntil=0,this.fadeStart=3e3,this.lifetime=5e3,this._overlaps=[],this.fadeTween=null,this._lifetimeTimer=null,this.sprite=e.physics.add.staticImage(t,i,s).setScale(1.2).setInteractive(),this.sprite.refreshBody&&this.sprite.refreshBody();const a=Math.max(0,Math.min(this.fadeStart,this.lifetime)),r=Math.max(0,this.lifetime-a);r>0&&(this.fadeTween=e.tweens.add({targets:this.sprite,alpha:0,delay:a,duration:r}));const o=e.players;o&&"function"==typeof o.forEach&&o.forEach(t=>{if(!t?.sprite)return;const i=e.physics.add.overlap(t.sprite,this.sprite,()=>this.collect(t),null,this);this._overlaps.push(i)}),this._lifetimeTimer=e.time.delayedCall(this.lifetime,()=>{this.destroy()})}collect(e){if(console.log("[PowerUp] overlap con",e.id,"tipo",this.type),this._destroyed)return;if(this.isCollected)return;const t=this.scene.time.now;if(this._cooldownUntil&&t<this._cooldownUntil)return;this.isCollected=!0;const i=new y(e,this.type);if(this.scene.commandProcessor.process(i),!i.stored)return this.isCollected=!1,void(this._cooldownUntil=t+300);this.destroy(),this.scene.updatePlayerInventoryUI?.(e)}destroy(){if(!this._destroyed){if(this._destroyed=!0,Array.isArray(this._overlaps)&&(this._overlaps.forEach(e=>{try{e.destroy()}catch{}}),this._overlaps=[]),this.fadeTween){try{this.fadeTween.stop()}catch{}this.fadeTween=null}if(this._lifetimeTimer&&(this._lifetimeTimer.remove(!1),this._lifetimeTimer=null),this.sprite){try{this.sprite.destroy()}catch{}this.sprite=null}Array.isArray(this.scene.powerUps)&&(this.scene.powerUps=this.scene.powerUps.filter(e=>e!==this))}}}class O{constructor(e,t,i){this.scene=e,this.players=null,this.commandProcessor=null,this.sprite=e.physics.add.sprite(t,i,"ball"),this.sprite.setScale(1),this.sprite.setBounce(.8),this.sprite.setCollideWorldBounds(!0),this.sprite.setData("ball",this),this.lastTouchedBy=null,this.touchCount=0,this.courtSide="left",this.isBallLive=!0,this.netX=480,this.lastHitTime=0,this.lastHitPlayerId=null}hit(e,t,i,s=!1){if(!this.isBallLive)return;const a=this.scene.time.now;if(this.lastHitPlayerId===e.id&&a-this.lastHitTime<120)return;if(this.lastHitPlayerId=e.id,this.lastHitTime=a,this.lastTouchedBy===e.id?this.touchCount++:(this.touchCount=1,this.lastTouchedBy=e.id),this.touchCount>3)return void this.onFalta("toqueExcedido",e);let r,o;if(s?this.scene?.playSfx?.(this.scene?.sfx?.receive):i&&this.scene?.playSfx?.(this.scene?.sfx?.spike),s){const e=160;r="left"===t?-e:e,o=-310}else if(i){const e=190;r="left"===t?-e:e,o=-140}else{const e=180;r="left"===t?-e:e,o=-100}this.sprite.setVelocity(r,o),r>0?this.courtSide="right":r<0&&(this.courtSide="left")}crossNet(){this.touchCount=0,this.lastTouchedBy=null,this.courtSide="left"===this.courtSide?"right":"left"}onGrounded(){if(!this.isBallLive)return;const e=this.sprite.x<this.netX,t=this.sprite.x>this.netX;e?(this.onRallyEnd("player2"),this.resetRally("player2")):t&&(this.onRallyEnd("player1"),this.resetRally("player1"))}onFalta(e,t){if(!this.isBallLive)return;const i="player1"===t.id?"player2":"player1";this.onRallyEnd(i),this.resetRally(i)}onRallyEnd(e){this.isBallLive=!1,this.scene.events.emit("rallyConcluded",{scoringPlayerId:e,touchCount:this.touchCount,lastTouchedBy:this.lastTouchedBy})}_getSubtleNudge(e,t,i){const s=12*(Math.random()<.5?-1:1);return{spawnX:Math.max(t,Math.min(i-t,e+s)),velocityX:s}}setServePosition(e){const t=this.scene.worldWidth??this.scene.scale?.width??2*this.netX,i=(e,t,i)=>Math.max(t,Math.min(i,e));let s=this.netX,a=0;if("player1"===e||"player2"===e){const a=this.scene.players?.get?this.scene.players.get(e):null;s=a?.sprite?"player1"===e?i(a.sprite.x,60,this.netX-60):i(a.sprite.x,this.netX+60,t-60):"player1"===e?this.netX-100:this.netX+100}else{const e=this._getSubtleNudge(s,60,t);s=e.spawnX,a=e.velocityX}this.sprite.setPosition(s,100),this.sprite.setVelocity(a,0)}resetRally(e){this.isBallLive=!0,this.lastTouchedBy=null,this.touchCount=0,this.setServePosition(e),this.lastHitTime=0,this.lastHitPlayerId=null}update(){this.isBallLive&&(this.sprite.x<this.netX-20?this.courtSide="left":this.sprite.x>this.netX+20&&(this.courtSide="right"))}}class x{constructor(){this.players=new Map,this.gameScene=null}setPlayers(e){this.players=e}setGameScene(e){this.gameScene=e}process(e){e.execute()}}class T{execute(){}serialize(){}getPlayer(){}}class E extends T{constructor(e,t){super(),this.player=e,this.direction=t}execute(){switch(this.direction){case"left":this.player.moveLeft();break;case"right":this.player.moveRight();break;case"jumpLeft":this.player.jumpLeft();break;case"jumpRight":this.player.jumpRight();break;case"receiveLeft":this.player.receiveLeft();break;case"receiveRight":this.player.receiveRight();break;case"idleLeft":this.player.idleLeft();break;default:this.player.idleRight()}}getPlayer(){return this.player.id}serialize(){return{type:"MovePlayerCommand",playerId:this.player.id,direction:this.direction}}}class A extends i().Scene{tiempoTotal=60;tiempoRestante=this.tiempoTotal;timerText;timerEvent;constructor(){super("Game_Scene")}init(e){this.players=new Map,this.inputMappings=[],this.commandProcessor=new x,this.player1=e.player1,this.player2=e.player2,this.selectedScenario=e.selectedScenario,this.ball=null,this.scoreP1=0,this.scoreP2=0,this.setsP1=0,this.setsP2=0,this.maxSets=3,this.currentSet=1}preload(){this.load.spritesheet("charA_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_A/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charA_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_A/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.spritesheet("charB_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_B/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charB_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_B/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.spritesheet("charC_move","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_C/ANIMACIONES_CORRER_RECIBIR.png",{frameWidth:29,frameHeight:44}),this.load.spritesheet("charC_jump","ASSETS/PERSONAJES/ANIMACIONES/PERSONAJE_C/ANIMACION_REMATE.png",{frameWidth:32,frameHeight:44}),this.load.image("Gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("Playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("Jardin","ASSETS/FONDOS/JARDIN.png"),this.load.image("por2","ASSETS/ITEMS/POWER UPS/MULTIPLICADOR 2.png"),this.load.image("por3","ASSETS/ITEMS/POWER UPS/MULTIPLICADOR 3.png"),this.load.image("paralizar","ASSETS/ITEMS/POWER UPS/PARALIZADO.png"),this.load.image("ralentizar","ASSETS/ITEMS/POWER UPS/RELENTIZAR.png"),this.load.image("velocidad","ASSETS/ITEMS/POWER UPS/VELOCIDAD.png"),this.load.image("marcoPowerUp","ASSETS/JUEGO/Base_powerUp.png"),this.load.image("ball","ASSETS/ITEMS/PELOTAS/P_NORMAL.png"),this.load.image("red","ASSETS/JUEGO/RED.png"),this.load.image("reloj","ASSETS/JUEGO/TIMER.png"),this.load.image("marcoGeneral","ASSETS/JUEGO/MARCADOR_SET.png"),this.load.audio("sfx_silbato","ASSETS/SONIDO/Silbato_inicio_partido_1p4s.mp3"),this.load.audio("sfx_remate","ASSETS/SONIDO/Toque_pelota_remate_03s.mp3"),this.load.audio("sfx_recepcion","ASSETS/SONIDO/Toque_pelota_recepcion.mp3"),this.load.audio("sfx_salto","ASSETS/SONIDO/SonidoSalto_1p.mp3"),this.load.audio("sfx_punto","ASSETS/SONIDO/SonidoPunto.mp3")}create(){const{width:e,height:t}=this.scale;this.worldWidth=e,this.worldHeight=t;const i=this.game.globals.defaultTextStyle;this.sfx={whistle:"sfx_silbato",spike:"sfx_remate",receive:"sfx_recepcion",jump:"sfx_salto",point:"sfx_punto"},this.playSfx(this.sfx.whistle),this.timerText=this.add.text(this.scale.width/2,30,"",{...i,fontSize:"32px",color:"#ffffff"}).setOrigin(.5,0).setScrollFactor(0).setDepth(9999),this.timerIcon=this.add.image(this.scale.width/2,45,"reloj").setOrigin(.5).setScale(2).setScrollFactor(0).setDepth(9e3),this.setFrame=this.add.image(this.scale.width/2,120,"marcoGeneral").setOrigin(.5).setScale(1).setDepth(9998),this.setText=this.add.text(this.scale.width/2,120,`SET ${this.currentSet}`,{...i,fontSize:"32px",color:"#ffffff"}).setOrigin(.5).setDepth(9999),this.setWinnerText=this.add.text(this.scale.width/2,185,"",{...i,fontSize:"24px",color:"#ffffff",stroke:"#000000",strokeThickness:3}).setOrigin(.5).setDepth(9999).setVisible(!1),this.timerEvent=this.time.addEvent({delay:1e3,callback:this.updateTimer,callbackScope:this,loop:!0}),this.updateTimer(),this.add.image(e/2,t/2,this.selectedScenario).setOrigin(.5).setDisplaySize(e,t).setDepth(-1);const s=this.physics.add.staticSprite(e/2,t-160,"red").setScale(.6),a=this.textures.get("red").getSourceImage();s.body.setSize(.5*a.width,.5*a.height),s.body.setOffset(-s.body.width/2,-s.body.height/2),s.body.updateFromGameObject(),this.red=s,this._createAnimations(),this.pointsLeft=0,this.pointsRight=0,this.scoreFrameLeft=this.add.image(200,50,"marcoGeneral").setScale(.8,.55).setOrigin(.5),this.scoreFrameRight=this.add.image(this.worldWidth-200,50,"marcoGeneral").setScale(.8,.55).setOrigin(.5),this.scoreLeft=this.add.text(200,45,"0",{...i,fontSize:"40px",color:"#ffffffff"}).setOrigin(.5).setDepth(9999),this.rightScore=this.add.text(this.worldWidth-200,45,"0",{...i,fontSize:"40px",color:"#ffffffff"}).setOrigin(.5).setDepth(9999),this.groundHeight=20,this.groundY=this.worldHeight-90;const r=this.add.rectangle(this.worldWidth/2,this.groundY,this.worldWidth,20).setOrigin(.5,0).setVisible(!1);this.physics.add.existing(r,!0),this._createPlayers(),this._setupPhysicsWorld(r),this._setupInputMappings(),this.powerUps=[],this.maxPowerUps=2,this.powerUpSpawnConfig={minDelayMs:3500,maxDelayMs:8e3,weights:{velocidad:3,ralentizar:2,paralizar:1,por2:3,por3:2},cooldownMs:{paralizar:12e3}},this.powerUpLastSpawnAt={},this.inventoryUI={player1:[this.add.image(50,50,"por2").setScale(1.4).setVisible(!1).setDepth(1),this.add.image(110,50,"por2").setScale(1.4).setVisible(!1).setDepth(1)],player2:[this.add.image(this.worldWidth-110,50,"por2").setScale(1.4).setVisible(!1).setDepth(1),this.add.image(this.worldWidth-50,50,"por2").setScale(1.4).setVisible(!1).setDepth(1)]},this.schedulePowerUpSpawn(),this.inventoryFrames={player1:[this.add.image(50,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0),this.add.image(110,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0)],player2:[this.add.image(this.worldWidth-110,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0),this.add.image(this.worldWidth-50,50,"marcoPowerUp").setScale(1).setOrigin(.5).setDepth(0)]},this._createBall(),this.ball.setServePosition(),this._setupBallCollisions(),this._setupBallEvents(),this.input.keyboard.on("keydown-ESC",()=>{this.scene.pause(),this.timerEvent.paused=!0,this.scene.launch("Pause_Scene")}),this.events.on("resume",()=>{this.timerEvent.paused=!1})}schedulePowerUpSpawn(){const{minDelayMs:e,maxDelayMs:t}=this.powerUpSpawnConfig,s=i().Math.Between(e,t);this.time.delayedCall(s,()=>{if(this.powerUps.length<this.maxPowerUps){const e=i().Math.Between(80,this.worldWidth-80),t=i().Math.Between(this.worldHeight-220,this.worldHeight-120),s=this._getWeightedPowerUpType();if(s){const i=new f(this,e,t,s);this.powerUps.push(i),this.powerUpLastSpawnAt[s]=this.time.now}}this.schedulePowerUpSpawn()})}_getWeightedPowerUpType(){const{weights:e,cooldownMs:t}=this.powerUpSpawnConfig,s=this.time.now,a=Object.entries(e).filter(([e,i])=>{if(i<=0)return!1;const a=t?.[e];if(!a)return!0;const r=this.powerUpLastSpawnAt?.[e]||0;return s-r>=a});if(!a.length)return null;const r=a.reduce((e,[,t])=>e+t,0);let o=i().Math.Between(1,r);for(const[e,t]of a)if(o-=t,o<=0)return console.log("[Game_Scene] Power-up aleatorio: ",e),e;return a[a.length-1][0]}playSfx(e){e&&this.sound.play(e,{volume:l()})}update(){this._handleInputForAllPlayers(),this.players.forEach(e=>e.updatePowerUps()),this.ball&&(this.ball.update(),this.ball.isBallLive&&this.ball.sprite.y>this.groundY&&this.ball.onGrounded(),(this.ball.sprite.x<475&&"right"===this.ball.courtSide||this.ball.sprite.x>485&&"left"===this.ball.courtSide)&&this.ball.crossNet())}updateTimer(){this.tiempoRestante--;const e=Math.floor(this.tiempoRestante/60),t=this.tiempoRestante%60,i=`${e.toString().padStart(2,"0")}:${t.toString().padStart(2,"0")}`;this.timerText.setText(i),this.tiempoRestante<=0&&(this.timerEvent.paused=!0,console.log("FIN DEL TIEMPO"),this.scoreP1>this.scoreP2?this._endSet("player1"):this.scoreP2>this.scoreP1?this._endSet("player2"):(console.log("Empate en el set"),this._resetSet()))}updatePlayerInventoryUI(e){const t=this.inventoryUI[e.id];for(let i=0;i<2;i++)e.powerUpInventory[i]?(t[i].setTexture(e.powerUpInventory[i]),t[i].setVisible(!0)):t[i].setVisible(!1)}_createAnimations(){this.anims.create({key:"charA_idleRight",frames:this.anims.generateFrameNumbers("charA_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charA_idleLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charA_receiveRight",frames:this.anims.generateFrameNumbers("charA_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charA_receiveLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charA_runRight",frames:this.anims.generateFrameNumbers("charA_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charA_runLeft",frames:this.anims.generateFrameNumbers("charA_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charA_jumpRight",frames:this.anims.generateFrameNumbers("charA_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charA_jumpLeft",frames:this.anims.generateFrameNumbers("charA_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charB_idleRight",frames:this.anims.generateFrameNumbers("charB_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charB_idleLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charB_receiveRight",frames:this.anims.generateFrameNumbers("charB_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charB_receiveLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charB_runRight",frames:this.anims.generateFrameNumbers("charB_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charB_runLeft",frames:this.anims.generateFrameNumbers("charB_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charB_jumpRight",frames:this.anims.generateFrameNumbers("charB_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charB_jumpLeft",frames:this.anims.generateFrameNumbers("charB_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charC_idleRight",frames:this.anims.generateFrameNumbers("charC_move",{start:0,end:1}),frameRate:5,repeat:-1}),this.anims.create({key:"charC_idleLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:20,end:21}).reverse(),frameRate:5,repeat:-1}),this.anims.create({key:"charC_receiveRight",frames:this.anims.generateFrameNumbers("charC_move",{start:0,end:10}),frameRate:17,repeat:0}),this.anims.create({key:"charC_receiveLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:11,end:21}).reverse(),frameRate:17,repeat:0}),this.anims.create({key:"charC_runRight",frames:this.anims.generateFrameNumbers("charC_move",{start:22,end:32}),frameRate:22,repeat:-1}),this.anims.create({key:"charC_runLeft",frames:this.anims.generateFrameNumbers("charC_move",{start:33,end:43}).reverse(),frameRate:22,repeat:-1}),this.anims.create({key:"charC_jumpRight",frames:this.anims.generateFrameNumbers("charC_jump",{start:0,end:12}),frameRate:17,repeat:0}),this.anims.create({key:"charC_jumpLeft",frames:this.anims.generateFrameNumbers("charC_jump",{start:13,end:25}).reverse(),frameRate:17,repeat:0})}_createPlayers(){const e=this.player1.character,t=this.player2.character,i=new g(this,"player1",.25*this.worldWidth,this.groundY-100,e),s=new g(this,"player2",.75*this.worldWidth,this.groundY-100,t);this.players.set("player1",i),this.players.set("player2",s);const a=Math.floor(this.groundY);i.setBounds(80,455,50,a),s.setBounds(505,this.worldWidth-80,50,a),this.commandProcessor.setPlayers(this.players),this.commandProcessor.setGameScene(this),i.idleRight(),s.idleLeft()}_setupPhysicsWorld(e){this.players.forEach(t=>{this.physics.add.collider(t.sprite,e),this.physics.add.collider(t.sprite,this.red,()=>{console.log(`${t.id} tocó la red!`),t.sprite.setVelocityX(0)})})}_setupInputMappings(){this.inputMappings=[{playerId:"player1",leftKey:"A",rightKey:"D",jumpKey:"W",receiveKey:"S",powerKey:"E"},{playerId:"player2",leftKey:"J",rightKey:"L",jumpKey:"I",receiveKey:"K",powerKey:"O"}].map(e=>({playerId:e.playerId,leftKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.leftKey]),rightKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.rightKey]),jumpKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.jumpKey]),receiveKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.receiveKey]),powerKeyObj:this.input.keyboard.addKey(i().Input.Keyboard.KeyCodes[e.powerKey])}))}_handleInputForAllPlayers(){this.inputMappings.forEach(e=>{const t=this.players.get(e.playerId);if(!t)return;if(t.isParalyzed){const e="left"===t.facing?"idleLeft":"idleRight";return void this.commandProcessor.process(new E(t,e))}let s;if(s=e.leftKeyObj.isDown?"left":e.rightKeyObj.isDown?"right":"left"===t.facing?"idleLeft":"idleRight",t.isJumping||this.commandProcessor.process(new E(t,s)),i().Input.Keyboard.JustDown(e.receiveKeyObj)){const e="left"===t.facing?"receiveLeft":"receiveRight";this.commandProcessor.process(new E(t,e))}if(i().Input.Keyboard.JustDown(e.jumpKeyObj)){const e="left"===t.facing?"jumpLeft":"jumpRight";this.commandProcessor.process(new E(t,e))}i().Input.Keyboard.JustDown(e.powerKeyObj)&&(t.useNextPowerUp(),this.updatePlayerInventoryUI(t))}),this.players.forEach(e=>e.update())}_createBall(){this.ball=new O(this,this.worldWidth/2,150)}_setupBallCollisions(){this.players.forEach(e=>{this.physics.add.overlap(this.ball.sprite,e.sprite,()=>this._onBallPlayerCollision(this.ball,e),null,this)}),this.physics.add.collider(this.ball.sprite,this.red,()=>{console.log("La pelota toca la red!"),this.ball.sprite.setVelocityX(.5*this.ball.sprite.body.velocity.x),this.ball.sprite.setVelocityY(.5*this.ball.sprite.body.velocity.y)}),this.worldHeight,this.ball.sprite.setCollideWorldBounds(!0),this.ball.sprite.setBounce(.8)}_setupBallEvents(){this.events.on("rallyConcluded",e=>{console.log(`Rally concluded: ${e.scoringPlayerId} scores!`);const t=e.scoringPlayerId,i=this.players.get(t),s=i&&i.scoreMultiplier||1;"player1"===t?(this.pointsLeft+=s,this.scoreLeft.setText(this.pointsLeft.toString()),this.scoreP1+=s):"player2"===t&&(this.pointsRight+=s,this.rightScore.setText(this.pointsRight.toString()),this.scoreP2+=s),this.playSfx(this.sfx.point),this._checkWinCondition()})}_onBallPlayerCollision(e,t){if(!e.isBallLive)return;const i=!t.sprite.body.blocked.down,s=t.isReceiving,a=t.facing;e.hit(t,a,i,s)}_endGame(e){this.timerEvent&&(this.timerEvent.remove(!1),this.timerEvent=null),this.physics&&this.physics.world&&this.physics.world.pause(),this.scene.start("EndGame_Scene",{winner:e,player1:this.player1,player2:this.player2})}_checkWinCondition(){const e=this.scoreP1-this.scoreP2;this.scoreP1>=11&&e>=2?this._endSet("player1"):this.scoreP2>=11&&e<=-2&&this._endSet("player2")}_endSet(e){"player1"===e?this.setsP1++:"player2"===e&&this.setsP2++,console.log(`Set terminado. Score sets: P1=${this.setsP1}, P2=${this.setsP2}`);const t="player1"===e?"Jugador 1":"Jugador 2";this.setWinnerText.setText(`Set para ${t}`),this.setWinnerText.setVisible(!0),this.currentSet++,2===this.setsP1||2===this.setsP2?this.time.delayedCall(2e3,()=>{this._endGame(e)}):this.time.delayedCall(2e3,()=>{this.setWinnerText&&this.setWinnerText.setVisible(!1),this._resetSet()})}_resetSet(){this.setText.setText(`SET ${this.currentSet}`),this.tiempoRestante=this.tiempoTotal,this.timerEvent.paused=!1,this.updateTimer(),this.scoreP1=0,this.scoreP2=0,this.pointsLeft=0,this.pointsRight=0,this.scoreLeft.setText("0"),this.rightScore.setText("0"),this.ball.resetRally();const e=this.players.get("player1"),t=this.players.get("player2");e.setPosition(.25*this.worldWidth,.7*this.worldHeight),t.setPosition(.75*this.worldWidth,.7*this.worldHeight),e.idleRight(),t.idleLeft(),this.playSfx(this.sfx.whistle)}}class b extends i().Scene{constructor(){super("Configuration_Scene"),this.musicVolumeSlider=null,this.sfxVolumeSlider=null}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("derTeclas","ASSETS/UI/CONTROLES/der.png"),this.load.image("izqTeclas","ASSETS/UI/CONTROLES/izq.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,n=e/2,d=this.game.globals.defaultTextStyle;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(n,.1*t,"Configuración",{...d,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5),this.add.text(n,.2*t,"Volumen de la música",{...d,fontSize:"24px",color:"#000"}).setOrigin(.5),function(e=1){const t=null!==localStorage.getItem(s),i=null!==localStorage.getItem(a);if(t&&i)return;const n=function(e=1){const t=localStorage.getItem(r);return null===t?null:o(t,e)}(e),l=n&&n>0?n:e;t||localStorage.setItem(s,String(l)),i||localStorage.setItem(a,String(l))}();const p=h(),m=l();c(this),this.musicVolumeSlider=this.add.dom(n,.26*t).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${p}"\n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>\n            `),this.musicVolumeSlider.addListener("input"),this.musicVolumeSlider.on("input",e=>{const t=e.target;t instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(a,String(t))}(t.value),c(this))}),this.add.text(n,.32*t,"Volumen de efectos",{...d,fontSize:"24px",color:"#000"}).setOrigin(.5),this.sfxVolumeSlider=this.add.dom(n,.38*t).createFromHTML(`<input type="range" min="0" max="1" step="0.01" value="${m}"\n                style="width:220px; height:20px; accent-color:#00aaff; border-radius:5px;"/>\n            `),this.sfxVolumeSlider.addListener("input"),this.sfxVolumeSlider.on("input",e=>{const t=e.target;t instanceof HTMLInputElement&&(function(e){const t=i().Math.Clamp(Number(e),0,1);localStorage.setItem(s,String(t))}(t.value),c(this))}),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start("Menu_Scene")});const u=this.add.graphics();u.lineStyle(3,0,1),u.beginPath(),u.moveTo(.1*e,.46*t),u.lineTo(.9*e,.46*t),u.strokePath(),this.add.text(n,.52*t,"Controles",{...d,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5),this.add.image(e/2+200,380,"derTeclas").setScale(.35).setOrigin(.5),this.add.image(e/2-200,380,"izqTeclas").setScale(.35).setOrigin(.5),this.events.once(i().Scenes.Events.SHUTDOWN,()=>{this.musicVolumeSlider&&(this.musicVolumeSlider.removeAllListeners(),this.musicVolumeSlider.destroy(),this.musicVolumeSlider=null),this.sfxVolumeSlider&&(this.sfxVolumeSlider.removeAllListeners(),this.sfxVolumeSlider.destroy(),this.sfxVolumeSlider=null)})}}class v extends i().Scene{constructor(){super("Credits_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("logo","ASSETS/LOGO/logo_empresa.png"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=e/2,s=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#000000"};this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(i,.15*t,"Créditos",{...s,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5);const a=["GRUPO 5 - SUNSET ARCADE","Sara Bueno Esteban","Antonio Morán Barrera","Cristine Nioka Tewo","Álvaro Ibáñez Montero"],r=.42*t,o=this.add.image(i,r,"marco").setOrigin(.5),n=.45*e/o.width;o.setScale(n);const l=r-30*(a.length-1)/2;a.forEach((e,t)=>{const a=0===t;this.add.text(i,l+30*t,e,{...s,fontSize:a?"22px":"20px",color:"#000000"}).setOrigin(.5)}),this.add.image(i,.78*t,"logo").setOrigin(.5).setScale(.6),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,onClick:()=>this.scene.start("Menu_Scene")})}}class _ extends i().Scene{constructor(){super("EndGame_Scene")}init(e){this.winner=e.winner,this.player1=e.player1,this.player2=e.player2}preload(){this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=this.game.globals.defaultTextStyle,s=this.player1.name,a=this.player2.name;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(e/2,.18*t,"¡FIN DEL PARTIDO!",{...i,fontSize:"64px",color:"#5f0000ff"}).setOrigin(.5);const r="player1"===this.winner?"Ganador: "+s:"Ganador: "+a;this.add.text(e/2,.4*t,r,{...i,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5),p(this,{x:e/2,y:.6*t,label:"Volver a inicio",textStyle:{...i,fontSize:"26px",color:"#000000"},scale:3,onClick:()=>{this.scene.start("Menu_Scene")}})}}class I extends i().Scene{constructor(){super("ModeGame_Scene")}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const{width:e,height:t}=this.scale,i=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#000000"};c(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,.18*t,"Modo de Juego",{...i,fontSize:"40px",color:"#000000",fontStyle:"bold"}).setOrigin(.5);const s=.5*t,a=Math.min(280,.3*e),r=e/2-a/2,o={...i,fontSize:"24px",color:"#000000"},n=e=>{"local"===e?this.scene.start("SelectPlayer_Scene",{mode:e}):this.scene.start("Logging_Scene",{mode:e})};p(this,{x:r,y:s,label:"Local",onClick:()=>n("local"),scale:2,textureNormal:"botonSinSeleccionar",textureHover:"botonSeleccionado",textStyle:o,clickSoundKey:"sonidoClick"}),p(this,{x:r+a,y:s,label:"Red",onClick:()=>n("online"),scale:2,textureNormal:"botonSinSeleccionar",textureHover:"botonSeleccionado",textStyle:o,clickSoundKey:"sonidoClick"}),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.scene.start("Menu_Scene")})}}class R extends i().Scene{constructor(){super("Pause_Scene")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE_G_SELECCIONADO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_G.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const e=this.game.globals.defaultTextStyle,{width:t,height:i}=this.scale,s=t/2;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(s,.18*i,"PAUSA",{...e,fontSize:"32px",color:"#5f0000ff"}).setOrigin(.5);const a={...e,fontSize:"20px",color:"#000000"};p(this,{x:s,y:.52*i,label:"Continuar",textStyle:a,scale:2,onClick:()=>{this.scene.stop(),this.scene.resume("Game_Scene")}}),p(this,{x:s,y:.66*i,label:"Menú Principal",textStyle:a,scale:2,onClick:()=>{const e=this.scene.get("Game_Scene");e&&(e.input.keyboard.removeAllListeners(),e.input.keyboard.removeAllKeys()),this.scene.stop("Game_Scene"),this.scene.start("Menu_Scene")}})}}class N extends i().Scene{constructor(){super("SelectPlayer_Scene"),this.players=[],this.currentTurn=0,this.playerInputs=[],this.playerInputEls=[],this.turnText=null}init(e){this.mode=e.mode,console.log("Modo de Juego:",this.mode),this.isHost=e.isHost,console.log("Host:",this.isHost)}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_SELECCIONDO.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_SIN_SELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("marcoJugador","ASSETS/UI/MARCOS/VACIOS/MARCO_PERSONAJE_SELECCIONADO.png"),this.load.image("characterA","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_a.png"),this.load.image("characterB","ASSETS/PERSONAJES/PERSONAJES_POSE/personajes_b.png"),this.load.image("characterC","ASSETS/PERSONAJES/PERSONAJES_POSE/personaje_c.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){this.input.keyboard.removeAllKeys(!0),this.input.keyboard.removeAllListeners();const{width:e,height:t}=this.scale,s=this.game.globals?.defaultTextStyle??{fontFamily:"Arial",fontSize:"20px",color:"#ffffff"};c(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,50,"Selecciona Personaje",{...s,fontSize:"40px",color:"#000",fontStyle:"bold"}).setOrigin(.5),"local"===this.mode&&this.createLocalUI(e,t,s),"online"===this.mode&&this.createOnlineUI(e,t,s),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.scene.start("ModeGame_Scene")}),this.events.once(i().Scenes.Events.SHUTDOWN,()=>{this.playerInputs.forEach(e=>e?.destroy()),this.playerInputs=[],this.playerInputEls=[],this.input.keyboard.enabled=!0})}createLocalUI(e,t,i){this.players=[{name:"",character:null,color:43775,bigImage:null,bigFrame:null,frame:null},{name:"",character:null,color:16733525,bigImage:null,bigFrame:null,frame:null}],this.turnText=this.add.text(e/2,90,"Turno: Jugador 1",{...i,fontSize:"18px",color:"#000"}).setOrigin(.5),this.createPlayersUI(),this.createCharacterMiniatures(0,0),this.updateTurnText(),p(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>this.handleNext(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...i,fontSize:"14px",color:"#000"},clickSoundKey:"sonidoClick"})}createOnlineUI(e,t,i){this.players=[{name:this.registry.get("username")||"JugadorX",character:null,color:43775,bigImage:null,bigFrame:null,frame:null}],this.add.text(e/2,100,`${this.players[0].name}`,{...i,fontSize:"28px",color:"#000",fontStyle:"bold"}).setOrigin(.5),this.turnText=this.add.text(e/2,130,"Ningún personaje seleccionado",{...i,fontSize:"18px",color:"#000"}).setOrigin(.5),this.createPlayerOnlineUI(),this.createCharacterMiniatures(150,0),p(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>this.handleNext(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...i,fontSize:"14px",color:"#000"},clickSoundKey:"sonidoClick"})}createPlayersUI(){const{width:e,height:t}=this.scale,s=this.game.globals.defaultTextStyle,a=[.25*e,.75*e];this.players.forEach((r,o)=>{const n=a[o];this.add.text(n,100,"Nombre:",{...s,fontSize:"24px",color:"#000"}).setOrigin(.5);const l=this.add.dom(n,140).createFromHTML(`\n                <input type="text" placeholder="Nombre jugador" maxlength="10"\n                style="\n                    width:150px;\n                    padding:6px;\n                    font-size:16px;\n                    font-family:${s.fontFamily};\n                    border-radius:12px;\n                    border: 6px solid #FFAA00;\n                    outline: none;\n                    text-align:center;\n                    background-color:#f0f0f0;\n                    transition: border-color 0.2s, box-shadow 0.2s;"\n                onfocus="this.style.borderColor='#FF8316'; this.style.boxShadow='0 0 5px #FF8316';"\n                onblur="this.style.borderColor='#FFAA00'; this.style.boxShadow='none';"\n                />\n            `),h=l.node.querySelector("input");h.addEventListener("focus",e=>{this.input.keyboard.enabled=!1,e.stopPropagation()}),h.addEventListener("blur",e=>{this.input.keyboard.enabled=!0,e.stopPropagation()}),h.addEventListener("keydown",e=>e.stopPropagation()),h.addEventListener("input",()=>{h.value=h.value.replace(/[^a-zA-ZÀ-ÿñÑ ]/g,""),this.updateTurnText()}),this.playerInputs[o]=l,this.playerInputEls[o]=h,r.bigImage=this.add.image(e*(.25+.5*o),.6*t,"characterA").setScale(1.2).setOrigin(.5).setVisible(!1),r.bigFrame=this.add.image(r.bigImage.x,r.bigImage.y,"marcoJugador").setScale(2.8).setOrigin(.5).setVisible(!0),r.bigFrame.texture.setFilter(i().Textures.FilterMode.NEAREST),r.frame=this.add.rectangle(0,0,60,120).setStrokeStyle(4,r.color).setVisible(!1)}),this.currentTurn=0,this.updateTurnText()}createPlayerOnlineUI(){const{width:e,height:t}=this.scale,s=this.players[0],a=e/2;s.bigImage=this.add.image(a-150,.58*t,"characterA").setScale(1.2).setOrigin(.5).setVisible(!1),s.bigFrame=this.add.image(s.bigImage.x,s.bigImage.y,"marcoJugador").setScale(2.8).setOrigin(.5).setVisible(!0),s.bigFrame.texture.setFilter(i().Textures.FilterMode.NEAREST),s.frame=this.add.rectangle(0,0,60,120).setStrokeStyle(4,s.color).setVisible(!1)}createCharacterMiniatures(e,t){const{width:i,height:s}=this.scale,a=i/2-75,r=.5*s,o=[{x:a+e,y:r+t},{x:a+e+150,y:r+t},{x:a+e+75,y:r+t+75}];["characterA","characterB","characterC"].forEach((e,t)=>{const i=this.add.image(o[t].x,o[t].y,e).setInteractive({useHandCursor:!0}).setScale(.45).setData("characterName",e);i.on("pointerdown",()=>{d(this,"sonidoClick"),this.onMiniClicked(e,i)})})}onMiniClicked(e,t){if("online"===this.mode){const i=this.players[0];return i.character===e?(i.character=null,i.bigImage&&i.bigImage.setVisible(!1),i.frame&&i.frame.setVisible(!1)):(i.character=e,i.bigImage&&i.bigImage.setTexture(e).setVisible(!0),i.frame&&i.frame.setPosition(t.x,t.y).setVisible(!0)),void this.updateTurnText()}const i=this.players.findIndex(t=>t.character===e);if(-1!==i){const e=this.players[i];return e.character=null,e.bigImage&&e.bigImage.setVisible(!1),e.frame&&e.frame.setVisible(!1),this.currentTurn=i,void this.updateTurnText()}const s=this.players[0],a=this.players[1];let r=this.currentTurn;if(null==r)if(!s.character&&a.character)r=0;else if(!a.character&&s.character)r=1;else{if(s.character||a.character)return;r=0}const o=this.players[r],n=this.players[1-r];n.character!==e&&(o.character=e,o.bigImage&&o.bigImage.setTexture(e).setVisible(!0),o.frame&&o.frame.setPosition(t.x,t.y).setVisible(!0),n.character?this.currentTurn=null:this.currentTurn=1-r,this.updateTurnText())}handleNext(){if("local"===this.mode){const e=this.playerInputEls?.[0]?.value?.trim()??"",t=!!this.players?.[0]?.character,i=this.playerInputEls?.[1]?.value?.trim()??"",s=!!this.players?.[1]?.character;if(!(e.length>0&&i.length>0&&t&&s))return this.updateTurnText(),void this.flashTurnText("#b00000",900);this.players[0].name=e,this.players[1].name=i,this.scene.start("SelectScenario_Scene",{mode:this.mode,player1:this.players[0],player2:this.players[1]})}if("online"===this.mode){if(!this.players?.[0]?.character)return this.flashTurnText("#b00000",900),void this.turnText.setText("Debes elegir un personaje primero");this.registry.set("myCharacter",this.players[0].character),this.isHost?this.scene.start("SelectScenario_Scene",{mode:this.mode,player1:this.players[0],isHost:!0}):this.scene.start("Lobby_Scene",{mode:this.mode,player2:this.players[0],isHost:!1})}}flashTurnText(e="#b00000",t=900){if(!this.turnText)return;const i=this.turnText.style.color||"#000000";this.turnText.setColor(e),this.time.delayedCall(t,()=>{this.turnText.setColor(i),this.updateTurnText()})}updateTurnText(){if(this.turnText){if("local"===this.mode){const e=this.playerInputEls?.[0]?.value?.trim()??"",t=this.playerInputEls?.[1]?.value?.trim()??"",i=!!this.players?.[0]?.character,s=!!this.players?.[1]?.character,a=e.length>0,r=t.length>0,o=i&&s,n=a&&r;if(o&&n)return void this.turnText.setText("Listo: ambos jugadores tienen nombre y personaje");if(o&&!n)return void(a||r?a?this.turnText.setText("Falta el nombre del Jugador 2"):this.turnText.setText("Falta el nombre del Jugador 1"):this.turnText.setText("Faltan los nombres de Jugador 1 y Jugador 2"));if(n&&!o)return void(i||s?i?this.turnText.setText("Falta el personaje del Jugador 2"):this.turnText.setText("Falta el personaje del Jugador 1"):this.turnText.setText("Faltan los personajes del Jugador 1 y Jugador 2"));if(null===this.currentTurn||void 0===this.currentTurn)return void this.turnText.setText("Completa nombres y personajes");this.turnText.setText(`Turno: Jugador ${this.currentTurn+1}`)}"online"===this.mode&&(this.players?.[0]?.character?this.turnText.setText("Listo: el jugador tiene personaje"):this.turnText.setText("Ningún personaje seleccionado"))}}}class C extends i().Scene{constructor(){super("SelectScenario_Scene"),this.selectedScenario="Gym",this.mode="local"}preload(){this.load.image("botonSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("botonSinSeleccionar","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("Gym","ASSETS/FONDOS/GIMNASIO.png"),this.load.image("Playa","ASSETS/FONDOS/PLAYA.png"),this.load.image("Jardin","ASSETS/FONDOS/JARDIN.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3"),this.load.image("marco","/ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO")}init(e){this.player1=e.player1,this.player2=e.player2,this.mode=e.mode||"local",this.isHost=e.isHost||!1}create(){const{width:e,height:t}=this.scale,s=this.game.globals.defaultTextStyle;c(this),this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1).setDisplaySize(e,t),this.add.text(e/2,50,"Selecciona Escenario",{...s,fontSize:"40px",color:"#000",fontStyle:"bold"}).setOrigin(.5),this.selectedScenario="Gym",this.selectedImage=this.add.image(e/2,240,this.selectedScenario).setScale(.5);const a=["Gym","Playa","Jardin"],r=e/2-200,o={},n=e=>{this.selectedScenario=e,this.selectedImage.setTexture(e).setScale(.5),a.forEach(t=>{o[t].setTexture(t===e?"botonSeleccionado":"botonSinSeleccionar")})};a.forEach((e,t)=>{const a=this.add.image(r+200*t,440,"botonSinSeleccionar").setInteractive({useHandCursor:!0}).setScale(1.75);o[e]=a;const l=this.add.text(0,0,e,{...s,fontSize:"24px",color:"#000"});i().Display.Align.In.Center(l,a),a.on("pointerover",()=>a.setTexture("botonSeleccionado")),a.on("pointerout",()=>{a.setTexture(this.selectedScenario===e?"botonSeleccionado":"botonSinSeleccionar")}),a.on("pointerdown",()=>d(this,"sonidoClick")),a.on("pointerup",t=>{a.getBounds().contains(t.x,t.y)&&n(e)})}),n(this.selectedScenario);const l=this.add.image(e/2,240,"marco").setOrigin(.5);l.texture.setFilter(i().Textures.FilterMode.NEAREST),l.setDisplaySize(500,300),p(this,{x:e/2,y:500,label:"Siguiente",onClick:()=>{"local"===this.mode?this.scene.start("Game_Scene",{player1:this.player1,player2:this.player2,selectedScenario:this.selectedScenario,mode:this.mode,isHost:this.isHost}):this.scene.start("Lobby_Scene",{player1:this.player1,player2:this.player2,selectedScenario:this.selectedScenario,mode:this.mode,isHost:this.isHost})},scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...s,fontSize:"12px",color:"#000"},clickSoundKey:"sonidoClick"}),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>{this.scene.start("SelectPlayer_Scene",{mode:this.mode,isHost:this.isHost})}})}}class w extends i().Scene{constructor(){super("Lobby_Scene"),this.isPlayerReady=!1}init(e){this.mode=e.mode,this.isHost=e.isHost,this.player1=e.player1,this.player2=e.player2,console.log("Lobby iniciado como:",this.isHost?"Host":"Invitado")}preload(){this.load.image("botonVolver","ASSETS/UI/BOTONES/VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png"),this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3")}create(){const e=this.game.globals.defaultTextStyle,{width:t,height:s}=this.scale,a=t/2;this.add.image(0,0,"fondo").setOrigin(0).setDepth(-1),this.add.text(a,.18*s,"LOBBY",{...e,fontSize:"40px",color:"#000",fontStyle:"bold"}).setOrigin(.5);const r=.48*s,o=this.add.image(a,r,"marco").setOrigin(.5);o.texture.setFilter(i().Textures.FilterMode.NEAREST);const n=.3*t,l=.3*s;o.setDisplaySize(n,l);const h=r-40;this.add.text(a,h,"ESTADO DE JUGADORES",{...e,fontSize:"22px",color:"#000000",fontStyle:"bold"}).setOrigin(.5);const c=this.isHost?this.player1?.name||"Tú":this.player1?.name||"Admin...";this.p1StatusText=this.add.text(a,r,`${c} --- ❌`,{...e,fontSize:"20px",color:"#000000"}).setOrigin(.5);const d=this.isHost?this.player2?.name||"Esperando...":this.player2?.name||"Tú";this.p2StatusText=this.add.text(a,r+40,`${d} --- ❌`,{...e,fontSize:"20px",color:"#000000"}).setOrigin(.5),this.btnListo=p(this,{x:a,y:.75*s,label:"Listo?",onClick:()=>this.toggleReady(),scale:1.5,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...e,fontSize:"14px",color:"#000"},clickSoundKey:"sonidoClick"}),this.btnVolver=S(this,{x:.06*t,y:.08*s,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.handleBack()})}toggleReady(){this.isPlayerReady=!this.isPlayerReady;const e=this.isPlayerReady?"✅":"❌";this.isHost?this.p1StatusText.setText(`${this.player1.name} --- ${e}`):this.p2StatusText.setText(`${this.player2.name} --- ${e}`);const t=this.isPlayerReady?"CANCELAR":"LISTO?";this.btnListo.setLabel?this.btnListo.setLabel(t):this.btnListo.text&&this.btnListo.text.setText(t),this.isPlayerReady?(this.btnVolver.disableInteractive(),this.btnVolver.setAlpha(.3)):(this.btnVolver.setInteractive(),this.btnVolver.setAlpha(1))}handleBack(){const e=this.isHost?"SelectScenario_Scene":"SelectPlayer_Scene",t=this.isHost?{mode:this.mode,player1:this.player1,isHost:!0}:{mode:this.mode,isHost:!1};this.scene.start(e,t)}}class P extends i().Scene{constructor(){super("Logging_Scene"),this.isPlayerReady=!1,this.apiUrl="/api"}async init(e){this.mode=e.mode;const t=localStorage.getItem("voley_username"),i=localStorage.getItem("voley_password");if(t&&i){console.log("Intentando auto-login para:",t);try{const e=await fetch(`${this.apiUrl}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:i})}),s=await e.json();e.ok&&(this.registry.set("username",s.username),this.registry.set("isHost",s.isHost),this.scene.start("SelectPlayer_Scene",{mode:this.mode,isHost:s.isHost}))}catch(e){console.error("Auto-login fallido")}}}preload(){this.load.image("botonSimple","ASSETS/UI/BOTONES/BOTON_BASE_SINSELECCIONAR.png"),this.load.image("botonSimpleSeleccionado","ASSETS/UI/BOTONES/BOTON_BASE.png"),this.load.image("botonVolver","ASSETS/UI/BOTONES/FLECHA_VOLVER.png"),this.load.image("fondo","ASSETS/FONDOS/FONDO_BASE.png"),this.load.audio("sonidoClick","ASSETS/SONIDO/SonidoBoton.mp3"),this.load.image("marco","ASSETS/UI/MARCOS/VACIOS/MARCOS_ESCENARIO.png")}create(){const{width:e,height:t}=this.scale,s=e/2,a=this.game.globals?.defaultTextStyle??{fontFamily:"Arial"};this.add.image(0,0,"fondo").setOrigin(0).setDisplaySize(e,t).setDepth(-1),this.titleText=this.add.text(s,60,"INICIAR SESIÓN",{...a,fontSize:"36px",color:"#000",fontStyle:"bold"}).setOrigin(.5);const r=this.add.image(s,.52*t,"marco").setOrigin(.5);r.setDisplaySize(.4*e,.65*t),r.texture.setFilter(i().Textures.FilterMode.NEAREST),this.add.text(s,.28*t,"Usuario:",{...a,fontSize:"20px",color:"#000"}).setOrigin(.5),this.userInput=this.createHtmlInput(s,.35*t,"Nombre de usuario",a),this.add.text(s,.45*t,"Contraseña:",{...a,fontSize:"20px",color:"#000"}).setOrigin(.5),this.passInput=this.createHtmlInput(s,.52*t,"********",a,!0),this.mainBtn=p(this,{x:s,y:.65*t,label:"ENTRAR",onClick:()=>this.handleSubmit(),scale:1.6,textureNormal:"botonSimple",textureHover:"botonSimpleSeleccionado",textStyle:{...a,fontSize:"14px",color:"#000"},clickSoundKey:"sonidoClick"}),this.toggleText=this.add.text(s,.75*t,"¿Aún no tienes cuenta? Regístrate aquí",{...a,fontSize:"16px",color:"#0000EE",fontStyle:"italic"}).setOrigin(.5).setInteractive({useHandCursor:!0}),this.toggleText.on("pointerdown",()=>this.toggleMode()),S(this,{x:.06*e,y:.08*t,texture:"botonVolver",scale:1,hoverScale:1.1,clickSoundKey:"sonidoClick",onClick:()=>this.scene.start("ModeGame_Scene")})}createHtmlInput(e,t,i,s,a=!1){const r=a?"password":"text",o=this.add.dom(e,t).createFromHTML(`\n            <input type="${r}" placeholder="${i}" \n            style="width:180px; padding:8px; font-size:16px; font-family:${s.fontFamily}; \n            border-radius:12px; border: 6px solid #FFAA00; text-align:center; outline:none;" />\n        `).node.querySelector("input");return o.addEventListener("focus",()=>this.input.keyboard.enabled=!1),o.addEventListener("blur",()=>this.input.keyboard.enabled=!0),o}toggleMode(){this.isRegistering=!this.isRegistering,this.titleText.setText(this.isRegistering?"REGISTRARSE":"INICIAR SESIÓN"),this.mainBtn.text.setText(this.isRegistering?"CREAR CUENTA":"ENTRAR"),this.toggleText.setText(this.isRegistering?"¿Ya tienes cuenta? Inicia sesión":"¿Aún no tienes cuenta? Regístrate aquí")}async handleSubmit(){const e=this.userInput.value.trim(),t=this.passInput.value.trim();if(e.length<3)return void alert("Usuario demasiado corto");if(t.length<3)return void alert("Contraseña demasiado corta");const i=this.isRegistering?"/register":"/login";try{const s=await fetch(`${this.apiUrl}${i}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),a=await s.json();s.ok?this.isRegistering?(alert("¡Registro completado con éxito! Ahora puedes iniciar sesión."),this.toggleMode(),this.userInput.value="",this.passInput.value=""):(this.registry.set("username",e),this.registry.set("userToken",a.token),this.registry.set("isHost",a.isHost),localStorage.setItem("voley_session_token",a.token),localStorage.setItem("voley_username",e),console.log(`Login correcto. Usuario: ${e} | Host: ${a.isHost}`),this.scene.start("SelectPlayer_Scene",{mode:this.mode,isHost:a.isHost})):alert(a.error||"Error en la autenticación")}catch(e){console.error("Error conectando a la API:",e),alert("No se pudo conectar con el servidor.")}}}(async()=>{document.fonts&&document.fonts.ready&&await document.fonts.ready;const e={defaultTextStyle:{fontFamily:"MiFuente",fontSize:"20px",color:"#ffffff"},music:null},t={type:i().AUTO,width:960,height:540,parent:"game-container",physics:{default:"arcade",arcade:{gravity:{x:0,y:300},debug:!0}},dom:{createContainer:!0},callbacks:{preBoot:t=>{t.globals=e}},scene:[m,A,b,v,_,R,I,N,C,w,P],backgroundColor:"#8675f1"},s=new(i().Game)(t);window.addEventListener("beforeunload",()=>{const e=s.registry.get("username");if(e){const t=JSON.stringify({username:e}),i=new Blob([t],{type:"application/json"});navigator.sendBeacon("/api/logout",i)}})})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixDQUFFLE1BQU92RixHQUNMQyxRQUFRc0YsTUFBTSw2QkFBOEJ2RixHQUM1Q21pQixNQUFNLHVDQUNWLENBQ0osRUN4TEosV0FFUUcsU0FBU0MsT0FBU0QsU0FBU0MsTUFBTUMsYUFDM0JGLFNBQVNDLE1BQU1DLE1BR3pCLE1BQU1ybEIsRUFBVSxDQUNaeUQsaUJBQWtCLENBQUVDLFdBQVksV0FBWUMsU0FBVSxPQUFRQyxNQUFPLFdBQ3JFOUQsTUFBTyxNQUdMNkgsRUFBUyxDQUNYdUQsS0FBTSxTQUNOckgsTUFBTyxJQUNQQyxPQUFRLElBQ1J3aEIsT0FBUSxpQkFDUjFkLFFBQVMsQ0FDTDJkLFFBQVMsU0FDVEMsT0FBUSxDQUNKQyxRQUFTLENBQUNwbEIsRUFBRyxFQUFHQyxFQUFHLEtBQ25Cb2xCLE9BQU8sSUFHZnBKLElBQUssQ0FDRHFKLGlCQUFpQixHQUVyQkMsVUFBVyxDQUNQQyxRQUFVOWxCLElBQ05BLEVBQUtDLFFBQVVBLElBR3ZCUixNQUFPLENBQUN3QyxFQUFZa1IsRUFBWXdJLEVBQXFCK0IsRUFBZU8sRUFBZVUsRUFBYVAsRUFBZ0JTLEVBQW9Cb0QsRUFBc0JVLEVBQWFlLEdBQ3ZLcUMsZ0JBQWdCLFdBR2QvbEIsRUFBTSxJQUFJLFVBQVk0SCxHQUU1Qm9lLE9BQU85RixpQkFBaUIsZUFBZ0IsS0FDcEMsTUFBTXpiLEVBQVd6RSxFQUFLMEUsU0FBUzVHLElBQUksWUFDbkMsR0FBSTJHLEVBQVUsQ0FDVixNQUFNZ1AsRUFBTzFPLEtBQUtDLFVBQVUsQ0FBRVAsYUFDeEJ3aEIsRUFBTyxJQUFJQyxLQUFLLENBQUN6UyxHQUFPLENBQUV0SSxLQUFNLHFCQUN0Q2diLFVBQVVDLFdBQVcsY0FBZUgsRUFDeEMsR0FFUCxFQTdDRCxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vZXh0ZXJuYWwgdmFyIFwiUGhhc2VyXCIiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvVUkvQXVkaW8uanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvVUkvQnV0dG9ucy5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvTWVudV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9FbnRpdGllcy9QbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvQ29tbWFuZHMvQXBwbHlQb3dlclVwQ29tbWFuZC5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9FbnRpdGllcy9Qb3dlclVwLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0VudGl0aWVzL0JhbGwuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvQ29tbWFuZHMvQ29tbWFuZFByb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9Db21tYW5kcy9Db21tYW5kLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL0NvbW1hbmRzL01vdmVQbGF5ZXJDb21tYW5kLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9HYW1lX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9Db25maWd1cmF0aW9uX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9DcmVkaXRzX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9FbmRHYW1lX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9Nb2RlR2FtZV9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvUGF1c2VfU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL1NlbGVjdFBsYXllcl9TY2VuZS5qcyIsIndlYnBhY2s6Ly92b2xsZXljbGFzaF9qdWVnby8uL3NyYy9TY2VuZXMvU2VsZWN0U2NlbmFyaW9fU2NlbmUuanMiLCJ3ZWJwYWNrOi8vdm9sbGV5Y2xhc2hfanVlZ28vLi9zcmMvU2NlbmVzL0xvYmJ5X1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL1NjZW5lcy9Mb2dnaW5nX1NjZW5lLmpzIiwid2VicGFjazovL3ZvbGxleWNsYXNoX2p1ZWdvLy4vc3JjL21haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImNvbnN0IF9fV0VCUEFDS19OQU1FU1BBQ0VfT0JKRUNUX18gPSBQaGFzZXI7IiwiaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5cclxuY29uc3QgU0ZYX1ZPTFVNRV9LRVkgPSAnc2Z4Vm9sdW1lJztcclxuY29uc3QgTVVTSUNfVk9MVU1FX0tFWSA9ICdtdXNpY1ZvbHVtZSc7XHJcbmNvbnN0IExFR0FDWV9WT0xVTUVfS0VZID0gJ3ZvbHVtZSc7XHJcblxyXG5mdW5jdGlvbiBwYXJzZVN0b3JlZFZvbHVtZShyYXcsIGRlZmF1bHRWYWx1ZSkge1xyXG4gICAgY29uc3QgdiA9IE51bWJlci5wYXJzZUZsb2F0KHJhdyA/PyBTdHJpbmcoZGVmYXVsdFZhbHVlKSk7XHJcblxyXG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodikpIHJldHVybiBkZWZhdWx0VmFsdWU7XHJcblxyXG4gICAgcmV0dXJuIFBoYXNlci5NYXRoLkNsYW1wKHYsIDAsIDEpO1xyXG59XHJcblxyXG4vLy8vIEdldHRlcnMmU2V0dGVycyAvLy8vXHJcbi8vIE9idGllbmUgZWwgdm9sdW1lbiBhbG1hY2VuYWRvIGNvbiB1bmEgY2xhdmVcclxuZnVuY3Rpb24gZ2V0U3RvcmVkVm9sdW1lQnlLZXkoa2V5LCBmYWxsYmFja0tleSwgZGVmYXVsdFZhbHVlID0gMSkge1xyXG4gICAgY29uc3QgcmF3ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KTtcclxuICAgIGlmIChyYXcgIT09IG51bGwpIHJldHVybiBwYXJzZVN0b3JlZFZvbHVtZShyYXcsIGRlZmF1bHRWYWx1ZSk7XHJcblxyXG4gICAgY29uc3QgZmFsbGJhY2tSYXcgPSBmYWxsYmFja0tleSA/IGxvY2FsU3RvcmFnZS5nZXRJdGVtKGZhbGxiYWNrS2V5KSA6IG51bGw7XHJcbiAgICBpZiAoZmFsbGJhY2tSYXcgIT09IG51bGwpIHJldHVybiBwYXJzZVN0b3JlZFZvbHVtZShmYWxsYmFja1JhdywgZGVmYXVsdFZhbHVlKTtcclxuXHJcbiAgICByZXR1cm4gUGhhc2VyLk1hdGguQ2xhbXAoZGVmYXVsdFZhbHVlLCAwLCAxKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0TGVnYWN5Vm9sdW1lKGRlZmF1bHRWYWx1ZSA9IDEpIHtcclxuICAgIGNvbnN0IHJhdyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKExFR0FDWV9WT0xVTUVfS0VZKTtcclxuICAgIGlmIChyYXcgPT09IG51bGwpIHJldHVybiBudWxsO1xyXG5cclxuICAgIHJldHVybiBwYXJzZVN0b3JlZFZvbHVtZShyYXcsIGRlZmF1bHRWYWx1ZSk7XHJcbn1cclxuXHJcbi8vIEFzZWd1cmEgcXVlIGV4aXN0YW4gbG9zIHZhbG9yZXMgZGUgdm9sdW1lbiBhbG1hY2VuYWRvc1xyXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlU3RvcmVkQXVkaW9TZXR0aW5ncyhkZWZhdWx0VmFsdWUgPSAxKSB7XHJcbiAgICBjb25zdCBoYXNTZnggPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShTRlhfVk9MVU1FX0tFWSkgIT09IG51bGw7XHJcbiAgICBjb25zdCBoYXNNdXNpYyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKE1VU0lDX1ZPTFVNRV9LRVkpICE9PSBudWxsO1xyXG5cclxuICAgIGlmIChoYXNTZnggJiYgaGFzTXVzaWMpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCBsZWdhY3lWb2x1bWUgPSBnZXRMZWdhY3lWb2x1bWUoZGVmYXVsdFZhbHVlKTtcclxuICAgIGNvbnN0IGluaXRpYWxWb2x1bWUgPSBsZWdhY3lWb2x1bWUgJiYgbGVnYWN5Vm9sdW1lID4gMCA/IGxlZ2FjeVZvbHVtZSA6IGRlZmF1bHRWYWx1ZTtcclxuXHJcbiAgICBpZiAoIWhhc1NmeCkgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU0ZYX1ZPTFVNRV9LRVksIFN0cmluZyhpbml0aWFsVm9sdW1lKSk7XHJcbiAgICBpZiAoIWhhc011c2ljKSBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShNVVNJQ19WT0xVTUVfS0VZLCBTdHJpbmcoaW5pdGlhbFZvbHVtZSkpO1xyXG59XHJcblxyXG4vLyBPYnRpZW5lIGVsIHZvbHVtZW4gYWxtYWNlbmFkbyBwYXJhIGxvcyBlZmVjdG9zIGRlIHNvbmlkb1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RvcmVkU2Z4Vm9sdW1lKGRlZmF1bHRWYWx1ZSA9IDEpIHtcclxuICAgIHJldHVybiBnZXRTdG9yZWRWb2x1bWVCeUtleShTRlhfVk9MVU1FX0tFWSwgTEVHQUNZX1ZPTFVNRV9LRVksIGRlZmF1bHRWYWx1ZSk7XHJcbn1cclxuXHJcbi8vIE9idGllbmUgZWwgdm9sdW1lbiBhbG1hY2VuYWRvIHBhcmEgbGEgbcO6c2ljYVxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RvcmVkTXVzaWNWb2x1bWUoZGVmYXVsdFZhbHVlID0gMSkge1xyXG4gICAgcmV0dXJuIGdldFN0b3JlZFZvbHVtZUJ5S2V5KE1VU0lDX1ZPTFVNRV9LRVksIExFR0FDWV9WT0xVTUVfS0VZLCBkZWZhdWx0VmFsdWUpO1xyXG59XHJcblxyXG4vLyBBbG1hY2VuYSBlbCB2b2x1bWVuIHBhcmEgbG9zIGVmZWN0b3MgZGUgc29uaWRvXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRTdG9yZWRTZnhWb2x1bWUodm9sdW1lKSB7XHJcbiAgICBjb25zdCB2ID0gUGhhc2VyLk1hdGguQ2xhbXAoTnVtYmVyKHZvbHVtZSksIDAsIDEpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oU0ZYX1ZPTFVNRV9LRVksIFN0cmluZyh2KSk7XHJcblxyXG4gICAgcmV0dXJuIHY7XHJcbn1cclxuXHJcbi8vIEFsbWFjZW5hIGVsIHZvbHVtZW4gcGFyYSBsYSBtw7pzaWNhXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRTdG9yZWRNdXNpY1ZvbHVtZSh2b2x1bWUpIHtcclxuICAgIGNvbnN0IHYgPSBQaGFzZXIuTWF0aC5DbGFtcChOdW1iZXIodm9sdW1lKSwgMCwgMSk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShNVVNJQ19WT0xVTUVfS0VZLCBTdHJpbmcodikpO1xyXG5cclxuICAgIHJldHVybiB2O1xyXG59XHJcbi8vLy8vLy8vL1xyXG5cclxuLy8gQXBsaWNhIGVsIHZvbHVtZW4gYWwgU291bmRNYW5hZ2VyIHkgYSBsYSBtw7pzaWNhIGdsb2JhbFxyXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlTdG9yZWRWb2x1bWUoc2NlbmUsIG9wdGlvbnMgPSB7fSkge1xyXG4gICAgbGV0IHNmeFZvbHVtZSA9IGdldFN0b3JlZFNmeFZvbHVtZSgpO1xyXG4gICAgbGV0IG11c2ljVm9sdW1lID0gZ2V0U3RvcmVkTXVzaWNWb2x1bWUoKTtcclxuXHJcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgc2Z4Vm9sdW1lID0gUGhhc2VyLk1hdGguQ2xhbXAoTnVtYmVyKG9wdGlvbnMpLCAwLCAxKTtcclxuICAgICAgICBtdXNpY1ZvbHVtZSA9IHNmeFZvbHVtZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2Z4Vm9sdW1lID0gb3B0aW9ucy5zZnhWb2x1bWUgPz8gc2Z4Vm9sdW1lO1xyXG4gICAgICAgIG11c2ljVm9sdW1lID0gb3B0aW9ucy5tdXNpY1ZvbHVtZSA/PyBtdXNpY1ZvbHVtZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNYW50ZW5lciBlbCBzb3VuZCBtYW5hZ2VyIGVuIDEgcGFyYSBxdWUgbXVzaWNhIHkgZWZlY3RvcyBzZWFuIGluZGVwZW5kaWVudGVzLlxyXG4gICAgc2NlbmUuc291bmQudm9sdW1lID0gMTtcclxuXHJcbiAgICBjb25zdCBtdXNpYyA9IHNjZW5lLmdhbWUuZ2xvYmFscy5tdXNpYztcclxuICAgIGlmIChtdXNpYyAmJiAnc2V0Vm9sdW1lJyBpbiBtdXNpYykge1xyXG4gICAgICAgIG11c2ljLnNldFZvbHVtZShtdXNpY1ZvbHVtZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vIFJlcHJvZHVjZSB1biBzb25pZG8gZGUgY2xpY2tcclxuZXhwb3J0IGZ1bmN0aW9uIHBsYXlDbGljayhzY2VuZSwga2V5ID0gJ3Nvbmlkb0NsaWNrJykge1xyXG4gICAgc2NlbmUuc291bmQucGxheShrZXksIHsgdm9sdW1lOiBnZXRTdG9yZWRTZnhWb2x1bWUoKSB9KTtcclxufVxyXG5cclxuLy8gUmVwcm9kdWNlIGxhIG3DunNpY2EgZGUgZm9uZG8gZW4gYnVjbGVcclxuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZUxvb3BpbmdNdXNpYyhzY2VuZSwgc291bmRLZXksIHsgbG9vcCA9IHRydWUgfSA9IHt9KSB7XHJcbiAgICBjb25zdCB2b2x1bWUgPSBnZXRTdG9yZWRNdXNpY1ZvbHVtZSgpO1xyXG5cclxuICAgIGxldCBtdXNpYyA9IHNjZW5lLmdhbWUuZ2xvYmFscy5tdXNpYztcclxuICAgIGlmICghbXVzaWMpIHtcclxuICAgICAgICBtdXNpYyA9IHNjZW5lLnNvdW5kLmFkZChzb3VuZEtleSwgeyBsb29wLCB2b2x1bWUgfSk7XHJcbiAgICAgICAgc2NlbmUuZ2FtZS5nbG9iYWxzLm11c2ljID0gbXVzaWM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2UgYWN0dWFsaXphIHZvbHVtZW4gc2kgZWwgdGlwbyBsbyBzb3BvcnRhXHJcbiAgICBpZiAobXVzaWMgJiYgJ3NldFZvbHVtZScgaW4gbXVzaWMpIG11c2ljLnNldFZvbHVtZSh2b2x1bWUpO1xyXG5cclxuICAgIGNvbnN0IHRyeVBsYXkgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKCFtdXNpYyB8fCAhKCdwbGF5JyBpbiBtdXNpYykpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gbm8gc2UgcmVpbmljaWEgc2kgeWEgZXN0PyBzb25hbmRvXHJcbiAgICAgICAgaWYgKCdpc1BsYXlpbmcnIGluIG11c2ljICYmIG11c2ljLmlzUGxheWluZykgcmV0dXJuO1xyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBtdXNpYy5wbGF5KCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignW0F1ZGlvLmpzXSBObyBzZSBoYSBwb2RpZG8gcmVwcm9kdWNpciB0b2Rhdj9hIGxhIG0/c2ljYS4nLCBlcnIpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gcHJpbWVybyBzZSBpbnRlbnRhIHJlcHJvZHVjaXIgbmFkYSBtw6FzIGNhcmdhclxyXG4gICAgdHJ5UGxheSgpO1xyXG5cclxuICAgIC8vIHNpbm8sIHNlIHJlaW50ZW50YSB0cmFzIGxhIHByaW1lcmEgaW50ZXJhY2Npw7NuL2NsaWNrXHJcbiAgICBzY2VuZS5pbnB1dC5vbmNlKCdwb2ludGVyZG93bicsIGFzeW5jICgpID0+IHtcclxuICAgICAgICBjb25zdCBjdHggPSBzY2VuZS5zb3VuZC5jb250ZXh0O1xyXG4gICAgICAgIGlmIChjdHggJiYgY3R4LnN0YXRlID09PSAnc3VzcGVuZGVkJykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgY3R4LnJlc3VtZSgpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIHsgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0cnlQbGF5KCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbXVzaWM7XHJcbn1cclxuIiwiaW1wb3J0IHsgcGxheUNsaWNrIH0gZnJvbSAnLi9BdWRpby5qcyc7XHJcblxyXG4vLyBDcmVhIHVuIGJvdMOzbiBiYXNlIHBhcmEgbGEgVUlcclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVVJQnV0dG9uKHNjZW5lLCB7XHJcbiAgICB4LCB5LFxyXG4gICAgbGFiZWwsXHJcbiAgICBvbkNsaWNrLFxyXG4gICAgdGV4dHVyZU5vcm1hbCA9ICdib3RvblNpblNlbGVjY2lvbmFyJyxcclxuICAgIHRleHR1cmVIb3ZlciA9ICdib3RvblNlbGVjY2lvbmFkbycsXHJcbiAgICBzY2FsZSA9IDIsXHJcbiAgICB0ZXh0U3R5bGUgPSB7fSxcclxuICAgIGNsaWNrU291bmRLZXkgPSAnc29uaWRvQ2xpY2snLFxyXG59KSB7XHJcbiAgICBjb25zdCBidXR0b24gPSBzY2VuZS5hZGQuc3ByaXRlKHgsIHksIHRleHR1cmVOb3JtYWwpXHJcbiAgICAgICAgLnNldFNjYWxlKHNjYWxlKVxyXG4gICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSk7XHJcblxyXG4gICAgY29uc3QgdGV4dCA9IHNjZW5lLmFkZC50ZXh0KHgsIHksIGxhYmVsLCB0ZXh0U3R5bGUpLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgIC8vIGV2ZW50b3MgZGVsIGJvdMOzblxyXG4gICAgY29uc3Qgc2V0Tm9ybWFsID0gKCkgPT4gYnV0dG9uLnNldFRleHR1cmUodGV4dHVyZU5vcm1hbCk7XHJcbiAgICBjb25zdCBzZXRIb3ZlciA9ICgpID0+IGJ1dHRvbi5zZXRUZXh0dXJlKHRleHR1cmVIb3Zlcik7XHJcblxyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsIHNldEhvdmVyKTtcclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcm91dCcsIHNldE5vcm1hbCk7XHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4ge1xyXG4gICAgICAgIHNldEhvdmVyKCk7XHJcbiAgICAgICAgcGxheUNsaWNrKHNjZW5lLCBjbGlja1NvdW5kS2V5KTtcclxuICAgIH0pO1xyXG4gICAgLy8gc29sbyBzZSBsYW56YSBzaSBzZSBzdWVsdGEgZW5jaW1hXHJcbiAgICBidXR0b24ub24oJ3BvaW50ZXJ1cCcsIChwb2ludGVyKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5zaWRlID0gYnV0dG9uLmdldEJvdW5kcygpLmNvbnRhaW5zKHBvaW50ZXIueCwgcG9pbnRlci55KTtcclxuICAgICAgICBpZiAoIWluc2lkZSkgeyBcclxuICAgICAgICAgICAgc2V0Tm9ybWFsKCk7IFxyXG4gICAgICAgICAgICByZXR1cm47IFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2V0SG92ZXIoKTtcclxuICAgICAgICBvbkNsaWNrPy4oKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB7IGJ1dHRvbiwgdGV4dCB9O1xyXG59XHJcblxyXG4vLyBDcmVhIHVuIGJvdMOzbiBiYXNlIGNvbiB1biBpY29ubyAoY29tbyBlbCBkZSB2b2x2ZXIgYXRyw6FzKVxyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlSWNvbkJ1dHRvbihzY2VuZSwgb3B0aW9ucykge1xyXG4gICAgY29uc3Qge1xyXG4gICAgICAgIHgsIHksXHJcbiAgICAgICAgdGV4dHVyZSxcclxuICAgICAgICBvbkNsaWNrLFxyXG4gICAgICAgIHNjYWxlID0gMSxcclxuICAgICAgICBob3ZlclNjYWxlID0gMS4xLFxyXG4gICAgICAgIGNsaWNrU291bmRLZXkgPSAnc29uaWRvQ2xpY2snLFxyXG4gICAgfSA9IG9wdGlvbnM7XHJcblxyXG4gICAgY29uc3QgYnV0dG9uID0gc2NlbmUuYWRkXHJcbiAgICAgICAgLnNwcml0ZSh4LCB5LCB0ZXh0dXJlKVxyXG4gICAgICAgIC5zZXRTY2FsZShzY2FsZSlcclxuICAgICAgICAuc2V0SW50ZXJhY3RpdmUoeyB1c2VIYW5kQ3Vyc29yOiB0cnVlIH0pO1xyXG5cclxuICAgIC8vIGV2ZW50b3MgZGVsIGJvdMOzblxyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJ1dHRvbi5zZXRTY2FsZShzY2FsZSAqIGhvdmVyU2NhbGUpKTtcclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcm91dCcsICgpID0+IGJ1dHRvbi5zZXRTY2FsZShzY2FsZSkpO1xyXG4gICAgYnV0dG9uLm9uKCdwb2ludGVyZG93bicsICgpID0+IHtcclxuICAgICAgICBwbGF5Q2xpY2soc2NlbmUsIGNsaWNrU291bmRLZXkpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBzb2xvIHNlIGxhbnphIHNpIHNlIHN1ZWx0YSBlbmNpbWFcclxuICAgIGJ1dHRvbi5vbigncG9pbnRlcnVwJywgKHBvaW50ZXIpID0+IHtcclxuICAgICAgICBjb25zdCBpbnNpZGUgPSBidXR0b24uZ2V0Qm91bmRzKCkuY29udGFpbnMocG9pbnRlci54LCBwb2ludGVyLnkpO1xyXG4gICAgICAgIGlmICghaW5zaWRlKSByZXR1cm47XHJcbiAgICAgICAgb25DbGljaygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIGJ1dHRvbjtcclxufVxyXG4iLCIvLyBQYW50YWxsYSBkZWwgTWVuw7ogUHJpbmNpcGFsXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY3JlYXRlVUlCdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcclxuaW1wb3J0IHsgZW5zdXJlTG9vcGluZ011c2ljIH0gZnJvbSAnLi4vVUkvQXVkaW8uanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1lbnVfU2NlbmUgZXh0ZW5kcyBQaGFzZXIuU2NlbmUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ01lbnVfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIGJvdG9uZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfR19TRUxFQ0NJT05BRE8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfRy5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvTWVudVByaW5jaXBhbCcsICdBU1NFVFMvRk9ORE9TL01FTlVfUFJJTkNJUEFMLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBsb2dvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsb2dvRW1wcmVzYScsICdBU1NFVFMvTE9HTy9sb2dvX2VtcHJlc2EucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIGF1ZGlvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9HZW5lcmFsJywgJ0FTU0VUUy9TT05JRE8vU09OSURPMS5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIG3DunNpY2EgZGUgZm9uZG9cclxuICAgICAgICBlbnN1cmVMb29waW5nTXVzaWModGhpcywgJ3Nvbmlkb0dlbmVyYWwnLCB7IGxvb3A6IHRydWUgfSk7XHJcblxyXG4gICAgICAgIC8vIGVzdGlsbyBiYXNlIGRlbCB0ZXh0b1xyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHM/LmRlZmF1bHRUZXh0U3R5bGUgPz8ge1xyXG4gICAgICAgICAgICBmb250RmFtaWx5OiAnQXJpYWwnLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmYnXHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBsYXlvdXRcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcclxuICAgICAgICBjb25zdCByaWdodEhhbGZYID0gY2VudGVyWCArIChjZW50ZXJYIC8gMik7XHJcblxyXG4gICAgICAgIC8vIGZvbmRvIGFqdXN0YWRvIGFsIGNhbnZhc1xyXG4gICAgICAgIGNvbnN0IGJhY2tncm91bmQgPSB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG9NZW51UHJpbmNpcGFsJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpO1xyXG4gICAgICAgIGJhY2tncm91bmQuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gdMOtdHVsbyBkZWwganVlZ29cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KHJpZ2h0SGFsZlgsIDEwMCwgJ1ZvbGxleSBDbGFzaCcsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8vLyBCT1RPTkVTIC8vLy9cclxuICAgICAgICBjb25zdCBmaXJzdEJ1dHRvblkgPSBoZWlnaHQgLyAyIC0gNjA7XHJcbiAgICAgICAgY29uc3QgYnV0dG9uU3BhY2luZyA9IDcwO1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvblRleHRTdHlsZSA9IHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMjBweCcsIGNvbG9yOiAnIzAwMDAwMCcgfTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIEp1Z2FyXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiByaWdodEhhbGZYLFxyXG4gICAgICAgICAgICB5OiBmaXJzdEJ1dHRvblksXHJcbiAgICAgICAgICAgIGxhYmVsOiAnSnVnYXInLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNb2RlR2FtZV9TY2VuZScpLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIENvbmZpZ3VyYWNpw7NuXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiByaWdodEhhbGZYLFxyXG4gICAgICAgICAgICB5OiBmaXJzdEJ1dHRvblkgKyBidXR0b25TcGFjaW5nLFxyXG4gICAgICAgICAgICBsYWJlbDogJ0NvbmZpZ3VyYWNpw7NuJyxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnQ29uZmlndXJhdGlvbl9TY2VuZScpLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIENyw6lkaXRvc1xyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogcmlnaHRIYWxmWCxcclxuICAgICAgICAgICAgeTogZmlyc3RCdXR0b25ZICsgYnV0dG9uU3BhY2luZyAqIDIsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnQ3LDqWRpdG9zJyxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnQ3JlZGl0c19TY2VuZScpLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIGRlIGNlcnJhciBzZXNpw7NuXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAtIDEwMCxcclxuICAgICAgICAgICAgeTogNTAsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnQ2VycmFyIFNlc2nDs24nLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7IHRoaXMuaGFuZGxlTG9nb3V0KCkgfSxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8vLy8vLy8vXHJcblxyXG4gICAgICAgIC8vIGxvZ28gZGUgbGEgZW1wcmVzYVxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKHRoaXMuc2NhbGUud2lkdGggLSAyMCwgdGhpcy5zY2FsZS5oZWlnaHQgLSAyMCwgJ2xvZ29FbXByZXNhJylcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuNSlcclxuICAgICAgICAgICAgLnNldE9yaWdpbigxLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBoYW5kbGVMb2dvdXQoKSB7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSB0aGlzLnJlZ2lzdHJ5LmdldCgndXNlcm5hbWUnKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBBdmlzYXIgYWwgc2Vydmlkb3IgcGFyYSBxdWUgZGVqZSBsaWJyZSBlbCBwdWVzdG8gZGUgSG9zdFxyXG4gICAgICAgIGF3YWl0IGZldGNoKCcvYXBpL2xvZ291dCcsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVzZXJuYW1lIH0pXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIExpbXBpYXIgbG9jYWxcclxuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndm9sZXlfdXNlcm5hbWUnKTtcclxuICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndm9sZXlfc2Vzc2lvbl90b2tlbicpO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIENsYXNlIGRlIGxhIGVudGlkYWQgXCJwZXJzb25hamVcIiwgc2UgdGllbmUgZW4gY3VlbnRhIHF1ZSBzb24gMyBwZXJzb25hamVzIGRpc3RpbnRvc1xyXG5cclxuY29uc3QgUE9XRVJVUF9EVVJBVElPTl9NUyA9IHtcclxuICB2ZWxvY2lkYWQ6IDQwMDAsXHJcbiAgcmFsZW50aXphcjogMzUwMCxcclxuICBwYXJhbGl6YXI6IDIwMDAsXHJcbiAgcG9yMjogNDAwMCxcclxuICBwb3IzOiAzNTAwLFxyXG59O1xyXG5cclxuY29uc3QgU1BFRURfTVVMVCA9IHtcclxuICB2ZWxvY2lkYWQ6IDEuNSxcclxuICByYWxlbnRpemFyOiAwLjUsXHJcbn07XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWVyIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzY2VuZSwgaWQsIHgsIHksIGNoYXJhY3RlclR5cGUpIHtcclxuICAgICAgICAvLyBJTklDSUFMSVpBQ0nDk05cclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkOyAgICAgICAgICAgICAgICAgICAgICAgLy8gaWRlbnRpZmljYWRvciBkZWwganVnYWRvciAoUDEsIFAyKVxyXG4gICAgICAgIHRoaXMuY2hhcmFjdGVyVHlwZSA9IGNoYXJhY3RlclR5cGU7IC8vIGluZGljYSBxdcOpIHBlcnNvbmFqZSBzZSBoYSBlbGVnaWRvXHJcblxyXG4gICAgICAgIC8vIHZlbG9jaWRhZCBkZSBtb3ZpbWllbnRvXHJcbiAgICAgICAgdGhpcy5iYXNlTW92ZVNwZWVkID0gMjUwO1xyXG4gICAgICAgIHRoaXMubW92ZVNwZWVkID0gdGhpcy5iYXNlTW92ZVNwZWVkO1xyXG5cclxuICAgICAgICB0aGlzLmp1bXBTcGVlZCA9IDI3NTsgICAvLyBmdWVyemEgZGUgc2FsdG9cclxuXHJcbiAgICAgICAgdGhpcy5hY3RpdmVQb3dlclVwcyA9IHt9OyAgIC8vIHBvd2VydXBzIGFjdGl2b3NcclxuXHJcbiAgICAgICAgLy8gZXN0YWRvcyBkZSBwb3dlci11cHNcclxuICAgICAgICB0aGlzLmlzUGFyYWx5emVkID0gZmFsc2U7ICAgICAgIC8vIHBhcmEgZWwgcG93ZXIgdXAgXCJwYXJhbGl6YXJcIlxyXG4gICAgICAgIHRoaXMucGFyYWx5c2lzVHdlZW4gPSBudWxsOyAgICAgLy8gYWwgcXVlZGFyc2UgcGFyYWxpemFkbyAtPiByb2pvXHJcbiAgICAgICAgdGhpcy5zcGVlZEVmZmVjdEFjdGl2ZSA9IGZhbHNlOyAvLyB2ZWxvY2lkYWQgLT4gY2lhbi92ZXJkZVxyXG4gICAgICAgIHRoaXMuc2xvd0VmZmVjdEFjdGl2ZSA9IGZhbHNlOyAgLy8gcmFsZW50aXphZG8gLT4gYXp1bFxyXG5cclxuICAgICAgICB0aGlzLnNjb3JlTXVsdGlwbGllciA9IDE7ICAgICAgIC8vIHBhcmEgcG9yMiAvIHBvcjNcclxuICAgICAgICAvLyB0ZXh0byBmbG90YW50ZSBwYXJhIG1vc3RyYXIgeDIgLyB4M1xyXG4gICAgICAgIHRoaXMubXVsdGlwbGllclRleHQgPSB0aGlzLnNjZW5lLmFkZC50ZXh0KHgsIHkgLSA1MCwgJycsIHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogNFxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41LCAxKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoMjApXHJcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnBvd2VyVXBJbnZlbnRvcnkgPSBbXTsgLy8gbcOheGltbyAyXHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IGZhbHNlOyAgIC8vIGVzdGFkbyBkZSByZWNlcGNpw7NuXHJcblxyXG4gICAgICAgIC8vIGzDrW1pdGVzIGRlIG1vdmltaWVudG8gcGVyc29uYWxpemFkb3NcclxuICAgICAgICB0aGlzLmJvdW5kc0xlZnQgPSAwO1xyXG4gICAgICAgIHRoaXMuYm91bmRzUmlnaHQgPSA5NjA7XHJcbiAgICAgICAgdGhpcy5ib3VuZHNUb3AgPSAwO1xyXG4gICAgICAgIHRoaXMuYm91bmRzQm90dG9tID0gNTQwO1xyXG5cclxuICAgICAgICAvLyBjb25maWd1cmFjacOzbiBkZSBsb3Mgc3ByaXRlcyB5IGxhcyBhbmltYWNpb25lcyBzZWfDum4gZWwgcGVyc29uYWplIGVsZWdpZG9cclxuICAgICAgICBjb25zdCBDSEFSQUNURVJfQ09ORklHID0ge1xyXG4gICAgICAgICAgICAvLyBlcXVpbGlicmFkbyB5IHNpbXDDoXRpY29cclxuICAgICAgICAgICAgY2hhcmFjdGVyQToge1xyXG4gICAgICAgICAgICAgICAgdGV4dHVyZUtleTogJ2NoYXJBX21vdmUnLFxyXG4gICAgICAgICAgICAgICAgc3RhcnRGcmFtZTogMCxcclxuICAgICAgICAgICAgICAgIGlkbGVMZWZ0QW5pbTogJ2NoYXJBX2lkbGVMZWZ0JyxcclxuICAgICAgICAgICAgICAgIGlkbGVSaWdodEFuaW06ICdjaGFyQV9pZGxlUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgcnVuTGVmdEFuaW06ICdjaGFyQV9ydW5MZWZ0JyxcclxuICAgICAgICAgICAgICAgIHJ1blJpZ2h0QW5pbTogJ2NoYXJBX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIGp1bXBMZWZ0QW5pbTogJ2NoYXJBX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgICAgIGp1bXBSaWdodEFuaW06ICdjaGFyQV9qdW1wUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZUxlZnRBbmltOiAnY2hhckFfcmVjZWl2ZUxlZnQnLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZVJpZ2h0QW5pbTogJ2NoYXJBX3JlY2VpdmVSaWdodCdcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8gcsOhcGlkbyB5IGNvbXBldGl0aXZvXHJcbiAgICAgICAgICAgIGNoYXJhY3RlckI6IHtcclxuICAgICAgICAgICAgICAgIHRleHR1cmVLZXk6ICdjaGFyQl9tb3ZlJyxcclxuICAgICAgICAgICAgICAgIHN0YXJ0RnJhbWU6IDAsXHJcbiAgICAgICAgICAgICAgICBpZGxlTGVmdEFuaW06ICdjaGFyQl9pZGxlTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBpZGxlUmlnaHRBbmltOiAnY2hhckJfaWRsZVJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHJ1bkxlZnRBbmltOiAnY2hhckJfcnVuTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBydW5SaWdodEFuaW06ICdjaGFyQl9ydW5SaWdodCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wTGVmdEFuaW06ICdjaGFyQl9qdW1wTGVmdCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wUmlnaHRBbmltOiAnY2hhckJfanVtcFJpZ2h0JyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVMZWZ0QW5pbTogJ2NoYXJCX3JlY2VpdmVMZWZ0JyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVSaWdodEFuaW06ICdjaGFyQl9yZWNlaXZlUmlnaHQnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGRpdmVydGlkbyB5IGFsZ28gZGlzdHJhw61kb1xyXG4gICAgICAgICAgICBjaGFyYWN0ZXJDOiB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0dXJlS2V5OiAnY2hhckNfbW92ZScsXHJcbiAgICAgICAgICAgICAgICBzdGFydEZyYW1lOiAwLFxyXG4gICAgICAgICAgICAgICAgaWRsZUxlZnRBbmltOiAnY2hhckNfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICAgICAgaWRsZVJpZ2h0QW5pbTogJ2NoYXJDX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgICAgICBydW5MZWZ0QW5pbTogJ2NoYXJDX3J1bkxlZnQnLFxyXG4gICAgICAgICAgICAgICAgcnVuUmlnaHRBbmltOiAnY2hhckNfcnVuUmlnaHQnLFxyXG4gICAgICAgICAgICAgICAganVtcExlZnRBbmltOiAnY2hhckNfanVtcExlZnQnLFxyXG4gICAgICAgICAgICAgICAganVtcFJpZ2h0QW5pbTogJ2NoYXJDX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlTGVmdEFuaW06ICdjaGFyQ19yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlUmlnaHRBbmltOiAnY2hhckNfcmVjZWl2ZVJpZ2h0J1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gc2kgdmllbmUgdW4gdGlwbyBkZSBwZXJzb25hamUgaW52w6FsaWRvLCBzZSB1c2EgY2hhcmFjdGVyQSBwb3IgZGVmZWN0b1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gQ0hBUkFDVEVSX0NPTkZJR1tjaGFyYWN0ZXJUeXBlXSB8fCBDSEFSQUNURVJfQ09ORklHLmNoYXJhY3RlckE7XHJcblxyXG4gICAgICAgIC8vIHNlIGNyZWEgZWwgc3ByaXRlIGbDrXNpY28gZGVsIGp1Z2Fkb3JcclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuc2NlbmUucGh5c2ljcy5hZGQuc3ByaXRlKFxyXG4gICAgICAgICAgICB4LFxyXG4gICAgICAgICAgICB5LFxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy50ZXh0dXJlS2V5LFxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5zdGFydEZyYW1lXHJcbiAgICAgICAgKTtcclxuICAgICAgICAvLyBzZSBoYWNlIHVuIHBvY28gbcOhcyBncmFuZGVcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRTY2FsZSgyLjUpO1xyXG4gICAgICAgIC8vIHNlIGFqdXN0YSBsYSBoaXRib3ggYWwgbnVldm8gdGFtYcOxbyBwYXJhIGxhcyBjb2xpc2lvbmVzLCBzZSByZWR1Y2VuXHJcbiAgICAgICAgLy90aGlzLnNwcml0ZS5ib2R5LnNldFNpemUodGhpcy5zcHJpdGUud2lkdGgsIHRoaXMuc3ByaXRlLmhlaWdodCwgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuYm9keS5zZXRTaXplKHRoaXMuc3ByaXRlLndpZHRoICogMC45LCB0aGlzLnNwcml0ZS5oZWlnaHQgKiAwLjksIHRydWUpO1xyXG5cclxuICAgICAgICAvLyBzZSBndWFyZGEgdW5hIHJlZmVyZW5jaWEgaGFjaWEgUGxheWVyIGRlbnRybyBkZWwgcHJvcGlvIHNwcml0ZVxyXG4gICAgICAgIC8vIChlcyDDunRpbCBzaSBlbiBjb2xpc2lvbmVzIHNlIHF1aWVyZSBhY2NlZGVyIGEgbGEgbMOzZ2ljYSlcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXREYXRhKCdwbGF5ZXInLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gcGFyYSBjb250cm9sYXIgZGlyZWNjacOzbiBhY3R1YWxcclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcblxyXG4gICAgICAgIC8vIGVzdGFkbyBzaW1wbGU6IGVuIGVsIGFpcmUgbyBub1xyXG4gICAgICAgIHRoaXMuaXNPbkdyb3VuZCA9IGZhbHNlO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIGZsYWcgcGFyYSBzYWJlciBzaSBlc3TDoSBlbiBhbmltYWNpw7NuIGRlIHNhbHRvXHJcbiAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSBmYWxzZTtcclxuICAgICAgICBcclxuICAgICAgICAvLyB0aW1lc3RhbXAgcGFyYSBkZXRlY3RhciBzaSBpc0p1bXBpbmcgc2UgcXVlZGEgc3R1Y2sgKHRpbWVvdXQgZGUgMSBzZWd1bmRvKVxyXG4gICAgICAgIHRoaXMuanVtcFN0YXJ0VGltZSA9IDA7XHJcblxyXG4gICAgICAgIC8vIGN1YW5kbyBzZSB0ZXJtaW5lIGxhIGFuaW1hY2nDs24gZGUgcmVjaWJpciwgc2UgZGVqYSBkZSBcImVzdGFyIHJlY2liaWVuZG9cIlxyXG4gICAgICAgIHRoaXMuc3ByaXRlLm9uKCdhbmltYXRpb25jb21wbGV0ZScsIChhbmltKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICAgICAgYW5pbS5rZXkgPT09IHRoaXMuY29uZmlnLnJlY2VpdmVMZWZ0QW5pbSB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGFuaW0ua2V5ID09PSB0aGlzLmNvbmZpZy5yZWNlaXZlUmlnaHRBbmltXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gZWwgc2FsdG8gdGVybWluYSBzZWfDum4gbGEgZsOtc2ljYSArIHVwZGF0ZSgpLCBubyBwb3IgbGEgYW5pbWFjacOzbi5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEFuaW1hdGlvbiBjb21wbGV0ZSBoYW5kbGVyIGVycm9yIGZvciAke2FuaW0ua2V5fTpgLCBlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGVscGVyIHBhcmEgdmVyaWZpY2FyIHNpIGVzdMOhIGVuIGVsIHN1ZWxvIGRlIGZvcm1hIGZpYWJsZVxyXG4gICAgaXNHcm91bmRlZCgpIHtcclxuICAgICAgICBjb25zdCBib2R5ID0gdGhpcy5zcHJpdGUuYm9keTtcclxuICAgICAgICBpZiAoIWJvZHkpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gYmxvY2tlZC5kb3duIOKGkiBjb2xpc2lvbmVzIGNvbiBsw61taXRlcyBkZWwgbXVuZG9cclxuICAgICAgICAvLyB0b3VjaGluZy5kb3duIOKGkiBjb2xpc2lvbmVzIGNvbiBvdHJvcyBjdWVycG9zXHJcbiAgICAgICAgcmV0dXJuIGJvZHkuYmxvY2tlZC5kb3duIHx8IGJvZHkudG91Y2hpbmcuZG93bjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb21wcnVlYmEgc2kgbG9zIHBpZXMgZGVsIGp1Z2Fkb3IgZXN0w6FuIGNlcmNhIGRlbCBzdWVsb1xyXG4gICAgaXNOZWFyR3JvdW5kKHRocmVzaG9sZCA9IDEyKSB7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IHRoaXMuc3ByaXRlLmJvZHk7XHJcbiAgICAgICAgaWYgKCFib2R5KSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNjZW5lLmdyb3VuZFkgIT09ICdudW1iZXInKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHBhcnRlIGluZmVyaW9yIGRlbCBib2R5IChubyBkZWwgc3ByaXRlIGVzY2FsYWRvKVxyXG4gICAgICAgIGNvbnN0IGZlZXRZID0gYm9keS55ICsgYm9keS5oZWlnaHQ7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGZlZXRZIC0gdGhpcy5zY2VuZS5ncm91bmRZKSA8PSB0aHJlc2hvbGQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8vLyBBTklNQUNJT05FUyAvLy8vXHJcbiAgICAvLyBNb3ZpbWllbnRvIGRlbCBwZXJzb25hamUgaGFjaWEgbGEgaXpxdWllcmRhXHJcbiAgICBtb3ZlTGVmdCgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCB8fCB0aGlzLmlzUmVjZWl2aW5nKSByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgtdGhpcy5tb3ZlU3BlZWQpO1xyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gJ2xlZnQnO1xyXG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5ydW5MZWZ0QW5pbSk7XHJcbiAgICB9XHJcbiAgICAvLyBNb3ZpbWllbnRvIGRlbCBwZXJzb25hamUgaGFjaWEgbGEgZGVyZWNoYVxyXG4gICAgbW92ZVJpZ2h0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkIHx8IHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKHRoaXMubW92ZVNwZWVkKTtcclxuICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLnJ1blJpZ2h0QW5pbSk7XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIC8vIFNhbHRvL3JlbWF0ZSBkZWwgcGVyc29uYWplIGhhY2lhIGxhIGl6cXVpZXJkYVxyXG4gICAganVtcExlZnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNHcm91bmRlZCgpIHx8IHRoaXMuaXNOZWFyR3JvdW5kKDIwKSkge1xyXG4gICAgICAgICAgICAvLyBwb3Igc2kgdW5hIHJlY2VwY2nDs24gc2UgcXVlZMOzIGEgbWVkaWFzLCBzZSBjYW5jZWxhXHJcbiAgICAgICAgICAgIHRoaXMuaXNSZWNlaXZpbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5qdW1wU3RhcnRUaW1lID0gdGhpcy5zY2VuZS50aW1lLm5vdztcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlZKC10aGlzLmp1bXBTcGVlZCk7XHJcbiAgICAgICAgICAgIHRoaXMuZmFjaW5nID0gJ2xlZnQnO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcuanVtcExlZnRBbmltKTtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZT8ucGxheVNmeD8uKHRoaXMuc2NlbmU/LnNmeD8uanVtcCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gU2FsdG8vcmVtYXRlIGRlbCBwZXJzb25hamUgaGFjaWEgbGEgZGVyZWNoYVxyXG4gICAganVtcFJpZ2h0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkKSByZXR1cm47XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzR3JvdW5kZWQoKSB8fCB0aGlzLmlzTmVhckdyb3VuZCgyMCkpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1JlY2VpdmluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmp1bXBTdGFydFRpbWUgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVkoLXRoaXMuanVtcFNwZWVkKTtcclxuICAgICAgICAgICAgdGhpcy5mYWNpbmcgPSAncmlnaHQnO1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlBbmltYXRpb24odGhpcy5jb25maWcuanVtcFJpZ2h0QW5pbSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2NlbmU/LnBsYXlTZng/Lih0aGlzLnNjZW5lPy5zZng/Lmp1bXApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBSZWNlcGNpw7NuIGRlbCBwZXJzb25hamUgcG9yIGxhIGl6cXVpZXJkYVxyXG4gICAgcmVjZWl2ZUxlZnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy5pc1JlY2VpdmluZykgcmV0dXJuOyAvLyBubyBzZSByZWluaWNpYSBzaSB5YSBlc3TDoSByZWNpYmllbmRvIFxyXG5cclxuICAgICAgICAvLyBzaSBlc3TDoSB0b2NhbmRvIGVsIHN1ZWxvLCByZWNpYmUgbGEgcGVsb3RhXHJcbiAgICAgICAgaWYgKHRoaXMuaXNHcm91bmRlZCgpIHx8IHRoaXMuaXNOZWFyR3JvdW5kKDIwKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9ICdsZWZ0JztcclxuICAgICAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLnJlY2VpdmVMZWZ0QW5pbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gUmVjZXBjacOzbiBkZWwgcGVyc29uYWplIHBvciBsYSBkZXJlY2hhXHJcbiAgICByZWNlaXZlUmlnaHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNQYXJhbHl6ZWQpIHJldHVybjtcclxuICAgICAgICBpZiAodGhpcy5pc1JlY2VpdmluZykgcmV0dXJuOyAvLyBubyBzZSByZWluaWNpYSBzaSB5YSBlc3TDoSByZWNpYmllbmRvIFxyXG5cclxuICAgICAgICAvLyBzaSBlc3TDoSB0b2NhbmRvIGVsIHN1ZWxvLCByZWNpYmUgbGEgcGVsb3RhXHJcbiAgICAgICAgaWYgKHRoaXMuaXNHcm91bmRlZCgpIHx8IHRoaXMuaXNOZWFyR3JvdW5kKDIwKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB0aGlzLmZhY2luZyA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5yZWNlaXZlUmlnaHRBbmltKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUGVyc29uYWplIGlkbGUgaXpkYVxyXG4gICAgaWRsZUxlZnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gc2llbXByZSBkZXRlbmVyIGxhIHZlbG9jaWRhZCBob3Jpem9udGFsIGFsIGVudHJhciBlbiBpZGxlXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gJ2xlZnQnO1xyXG4gICAgICAgIC8vIHJlcHJvZHVjaXIgbGEgYW5pbWFjacOzbiBkZSBpZGxlXHJcbiAgICAgICAgdGhpcy5wbGF5QW5pbWF0aW9uKHRoaXMuY29uZmlnLmlkbGVMZWZ0QW5pbSk7XHJcbiAgICB9XHJcbiAgICAvLyBQZXJzb25hamUgaWRsZSBkY2hhXHJcbiAgICBpZGxlUmlnaHQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSZWNlaXZpbmcpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gc2llbXByZSBkZXRlbmVyIGxhIHZlbG9jaWRhZCBob3Jpem9udGFsIGFsIGVudHJhciBlbiBpZGxlXHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgIHRoaXMuZmFjaW5nID0gJ3JpZ2h0JztcclxuICAgICAgICAvLyByZXByb2R1Y2lyIGxhIGFuaW1hY2nDs24gZGUgaWRsZVxyXG4gICAgICAgIHRoaXMucGxheUFuaW1hdGlvbih0aGlzLmNvbmZpZy5pZGxlUmlnaHRBbmltKTtcclxuICAgIH1cclxuICAgIC8vLy8vLy8vXHJcblxyXG4gICAgLy8gRXN0YWJsZWNlciBsb3MgbMOtbWl0ZXMgZGUgbW92aW1pZW50byBkZWwganVnYWRvciAocGFyYSBjb25maW5hciBhIGxhIGNhbmNoYSlcclxuICAgIHNldEJvdW5kcyhsZWZ0LCByaWdodCwgdG9wLCBib3R0b20pIHtcclxuICAgICAgICB0aGlzLmJvdW5kc0xlZnQgPSBsZWZ0O1xyXG4gICAgICAgIHRoaXMuYm91bmRzUmlnaHQgPSByaWdodDtcclxuICAgICAgICB0aGlzLmJvdW5kc1RvcCA9IHRvcDtcclxuICAgICAgICB0aGlzLmJvdW5kc0JvdHRvbSA9IGJvdHRvbTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBNYW50ZW5lciBlbCBqdWdhZG9yIGRlbnRybyBkZSBsb3MgbMOtbWl0ZXNcclxuICAgIGNsYW1wV2l0aGluQm91bmRzKCkge1xyXG4gICAgICAgIGNvbnN0IGhhbGZXaWR0aCA9IHRoaXMuc3ByaXRlLndpZHRoIC8gMjtcclxuICAgICAgICAvLyBsaW1pdGFyIHBvc2ljacOzbiBob3Jpem9udGFsIChYKVxyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS54IC0gaGFsZldpZHRoIDwgdGhpcy5ib3VuZHNMZWZ0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnggPSB0aGlzLmJvdW5kc0xlZnQgKyBoYWxmV2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlLnggKyBoYWxmV2lkdGggPiB0aGlzLmJvdW5kc1JpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnggPSB0aGlzLmJvdW5kc1JpZ2h0IC0gaGFsZldpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eVgoMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIE1vdmVyIGVsIGp1Z2Fkb3IgYSB1bmEgcG9zaWNpw7NuIGNvbmNyZXRhICh5IGRldGVuZXJsbylcclxuICAgIC8vIChzZSBsbGFtYSBhbCBjYW1iaWFyIGRlIHNldHMpXHJcbiAgICBzZXRQb3NpdGlvbih4LCB5KSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNwcml0ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRQb3NpdGlvbih4LCB5KTtcclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eSgwLCAwKTsgLy8gcG9yIHNpIHZlbsOtYSBjb24gdmVsb2NpZGFkXHJcblxyXG4gICAgICAgIC8vIGFjdHVhbGl6YXIgdGFtYmnDqW4gbGEgcG9zaWNpw7NuIGRlbCB0ZXh0byB4Mi94M1xyXG4gICAgICAgIHRoaXMudXBkYXRlTXVsdGlwbGllclRleHRQb3NpdGlvbigpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICB1cGRhdGVNdWx0aXBsaWVyVGV4dFBvc2l0aW9uKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5tdWx0aXBsaWVyVGV4dCB8fCAhdGhpcy5zcHJpdGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8gYWx0dXJhIOKAnHZpc3VhbOKAnSBkZWwgc3ByaXRlIHBhcmEgY29sb2NhciBlbCB0ZXh0byBlbmNpbWEgZGUgbGEgY2FiZXphXHJcbiAgICAgICAgY29uc3QgZGlzcGxheUggPSB0aGlzLnNwcml0ZS5kaXNwbGF5SGVpZ2h0IHx8IHRoaXMuc3ByaXRlLmhlaWdodCB8fCA0MDtcclxuICAgICAgICBjb25zdCBvZmZzZXRZID0gZGlzcGxheUggKiAwLjY7IC8vIGFqdXN0YSBzaSBxdWllcmVzIG3DoXMgYXJyaWJhL2FiYWpvXHJcblxyXG4gICAgICAgIHRoaXMubXVsdGlwbGllclRleHQuc2V0UG9zaXRpb24oXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLngsXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnkgLSBvZmZzZXRZXHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBSZXByb2R1Y2UgdW5hIGFuaW1hY2nDs24gc2kgZXhpc3RlIChzb2xvIHNpIG5vIGVzdMOhIHlhIHJlcHJvZHVjacOpbmRvc2UpXHJcbiAgICBwbGF5QW5pbWF0aW9uKGFuaW1LZXkpIHtcclxuICAgICAgICBpZiAoIWFuaW1LZXkpIHJldHVybjtcclxuICAgICAgICBpZiAoIXRoaXMuc3ByaXRlLmFuaW1zKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIHNpIGVzdGFtb3MgZW4gc2FsdG8sIGlnbm9yYXIgY3VhbHF1aWVyIGFuaW1hY2nDs24gcXVlIG5vIHNlYSBkZSBzYWx0b1xyXG4gICAgICAgIGlmIChcclxuICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgJiZcclxuICAgICAgICAgICAgYW5pbUtleSAhPT0gdGhpcy5jb25maWcuanVtcExlZnRBbmltICYmXHJcbiAgICAgICAgICAgIGFuaW1LZXkgIT09IHRoaXMuY29uZmlnLmp1bXBSaWdodEFuaW1cclxuICAgICAgICApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY3VycmVudEFuaW0gPSB0aGlzLnNwcml0ZS5hbmltcy5jdXJyZW50QW5pbTtcclxuICAgICAgICBpZiAodGhpcy5zcHJpdGUuYW5pbXMuaXNQbGF5aW5nICYmIGN1cnJlbnRBbmltICYmIGN1cnJlbnRBbmltLmtleSA9PT0gYW5pbUtleSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5hbmltcy5wbGF5KGFuaW1LZXksIHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdHVhbGl6YXIgZmxhZ3MgY29tbyBpc09uR3JvdW5kIChzZSBsbGFtYSBhIGVzdG8gZGVzZGUgbGEgZXNjZW5hLCBlbiBjYWRhIGZyYW1lKVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS5ib2R5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHdhc09uR3JvdW5kID0gdGhpcy5pc09uR3JvdW5kO1xyXG4gICAgICAgICAgICB0aGlzLmlzT25Hcm91bmQgPSB0aGlzLmlzR3JvdW5kZWQoKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRBbmltID0gdGhpcy5zcHJpdGUuYW5pbXMuY3VycmVudEFuaW07XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRLZXkgPSBjdXJyZW50QW5pbSA/IGN1cnJlbnRBbmltLmtleSA6IG51bGw7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc1BhcmFseXplZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHlYKDApOyAvLyBwb3Igc2kgYWNhc29cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gZmFpbHNhZmUgcmVjZXBjacOzbjogc2kgZWwgZmxhZyBkaWNlIFwicmVjaWJpZW5kb1wiIHBlcm8gbGEgYW5pbWFjacOzbiBubyBsbyBlc1xyXG4gICAgICAgICAgICBpZiAoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50S2V5ICE9PSB0aGlzLmNvbmZpZy5yZWNlaXZlTGVmdEFuaW0gJiZcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRLZXkgIT09IHRoaXMuY29uZmlnLnJlY2VpdmVSaWdodEFuaW1cclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzUmVjZWl2aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGZhaWxzYWZlIHNhbHRvOiBzaSBpc0p1bXBpbmcgZXMgdHJ1ZSBwZXJvIGxhIGFuaW1hY2nDs24gYWN0dWFsIE5PIGVzIGRlIHNhbHRvXHJcbiAgICAgICAgICAgIC8vICh5IGhheSBhbmltYWNpw7NuKSwgc2UgYXN1bWUgcXVlIHRlcm1pbsOzXHJcbiAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50S2V5ICYmXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50S2V5ICE9PSB0aGlzLmNvbmZpZy5qdW1wTGVmdEFuaW0gJiZcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRLZXkgIT09IHRoaXMuY29uZmlnLmp1bXBSaWdodEFuaW1cclxuICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzSnVtcGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB0aW1lb3V0IGRlIHNhbHRvIHBvciBzZWd1cmlkYWRcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNKdW1waW5nICYmICh0aGlzLnNjZW5lLnRpbWUubm93IC0gdGhpcy5qdW1wU3RhcnRUaW1lID4gMTUwMCkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNKdW1waW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGF0ZXJyaXphamUgcmVhbFxyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0p1bXBpbmcgJiYgIXdhc09uR3JvdW5kICYmIHRoaXMuaXNPbkdyb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0p1bXBpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZhY2luZyA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZGxlTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkbGVSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2xhbXBXaXRoaW5Cb3VuZHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVNdWx0aXBsaWVyVGV4dFBvc2l0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXNvIGRlIGxvcyBwb3dlci11cHNcclxuICAgIGFwcGx5UG93ZXJVcCh0eXBlKSB7XHJcbiAgICAgICAgLy8gaW52ZW50YXJpbyBtw6F4aW1vIGRlIDJcclxuICAgICAgICBpZiAodGhpcy5wb3dlclVwSW52ZW50b3J5Lmxlbmd0aCA+PSAyKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMucG93ZXJVcEludmVudG9yeS5wdXNoKHR5cGUpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHVzZU5leHRQb3dlclVwKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnBvd2VyVXBJbnZlbnRvcnkubGVuZ3RoID09PSAwKSByZXR1cm47XHJcblxyXG4gICAgICAgIGNvbnN0IHR5cGUgPSB0aGlzLnBvd2VyVXBJbnZlbnRvcnkuc2hpZnQoKTtcclxuICAgICAgICB0aGlzLmFjdGl2YXRlUG93ZXJVcCh0eXBlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBY3RpdmEgZWwgZWZlY3RvIGRlbCBwb3dlci11cFxyXG4gICAgYWN0aXZhdGVQb3dlclVwKHR5cGUpIHtcclxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgY2FzZSAndmVsb2NpZGFkJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlPclJlZnJlc2hUaW1lZEVmZmVjdCgndmVsb2NpZGFkJywgUE9XRVJVUF9EVVJBVElPTl9NUy52ZWxvY2lkYWQpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3JhbGVudGl6YXInOiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvcHBvbmVudCA9IHRoaXMuZ2V0T3Bwb25lbnQoKTtcclxuICAgICAgICAgICAgICAgIGlmIChvcHBvbmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9wcG9uZW50LmFwcGx5T3JSZWZyZXNoVGltZWRFZmZlY3QoJ3JhbGVudGl6YXInLCBQT1dFUlVQX0RVUkFUSU9OX01TLnJhbGVudGl6YXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSAncGFyYWxpemFyJzoge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3Bwb25lbnQgPSB0aGlzLmdldE9wcG9uZW50KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAob3Bwb25lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHBvbmVudC5hcHBseU9yUmVmcmVzaFRpbWVkRWZmZWN0KCdwYXJhbGl6YXInLCBQT1dFUlVQX0RVUkFUSU9OX01TLnBhcmFsaXphcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlICdwb3IyJzpcclxuICAgICAgICAgICAgY2FzZSAncG9yMyc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGx5T3JSZWZyZXNoVGltZWRFZmZlY3QodHlwZSwgUE9XRVJVUF9EVVJBVElPTl9NU1t0eXBlXSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWN0dWFsaXphIGxvcyBwb3dlci11cHNcclxuICAgIHVwZGF0ZVBvd2VyVXBzKCkge1xyXG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcblxyXG4gICAgICAgIGxldCBzcGVlZE5lZWRzUmVjYWxjID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IHNjb3JlTmVlZHNSZWNhbGMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgLy8gc2UgcmV2aXNhbiB0b2RvcyBsb3MgcG93ZXItdXBzIGFjdGl2b3NcclxuICAgICAgICBmb3IgKGNvbnN0IHR5cGUgaW4gdGhpcy5hY3RpdmVQb3dlclVwcykge1xyXG4gICAgICAgICAgICBpZiAobm93IDw9IHRoaXMuYWN0aXZlUG93ZXJVcHNbdHlwZV0pIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYWN0aXZlUG93ZXJVcHNbdHlwZV07XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3ZlbG9jaWRhZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTcGVlZEVmZmVjdChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgc3BlZWROZWVkc1JlY2FsYyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdyYWxlbnRpemFyJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNsb3dFZmZlY3QoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNwZWVkTmVlZHNSZWNhbGMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAncGFyYWxpemFyJzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFBhcmFseXplZChmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdwb3IyJzpcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3BvcjMnOlxyXG4gICAgICAgICAgICAgICAgICAgIHNjb3JlTmVlZHNSZWNhbGMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc3BlZWROZWVkc1JlY2FsYykgdGhpcy5yZWNhbGN1bGF0ZU1vdmVTcGVlZCgpO1xyXG4gICAgICAgIGlmIChzY29yZU5lZWRzUmVjYWxjKSB0aGlzLnJlY2FsY3VsYXRlU2NvcmVFZmZlY3QoKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8vLyBFRkVDVE9TIFZJU1VBTEVTIERFIExPUyBQT1dFUi1VUFMgLy8vL1xyXG4gICAgc2V0UGFyYWx5emVkKGlzUGFyYWx5emVkKSB7XHJcbiAgICAgICAgdGhpcy5pc1BhcmFseXplZCA9IGlzUGFyYWx5emVkO1xyXG5cclxuICAgICAgICBpZiAoaXNQYXJhbHl6ZWQpIHtcclxuICAgICAgICAgICAgLy8gZmVlZGJhY2sgdmlzdWFsOiByb2pvICsgcGFycGFkZW9cclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0VGludCgweGZmNTU1NSk7ICAgLy8gcm9qaXpvXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldEFscGhhKDEpO1xyXG5cclxuICAgICAgICAgICAgLy8gcG9yIHNpIHlhIGhhYsOtYSB1biB0d2VlbiBhbnRlcmlvclxyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbHlzaXNUd2Vlbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2Vlbi5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFseXNpc1R3ZWVuID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2VlbiA9IHRoaXMuc2NlbmUudHdlZW5zLmFkZCh7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXRzOiB0aGlzLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIGFscGhhOiAwLjMsXHJcbiAgICAgICAgICAgICAgICB5b3lvOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDIwMCxcclxuICAgICAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBzZWd1cmlkYWQgZXh0cmE6IHF1ZSBzZSBxdWVkZSBxdWlldG8gaG9yaXpvbnRhbG1lbnRlXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFZlbG9jaXR5WCgwKTtcclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gcXVpdGFyIHNvbG8gZWwgZWZlY3RvIGRlIHBhcnBhZGVvLCBlbCBjb2xvciBzZSByZWNhbGN1bGFcclxuICAgICAgICAgICAgdGhpcy5zcHJpdGUuc2V0QWxwaGEoMSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5wYXJhbHlzaXNUd2Vlbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wYXJhbHlzaXNUd2Vlbi5zdG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmFseXNpc1R3ZWVuID0gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gVm9sdmVtb3MgYSBhcGxpY2FyIGVsIGNvbG9yIGRlIG90cm9zIHBvd2VyLXVwcyBhY3Rpdm9zIChzaSBsb3MgaGF5KVxyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hQb3dlclVwVmlzdWFscygpO1xyXG4gICAgICAgIH1cclxuICAgIH0gICAgXHJcblxyXG4gICAgLy8gdmVsb2NpZGFkIC0+IGNpYW4vdmVyZGVcclxuICAgIHNldFNwZWVkRWZmZWN0KGFjdGl2ZSkge1xyXG4gICAgICAgIHRoaXMuc3BlZWRFZmZlY3RBY3RpdmUgPSBhY3RpdmU7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoUG93ZXJVcFZpc3VhbHMoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyByYWxlbnRpemFyIC0+IGF6dWxcclxuICAgIHNldFNsb3dFZmZlY3QoYWN0aXZlKSB7XHJcbiAgICAgICAgdGhpcy5zbG93RWZmZWN0QWN0aXZlID0gYWN0aXZlO1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFBvd2VyVXBWaXN1YWxzKCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFJlY2FsY3VsYSBsYSB2ZWxvY2lkYWQgZGUgbW92aW1pZW50byBzZWfDum4gbG9zIHBvd2VyLXVwcyBxdWUgZXN0w6luIGFjdGl2b3NcclxuICAgIHJlY2FsY3VsYXRlTW92ZVNwZWVkKCkge1xyXG4gICAgICAgIGxldCBtdWx0ID0gMTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlUG93ZXJVcHMudmVsb2NpZGFkKSBtdWx0ICo9IFNQRUVEX01VTFQudmVsb2NpZGFkO1xyXG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZVBvd2VyVXBzLnJhbGVudGl6YXIpIG11bHQgKj0gU1BFRURfTVVMVC5yYWxlbnRpemFyO1xyXG5cclxuICAgICAgICB0aGlzLm1vdmVTcGVlZCA9IHRoaXMuYmFzZU1vdmVTcGVlZCAqIG11bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVjYWxjdWxhIGVsIG11bHRpcGxpY2Fkb3IgZGUgcHVudHVhY2nDs24gZW4gZnVuY2nDs24gZGUgcG9yMi9wb3IzIGFjdGl2b3NcclxuICAgIHJlY2FsY3VsYXRlU2NvcmVFZmZlY3QoKSB7XHJcbiAgICAgICAgbGV0IG11bHRpcGxpZXIgPSAxO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5hY3RpdmVQb3dlclVwc1sncG9yMiddKSB7XHJcbiAgICAgICAgICAgIG11bHRpcGxpZXIgPSBNYXRoLm1heChtdWx0aXBsaWVyLCAyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuYWN0aXZlUG93ZXJVcHNbJ3BvcjMnXSkge1xyXG4gICAgICAgICAgICBtdWx0aXBsaWVyID0gTWF0aC5tYXgobXVsdGlwbGllciwgMyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNjb3JlTXVsdGlwbGllciA9IG11bHRpcGxpZXI7XHJcblxyXG4gICAgICAgIC8vIGZlZWRiYWNrIHZpc3VhbCBjb24gdGV4dG8geDIgLyB4M1xyXG4gICAgICAgIGlmICh0aGlzLm11bHRpcGxpZXJUZXh0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjb3JlTXVsdGlwbGllciA+IDEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlwbGllclRleHQuc2V0VGV4dCgneCcgKyB0aGlzLnNjb3JlTXVsdGlwbGllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpcGxpZXJUZXh0LnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11bHRpcGxpZXJUZXh0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBtYW50ZW5lciBsb3MgY29sb3JlcyBxdWUgeWEgc2UgdGVuw61hblxyXG4gICAgICAgIHRoaXMucmVmcmVzaFBvd2VyVXBWaXN1YWxzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXBsaWNhIG8gYWN0dWFsaXphIGxhIGR1cmFjacOzbiBkZSB1biBwb3dlci11cFxyXG4gICAgYXBwbHlPclJlZnJlc2hUaW1lZEVmZmVjdCh0eXBlLCBkdXJhdGlvbk1zKSB7XHJcbiAgICAgICAgY29uc3Qgbm93ID0gdGhpcy5zY2VuZS50aW1lLm5vdztcclxuICAgICAgICB0aGlzLmFjdGl2ZVBvd2VyVXBzW3R5cGVdID0gbm93ICsgZHVyYXRpb25NcztcclxuXHJcbiAgICAgICAgLy8gc2UgYWN0aXZhIGVsIGZlZWRiYWNrL2VzdGFkb1xyXG4gICAgICAgIGlmICh0eXBlID09PSAndmVsb2NpZGFkJykgdGhpcy5zZXRTcGVlZEVmZmVjdCh0cnVlKTtcclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3JhbGVudGl6YXInKSB0aGlzLnNldFNsb3dFZmZlY3QodHJ1ZSk7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdwYXJhbGl6YXInKSB0aGlzLnNldFBhcmFseXplZCh0cnVlKTtcclxuXHJcbiAgICAgICAgLy8gc2UgcmVjYWxjdWxhbiBsb3MgZWZlY3RvcyBzaSBlcyBuZWNlc2FyaW9cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3ZlbG9jaWRhZCcgfHwgdHlwZSA9PT0gJ3JhbGVudGl6YXInKSB7XHJcbiAgICAgICAgICAgIHRoaXMucmVjYWxjdWxhdGVNb3ZlU3BlZWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdwb3IyJyB8fCB0eXBlID09PSAncG9yMycpIHtcclxuICAgICAgICAgICAgdGhpcy5yZWNhbGN1bGF0ZVNjb3JlRWZmZWN0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIERlY2lkZSBxdcOpIHRpbnRlIG1vc3RyYXIgc2Vnw7puIGVsIGVzdGFkbyBhY3R1YWxcclxuICAgIHJlZnJlc2hQb3dlclVwVmlzdWFscygpIHtcclxuICAgICAgICAvLyBzaSBlc3TDoSBwYXJhbGl6YWRvLCBsYSBwYXLDoWxpc2lzIG1hbmRhIChjb2xvciAgcm9qbyArIHBhcnBhZGVvKVxyXG4gICAgICAgIGlmICh0aGlzLmlzUGFyYWx5emVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFBoYXNlciBzb2xvIHBlcm1pdGUgdW4gY29sb3IvdGludCBhIGxhIHZleiBwb3Igc3ByaXRlLCBwb3IgZXNvIGxhXHJcbiAgICAgICAgLy8gcHJpb3JpZGFkIHZpc3VhbCBlczogcmFsZW50aXphZG8gPiB2ZWxvY2lkYWQgPiBtdWx0aXBsaWNhZG9yXHJcbiAgICAgICAgaWYgKHRoaXMuc2xvd0VmZmVjdEFjdGl2ZSkge1xyXG4gICAgICAgICAgICAvLyBhenVsIG9zY3VybyBwYXJhIFwicGVzYWRvIC8gbGVudG9cIlxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4NTU1NWZmKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3BlZWRFZmZlY3RBY3RpdmUpIHtcclxuICAgICAgICAgICAgLy8gY2lhbi92ZXJkZSBwYXJhIFwicsOhcGlkb1wiXHJcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNldFRpbnQoMHg1NWZmZGQpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5zY29yZU11bHRpcGxpZXIgPiAxKSB7XHJcbiAgICAgICAgICAgIC8vIGRvcmFkbyBwYXJhIFwieDIgLyB4MyBwdW50b3NcIlxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5zZXRUaW50KDB4ZmZkZDU1KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBzaW4gZWZlY3Rvc1xyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZS5jbGVhclRpbnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLy8vLy8vXHJcblxyXG4gICAgZ2V0T3Bwb25lbnQoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNjZW5lLnBsYXllcnMpIHJldHVybiBudWxsO1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuc2NlbmUucGxheWVycy52YWx1ZXMoKSkuZmluZChwID0+IHAgIT09IHRoaXMpO1xyXG4gICAgfVxyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBBcHBseVBvd2VyVXBDb21tYW5kIHtcclxuICAgIGNvbnN0cnVjdG9yKHBsYXllciwgcG93ZXJVcFR5cGUpIHtcclxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcclxuICAgICAgICB0aGlzLnBvd2VyVXBUeXBlID0gcG93ZXJVcFR5cGU7XHJcbiAgICAgICAgdGhpcy5zdG9yZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCkge1xyXG4gICAgICAgIHRoaXMuc3RvcmVkID0gdGhpcy5wbGF5ZXIuYXBwbHlQb3dlclVwKHRoaXMucG93ZXJVcFR5cGUpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JlZDtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgeyBBcHBseVBvd2VyVXBDb21tYW5kIH0gZnJvbSBcIi4uL0NvbW1hbmRzL0FwcGx5UG93ZXJVcENvbW1hbmRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3dlclVwIHtcclxuICAgIGNvbnN0cnVjdG9yKHNjZW5lLCB4LCB5LCB0eXBlKSB7XHJcbiAgICAgICAgdGhpcy5zY2VuZSA9IHNjZW5lO1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcblxyXG4gICAgICAgIHRoaXMuaXNDb2xsZWN0ZWQgPSBmYWxzZTsgICAvLyBwYXJhIGV2aXRhciByZWNvZ2VyIHZhcmlhcyB2ZWNlc1xyXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IGZhbHNlOyAgICAvLyBwYXJhIGV2aXRhciBkZXN0cnVpciB2YXJpYXMgdmVjZXNcclxuICAgICAgICB0aGlzLl9jb29sZG93blVudGlsID0gMDsgICAgLy8gdGllbXBvIGhhc3RhIGVsIHF1ZSBubyBzZSBwdWVkZSByZWNvZ2VyXHJcblxyXG4gICAgICAgIHRoaXMuZmFkZVN0YXJ0ID0gMzAwMDsgICAgICAvLyBtcyBoYXN0YSBlbXBlemFyIGEgZGVzdmFuZWNlcnNlXHJcbiAgICAgICAgdGhpcy5saWZldGltZSA9IDUwMDA7ICAgICAgIC8vIG1zIGRlIHZpZGEgdG90YWxcclxuXHJcbiAgICAgICAgdGhpcy5fb3ZlcmxhcHMgPSBbXTsgICAgICAgIC8vIGNvbGxpZGVycyBvdmVybGFwc1xyXG4gICAgICAgIHRoaXMuZmFkZVR3ZWVuID0gbnVsbDsgICAgICAvLyB0d2VlbiBkZSBmYWRlXHJcbiAgICAgICAgdGhpcy5fbGlmZXRpbWVUaW1lciA9IG51bGw7IC8vIHRpbWVyIGRlIHZpZGFcclxuXHJcbiAgICAgICAgdGhpcy5zcHJpdGUgPSBzY2VuZS5waHlzaWNzLmFkZC5zdGF0aWNJbWFnZSh4LCB5LCB0eXBlKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMS4yKVxyXG4gICAgICAgICAgICAuc2V0SW50ZXJhY3RpdmUoKTtcclxuXHJcbiAgICAgICAgLy8gc2UgYWN0dWFsaXphIGVsIGJvZHkgdHJhcyBlbCBlc2NhbGFkb1xyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS5yZWZyZXNoQm9keSkgdGhpcy5zcHJpdGUucmVmcmVzaEJvZHkoKTtcclxuXHJcbiAgICAgICAgLy8gc2UgZ3VhcmRhIGVsIHR3ZWVuIHBhcmEgcG9kZXIgcGFyYXJsbyBlbiBkZXN0cm95XHJcbiAgICAgICAgY29uc3QgZmFkZURlbGF5ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odGhpcy5mYWRlU3RhcnQsIHRoaXMubGlmZXRpbWUpKTtcclxuICAgICAgICBjb25zdCBmYWRlRHVyYXRpb24gPSBNYXRoLm1heCgwLCB0aGlzLmxpZmV0aW1lIC0gZmFkZURlbGF5KTtcclxuXHJcbiAgICAgICAgaWYgKGZhZGVEdXJhdGlvbiA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5mYWRlVHdlZW4gPSBzY2VuZS50d2VlbnMuYWRkKHtcclxuICAgICAgICAgICAgICAgIHRhcmdldHM6IHRoaXMuc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgYWxwaGE6IDAsXHJcbiAgICAgICAgICAgICAgICBkZWxheTogZmFkZURlbGF5LFxyXG4gICAgICAgICAgICAgICAgZHVyYXRpb246IGZhZGVEdXJhdGlvblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIG92ZXJsYXBzIGNvbiBsb3MganVnYWRvcmVzXHJcbiAgICAgICAgY29uc3QgcGxheWVycyA9IHNjZW5lLnBsYXllcnM7XHJcbiAgICAgICAgaWYgKHBsYXllcnMgJiYgdHlwZW9mIHBsYXllcnMuZm9yRWFjaCA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBwbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghcGxheWVyPy5zcHJpdGUpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gc2NlbmUucGh5c2ljcy5hZGQub3ZlcmxhcChcclxuICAgICAgICAgICAgICAgICAgICBwbGF5ZXIuc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3ByaXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHRoaXMuY29sbGVjdChwbGF5ZXIpLFxyXG4gICAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1xyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuX292ZXJsYXBzLnB1c2goYyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdGltZXIgZGUgdmlkYVxyXG4gICAgICAgIHRoaXMuX2xpZmV0aW1lVGltZXIgPSBzY2VuZS50aW1lLmRlbGF5ZWRDYWxsKHRoaXMubGlmZXRpbWUsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVjb2dlIGVsIHBvd2VyLXVwXHJcbiAgICBjb2xsZWN0KHBsYXllcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdbUG93ZXJVcF0gb3ZlcmxhcCBjb24nLCBwbGF5ZXIuaWQsICd0aXBvJywgdGhpcy50eXBlKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLmlzQ29sbGVjdGVkKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIHNpIGVsIGludmVudGFyaW8gZXN0w6EgbGxlbm8geSBlbCBqdWdhZG9yIHNlIHF1ZWRhIGVuY2ltYSwgc2UgZXZpdGEgZWwgc3BhbVxyXG4gICAgICAgIGNvbnN0IG5vdyA9IHRoaXMuc2NlbmUudGltZS5ub3c7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Nvb2xkb3duVW50aWwgJiYgbm93IDwgdGhpcy5fY29vbGRvd25VbnRpbCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLmlzQ29sbGVjdGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgY29uc3QgY21kID0gbmV3IEFwcGx5UG93ZXJVcENvbW1hbmQocGxheWVyLCB0aGlzLnR5cGUpO1xyXG4gICAgICAgIHRoaXMuc2NlbmUuY29tbWFuZFByb2Nlc3Nvci5wcm9jZXNzKGNtZCk7XHJcblxyXG4gICAgICAgIC8vIHNpIE5PIHNlIHB1ZWRlIGd1YXJkYXIgcG9ycXVlIGVsIGludmVudGFyaW8gZXN0w6EgbGxlbm8sIE5PIHNlIGRlc3RydXllXHJcbiAgICAgICAgaWYgKCFjbWQuc3RvcmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNDb2xsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5fY29vbGRvd25VbnRpbCA9IG5vdyArIDMwMDtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5kZXN0cm95KCk7XHJcbiAgICAgICAgdGhpcy5zY2VuZS51cGRhdGVQbGF5ZXJJbnZlbnRvcnlVST8uKHBsYXllcik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRGVzdHJ1eWUgZWwgcG93ZXItdXBcclxuICAgIGRlc3Ryb3koKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuX2Rlc3Ryb3llZCA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIGNvbGxpZGVycyBvdmVybGFwc1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX292ZXJsYXBzKSkge1xyXG4gICAgICAgICAgICB0aGlzLl9vdmVybGFwcy5mb3JFYWNoKGMgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHsgYy5kZXN0cm95KCk7IH0gY2F0Y2gge31cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuX292ZXJsYXBzID0gW107XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyB0d2VlblxyXG4gICAgICAgIGlmICh0aGlzLmZhZGVUd2Vlbikge1xyXG4gICAgICAgICAgICB0cnkgeyB0aGlzLmZhZGVUd2Vlbi5zdG9wKCk7IH0gY2F0Y2gge31cclxuICAgICAgICAgICAgdGhpcy5mYWRlVHdlZW4gPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gdGltZXJcclxuICAgICAgICBpZiAodGhpcy5fbGlmZXRpbWVUaW1lcikge1xyXG4gICAgICAgICAgICB0aGlzLl9saWZldGltZVRpbWVyLnJlbW92ZShmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2xpZmV0aW1lVGltZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gc3ByaXRlXHJcbiAgICAgICAgaWYgKHRoaXMuc3ByaXRlKSB7XHJcbiAgICAgICAgICAgIHRyeSB7IHRoaXMuc3ByaXRlLmRlc3Ryb3koKTsgfSBjYXRjaCB7fVxyXG4gICAgICAgICAgICB0aGlzLnNwcml0ZSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBmaW5hbG1lbnRlLCBzZSBxdWl0YSBkZWwgYXJyYXlcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0aGlzLnNjZW5lLnBvd2VyVXBzKSkge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnBvd2VyVXBzID0gdGhpcy5zY2VuZS5wb3dlclVwcy5maWx0ZXIocCA9PiBwICE9PSB0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIEJhbGwge1xyXG4gICAgY29uc3RydWN0b3Ioc2NlbmUsIHgsIHkpIHtcclxuICAgICAgICB0aGlzLnNjZW5lID0gc2NlbmU7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gbnVsbDtcclxuICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IgPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZSA9IHNjZW5lLnBoeXNpY3MuYWRkLnNwcml0ZSh4LCB5LCAnYmFsbCcpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldFNjYWxlKDEuMCk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0Qm91bmNlKDAuOCk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0Q29sbGlkZVdvcmxkQm91bmRzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlLnNldERhdGEoJ2JhbGwnLCB0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gc2VndWltaWVudG8gZGVsIGVzdGFkbyBkZWwgcmFsbHlcclxuICAgICAgICB0aGlzLmxhc3RUb3VjaGVkQnkgPSBudWxsOyAgICAgIC8vIGlkIGRlbCBqdWdhZG9yICgncGxheWVyMScgbyAncGxheWVyMicpXHJcbiAgICAgICAgdGhpcy50b3VjaENvdW50ID0gMDsgICAgICAgICAgICAvLyB0b3F1ZXMgZW4gZWwgcmFsbHkgYWN0dWFsIHBvciBsYWRvIGRlIGxhIGNhbmNoYVxyXG4gICAgICAgIHRoaXMuY291cnRTaWRlID0gJ2xlZnQnOyAgICAgICAgLy8gbGFkbyBkZSBsYSBjYW5jaGEgZG9uZGUgZXN0w6EgbGEgcGVsb3RhXHJcbiAgICAgICAgdGhpcy5pc0JhbGxMaXZlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8gcG9zaWNpw7NuIGRlIGxhIHJlZCAoaGFyZGNvZGVhZG8gcGFyYSBhbmNobyBkZSA5NjBweClcclxuICAgICAgICB0aGlzLm5ldFggPSA0ODA7XHJcblxyXG4gICAgICAgIC8vIHBhcmEgZXZpdGFyIHRvcXVlcyBtw7psdGlwbGVzIHBvciBlc3RhciBwZWdhZGEgeSBxdWUgXCJkZXNhcGFyZXpjYVwiXHJcbiAgICAgICAgdGhpcy5sYXN0SGl0VGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy5sYXN0SGl0UGxheWVySWQgPSBudWxsO1xyXG5cdFx0XHJcbiAgICAgICAgLy90aGlzLmlzRmlyc3RTZXJ2ZSA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2UgbGxhbWEgY3VhbmRvIHVuIGp1Z2Fkb3IgZ29scGVhIGxhIHBlbG90YVxyXG4gICAgaGl0KHBsYXllciwgcGxheWVyRmFjaW5nRGlyZWN0aW9uLCBpc0p1bXBpbmcsIGlzUmVjZWl2aW5nID0gZmFsc2UpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBub3cgPSB0aGlzLnNjZW5lLnRpbWUubm93O1xyXG5cclxuICAgICAgICAvLyBzaSBlcyBlbCBtaXNtbyBqdWdhZG9yIHkgaGEgcGFzYWRvIG11eSBwb2NvIHRpZW1wbyxcclxuICAgICAgICAvLyBpZ25vcmFtb3MgZXNlIFwidG9xdWVcIiBwYXJhIG5vIHN1bWFyIG3DoXMgZ29scGVzXHJcbiAgICAgICAgaWYgKHRoaXMubGFzdEhpdFBsYXllcklkID09PSBwbGF5ZXIuaWQgJiYgKG5vdyAtIHRoaXMubGFzdEhpdFRpbWUpIDwgMTIwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHJlZ2lzdHJhbW9zIGVzdGUgbnVldm8gZ29scGUgdsOhbGlkb1xyXG4gICAgICAgIHRoaXMubGFzdEhpdFBsYXllcklkID0gcGxheWVyLmlkO1xyXG4gICAgICAgIHRoaXMubGFzdEhpdFRpbWUgPSBub3c7XHJcblxyXG4gICAgICAgIC8vIHNlIGluY3JlbWVudGEgZWwgY29udGFkb3IgZGUgdG9xdWVzIHNpIGVsIG1pc21vIGp1Z2Fkb3IgY29udGluw7phLCBzZSByZWluaWNpYSBzaSBlcyBlbCBvdHJvXHJcbiAgICAgICAgaWYgKHRoaXMubGFzdFRvdWNoZWRCeSA9PT0gcGxheWVyLmlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG91Y2hDb3VudCsrO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudG91Y2hDb3VudCA9IDE7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdFRvdWNoZWRCeSA9IHBsYXllci5pZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMudG91Y2hDb3VudCA+IDMpIHtcclxuICAgICAgICAgICAgdGhpcy5vbkZhbHRhKCd0b3F1ZUV4Y2VkaWRvJywgcGxheWVyKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBzZSByZXByb2R1Y2UgZWwgZWZlY3RvIGRlIHNvbmlkbyBzZWfDum4gZWwgdGlwbyBkZSBnb2xwZVxyXG4gICAgICAgIGlmIChpc1JlY2VpdmluZykge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lPy5wbGF5U2Z4Py4odGhpcy5zY2VuZT8uc2Z4Py5yZWNlaXZlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzSnVtcGluZykge1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lPy5wbGF5U2Z4Py4odGhpcy5zY2VuZT8uc2Z4Py5zcGlrZSk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8gc2UgY2FsY3VsYSB2ZWxvY2lkYWQgZGUgbGEgcGVsb3RhIHNlZ8O6biBsYSBkaXJlY2Npw7NuIGRlbCBqdWdhZG9yIHkgc2kgZXN0w6Egc2FsdGFuZG8vcmVjaWJpZW5kb1xyXG4gICAgICAgIGxldCB2ZWxvY2l0eVgsIHZlbG9jaXR5WTtcclxuXHJcbiAgICAgICAgaWYgKGlzUmVjZWl2aW5nKSB7XHJcbiAgICAgICAgICAgIC8vIHJlY2VwY2nDs246IHBhcsOhYm9sYSBsYXJnYSB5IGFuY2hhICh0cmF5ZWN0b3JpYSBkZWZlbnNpdmEpXHJcbiAgICAgICAgICAgIC8vIG1lbm9yIHZlbG9jaWRhZCBob3Jpem9udGFsLCBtYXlvciB2ZWxvY2lkYWQgdmVydGljYWwgcGFyYSBlbCBhcmNvXHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2VTcGVlZFggPSAxNjA7XHJcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsU3RyZW5ndGggPSAtMzEwOyAvLyBjb21wb25lbnRlIHZlcnRpY2FsIG1heW9yIHBhcmEgZWwgYXJjb1xyXG5cclxuICAgICAgICAgICAgaWYgKHBsYXllckZhY2luZ0RpcmVjdGlvbiA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSAtYmFzZVNwZWVkWDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5WCA9IGJhc2VTcGVlZFg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmVsb2NpdHlZID0gdmVydGljYWxTdHJlbmd0aDtcclxuICAgICAgICB9IGVsc2UgaWYgKGlzSnVtcGluZykge1xyXG4gICAgICAgICAgICAvLyBzYWx0by9hdGFxdWU6IGhvcml6b250YWwgZnVlcnRlLCB2ZXJ0aWNhbCBkw6liaWwgKHJlbWF0ZS9zbWFzaClcclxuICAgICAgICAgICAgLy8gYWx0YSB2ZWxvY2lkYWQgaG9yaXpvbnRhbCwgYmFqYSB2ZWxvY2lkYWQgdmVydGljYWwgcGFyYSB0cmF5ZWN0b3JpYSBwbGFuYVxyXG4gICAgICAgICAgICBjb25zdCBiYXNlU3BlZWRYID0gMTkwO1xyXG4gICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbFN0cmVuZ3RoID0gLTE0MDsgLy8gY29tcG9uZW50ZSB2ZXJ0aWNhbCBiYWpvIHBhcmEgYXRhcXVlIHBsYW5vXHJcblxyXG4gICAgICAgICAgICBpZiAocGxheWVyRmFjaW5nRGlyZWN0aW9uID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIHZlbG9jaXR5WCA9IC1iYXNlU3BlZWRYO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlYID0gYmFzZVNwZWVkWDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2ZWxvY2l0eVkgPSB2ZXJ0aWNhbFN0cmVuZ3RoO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGdvbHBlIHJlZ3VsYXIgZGVzZGUgZWwgc3VlbG9cclxuICAgICAgICAgICAgY29uc3QgYmFzZVNwZWVkWCA9IDE4MDtcclxuXHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXJGYWNpbmdEaXJlY3Rpb24gPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpdHlYID0gLWJhc2VTcGVlZFg7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eVggPSBiYXNlU3BlZWRYO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZlbG9jaXR5WSA9IC0xMDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRWZWxvY2l0eSh2ZWxvY2l0eVgsIHZlbG9jaXR5WSk7XHJcblxyXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YXIgZWwgbGFkbyBkZSBsYSBjYW5jaGEgc2Vnw7puIGxhIGRpcmVjY2nDs24gZGUgbGEgdmVsb2NpZGFkXHJcbiAgICAgICAgaWYgKHZlbG9jaXR5WCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAncmlnaHQnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodmVsb2NpdHlYIDwgMCkge1xyXG4gICAgICAgICAgICB0aGlzLmNvdXJ0U2lkZSA9ICdsZWZ0JztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gU2UgbGxhbWEgY3VhbmRvIGxhIHBlbG90YSBjcnV6YSBsYSByZWRcclxuICAgIGNyb3NzTmV0KCkge1xyXG4gICAgICAgIC8vIHNlIHJlaW5pY2lhIGVsIGNvbnRhZG9yIGRlIHRvcXVlcyBwYXJhIGVsIG51ZXZvIGxhZG8gZGUgY2FuY2hhXHJcbiAgICAgICAgdGhpcy50b3VjaENvdW50ID0gMDtcclxuICAgICAgICB0aGlzLmxhc3RUb3VjaGVkQnkgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyBzZSBjYW1iaWEgZGUgbGFkbyBkZSBjYW5jaGFcclxuICAgICAgICB0aGlzLmNvdXJ0U2lkZSA9IHRoaXMuY291cnRTaWRlID09PSAnbGVmdCcgPyAncmlnaHQnIDogJ2xlZnQnO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlIGxsYW1hIGN1YW5kbyBsYSBwZWxvdGEgdG9jYSBlbCBzdWVsb1xyXG4gICAgb25Hcm91bmRlZCgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBiYWxsT25MZWZ0ID0gdGhpcy5zcHJpdGUueCA8IHRoaXMubmV0WDtcclxuICAgICAgICBjb25zdCBiYWxsT25SaWdodCA9IHRoaXMuc3ByaXRlLnggPiB0aGlzLm5ldFg7XHJcblxyXG4gICAgICAgIC8vIGRldGVybWluYXIgcXVpw6luIGFub3RhXHJcbiAgICAgICAgaWYgKGJhbGxPbkxlZnQpIHtcclxuICAgICAgICAgICAgdGhpcy5vblJhbGx5RW5kKCdwbGF5ZXIyJyk7IC8vIHBsYXllcjIgYW5vdGFcclxuICAgICAgICAgICAgdGhpcy5yZXNldFJhbGx5KCdwbGF5ZXIyJyk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChiYWxsT25SaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uUmFsbHlFbmQoJ3BsYXllcjEnKTsgLy8gcGxheWVyMSBhbm90YVxyXG4gICAgICAgICAgICB0aGlzLnJlc2V0UmFsbHkoJ3BsYXllcjEnKTtcclxuICAgICAgICB9XHJcbiAgICB9ICAgIFxyXG5cclxuICAgIC8vIFNlIGxsYW1hIGN1YW5kbyBvY3VycmUgdW5hIGZhbHRhIChkZW1hc2lhZG9zIHRvcXVlcywgcGVsb3RhIGZ1ZXJhIGRlIGzDrW1pdGVzLCBldGMuKVxyXG4gICAgb25GYWx0YShmYWx0YVR5cGUsIGZhbHRpbmdQbGF5ZXIpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyBzZSBkZXRlcm1pbmFyIGVsIGp1Z2Fkb3IgcXVlIGFub3RhIChvcHVlc3RvIGFsIHF1ZSBjb21ldGnDsyBmYWx0YSlcclxuICAgICAgICBjb25zdCBzY29yaW5nUGxheWVySWQgPSBmYWx0aW5nUGxheWVyLmlkID09PSAncGxheWVyMScgPyAncGxheWVyMicgOiAncGxheWVyMSc7XHJcblxyXG4gICAgICAgIHRoaXMub25SYWxseUVuZChzY29yaW5nUGxheWVySWQpO1xyXG4gICAgICAgIHRoaXMucmVzZXRSYWxseShzY29yaW5nUGxheWVySWQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFNlIGxsYW1hIGN1YW5kbyBmaW5hbGl6YSB1biByYWxseSAoYWxndWllbiBhbm90YSlcclxuICAgIG9uUmFsbHlFbmQoc2NvcmluZ1BsYXllcklkKSB7XHJcbiAgICAgICAgdGhpcy5pc0JhbGxMaXZlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIHNlIGxhbnphIHVuIGV2ZW50byBwYXJhIHF1ZSBHYW1lX1NjZW5lIG1hbmVqZSBsYSBwdW50dWFjacOzblxyXG4gICAgICAgIHRoaXMuc2NlbmUuZXZlbnRzLmVtaXQoJ3JhbGx5Q29uY2x1ZGVkJywge1xyXG4gICAgICAgICAgICBzY29yaW5nUGxheWVySWQ6IHNjb3JpbmdQbGF5ZXJJZCxcclxuICAgICAgICAgICAgdG91Y2hDb3VudDogdGhpcy50b3VjaENvdW50LFxyXG4gICAgICAgICAgICBsYXN0VG91Y2hlZEJ5OiB0aGlzLmxhc3RUb3VjaGVkQnlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFbXB1am9uIHN1dGlsIGFsIHNhcXVlIHBhcmEgZXZpdGFyIHF1ZSBjYWlnYSBzb2JyZSBsYSByZWRcclxuICAgIF9nZXRTdWJ0bGVOdWRnZShzcGF3blgsIHNpZGVQYWRkaW5nLCB3b3JsZFdpZHRoKSB7XHJcbiAgICAgICAgY29uc3Qgc2lnbiA9IE1hdGgucmFuZG9tKCkgPCAwLjUgPyAtMSA6IDE7XHJcbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gc2lnbiAqIDEyO1xyXG4gICAgICAgIGNvbnN0IGNsYW1wZWRYID0gTWF0aC5tYXgoc2lkZVBhZGRpbmcsIE1hdGgubWluKHdvcmxkV2lkdGggLSBzaWRlUGFkZGluZywgc3Bhd25YICsgb2Zmc2V0KSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IHNwYXduWDogY2xhbXBlZFgsIHZlbG9jaXR5WDogb2Zmc2V0IH07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29sb2NhIGxhIHBlbG90YSBwYXJhIGVsIHNhcXVlIHNpbiByZWluaWNpYXIgZWwgcmFsbHlcclxuICAgIHNldFNlcnZlUG9zaXRpb24oc2NvcmluZ1BsYXllcikge1xyXG4gICAgICAgIGNvbnN0IHNwYXduWSA9IDEwMDtcclxuICAgICAgICBjb25zdCBzaWRlUGFkZGluZyA9IDYwO1xyXG4gICAgICAgIGNvbnN0IHdvcmxkV2lkdGggPSB0aGlzLnNjZW5lLndvcmxkV2lkdGggPz8gdGhpcy5zY2VuZS5zY2FsZT8ud2lkdGggPz8gdGhpcy5uZXRYICogMjtcclxuICAgICAgICBjb25zdCBjbGFtcCA9ICh2YWx1ZSwgbWluLCBtYXgpID0+IE1hdGgubWF4KG1pbiwgTWF0aC5taW4obWF4LCB2YWx1ZSkpO1xyXG5cclxuICAgICAgICBsZXQgc3Bhd25YID0gdGhpcy5uZXRYO1xyXG4gICAgICAgIGxldCBudWRnZVZlbG9jaXR5WCA9IDA7XHJcblxyXG4gICAgICAgIGNvbnN0IGhhc1Njb3JpbmdQbGF5ZXIgPSBzY29yaW5nUGxheWVyID09PSAncGxheWVyMScgfHwgc2NvcmluZ1BsYXllciA9PT0gJ3BsYXllcjInO1xyXG5cclxuICAgICAgICBpZiAoaGFzU2NvcmluZ1BsYXllcikge1xyXG4gICAgICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLnNjZW5lLnBsYXllcnM/LmdldCA/IHRoaXMuc2NlbmUucGxheWVycy5nZXQoc2NvcmluZ1BsYXllcikgOiBudWxsO1xyXG4gICAgICAgICAgICBpZiAocGxheWVyPy5zcHJpdGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzY29yaW5nUGxheWVyID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgICAgICAgICBzcGF3blggPSBjbGFtcChwbGF5ZXIuc3ByaXRlLngsIHNpZGVQYWRkaW5nLCB0aGlzLm5ldFggLSBzaWRlUGFkZGluZyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHNwYXduWCA9IGNsYW1wKHBsYXllci5zcHJpdGUueCwgdGhpcy5uZXRYICsgc2lkZVBhZGRpbmcsIHdvcmxkV2lkdGggLSBzaWRlUGFkZGluZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzcGF3blggPSBzY29yaW5nUGxheWVyID09PSAncGxheWVyMScgPyB0aGlzLm5ldFggLSAxMDAgOiB0aGlzLm5ldFggKyAxMDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG51ZGdlID0gdGhpcy5fZ2V0U3VidGxlTnVkZ2Uoc3Bhd25YLCBzaWRlUGFkZGluZywgd29ybGRXaWR0aCk7XHJcbiAgICAgICAgICAgIHNwYXduWCA9IG51ZGdlLnNwYXduWDtcclxuICAgICAgICAgICAgbnVkZ2VWZWxvY2l0eVggPSBudWRnZS52ZWxvY2l0eVg7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNwcml0ZS5zZXRQb3NpdGlvbihzcGF3blgsIHNwYXduWSk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGUuc2V0VmVsb2NpdHkobnVkZ2VWZWxvY2l0eVgsIDApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlaW5pY2lhIGVsIGVzdGFkbyBkZWwgcmFsbHkgeSByZXBvc2ljaW9uYSBsYSBwZWxvdGEgcGFyYSBlbCBzYXF1ZVxyXG4gICAgcmVzZXRSYWxseShzY29yaW5nUGxheWVyKSB7XHJcbiAgICAgICAgdGhpcy5pc0JhbGxMaXZlID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmxhc3RUb3VjaGVkQnkgPSBudWxsO1xyXG4gICAgICAgIHRoaXMudG91Y2hDb3VudCA9IDA7XHJcbiAgICAgICAgdGhpcy5zZXRTZXJ2ZVBvc2l0aW9uKHNjb3JpbmdQbGF5ZXIpO1xyXG5cclxuICAgICAgICAvLyBsaW1waWFyIGluZm8gZGUgw7psdGltbyBnb2xwZVxyXG4gICAgICAgIHRoaXMubGFzdEhpdFRpbWUgPSAwO1xyXG4gICAgICAgIHRoaXMubGFzdEhpdFBsYXllcklkID0gbnVsbDtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8gQWN0dWFsaXphIGVsIGVzdGFkbyBkZSBsYSBwZWxvdGEgY2FkYSBmcmFtZSAoc2UgcmFzdHJlYSBlbCBsYWRvIGRlIGxhIGNhbmNoYSBzZWfDum4gbGEgcG9zaWNpw7NuKVxyXG4gICAgdXBkYXRlKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc0JhbGxMaXZlKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YSBlbCBsYWRvIGRlIGNhbmNoYSBzZWfDum4gcG9zaWNpw7NuIGFjdHVhbFxyXG4gICAgICAgIGlmICh0aGlzLnNwcml0ZS54IDwgdGhpcy5uZXRYIC0gMjApIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAnbGVmdCc7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNwcml0ZS54ID4gdGhpcy5uZXRYICsgMjApIHtcclxuICAgICAgICAgICAgdGhpcy5jb3VydFNpZGUgPSAncmlnaHQnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJleHBvcnQgY2xhc3MgQ29tbWFuZFByb2Nlc3NvciB7XHJcbiAgICBcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmdhbWVTY2VuZSA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHNldFBsYXllcnMocGxheWVycykge1xyXG4gICAgICAgIHRoaXMucGxheWVycyA9IHBsYXllcnM7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0R2FtZVNjZW5lKGdhbWVTY2VuZSkge1xyXG4gICAgICAgIHRoaXMuZ2FtZVNjZW5lID0gZ2FtZVNjZW5lO1xyXG4gICAgfVxyXG5cclxuICAgIHByb2Nlc3MoY29tbWFuZCkge1xyXG4gICAgICAgIGNvbW1hbmQuZXhlY3V0ZSgpO1xyXG4gICAgICAgIC8vIFNlbnQgb3ZlciB0aGUgd2Vic29ja2V0XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQ29tbWFuZCB7XHJcbiAgICBcclxuICAgIGV4ZWN1dGUoKSB7fVxyXG5cclxuICAgIHNlcmlhbGl6ZSgpIHt9XHJcblxyXG4gICAgZ2V0UGxheWVyKCkge31cclxufSIsIi8vIENsYXNlIHF1ZSBzZSBlbmNhcmdhIGRlIGxhIGzDs2dpY2EgZGVsIG1vdmltaWVudG8gZGVsIHBlcnNvbmFqZVxyXG5cclxuaW1wb3J0IHsgQ29tbWFuZCB9IGZyb20gJy4vQ29tbWFuZC5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgTW92ZVBsYXllckNvbW1hbmQgZXh0ZW5kcyBDb21tYW5kIHtcclxuICAgIGNvbnN0cnVjdG9yKHBsYXllciwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjsgICAgICAgLy8gaW5zdGFuY2lhIGRlbCBwZXJzb25hamVcclxuICAgICAgICB0aGlzLmRpcmVjdGlvbiA9IGRpcmVjdGlvbjsgLy8gZGlyZWNjacOzbiBkZSBtb3ZtaWVudG9cclxuICAgIH1cclxuXHJcbiAgICBleGVjdXRlKCkge1xyXG4gICAgICAgICBzd2l0Y2ggKHRoaXMuZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIGNvcnJlciBoYWNpYSBsYSBpemRhXHJcbiAgICAgICAgICAgIGNhc2UgJ2xlZnQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIubW92ZUxlZnQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBjb3JyZXIgaGFjaWEgbGEgZGNoYVxyXG4gICAgICAgICAgICBjYXNlICdyaWdodCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5tb3ZlUmlnaHQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBzYWx0YXIvcmVtYXRhciBhIGxhIGl6ZGFcclxuICAgICAgICAgICAgY2FzZSAnanVtcExlZnQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuanVtcExlZnQoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAvLyBzYWx0YXIvcmVtYXRhIGEgbGEgZGNoYVxyXG4gICAgICAgICAgICBjYXNlICdqdW1wUmlnaHQnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuanVtcFJpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gcmVjaWJpciBwb3IgbGEgaXpkYVxyXG4gICAgICAgICAgICBjYXNlICdyZWNlaXZlTGVmdCc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXllci5yZWNlaXZlTGVmdCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIHJlY2liaXIgcG9yIGxhIGRjaGFcclxuICAgICAgICAgICAgY2FzZSAncmVjZWl2ZVJpZ2h0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLnJlY2VpdmVSaWdodCgpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIC8vIHBhcmFkbywgaWRsZSBpemRhXHJcbiAgICAgICAgICAgIGNhc2UgJ2lkbGVMZWZ0JzpcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheWVyLmlkbGVMZWZ0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgLy8gcGFyYWRvLCBpZGxlIGRjaGEgKHkgY2FzbyBwb3IgZGVmZWN0bylcclxuICAgICAgICAgICAgLy9jYXNlICdpZGxlUmlnaHQnOlxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5ZXIuaWRsZVJpZ2h0KCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcGFyYSBlbCBtb2RvIEVOIFJFRFxyXG4gICAgZ2V0UGxheWVyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBsYXllci5pZDtcclxuICAgIH1cclxuXHJcbiAgICBzZXJpYWxpemUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdHlwZTogJ01vdmVQbGF5ZXJDb21tYW5kJyxcclxuICAgICAgICAgICAgcGxheWVySWQ6IHRoaXMucGxheWVyLmlkLFxyXG4gICAgICAgICAgICBkaXJlY3Rpb246IHRoaXMuZGlyZWN0aW9uXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4iLCIvLyBDbGFzZSBkZSBsYSBlc2NlbmEgZGUganVlZ29cclxuXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgUGxheWVyIH0gZnJvbSAnLi4vRW50aXRpZXMvUGxheWVyLmpzJztcclxuaW1wb3J0IHsgUG93ZXJVcCB9IGZyb20gJy4uL0VudGl0aWVzL1Bvd2VyVXAuanMnO1xyXG5pbXBvcnQgeyBCYWxsIH0gZnJvbSAnLi4vRW50aXRpZXMvQmFsbC5qcyc7XHJcbmltcG9ydCB7IENvbW1hbmRQcm9jZXNzb3IgfSBmcm9tICcuLi9Db21tYW5kcy9Db21tYW5kUHJvY2Vzc29yLmpzJztcclxuaW1wb3J0IHsgTW92ZVBsYXllckNvbW1hbmQgfSBmcm9tICcuLi9Db21tYW5kcy9Nb3ZlUGxheWVyQ29tbWFuZC5qcyc7XHJcbmltcG9ydCB7IGdldFN0b3JlZFNmeFZvbHVtZSB9IGZyb20gJy4uL1VJL0F1ZGlvLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIHRpZW1wb1RvdGFsID0gNjA7IC8vIHBhcmEgMiBtaW4gcG9uZXIgMTIwIHNlZ3VuZG9zXHJcbiAgICB0aWVtcG9SZXN0YW50ZSA9IHRoaXMudGllbXBvVG90YWw7XHJcbiAgICB0aW1lclRleHQ7XHJcbiAgICB0aW1lckV2ZW50O1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoJ0dhbWVfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzID0gW107XHJcbiAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yID0gbmV3IENvbW1hbmRQcm9jZXNzb3IoKTtcclxuICAgICAgICB0aGlzLnBsYXllcjEgPSBkYXRhLnBsYXllcjE7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIyID0gZGF0YS5wbGF5ZXIyO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyA9IGRhdGEuc2VsZWN0ZWRTY2VuYXJpbztcclxuICAgICAgICB0aGlzLmJhbGwgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2NvcmVQMSA9IDA7XHJcbiAgICAgICAgdGhpcy5zY29yZVAyID0gMDtcclxuICAgICAgICB0aGlzLnNldHNQMSA9IDA7XHJcbiAgICAgICAgdGhpcy5zZXRzUDIgPSAwO1xyXG4gICAgICAgIHRoaXMubWF4U2V0cyA9IDM7IC8vIG1lam9yIGRlIDNcclxuICAgICAgICB0aGlzLmN1cnJlbnRTZXQgPSAxOyAvLyBzZXQgYWN0dWFsXHJcbiAgICB9XHJcblxyXG4gICAgcHJlbG9hZCgpIHtcclxuICAgICAgICAvLyBjaGFyYWN0ZXJBXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckFfbW92ZScsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQS9BTklNQUNJT05FU19DT1JSRVJfUkVDSUJJUi5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDI5LCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckFfanVtcCcsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQS9BTklNQUNJT05fUkVNQVRFLnBuZycsXHJcbiAgICAgICAgICAgIHsgZnJhbWVXaWR0aDogMzIsIGZyYW1lSGVpZ2h0OiA0NCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICAvLyBjaGFyYWN0ZXJCXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckJfbW92ZScsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQi9BTklNQUNJT05FU19DT1JSRVJfUkVDSUJJUi5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDI5LCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckJfanVtcCcsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQi9BTklNQUNJT05fUkVNQVRFLnBuZycsXHJcbiAgICAgICAgICAgIHsgZnJhbWVXaWR0aDogMzIsIGZyYW1lSGVpZ2h0OiA0NCB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICAvLyBjaGFyYWN0ZXJDXHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckNfbW92ZScsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQy9BTklNQUNJT05FU19DT1JSRVJfUkVDSUJJUi5wbmcnLFxyXG4gICAgICAgICAgICB7IGZyYW1lV2lkdGg6IDI5LCBmcmFtZUhlaWdodDogNDQgfVxyXG4gICAgICAgICk7XHJcbiAgICAgICAgdGhpcy5sb2FkLnNwcml0ZXNoZWV0KFxyXG4gICAgICAgICAgICAnY2hhckNfanVtcCcsXHJcbiAgICAgICAgICAgICdBU1NFVFMvUEVSU09OQUpFUy9BTklNQUNJT05FUy9QRVJTT05BSkVfQy9BTklNQUNJT05fUkVNQVRFLnBuZycsXHJcbiAgICAgICAgICAgIHsgZnJhbWVXaWR0aDogMzIsIGZyYW1lSGVpZ2h0OiA0NCB9XHJcbiAgICAgICAgKTtcclxuXHJcbiAgICAgICAgLy8gRXNjZW5hcmlvc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnR3ltJywgJ0FTU0VUUy9GT05ET1MvR0lNTkFTSU8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQbGF5YScsICdBU1NFVFMvRk9ORE9TL1BMQVlBLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSmFyZGluJywgJ0FTU0VUUy9GT05ET1MvSkFSRElOLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBQb3dlclVwc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncG9yMicsICdBU1NFVFMvSVRFTVMvUE9XRVIgVVBTL01VTFRJUExJQ0FET1IgMi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3BvcjMnLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9NVUxUSVBMSUNBRE9SIDMucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdwYXJhbGl6YXInLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9QQVJBTElaQURPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncmFsZW50aXphcicsICdBU1NFVFMvSVRFTVMvUE9XRVIgVVBTL1JFTEVOVElaQVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCd2ZWxvY2lkYWQnLCAnQVNTRVRTL0lURU1TL1BPV0VSIFVQUy9WRUxPQ0lEQUQucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjb1Bvd2VyVXAnLCAnQVNTRVRTL0pVRUdPL0Jhc2VfcG93ZXJVcC5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gUGVsb3RhXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdiYWxsJywgJ0FTU0VUUy9JVEVNUy9QRUxPVEFTL1BfTk9STUFMLnBuZycpO1xyXG4gICAgICAgIC8vIFJlZFxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgncmVkJywgJ0FTU0VUUy9KVUVHTy9SRUQucG5nJyk7XHJcbiAgICAgICAgLy8gQ3JvbsOzbWV0cm9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ3JlbG9qJywgJ0FTU0VUUy9KVUVHTy9USU1FUi5wbmcnKTtcclxuICAgICAgICAvLyBNYXJjb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWFyY29HZW5lcmFsJywgJ0FTU0VUUy9KVUVHTy9NQVJDQURPUl9TRVQucG5nJyk7ICAgICAgICBcclxuXHJcbiAgICAgICAgLy8gRWZlY3RvcyBkZSBzb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeF9zaWxiYXRvJywgJ0FTU0VUUy9TT05JRE8vU2lsYmF0b19pbmljaW9fcGFydGlkb18xcDRzLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4X3JlbWF0ZScsICdBU1NFVFMvU09OSURPL1RvcXVlX3BlbG90YV9yZW1hdGVfMDNzLm1wMycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc2Z4X3JlY2VwY2lvbicsICdBU1NFVFMvU09OSURPL1RvcXVlX3BlbG90YV9yZWNlcGNpb24ubXAzJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzZnhfc2FsdG8nLCAnQVNTRVRTL1NPTklETy9Tb25pZG9TYWx0b18xcC5tcDMnKTtcclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3NmeF9wdW50bycsICdBU1NFVFMvU09OSURPL1Nvbmlkb1B1bnRvLm1wMycpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgLy8gc2UgZ3VhcmRhbiBsYXMgZGltZW5zaW9uZXNcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgdGhpcy53b3JsZFdpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy53b3JsZEhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7XHJcblxyXG4gICAgICAgIC8vIHNlIGRlZmluZW4gbG9zIGVmZWN0b3MgZGUgc29uaWRvXHJcbiAgICAgICAgdGhpcy5zZnggPSB7XHJcbiAgICAgICAgICAgIHdoaXN0bGU6ICdzZnhfc2lsYmF0bycsXHJcbiAgICAgICAgICAgIHNwaWtlOiAnc2Z4X3JlbWF0ZScsXHJcbiAgICAgICAgICAgIHJlY2VpdmU6ICdzZnhfcmVjZXBjaW9uJyxcclxuICAgICAgICAgICAganVtcDogJ3NmeF9zYWx0bycsXHJcbiAgICAgICAgICAgIHBvaW50OiAnc2Z4X3B1bnRvJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gc2UgcmVwcm9kdWNlIGVsIHNpbGJhdG8gZGUgaW5pY2lvIGRlIHBhcnRpZG9cclxuICAgICAgICB0aGlzLnBsYXlTZngodGhpcy5zZngud2hpc3RsZSk7XHJcblxyXG4gICAgICAgIC8vIENyb27Ds21ldHJvXHJcbiAgICAgICAgdGhpcy50aW1lclRleHQgPSB0aGlzLmFkZC50ZXh0KHRoaXMuc2NhbGUud2lkdGggLyAyLCAzMCwgXCJcIiwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUsIDApXHJcbiAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgIC5zZXREZXB0aCg5OTk5KTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lckljb24gPSB0aGlzLmFkZC5pbWFnZSh0aGlzLnNjYWxlLndpZHRoIC8gMiwgNDUsICdyZWxvaicpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMilcclxuICAgICAgICAgICAgLnNldFNjcm9sbEZhY3RvcigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoOTAwMCk7IC8vIGRlYmFqbyBkZWwgdGV4dG9cclxuXHJcbiAgICAgICAgLy8gbWFyY28gZGUgc2V0XHJcbiAgICAgICAgdGhpcy5zZXRGcmFtZSA9IHRoaXMuYWRkLmltYWdlKHRoaXMuc2NhbGUud2lkdGggLyAyLCAxMjAsICdtYXJjb0dlbmVyYWwnKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldFNjYWxlKDEpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCg5OTk4KTtcclxuXHJcbiAgICAgICAgLy8gdGV4dG8gZGVsIHNldCBhY3R1YWxcclxuICAgICAgICB0aGlzLnNldFRleHQgPSB0aGlzLmFkZC50ZXh0KHRoaXMuc2NhbGUud2lkdGggLyAyLCAxMjAsIGBTRVQgJHt0aGlzLmN1cnJlbnRTZXR9YCwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJ1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldERlcHRoKDk5OTkpO1xyXG5cclxuICAgICAgICAvLyB0ZXh0byBwYXJhIG1vc3RyYXIgZWwgZ2FuYWRvciBkZWwgc2V0XHJcbiAgICAgICAgdGhpcy5zZXRXaW5uZXJUZXh0ID0gdGhpcy5hZGQudGV4dCh0aGlzLnNjYWxlLndpZHRoIC8gMiwgMTg1LCAnJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmJyxcclxuICAgICAgICAgICAgc3Ryb2tlOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIHN0cm9rZVRoaWNrbmVzczogM1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgLnNldERlcHRoKDk5OTkpXHJcbiAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgICAgICAvLyBpbmljaWFyIGVsIGNvbnRhZG9yIHBhcmEgZWwgY3JvbsOzbWV0cm9cclxuICAgICAgICB0aGlzLnRpbWVyRXZlbnQgPSB0aGlzLnRpbWUuYWRkRXZlbnQoe1xyXG4gICAgICAgICAgICBkZWxheTogMTAwMCxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IHRoaXMudXBkYXRlVGltZXIsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrU2NvcGU6IHRoaXMsXHJcbiAgICAgICAgICAgIGxvb3A6IHRydWVcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy51cGRhdGVUaW1lcigpO1xyXG5cclxuICAgICAgICAvLyBGT05ETyBERUwgRVNDRU5BUklPIFNFTEVDQ0lPTkFET1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMiwgdGhpcy5zZWxlY3RlZFNjZW5hcmlvKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSk7IFxyXG5cclxuICAgICAgICAvLyBSZWRcclxuICAgICAgICBjb25zdCByZWQgPSB0aGlzLnBoeXNpY3MuYWRkLnN0YXRpY1Nwcml0ZSh3aWR0aCAvIDIsIGhlaWdodCAtIDE2MCwgJ3JlZCcpLnNldFNjYWxlKDAuNik7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlZFRleHR1cmUgPSB0aGlzLnRleHR1cmVzLmdldCgncmVkJykuZ2V0U291cmNlSW1hZ2UoKTtcclxuICAgICAgICByZWQuYm9keS5zZXRTaXplKHJlZFRleHR1cmUud2lkdGggKiAwLjUsIHJlZFRleHR1cmUuaGVpZ2h0ICogMC41KTsgLy8gbXVsdGlwbGljYXIgcG9yIGVsIHNjYWxlXHJcbiAgICAgICAgcmVkLmJvZHkuc2V0T2Zmc2V0KC1yZWQuYm9keS53aWR0aC8yLCAtcmVkLmJvZHkuaGVpZ2h0LzIpO1xyXG4gICAgICAgIHJlZC5ib2R5LnVwZGF0ZUZyb21HYW1lT2JqZWN0KCk7XHJcbiAgICAgICAgdGhpcy5yZWQgPSByZWQ7XHJcblxyXG4gICAgICAgIHRoaXMuX2NyZWF0ZUFuaW1hdGlvbnMoKTtcclxuXHJcbiAgICAgICAgLy9QVU5UVUFDSU9OIERFIExPUyBKVUdBRE9SRVNcclxuICAgICAgICAvLyBNYXJjb3MgZGUgcHVudHVhY2nDs25cclxuICAgICAgICB0aGlzLnBvaW50c0xlZnQgPSAwO1xyXG4gICAgICAgIHRoaXMucG9pbnRzUmlnaHQgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLnNjb3JlRnJhbWVMZWZ0ID0gdGhpcy5hZGQuaW1hZ2UoMjAwLCA1MCwgJ21hcmNvR2VuZXJhbCcpLnNldFNjYWxlKDAuOCwgMC41NSkuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgdGhpcy5zY29yZUZyYW1lUmlnaHQgPSB0aGlzLmFkZC5pbWFnZSh0aGlzLndvcmxkV2lkdGggLSAyMDAsIDUwLCAnbWFyY29HZW5lcmFsJykuc2V0U2NhbGUoMC44LCAwLjU1KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgdGhpcy5zY29yZUxlZnQgPSB0aGlzLmFkZC50ZXh0KDIwMCwgNDUsICcwJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICc0MHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjZmZmZmZmZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSkuc2V0RGVwdGgoOTk5OSk7XHJcblxyXG4gICAgICAgIHRoaXMucmlnaHRTY29yZSA9IHRoaXMuYWRkLnRleHQodGhpcy53b3JsZFdpZHRoIC0gMjAwLCA0NSwgJzAnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzQwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyNmZmZmZmZmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCg5OTk5KTtcclxuXHJcbiAgICAgICAgLy8gc3VlbG8gZGUgcHJ1ZWJhOiBjcmVhciB1biBjdWVycG8gZXN0w6F0aWNvIHJlY3Rhbmd1bGFyIGludmlzaWJsZVxyXG4gICAgICAgIC8vIENvbmZpZ3VyYWJsZTogYWx0dXJhIHkgZGVzcGxhemFtaWVudG8gZGVzZGUgZWwgZm9uZG8gKGBncm91bmRPZmZzZXRgKVxyXG4gICAgICAgIGNvbnN0IGdyb3VuZEhlaWdodCA9IDIwO1xyXG4gICAgICAgIGNvbnN0IGdyb3VuZE9mZnNldCA9IDkwOyAvLyBlbGV2YXIgZWwgc3VlbG8gMTAwcHggZGVzZGUgZWwgZm9uZG9cclxuICAgICAgICB0aGlzLmdyb3VuZEhlaWdodCA9IGdyb3VuZEhlaWdodDtcclxuICAgICAgICB0aGlzLmdyb3VuZFkgPSB0aGlzLndvcmxkSGVpZ2h0IC0gZ3JvdW5kT2Zmc2V0O1xyXG5cclxuICAgICAgICBjb25zdCBncm91bmQgPSB0aGlzLmFkZC5yZWN0YW5nbGUoXHJcbiAgICAgICAgICAgIHRoaXMud29ybGRXaWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHRoaXMuZ3JvdW5kWSxcclxuICAgICAgICAgICAgdGhpcy53b3JsZFdpZHRoLFxyXG4gICAgICAgICAgICBncm91bmRIZWlnaHRcclxuICAgICAgICApLnNldE9yaWdpbigwLjUsIDApLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIC8vIGHDsWFkaXIgdW4gY3VlcnBvIGbDrXNpY28gZXN0w6F0aWNvIGFsIHJlY3TDoW5ndWxvXHJcbiAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5leGlzdGluZyhncm91bmQsIHRydWUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIHByaW1lcm8gc2UgY3JlYW4gbG9zIGp1Z2Fkb3Jlc1xyXG4gICAgICAgIHRoaXMuX2NyZWF0ZVBsYXllcnMoKTtcclxuICAgICAgICAvLyBkZXNwdcOpcywgc2UgbW9udGFuIGxhcyBjb2xpc2lvbmVzIGNvbiBlbCBzdWVsbywgcmVkLCBldGMuXHJcbiAgICAgICAgLy8gbW9udGFyIGNvbGlzaW9uZXMgZsOtc2ljYXMgZW50cmUganVnYWRvcmVzIHkgc3VlbG8gcGFyYSBxdWUgYm9keS5ibG9ja2VkLmRvd24gZnVuY2lvbmVcclxuICAgICAgICB0aGlzLl9zZXR1cFBoeXNpY3NXb3JsZChncm91bmQpO1xyXG4gICAgICAgIC8vIHBvciDDumx0aW1vLCBzZSBhc2lnbmFuIGxhcyB0ZWNsYXNcclxuICAgICAgICB0aGlzLl9zZXR1cElucHV0TWFwcGluZ3MoKTtcclxuXHJcbiAgICAgICAgLy8gcG93ZXJ1cHNcclxuICAgICAgICB0aGlzLnBvd2VyVXBzID0gW107XHJcbiAgICAgICAgdGhpcy5tYXhQb3dlclVwcyA9IDI7XHJcbiAgICAgICAgLy8gbGEgYXBhcmljacOzbiBkZSBwb3dlci11cHMgc29uIG1lbm9zIGZyZWN1ZW50ZXMgeSBjb24gcGVzb3MsIHBhcmEgcXVlIHVub3Mgc2FsZ2FuXHJcbiAgICAgICAgLy8gbcOhcyBxdWUgb3Ryb3MgKHBvciBlamVtcGxvLCBzZSByZWR1Y2UgbGEgYXBhcmljacOzbiBkZSBwYXJhbGl6YXIpXHJcbiAgICAgICAgdGhpcy5wb3dlclVwU3Bhd25Db25maWcgPSB7XHJcbiAgICAgICAgICAgIC8vIGVudHJlIDMuNSB5IDggc2VndW5kb3NcclxuICAgICAgICAgICAgbWluRGVsYXlNczogMzUwMCxcclxuICAgICAgICAgICAgbWF4RGVsYXlNczogODAwMCxcclxuICAgICAgICAgICAgd2VpZ2h0czoge1xyXG4gICAgICAgICAgICAgICAgdmVsb2NpZGFkOiAzLFxyXG4gICAgICAgICAgICAgICAgcmFsZW50aXphcjogMixcclxuICAgICAgICAgICAgICAgIHBhcmFsaXphcjogMSxcclxuICAgICAgICAgICAgICAgIHBvcjI6IDMsXHJcbiAgICAgICAgICAgICAgICBwb3IzOiAyXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNvb2xkb3duTXM6IHtcclxuICAgICAgICAgICAgICAgIHBhcmFsaXphcjogMTIwMDBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5wb3dlclVwTGFzdFNwYXduQXQgPSB7fTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnZlbnRvcnlVSSA9IHtcclxuICAgICAgICAgICAgcGxheWVyMTogW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UoNTAsIDUwLCAncG9yMicpLnNldFNjYWxlKDEuNCkuc2V0VmlzaWJsZShmYWxzZSkuc2V0RGVwdGgoMSksXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZC5pbWFnZSgxMTAsIDUwLCAncG9yMicpLnNldFNjYWxlKDEuNCkuc2V0VmlzaWJsZShmYWxzZSkuc2V0RGVwdGgoMSlcclxuICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgcGxheWVyMjogW1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UodGhpcy53b3JsZFdpZHRoIC0gMTEwLCA1MCwgJ3BvcjInKS5zZXRTY2FsZSgxLjQpLnNldFZpc2libGUoZmFsc2UpLnNldERlcHRoKDEpLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UodGhpcy53b3JsZFdpZHRoIC0gNTAsIDUwLCAncG9yMicpLnNldFNjYWxlKDEuNCkuc2V0VmlzaWJsZShmYWxzZSkuc2V0RGVwdGgoMSlcclxuICAgICAgICAgICAgXVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVQb3dlclVwU3Bhd24oKTtcclxuXHJcbiAgICAgICAgLy8gTWFyY29zIGRlbCBpbnZlbnRhcmlvXHJcbiAgICAgICAgdGhpcy5pbnZlbnRvcnlGcmFtZXMgPSB7XHJcbiAgICAgICAgICAgIHBsYXllcjE6IFtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKDUwLCA1MCwgJ21hcmNvUG93ZXJVcCcpLnNldFNjYWxlKDEpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDApLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMTEwLCA1MCwgJ21hcmNvUG93ZXJVcCcpLnNldFNjYWxlKDEpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDApXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIHBsYXllcjI6IFtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKHRoaXMud29ybGRXaWR0aCAtIDExMCwgNTAsICdtYXJjb1Bvd2VyVXAnKS5zZXRTY2FsZSgxKS5zZXRPcmlnaW4oMC41KS5zZXREZXB0aCgwKSxcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkLmltYWdlKHRoaXMud29ybGRXaWR0aCAtIDUwLCA1MCwgJ21hcmNvUG93ZXJVcCcpLnNldFNjYWxlKDEpLnNldE9yaWdpbigwLjUpLnNldERlcHRoKDApXHJcbiAgICAgICAgICAgIF1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBpbmljaWFsaXphY2nDs24gZGUgbGEgcGVsb3RhXG4gICAgICAgIHRoaXMuX2NyZWF0ZUJhbGwoKTtcbiAgICAgICAgLy8gZW1wdWpvbiBzdXRpbCBwYXJhIGV2aXRhciBxdWUgc2UgcXVlZGUgc29icmUgbGEgcmVkIGFsIGluaWNpb1xuICAgICAgICB0aGlzLmJhbGwuc2V0U2VydmVQb3NpdGlvbigpO1xuICAgICAgICAvLyBjb2xsaWRlcnMgZGUgbGEgcGVsb3RhXG4gICAgICAgIHRoaXMuX3NldHVwQmFsbENvbGxpc2lvbnMoKTtcbiAgICAgICAgLy8gZXZlbnRvcyBkZSBsYSBwZWxvdGFcclxuICAgICAgICB0aGlzLl9zZXR1cEJhbGxFdmVudHMoKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5vbihcImtleWRvd24tRVNDXCIsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpOyAgICAgICAgICAgICAgIC8vIGRldGllbmUgZWwgZ2FtZSBsb29wXHJcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudC5wYXVzZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLmxhdW5jaChcIlBhdXNlX1NjZW5lXCIpOyAvLyBtdWVzdHJhIGxhIGVzY2VuYSBkZSBwYXVzYVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKCdyZXN1bWUnLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudC5wYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBHZW5lcmEgdW4gbnVldm8gcG93ZXItdXAgZW4gdW5hIHBvc2ljacOzbiBhbGVhdG9yaWEgY2FkYSBjaWVydG8gdGllbXBvXHJcbiAgICBzY2hlZHVsZVBvd2VyVXBTcGF3bigpIHtcclxuICAgICAgICBjb25zdCB7IG1pbkRlbGF5TXMsIG1heERlbGF5TXMgfSA9IHRoaXMucG93ZXJVcFNwYXduQ29uZmlnO1xyXG4gICAgICAgIGNvbnN0IGRlbGF5ID0gUGhhc2VyLk1hdGguQmV0d2VlbihtaW5EZWxheU1zLCBtYXhEZWxheU1zKTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKGRlbGF5LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBvd2VyVXBzLmxlbmd0aCA8IHRoaXMubWF4UG93ZXJVcHMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHggPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKDgwLCB0aGlzLndvcmxkV2lkdGggLSA4MCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gUGhhc2VyLk1hdGguQmV0d2Vlbih0aGlzLndvcmxkSGVpZ2h0IC0gMjIwLCB0aGlzLndvcmxkSGVpZ2h0IC0gMTIwKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gdGhpcy5fZ2V0V2VpZ2h0ZWRQb3dlclVwVHlwZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBwb3dlclVwID0gbmV3IFBvd2VyVXAodGhpcywgeCwgeSwgdHlwZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3dlclVwcy5wdXNoKHBvd2VyVXApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG93ZXJVcExhc3RTcGF3bkF0W3R5cGVdID0gdGhpcy50aW1lLm5vdztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZVBvd2VyVXBTcGF3bigpOyAvLyBzaWd1aWVudGUgY29uIG51ZXZvIGRlbGF5IHJhbmRvbVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE9idGllbmUgdW4gdGlwbyBkZSBwb3dlci11cCBiYXNhZG8gZW4gbG9zIHBlc29zIGNvbmZpZ3VyYWRvcyBhbnRlcmlvcm1lbnRlXHJcbiAgICBfZ2V0V2VpZ2h0ZWRQb3dlclVwVHlwZSgpIHtcclxuICAgICAgICBjb25zdCB7IHdlaWdodHMsIGNvb2xkb3duTXMgfSA9IHRoaXMucG93ZXJVcFNwYXduQ29uZmlnO1xyXG5cclxuICAgICAgICBjb25zdCBub3cgPSB0aGlzLnRpbWUubm93O1xyXG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyh3ZWlnaHRzKS5maWx0ZXIoKFt0eXBlLCB3ZWlnaHRdKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHNlIGZpbHRyYW4gbG9zIHRpcG9zIHF1ZSBubyBzZSBwdWVkZW4gdXNhclxyXG4gICAgICAgICAgICAvLyBzaSBlbCBwZXNvIGVzIDBcclxuICAgICAgICAgICAgaWYgKHdlaWdodCA8PSAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIC8vIHNpIHRvZGF2w61hIGVzdMOhIGVuIGNvb2xkb3duIGRlc2RlIGxhIMO6bHRpbWEgYXBhcmljacOzblxyXG4gICAgICAgICAgICBjb25zdCBjb29sZG93biA9IGNvb2xkb3duTXM/Llt0eXBlXTtcclxuICAgICAgICAgICAgaWYgKCFjb29sZG93bikgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzLnBvd2VyVXBMYXN0U3Bhd25BdD8uW3R5cGVdIHx8IDA7XHJcbiAgICAgICAgICAgIHJldHVybiBub3cgLSBsYXN0ID49IGNvb2xkb3duO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzaSBubyBxdWVkYSBuaW5nw7puIHRpcG8gZGlzcG9uaWJsZSwgc2UgZGV2dWVsdmUgbnVsbFxyXG4gICAgICAgIGlmICghZW50cmllcy5sZW5ndGgpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICAvLyBzZSBzdW1hbiB0b2RvcyBsb3MgcGVzb3MsIHNlIGVsaWdlIHVuIG7Dum1lcm8gYWxlYXRvcmlvIGVudHJlIDEgeSBlc2Egc3VtYVxyXG4gICAgICAgIGNvbnN0IHRvdGFsID0gZW50cmllcy5yZWR1Y2UoKHN1bSwgWywgd2VpZ2h0XSkgPT4gc3VtICsgd2VpZ2h0LCAwKTtcclxuICAgICAgICBsZXQgcm9sbCA9IFBoYXNlci5NYXRoLkJldHdlZW4oMSwgdG90YWwpO1xyXG4gICAgICAgIC8vIHNlIHZhbiByZXN0YW5kbyBwZXNvcyBoYXN0YSBxdWUgZWwgY29udGFkb3IgY2FlIGVuIHVuIHRpcG9cclxuICAgICAgICBmb3IgKGNvbnN0IFt0eXBlLCB3ZWlnaHRdIG9mIGVudHJpZXMpIHtcclxuICAgICAgICAgICAgcm9sbCAtPSB3ZWlnaHQ7XHJcbiAgICAgICAgICAgIC8vIHNlIGRldnVlbHZlIGVsIHRpcG9cclxuICAgICAgICAgICAgaWYgKHJvbGwgPD0gMCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tHYW1lX1NjZW5lXSBQb3dlci11cCBhbGVhdG9yaW86ICcsIHR5cGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHNpIHBvciBhbGd1bmEgcmF6w7NuIG5vIGNhZSBlbiBuaW5ndW5vLCBzZSBkZXZ1ZWx2ZSBlbCDDumx0aW1vIHRpcG8gdsOhbGlkb1xyXG4gICAgICAgIHJldHVybiBlbnRyaWVzW2VudHJpZXMubGVuZ3RoIC0gMV1bMF07XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVwcm9kdWNlIHVuIGVmZWN0byBkZSBzb25pZG9cclxuICAgIHBsYXlTZngoa2V5KSB7XHJcbiAgICAgICAgaWYgKCFrZXkpIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5zb3VuZC5wbGF5KGtleSwgeyB2b2x1bWU6IGdldFN0b3JlZFNmeFZvbHVtZSgpIH0pO1xyXG4gICAgfSAgICBcclxuXHJcbiAgICAvLyBCdWNsZSBwcmluY2lwYWwgZGVsIGp1ZWdvXHJcbiAgICB1cGRhdGUoKSB7XHJcbiAgICAgICAgLy8gc2UgcHJvY2VzYW4gbG9zIGlucHV0cyBkZSBsb3MganVnYWRvcmVzXHJcbiAgICAgICAgdGhpcy5faGFuZGxlSW5wdXRGb3JBbGxQbGF5ZXJzKCk7XHJcbiAgICAgICAgLy8gc2UgYWN0dWFsaXphbiBsb3MgcG93ZXItdXBzXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHBsYXllci51cGRhdGVQb3dlclVwcygpKTtcclxuICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgZXN0YWRvIGRlIGxhIHBlbG90YVxyXG4gICAgICAgIGlmICh0aGlzLmJhbGwpIHtcclxuICAgICAgICAgICAgdGhpcy5iYWxsLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICAvLyB2ZXJpZmljYXIgc2kgbGEgcGVsb3RhIGdvbHBlYSBlbCBzdWVsbyAoY29tcGFyYXIgY29uIGxhIHBvc2ljacOzbiBkZWwgc3VlbG8pXHJcbiAgICAgICAgICAgIC8vIGdyb3VuZFkgZXMgbGEgcGFydGUgc3VwZXJpb3IgZGVsIHN1ZWxvXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJhbGwuaXNCYWxsTGl2ZSAmJiB0aGlzLmJhbGwuc3ByaXRlLnkgPiB0aGlzLmdyb3VuZFkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5vbkdyb3VuZGVkKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gdmVyaWZpY2FyIHNpIGxhIHBlbG90YSBjcnV6YSBsYSByZWQgKHJlZCBlc3TDoSBlbiB4ID0gNDgwKVxyXG4gICAgICAgICAgICBpZiAodGhpcy5iYWxsLnNwcml0ZS54IDwgNDc1ICYmIHRoaXMuYmFsbC5jb3VydFNpZGUgPT09ICdyaWdodCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5jcm9zc05ldCgpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYmFsbC5zcHJpdGUueCA+IDQ4NSAmJiB0aGlzLmJhbGwuY291cnRTaWRlID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYmFsbC5jcm9zc05ldCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdHVhbGl6YSBlbCB0ZW1wb3JpemFkb3IgY2FkYSBzZWd1bmRvXHJcbiAgICB1cGRhdGVUaW1lcigpIHtcclxuICAgICAgICB0aGlzLnRpZW1wb1Jlc3RhbnRlLS07XHJcblxyXG4gICAgICAgIC8vIEZvcm1hdG9cclxuICAgICAgICBjb25zdCBtaW51dG9zID0gTWF0aC5mbG9vcih0aGlzLnRpZW1wb1Jlc3RhbnRlIC8gNjApO1xyXG4gICAgICAgIGNvbnN0IHNlZ3VuZG9zID0gdGhpcy50aWVtcG9SZXN0YW50ZSAlIDYwO1xyXG4gICAgICAgIGNvbnN0IGZvcm1hdG8gPSBgJHttaW51dG9zLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06JHtzZWd1bmRvcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lclRleHQuc2V0VGV4dChmb3JtYXRvKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMudGllbXBvUmVzdGFudGUgPD0gMCkge1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQucGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJGSU4gREVMIFRJRU1QT1wiKTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNjb3JlUDEgPiB0aGlzLnNjb3JlUDIpIHRoaXMuX2VuZFNldChcInBsYXllcjFcIik7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc2NvcmVQMiA+IHRoaXMuc2NvcmVQMSkgdGhpcy5fZW5kU2V0KFwicGxheWVyMlwiKTtcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVtcGF0ZSBlbiBlbCBzZXRcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNldFNldCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIEFjdHVhbGl6YSBsYSBVSSBkZWwgaW52ZW50YXJpbyBkZSBwb3dlci11cHMgZGUgdW4ganVnYWRvclxyXG4gICAgdXBkYXRlUGxheWVySW52ZW50b3J5VUkocGxheWVyKSB7XHJcbiAgICAgICAgY29uc3QgdWkgPSB0aGlzLmludmVudG9yeVVJW3BsYXllci5pZF07XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMjsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5ZXIucG93ZXJVcEludmVudG9yeVtpXSkge1xyXG4gICAgICAgICAgICAgICAgdWlbaV0uc2V0VGV4dHVyZShwbGF5ZXIucG93ZXJVcEludmVudG9yeVtpXSk7XHJcbiAgICAgICAgICAgICAgICB1aVtpXS5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdWlbaV0uc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vLy8gTcOJVE9ET1MgQVVYSUxJQVJFUyAvLy8vXHJcbiAgICAvLyBDcmVhIGxhcyBhbmltYWNpb25lcyBkZSBsb3MgMyBwZXJzb25hamVzXHJcbiAgICBfY3JlYXRlQW5pbWF0aW9ucygpIHtcclxuICAgICAgICAvLy8vIENoYXJhY3RlckEgLy8vL1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfaWRsZVJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9tb3ZlJywgeyBzdGFydDogMCwgZW5kOiAxIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA1LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQV9pZGxlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfbW92ZScsIHsgc3RhcnQ6IDIwLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX3JlY2VpdmVSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckFfbW92ZScsIHsgc3RhcnQ6IDAsIGVuZDogMTAgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX3JlY2VpdmVMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9tb3ZlJywgeyBzdGFydDogMTEsIGVuZDogMjEgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDFcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfcnVuUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX21vdmUnLCB7IHN0YXJ0OiAyMiwgZW5kOiAzMiB9KSwgLy8gZmlsYSAyXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMjIsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJBX3J1bkxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX21vdmUnLCB7IHN0YXJ0OiAzMywgZW5kOiA0MyB9KS5yZXZlcnNlKCksIC8vIGZpbGEgM1xyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDIyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfanVtcFJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQV9qdW1wJywgeyBzdGFydDogMCwgZW5kOiAxMiB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckFfanVtcExlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJBX2p1bXAnLCB7IHN0YXJ0OiAxMywgZW5kOiAyNSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMVxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLy8vLy8vL1xyXG5cclxuICAgICAgICAvLy8vIENoYXJhY3RlckIgLy8vL1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckJfaWRsZVJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9tb3ZlJywgeyBzdGFydDogMCwgZW5kOiAxIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiA1LFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9pZGxlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDIwLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pOyAgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9yZWNlaXZlUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJCX21vdmUnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfbW92ZScsIHsgc3RhcnQ6IDExLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9tb3ZlJywgeyBzdGFydDogMjIsIGVuZDogMzIgfSksIC8vIGZpbGEgMlxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDIyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQl9ydW5MZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9tb3ZlJywgeyBzdGFydDogMzMsIGVuZDogNDMgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDNcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckJfanVtcCcsIHsgc3RhcnQ6IDAsIGVuZDogMTIgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJCX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQl9qdW1wJywgeyBzdGFydDogMTMsIGVuZDogMjUgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDFcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8vLy8vLy9cclxuXHJcbiAgICAgICAgLy8vLyBDaGFyYWN0ZXJDIC8vLy9cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX2lkbGVSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfbW92ZScsIHsgc3RhcnQ6IDAsIGVuZDogMSB9KSwgLy8gZmlsYSAwXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogNSxcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYW5pbXMuY3JlYXRlKHtcclxuICAgICAgICAgICAga2V5OiAnY2hhckNfaWRsZUxlZnQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX21vdmUnLCB7IHN0YXJ0OiAyMCwgZW5kOiAyMSB9KS5yZXZlcnNlKCksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDUsXHJcbiAgICAgICAgICAgIHJlcGVhdDogLTFcclxuICAgICAgICB9KTsgICAgICBcclxuXHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19yZWNlaXZlUmlnaHQnLFxyXG4gICAgICAgICAgICBmcmFtZXM6IHRoaXMuYW5pbXMuZ2VuZXJhdGVGcmFtZU51bWJlcnMoJ2NoYXJDX21vdmUnLCB7IHN0YXJ0OiAwLCBlbmQ6IDEwIH0pLCAvLyBmaWxhIDBcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19yZWNlaXZlTGVmdCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfbW92ZScsIHsgc3RhcnQ6IDExLCBlbmQ6IDIxIH0pLnJldmVyc2UoKSwgLy8gZmlsYSAxXHJcbiAgICAgICAgICAgIGZyYW1lUmF0ZTogMTcsXHJcbiAgICAgICAgICAgIHJlcGVhdDogMFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX3J1blJpZ2h0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19tb3ZlJywgeyBzdGFydDogMjIsIGVuZDogMzIgfSksIC8vIGZpbGEgMlxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDIyLFxyXG4gICAgICAgICAgICByZXBlYXQ6IC0xXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hbmltcy5jcmVhdGUoe1xyXG4gICAgICAgICAgICBrZXk6ICdjaGFyQ19ydW5MZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19tb3ZlJywgeyBzdGFydDogMzMsIGVuZDogNDMgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDNcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAyMixcclxuICAgICAgICAgICAgcmVwZWF0OiAtMVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX2p1bXBSaWdodCcsXHJcbiAgICAgICAgICAgIGZyYW1lczogdGhpcy5hbmltcy5nZW5lcmF0ZUZyYW1lTnVtYmVycygnY2hhckNfanVtcCcsIHsgc3RhcnQ6IDAsIGVuZDogMTIgfSksIC8vIGZpbGEgMFxyXG4gICAgICAgICAgICBmcmFtZVJhdGU6IDE3LFxyXG4gICAgICAgICAgICByZXBlYXQ6IDBcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFuaW1zLmNyZWF0ZSh7XHJcbiAgICAgICAgICAgIGtleTogJ2NoYXJDX2p1bXBMZWZ0JyxcclxuICAgICAgICAgICAgZnJhbWVzOiB0aGlzLmFuaW1zLmdlbmVyYXRlRnJhbWVOdW1iZXJzKCdjaGFyQ19qdW1wJywgeyBzdGFydDogMTMsIGVuZDogMjUgfSkucmV2ZXJzZSgpLCAvLyBmaWxhIDFcclxuICAgICAgICAgICAgZnJhbWVSYXRlOiAxNyxcclxuICAgICAgICAgICAgcmVwZWF0OiAwXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8vLy8vLy9cclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhIGxvcyBwZXJzb25hamVzIGRlIGNhZGEganVnYWRvclxyXG4gICAgX2NyZWF0ZVBsYXllcnMoKSB7XHJcbiAgICAgICAgY29uc3QgY2hhclAxID0gdGhpcy5wbGF5ZXIxLmNoYXJhY3RlcjtcclxuICAgICAgICBjb25zdCBjaGFyUDIgPSB0aGlzLnBsYXllcjIuY2hhcmFjdGVyO1xyXG5cclxuICAgICAgICBjb25zdCBwMSA9IG5ldyBQbGF5ZXIoXHJcbiAgICAgICAgICAgIHRoaXMsXHJcbiAgICAgICAgICAgICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgdGhpcy53b3JsZFdpZHRoICogMC4yNSwgICAvLyBpenF1aWVyZGFcclxuICAgICAgICAgICAgdGhpcy5ncm91bmRZIC0gMTAwLCAgICAgICAgLy8gYXJyaWJhIGRlbCBzdWVsbyAobcOhcyBtYXJnZW4pXHJcbiAgICAgICAgICAgIGNoYXJQMVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IHAyID0gbmV3IFBsYXllcihcclxuICAgICAgICAgICAgdGhpcyxcclxuICAgICAgICAgICAgJ3BsYXllcjInLFxyXG4gICAgICAgICAgICB0aGlzLndvcmxkV2lkdGggKiAwLjc1LCAgIC8vIGRlcmVjaGFcclxuICAgICAgICAgICAgdGhpcy5ncm91bmRZIC0gMTAwLCAgICAgICAgLy8gYXJyaWJhIGRlbCBzdWVsbyAobcOhcyBtYXJnZW4pXHJcbiAgICAgICAgICAgIGNoYXJQMlxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5zZXQoJ3BsYXllcjEnLCBwMSk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLnNldCgncGxheWVyMicsIHAyKTtcclxuXHJcbiAgICAgICAgLy8gc2UgZXN0YWJsZWNlbiBsb3MgbMOtbWl0ZXMgZGUgbGEgY2FuY2hhIHBhcmEgY2FkYSBqdWdhZG9yXHJcbiAgICAgICAgY29uc3QgY291cnRUb3AgPSA1MDtcclxuICAgICAgICAvLyBhbGluZWFyIGVsIGzDrW1pdGUgaW5mZXJpb3IganVzdG8gcG9yIGVuY2ltYSBkZWwgc3VlbG9cclxuICAgICAgICAvLyBjb21vIGVsIGdyb3VuZCBhaG9yYSB0aWVuZSBvcmlnaW4gZW4gKDAuNSwgMCksIGdyb3VuZFkgZXMgbGEgcGFydGUgc3VwZXJpb3JcclxuICAgICAgICBjb25zdCBjb3VydEJvdHRvbSA9IE1hdGguZmxvb3IodGhpcy5ncm91bmRZKTtcclxuICAgICAgICBjb25zdCBjb3VydEludGVyaW9yTWFyZ2luID0gMjU7XHJcbiAgICAgICAgY29uc3QgY291cnRFeHRlcmlvcnRNYXJnaW4gPSA4MDtcclxuXHJcbiAgICAgICAgLy8gcGxheWVyMSAoaXpxdWllcmRhKTpcclxuICAgICAgICBwMS5zZXRCb3VuZHMoY291cnRFeHRlcmlvcnRNYXJnaW4sIDQ4MCAtIGNvdXJ0SW50ZXJpb3JNYXJnaW4sIGNvdXJ0VG9wLCBjb3VydEJvdHRvbSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gcGxheWVyMiAoZGVyZWNoYSk6XHJcbiAgICAgICAgcDIuc2V0Qm91bmRzKDQ4MCArIGNvdXJ0SW50ZXJpb3JNYXJnaW4sIHRoaXMud29ybGRXaWR0aCAtIGNvdXJ0RXh0ZXJpb3J0TWFyZ2luLCBjb3VydFRvcCwgY291cnRCb3R0b20pO1xyXG5cclxuICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3Iuc2V0UGxheWVycyh0aGlzLnBsYXllcnMpO1xyXG4gICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5zZXRHYW1lU2NlbmUodGhpcyk7XHJcblxyXG4gICAgICAgIC8vIHBvciBkZWZlY3RvLCBhbmltYWNpw7NuIGlkbGVcclxuICAgICAgICBwMS5pZGxlUmlnaHQoKTtcclxuICAgICAgICBwMi5pZGxlTGVmdCgpO1xyXG4gICAgfSAgICBcclxuXHJcbiAgICAvLyBDcmVhIGVsIHN1ZWxvLCBsYSByZWQsIGxvcyBsw61taXRlcywgZXRjLlxyXG4gICAgX3NldHVwUGh5c2ljc1dvcmxkKGdyb3VuZCkge1xyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNvbGlzacOzbiBqdWdhZG9yLXN1ZWxvXHJcbiAgICAgICAgICAgIHRoaXMucGh5c2ljcy5hZGQuY29sbGlkZXIocGxheWVyLnNwcml0ZSwgZ3JvdW5kKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbGlzacOzbiBqdWdhZG9yLXJlZFxyXG4gICAgICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHBsYXllci5zcHJpdGUsIHRoaXMucmVkLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgJHtwbGF5ZXIuaWR9IHRvY8OzIGxhIHJlZCFgKTtcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUuc2V0VmVsb2NpdHlYKDApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBBc2lnbmEgbG9zIGNvbnRyb2xlcy90ZWNsYXMgZGUgY2FkYSBqdWdhZG9yXHJcbiAgICBfc2V0dXBJbnB1dE1hcHBpbmdzKCkge1xyXG4gICAgICAgIGNvbnN0IGlucHV0Q29uZmlnID0gW1xyXG4gICAgICAgICAgICAvLyBqdWdhZG9yIDFcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6ICdwbGF5ZXIxJyxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXk6ICdBJyxcclxuICAgICAgICAgICAgICAgIHJpZ2h0S2V5OiAnRCcsXHJcbiAgICAgICAgICAgICAgICBqdW1wS2V5OiAnVycsXHJcbiAgICAgICAgICAgICAgICByZWNlaXZlS2V5OiAnUycsXHJcbiAgICAgICAgICAgICAgICBwb3dlcktleTogJ0UnXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vIGp1Z2Fkb3IgMlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXJJZDogJ3BsYXllcjInLFxyXG4gICAgICAgICAgICAgICAgbGVmdEtleTogJ0onLFxyXG4gICAgICAgICAgICAgICAgcmlnaHRLZXk6ICdMJyxcclxuICAgICAgICAgICAgICAgIGp1bXBLZXk6ICdJJyxcclxuICAgICAgICAgICAgICAgIHJlY2VpdmVLZXk6ICdLJyxcclxuICAgICAgICAgICAgICAgIHBvd2VyS2V5OiAnTydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHRoaXMuaW5wdXRNYXBwaW5ncyA9IGlucHV0Q29uZmlnLm1hcChjb25maWcgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgcGxheWVySWQ6IGNvbmZpZy5wbGF5ZXJJZCxcclxuICAgICAgICAgICAgICAgIGxlZnRLZXlPYmo6IHRoaXMuaW5wdXQua2V5Ym9hcmQuYWRkS2V5KFxyXG4gICAgICAgICAgICAgICAgICAgIFBoYXNlci5JbnB1dC5LZXlib2FyZC5LZXlDb2Rlc1tjb25maWcubGVmdEtleV1cclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICByaWdodEtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoXHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yaWdodEtleV1cclxuICAgICAgICAgICAgICAgICksXHJcbiAgICAgICAgICAgICAgICBqdW1wS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShcclxuICAgICAgICAgICAgICAgICAgICBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLmp1bXBLZXldXHJcbiAgICAgICAgICAgICAgICApLFxyXG4gICAgICAgICAgICAgICAgcmVjZWl2ZUtleU9iajogdGhpcy5pbnB1dC5rZXlib2FyZC5hZGRLZXkoXHJcbiAgICAgICAgICAgICAgICAgICAgUGhhc2VyLklucHV0LktleWJvYXJkLktleUNvZGVzW2NvbmZpZy5yZWNlaXZlS2V5XVxyXG4gICAgICAgICAgICAgICAgKSxcclxuICAgICAgICAgICAgICAgIHBvd2VyS2V5T2JqOiB0aGlzLmlucHV0LmtleWJvYXJkLmFkZEtleShcclxuICAgICAgICAgICAgICAgICAgICBQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuS2V5Q29kZXNbY29uZmlnLnBvd2VyS2V5XVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFByb2Nlc2EgZWwgaW5wdXQgZGUgbG9zIGRvcyBqdWdhZG9yZXNcclxuICAgIF9oYW5kbGVJbnB1dEZvckFsbFBsYXllcnMoKSB7XHJcbiAgICAgICAgdGhpcy5pbnB1dE1hcHBpbmdzLmZvckVhY2gobWFwcGluZyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBsYXllciA9IHRoaXMucGxheWVycy5nZXQobWFwcGluZy5wbGF5ZXJJZCk7XHJcbiAgICAgICAgICAgIGlmICghcGxheWVyKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAvLyBzaSBlc3TDoSBwYXJhbGl6YWRvLCBzZSBkZWphIGVuIGlkbGVcclxuICAgICAgICAgICAgaWYgKHBsYXllci5pc1BhcmFseXplZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaWRsZURpciA9IChwbGF5ZXIuZmFjaW5nID09PSAnbGVmdCcpID8gJ2lkbGVMZWZ0JyA6ICdpZGxlUmlnaHQnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVQbGF5ZXJDb21tYW5kKHBsYXllciwgaWRsZURpcilcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBkaXJlY3Rpb247XHJcblxyXG4gICAgICAgICAgICAvLyBtb3ZpbWllbnRvIGhvcml6b250YWwgbm9ybWFsXHJcbiAgICAgICAgICAgIGlmIChtYXBwaW5nLmxlZnRLZXlPYmouaXNEb3duKSB7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAnbGVmdCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobWFwcGluZy5yaWdodEtleU9iai5pc0Rvd24pIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9ICdyaWdodCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gbm8gc2UgcHVsc2EgbmFkYSwgYXPDrSBxdWUgc2UgcXVlZGEgaWRsZSBzZWfDum4gaGFjaWEgZMOzbmRlIG1pcmFiYVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbiA9IChwbGF5ZXIuZmFjaW5nID09PSAnbGVmdCcpID8gJ2lkbGVMZWZ0JzogJ2lkbGVSaWdodCc7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNlIGFwbGljYSBtb3ZpbWllbnRvL2lkbGUgU09MTyBzaSBubyBlc3TDoSBzYWx0YW5kb1xyXG4gICAgICAgICAgICAvLyBzaSBlc3TDoSBzYWx0YW5kbywgbm8gc2UgcHJvY2VzYSBlbCBtb3ZpbWllbnRvIHBhcmEgbm8gc29icmVzY3JpYmlyIGxhIGFuaW1hY2nDs25cclxuICAgICAgICAgICAgaWYgKCFwbGF5ZXIuaXNKdW1waW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbW1hbmRQcm9jZXNzb3IucHJvY2VzcyhcclxuICAgICAgICAgICAgICAgICAgICBuZXcgTW92ZVBsYXllckNvbW1hbmQocGxheWVyLCBkaXJlY3Rpb24pXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyByZWNlcGNpw7NuXHJcbiAgICAgICAgICAgIGlmIChQaGFzZXIuSW5wdXQuS2V5Ym9hcmQuSnVzdERvd24obWFwcGluZy5yZWNlaXZlS2V5T2JqKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVjZWl2ZURpciA9IChwbGF5ZXIuZmFjaW5nID09PSAnbGVmdCcpID8gJ3JlY2VpdmVMZWZ0JyA6ICdyZWNlaXZlUmlnaHQnO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kUHJvY2Vzc29yLnByb2Nlc3MoXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3IE1vdmVQbGF5ZXJDb21tYW5kKHBsYXllciwgcmVjZWl2ZURpcilcclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNhbHRvL3JlbWF0ZVxyXG4gICAgICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKG1hcHBpbmcuanVtcEtleU9iaikpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGp1bXBEaXIgPSAocGxheWVyLmZhY2luZyA9PT0gJ2xlZnQnKSA/ICdqdW1wTGVmdCcgOiAnanVtcFJpZ2h0JztcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZFByb2Nlc3Nvci5wcm9jZXNzKFxyXG4gICAgICAgICAgICAgICAgICAgIG5ldyBNb3ZlUGxheWVyQ29tbWFuZChwbGF5ZXIsIGp1bXBEaXIpXHJcbiAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBQb3dlclVwc1xyXG4gICAgICAgICAgICBpZiAoUGhhc2VyLklucHV0LktleWJvYXJkLkp1c3REb3duKG1hcHBpbmcucG93ZXJLZXlPYmopKSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5ZXIudXNlTmV4dFBvd2VyVXAoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGxheWVySW52ZW50b3J5VUkocGxheWVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgZXN0YWRvIGRlIGxvcyBqdWdhZG9yZXMgKHN1ZWxvLCBldGMuKVxyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKHBsYXllciA9PiBwbGF5ZXIudXBkYXRlKCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENyZWEgbGEgcGVsb3RhXHJcbiAgICBfY3JlYXRlQmFsbCgpIHtcclxuICAgICAgICB0aGlzLmJhbGwgPSBuZXcgQmFsbCh0aGlzLCB0aGlzLndvcmxkV2lkdGggLyAyLCAxNTApO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbmZpZ3VyYSBsYXMgY29saXNpb25lcyBkZSBsYSBwZWxvdGFcclxuICAgIF9zZXR1cEJhbGxDb2xsaXNpb25zKCkge1xyXG4gICAgICAgIC8vIGNvbGlzaW9uZXMgZGUgbGEgcGVsb3RhIGNvbiBsb3MganVnYWRvcmVzXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzLmZvckVhY2gocGxheWVyID0+IHtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLmFkZC5vdmVybGFwKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWxsLnNwcml0ZSxcclxuICAgICAgICAgICAgICAgIHBsYXllci5zcHJpdGUsXHJcbiAgICAgICAgICAgICAgICAoKSA9PiB0aGlzLl9vbkJhbGxQbGF5ZXJDb2xsaXNpb24odGhpcy5iYWxsLCBwbGF5ZXIpLFxyXG4gICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgIHRoaXNcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gY29saXNpw7NuIHBlbG90YS1yZWRcclxuICAgICAgICB0aGlzLnBoeXNpY3MuYWRkLmNvbGxpZGVyKHRoaXMuYmFsbC5zcHJpdGUsIHRoaXMucmVkLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIEVzdG8gc2UgZGlzcGFyYSBhbCB0b2NhciBsYSByZWRcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0xhIHBlbG90YSB0b2NhIGxhIHJlZCEnKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFBvciBlamVtcGxvLCBzZSBwdWVkZSBmcmVuYXIgbGEgcGVsb3RhOlxyXG4gICAgICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLnNldFZlbG9jaXR5WCh0aGlzLmJhbGwuc3ByaXRlLmJvZHkudmVsb2NpdHkueCAqIDAuNSk7XHJcbiAgICAgICAgICAgIHRoaXMuYmFsbC5zcHJpdGUuc2V0VmVsb2NpdHlZKHRoaXMuYmFsbC5zcHJpdGUuYm9keS52ZWxvY2l0eS55ICogMC41KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gY29saXNpw7NuIGRlIGxhIHBlbG90YSBjb24gZWwgc3VlbG8gKGRpc3BhcmEgcHVudHVhY2nDs24pXHJcbiAgICAgICAgY29uc3QgZ3JvdW5kWSA9IHRoaXMud29ybGRIZWlnaHQgLSAxMDtcclxuICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLnNldENvbGxpZGVXb3JsZEJvdW5kcyh0cnVlKTtcclxuICAgICAgICB0aGlzLmJhbGwuc3ByaXRlLnNldEJvdW5jZSgwLjgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbmZpZ3VyYSBsb3MgZXZlbnQgbGlzdGVuZXJzIGRlIGxhIHBlbG90YVxyXG4gICAgX3NldHVwQmFsbEV2ZW50cygpIHtcclxuICAgICAgICB0aGlzLmV2ZW50cy5vbigncmFsbHlDb25jbHVkZWQnLCAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgUmFsbHkgY29uY2x1ZGVkOiAke2RhdGEuc2NvcmluZ1BsYXllcklkfSBzY29yZXMhYCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjb3JlcklkID0gZGF0YS5zY29yaW5nUGxheWVySWQ7XHJcblxyXG4gICAgICAgICAgICAvLyBzZSBjb2dlIGVsIHBsYXllciBxdWUgaGEgYW5vdGFkb1xyXG4gICAgICAgICAgICBjb25zdCBzY29yaW5nUGxheWVyID0gdGhpcy5wbGF5ZXJzLmdldChzY29yZXJJZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG11bHRpcGxpZXIgPSBzY29yaW5nUGxheWVyID8gKHNjb3JpbmdQbGF5ZXIuc2NvcmVNdWx0aXBsaWVyIHx8IDEpIDogMTtcclxuXHJcbiAgICAgICAgICAgIC8vIDEgcHVudG8gYmFzZSAqIG11bHRpcGxpY2Fkb3JcclxuICAgICAgICAgICAgY29uc3QgcG9pbnRzVG9BZGQgPSBtdWx0aXBsaWVyO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNjb3JlcklkID09PSAncGxheWVyMScpIHtcclxuICAgICAgICAgICAgICAgIC8vIG1hcmNhZG9yIHZpc3VhbFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wb2ludHNMZWZ0ICs9IHBvaW50c1RvQWRkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZUxlZnQuc2V0VGV4dCh0aGlzLnBvaW50c0xlZnQudG9TdHJpbmcoKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcHVudG9zIGRlbCBzZXQgKHBhcmEgbMOzZ2ljYSBkZSBzZXRzKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY29yZVAxICs9IHBvaW50c1RvQWRkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHNjb3JlcklkID09PSAncGxheWVyMicpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9pbnRzUmlnaHQgKz0gcG9pbnRzVG9BZGQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJpZ2h0U2NvcmUuc2V0VGV4dCh0aGlzLnBvaW50c1JpZ2h0LnRvU3RyaW5nKCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NvcmVQMiArPSBwb2ludHNUb0FkZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBzZSByZXByb2R1Y2UgZWwgZWZlY3RvIGRlIHNvbmlkbyBkZSBwdW50b1xyXG4gICAgICAgICAgICB0aGlzLnBsYXlTZngodGhpcy5zZngucG9pbnQpO1xyXG5cclxuICAgICAgICAgICAgLy8gY29uZGljacOzbiBkZSAxMSBwdW50b3MgY29uIDIgZGUgZGlmZXJlbmNpYVxyXG4gICAgICAgICAgICB0aGlzLl9jaGVja1dpbkNvbmRpdGlvbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIE1hbmVqYSBjb2xpc2nDs24gZW50cmUgcGVsb3RhIHkganVnYWRvclxyXG4gICAgX29uQmFsbFBsYXllckNvbGxpc2lvbihiYWxsLCBwbGF5ZXIpIHtcclxuICAgICAgICBpZiAoIWJhbGwuaXNCYWxsTGl2ZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICBjb25zdCBpc0p1bXBpbmcgPSAhcGxheWVyLnNwcml0ZS5ib2R5LmJsb2NrZWQuZG93bjtcclxuICAgICAgICBjb25zdCBpc1JlY2VpdmluZyA9IHBsYXllci5pc1JlY2VpdmluZztcclxuICAgICAgICBjb25zdCBwbGF5ZXJEaXJlY3Rpb24gPSBwbGF5ZXIuZmFjaW5nO1xyXG5cclxuICAgICAgICBiYWxsLmhpdChwbGF5ZXIsIHBsYXllckRpcmVjdGlvbiwgaXNKdW1waW5nLCBpc1JlY2VpdmluZyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ29udHJvbGEgZWwgZmluYWwgZGVsIGp1ZWdvXHJcbiAgICBfZW5kR2FtZSh3aW5uZXIpIHtcclxuICAgICAgICAvLyBzZSBwYXJhIGVsIHRpbWVyIGRlbCBzZXRcclxuICAgICAgICBpZiAodGhpcy50aW1lckV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMudGltZXJFdmVudC5yZW1vdmUoZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVyRXZlbnQgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gc2UgZGV0aWVuZSBsYSBmw61zaWNhIGRlIGVzdGEgZXNjZW5hIGFudGVzIGRlIHNhbGlyXHJcbiAgICAgICAgaWYgKHRoaXMucGh5c2ljcyAmJiB0aGlzLnBoeXNpY3Mud29ybGQpIHtcclxuICAgICAgICAgICAgdGhpcy5waHlzaWNzLndvcmxkLnBhdXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KFwiRW5kR2FtZV9TY2VuZVwiLCB7XHJcbiAgICAgICAgICAgIHdpbm5lcjogd2lubmVyLFxyXG4gICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLnBsYXllcjEsXHJcbiAgICAgICAgICAgIHBsYXllcjI6IHRoaXMucGxheWVyMixcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBWZXJpZmljYSBzaSBhbGfDum4ganVnYWRvciBoYSBnYW5hZG8gZWwgc2V0XHJcbiAgICBfY2hlY2tXaW5Db25kaXRpb24oKSB7XHJcbiAgICAgICAgY29uc3Qgc2NvcmVEaWZmID0gdGhpcy5zY29yZVAxIC0gdGhpcy5zY29yZVAyO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zY29yZVAxID49IDExICYmIHNjb3JlRGlmZiA+PSAyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VuZFNldChcInBsYXllcjFcIik7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNjb3JlUDIgPj0gMTEgJiYgc2NvcmVEaWZmIDw9IC0yKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2VuZFNldChcInBsYXllcjJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIENvbnRyb2xhIGVsIGZpbmFsIGRlIHVuIHNldFxyXG4gICAgX2VuZFNldCh3aW5uZXIpIHtcclxuICAgICAgICAvLyBhY3R1YWxpemFyIHNldHMgZ2FuYWRvc1xyXG4gICAgICAgIGlmICh3aW5uZXIgPT09ICdwbGF5ZXIxJykgdGhpcy5zZXRzUDErKztcclxuICAgICAgICBlbHNlIGlmICh3aW5uZXIgPT09ICdwbGF5ZXIyJykgdGhpcy5zZXRzUDIrKztcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coYFNldCB0ZXJtaW5hZG8uIFNjb3JlIHNldHM6IFAxPSR7dGhpcy5zZXRzUDF9LCBQMj0ke3RoaXMuc2V0c1AyfWApO1xyXG5cclxuICAgICAgICAvLyBtb3N0cmFyIG1lbnNhamUgZGUgZ2FuYWRvciBkZSBzZXRcclxuICAgICAgICBjb25zdCB3aW5uZXJMYWJlbCA9ICh3aW5uZXIgPT09ICdwbGF5ZXIxJykgPyAnSnVnYWRvciAxJyA6ICdKdWdhZG9yIDInO1xyXG4gICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dC5zZXRUZXh0KGBTZXQgcGFyYSAke3dpbm5lckxhYmVsfWApO1xyXG4gICAgICAgIHRoaXMuc2V0V2lubmVyVGV4dC5zZXRWaXNpYmxlKHRydWUpO1xyXG5cclxuICAgICAgICAvLyBBdmFuemFyIG7Dum1lcm8gZGUgc2V0XHJcbiAgICAgICAgdGhpcy5jdXJyZW50U2V0Kys7XHJcblxyXG4gICAgICAgIGNvbnN0IG1hdGNoT3ZlciA9ICh0aGlzLnNldHNQMSA9PT0gMiB8fCB0aGlzLnNldHNQMiA9PT0gMik7XHJcblxyXG4gICAgICAgIGlmIChtYXRjaE92ZXIpIHtcclxuICAgICAgICAgICAgLy8gw7psdGltbyBzZXQ6IG1vc3RyYW1vcyBlbCBtZW5zYWplIDJzIHkgbHVlZ28gcGFzYW1vcyBhIGxhIGVzY2VuYSBmaW5hbFxyXG4gICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMjAwMCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gKHNpIHF1aWVyZXMsIGFxdcOtIHBvZHLDrWFzIG9jdWx0YXIgZWwgdGV4dG8pXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmRHYW1lKHdpbm5lcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHNldCBpbnRlcm1lZGlvOiBtb3N0cmFtb3MgZWwgbWVuc2FqZSAycywgbG8gb2N1bHRhbW9zIHkgcmVpbmljaWFtb3MgZWwgc2V0XHJcbiAgICAgICAgICAgIHRoaXMudGltZS5kZWxheWVkQ2FsbCgyMDAwLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXRXaW5uZXJUZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRXaW5uZXJUZXh0LnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzZXRTZXQoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFJlaW5pY2lhIGVsIGVzdGFkbyBwYXJhIHVuIG51ZXZvIHNldFxyXG4gICAgX3Jlc2V0U2V0KCkge1xyXG4gICAgICAgIC8vIHNlIGFjdHVhbGl6YSBlbCB0ZXh0byBkZWwgc2V0IGFjdHVhbFxyXG4gICAgICAgIHRoaXMuc2V0VGV4dC5zZXRUZXh0KGBTRVQgJHt0aGlzLmN1cnJlbnRTZXR9YCk7XHJcblxyXG4gICAgICAgIC8vIHNlIHJlaW5pY2lhIGVsIHRpZW1wb1xyXG4gICAgICAgIHRoaXMudGllbXBvUmVzdGFudGUgPSB0aGlzLnRpZW1wb1RvdGFsO1xyXG4gICAgICAgIHRoaXMudGltZXJFdmVudC5wYXVzZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnVwZGF0ZVRpbWVyKCk7XHJcblxyXG4gICAgICAgIC8vIHNlIHJlaW5pY2lhIGxhIHB1bnR1YWNpw7NuIGRlbCBzZXQgKGzDs2dpY2EpXHJcbiAgICAgICAgdGhpcy5zY29yZVAxID0gMDtcclxuICAgICAgICB0aGlzLnNjb3JlUDIgPSAwO1xyXG5cclxuICAgICAgICAvLyBzZSByZWluaWNpYSBlbCBtYXJjYWRvciB2aXN1YWwgZW4gcGFudGFsbGFcclxuICAgICAgICB0aGlzLnBvaW50c0xlZnQgPSAwO1xyXG4gICAgICAgIHRoaXMucG9pbnRzUmlnaHQgPSAwO1xyXG4gICAgICAgIHRoaXMuc2NvcmVMZWZ0LnNldFRleHQoJzAnKTtcclxuICAgICAgICB0aGlzLnJpZ2h0U2NvcmUuc2V0VGV4dCgnMCcpO1xyXG5cclxuICAgICAgICAvLyBzZSByZWluaWNpYSBsYSBwZWxvdGFcclxuICAgICAgICB0aGlzLmJhbGwucmVzZXRSYWxseSgpO1xyXG5cclxuICAgICAgICAvLyBzZSByZXBvc2ljaW9uYW4gbG9zIGp1Z2Fkb3JlcyBhIHN1cyBwb3NpY2lvbmVzIGluaWNpYWxlc1xyXG4gICAgICAgIGNvbnN0IHAxID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMScpO1xyXG4gICAgICAgIGNvbnN0IHAyID0gdGhpcy5wbGF5ZXJzLmdldCgncGxheWVyMicpO1xyXG5cclxuICAgICAgICBwMS5zZXRQb3NpdGlvbih0aGlzLndvcmxkV2lkdGggKiAwLjI1LCB0aGlzLndvcmxkSGVpZ2h0ICogMC43KTtcclxuICAgICAgICBwMi5zZXRQb3NpdGlvbih0aGlzLndvcmxkV2lkdGggKiAwLjc1LCB0aGlzLndvcmxkSGVpZ2h0ICogMC43KTtcclxuXHJcbiAgICAgICAgcDEuaWRsZVJpZ2h0KCk7XHJcbiAgICAgICAgcDIuaWRsZUxlZnQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5U2Z4KHRoaXMuc2Z4LndoaXN0bGUpO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vIFBhbnRhbGxhIGRlIENvbmZpZ3VyYWNpw7NuXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgZW5zdXJlU3RvcmVkQXVkaW9TZXR0aW5ncywgZ2V0U3RvcmVkTXVzaWNWb2x1bWUsIGdldFN0b3JlZFNmeFZvbHVtZSwgc2V0U3RvcmVkTXVzaWNWb2x1bWUsIHNldFN0b3JlZFNmeFZvbHVtZSwgYXBwbHlTdG9yZWRWb2x1bWUgfSBmcm9tICcuLi9VSS9BdWRpby5qcyc7XHJcbmltcG9ydCB7IGNyZWF0ZUljb25CdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0aW9uX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdDb25maWd1cmF0aW9uX1NjZW5lJyk7XHJcblxyXG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIGltw6FnZW5lcyBmb25kbyB5IHVpXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9GTEVDSEFfVk9MVkVSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBjb250cm9sZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2RlclRlY2xhcycsICdBU1NFVFMvVUkvQ09OVFJPTEVTL2Rlci5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2l6cVRlY2xhcycsICdBU1NFVFMvVUkvQ09OVFJPTEVTL2l6cS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gc29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7XHJcblxyXG4gICAgICAgIC8vIEZvbmRvXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwKVxyXG4gICAgICAgICAgICAuc2V0RGVwdGgoLTEpXHJcbiAgICAgICAgICAgIC5zZXREaXNwbGF5U2l6ZSh3aWR0aCwgaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gVMOtdHVsbyBkZSBsYSBlc2NlbmFcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGhlaWdodCAqIDAuMSwgJ0NvbmZpZ3VyYWNpw7NuJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjNWYwMDAwZmYnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIFN1YnRpdHVsbyBkZSBtdXNpY2FcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGhlaWdodCAqIDAuMiwgJ1ZvbHVtZW4gZGUgbGEgbcO6c2ljYScsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8vLyBWT0xVTUVORVMgLy8vL1xyXG4gICAgICAgIGVuc3VyZVN0b3JlZEF1ZGlvU2V0dGluZ3MoKTtcclxuICAgICAgICBjb25zdCBpbml0aWFsTXVzaWNWb2x1bWUgPSBnZXRTdG9yZWRNdXNpY1ZvbHVtZSgpO1xyXG4gICAgICAgIGNvbnN0IGluaXRpYWxTZnhWb2x1bWUgPSBnZXRTdG9yZWRTZnhWb2x1bWUoKTtcclxuXHJcbiAgICAgICAgLy8gc2UgYXBsaWNhIGVsIHZvbHVtZW4gbmFkYSBtYXMgY2FyZ2FyXHJcbiAgICAgICAgYXBwbHlTdG9yZWRWb2x1bWUodGhpcyk7XHJcblxyXG4gICAgICAgIC8vIGJhcnJhIGRlIHZvbHVtZW4gKG11c2ljYSlcclxuICAgICAgICB0aGlzLm11c2ljVm9sdW1lU2xpZGVyID0gdGhpcy5hZGRcclxuICAgICAgICAgICAgLmRvbShjZW50ZXJYLCBoZWlnaHQgKiAwLjI2KVxyXG4gICAgICAgICAgICAuY3JlYXRlRnJvbUhUTUwoYDxpbnB1dCB0eXBlPVwicmFuZ2VcIiBtaW49XCIwXCIgbWF4PVwiMVwiIHN0ZXA9XCIwLjAxXCIgdmFsdWU9XCIke2luaXRpYWxNdXNpY1ZvbHVtZX1cIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9XCJ3aWR0aDoyMjBweDsgaGVpZ2h0OjIwcHg7IGFjY2VudC1jb2xvcjojMDBhYWZmOyBib3JkZXItcmFkaXVzOjVweDtcIi8+XHJcbiAgICAgICAgICAgIGApO1xyXG5cclxuICAgICAgICB0aGlzLm11c2ljVm9sdW1lU2xpZGVyLmFkZExpc3RlbmVyKCdpbnB1dCcpO1xyXG4gICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIub24oJ2lucHV0JywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcclxuICAgICAgICAgICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIHNldFN0b3JlZE11c2ljVm9sdW1lKHRhcmdldC52YWx1ZSk7XHJcbiAgICAgICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBTdWJ0aXR1bG8gZGUgZWZlY3Rvc1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC4zMiwgJ1ZvbHVtZW4gZGUgZWZlY3RvcycsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjRweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gYmFycmEgZGUgdm9sdW1lbiAoZWZlY3RvcylcclxuICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlciA9IHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5kb20oY2VudGVyWCwgaGVpZ2h0ICogMC4zOClcclxuICAgICAgICAgICAgLmNyZWF0ZUZyb21IVE1MKGA8aW5wdXQgdHlwZT1cInJhbmdlXCIgbWluPVwiMFwiIG1heD1cIjFcIiBzdGVwPVwiMC4wMVwiIHZhbHVlPVwiJHtpbml0aWFsU2Z4Vm9sdW1lfVwiXHJcbiAgICAgICAgICAgICAgICBzdHlsZT1cIndpZHRoOjIyMHB4OyBoZWlnaHQ6MjBweDsgYWNjZW50LWNvbG9yOiMwMGFhZmY7IGJvcmRlci1yYWRpdXM6NXB4O1wiLz5cclxuICAgICAgICAgICAgYCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyLmFkZExpc3RlbmVyKCdpbnB1dCcpO1xyXG4gICAgICAgIHRoaXMuc2Z4Vm9sdW1lU2xpZGVyLm9uKCdpbnB1dCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcbiAgICAgICAgICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIEhUTUxJbnB1dEVsZW1lbnQpKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBzZXRTdG9yZWRTZnhWb2x1bWUodGFyZ2V0LnZhbHVlKTtcclxuICAgICAgICAgICAgYXBwbHlTdG9yZWRWb2x1bWUodGhpcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8vLy8vLy9cclxuXHJcbiAgICAgICAgLy8gYm90w7NuIFZvbHZlciBhdHLDoXNcclxuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogd2lkdGggKiAwLjA2LFxyXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjA4LFxyXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxyXG4gICAgICAgICAgICBzY2FsZTogMSxcclxuICAgICAgICAgICAgaG92ZXJTY2FsZTogMS4xLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyksXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFNlcGFyYWRvciB2aXN1YWxcclxuICAgICAgICBjb25zdCBsaW5lID0gdGhpcy5hZGQuZ3JhcGhpY3MoKTtcclxuICAgICAgICAgICAgbGluZS5saW5lU3R5bGUoMywgMHgwMDAwMDAsIDEpOyAvLyBncm9zb3IsIGNvbG9yLCBhbHBoYVxyXG4gICAgICAgICAgICBsaW5lLmJlZ2luUGF0aCgpO1xyXG4gICAgICAgICAgICBsaW5lLm1vdmVUbyh3aWR0aCAqIDAuMSwgaGVpZ2h0ICogMC40Nik7ICAgLy8gaW5pY2lvICgyMCUgZGVsIGFuY2hvKVxyXG4gICAgICAgICAgICBsaW5lLmxpbmVUbyh3aWR0aCAqIDAuOSwgaGVpZ2h0ICogMC40Nik7ICAgLy8gZmluYWwgKDgwJSBkZWwgYW5jaG8pXHJcbiAgICAgICAgICAgIGxpbmUuc3Ryb2tlUGF0aCgpO1xyXG5cclxuICAgICAgICAvLyBDb250cm9sZXNcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGhlaWdodCAqIDAuNTIsICdDb250cm9sZXMnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZicsXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHNlcGFyYXRpb24gPSA0MDA7XHJcblxyXG4gICAgICAgIC8vIE1pbmktdHV0b3JpYWxcclxuICAgICAgICAvLyBURUNMQVMgREVSRUNIQVxyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiArIHNlcGFyYXRpb24gLyAyLCAzODAsICdkZXJUZWNsYXMnKVxyXG4gICAgICAgICAgICAuc2V0U2NhbGUoMC4zNSlcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIC8vIFRFQ0xBUyBJWlFVSUVSREFcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSh3aWR0aCAvIDIgLSBzZXBhcmF0aW9uIC8gMiwgMzgwLCAnaXpxVGVjbGFzJylcclxuICAgICAgICAgICAgLnNldFNjYWxlKDAuMzUpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gc2UgbGltcGlhIGVsIHNsaWRlciBhbCBzYWxpciBkZSBsYSBlc2NlbmFcclxuICAgICAgICAvLyAoYXPDrSBzZSBldml0YSBxdWUgc2UgYWN1bXVsZW4gc2kgZW50cmFzIHkgc2FsZXMgdmFyaWFzIHZlY2VzKVxyXG4gICAgICAgIHRoaXMuZXZlbnRzLm9uY2UoUGhhc2VyLlNjZW5lcy5FdmVudHMuU0hVVERPV04sICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubXVzaWNWb2x1bWVTbGlkZXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm11c2ljVm9sdW1lU2xpZGVyLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubXVzaWNWb2x1bWVTbGlkZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNmeFZvbHVtZVNsaWRlcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZnhWb2x1bWVTbGlkZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlci5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNmeFZvbHVtZVNsaWRlciA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCIvLyBQYW50YWxsYSBkZSBDcsOpZGl0b3NcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjcmVhdGVJY29uQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgQ3JlZGl0c19TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignQ3JlZGl0c19TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gaW3DoWdlbmVzIGZvbmRvIHkgdWlcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0ZMRUNIQV9WT0xWRVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdmb25kbycsICdBU1NFVFMvRk9ORE9TL0ZPTkRPX0JBU0UucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdsb2dvJywgJ0FTU0VUUy9MT0dPL2xvZ29fZW1wcmVzYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hcmNvJywnQVNTRVRTL1VJL01BUkNPUy9WQUNJT1MvTUFSQ09TX0VTQ0VOQVJJTy5wbmcnKVxyXG5cclxuICAgICAgICAvLyBzb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xyXG5cclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzPy5kZWZhdWx0VGV4dFN0eWxlID8/IHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkXHJcbiAgICAgICAgICAgIC5pbWFnZSgwLCAwLCAnZm9uZG8nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSlcclxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyB0w610dWxvXHJcbiAgICAgICAgdGhpcy5hZGRcclxuICAgICAgICAgICAgLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC4xNSwgJ0Nyw6lkaXRvcycsIHtcclxuICAgICAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICAgICAgZm9udFNpemU6ICczMnB4JyxcclxuICAgICAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJyxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBub21icmVzIGRlbCBlcXVpcG9cclxuICAgICAgICBjb25zdCBub21icmVzRXF1aXBvID0gW1xyXG4gICAgICAgICAgICAnR1JVUE8gNSAtIFNVTlNFVCBBUkNBREUnLFxyXG4gICAgICAgICAgICAnU2FyYSBCdWVubyBFc3RlYmFuJyxcclxuICAgICAgICAgICAgJ0FudG9uaW8gTW9yw6FuIEJhcnJlcmEnLFxyXG4gICAgICAgICAgICAnQ3Jpc3RpbmUgTmlva2EgVGV3bycsXHJcbiAgICAgICAgICAgICfDgWx2YXJvIEliw6HDsWV6IE1vbnRlcm8nLFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIC8vIG1hcmNvIGNlbnRyYWRvXHJcbiAgICAgICAgY29uc3QgZnJhbWVZID0gaGVpZ2h0ICogMC40MjtcclxuICAgICAgICBjb25zdCBmcmFtZSA9IHRoaXMuYWRkLmltYWdlKGNlbnRlclgsIGZyYW1lWSwgJ21hcmNvJykuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGVzY2FsYSBkZWwgbWFyY28gc2Vnw7puIGxhIHJlc29sdWNpw7NuXHJcbiAgICAgICAgY29uc3QgdGFyZ2V0RnJhbWVXaWR0aCA9IHdpZHRoICogMC40NTtcclxuICAgICAgICBjb25zdCBzY2FsZSA9IHRhcmdldEZyYW1lV2lkdGggLyBmcmFtZS53aWR0aDtcclxuICAgICAgICBmcmFtZS5zZXRTY2FsZShzY2FsZSk7XHJcblxyXG4gICAgICAgIC8vIHRleHRvcyBkZW50cm8gZGVsIG1hcmNvIGNlbnRyYWRvcyB2ZXJ0aWNhbG1lbnRlXHJcbiAgICAgICAgY29uc3QgbGluZVNwYWNpbmcgPSAzMDtcclxuICAgICAgICBjb25zdCBzdGFydFkgPSBmcmFtZVkgLSAoKG5vbWJyZXNFcXVpcG8ubGVuZ3RoIC0gMSkgKiBsaW5lU3BhY2luZykgLyAyO1xyXG5cclxuICAgICAgICBub21icmVzRXF1aXBvLmZvckVhY2goKG5vbWJyZSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpc0hlYWRlciA9IGkgPT09IDA7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkXHJcbiAgICAgICAgICAgICAgICAudGV4dChjZW50ZXJYLCBzdGFydFkgKyBpICogbGluZVNwYWNpbmcsIG5vbWJyZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiBpc0hlYWRlciA/ICcyMnB4JyA6ICcyMHB4JyxcclxuICAgICAgICAgICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gbG9nbyBlbXByZXNhXHJcbiAgICAgICAgdGhpcy5hZGRcclxuICAgICAgICAgICAgLmltYWdlKGNlbnRlclgsIGhlaWdodCAqIDAuNzgsICdsb2dvJylcclxuICAgICAgICAgICAgLnNldE9yaWdpbigwLjUpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgwLjYpO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gVm9sdmVyIGF0csOhc1xyXG4gICAgICAgIGNyZWF0ZUljb25CdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuMDYsXHJcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXHJcbiAgICAgICAgICAgIHRleHR1cmU6ICdib3RvblZvbHZlcicsXHJcbiAgICAgICAgICAgIHNjYWxlOiAxLFxyXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01lbnVfU2NlbmUnKSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iLCIvL1BhbnRhbGxhIGRlIEZpblxyXG5pbXBvcnQgUGhhc2VyIGZyb20gJ3BoYXNlcic7XHJcbmltcG9ydCB7IGNyZWF0ZVVJQnV0dG9uIH0gZnJvbSAnLi4vVUkvQnV0dG9ucy5qcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgRW5kR2FtZV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignRW5kR2FtZV9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMud2lubmVyID0gZGF0YS53aW5uZXI7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxID0gZGF0YS5wbGF5ZXIxO1xyXG4gICAgICAgIHRoaXMucGxheWVyMiA9IGRhdGEucGxheWVyMjtcclxuICAgIH1cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gaW3DoWdlbmVzIGZvbmRvIHkgdWlcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfR19TRUxFQ0NJT05BRE8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfRy5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gc29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHsgXHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHMuZGVmYXVsdFRleHRTdHlsZTtcclxuXHJcbiAgICAgICAgY29uc3QgY2hhclAxID0gdGhpcy5wbGF5ZXIxLm5hbWU7XHJcbiAgICAgICAgY29uc3QgY2hhclAyID0gdGhpcy5wbGF5ZXIyLm5hbWU7XHJcblxyXG4gICAgICAgIC8vIEZvbmRvIChjb2xvciBjcmVtYSlcclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKS5zZXRPcmlnaW4oMCkuc2V0RGVwdGgoLTEpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvIHByaW5jaXBhbFxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCBoZWlnaHQgKiAwLjE4LCBcIsKhRklOIERFTCBQQVJUSURPIVwiLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzY0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gZGVsIGdhbmFkb3JcclxuICAgICAgICBjb25zdCB3aW5uZXJUZXh0ID1cclxuICAgICAgICAgICAgdGhpcy53aW5uZXIgPT09IFwicGxheWVyMVwiXHJcbiAgICAgICAgICAgICAgICA/IFwiR2FuYWRvcjogXCIgKyBjaGFyUDFcclxuICAgICAgICAgICAgICAgIDogXCJHYW5hZG9yOiBcIiArIGNoYXJQMjtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAqIDAuNDAsIHdpbm5lclRleHQsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMzJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzVmMDAwMGZmJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gcGFyYSB2b2x2ZXIgYWwgbWVuw7ogcHJpbmNpcGFsXHJcbiAgICAgICAgY29uc3QgYnV0dG9uVGV4dFN0eWxlID0ge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyNnB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuNjAsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnVm9sdmVyIGEgaW5pY2lvJyxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIHNjYWxlOiAzLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIi8vIFBhbnRhbGxhIHBhcmEgZWxlZ2lyIE1vZG8gZGUgSnVlZ29cclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiwgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5pbXBvcnQgeyBhcHBseVN0b3JlZFZvbHVtZSB9IGZyb20gJy4uL1VJL0F1ZGlvLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBNb2RlR2FtZV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTW9kZUdhbWVfU2NlbmUnKTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIGJvdG9uZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX1NFTEVDQ0lPTkRPLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW5TZWxlY2Npb25hcicsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9TSU5fU0VMRUNDSU9OQVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblZvbHZlcicsICdBU1NFVFMvVUkvQk9UT05FUy9GTEVDSEFfVk9MVkVSLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBzb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzPy5kZWZhdWx0VGV4dFN0eWxlID8/IHtcclxuICAgICAgICAgICAgZm9udEZhbWlseTogJ0FyaWFsJyxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBzZSBhcGxpY2EgZWwgdm9sdW1lblxyXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBmb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAgICAgLnNldERlcHRoKC0xKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIHTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZFxyXG4gICAgICAgICAgICAudGV4dCh3aWR0aCAvIDIsIGhlaWdodCAqIDAuMTgsICdNb2RvIGRlIEp1ZWdvJywge1xyXG4gICAgICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgICAgICBmb250U2l6ZTogJzQwcHgnLFxyXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnLFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIGxheW91dFxyXG4gICAgICAgIGNvbnN0IGJ1dHRvblkgPSBoZWlnaHQgKiAwLjU7XHJcbiAgICAgICAgY29uc3Qgc3BhY2luZyA9IE1hdGgubWluKDI4MCwgd2lkdGggKiAwLjMpO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0WCA9IHdpZHRoIC8gMiAtIHNwYWNpbmcgLyAyO1xyXG5cclxuICAgICAgICBjb25zdCBidXR0b25UZXh0U3R5bGUgPSB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzI0cHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnN0IHN0YXJ0TW9kZSA9IChtb2RlKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFNlIHBhc2EgZWwgbW9kbyBhIGxhIHNpZ3VpZW50ZSBlc2NlbmFcclxuICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdsb2NhbCcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NlbGVjdFBsYXllcl9TY2VuZScsIHsgbW9kZTogbW9kZSB9KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ0xvZ2dpbmdfU2NlbmUnLCB7IG1vZGU6IG1vZGUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gTE9DQUxcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHN0YXJ0WCxcclxuICAgICAgICAgICAgeTogYnV0dG9uWSxcclxuICAgICAgICAgICAgbGFiZWw6ICdMb2NhbCcsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHN0YXJ0TW9kZSgnbG9jYWwnKSxcclxuICAgICAgICAgICAgc2NhbGU6IDIsXHJcbiAgICAgICAgICAgIHRleHR1cmVOb3JtYWw6ICdib3RvblNpblNlbGVjY2lvbmFyJyxcclxuICAgICAgICAgICAgdGV4dHVyZUhvdmVyOiAnYm90b25TZWxlY2Npb25hZG8nLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIFJFRFxyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogc3RhcnRYICsgc3BhY2luZyxcclxuICAgICAgICAgICAgeTogYnV0dG9uWSxcclxuICAgICAgICAgICAgbGFiZWw6ICdSZWQnLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiBzdGFydE1vZGUoJ29ubGluZScpLFxyXG4gICAgICAgICAgICBzY2FsZTogMixcclxuICAgICAgICAgICAgdGV4dHVyZU5vcm1hbDogJ2JvdG9uU2luU2VsZWNjaW9uYXInLFxyXG4gICAgICAgICAgICB0ZXh0dXJlSG92ZXI6ICdib3RvblNlbGVjY2lvbmFkbycsXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogYnV0dG9uVGV4dFN0eWxlLFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gdm9sdmVyXHJcbiAgICAgICAgY3JlYXRlSWNvbkJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IHdpZHRoICogMC4wNixcclxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC4wOCxcclxuICAgICAgICAgICAgdGV4dHVyZTogJ2JvdG9uVm9sdmVyJyxcclxuICAgICAgICAgICAgc2NhbGU6IDEsXHJcbiAgICAgICAgICAgIGhvdmVyU2NhbGU6IDEuMSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICAgICAgb25DbGljazogKCkgPT4gdGhpcy5zY2VuZS5zdGFydCgnTWVudV9TY2VuZScpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcbiIsIi8vUGFudGFsbGEgZGUgUGF1c2FcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBhdXNlX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdQYXVzZV9TY2VuZScpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gSW3DoWdlbmVzIGZvbmRvIHkgdWlcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL1ZPTFZFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfR19TRUxFQ0NJT05BRE8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfRy5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gU29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCBzdHlsZSA9IHRoaXMuZ2FtZS5nbG9iYWxzLmRlZmF1bHRUZXh0U3R5bGU7IFxyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuICAgICAgICBjb25zdCBjZW50ZXJYID0gd2lkdGggLyAyO1xyXG5cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKS5zZXRPcmlnaW4oMCkuc2V0RGVwdGgoLTEpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjE4LCAnUEFVU0EnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzMycHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyM1ZjAwMDBmZidcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgY29uc3QgYnV0dG9uVGV4dFN0eWxlID0ge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIGJvdMOzbiBDb250aW51YXJcclxuICAgICAgICBjcmVhdGVVSUJ1dHRvbih0aGlzLCB7XHJcbiAgICAgICAgICAgIHg6IGNlbnRlclgsXHJcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuNTIsXHJcbiAgICAgICAgICAgIGxhYmVsOiAnQ29udGludWFyJyxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiBidXR0b25UZXh0U3R5bGUsXHJcbiAgICAgICAgICAgIHNjYWxlOiAyLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUucmVzdW1lKCdHYW1lX1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gYm90w7NuIE1lbsO6IFByaW5jaXBhbFxyXG4gICAgICAgIGNyZWF0ZVVJQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogY2VudGVyWCxcclxuICAgICAgICAgICAgeTogaGVpZ2h0ICogMC42NixcclxuICAgICAgICAgICAgbGFiZWw6ICdNZW7DuiBQcmluY2lwYWwnLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IGJ1dHRvblRleHRTdHlsZSxcclxuICAgICAgICAgICAgc2NhbGU6IDIsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdhbWVTY2VuZSA9IHRoaXMuc2NlbmUuZ2V0KCdHYW1lX1NjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ2FtZVNjZW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2FtZVNjZW5lLmlucHV0LmtleWJvYXJkLnJlbW92ZUFsbExpc3RlbmVycygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWVTY2VuZS5pbnB1dC5rZXlib2FyZC5yZW1vdmVBbGxLZXlzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdG9wKCdHYW1lX1NjZW5lJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdNZW51X1NjZW5lJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsIi8vUGFudGFsbGEgZGUgU2VsZWNjaW9uIGRlIGp1Z2Fkb3JcclxuaW1wb3J0IFBoYXNlciBmcm9tICdwaGFzZXInO1xyXG5pbXBvcnQgeyBhcHBseVN0b3JlZFZvbHVtZSwgcGxheUNsaWNrIH0gZnJvbSAnLi4vVUkvQXVkaW8uanMnO1xyXG5pbXBvcnQgeyBjcmVhdGVVSUJ1dHRvbiwgY3JlYXRlSWNvbkJ1dHRvbiB9IGZyb20gJy4uL1VJL0J1dHRvbnMuanMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNlbGVjdFBsYXllcl9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignU2VsZWN0UGxheWVyX1NjZW5lJyk7XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY3VycmVudFR1cm4gPSAwOyAgICAgICAvLyAwIC0+IGp1Z2Fkb3IxLCAxIC0+IGp1Z2Fkb3IyLCBudWxsIC0+IGFtYm9zIGNvbXBsZXRvc1xyXG4gICAgICAgIHRoaXMucGxheWVySW5wdXRzID0gW107ICAgICAvLyBET01FbGVtZW50cyBQaGFzZXJcclxuICAgICAgICB0aGlzLnBsYXllcklucHV0RWxzID0gW107ICAgLy8gSFRNTElucHV0RWxlbWVudFxyXG4gICAgICAgIHRoaXMudHVyblRleHQgPSBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoZGF0YSkge1xyXG4gICAgICAgIHRoaXMubW9kZSA9IGRhdGEubW9kZTtcclxuICAgICAgICBjb25zb2xlLmxvZygnTW9kbyBkZSBKdWVnbzonLCB0aGlzLm1vZGUpO1xyXG4gICAgICAgIHRoaXMuaXNIb3N0ID0gZGF0YS5pc0hvc3Q7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0hvc3Q6JywgdGhpcy5pc0hvc3QpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gYm90b25lc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fU0VMRUNDSU9ORE8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpblNlbGVjY2lvbmFyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX1NJTl9TRUxFQ0NJT05BUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL1ZPTFZFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfU0lOU0VMRUNDSU9OQVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBmb25kb1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnZm9uZG8nLCAnQVNTRVRTL0ZPTkRPUy9GT05ET19CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnbWFyY29KdWdhZG9yJywgJ0FTU0VUUy9VSS9NQVJDT1MvVkFDSU9TL01BUkNPX1BFUlNPTkFKRV9TRUxFQ0NJT05BRE8ucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIHBlcnNvbmFqZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NoYXJhY3RlckEnLCAnQVNTRVRTL1BFUlNPTkFKRVMvUEVSU09OQUpFU19QT1NFL3BlcnNvbmFqZXNfYS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NoYXJhY3RlckInLCAnQVNTRVRTL1BFUlNPTkFKRVMvUEVSU09OQUpFU19QT1NFL3BlcnNvbmFqZXNfYi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2NoYXJhY3RlckMnLCAnQVNTRVRTL1BFUlNPTkFKRVMvUEVSU09OQUpFU19QT1NFL3BlcnNvbmFqZV9jLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBzb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY3JlYXRlKCkge1xyXG4gICAgICAgIC8vIHNlIGxpbXBpYW4gdG9kYXMgbGFzIHRlY2xhcyBjYXB0dXJhZGFzIHBvciBvdHJhcyBlc2NlbmFzXHJcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5yZW1vdmVBbGxLZXlzKHRydWUpO1xyXG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuXHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscz8uZGVmYXVsdFRleHRTdHlsZSA/PyB7XHJcbiAgICAgICAgICAgIGZvbnRGYW1pbHk6ICdBcmlhbCcsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnI2ZmZmZmZicsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gc2UgYXBsaWNhIGVsIHZvbHVtZW5cclxuICAgICAgICBhcHBseVN0b3JlZFZvbHVtZSh0aGlzKTtcclxuXHJcbiAgICAgICAgLy8gRm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKVxyXG4gICAgICAgICAgICAuc2V0T3JpZ2luKDApXHJcbiAgICAgICAgICAgIC5zZXREZXB0aCgtMSlcclxuICAgICAgICAgICAgLnNldERpc3BsYXlTaXplKHdpZHRoLCBoZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvXHJcbiAgICAgICAgdGhpcy5hZGQudGV4dCh3aWR0aCAvIDIsIDUwLCAnU2VsZWNjaW9uYSBQZXJzb25hamUnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLCBmb250U2l6ZTogJzQwcHgnLCBjb2xvcjogJyMwMDAnLCBmb250U3R5bGU6ICdib2xkJyxcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gU2VndW4gZWwgbW9kbyBzZSBjcmVhIHVuYSBVSSB1IG90cmFcclxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnbG9jYWwnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTG9jYWxVSSh3aWR0aCwgaGVpZ2h0LCBzdHlsZSk7XHJcbiAgICAgICAgfSBcclxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnb25saW5lJykge1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZU9ubGluZVVJKHdpZHRoLCBoZWlnaHQsIHN0eWxlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEJvdMOzbiB2b2x2ZXJcclxuICAgICAgICBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogd2lkdGggKiAwLjA2LFxyXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjA4LFxyXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxyXG4gICAgICAgICAgICBzY2FsZTogMSxcclxuICAgICAgICAgICAgaG92ZXJTY2FsZTogMS4xLFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLnNjZW5lLnN0YXJ0KCdNb2RlR2FtZV9TY2VuZScpLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBzZSBsaW1waWEgRE9NIGFsIHNhbGlyXHJcbiAgICAgICAgdGhpcy5ldmVudHMub25jZShQaGFzZXIuU2NlbmVzLkV2ZW50cy5TSFVURE9XTiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnBsYXllcklucHV0cy5mb3JFYWNoKChkb20pID0+IGRvbT8uZGVzdHJveSgpKTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dHMgPSBbXTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dEVscyA9IFtdO1xyXG4gICAgICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLmVuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZUxvY2FsVUkod2lkdGgsIGhlaWdodCwgc3R5bGUpIHtcclxuICAgICAgICAvLyBEYXRvcyBkZSBsb3MganVnYWRvcmVzXHJcbiAgICAgICAgdGhpcy5wbGF5ZXJzID0gW1xyXG4gICAgICAgICAgICB7IG5hbWU6ICcnLCBjaGFyYWN0ZXI6IG51bGwsIGNvbG9yOiAweDAwYWFmZiwgYmlnSW1hZ2U6IG51bGwsIGJpZ0ZyYW1lOiBudWxsLCBmcmFtZTogbnVsbCB9LFxyXG4gICAgICAgICAgICB7IG5hbWU6ICcnLCBjaGFyYWN0ZXI6IG51bGwsIGNvbG9yOiAweGZmNTU1NSwgYmlnSW1hZ2U6IG51bGwsIGJpZ0ZyYW1lOiBudWxsLCBmcmFtZTogbnVsbCB9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIC8vIFRleHRvIGRlIHR1cm5vXHJcbiAgICAgICAgdGhpcy50dXJuVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCA5MCwgJ1R1cm5vOiBKdWdhZG9yIDEnLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLCBmb250U2l6ZTogJzE4cHgnLCBjb2xvcjogJyMwMDAnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBVSSBqdWdhZG9yZXMgKyBtaW5pYXR1cmFzXHJcbiAgICAgICAgdGhpcy5jcmVhdGVQbGF5ZXJzVUkoKTtcclxuICAgICAgICB0aGlzLmNyZWF0ZUNoYXJhY3Rlck1pbmlhdHVyZXMoMCwgMCk7XHJcbiAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gU2lndWllbnRlXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IDUwMCxcclxuICAgICAgICAgICAgbGFiZWw6ICdTaWd1aWVudGUnLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLmhhbmRsZU5leHQoKSxcclxuICAgICAgICAgICAgc2NhbGU6IDEuNSxcclxuICAgICAgICAgICAgdGV4dHVyZU5vcm1hbDogJ2JvdG9uU2ltcGxlJyxcclxuICAgICAgICAgICAgdGV4dHVyZUhvdmVyOiAnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMTRweCcsIGNvbG9yOiAnIzAwMCcgfSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZU9ubGluZVVJKHdpZHRoLCBoZWlnaHQsIHN0eWxlKSB7XHJcbiAgICAgICAgLy8gRGF0b3MgZGVsIGp1Z2Fkb3JcclxuICAgICAgICB0aGlzLnBsYXllcnMgPSBbXHJcbiAgICAgICAgICAgIHsgbmFtZTogdGhpcy5yZWdpc3RyeS5nZXQoJ3VzZXJuYW1lJykgfHwgJ0p1Z2Fkb3JYJywgY2hhcmFjdGVyOiBudWxsLCBjb2xvcjogMHgwMGFhZmYsIGJpZ0ltYWdlOiBudWxsLCBiaWdGcmFtZTogbnVsbCwgZnJhbWU6IG51bGwgfVxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxMDAsIGAke3RoaXMucGxheWVyc1swXS5uYW1lfWAsIHsgXHJcbiAgICAgICAgICAgIC4uLnN0eWxlLCBmb250U2l6ZTogJzI4cHgnLCBjb2xvcjogJyMwMDAnLCBmb250U3R5bGU6ICdib2xkJyBcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBUZXh0byBkZSB0dXJubyAoRXN0YWRvIGVuIGVzdGUgY2FzbywgcGVybyBjb24gZWwgbWlzbW8gbm9tYnJlIHBhcmEgbWFudGVybmVyIGxhIG1pc21hIGZ1bmNpb25hbGlkYWQpXHJcbiAgICAgICAgdGhpcy50dXJuVGV4dCA9IHRoaXMuYWRkLnRleHQod2lkdGggLyAyLCAxMzAsICdOaW5nw7puIHBlcnNvbmFqZSBzZWxlY2Npb25hZG8nLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLCBmb250U2l6ZTogJzE4cHgnLCBjb2xvcjogJyMwMDAnLFxyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBVSSBqdWdhZG9yZXMgKyBtaW5pYXR1cmFzXHJcbiAgICAgICAgdGhpcy5jcmVhdGVQbGF5ZXJPbmxpbmVVSSgpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlQ2hhcmFjdGVyTWluaWF0dXJlcygxNTAsIDApO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gU2lndWllbnRlXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IDUwMCxcclxuICAgICAgICAgICAgbGFiZWw6ICdTaWd1aWVudGUnLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLmhhbmRsZU5leHQoKSxcclxuICAgICAgICAgICAgc2NhbGU6IDEuNSxcclxuICAgICAgICAgICAgdGV4dHVyZU5vcm1hbDogJ2JvdG9uU2ltcGxlJyxcclxuICAgICAgICAgICAgdGV4dHVyZUhvdmVyOiAnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMTRweCcsIGNvbG9yOiAnIzAwMCcgfSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhIGxhIFVJIGRlIHNlbGVjY2nDs24gZGUganVnYWRvcmVzXHJcbiAgICBjcmVhdGVQbGF5ZXJzVUkoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IHN0eWxlID0gdGhpcy5nYW1lLmdsb2JhbHMuZGVmYXVsdFRleHRTdHlsZTtcclxuXHJcbiAgICAgICAgY29uc3QgcG9zaXRpb25zWCA9IFt3aWR0aCAqIDAuMjUsIHdpZHRoICogMC43NV07XHJcblxyXG4gICAgICAgIHRoaXMucGxheWVycy5mb3JFYWNoKChwbGF5ZXIsIGlkeCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB4ID0gcG9zaXRpb25zWFtpZHhdO1xyXG5cclxuICAgICAgICAgICAgLy8gTGFiZWwgbm9tYnJlXHJcbiAgICAgICAgICAgIHRoaXMuYWRkLnRleHQoeCwgMTAwLCAnTm9tYnJlOicsIHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMjRweCcsIGNvbG9yOiAnIzAwMCcgfSlcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgICAgIC8vIElucHV0IG5vbWJyZVxyXG4gICAgICAgICAgICBjb25zdCBkb20gPSB0aGlzLmFkZC5kb20oeCwgMTQwKS5jcmVhdGVGcm9tSFRNTChgXHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIk5vbWJyZSBqdWdhZG9yXCIgbWF4bGVuZ3RoPVwiMTBcIlxyXG4gICAgICAgICAgICAgICAgc3R5bGU9XCJcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aDoxNTBweDtcclxuICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOjZweDtcclxuICAgICAgICAgICAgICAgICAgICBmb250LXNpemU6MTZweDtcclxuICAgICAgICAgICAgICAgICAgICBmb250LWZhbWlseToke3N0eWxlLmZvbnRGYW1pbHl9O1xyXG4gICAgICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6MTJweDtcclxuICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDZweCBzb2xpZCAjRkZBQTAwO1xyXG4gICAgICAgICAgICAgICAgICAgIG91dGxpbmU6IG5vbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC1hbGlnbjpjZW50ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjojZjBmMGYwO1xyXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb246IGJvcmRlci1jb2xvciAwLjJzLCBib3gtc2hhZG93IDAuMnM7XCJcclxuICAgICAgICAgICAgICAgIG9uZm9jdXM9XCJ0aGlzLnN0eWxlLmJvcmRlckNvbG9yPScjRkY4MzE2JzsgdGhpcy5zdHlsZS5ib3hTaGFkb3c9JzAgMCA1cHggI0ZGODMxNic7XCJcclxuICAgICAgICAgICAgICAgIG9uYmx1cj1cInRoaXMuc3R5bGUuYm9yZGVyQ29sb3I9JyNGRkFBMDAnOyB0aGlzLnN0eWxlLmJveFNoYWRvdz0nbm9uZSc7XCJcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgIGApO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgaW5wdXRFbCA9IC8qKiBAdHlwZSB7SFRNTElucHV0RWxlbWVudH0gKi8gKGRvbS5ub2RlLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0JykpO1xyXG5cclxuICAgICAgICAgICAgLy8gcGFyYSBxdWUgZWwgdGVjbGFkbyBubyBpbnRlcmZpZXJhIGNvbiBQaGFzZXJcclxuICAgICAgICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLmVuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5lbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4gZS5zdG9wUHJvcGFnYXRpb24oKSk7XHJcblxyXG4gICAgICAgICAgICAvLyBMZXRyYXMgKyBlc3BhY2lvc1xyXG4gICAgICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaW5wdXRFbC52YWx1ZSA9IGlucHV0RWwudmFsdWUucmVwbGFjZSgvW15hLXpBLVrDgC3Dv8Oxw5EgXS9nLCAnJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dHNbaWR4XSA9IGRvbTtcclxuICAgICAgICAgICAgdGhpcy5wbGF5ZXJJbnB1dEVsc1tpZHhdID0gaW5wdXRFbDtcclxuXHJcbiAgICAgICAgICAgIC8vIOKAnFNsb3TigJ0gZ3JhbmRlICsgbWFyY29cclxuICAgICAgICAgICAgcGxheWVyLmJpZ0ltYWdlID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggKiAoMC4yNSArIDAuNSAqIGlkeCksIGhlaWdodCAqIDAuNiwgJ2NoYXJhY3RlckEnKVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEuMilcclxuICAgICAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAgICAgLnNldFZpc2libGUoZmFsc2UpO1xyXG5cclxuICAgICAgICAgICAgcGxheWVyLmJpZ0ZyYW1lID0gdGhpcy5hZGQuaW1hZ2UocGxheWVyLmJpZ0ltYWdlLngsIHBsYXllci5iaWdJbWFnZS55LCAnbWFyY29KdWdhZG9yJylcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgyLjgpXHJcbiAgICAgICAgICAgICAgICAuc2V0T3JpZ2luKDAuNSlcclxuICAgICAgICAgICAgICAgIC5zZXRWaXNpYmxlKHRydWUpO1xyXG4gICAgICAgICAgICBwbGF5ZXIuYmlnRnJhbWUudGV4dHVyZS5zZXRGaWx0ZXIoUGhhc2VyLlRleHR1cmVzLkZpbHRlck1vZGUuTkVBUkVTVCk7XHJcblxyXG4gICAgICAgICAgICAvLyBNYXJjbyBzb2JyZSBtaW5pYXR1cmEgKHJlY3TDoW5ndWxvKVxyXG4gICAgICAgICAgICBwbGF5ZXIuZnJhbWUgPSB0aGlzLmFkZC5yZWN0YW5nbGUoMCwgMCwgNjAsIDEyMClcclxuICAgICAgICAgICAgICAgIC5zZXRTdHJva2VTdHlsZSg0LCBwbGF5ZXIuY29sb3IpXHJcbiAgICAgICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFR1cm5vIGVtcGllemEgZW4ganVnYWRvciAxXHJcbiAgICAgICAgdGhpcy5jdXJyZW50VHVybiA9IDA7XHJcbiAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZVBsYXllck9ubGluZVVJKCkge1xyXG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5zY2FsZTtcclxuXHJcbiAgICAgICAgY29uc3QgcGxheWVyID0gdGhpcy5wbGF5ZXJzWzBdO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XHJcblxyXG4gICAgICAgIC8vIOKAnFNsb3TigJ0gZ3JhbmRlICsgbWFyY29cclxuICAgICAgICBwbGF5ZXIuYmlnSW1hZ2UgPSB0aGlzLmFkZC5pbWFnZShjZW50ZXJYIC0gMTUwLCBoZWlnaHQgKiAwLjU4LCAnY2hhcmFjdGVyQScpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgxLjIpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0VmlzaWJsZShmYWxzZSk7XHJcblxyXG4gICAgICAgIHBsYXllci5iaWdGcmFtZSA9IHRoaXMuYWRkLmltYWdlKHBsYXllci5iaWdJbWFnZS54LCBwbGF5ZXIuYmlnSW1hZ2UueSwgJ21hcmNvSnVnYWRvcicpXHJcbiAgICAgICAgICAgIC5zZXRTY2FsZSgyLjgpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMC41KVxyXG4gICAgICAgICAgICAuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICBwbGF5ZXIuYmlnRnJhbWUudGV4dHVyZS5zZXRGaWx0ZXIoUGhhc2VyLlRleHR1cmVzLkZpbHRlck1vZGUuTkVBUkVTVCk7XHJcblxyXG4gICAgICAgIC8vIE1hcmNvIHNvYnJlIG1pbmlhdHVyYSAocmVjdMOhbmd1bG8pXHJcbiAgICAgICAgcGxheWVyLmZyYW1lID0gdGhpcy5hZGQucmVjdGFuZ2xlKDAsIDAsIDYwLCAxMjApXHJcbiAgICAgICAgICAgIC5zZXRTdHJva2VTdHlsZSg0LCBwbGF5ZXIuY29sb3IpXHJcbiAgICAgICAgICAgIC5zZXRWaXNpYmxlKGZhbHNlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDcmVhIGxhcyBtaW5pYXR1cmFzIGRlIGxvcyBwZXJzb25hamVzIHNlbGVjY2lvbmFibGVzXHJcbiAgICBjcmVhdGVDaGFyYWN0ZXJNaW5pYXR1cmVzKHgsIHkpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcblxyXG4gICAgICAgIGNvbnN0IHBlcnNvbmFqZXMgPSBbJ2NoYXJhY3RlckEnLCAnY2hhcmFjdGVyQicsICdjaGFyYWN0ZXJDJ107XHJcbiAgICAgICAgY29uc3Qgc3BhY2luZyA9IDE1MDtcclxuICAgICAgICBjb25zdCBzdGFydFggPSB3aWR0aCAvIDIgLSBzcGFjaW5nIC8gMjtcclxuICAgICAgICBjb25zdCBzdGFydFkgPSBoZWlnaHQgKiAwLjU7XHJcblxyXG4gICAgICAgIGNvbnN0IHBvc2l0aW9ucyA9IFtcclxuICAgICAgICAgICAgeyB4OiBzdGFydFggKyB4LCB5OiBzdGFydFkgKyB5IH0sXHJcbiAgICAgICAgICAgIHsgeDogc3RhcnRYICsgeCArIHNwYWNpbmcsIHk6IHN0YXJ0WSArIHkgfSxcclxuICAgICAgICAgICAgeyB4OiBzdGFydFggKyB4ICsgc3BhY2luZyAvIDIsIHk6IHN0YXJ0WSArIHkgKyBzcGFjaW5nIC8gMiB9LFxyXG4gICAgICAgIF07XHJcblxyXG4gICAgICAgIHBlcnNvbmFqZXMuZm9yRWFjaCgobm9tYnJlLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IG1pbmkgPSB0aGlzLmFkZC5pbWFnZShwb3NpdGlvbnNbaV0ueCwgcG9zaXRpb25zW2ldLnksIG5vbWJyZSlcclxuICAgICAgICAgICAgICAgIC5zZXRJbnRlcmFjdGl2ZSh7IHVzZUhhbmRDdXJzb3I6IHRydWUgfSlcclxuICAgICAgICAgICAgICAgIC5zZXRTY2FsZSgwLjQ1KVxyXG4gICAgICAgICAgICAgICAgLnNldERhdGEoJ2NoYXJhY3Rlck5hbWUnLCBub21icmUpO1xyXG5cclxuICAgICAgICAgICAgbWluaS5vbigncG9pbnRlcmRvd24nLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwbGF5Q2xpY2sodGhpcywgJ3Nvbmlkb0NsaWNrJyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uTWluaUNsaWNrZWQobm9tYnJlLCBtaW5pKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTMOzZ2ljYSBhbCBoYWNlciBjbGljayBzb2JyZSB1bmEgbWluaWF0dXJhIChwZXJzb25hamUpXHJcbiAgICBvbk1pbmlDbGlja2VkKGNoYXJhY3Rlck5hbWUsIG1pbmkpIHtcclxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnb25saW5lJykge1xyXG4gICAgICAgICAgICBjb25zdCBwbGF5ZXIgPSB0aGlzLnBsYXllcnNbMF07XHJcblxyXG4gICAgICAgICAgICAvLyBTaSBlbCBwZXJzb25hamUgeWEgZXMgZWwgc2VsZWNjaW9uYWRvLCBzZSBkZXNlbGVjY2lvbmFcclxuICAgICAgICAgICAgaWYgKHBsYXllci5jaGFyYWN0ZXIgPT09IGNoYXJhY3Rlck5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHBsYXllci5jaGFyYWN0ZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5iaWdJbWFnZSkgcGxheWVyLmJpZ0ltYWdlLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5mcmFtZSkgcGxheWVyLmZyYW1lLnNldFZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gU2kgZXMgdW5vIG51ZXZvLCBzZSBzZWxlY2Npb25hICh5IGF1dG9tw6F0aWNhbWVudGUgZGVzbWFyY2EgZWwgYW50ZXJpb3Igc2kgbG8gaHViaWVyYSlcclxuICAgICAgICAgICAgICAgIHBsYXllci5jaGFyYWN0ZXIgPSBjaGFyYWN0ZXJOYW1lO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBsYXllci5iaWdJbWFnZSkgcGxheWVyLmJpZ0ltYWdlLnNldFRleHR1cmUoY2hhcmFjdGVyTmFtZSkuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgIGlmIChwbGF5ZXIuZnJhbWUpIHBsYXllci5mcmFtZS5zZXRQb3NpdGlvbihtaW5pLngsIG1pbmkueSkuc2V0VmlzaWJsZSh0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XHJcbiAgICAgICAgICAgIHJldHVybjsgLy8gU2FsaW1vcyBwYXJhIG5vIGVqZWN1dGFyIGxhIGzDs2dpY2EgZGUgdHVybm9zIGRlbCBtb2RvIGxvY2FsXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBvd25lckluZGV4ID0gdGhpcy5wbGF5ZXJzLmZpbmRJbmRleChwID0+IHAuY2hhcmFjdGVyID09PSBjaGFyYWN0ZXJOYW1lKTtcclxuXHJcbiAgICAgICAgLy8gc2kgZWwgcGVyc29uYWplIHlhIHBlcnRlbmVjZSBhIGFsZ3VpZW4sIHNlIGRlc2VsZWNjaW9uYSBzaWVtcHJlXHJcbiAgICAgICAgaWYgKG93bmVySW5kZXggIT09IC0xKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG93bmVyID0gdGhpcy5wbGF5ZXJzW293bmVySW5kZXhdO1xyXG5cclxuICAgICAgICAgICAgb3duZXIuY2hhcmFjdGVyID0gbnVsbDtcclxuXHJcbiAgICAgICAgICAgIGlmIChvd25lci5iaWdJbWFnZSkgb3duZXIuYmlnSW1hZ2Uuc2V0VmlzaWJsZShmYWxzZSk7XHJcbiAgICAgICAgICAgIGlmIChvd25lci5mcmFtZSkgb3duZXIuZnJhbWUuc2V0VmlzaWJsZShmYWxzZSk7XHJcblxyXG4gICAgICAgICAgICAvLyBFbCB0dXJubyBwYXNhIGEgZXNlIGp1Z2Fkb3IgcGFyYSBxdWUgZWxpamEgaW5tZWRpYXRhbWVudGUgb3Ryb1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRUdXJuID0gb3duZXJJbmRleDtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVUdXJuVGV4dCgpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzaSBlbCBwZXJzb25hamUgbm8gcGVydGVuZWNlIGEgbmFkaWUsIGxvIGFzaWduYW1vcyBzZWfDum4gZWwgdHVybm8gKG8gc2Vnw7puIHF1acOpbiBmYWx0ZSlcclxuICAgICAgICBjb25zdCBwMSA9IHRoaXMucGxheWVyc1swXTtcclxuICAgICAgICBjb25zdCBwMiA9IHRoaXMucGxheWVyc1sxXTtcclxuXHJcbiAgICAgICAgbGV0IHRhcmdldEluZGV4ID0gdGhpcy5jdXJyZW50VHVybjtcclxuXHJcbiAgICAgICAgLy8gc2kgY3VycmVudFR1cm4gZXMgbnVsbCAoYW1ib3MgeWEgdGVuw61hbiksIG5vIHNlIGRlamEgcmVlbXBsYXphciBzaW4gZGVzZWxlY2Npb25hciBhbnRlcyxcclxuICAgICAgICAvLyBwZXJvIHNpIHVubyBlc3TDoSB2YWPDrW8sIHNlIGVsaWdlIGF1dG9tw6F0aWNhbWVudGUgZWwgdmFjw61vXHJcbiAgICAgICAgaWYgKHRhcmdldEluZGV4ID09PSBudWxsIHx8IHRhcmdldEluZGV4ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgaWYgKCFwMS5jaGFyYWN0ZXIgJiYgcDIuY2hhcmFjdGVyKSB0YXJnZXRJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFwMi5jaGFyYWN0ZXIgJiYgcDEuY2hhcmFjdGVyKSB0YXJnZXRJbmRleCA9IDE7XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFwMS5jaGFyYWN0ZXIgJiYgIXAyLmNoYXJhY3RlcikgdGFyZ2V0SW5kZXggPSAwO1xyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGFtYm9zIHRpZW5lbiBwZXJzb25hamU6IHBhcmEgY2FtYmlhciwgcHJpbWVybyBkZXNlbGVjY2lvbmEgdW5vIChjbGljayBlbiBzdSBtaW5pKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB0YXJnZXQgPSB0aGlzLnBsYXllcnNbdGFyZ2V0SW5kZXhdO1xyXG4gICAgICAgIGNvbnN0IG90aGVyID0gdGhpcy5wbGF5ZXJzWzEgLSB0YXJnZXRJbmRleF07XHJcblxyXG4gICAgICAgIC8vIG5vIHNlIHBlcm1pdGUgZXNjb2dlciB1bm8gcXVlIHRlbmdhIGVsIG90cm9cclxuICAgICAgICBpZiAob3RoZXIuY2hhcmFjdGVyID09PSBjaGFyYWN0ZXJOYW1lKSByZXR1cm47XHJcblxyXG4gICAgICAgIC8vIEFzaWduYXIgcGVyc29uYWplXHJcbiAgICAgICAgdGFyZ2V0LmNoYXJhY3RlciA9IGNoYXJhY3Rlck5hbWU7XHJcblxyXG4gICAgICAgIGlmICh0YXJnZXQuYmlnSW1hZ2UpIHRhcmdldC5iaWdJbWFnZS5zZXRUZXh0dXJlKGNoYXJhY3Rlck5hbWUpLnNldFZpc2libGUodHJ1ZSk7XHJcbiAgICAgICAgaWYgKHRhcmdldC5mcmFtZSkgdGFyZ2V0LmZyYW1lLnNldFBvc2l0aW9uKG1pbmkueCwgbWluaS55KS5zZXRWaXNpYmxlKHRydWUpO1xyXG5cclxuICAgICAgICAvLyB0dXJubzogc2kgZWwgb3RybyBhw7puIG5vIGVsaWdpw7MsIHBhc2EgYWwgb3Rybzsgc2kgeWEgZWxpZ2nDsywgcXVlZGEgZW4gbnVsbCAoYW1ib3MgbGlzdG9zKVxyXG4gICAgICAgIGlmICghb3RoZXIuY2hhcmFjdGVyKSB0aGlzLmN1cnJlbnRUdXJuID0gMSAtIHRhcmdldEluZGV4O1xyXG4gICAgICAgIGVsc2UgdGhpcy5jdXJyZW50VHVybiA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBDb250cm9sYSBxdWUgcGFzYSBhbCBoYWNlciBjbGljayBlbiBlbCBib3TDs24gU2lndWllbnRlXHJcbiAgICBoYW5kbGVOZXh0KCkge1xyXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdsb2NhbCcpIHtcclxuICAgICAgICAgICAgIGNvbnN0IG5hbWUxID0gdGhpcy5wbGF5ZXJJbnB1dEVscz8uWzBdPy52YWx1ZT8udHJpbSgpID8/ICcnO1xyXG4gICAgICAgICAgICBjb25zdCBwMUhhc0NoYXIgPSAhIXRoaXMucGxheWVycz8uWzBdPy5jaGFyYWN0ZXI7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBuYW1lMiA9IHRoaXMucGxheWVySW5wdXRFbHM/LlsxXT8udmFsdWU/LnRyaW0oKSA/PyAnJztcclxuICAgICAgICAgICAgY29uc3QgcDJIYXNDaGFyID0gISF0aGlzLnBsYXllcnM/LlsxXT8uY2hhcmFjdGVyO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcmVhZHkgPSAobmFtZTEubGVuZ3RoID4gMCkgJiYgKG5hbWUyLmxlbmd0aCA+IDApICYmIHAxSGFzQ2hhciAmJiBwMkhhc0NoYXI7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXJlYWR5KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzZSBhY3R1YWxpemEgZWwgdGV4dG8gZGUgYXJyaWJhICh0dXJuVGV4dCkgY29uIGVsIG1lbnNhamUgZXNwZWPDrWZpY29cclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVHVyblRleHQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzZSBkZXN0YWNhIGVsIG1lbnNhamUgZW4gcm9qbyBkdXJhbnRlIDFzXHJcbiAgICAgICAgICAgICAgICB0aGlzLmZsYXNoVHVyblRleHQoJyNiMDAwMDAnLCA5MDApO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gc2UgZ3VhcmRhbiBub21icmVzXHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyc1swXS5uYW1lID0gbmFtZTE7XHJcbiAgICAgICAgICAgIHRoaXMucGxheWVyc1sxXS5uYW1lID0gbmFtZTI7XHJcblxyXG4gICAgICAgICAgICAvLyBzZSBwYXNhIGEgbGEgc2lndWllbnRlIGVzY2VuYVxyXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RTY2VuYXJpb19TY2VuZScsIHtcclxuICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcclxuICAgICAgICAgICAgICAgIHBsYXllcjE6IHRoaXMucGxheWVyc1swXSxcclxuICAgICAgICAgICAgICAgIHBsYXllcjI6IHRoaXMucGxheWVyc1sxXSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnb25saW5lJykge1xyXG4gICAgICAgICAgICBjb25zdCBwMUhhc0NoYXIgPSAhIXRoaXMucGxheWVycz8uWzBdPy5jaGFyYWN0ZXI7XHJcblxyXG4gICAgICAgICAgICBpZiAoIXAxSGFzQ2hhcikge1xyXG4gICAgICAgICAgICAgICAgLy8gU29sbyBhdmlzYW1vcyBzaSBubyBoYSBlbGVnaWRvIHBlcnNvbmFqZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5mbGFzaFR1cm5UZXh0KCcjYjAwMDAwJywgOTAwKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRGViZXMgZWxlZ2lyIHVuIHBlcnNvbmFqZSBwcmltZXJvJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KCdteUNoYXJhY3RlcicsIHRoaXMucGxheWVyc1swXS5jaGFyYWN0ZXIpO1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNIb3N0KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBTb3kgZWwgYWRtaW46IHB1ZWRvIHBhc2FyIGEgZWxlZ2lyIGVzY2VuYXJpb1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnU2VsZWN0U2NlbmFyaW9fU2NlbmUnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcjE6IHRoaXMucGxheWVyc1swXSxcclxuICAgICAgICAgICAgICAgICAgICBpc0hvc3Q6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAvLyBObyBwYXNhbW9zIHBsYXllcjIgcG9ycXVlIHNlIHVuaXLDoSBlbiByZWRcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTG9iYnlfU2NlbmUnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYXllcjI6IHRoaXMucGxheWVyc1swXSxcclxuICAgICAgICAgICAgICAgICAgICBpc0hvc3Q6IGZhbHNlIFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gSGFjZSBwYXJwYWRlYXIgZWwgdGV4dG8gZGUgdHVybm8gY29uIHVuIGNvbG9yIHJvam8gZHVyYW50ZSB1bm9zIG1pbGlzZWd1bmRvc1xyXG4gICAgZmxhc2hUdXJuVGV4dChjb2xvciA9ICcjYjAwMDAwJywgbXMgPSA5MDApIHtcclxuICAgICAgICBpZiAoIXRoaXMudHVyblRleHQpIHJldHVybjtcclxuXHJcbiAgICAgICAgY29uc3Qgb2xkQ29sb3IgPSB0aGlzLnR1cm5UZXh0LnN0eWxlLmNvbG9yIHx8ICcjMDAwMDAwJztcclxuICAgICAgICB0aGlzLnR1cm5UZXh0LnNldENvbG9yKGNvbG9yKTtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lLmRlbGF5ZWRDYWxsKG1zLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIHZ1ZWx2ZSBhbCBjb2xvciBub3JtYWwgeSByZWZyZXNjYSBlbCB0ZXh0byBwb3Igc2kgY2FtYmnDsyBhbGdvXHJcbiAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0Q29sb3Iob2xkQ29sb3IpO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVR1cm5UZXh0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWN0dWFsaXphIGVsIHRleHRvIGRlIHR1cm5vL2VzdGFkbyBhY3R1YWxcclxuICAgIHVwZGF0ZVR1cm5UZXh0KCkge1xyXG4gICAgICAgIGlmICghdGhpcy50dXJuVGV4dCkgcmV0dXJuO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnbG9jYWwnKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hbWUxID0gdGhpcy5wbGF5ZXJJbnB1dEVscz8uWzBdPy52YWx1ZT8udHJpbSgpID8/ICcnO1xyXG4gICAgICAgICAgICBjb25zdCBuYW1lMiA9IHRoaXMucGxheWVySW5wdXRFbHM/LlsxXT8udmFsdWU/LnRyaW0oKSA/PyAnJztcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHAxSGFzQ2hhciA9ICEhdGhpcy5wbGF5ZXJzPy5bMF0/LmNoYXJhY3RlcjtcclxuICAgICAgICAgICAgY29uc3QgcDJIYXNDaGFyID0gISF0aGlzLnBsYXllcnM/LlsxXT8uY2hhcmFjdGVyO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgcDFIYXNOYW1lID0gbmFtZTEubGVuZ3RoID4gMDtcclxuICAgICAgICAgICAgY29uc3QgcDJIYXNOYW1lID0gbmFtZTIubGVuZ3RoID4gMDtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGFsbENoYXJzID0gcDFIYXNDaGFyICYmIHAySGFzQ2hhcjtcclxuICAgICAgICAgICAgY29uc3QgYWxsTmFtZXMgPSBwMUhhc05hbWUgJiYgcDJIYXNOYW1lO1xyXG5cclxuICAgICAgICAgICAgLy8gc2kgdG9kbyBlc3TDoSBjb21wbGV0b1xyXG4gICAgICAgICAgICBpZiAoYWxsQ2hhcnMgJiYgYWxsTmFtZXMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0VGV4dCgnTGlzdG86IGFtYm9zIGp1Z2Fkb3JlcyB0aWVuZW4gbm9tYnJlIHkgcGVyc29uYWplJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNpIGZhbHRhbiBOT01CUkVTICh5IHlhIGVzdMOhbiBsb3MgcGVyc29uYWplcyksIGVzcGVjaWZpY2EgcXVpw6luXHJcbiAgICAgICAgICAgIGlmIChhbGxDaGFycyAmJiAhYWxsTmFtZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcDFIYXNOYW1lICYmICFwMkhhc05hbWUpIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRmFsdGFuIGxvcyBub21icmVzIGRlIEp1Z2Fkb3IgMSB5IEp1Z2Fkb3IgMicpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIXAxSGFzTmFtZSkgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YSBlbCBub21icmUgZGVsIEp1Z2Fkb3IgMScpO1xyXG4gICAgICAgICAgICAgICAgZWxzZSB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0ZhbHRhIGVsIG5vbWJyZSBkZWwgSnVnYWRvciAyJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHNpIGZhbHRhbiBQRVJTT05BSkVTICh5IHlhIGVzdMOhbiBsb3Mgbm9tYnJlcyksIGVzcGVjaWZpY2EgcXVpw6luXHJcbiAgICAgICAgICAgIGlmIChhbGxOYW1lcyAmJiAhYWxsQ2hhcnMpIHtcclxuICAgICAgICAgICAgICAgIGlmICghcDFIYXNDaGFyICYmICFwMkhhc0NoYXIpIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRmFsdGFuIGxvcyBwZXJzb25hamVzIGRlbCBKdWdhZG9yIDEgeSBKdWdhZG9yIDInKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKCFwMUhhc0NoYXIpIHRoaXMudHVyblRleHQuc2V0VGV4dCgnRmFsdGEgZWwgcGVyc29uYWplIGRlbCBKdWdhZG9yIDEnKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgdGhpcy50dXJuVGV4dC5zZXRUZXh0KCdGYWx0YSBlbCBwZXJzb25hamUgZGVsIEp1Z2Fkb3IgMicpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBzaSBmYWx0YW4gY29zYXMgbWl4dGFzIChub21icmVzIHkgcGVyc29uYWplcylcclxuICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFR1cm4gPT09IG51bGwgfHwgdGhpcy5jdXJyZW50VHVybiA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0NvbXBsZXRhIG5vbWJyZXMgeSBwZXJzb25hamVzJyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0VGV4dChgVHVybm86IEp1Z2Fkb3IgJHt0aGlzLmN1cnJlbnRUdXJuICsgMX1gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdvbmxpbmUnKSB7XHJcbiAgICBcclxuICAgICAgICAgICAgY29uc3QgcDFIYXNDaGFyID0gISF0aGlzLnBsYXllcnM/LlswXT8uY2hhcmFjdGVyO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFwMUhhc0NoYXIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudHVyblRleHQuc2V0VGV4dCgnTmluZ8O6biBwZXJzb25hamUgc2VsZWNjaW9uYWRvJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnR1cm5UZXh0LnNldFRleHQoJ0xpc3RvOiBlbCBqdWdhZG9yIHRpZW5lIHBlcnNvbmFqZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiLy9QYW50YWxsYSBkZSBTZWxlY2Npb24gZGUgZXNjZW5hcmlvXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgYXBwbHlTdG9yZWRWb2x1bWUsIHBsYXlDbGljayB9IGZyb20gJy4uL1VJL0F1ZGlvLmpzJztcclxuaW1wb3J0IHsgY3JlYXRlVUlCdXR0b24sIGNyZWF0ZUljb25CdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBTZWxlY3RTY2VuYXJpb19TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignU2VsZWN0U2NlbmFyaW9fU2NlbmUnKTtcclxuICAgICAgICB0aGlzLnNlbGVjdGVkU2NlbmFyaW8gPSAnR3ltJztcclxuICAgICAgICB0aGlzLm1vZGUgPSAnbG9jYWwnO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gQm90b25lc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2luU2VsZWNjaW9uYXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9TSU5TRUxFQ0NJT05BUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0ZMRUNIQV9WT0xWRVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZScsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFX1NJTlNFTEVDQ0lPTkFSLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gRm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gRXNjZW5hcmlvc1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnR3ltJywgJ0FTU0VUUy9GT05ET1MvR0lNTkFTSU8ucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdQbGF5YScsICdBU1NFVFMvRk9ORE9TL1BMQVlBLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnSmFyZGluJywgJ0FTU0VUUy9GT05ET1MvSkFSRElOLnBuZycpO1xyXG5cclxuICAgICAgICAvLyBTb25pZG9cclxuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oJ3Nvbmlkb0NsaWNrJywgJ0FTU0VUUy9TT05JRE8vU29uaWRvQm90b24ubXAzJyk7XHJcblxyXG4gICAgICAgIC8vIE1hcmNvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjbycsICcvQVNTRVRTL1VJL01BUkNPUy9WQUNJT1MvTUFSQ09TX0VTQ0VOQVJJTycpXHJcbiAgICB9XHJcblxyXG4gICAgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxID0gZGF0YS5wbGF5ZXIxO1xyXG4gICAgICAgIHRoaXMucGxheWVyMiA9IGRhdGEucGxheWVyMjtcclxuICAgICAgICB0aGlzLm1vZGUgPSBkYXRhLm1vZGUgfHwgJ2xvY2FsJztcclxuICAgICAgICB0aGlzLmlzSG9zdCA9IGRhdGEuaXNIb3N0IHx8IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNyZWF0ZSgpIHtcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlO1xyXG5cclxuICAgICAgICAvLyBzZSBhcGxpY2EgZWwgdm9sdW1lblxyXG4gICAgICAgIGFwcGx5U3RvcmVkVm9sdW1lKHRoaXMpO1xyXG5cclxuICAgICAgICAvLyBGb25kb1xyXG4gICAgICAgIHRoaXMuYWRkLmltYWdlKDAsIDAsICdmb25kbycpXHJcbiAgICAgICAgICAgIC5zZXRPcmlnaW4oMClcclxuICAgICAgICAgICAgLnNldERlcHRoKC0xKVxyXG4gICAgICAgICAgICAuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vIFTDrXR1bG9cclxuICAgICAgICB0aGlzLmFkZC50ZXh0KHdpZHRoIC8gMiwgNTAsICdTZWxlY2Npb25hIEVzY2VuYXJpbycsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnNDBweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEltYWdlbiBkZWwgZXNjZW5hcmlvIHNlbGVjY2lvbmFkb1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRTY2VuYXJpbyA9ICdHeW0nO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRJbWFnZSA9IHRoaXMuYWRkLmltYWdlKHdpZHRoIC8gMiwgMjQwLCB0aGlzLnNlbGVjdGVkU2NlbmFyaW8pLnNldFNjYWxlKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEVzY2VuYXJpb3MgKGJvdG9uZXMpXHJcbiAgICAgICAgY29uc3QgZXNjZW5hcmlvcyA9IFsnR3ltJywgJ1BsYXlhJywgJ0phcmRpbiddO1xyXG4gICAgICAgIGNvbnN0IHNwYWNpbmcgPSAyMDA7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRYID0gd2lkdGggLyAyIC0gc3BhY2luZztcclxuXHJcbiAgICAgICAgY29uc3Qgc2NlbmFyaW9CdXR0b25zID0ge307XHJcblxyXG4gICAgICAgIC8vIGZ1bmNpw7NuIHBhcmEgc2VsZWNjaW9uYXIgZXNjZW5hcmlvXHJcbiAgICAgICAgY29uc3Qgc2V0U2VsZWN0ZWRTY2VuYXJpbyA9IChub21icmUpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZFNjZW5hcmlvID0gbm9tYnJlO1xyXG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkSW1hZ2Uuc2V0VGV4dHVyZShub21icmUpLnNldFNjYWxlKDAuNSk7XHJcblxyXG4gICAgICAgICAgICAvLyBzZSBkZWphIG1hcmNhZG8gZWwgc2VsZWNjaW9uYWRvXHJcbiAgICAgICAgICAgIGVzY2VuYXJpb3MuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzY2VuYXJpb0J1dHRvbnNba2V5XS5zZXRUZXh0dXJlKGtleSA9PT0gbm9tYnJlID8gJ2JvdG9uU2VsZWNjaW9uYWRvJyA6ICdib3RvblNpblNlbGVjY2lvbmFyJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGVzY2VuYXJpb3MuZm9yRWFjaCgobm9tYnJlLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJvdG9uID0gdGhpcy5hZGQuaW1hZ2Uoc3RhcnRYICsgaSAqIHNwYWNpbmcsIDQ0MCwgJ2JvdG9uU2luU2VsZWNjaW9uYXInKVxyXG4gICAgICAgICAgICAgICAgLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KVxyXG4gICAgICAgICAgICAgICAgLnNldFNjYWxlKDEuNzUpO1xyXG5cclxuICAgICAgICAgICAgc2NlbmFyaW9CdXR0b25zW25vbWJyZV0gPSBib3RvbjtcclxuXHJcbiAgICAgICAgICAgIC8vIHRleHRvIGVuIGVsIGNlbnRyb1xyXG4gICAgICAgICAgICBjb25zdCB0ZXh0byA9IHRoaXMuYWRkLnRleHQoMCwgMCwgbm9tYnJlLCB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzI0cHgnLCBjb2xvcjogJyMwMDAnIH0pO1xyXG4gICAgICAgICAgICBQaGFzZXIuRGlzcGxheS5BbGlnbi5Jbi5DZW50ZXIodGV4dG8sIGJvdG9uKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGhvdmVyXHJcbiAgICAgICAgICAgIGJvdG9uLm9uKCdwb2ludGVyb3ZlcicsICgpID0+IGJvdG9uLnNldFRleHR1cmUoJ2JvdG9uU2VsZWNjaW9uYWRvJykpO1xyXG4gICAgICAgICAgICBib3Rvbi5vbigncG9pbnRlcm91dCcsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGJvdG9uLnNldFRleHR1cmUodGhpcy5zZWxlY3RlZFNjZW5hcmlvID09PSBub21icmUgPyAnYm90b25TZWxlY2Npb25hZG8nIDogJ2JvdG9uU2luU2VsZWNjaW9uYXInKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvLyBjbGljazogc29uaWRvICsgc2VsZWNjaW9uYXJcclxuICAgICAgICAgICAgYm90b24ub24oJ3BvaW50ZXJkb3duJywgKCkgPT4gcGxheUNsaWNrKHRoaXMsICdzb25pZG9DbGljaycpKTtcclxuICAgICAgICAgICAgYm90b24ub24oJ3BvaW50ZXJ1cCcsIChwb2ludGVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBpbnNpZGUgPSBib3Rvbi5nZXRCb3VuZHMoKS5jb250YWlucyhwb2ludGVyLngsIHBvaW50ZXIueSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWluc2lkZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgc2V0U2VsZWN0ZWRTY2VuYXJpbyhub21icmUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gc2UgbWFyY2EgZWwgZXNjZW5hcmlvIHBvciBkZWZlY3RvIHZpc3VhbG1lbnRlXHJcbiAgICAgICAgc2V0U2VsZWN0ZWRTY2VuYXJpbyh0aGlzLnNlbGVjdGVkU2NlbmFyaW8pO1xyXG5cclxuICAgICAgICAvLyBNYXJjb1xyXG4gICAgICAgIGNvbnN0IGZyYW1lWSA9IDI0MDsgLy8gWSBkZSBsYSBpbWFnZW4gZGVsIGVzY2VuYXJpb1xyXG4gICAgICAgIGNvbnN0IGZyYW1lID0gdGhpcy5hZGQuaW1hZ2Uod2lkdGggLyAyLCBmcmFtZVksICdtYXJjbycpLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIGZyYW1lLnRleHR1cmUuc2V0RmlsdGVyKFBoYXNlci5UZXh0dXJlcy5GaWx0ZXJNb2RlLk5FQVJFU1QpO1xyXG5cclxuICAgICAgICAvLyBBanVzdGUgZGVsIHRhbWHDsW8gZGVsIG1hcmNvXHJcbiAgICAgICAgY29uc3QgdGFyZ2V0RnJhbWVXaWR0aCA9IDUwMDsgXHJcbiAgICAgICAgY29uc3QgdGFyZ2V0RnJhbWVIZWlnaHQgPSAzMDA7XHJcbiAgICAgICAgZnJhbWUuc2V0RGlzcGxheVNpemUodGFyZ2V0RnJhbWVXaWR0aCwgdGFyZ2V0RnJhbWVIZWlnaHQpO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gU2lndWllbnRlXHJcbiAgICAgICAgY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAvIDIsXHJcbiAgICAgICAgICAgIHk6IDUwMCxcclxuICAgICAgICAgICAgbGFiZWw6ICdTaWd1aWVudGUnLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlID09PSAnbG9jYWwnKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdHYW1lX1NjZW5lJywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF5ZXIxOiB0aGlzLnBsYXllcjEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcjI6IHRoaXMucGxheWVyMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRTY2VuYXJpbzogdGhpcy5zZWxlY3RlZFNjZW5hcmlvLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlOiB0aGlzLm1vZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSG9zdDogdGhpcy5pc0hvc3RcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2VuZS5zdGFydCgnTG9iYnlfU2NlbmUnLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXllcjE6IHRoaXMucGxheWVyMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxheWVyMjogdGhpcy5wbGF5ZXIyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZFNjZW5hcmlvOiB0aGlzLnNlbGVjdGVkU2NlbmFyaW8sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNIb3N0OiB0aGlzLmlzSG9zdFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzY2FsZTogMS41LFxyXG4gICAgICAgICAgICB0ZXh0dXJlTm9ybWFsOiAnYm90b25TaW1wbGUnLFxyXG4gICAgICAgICAgICB0ZXh0dXJlSG92ZXI6ICdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsXHJcbiAgICAgICAgICAgIHRleHRTdHlsZTogeyAuLi5zdHlsZSwgZm9udFNpemU6ICcxMnB4JywgY29sb3I6ICcjMDAwJyB9LFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBib3TDs24gVm9sdmVyIGF0csOhc1xyXG4gICAgICAgIGNyZWF0ZUljb25CdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuMDYsXHJcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXHJcbiAgICAgICAgICAgIHRleHR1cmU6ICdib3RvblZvbHZlcicsXHJcbiAgICAgICAgICAgIHNjYWxlOiAxLFxyXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NlbGVjdFBsYXllcl9TY2VuZScsIHsgXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzSG9zdDogdGhpcy5pc0hvc3RcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCIvL1BhbnRhbGxhIGRlIExvYmJ5XHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY3JlYXRlVUlCdXR0b24sIGNyZWF0ZUljb25CdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBMb2JieV9TY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcignTG9iYnlfU2NlbmUnKTtcclxuICAgICAgICB0aGlzLmlzUGxheWVyUmVhZHkgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KGRhdGEpIHtcclxuICAgICAgICAvLyBSZWN1cGVyYW1vcyBlbCBtb2RvLCBlbCByb2wgeSBsb3MgZGF0b3MgZGUganVnYWRvclxyXG4gICAgICAgIHRoaXMubW9kZSA9IGRhdGEubW9kZTtcclxuICAgICAgICB0aGlzLmlzSG9zdCA9IGRhdGEuaXNIb3N0O1xyXG4gICAgICAgIHRoaXMucGxheWVyMSA9IGRhdGEucGxheWVyMTsgLy8gU2kgZXMgSG9zdFxyXG4gICAgICAgIHRoaXMucGxheWVyMiA9IGRhdGEucGxheWVyMjsgLy8gU2kgZXMgSW52aXRhZG9cclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZygnTG9iYnkgaW5pY2lhZG8gY29tbzonLCB0aGlzLmlzSG9zdCA/ICdIb3N0JyA6ICdJbnZpdGFkbycpO1xyXG4gICAgfVxyXG5cclxuICAgIHByZWxvYWQoKSB7XHJcbiAgICAgICAgLy8gSW3DoWdlbmVzIGZvbmRvIHkgdWlcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uVm9sdmVyJywgJ0FTU0VUUy9VSS9CT1RPTkVTL1ZPTFZFUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ21hcmNvJywnQVNTRVRTL1VJL01BUkNPUy9WQUNJT1MvTUFSQ09TX0VTQ0VOQVJJTy5wbmcnKVxyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25TaW1wbGUnLCAnQVNTRVRTL1VJL0JPVE9ORVMvQk9UT05fQkFTRV9TSU5TRUxFQ0NJT05BUi5wbmcnKTtcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0UucG5nJyk7XHJcblxyXG4gICAgICAgIC8vIFNvbmlkb1xyXG4gICAgICAgIHRoaXMubG9hZC5hdWRpbygnc29uaWRvQ2xpY2snLCAnQVNTRVRTL1NPTklETy9Tb25pZG9Cb3Rvbi5tcDMnKTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscy5kZWZhdWx0VGV4dFN0eWxlOyBcclxuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMuc2NhbGU7XHJcbiAgICAgICAgY29uc3QgY2VudGVyWCA9IHdpZHRoIC8gMjtcclxuXHJcbiAgICAgICAgdGhpcy5hZGQuaW1hZ2UoMCwgMCwgJ2ZvbmRvJykuc2V0T3JpZ2luKDApLnNldERlcHRoKC0xKTtcclxuXHJcbiAgICAgICAgLy8gVMOtdHVsb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC4xOCwgJ0xPQkJZJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSwgZm9udFNpemU6ICc0MHB4JywgY29sb3I6ICcjMDAwJywgZm9udFN0eWxlOiAnYm9sZCdcclxuICAgICAgICB9KS5zZXRPcmlnaW4oMC41KTtcclxuXHJcbiAgICAgICAgLy8gRmlsdHJvIGRlbCBtYXJjb1xyXG4gICAgICAgIGNvbnN0IGZyYW1lWSA9IGhlaWdodCAqIDAuNDg7XHJcbiAgICAgICAgY29uc3QgZnJhbWUgPSB0aGlzLmFkZC5pbWFnZShjZW50ZXJYLCBmcmFtZVksICdtYXJjbycpLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIGZyYW1lLnRleHR1cmUuc2V0RmlsdGVyKFBoYXNlci5UZXh0dXJlcy5GaWx0ZXJNb2RlLk5FQVJFU1QpO1xyXG5cclxuICAgICAgICAvLyBFc2NhbGEgZGVsIG1hcmNvXHJcbiAgICAgICAgY29uc3QgdGFyZ2V0RnJhbWVXaWR0aCA9IHdpZHRoICogMC4zO1xyXG4gICAgICAgIGNvbnN0IHRhcmdldEZyYW1lSGVpZ2h0ID0gaGVpZ2h0ICogMC4zO1xyXG4gICAgICAgIGZyYW1lLnNldERpc3BsYXlTaXplKHRhcmdldEZyYW1lV2lkdGgsIHRhcmdldEZyYW1lSGVpZ2h0KTtcclxuXHJcbiAgICAgICAgLy8gQ29uZmlndXJhY2nDs24gZGUgbm9tYnJlcyB5IGVzdGFkb3NcclxuICAgICAgICBjb25zdCBsaW5lU3BhY2luZyA9IDQwO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0WSA9IGZyYW1lWSAtIGxpbmVTcGFjaW5nO1xyXG5cclxuICAgICAgICAvLyBUw610dWxvL0VuY2FiZXphZG8gZGVsIExvYmJ5IChkZW50cm8gZGVsIG1hcmNvIGFycmliYSlcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIHN0YXJ0WSwgXCJFU1RBRE8gREUgSlVHQURPUkVTXCIsIHtcclxuICAgICAgICAgICAgLi4uc3R5bGUsXHJcbiAgICAgICAgICAgIGZvbnRTaXplOiAnMjJweCcsXHJcbiAgICAgICAgICAgIGNvbG9yOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgIGZvbnRTdHlsZTogJ2JvbGQnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEp1Z2Fkb3IgMVxyXG4gICAgICAgIGNvbnN0IG5hbWUxID0gdGhpcy5pc0hvc3QgPyAodGhpcy5wbGF5ZXIxPy5uYW1lIHx8ICdUw7onKSA6ICh0aGlzLnBsYXllcjE/Lm5hbWUgfHwgJ0FkbWluLi4uJyk7XHJcbiAgICAgICAgdGhpcy5wMVN0YXR1c1RleHQgPSB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGZyYW1lWSwgYCR7bmFtZTF9IC0tLSDinYxgLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLFxyXG4gICAgICAgICAgICBmb250U2l6ZTogJzIwcHgnLFxyXG4gICAgICAgICAgICBjb2xvcjogJyMwMDAwMDAnXHJcbiAgICAgICAgfSkuc2V0T3JpZ2luKDAuNSk7XHJcblxyXG4gICAgICAgIC8vIEp1Z2Fkb3IgMlxyXG4gICAgICAgIGNvbnN0IG5hbWUyID0gIXRoaXMuaXNIb3N0ID8gKHRoaXMucGxheWVyMj8ubmFtZSB8fCAnVMO6JykgOiAodGhpcy5wbGF5ZXIyPy5uYW1lIHx8ICdFc3BlcmFuZG8uLi4nKTtcclxuICAgICAgICB0aGlzLnAyU3RhdHVzVGV4dCA9IHRoaXMuYWRkLnRleHQoY2VudGVyWCwgZnJhbWVZICsgbGluZVNwYWNpbmcsIGAke25hbWUyfSAtLS0g4p2MYCwge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSxcclxuICAgICAgICAgICAgZm9udFNpemU6ICcyMHB4JyxcclxuICAgICAgICAgICAgY29sb3I6ICcjMDAwMDAwJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gTGlzdG9cclxuICAgICAgICB0aGlzLmJ0bkxpc3RvID0gY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBjZW50ZXJYLFxyXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjc1LFxyXG4gICAgICAgICAgICBsYWJlbDogJ0xpc3RvPycsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMudG9nZ2xlUmVhZHkoKSxcclxuICAgICAgICAgICAgc2NhbGU6IDEuNSxcclxuICAgICAgICAgICAgdGV4dHVyZU5vcm1hbDogJ2JvdG9uU2ltcGxlJyxcclxuICAgICAgICAgICAgdGV4dHVyZUhvdmVyOiAnYm90b25TaW1wbGVTZWxlY2Npb25hZG8nLFxyXG4gICAgICAgICAgICB0ZXh0U3R5bGU6IHsgLi4uc3R5bGUsIGZvbnRTaXplOiAnMTRweCcsIGNvbG9yOiAnIzAwMCcgfSxcclxuICAgICAgICAgICAgY2xpY2tTb3VuZEtleTogJ3Nvbmlkb0NsaWNrJ1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBCb3TDs24gVm9sdmVyXHJcbiAgICAgICAgdGhpcy5idG5Wb2x2ZXIgPSBjcmVhdGVJY29uQnV0dG9uKHRoaXMsIHtcclxuICAgICAgICAgICAgeDogd2lkdGggKiAwLjA2LFxyXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjA4LFxyXG4gICAgICAgICAgICB0ZXh0dXJlOiAnYm90b25Wb2x2ZXInLFxyXG4gICAgICAgICAgICBzY2FsZTogMSxcclxuICAgICAgICAgICAgaG92ZXJTY2FsZTogMS4xLFxyXG4gICAgICAgICAgICBjbGlja1NvdW5kS2V5OiAnc29uaWRvQ2xpY2snLFxyXG4gICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB0aGlzLmhhbmRsZUJhY2soKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVJlYWR5KCkge1xyXG4gICAgICAgIHRoaXMuaXNQbGF5ZXJSZWFkeSA9ICF0aGlzLmlzUGxheWVyUmVhZHk7XHJcbiAgICAgICAgY29uc3QgZW1vamkgPSB0aGlzLmlzUGxheWVyUmVhZHkgPyAn4pyFJyA6ICfinYwnO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEFjdHVhbGl6YW1vcyB2aXN1YWxtZW50ZSBOVUVTVFJPIGVzdGFkb1xyXG4gICAgICAgIGlmICh0aGlzLmlzSG9zdCkge1xyXG4gICAgICAgICAgICB0aGlzLnAxU3RhdHVzVGV4dC5zZXRUZXh0KGAke3RoaXMucGxheWVyMS5uYW1lfSAtLS0gJHtlbW9qaX1gKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnAyU3RhdHVzVGV4dC5zZXRUZXh0KGAke3RoaXMucGxheWVyMi5uYW1lfSAtLS0gJHtlbW9qaX1gKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG51ZXZvVGV4dG9Cb3RvbiA9IHRoaXMuaXNQbGF5ZXJSZWFkeSA/ICdDQU5DRUxBUicgOiAnTElTVE8/JztcclxuICAgICAgICBcclxuICAgICAgICBpZiAodGhpcy5idG5MaXN0by5zZXRMYWJlbCkge1xyXG4gICAgICAgICAgICB0aGlzLmJ0bkxpc3RvLnNldExhYmVsKG51ZXZvVGV4dG9Cb3Rvbik7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmJ0bkxpc3RvLnRleHQpIHtcclxuICAgICAgICAgICAgdGhpcy5idG5MaXN0by50ZXh0LnNldFRleHQobnVldm9UZXh0b0JvdG9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gQmxvcXVlYXIvRGVzYmxvcXVlYXIgYm90w7NuIHZvbHZlclxyXG4gICAgICAgIGlmICh0aGlzLmlzUGxheWVyUmVhZHkpIHtcclxuICAgICAgICAgICAgdGhpcy5idG5Wb2x2ZXIuZGlzYWJsZUludGVyYWN0aXZlKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYnRuVm9sdmVyLnNldEFscGhhKDAuMyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5idG5Wb2x2ZXIuc2V0SW50ZXJhY3RpdmUoKTtcclxuICAgICAgICAgICAgdGhpcy5idG5Wb2x2ZXIuc2V0QWxwaGEoMSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBBcXXDrSBlcyBkb25kZSBlbnZpYSBhbCBzZXJ2aWRvclxyXG4gICAgICAgIC8vIHNvY2tldC5lbWl0KCdwbGF5ZXJfcmVhZHlfc3RhdHVzJywgdGhpcy5pc1BsYXllclJlYWR5KTtcclxuICAgIH1cclxuXHJcbiAgICBoYW5kbGVCYWNrKCkge1xyXG4gICAgICAgIGNvbnN0IHRhcmdldFNjZW5lID0gdGhpcy5pc0hvc3QgPyAnU2VsZWN0U2NlbmFyaW9fU2NlbmUnIDogJ1NlbGVjdFBsYXllcl9TY2VuZSc7XHJcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuaXNIb3N0ID8geyBtb2RlOiB0aGlzLm1vZGUsIHBsYXllcjE6IHRoaXMucGxheWVyMSwgaXNIb3N0OiB0cnVlIH0gOiB7IG1vZGU6IHRoaXMubW9kZSwgaXNIb3N0OiBmYWxzZSB9O1xyXG4gICAgICAgIHRoaXMuc2NlbmUuc3RhcnQodGFyZ2V0U2NlbmUsIGRhdGEpO1xyXG4gICAgfVxyXG59IiwiLy9QYW50YWxsYSBkZSBMb2dnaW5nXHJcbmltcG9ydCBQaGFzZXIgZnJvbSAncGhhc2VyJztcclxuaW1wb3J0IHsgY3JlYXRlVUlCdXR0b24sIGNyZWF0ZUljb25CdXR0b24gfSBmcm9tICcuLi9VSS9CdXR0b25zLmpzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBMb2dnaW5nX1NjZW5lIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCdMb2dnaW5nX1NjZW5lJyk7XHJcbiAgICAgICAgdGhpcy5pc1BsYXllclJlYWR5ID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5hcGlVcmwgPSAnL2FwaSc7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgaW5pdChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlID0gZGF0YS5tb2RlO1xyXG5cclxuICAgICAgICBjb25zdCBzYXZlZE5hbWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndm9sZXlfdXNlcm5hbWUnKTtcclxuICAgICAgICBjb25zdCBzYXZlZFBhc3MgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndm9sZXlfcGFzc3dvcmQnKTsgLy8gR3VhcmRhIGxhIHBhc3MgKG8gdW4gdG9rZW4pIHBhcmEgcmUtbG9ndWVhclxyXG5cclxuICAgICAgICBpZiAoc2F2ZWROYW1lICYmIHNhdmVkUGFzcykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkludGVudGFuZG8gYXV0by1sb2dpbiBwYXJhOlwiLCBzYXZlZE5hbWUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gRW4gbHVnYXIgZGUgZW50cmFyIGRpcmVjdG8sIHByZWd1bnRhbW9zIGFsIHNlcnZpZG9yIHBhcmEgcXVlIG5vcyBhc2lnbmUgSG9zdC9JbnZpdGFkb1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLmFwaVVybH0vbG9naW5gLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZTogc2F2ZWROYW1lLCBwYXNzd29yZDogc2F2ZWRQYXNzIH0pXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc0RhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ3VzZXJuYW1lJywgcmVzRGF0YS51c2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ2lzSG9zdCcsIHJlc0RhdGEuaXNIb3N0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjZW5lLnN0YXJ0KCdTZWxlY3RQbGF5ZXJfU2NlbmUnLCB7IG1vZGU6IHRoaXMubW9kZSwgaXNIb3N0OiByZXNEYXRhLmlzSG9zdCB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkF1dG8tbG9naW4gZmFsbGlkb1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcmVsb2FkKCkge1xyXG4gICAgICAgIC8vIGJvdG9uZXNcclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2JvdG9uU2ltcGxlJywgJ0FTU0VUUy9VSS9CT1RPTkVTL0JPVE9OX0JBU0VfU0lOU0VMRUNDSU9OQVIucG5nJyk7XHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdib3RvblNpbXBsZVNlbGVjY2lvbmFkbycsICdBU1NFVFMvVUkvQk9UT05FUy9CT1RPTl9CQVNFLnBuZycpO1xyXG4gICAgICAgIHRoaXMubG9hZC5pbWFnZSgnYm90b25Wb2x2ZXInLCAnQVNTRVRTL1VJL0JPVE9ORVMvRkxFQ0hBX1ZPTFZFUi5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gZm9uZG9cclxuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoJ2ZvbmRvJywgJ0FTU0VUUy9GT05ET1MvRk9ORE9fQkFTRS5wbmcnKTtcclxuXHJcbiAgICAgICAgLy8gc29uaWRvXHJcbiAgICAgICAgdGhpcy5sb2FkLmF1ZGlvKCdzb25pZG9DbGljaycsICdBU1NFVFMvU09OSURPL1Nvbmlkb0JvdG9uLm1wMycpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIG1hcmNvXHJcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKCdtYXJjbycsJ0FTU0VUUy9VSS9NQVJDT1MvVkFDSU9TL01BUkNPU19FU0NFTkFSSU8ucG5nJylcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGUoKSB7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0aGlzLnNjYWxlO1xyXG4gICAgICAgIGNvbnN0IGNlbnRlclggPSB3aWR0aCAvIDI7XHJcbiAgICAgICAgY29uc3Qgc3R5bGUgPSB0aGlzLmdhbWUuZ2xvYmFscz8uZGVmYXVsdFRleHRTdHlsZSA/PyB7IGZvbnRGYW1pbHk6ICdBcmlhbCcgfTtcclxuXHJcbiAgICAgICAgLy8gRm9uZG9cclxuICAgICAgICB0aGlzLmFkZC5pbWFnZSgwLCAwLCAnZm9uZG8nKS5zZXRPcmlnaW4oMCkuc2V0RGlzcGxheVNpemUod2lkdGgsIGhlaWdodCkuc2V0RGVwdGgoLTEpO1xyXG5cclxuICAgICAgICAvLyBUaXR1bG9cclxuICAgICAgICB0aGlzLnRpdGxlVGV4dCA9IHRoaXMuYWRkLnRleHQoY2VudGVyWCwgNjAsICdJTklDSUFSIFNFU0nDk04nLCB7XHJcbiAgICAgICAgICAgIC4uLnN0eWxlLCBmb250U2l6ZTogJzM2cHgnLCBjb2xvcjogJyMwMDAnLCBmb250U3R5bGU6ICdib2xkJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpO1xyXG5cclxuICAgICAgICAvLyBNYXJjb1xyXG4gICAgICAgIGNvbnN0IG1hcmNvID0gdGhpcy5hZGQuaW1hZ2UoY2VudGVyWCwgaGVpZ2h0ICogMC41MiwgJ21hcmNvJykuc2V0T3JpZ2luKDAuNSk7XHJcbiAgICAgICAgbWFyY28uc2V0RGlzcGxheVNpemUod2lkdGggKiAwLjQsIGhlaWdodCAqIDAuNjUpO1xyXG4gICAgICAgIG1hcmNvLnRleHR1cmUuc2V0RmlsdGVyKFBoYXNlci5UZXh0dXJlcy5GaWx0ZXJNb2RlLk5FQVJFU1QpOyAvLyBTb2xvIGEgZXN0YSBpbnN0YW5jaWFcclxuXHJcbiAgICAgICAgLy8gSU5QVVRTXHJcbiAgICAgICAgLy8gVXN1YXJpb1xyXG4gICAgICAgIHRoaXMuYWRkLnRleHQoY2VudGVyWCwgaGVpZ2h0ICogMC4yOCwgJ1VzdWFyaW86JywgeyAuLi5zdHlsZSwgZm9udFNpemU6ICcyMHB4JywgY29sb3I6ICcjMDAwJyB9KS5zZXRPcmlnaW4oMC41KTtcclxuICAgICAgICB0aGlzLnVzZXJJbnB1dCA9IHRoaXMuY3JlYXRlSHRtbElucHV0KGNlbnRlclgsIGhlaWdodCAqIDAuMzUsICdOb21icmUgZGUgdXN1YXJpbycsIHN0eWxlKTtcclxuXHJcbiAgICAgICAgLy8gQ29udHJhc2XDsWFcclxuICAgICAgICB0aGlzLmFkZC50ZXh0KGNlbnRlclgsIGhlaWdodCAqIDAuNDUsICdDb250cmFzZcOxYTonLCB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzIwcHgnLCBjb2xvcjogJyMwMDAnIH0pLnNldE9yaWdpbigwLjUpO1xyXG4gICAgICAgIHRoaXMucGFzc0lucHV0ID0gdGhpcy5jcmVhdGVIdG1sSW5wdXQoY2VudGVyWCwgaGVpZ2h0ICogMC41MiwgJyoqKioqKioqJywgc3R5bGUsIHRydWUpO1xyXG5cclxuICAgICAgICAvLyAtLS0gQk9UT05FUyAtLS1cclxuICAgICAgICAvLyBCb3TDs24gUHJpbmNpcGFsXHJcbiAgICAgICAgdGhpcy5tYWluQnRuID0gY3JlYXRlVUlCdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiBjZW50ZXJYLFxyXG4gICAgICAgICAgICB5OiBoZWlnaHQgKiAwLjY1LFxyXG4gICAgICAgICAgICBsYWJlbDogJ0VOVFJBUicsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuaGFuZGxlU3VibWl0KCksXHJcbiAgICAgICAgICAgIHNjYWxlOiAxLjYsXHJcbiAgICAgICAgICAgIHRleHR1cmVOb3JtYWw6ICdib3RvblNpbXBsZScsXHJcbiAgICAgICAgICAgIHRleHR1cmVIb3ZlcjogJ2JvdG9uU2ltcGxlU2VsZWNjaW9uYWRvJyxcclxuICAgICAgICAgICAgdGV4dFN0eWxlOiB7IC4uLnN0eWxlLCBmb250U2l6ZTogJzE0cHgnLCBjb2xvcjogJyMwMDAnIH0sXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaydcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVGV4dG8gcGFyYSBhbHRlcm5hciBlbnRyZSBMb2dpbiB5IFJlZ2lzdHJvXHJcbiAgICAgICAgdGhpcy50b2dnbGVUZXh0ID0gdGhpcy5hZGQudGV4dChjZW50ZXJYLCBoZWlnaHQgKiAwLjc1LCAnwr9Bw7puIG5vIHRpZW5lcyBjdWVudGE/IFJlZ8Otc3RyYXRlIGFxdcOtJywge1xyXG4gICAgICAgICAgICAuLi5zdHlsZSwgZm9udFNpemU6ICcxNnB4JywgY29sb3I6ICcjMDAwMEVFJywgZm9udFN0eWxlOiAnaXRhbGljJ1xyXG4gICAgICAgIH0pLnNldE9yaWdpbigwLjUpLnNldEludGVyYWN0aXZlKHsgdXNlSGFuZEN1cnNvcjogdHJ1ZSB9KTtcclxuXHJcbiAgICAgICAgdGhpcy50b2dnbGVUZXh0Lm9uKCdwb2ludGVyZG93bicsICgpID0+IHRoaXMudG9nZ2xlTW9kZSgpKTtcclxuXHJcbiAgICAgICAgLy8gQm90w7NuIFZvbHZlclxyXG4gICAgICAgIGNyZWF0ZUljb25CdXR0b24odGhpcywge1xyXG4gICAgICAgICAgICB4OiB3aWR0aCAqIDAuMDYsXHJcbiAgICAgICAgICAgIHk6IGhlaWdodCAqIDAuMDgsXHJcbiAgICAgICAgICAgIHRleHR1cmU6ICdib3RvblZvbHZlcicsXHJcbiAgICAgICAgICAgIHNjYWxlOiAxLFxyXG4gICAgICAgICAgICBob3ZlclNjYWxlOiAxLjEsXHJcbiAgICAgICAgICAgIGNsaWNrU291bmRLZXk6ICdzb25pZG9DbGljaycsXHJcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHRoaXMuc2NlbmUuc3RhcnQoJ01vZGVHYW1lX1NjZW5lJylcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjcmVhdGVIdG1sSW5wdXQoeCwgeSwgcGxhY2Vob2xkZXIsIHN0eWxlLCBpc1Bhc3N3b3JkID0gZmFsc2UpIHtcclxuICAgICAgICBjb25zdCB0eXBlID0gaXNQYXNzd29yZCA/ICdwYXNzd29yZCcgOiAndGV4dCc7XHJcbiAgICAgICAgY29uc3QgZG9tID0gdGhpcy5hZGQuZG9tKHgsIHkpLmNyZWF0ZUZyb21IVE1MKGBcclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCIke3R5cGV9XCIgcGxhY2Vob2xkZXI9XCIke3BsYWNlaG9sZGVyfVwiIFxyXG4gICAgICAgICAgICBzdHlsZT1cIndpZHRoOjE4MHB4OyBwYWRkaW5nOjhweDsgZm9udC1zaXplOjE2cHg7IGZvbnQtZmFtaWx5OiR7c3R5bGUuZm9udEZhbWlseX07IFxyXG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOjEycHg7IGJvcmRlcjogNnB4IHNvbGlkICNGRkFBMDA7IHRleHQtYWxpZ246Y2VudGVyOyBvdXRsaW5lOm5vbmU7XCIgLz5cclxuICAgICAgICBgKTtcclxuXHJcbiAgICAgICAgY29uc3QgaW5wdXRFbCA9IGRvbS5ub2RlLnF1ZXJ5U2VsZWN0b3IoJ2lucHV0Jyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IHRoaXMuaW5wdXQua2V5Ym9hcmQuZW5hYmxlZCA9IGZhbHNlKTtcclxuICAgICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCAoKSA9PiB0aGlzLmlucHV0LmtleWJvYXJkLmVuYWJsZWQgPSB0cnVlKTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gaW5wdXRFbDtcclxuICAgIH1cclxuXHJcbiAgICB0b2dnbGVNb2RlKCkge1xyXG4gICAgICAgIHRoaXMuaXNSZWdpc3RlcmluZyA9ICF0aGlzLmlzUmVnaXN0ZXJpbmc7XHJcbiAgICAgICAgdGhpcy50aXRsZVRleHQuc2V0VGV4dCh0aGlzLmlzUmVnaXN0ZXJpbmcgPyAnUkVHSVNUUkFSU0UnIDogJ0lOSUNJQVIgU0VTScOTTicpO1xyXG4gICAgICAgIHRoaXMubWFpbkJ0bi50ZXh0LnNldFRleHQodGhpcy5pc1JlZ2lzdGVyaW5nID8gJ0NSRUFSIENVRU5UQScgOiAnRU5UUkFSJyk7XHJcbiAgICAgICAgdGhpcy50b2dnbGVUZXh0LnNldFRleHQodGhpcy5pc1JlZ2lzdGVyaW5nID8gJ8K/WWEgdGllbmVzIGN1ZW50YT8gSW5pY2lhIHNlc2nDs24nIDogJ8K/QcO6biBubyB0aWVuZXMgY3VlbnRhPyBSZWfDrXN0cmF0ZSBhcXXDrScpO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGhhbmRsZVN1Ym1pdCgpIHtcclxuICAgICAgICAvLyBPYnRlbmVtb3MgbG9zIHZhbG9yZXMgZGUgbG9zIGVsZW1lbnRvcyBIVE1MIHJlYWxlc1xyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lVmFsdWUgPSB0aGlzLnVzZXJJbnB1dC52YWx1ZS50cmltKCk7XHJcbiAgICAgICAgY29uc3QgcGFzc3dvcmRWYWx1ZSA9IHRoaXMucGFzc0lucHV0LnZhbHVlLnRyaW0oKTtcclxuXHJcbiAgICAgICAgaWYgKHVzZXJuYW1lVmFsdWUubGVuZ3RoIDwgMykge1xyXG4gICAgICAgICAgICBhbGVydChcIlVzdWFyaW8gZGVtYXNpYWRvIGNvcnRvXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocGFzc3dvcmRWYWx1ZS5sZW5ndGggPCAzKSB7XHJcbiAgICAgICAgICAgIGFsZXJ0KFwiQ29udHJhc2XDsWEgZGVtYXNpYWRvIGNvcnRhXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBlbmRwb2ludCA9IHRoaXMuaXNSZWdpc3RlcmluZyA/ICcvcmVnaXN0ZXInIDogJy9sb2dpbic7XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7dGhpcy5hcGlVcmx9JHtlbmRwb2ludH1gLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBcclxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWVWYWx1ZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkVmFsdWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNSZWdpc3RlcmluZykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFNpIGVzIHJlZ2lzdHJvLCBOTyBlbnRyYW1vcyBhbCBqdWVnb1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiwqFSZWdpc3RybyBjb21wbGV0YWRvIGNvbiDDqXhpdG8hIEFob3JhIHB1ZWRlcyBpbmljaWFyIHNlc2nDs24uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlTW9kZSgpOyAvLyBDYW1iaW8gYSBtb2RvIGxvZ2luIGF1dG9tw6F0aWNhbWVudGVcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVzZXJJbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXNzSW5wdXQudmFsdWUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBMb2dpbjogR3VhcmRhbW9zIGRhdG9zIGVuIGVsIHJlZ2lzdHJ5XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ3VzZXJuYW1lJywgdXNlcm5hbWVWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RyeS5zZXQoJ3VzZXJUb2tlbicsIGRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0cnkuc2V0KCdpc0hvc3QnLCBkYXRhLmlzSG9zdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFBlcnNpc3RlbmNpYSBsb2NhbCBwYXJhIGF1dG8tbG9naW5cclxuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndm9sZXlfc2Vzc2lvbl90b2tlbicsIGRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd2b2xleV91c2VybmFtZScsIHVzZXJuYW1lVmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTG9naW4gY29ycmVjdG8uIFVzdWFyaW86ICR7dXNlcm5hbWVWYWx1ZX0gfCBIb3N0OiAke2RhdGEuaXNIb3N0fWApO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NlbmUuc3RhcnQoJ1NlbGVjdFBsYXllcl9TY2VuZScsIHsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGU6IHRoaXMubW9kZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzSG9zdDogZGF0YS5pc0hvc3RcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KGRhdGEuZXJyb3IgfHwgJ0Vycm9yIGVuIGxhIGF1dGVudGljYWNpw7NuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNvbmVjdGFuZG8gYSBsYSBBUEk6XCIsIGVycik7XHJcbiAgICAgICAgICAgIGFsZXJ0KFwiTm8gc2UgcHVkbyBjb25lY3RhciBjb24gZWwgc2Vydmlkb3IuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsIi8vIEJhc2UgZGVsIGp1ZWdvLCBlc3RydWN0dXJhIHkgYWNjZXNvIGEgdG9kb3MgbG9zIGFyY2hpdm9zXHJcbmltcG9ydCBQaGFzZXIgZnJvbSBcInBoYXNlclwiO1xyXG5pbXBvcnQgeyBNZW51X1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL01lbnVfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgR2FtZV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9HYW1lX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IENvbmZpZ3VyYXRpb25fU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvQ29uZmlndXJhdGlvbl9TY2VuZS5qc1wiO1xyXG5pbXBvcnQgeyBDcmVkaXRzX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL0NyZWRpdHNfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgRW5kR2FtZV9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9FbmRHYW1lX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IE1vZGVHYW1lX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL01vZGVHYW1lX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFBhdXNlX1NjZW5lIH0gZnJvbSBcIi4vU2NlbmVzL1BhdXNlX1NjZW5lLmpzXCI7XHJcbmltcG9ydCB7IFNlbGVjdFBsYXllcl9TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9TZWxlY3RQbGF5ZXJfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgU2VsZWN0U2NlbmFyaW9fU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvU2VsZWN0U2NlbmFyaW9fU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgTG9iYnlfU2NlbmUgfSBmcm9tIFwiLi9TY2VuZXMvTG9iYnlfU2NlbmUuanNcIjtcclxuaW1wb3J0IHsgTG9nZ2luZ19TY2VuZSB9IGZyb20gXCIuL1NjZW5lcy9Mb2dnaW5nX1NjZW5lLmpzXCI7XHJcblxyXG4oYXN5bmMgKCkgPT4ge1xyXG4gICAgLy8gZmFsbGJhY2sgcGFyYSBldml0YXIgcHJvYmxlbWFzIGNvbiBsYXMgZnVlbnRlcyBwZXJzb25hbGl6YWRhc1xyXG4gICAgaWYgKGRvY3VtZW50LmZvbnRzICYmIGRvY3VtZW50LmZvbnRzLnJlYWR5KSB7XHJcbiAgICAgICAgYXdhaXQgZG9jdW1lbnQuZm9udHMucmVhZHk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZ2xvYmFscyA9IHtcclxuICAgICAgICBkZWZhdWx0VGV4dFN0eWxlOiB7IGZvbnRGYW1pbHk6ICdNaUZ1ZW50ZScsIGZvbnRTaXplOiAnMjBweCcsIGNvbG9yOiAnI2ZmZmZmZicgfSxcclxuICAgICAgICBtdXNpYzogbnVsbFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBjb25maWcgPSB7XHJcbiAgICAgICAgdHlwZTogUGhhc2VyLkFVVE8sXHJcbiAgICAgICAgd2lkdGg6IDk2MCxcclxuICAgICAgICBoZWlnaHQ6IDU0MCxcclxuICAgICAgICBwYXJlbnQ6ICdnYW1lLWNvbnRhaW5lcicsXHJcbiAgICAgICAgcGh5c2ljczoge1xyXG4gICAgICAgICAgICBkZWZhdWx0OiAnYXJjYWRlJyxcclxuICAgICAgICAgICAgYXJjYWRlOiB7XHJcbiAgICAgICAgICAgICAgICBncmF2aXR5OiB7eDogMCwgeTogMzAwfSxcclxuICAgICAgICAgICAgICAgIGRlYnVnOiB0cnVlIC8vIHBvbmVyIGEgdHJ1ZSBwYXJhIHZlciBsYXMgbMOtbmVhcyBkZSBsb3MgY3VlcnBvcyBmw61zaWNvc1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBkb206IHtcclxuICAgICAgICAgICAgY3JlYXRlQ29udGFpbmVyOiB0cnVlXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjYWxsYmFja3M6IHtcclxuICAgICAgICAgICAgcHJlQm9vdDogKGdhbWUpID0+IHtcclxuICAgICAgICAgICAgICAgIGdhbWUuZ2xvYmFscyA9IGdsb2JhbHM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHNjZW5lOiBbTWVudV9TY2VuZSwgR2FtZV9TY2VuZSwgQ29uZmlndXJhdGlvbl9TY2VuZSwgQ3JlZGl0c19TY2VuZSwgRW5kR2FtZV9TY2VuZSwgUGF1c2VfU2NlbmUsIE1vZGVHYW1lX1NjZW5lLCBTZWxlY3RQbGF5ZXJfU2NlbmUsIFNlbGVjdFNjZW5hcmlvX1NjZW5lLCBMb2JieV9TY2VuZSwgTG9nZ2luZ19TY2VuZV0sXHJcbiAgICAgICAgYmFja2dyb3VuZENvbG9yOicjODY3NWYxJyxcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgZ2FtZSA9bmV3IFBoYXNlci5HYW1lKGNvbmZpZyk7XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZXVubG9hZCcsICgpID0+IHtcclxuICAgICAgICBjb25zdCB1c2VybmFtZSA9IGdhbWUucmVnaXN0cnkuZ2V0KCd1c2VybmFtZScpO1xyXG4gICAgICAgIGlmICh1c2VybmFtZSkge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5zdHJpbmdpZnkoeyB1c2VybmFtZSB9KTtcclxuICAgICAgICAgICAgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtkYXRhXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vanNvbicgfSk7XHJcbiAgICAgICAgICAgIG5hdmlnYXRvci5zZW5kQmVhY29uKCcvYXBpL2xvZ291dCcsIGJsb2IpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59KSgpO1xyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZSIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJQaGFzZXIiLCJTRlhfVk9MVU1FX0tFWSIsIk1VU0lDX1ZPTFVNRV9LRVkiLCJMRUdBQ1lfVk9MVU1FX0tFWSIsInBhcnNlU3RvcmVkVm9sdW1lIiwicmF3IiwiZGVmYXVsdFZhbHVlIiwidiIsIk51bWJlciIsInBhcnNlRmxvYXQiLCJTdHJpbmciLCJpc0Zpbml0ZSIsIkNsYW1wIiwiZ2V0U3RvcmVkVm9sdW1lQnlLZXkiLCJmYWxsYmFja0tleSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJmYWxsYmFja1JhdyIsImdldFN0b3JlZFNmeFZvbHVtZSIsImdldFN0b3JlZE11c2ljVm9sdW1lIiwiYXBwbHlTdG9yZWRWb2x1bWUiLCJzY2VuZSIsIm9wdGlvbnMiLCJzZnhWb2x1bWUiLCJtdXNpY1ZvbHVtZSIsInNvdW5kIiwidm9sdW1lIiwibXVzaWMiLCJnYW1lIiwiZ2xvYmFscyIsInNldFZvbHVtZSIsInBsYXlDbGljayIsInBsYXkiLCJjcmVhdGVVSUJ1dHRvbiIsIngiLCJ5IiwibGFiZWwiLCJvbkNsaWNrIiwidGV4dHVyZU5vcm1hbCIsInRleHR1cmVIb3ZlciIsInNjYWxlIiwidGV4dFN0eWxlIiwiY2xpY2tTb3VuZEtleSIsImJ1dHRvbiIsImFkZCIsInNwcml0ZSIsInNldFNjYWxlIiwic2V0SW50ZXJhY3RpdmUiLCJ1c2VIYW5kQ3Vyc29yIiwidGV4dCIsInNldE9yaWdpbiIsInNldE5vcm1hbCIsInNldFRleHR1cmUiLCJzZXRIb3ZlciIsIm9uIiwicG9pbnRlciIsImdldEJvdW5kcyIsImNvbnRhaW5zIiwiY3JlYXRlSWNvbkJ1dHRvbiIsInRleHR1cmUiLCJob3ZlclNjYWxlIiwiTWVudV9TY2VuZSIsImNvbnN0cnVjdG9yIiwic3VwZXIiLCJwcmVsb2FkIiwidGhpcyIsImxvYWQiLCJpbWFnZSIsImF1ZGlvIiwiY3JlYXRlIiwic291bmRLZXkiLCJsb29wIiwidHJ5UGxheSIsImlzUGxheWluZyIsImVyciIsImNvbnNvbGUiLCJ3YXJuIiwiaW5wdXQiLCJvbmNlIiwiYXN5bmMiLCJjdHgiLCJjb250ZXh0Iiwic3RhdGUiLCJyZXN1bWUiLCJlbnN1cmVMb29waW5nTXVzaWMiLCJzdHlsZSIsImRlZmF1bHRUZXh0U3R5bGUiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJjb2xvciIsIndpZHRoIiwiaGVpZ2h0IiwiY2VudGVyWCIsInJpZ2h0SGFsZlgiLCJzZXREZXB0aCIsInNldERpc3BsYXlTaXplIiwiZmlyc3RCdXR0b25ZIiwiYnV0dG9uVGV4dFN0eWxlIiwic3RhcnQiLCJidXR0b25TcGFjaW5nIiwiaGFuZGxlTG9nb3V0IiwidXNlcm5hbWUiLCJyZWdpc3RyeSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicmVtb3ZlSXRlbSIsIlBPV0VSVVBfRFVSQVRJT05fTVMiLCJ2ZWxvY2lkYWQiLCJyYWxlbnRpemFyIiwicGFyYWxpemFyIiwicG9yMiIsInBvcjMiLCJQbGF5ZXIiLCJpZCIsImNoYXJhY3RlclR5cGUiLCJiYXNlTW92ZVNwZWVkIiwibW92ZVNwZWVkIiwianVtcFNwZWVkIiwiYWN0aXZlUG93ZXJVcHMiLCJpc1BhcmFseXplZCIsInBhcmFseXNpc1R3ZWVuIiwic3BlZWRFZmZlY3RBY3RpdmUiLCJzbG93RWZmZWN0QWN0aXZlIiwic2NvcmVNdWx0aXBsaWVyIiwibXVsdGlwbGllclRleHQiLCJzdHJva2UiLCJzdHJva2VUaGlja25lc3MiLCJzZXRWaXNpYmxlIiwicG93ZXJVcEludmVudG9yeSIsImlzUmVjZWl2aW5nIiwiYm91bmRzTGVmdCIsImJvdW5kc1JpZ2h0IiwiYm91bmRzVG9wIiwiYm91bmRzQm90dG9tIiwiQ0hBUkFDVEVSX0NPTkZJRyIsImNoYXJhY3RlckEiLCJ0ZXh0dXJlS2V5Iiwic3RhcnRGcmFtZSIsImlkbGVMZWZ0QW5pbSIsImlkbGVSaWdodEFuaW0iLCJydW5MZWZ0QW5pbSIsInJ1blJpZ2h0QW5pbSIsImp1bXBMZWZ0QW5pbSIsImp1bXBSaWdodEFuaW0iLCJyZWNlaXZlTGVmdEFuaW0iLCJyZWNlaXZlUmlnaHRBbmltIiwiY2hhcmFjdGVyQiIsImNoYXJhY3RlckMiLCJjb25maWciLCJwaHlzaWNzIiwic2V0U2l6ZSIsInNldERhdGEiLCJmYWNpbmciLCJpc09uR3JvdW5kIiwiaXNKdW1waW5nIiwianVtcFN0YXJ0VGltZSIsImFuaW0iLCJlcnJvciIsImlzR3JvdW5kZWQiLCJibG9ja2VkIiwiZG93biIsInRvdWNoaW5nIiwiaXNOZWFyR3JvdW5kIiwidGhyZXNob2xkIiwiZ3JvdW5kWSIsImZlZXRZIiwiTWF0aCIsImFicyIsIm1vdmVMZWZ0Iiwic2V0VmVsb2NpdHlYIiwicGxheUFuaW1hdGlvbiIsIm1vdmVSaWdodCIsImp1bXBMZWZ0IiwidGltZSIsIm5vdyIsInNldFZlbG9jaXR5WSIsInBsYXlTZngiLCJzZngiLCJqdW1wIiwianVtcFJpZ2h0IiwicmVjZWl2ZUxlZnQiLCJyZWNlaXZlUmlnaHQiLCJpZGxlTGVmdCIsImlkbGVSaWdodCIsInNldEJvdW5kcyIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsImNsYW1wV2l0aGluQm91bmRzIiwiaGFsZldpZHRoIiwic2V0UG9zaXRpb24iLCJzZXRWZWxvY2l0eSIsInVwZGF0ZU11bHRpcGxpZXJUZXh0UG9zaXRpb24iLCJvZmZzZXRZIiwiZGlzcGxheUhlaWdodCIsImFuaW1LZXkiLCJhbmltcyIsImN1cnJlbnRBbmltIiwidXBkYXRlIiwid2FzT25Hcm91bmQiLCJjdXJyZW50S2V5IiwiYXBwbHlQb3dlclVwIiwidHlwZSIsImxlbmd0aCIsInB1c2giLCJ1c2VOZXh0UG93ZXJVcCIsInNoaWZ0IiwiYWN0aXZhdGVQb3dlclVwIiwiYXBwbHlPclJlZnJlc2hUaW1lZEVmZmVjdCIsIm9wcG9uZW50IiwiZ2V0T3Bwb25lbnQiLCJ1cGRhdGVQb3dlclVwcyIsInNwZWVkTmVlZHNSZWNhbGMiLCJzY29yZU5lZWRzUmVjYWxjIiwic2V0U3BlZWRFZmZlY3QiLCJzZXRTbG93RWZmZWN0Iiwic2V0UGFyYWx5emVkIiwicmVjYWxjdWxhdGVNb3ZlU3BlZWQiLCJyZWNhbGN1bGF0ZVNjb3JlRWZmZWN0Iiwic2V0VGludCIsInNldEFscGhhIiwic3RvcCIsInR3ZWVucyIsInRhcmdldHMiLCJhbHBoYSIsInlveW8iLCJkdXJhdGlvbiIsInJlcGVhdCIsInJlZnJlc2hQb3dlclVwVmlzdWFscyIsImFjdGl2ZSIsIm11bHQiLCJtdWx0aXBsaWVyIiwibWF4Iiwic2V0VGV4dCIsImR1cmF0aW9uTXMiLCJjbGVhclRpbnQiLCJwbGF5ZXJzIiwiQXJyYXkiLCJmcm9tIiwidmFsdWVzIiwiZmluZCIsInAiLCJBcHBseVBvd2VyVXBDb21tYW5kIiwicGxheWVyIiwicG93ZXJVcFR5cGUiLCJzdG9yZWQiLCJleGVjdXRlIiwiUG93ZXJVcCIsImlzQ29sbGVjdGVkIiwiX2Rlc3Ryb3llZCIsIl9jb29sZG93blVudGlsIiwiZmFkZVN0YXJ0IiwibGlmZXRpbWUiLCJfb3ZlcmxhcHMiLCJmYWRlVHdlZW4iLCJfbGlmZXRpbWVUaW1lciIsInN0YXRpY0ltYWdlIiwicmVmcmVzaEJvZHkiLCJmYWRlRGVsYXkiLCJtaW4iLCJmYWRlRHVyYXRpb24iLCJkZWxheSIsImZvckVhY2giLCJjIiwib3ZlcmxhcCIsImNvbGxlY3QiLCJkZWxheWVkQ2FsbCIsImRlc3Ryb3kiLCJsb2ciLCJjbWQiLCJjb21tYW5kUHJvY2Vzc29yIiwicHJvY2VzcyIsInVwZGF0ZVBsYXllckludmVudG9yeVVJIiwiaXNBcnJheSIsInJlbW92ZSIsInBvd2VyVXBzIiwiZmlsdGVyIiwiQmFsbCIsInNldEJvdW5jZSIsInNldENvbGxpZGVXb3JsZEJvdW5kcyIsImxhc3RUb3VjaGVkQnkiLCJ0b3VjaENvdW50IiwiY291cnRTaWRlIiwiaXNCYWxsTGl2ZSIsIm5ldFgiLCJsYXN0SGl0VGltZSIsImxhc3RIaXRQbGF5ZXJJZCIsImhpdCIsInBsYXllckZhY2luZ0RpcmVjdGlvbiIsIm9uRmFsdGEiLCJ2ZWxvY2l0eVgiLCJ2ZWxvY2l0eVkiLCJyZWNlaXZlIiwic3Bpa2UiLCJiYXNlU3BlZWRYIiwiY3Jvc3NOZXQiLCJvbkdyb3VuZGVkIiwiYmFsbE9uTGVmdCIsImJhbGxPblJpZ2h0Iiwib25SYWxseUVuZCIsInJlc2V0UmFsbHkiLCJmYWx0YVR5cGUiLCJmYWx0aW5nUGxheWVyIiwic2NvcmluZ1BsYXllcklkIiwiZXZlbnRzIiwiZW1pdCIsIl9nZXRTdWJ0bGVOdWRnZSIsInNwYXduWCIsInNpZGVQYWRkaW5nIiwid29ybGRXaWR0aCIsIm9mZnNldCIsInJhbmRvbSIsInNldFNlcnZlUG9zaXRpb24iLCJzY29yaW5nUGxheWVyIiwiY2xhbXAiLCJ2YWx1ZSIsIm51ZGdlVmVsb2NpdHlYIiwibnVkZ2UiLCJDb21tYW5kUHJvY2Vzc29yIiwiTWFwIiwiZ2FtZVNjZW5lIiwic2V0UGxheWVycyIsInNldEdhbWVTY2VuZSIsImNvbW1hbmQiLCJDb21tYW5kIiwic2VyaWFsaXplIiwiZ2V0UGxheWVyIiwiTW92ZVBsYXllckNvbW1hbmQiLCJkaXJlY3Rpb24iLCJwbGF5ZXJJZCIsIkdhbWVfU2NlbmUiLCJ0aWVtcG9Ub3RhbCIsInRpZW1wb1Jlc3RhbnRlIiwidGltZXJUZXh0IiwidGltZXJFdmVudCIsImluaXQiLCJkYXRhIiwiaW5wdXRNYXBwaW5ncyIsInBsYXllcjEiLCJwbGF5ZXIyIiwic2VsZWN0ZWRTY2VuYXJpbyIsImJhbGwiLCJzY29yZVAxIiwic2NvcmVQMiIsInNldHNQMSIsInNldHNQMiIsIm1heFNldHMiLCJjdXJyZW50U2V0Iiwic3ByaXRlc2hlZXQiLCJmcmFtZVdpZHRoIiwiZnJhbWVIZWlnaHQiLCJ3b3JsZEhlaWdodCIsIndoaXN0bGUiLCJwb2ludCIsInNldFNjcm9sbEZhY3RvciIsInRpbWVySWNvbiIsInNldEZyYW1lIiwic2V0V2lubmVyVGV4dCIsImFkZEV2ZW50IiwiY2FsbGJhY2siLCJ1cGRhdGVUaW1lciIsImNhbGxiYWNrU2NvcGUiLCJyZWQiLCJzdGF0aWNTcHJpdGUiLCJyZWRUZXh0dXJlIiwidGV4dHVyZXMiLCJnZXRTb3VyY2VJbWFnZSIsInNldE9mZnNldCIsInVwZGF0ZUZyb21HYW1lT2JqZWN0IiwiX2NyZWF0ZUFuaW1hdGlvbnMiLCJwb2ludHNMZWZ0IiwicG9pbnRzUmlnaHQiLCJzY29yZUZyYW1lTGVmdCIsInNjb3JlRnJhbWVSaWdodCIsInNjb3JlTGVmdCIsInJpZ2h0U2NvcmUiLCJncm91bmRIZWlnaHQiLCJncm91bmQiLCJyZWN0YW5nbGUiLCJleGlzdGluZyIsIl9jcmVhdGVQbGF5ZXJzIiwiX3NldHVwUGh5c2ljc1dvcmxkIiwiX3NldHVwSW5wdXRNYXBwaW5ncyIsIm1heFBvd2VyVXBzIiwicG93ZXJVcFNwYXduQ29uZmlnIiwibWluRGVsYXlNcyIsIm1heERlbGF5TXMiLCJ3ZWlnaHRzIiwiY29vbGRvd25NcyIsInBvd2VyVXBMYXN0U3Bhd25BdCIsImludmVudG9yeVVJIiwic2NoZWR1bGVQb3dlclVwU3Bhd24iLCJpbnZlbnRvcnlGcmFtZXMiLCJfY3JlYXRlQmFsbCIsIl9zZXR1cEJhbGxDb2xsaXNpb25zIiwiX3NldHVwQmFsbEV2ZW50cyIsImtleWJvYXJkIiwicGF1c2UiLCJwYXVzZWQiLCJsYXVuY2giLCJCZXR3ZWVuIiwiX2dldFdlaWdodGVkUG93ZXJVcFR5cGUiLCJwb3dlclVwIiwiZW50cmllcyIsIndlaWdodCIsImNvb2xkb3duIiwibGFzdCIsInRvdGFsIiwicmVkdWNlIiwic3VtIiwicm9sbCIsIl9oYW5kbGVJbnB1dEZvckFsbFBsYXllcnMiLCJtaW51dG9zIiwiZmxvb3IiLCJzZWd1bmRvcyIsImZvcm1hdG8iLCJ0b1N0cmluZyIsInBhZFN0YXJ0IiwiX2VuZFNldCIsIl9yZXNldFNldCIsInVpIiwiaSIsImZyYW1lcyIsImdlbmVyYXRlRnJhbWVOdW1iZXJzIiwiZW5kIiwiZnJhbWVSYXRlIiwicmV2ZXJzZSIsImNoYXJQMSIsImNoYXJhY3RlciIsImNoYXJQMiIsInAxIiwicDIiLCJzZXQiLCJjb3VydEJvdHRvbSIsImNvbGxpZGVyIiwibGVmdEtleSIsInJpZ2h0S2V5IiwianVtcEtleSIsInJlY2VpdmVLZXkiLCJwb3dlcktleSIsIm1hcCIsImxlZnRLZXlPYmoiLCJhZGRLZXkiLCJLZXlib2FyZCIsIktleUNvZGVzIiwicmlnaHRLZXlPYmoiLCJqdW1wS2V5T2JqIiwicmVjZWl2ZUtleU9iaiIsInBvd2VyS2V5T2JqIiwibWFwcGluZyIsImlkbGVEaXIiLCJpc0Rvd24iLCJKdXN0RG93biIsInJlY2VpdmVEaXIiLCJqdW1wRGlyIiwiX29uQmFsbFBsYXllckNvbGxpc2lvbiIsInZlbG9jaXR5Iiwic2NvcmVySWQiLCJwb2ludHNUb0FkZCIsIl9jaGVja1dpbkNvbmRpdGlvbiIsInBsYXllckRpcmVjdGlvbiIsIl9lbmRHYW1lIiwid2lubmVyIiwid29ybGQiLCJzY29yZURpZmYiLCJ3aW5uZXJMYWJlbCIsIkNvbmZpZ3VyYXRpb25fU2NlbmUiLCJtdXNpY1ZvbHVtZVNsaWRlciIsInNmeFZvbHVtZVNsaWRlciIsImhhc1NmeCIsImhhc011c2ljIiwibGVnYWN5Vm9sdW1lIiwiZ2V0TGVnYWN5Vm9sdW1lIiwiaW5pdGlhbFZvbHVtZSIsInNldEl0ZW0iLCJlbnN1cmVTdG9yZWRBdWRpb1NldHRpbmdzIiwiaW5pdGlhbE11c2ljVm9sdW1lIiwiaW5pdGlhbFNmeFZvbHVtZSIsImRvbSIsImNyZWF0ZUZyb21IVE1MIiwiYWRkTGlzdGVuZXIiLCJldmVudCIsInRhcmdldCIsIkhUTUxJbnB1dEVsZW1lbnQiLCJzZXRTdG9yZWRNdXNpY1ZvbHVtZSIsInNldFN0b3JlZFNmeFZvbHVtZSIsImxpbmUiLCJncmFwaGljcyIsImxpbmVTdHlsZSIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZVBhdGgiLCJzZXBhcmF0aW9uIiwiRXZlbnRzIiwiU0hVVERPV04iLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJDcmVkaXRzX1NjZW5lIiwibm9tYnJlc0VxdWlwbyIsImZyYW1lWSIsImZyYW1lIiwic3RhcnRZIiwibm9tYnJlIiwiaXNIZWFkZXIiLCJFbmRHYW1lX1NjZW5lIiwibmFtZSIsIndpbm5lclRleHQiLCJNb2RlR2FtZV9TY2VuZSIsImZvbnRTdHlsZSIsImJ1dHRvblkiLCJzcGFjaW5nIiwic3RhcnRYIiwic3RhcnRNb2RlIiwibW9kZSIsIlBhdXNlX1NjZW5lIiwicmVtb3ZlQWxsS2V5cyIsIlNlbGVjdFBsYXllcl9TY2VuZSIsImN1cnJlbnRUdXJuIiwicGxheWVySW5wdXRzIiwicGxheWVySW5wdXRFbHMiLCJ0dXJuVGV4dCIsImlzSG9zdCIsImNyZWF0ZUxvY2FsVUkiLCJjcmVhdGVPbmxpbmVVSSIsImVuYWJsZWQiLCJiaWdJbWFnZSIsImJpZ0ZyYW1lIiwiY3JlYXRlUGxheWVyc1VJIiwiY3JlYXRlQ2hhcmFjdGVyTWluaWF0dXJlcyIsInVwZGF0ZVR1cm5UZXh0IiwiaGFuZGxlTmV4dCIsImNyZWF0ZVBsYXllck9ubGluZVVJIiwicG9zaXRpb25zWCIsImlkeCIsImlucHV0RWwiLCJub2RlIiwicXVlcnlTZWxlY3RvciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwic3RvcFByb3BhZ2F0aW9uIiwicmVwbGFjZSIsInNldEZpbHRlciIsIkZpbHRlck1vZGUiLCJORUFSRVNUIiwic2V0U3Ryb2tlU3R5bGUiLCJwb3NpdGlvbnMiLCJtaW5pIiwib25NaW5pQ2xpY2tlZCIsImNoYXJhY3Rlck5hbWUiLCJvd25lckluZGV4IiwiZmluZEluZGV4Iiwib3duZXIiLCJ0YXJnZXRJbmRleCIsIm90aGVyIiwibmFtZTEiLCJ0cmltIiwicDFIYXNDaGFyIiwibmFtZTIiLCJwMkhhc0NoYXIiLCJmbGFzaFR1cm5UZXh0IiwibXMiLCJvbGRDb2xvciIsInNldENvbG9yIiwicDFIYXNOYW1lIiwicDJIYXNOYW1lIiwiYWxsQ2hhcnMiLCJhbGxOYW1lcyIsInVuZGVmaW5lZCIsIlNlbGVjdFNjZW5hcmlvX1NjZW5lIiwic2VsZWN0ZWRJbWFnZSIsImVzY2VuYXJpb3MiLCJzY2VuYXJpb0J1dHRvbnMiLCJzZXRTZWxlY3RlZFNjZW5hcmlvIiwiYm90b24iLCJ0ZXh0byIsIkFsaWduIiwiSW4iLCJDZW50ZXIiLCJMb2JieV9TY2VuZSIsImlzUGxheWVyUmVhZHkiLCJ0YXJnZXRGcmFtZVdpZHRoIiwidGFyZ2V0RnJhbWVIZWlnaHQiLCJwMVN0YXR1c1RleHQiLCJwMlN0YXR1c1RleHQiLCJidG5MaXN0byIsInRvZ2dsZVJlYWR5IiwiYnRuVm9sdmVyIiwiaGFuZGxlQmFjayIsImVtb2ppIiwibnVldm9UZXh0b0JvdG9uIiwic2V0TGFiZWwiLCJkaXNhYmxlSW50ZXJhY3RpdmUiLCJ0YXJnZXRTY2VuZSIsIkxvZ2dpbmdfU2NlbmUiLCJhcGlVcmwiLCJzYXZlZE5hbWUiLCJzYXZlZFBhc3MiLCJyZXNwb25zZSIsInBhc3N3b3JkIiwicmVzRGF0YSIsImpzb24iLCJvayIsInRpdGxlVGV4dCIsIm1hcmNvIiwidXNlcklucHV0IiwiY3JlYXRlSHRtbElucHV0IiwicGFzc0lucHV0IiwibWFpbkJ0biIsImhhbmRsZVN1Ym1pdCIsInRvZ2dsZVRleHQiLCJ0b2dnbGVNb2RlIiwicGxhY2Vob2xkZXIiLCJpc1Bhc3N3b3JkIiwiaXNSZWdpc3RlcmluZyIsInVzZXJuYW1lVmFsdWUiLCJwYXNzd29yZFZhbHVlIiwiYWxlcnQiLCJlbmRwb2ludCIsInRva2VuIiwiZG9jdW1lbnQiLCJmb250cyIsInJlYWR5IiwicGFyZW50IiwiZGVmYXVsdCIsImFyY2FkZSIsImdyYXZpdHkiLCJkZWJ1ZyIsImNyZWF0ZUNvbnRhaW5lciIsImNhbGxiYWNrcyIsInByZUJvb3QiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ3aW5kb3ciLCJibG9iIiwiQmxvYiIsIm5hdmlnYXRvciIsInNlbmRCZWFjb24iXSwic291cmNlUm9vdCI6IiJ9